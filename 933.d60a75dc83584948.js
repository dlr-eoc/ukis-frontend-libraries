"use strict";(self.webpackChunkdemo_maps=self.webpackChunkdemo_maps||[]).push([[933],{3522:(X,M,y)=>{y.d(M,{N8:()=>_t,Sj:()=>yt});var f=y(1686),v=y(456),L=y(3982),j=y(1542),w=y(584);L.h.addIcons(j.A,w.Q);var u=y(6067);L.h.addIcons(["ukis-icon",'<svg version="1.1" viewBox="0 0 36 36" preserveAspectRatio="xMidYMid meet" class="has-solid"\nxmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" focusable="false" role="img">\n<title>ukis</title>\n<path class="clr-i-solid clr-i-solid-path-1" d="M18,31.5c4.7,0,8.9-2.4,11.3-6.1H6.7C9.1,29.1,13.3,31.5,18,31.5z"/>\n<path class="clr-i-solid clr-i-solid-path-2" d="M4.5,17.1c0,0.3,0,0.6,0,0.9c0,1.7,0.3,3.4,0.9,4.9h21.2L4.5,17.1z"/>\n<path class="clr-i-solid clr-i-solid-path-3" d="M31,21.5c0.3-1.1,0.5-2.3,0.5-3.5c0-3-1-5.7-2.6-7.9L8.7,15.6L31,21.5z"/>\n<path class="clr-i-solid clr-i-solid-path-4" d="M18,4.5c-6,0-11.2,4-12.9,9.5l22-6C24.7,5.8,21.5,4.5,18,4.5z"/>\n</svg>'],["dlr-icon",'<svg version="1.1" viewBox="0 0 36 36" preserveAspectRatio="xMidYMid meet" class="has-solid"\nxmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" focusable="false" role="img">\n<title>dlr</title>\n<path class="clr-i-solid clr-i-solid-path-1" d="M25.8,13.2V3.8l-9.4,9.4h-8l-7.7,7.7l9.4,0v9.4l9.4-9.4h8l7.7-7.7H25.8L25.8,13.2z M23.9,8.5v4.7h-4.7L23.9,8.5\nL23.9,8.5z M5.4,18.9l3.8-3.8h5.3l-3.8,3.8H5.4L5.4,18.9z M12.1,25.6v-4.8h4.8L12.1,25.6L12.1,25.6z M18.8,18.9h-5.4l3.8-3.8h5.4\nL18.8,18.9L18.8,18.9z M26.8,18.9h-5.2l3.8-3.8h5.2L26.8,18.9L26.8,18.9z M19.6,26.5h1.6c1.8,0,3.3,0.6,3.3,2.9\nc0,2.3-1.6,2.9-3.3,2.9h-1.6V26.5L19.6,26.5z M20.8,31.3h0.6c1,0,1.9-0.7,1.9-2c0-1.2-0.9-2-1.9-2h-0.6V31.3L20.8,31.3z M25.7,26.5\nh1.1v4.8h2.2v0.9h-3.4V26.5L25.7,26.5z M30.1,26.5h1.2c1.2,0,2.7,0,2.7,1.6c0,0.7-0.5,1.2-1.2,1.3v0c0.3,0,0.5,0.3,0.6,0.6l0.9,2.2\nh-1.3l-0.7-1.8c-0.2-0.4-0.3-0.6-0.8-0.6h-0.4v2.4h-1.1V26.5L30.1,26.5z M31.3,28.9h0.4c0.6,0,1.2-0.1,1.2-0.8\nc0-0.7-0.6-0.7-1.2-0.7h-0.4V28.9L31.3,28.9z"/>\n</svg>'],u.a);var e=y(3279);function k(n,p){}let E=(()=>{class n{constructor(t){this.viewContainerRef=t}static{this.\u0275fac=function(s){return new(s||n)(e.rXU(e.c1b))}}static{this.\u0275dir=e.FsC({type:n,selectors:[["","ukisAddHost",""]],standalone:!0})}}return n})(),Y=(()=>{class n{constructor(){this.dynamicComponentChange=new e.bkB,this.subs=[]}loadComponent(){this.dynamicComponent&&(this.viewContainerRef=this.ukisAddHost.viewContainerRef,this.viewContainerRef.clear(),this.componentRef=this.viewContainerRef.createComponent(this.dynamicComponent.component),this.setInputOutputs())}setInputOutputs(){this.componentRef&&this.dynamicComponent.inputs&&Object.keys(this.dynamicComponent.inputs).map(s=>{const i=s;if(this.dynamicComponent.inputs){this.componentRef.instance[i]=this.dynamicComponent.inputs[i];const l=`${i}Change`;if(this.componentRef.instance[l]&&this.componentRef.instance[l]instanceof e.bkB){const b=this.componentRef.instance[l].subscribe(I=>{this.dynamicComponent.inputs&&(this.dynamicComponent.inputs[i]=I),this.dynamicComponent.outputs&&this.dynamicComponent.outputs[l]&&this.dynamicComponent.outputs[l](I),this.dynamicComponentChange.emit(this.dynamicComponent)});this.subs.push(b)}}})}ngOnChanges(t){t.dynamicComponent&&(Array.isArray(this.subs)&&this.subs.map(s=>s.unsubscribe()),this.subs.map(s=>s.unsubscribe()),this.subs=[],this.setInputOutputs())}ngOnInit(){this.loadComponent()}ngOnDestroy(){this.componentRef&&(this.subs.map(t=>t.unsubscribe()),this.componentRef.destroy(),this.componentRef=null),this.viewContainerRef&&(this.viewContainerRef.clear(),this.viewContainerRef=null)}static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["ukis-dynamic-component"]],viewQuery:function(s,i){if(1&s&&e.GBs(E,7),2&s){let l;e.mGM(l=e.lsd())&&(i.ukisAddHost=l.first)}},inputs:{dynamicComponent:"dynamicComponent"},outputs:{dynamicComponentChange:"dynamicComponentChange"},standalone:!0,features:[e.OA$,e.aNF],decls:1,vars:0,consts:[["ukisAddHost",""]],template:function(s,i){1&s&&e.DNE(0,k,0,0,"ng-template",0)},dependencies:[E],encapsulation:2})}}return n})();var R=y(6256);const Z=["folder",(0,R.s)({outline:'<path d="M30,9H16.42L14.11,5.82A2,2,0,0,0,12.49,5H6A2,2,0,0,0,4,7V29a2,2,0,0,0,2,2H30a2,2,0,0,0,2-2V11A2,2,0,0,0,30,9Zm0,20H6V13h7.31a2,2,0,0,0,2-2H6V7h6.49l2.61,3.59a1,1,0,0,0,.81.41H30Z"/>',outlineAlerted:'<path d="M30,15.4V29H6V13h7.31a2,2,0,0,0,2-2H6V7h6.49l2.61,3.59a1,1,0,0,0,.81.41h2.73A3.66,3.66,0,0,1,19,9.89L19.56,9H16.42L14.11,5.82A2,2,0,0,0,12.49,5H6A2,2,0,0,0,4,7V29a2,2,0,0,0,2,2H30a2,2,0,0,0,2-2V15.4Z"/>',outlineBadged:'<path d="M30,13.5V29H6V13h7.31a2,2,0,0,0,2-2H6V7h6.49l2.61,3.59a1,1,0,0,0,.81.41h8.51a7.5,7.5,0,0,1-1.29-2H16.42L14.11,5.82A2,2,0,0,0,12.49,5H6A2,2,0,0,0,4,7V29a2,2,0,0,0,2,2H30a2,2,0,0,0,2-2V13.22A7.49,7.49,0,0,1,30,13.5Z"/>',solid:'<path d="M30,9H16.42L14.11,5.82A2,2,0,0,0,12.49,5H6A2,2,0,0,0,4,7V29a2,2,0,0,0,2,2H30a2,2,0,0,0,2-2V11A2,2,0,0,0,30,9ZM6,11V7h6.49l2.72,4Z"/>',solidAlerted:'<path d="M22.23,15.4A3.68,3.68,0,0,1,19,9.89L19.56,9H16.42L14.11,5.82A2,2,0,0,0,12.49,5H6A2,2,0,0,0,4,7V29a2,2,0,0,0,2,2H30a2,2,0,0,0,2-2V15.4ZM6,11V7h6.49l2.72,4Z"/>',solidBadged:'<path d="M30,13.5A7.5,7.5,0,0,1,23.13,9H16.42L14.11,5.82A2,2,0,0,0,12.49,5H6A2,2,0,0,0,4,7V29a2,2,0,0,0,2,2H30a2,2,0,0,0,2-2V13.22A7.49,7.49,0,0,1,30,13.5ZM6,11V7h6.49l2.72,4Z"/>'})];var U=y(4326),z=y(9056),_=y(8604),h=y(7937),o=y(7846);const r=["image",(0,R.s)({outline:'<path d="M32,4H4A2,2,0,0,0,2,6V30a2,2,0,0,0,2,2H32a2,2,0,0,0,2-2V6A2,2,0,0,0,32,4ZM4,30V6H32V30Z"/><path d="M8.92,14a3,3,0,1,0-3-3A3,3,0,0,0,8.92,14Zm0-4.6A1.6,1.6,0,1,1,7.33,11,1.6,1.6,0,0,1,8.92,9.41Z"/><path d="M22.78,15.37l-5.4,5.4-4-4a1,1,0,0,0-1.41,0L5.92,22.9v2.83l6.79-6.79L16,22.18l-3.75,3.75H15l8.45-8.45L30,24V21.18l-5.81-5.81A1,1,0,0,0,22.78,15.37Z"/>',outlineBadged:'<path d="M11.93,11a3,3,0,1,0-3,3A3,3,0,0,0,11.93,11Zm-4.6,0a1.6,1.6,0,1,1,1.6,1.6A1.6,1.6,0,0,1,7.33,11Z"/><path d="M17.38,20.77l-4-4a1,1,0,0,0-1.41,0L5.92,22.9v2.83l6.79-6.79L16,22.18l-3.75,3.75H15l8.45-8.45L30,24V21.18l-5.81-5.81a1,1,0,0,0-1.41,0Z"/><path d="M32,13.22V30H4V6H22.5a7.49,7.49,0,0,1,.28-2H4A2,2,0,0,0,2,6V30a2,2,0,0,0,2,2H32a2,2,0,0,0,2-2V12.34A7.45,7.45,0,0,1,32,13.22Z"/>',solid:'<path d="M32,4H4A2,2,0,0,0,2,6V30a2,2,0,0,0,2,2H32a2,2,0,0,0,2-2V6A2,2,0,0,0,32,4ZM8.92,8a3,3,0,1,1-3,3A3,3,0,0,1,8.92,8ZM6,27V22.9l6-6.08a1,1,0,0,1,1.41,0L16,19.35,8.32,27Zm24,0H11.15l6.23-6.23,5.4-5.4a1,1,0,0,1,1.41,0L30,21.18Z"/>',solidBadged:'<path d="M30,13.5A7.48,7.48,0,0,1,22.78,4H4A2,2,0,0,0,2,6V30a2,2,0,0,0,2,2H32a2,2,0,0,0,2-2V12.34A7.46,7.46,0,0,1,30,13.5ZM8.92,8a3,3,0,1,1-3,3A3,3,0,0,1,8.92,8ZM6,27V22.9l6-6.08a1,1,0,0,1,1.41,0L16,19.35,8.32,27Zm24,0H11.15l6.23-6.23,5.4-5.4a1,1,0,0,1,1.41,0L30,21.18Z"/>'})];var c=y(8299);const H=["details",(0,R.s)({outline:'<path d="M32,6H4A2,2,0,0,0,2,8V28a2,2,0,0,0,2,2H32a2,2,0,0,0,2-2V8A2,2,0,0,0,32,6Zm0,22H4V8H32Z"/><path d="M9,14H27a1,1,0,0,0,0-2H9a1,1,0,0,0,0,2Z"/><path d="M9,18H27a1,1,0,0,0,0-2H9a1,1,0,0,0,0,2Z"/><path d="M9,22H19a1,1,0,0,0,0-2H9a1,1,0,0,0,0,2Z"/>',solid:'<path d="M32,6H4A2,2,0,0,0,2,8V28a2,2,0,0,0,2,2H32a2,2,0,0,0,2-2V8A2,2,0,0,0,32,6ZM19,22H9a1,1,0,0,1,0-2H19a1,1,0,0,1,0,2Zm8-4H9a1,1,0,0,1,0-2H27a1,1,0,0,1,0,2Zm0-4H9a1,1,0,0,1,0-2H27a1,1,0,0,1,0,2Z"/>'})],ne=["zoom-in",(0,R.s)({outline:'<path d="M16,4A12,12,0,1,0,28,16,12,12,0,0,0,16,4Zm0,21.91A10,10,0,1,1,26,16,10,10,0,0,1,16,25.91Z"/><path d="M31.71,29.69l-5.17-5.17A13.68,13.68,0,0,1,25.15,26l5.15,5.15a1,1,0,0,0,1.41-1.41Z"/><path d="M21,15H17V11a1,1,0,0,0-2,0v4H11a1,1,0,0,0,0,2h4v4a1,1,0,0,0,2,0V17h4a1,1,0,0,0,0-2Z"/>'})],ie=["trash",(0,R.s)({outline:'<path d="M27.14,34H8.86A2.93,2.93,0,0,1,6,31V11.23H8V31a.93.93,0,0,0,.86,1H27.14A.93.93,0,0,0,28,31V11.23h2V31A2.93,2.93,0,0,1,27.14,34Z"/><path d="M30.78,9H5A1,1,0,0,1,5,7H30.78a1,1,0,0,1,0,2Z"/><rect x="21" y="13" width="2" height="15"/><rect x="13" y="13" width="2" height="15"/><path d="M23,5.86H21.1V4H14.9V5.86H13V4a2,2,0,0,1,1.9-2h6.2A2,2,0,0,1,23,4Z"/>',solid:'<path d="M6,9V31a2.93,2.93,0,0,0,2.86,3H27.09A2.93,2.93,0,0,0,30,31V9Zm9,20H13V14h2Zm8,0H21V14h2Z"/><path d="M30.73,5H23V4A2,2,0,0,0,21,2h-6.2A2,2,0,0,0,13,4V5H5A1,1,0,1,0,5,7H30.73a1,1,0,0,0,0-2Z"/>'})];var T=y(213),Q=y(6610),ye=y(5982),ue=y(5889),me=y(2275),O=y(7222);const he=["*"],_e=n=>({expanded:n}),W=n=>({disabled:n}),K=n=>({active:n});function fe(n,p){if(1&n){const t=e.RV6();e.j41(0,"cds-icon",9),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.showProperties())}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("ngStyle",t.getExpandShape())("ngClass",e.eq3(2,W,t.is_expandable()))}}function Ce(n,p){if(1&n){const t=e.RV6();e.j41(0,"span",10),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.showProperties())}),e.EFF(1),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("title",t.getLayerName(t.layer)),e.R7$(),e.SpI(" ",t.getLayerName(t.layer)," ")}}function ge(n,p){if(1&n){const t=e.RV6();e.j41(0,"span")(1,"cds-icon",11),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.setLayerIndex(i.layer,"down",i.group))}),e.k0s(),e.j41(2,"cds-icon",12),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.setLayerIndex(i.layer,"up",i.group))}),e.k0s()()}if(2&n){const t=e.XpG();e.R7$(),e.Y8G("hidden",t.layerGroups&&1==t.layerGroups.length)("ngClass",e.eq3(4,W,t.isLast(t.layer))),e.R7$(),e.Y8G("hidden",t.layerGroups&&1==t.layerGroups.length)("ngClass",e.eq3(6,W,t.isFirst(t.layer)))}}function ve(n,p){if(1&n&&e.nrm(0,"cds-icon",6),2&n){const t=e.XpG();e.FS9("title",t.layer.visible?"Choose another layer":"Show layer"),e.BMQ("solid",t.layer.visible)("shape",t.layer.visible?"dot-circle":"circle")}}function Le(n,p){if(1&n&&e.nrm(0,"cds-icon",6),2&n){const t=e.XpG();e.FS9("title",t.layer.visible?"Hide layer":"Show layer"),e.BMQ("solid",t.layer.visible)("shape",t.layer.visible?"eye":"eye-hide")}}function xe(n,p){if(1&n){const t=e.RV6();e.j41(0,"cds-icon",20),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.switchTab("settings"))}),e.k0s()}if(2&n){const t=e.XpG(2);e.Y8G("ngClass",e.eq3(1,K,t.activeTabs.settings))}}function be(n,p){if(1&n){const t=e.RV6();e.j41(0,"cds-icon",21),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.switchTab("legend"))}),e.k0s()}if(2&n){const t=e.XpG(2);e.Y8G("ngClass",e.eq3(1,K,t.activeTabs.legend))}}function ke(n,p){if(1&n){const t=e.RV6();e.j41(0,"cds-icon",22),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.switchTab("description"))}),e.k0s()}if(2&n){const t=e.XpG(2);e.Y8G("ngClass",e.eq3(1,K,t.activeTabs.description))}}function Ge(n,p){if(1&n){const t=e.RV6();e.j41(0,"cds-icon",23),e.bIt("click",function(){const i=e.eBV(t).$implicit,l=e.XpG(2);return e.Njj(i.action(l.layer))}),e.k0s()}if(2&n){const t=p.$implicit;e.Y8G("title",t.title),e.BMQ("shape",t.icon)}}function Te(n,p){if(1&n){const t=e.RV6();e.j41(0,"cds-icon",24),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.zoomTo(i.layer))}),e.k0s()}}function Se(n,p){if(1&n){const t=e.RV6();e.j41(0,"cds-icon",25),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.removeLayer(i.group,i.layer))}),e.k0s()}}function Me(n,p){if(1&n){const t=e.RV6();e.j41(0,"div",29)(1,"label"),e.EFF(2,"Opacity: "),e.j41(3,"clr-range-container")(4,"input",32),e.bIt("change",function(){e.eBV(t);const i=e.XpG(4);return e.Njj(i.setLayerOpacity(i.layer))}),e.mxI("ngModelChange",function(i){e.eBV(t);const l=e.XpG(4);return e.DH7(l.layer.opacity,i)||(l.layer.opacity=i),e.Njj(i)}),e.k0s()()(),e.j41(5,"span"),e.EFF(6),e.k0s()()}if(2&n){const t=e.XpG(4);e.R7$(4),e.Y8G("value",t.layer.opacity)("min",0)("max",1)("step",.1),e.R50("ngModel",t.layer.opacity),e.R7$(2),e.JRh(" "+t.layer.opacity)}}function Ie(n,p){if(1&n&&(e.j41(0,"option",34),e.EFF(1),e.k0s()),2&n){const t=p.$implicit,s=e.XpG(5);e.Y8G("value",t.name),e.BMQ("selected",!!s.isSelectedStyle(t.name)||null),e.R7$(),e.JRh(t.title)}}function Ve(n,p){if(1&n){const t=e.RV6();e.j41(0,"select",33),e.bIt("change",function(i){e.eBV(t);const l=e.XpG(4);return e.Njj(l.executeChangeStyle(i))}),e.Z7z(1,Ie,2,3,"option",34,e.fX1),e.k0s()}if(2&n){const t=e.XpG(4);e.R7$(),e.Dyx(t.layer.styles)}}function Ae(n,p){if(1&n){const t=e.RV6();e.j41(0,"ukis-dynamic-component",35),e.mxI("dynamicComponentChange",function(i){e.eBV(t);const l=e.XpG(4);return e.DH7(l.dynamicComponents.action,i)||(l.dynamicComponents.action=i),e.Njj(i)}),e.k0s()}if(2&n){const t=e.XpG(4);e.R50("dynamicComponent",t.dynamicComponents.action)}}function He(n,p){if(1&n&&(e.j41(0,"div",26),e.DNE(1,Me,7,6,"div",29)(2,Ve,3,0,"select",30)(3,Ae,1,1,"ukis-dynamic-component",31),e.k0s()),2&n){const t=e.XpG(3);e.R7$(),e.vxM(t.checkBaselayer(t.layer,t.group)?-1:1),e.R7$(),e.vxM(t.layer.styles&&(null==t.layer.styles?null:t.layer.styles.length)>1?2:-1),e.R7$(),e.vxM(t.checkIsComponentItem(t.layer,"action")?3:-1)}}function je(n,p){if(1&n){const t=e.RV6();e.j41(0,"ukis-dynamic-component",35),e.mxI("dynamicComponentChange",function(i){e.eBV(t);const l=e.XpG(4);return e.DH7(l.dynamicComponents.legendImg,i)||(l.dynamicComponents.legendImg=i),e.Njj(i)}),e.k0s()}if(2&n){const t=e.XpG(4);e.R50("dynamicComponent",t.dynamicComponents.legendImg)}}function we(n,p){if(1&n&&(e.j41(0,"a",36),e.nrm(1,"img",37),e.k0s()),2&n){const t=e.XpG(4);e.Y8G("href",t.layer.legendImg,e.B4B),e.R7$(),e.Y8G("src",t.layer.legendImg,e.B4B)}}function Be(n,p){if(1&n&&(e.j41(0,"div",27),e.DNE(1,je,1,1,"ukis-dynamic-component",31)(2,we,2,2,"a",36),e.k0s()),2&n){const t=e.XpG(3);e.R7$(),e.vxM(t.checkIsComponentItem(t.layer,"legendImg")?1:2)}}function Re(n,p){if(1&n){const t=e.RV6();e.j41(0,"ukis-dynamic-component",35),e.mxI("dynamicComponentChange",function(i){e.eBV(t);const l=e.XpG(4);return e.DH7(l.dynamicComponents.description,i)||(l.dynamicComponents.description=i),e.Njj(i)}),e.k0s()}if(2&n){const t=e.XpG(4);e.R50("dynamicComponent",t.dynamicComponents.description)}}function Oe(n,p){if(1&n&&e.nrm(0,"span",38),2&n){const t=e.XpG(4);e.Y8G("innerHTML",t.layer.description,e.npT)}}function De(n,p){if(1&n&&(e.j41(0,"div",28),e.DNE(1,Re,1,1,"ukis-dynamic-component",31)(2,Oe,1,1,"span",38),e.k0s()),2&n){const t=e.XpG(3);e.R7$(),e.vxM(t.checkIsComponentItem(t.layer,"description")?1:2)}}function Fe(n,p){if(1&n&&(e.j41(0,"div",19),e.DNE(1,He,4,3,"div",26)(2,Be,3,1,"div",27)(3,De,3,1,"div",28),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.vxM(t.activeTabs.settings?1:-1),e.R7$(),e.vxM(t.activeTabs.legend&&t.layer.legendImg?2:-1),e.R7$(),e.vxM(t.activeTabs.description&&t.layer.description?3:-1)}}function Ne(n,p){if(1&n&&(e.j41(0,"div",8)(1,"div",13),e.DNE(2,xe,1,3,"cds-icon",14)(3,be,1,3,"cds-icon",15)(4,ke,1,3,"cds-icon",16),e.Z7z(5,Ge,1,2,"cds-icon",6,e.fX1),e.nrm(7,"span"),e.DNE(8,Te,1,0,"cds-icon",17)(9,Se,1,0,"cds-icon",18),e.k0s(),e.DNE(10,Fe,4,3,"div",19),e.k0s()),2&n){const t=e.XpG();e.R7$(2),e.vxM(!t.checkBaselayer(t.layer,t.group)||t.layer.action?2:-1),e.R7$(),e.vxM(t.layer.legendImg?3:-1),e.R7$(),e.vxM(t.layer.description?4:-1),e.R7$(),e.Dyx(t.layer.actions),e.R7$(3),e.vxM(t.canZoomToLayer?8:-1),e.R7$(),e.vxM(t.layer.removable?9:-1),e.R7$(),e.vxM(t.hasTabsbody&&t.hasActiveTabs()?10:-1)}}L.h.addIcons(ye.D,z.D,ue.s,me.d,_.h,h.T,o.F,r,c.V,ne,ie);var se=function(n){return n.settings="settings",n.legend="legend",n.description="description",n}(se||{});let J=(()=>{class n{get visible(){return this.layer.visible}get cssClass(){return this.layer.cssClass}set expanded(t){this.layer&&(this.layer.expanded=t)}get expanded(){return!!this.layer&&!!this.layer.expanded}constructor(){this.expandable=!0,this.sorting=!0,this.update=new e.bkB,this.canZoomToLayer=!1,this.activeTabs={settings:!1,legend:!0,description:!1},this.hasTabsbody=!0,this.dynamicComponents={legendImg:null,action:null,description:null}}checkIsComponentItem(t,s){const i=t[s];let l=!1;if(i&&"object"==typeof i&&"component"in i){const b=i.component;i.inputs?i.inputs&&!i.inputs.layer?this.dynamicComponents[s]={component:i.component,inputs:Object.assign({},i.inputs,{layer:t})}:i.inputs&&i.inputs.layer&&(this.dynamicComponents[s]={component:i.component,inputs:Object.assign({},i.inputs)}):this.dynamicComponents[s]={component:b,inputs:{layer:t}},i.outputs&&(this.dynamicComponents[s].outputs=Object.assign({},i.outputs)),l=!0}return l}getLayerName(t){return t.displayName?t.displayName:t.name}ngOnInit(){this.layersSvc||console.error("you need to provide a layersService!"),"object"==typeof this.layer?.expanded&&Object.keys(se).includes(this.layer.expanded.tab)?(this.switchTab(this.layer.expanded.tab),!1===this.layer.expanded.expanded&&(this.activeTabs[this.layer.expanded.tab]=!1)):this.setDefaultActiveTabs(),this.layer.bbox&&this.layer.bbox.length>=4&&(this.canZoomToLayer=!0),"Baselayers"!==this.layer.filtertype||this.layer.legendImg||this.layer.description||this.layer.action||this.layer.actions||this.layer.styles||this.layer.styles?.length>1||(this.hasTabsbody=!1)}setDefaultActiveTabs(){this.layer.legendImg||this.switchTab("description"),!this.layer.legendImg&&!this.layer.description&&this.switchTab("settings")}setLayerVisibility(t,s){if(s){if(s.layers.length>0)if("Baselayers"===s.filtertype){for(const i of s.layers)i.visible=i===t;this.update.emit({layer:this.layer})}else{const i=s.visible;t.visible=!t.visible,i!==s.visible?this.update.emit({layer:this.layer}):this.layersSvc.updateLayer(t,t.filtertype||"Layers")}}else if("Baselayers"===t.filtertype){t.visible=!t.visible;const i=this.layerGroups.filter(l=>"Baselayers"===l.filtertype);for(const l of i)l instanceof f.Wd&&l.id!==t.id&&(l.visible=!t.visible,this.layersSvc.updateLayer(l,l.filtertype||"Baselayers"))}else t.visible=!t.visible,this.layersSvc.updateLayer(t,t.filtertype||"Layers")}setLayerIndex(t,s,i){i?this.layersSvc.setLayerIndexInGroup(t,s,i):this.layersSvc.setGroupLayerIndex(t,s)}removeLayer(t,s){t?this.layersSvc.removeLayerFromGroup(s,t):this.layersSvc.removeLayer(s,s.filtertype)}zoomTo(t){this.mapState&&t.bbox&&t.bbox.length>=4&&this.mapState.setExtent(t.bbox)}setLayerOpacity(t){this.group?this.update.emit({layer:t}):this.layersSvc.updateLayer(t,t.filtertype||"Layers")}checkBaselayer(t,s){return!!("Baselayers"===t.filtertype||s&&"Baselayers"===s.filtertype)}is_expandable(){return this.group?!this.layer.legendImg&&"Baselayers"===this.group.filtertype:!this.hasTabsbody}showProperties(){this.is_expandable()||(this.expanded=!this.expanded)}switchTab(t,s=!0){for(const i of Object.keys(this.activeTabs))this.activeTabs[i]=!(this.activeTabs[i]&&s||t!==i)}hasActiveTabs(){return Object.values(this.activeTabs).filter(t=>t).length>0}isSelectedStyle(t){return this.layer instanceof f.nw?this.layer.params.STYLES===t:this.layer instanceof f.fn&&this.layer.params.style===t}executeChangeStyle(t){const s=t.target.value;if(this.layer.styles){const i=this.layer.styles.find(l=>l.name===s);i&&(this.layer.legendImg=i.legendURL,this.layer instanceof f.nw?this.layer.params.STYLES=i.name:this.layer instanceof f.fn&&(this.layer.params.style=i.name),this.layersSvc.updateLayer(this.layer,this.layer.filtertype))}}isFirst(t){return this.group?this.layersSvc.isGroupFirst(t,this.group.layers):this.layersSvc.isGroupFirst(t,null,t.filtertype)}isLast(t){return this.group?this.layersSvc.isGroupLast(t,this.group.layers):this.layersSvc.isGroupLast(t,null,t.filtertype)}getExpandShape(){return this.expanded?{transform:"rotate(180deg)"}:{transform:"rotate(90deg)"}}static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["ukis-layerentry"]],hostVars:4,hostBindings:function(s,i){2&s&&(e.HbH(i.cssClass),e.AVh("layer-visible",i.visible))},inputs:{layersSvc:"layersSvc",mapState:"mapState",layer:"layer",group:"group",layerGroups:"layerGroups",expanded:"expanded",expandable:"expandable",sorting:"sorting"},outputs:{update:"update"},standalone:!0,features:[e.aNF],ngContentSelectors:he,decls:13,vars:12,consts:[["ref",""],[1,"layer",3,"ngClass"],[1,"head"],["shape","angle","title","Details",1,"iconButton",3,"ngStyle","ngClass"],[1,"item-title-replacement","title",3,"click","title"],[1,"title",3,"title"],[1,"iconButton",3,"title"],[1,"hide",3,"change","type","name","checked"],[1,"body"],["shape","angle","title","Details",1,"iconButton",3,"click","ngStyle","ngClass"],[1,"title",3,"click","title"],["shape","arrow","title","up","direction","up",1,"iconButton",3,"click","hidden","ngClass"],["shape","arrow","title","down","direction","down",1,"iconButton",3,"click","hidden","ngClass"],[1,"tools"],["title","Layer settings","shape","cog",1,"iconButton",3,"ngClass"],["title","Layer Legend","shape","image",1,"iconButton",3,"ngClass"],["title","Layer info","shape","info-standard",1,"iconButton",3,"ngClass"],["shape","zoom-in","title","Zoom to layer",1,"iconButton"],["shape","trash","title","Remove layer",1,"iconButton"],[1,"tabsbody"],["title","Layer settings","shape","cog",1,"iconButton",3,"click","ngClass"],["title","Layer Legend","shape","image",1,"iconButton",3,"click","ngClass"],["title","Layer info","shape","info-standard",1,"iconButton",3,"click","ngClass"],[1,"iconButton",3,"click","title"],["shape","zoom-in","title","Zoom to layer",1,"iconButton",3,"click"],["shape","trash","title","Remove layer",1,"iconButton",3,"click"],[1,"layersettings"],[1,"legend"],[1,"description"],[1,"form-group","opacity-input"],["clrSelect",""],[3,"dynamicComponent"],["type","range","name","points","clrRange","",1,"ukis-range-input","opacity-input",3,"change","ngModelChange","value","min","max","step","ngModel"],["clrSelect","",3,"change"],[3,"value"],[3,"dynamicComponentChange","dynamicComponent"],["target","_blank","title","Show full Image",3,"href"],[3,"src"],[3,"innerHTML"]],template:function(s,i){if(1&s){const l=e.RV6();e.NAR(),e.j41(0,"div",1)(1,"div",2),e.DNE(2,fe,1,4,"cds-icon",3),e.j41(3,"div",4,0),e.bIt("click",function(){return e.eBV(l),e.Njj(i.showProperties())}),e.SdG(5),e.k0s(),e.DNE(6,Ce,2,2,"span",5)(7,ge,3,8,"span"),e.j41(8,"label"),e.DNE(9,ve,1,3,"cds-icon",6)(10,Le,1,3,"cds-icon",6),e.j41(11,"input",7),e.bIt("change",function(){return e.eBV(l),e.Njj(i.setLayerVisibility(i.layer,i.group))}),e.k0s()()(),e.DNE(12,Ne,11,6,"div",8),e.k0s()}if(2&s){const l=e.sdS(4);e.Y8G("ngClass",e.eq3(10,_e,i.expanded)),e.R7$(2),e.vxM(i.hasTabsbody?2:-1),e.R7$(),e.Y8G("title",i.getLayerName(i.layer)),e.R7$(3),e.vxM(0==l.children.length?6:-1),e.R7$(),e.vxM(!i.checkBaselayer(i.layer,i.group)&&i.sorting?7:-1),e.R7$(2),e.vxM(i.checkBaselayer(i.layer,i.group)?9:10),e.R7$(2),e.Y8G("type",i.checkBaselayer(i.layer,i.group)?"radio":"checkbox")("name","layer")("checked",i.layer.visible),e.R7$(),e.vxM(i.expandable&&i.expanded?12:-1)}},dependencies:[Q.YU,T.Lfk,T.BlU,Q.B3,T.uQ$,T.aZZ,T.xCE,T.HzI,T.SEO,O.YN,O.xH,O.y7,O.me,O.MR,O.BC,O.vS,T.UpA,T.Yf6,Y],styles:[".title[_ngcontent-%COMP%]{cursor:pointer}.item-title-replacement[_ngcontent-%COMP%]:empty{display:none}.body[_ngcontent-%COMP%]{cursor:default}.tabsbody[_ngcontent-%COMP%]{overflow:hidden}.tabsbody[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:auto;max-width:100%}"]})}}return n})(),oe=(()=>{class n{transform(t,s){return t.filter(s)}static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275pipe=e.EJ8({name:"itemsfilter",type:n,pure:!1,standalone:!0})}}return n})(),q=(()=>{class n{transform(t){return"string"==typeof t?t.split("").reverse().join(""):Array.isArray(t)?t.slice().reverse():t}static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275pipe=e.EJ8({name:"reverse",type:n,pure:!1,standalone:!0})}}return n})();const Ze=["*"],ae=n=>({disabled:n}),Xe=n=>({id:n});function $e(n,p){if(1&n){const t=e.RV6();e.j41(0,"span",7),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.showProperties())}),e.EFF(1),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("title",t.getLayerName(t.group)),e.R7$(),e.SpI(" ",t.getLayerName(t.group)," ")}}function Ee(n,p){if(1&n){const t=e.RV6();e.j41(0,"span")(1,"cds-icon",8),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.setLayerGroupIndex(i.group,"down"))}),e.k0s(),e.j41(2,"cds-icon",9),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.setLayerGroupIndex(i.group,"up"))}),e.k0s()()}if(2&n){const t=e.XpG();e.R7$(),e.Y8G("ngClass",e.eq3(2,ae,t.isLast(t.group))),e.R7$(),e.Y8G("ngClass",e.eq3(4,ae,t.isFirst(t.group)))}}function ze(n,p){if(1&n){const t=e.RV6();e.j41(0,"span")(1,"label"),e.nrm(2,"cds-icon",10),e.j41(3,"input",11),e.bIt("change",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.setGroupLayersVisibility())}),e.k0s()()()}if(2&n){const t=e.XpG();e.R7$(2),e.FS9("title",t.group.visible?"Hide Group":"Show Group"),e.BMQ("solid",t.group.visible)("shape",t.group.visible?"eye":"eye-hide"),e.R7$(),e.Y8G("type","checkbox")("checked",t.group.visible)("name","group")}}function Pe(n,p){if(1&n){const t=e.RV6();e.j41(0,"cds-icon",24),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.switchTab("settings"))}),e.k0s()}if(2&n){const t=e.XpG(2);e.FS9("title",t.activeTabs.settings?"Hide settings":"Show settings"),e.BMQ("solid",t.activeTabs.settings)}}function Ye(n,p){if(1&n){const t=e.RV6();e.j41(0,"cds-icon",25),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.switchTab("legend"))}),e.k0s()}if(2&n){const t=e.XpG(2);e.FS9("title",t.activeTabs.legend?"Hide Legend":"Show Legend"),e.BMQ("solid",t.activeTabs.legend)}}function Ue(n,p){if(1&n){const t=e.RV6();e.j41(0,"cds-icon",26),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.switchTab("description"))}),e.k0s()}if(2&n){const t=e.XpG(2);e.FS9("title",t.activeTabs.description?"Hide Info":"Show Info"),e.BMQ("solid",t.activeTabs.description)}}function Qe(n,p){if(1&n){const t=e.RV6();e.j41(0,"cds-icon",3),e.bIt("click",function(){const i=e.eBV(t).$implicit,l=e.XpG(2);return e.Njj(i.action(l.group))}),e.k0s()}if(2&n){const t=p.$implicit;e.Y8G("title",t.title),e.BMQ("shape",t.icon)}}function We(n,p){if(1&n){const t=e.RV6();e.j41(0,"cds-icon",27),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.zoomTo(i.group))}),e.k0s()}}function Ke(n,p){if(1&n){const t=e.RV6();e.j41(0,"cds-icon",28),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.removeLayerGroup(i.group))}),e.k0s()}}function Je(n,p){if(1&n){const t=e.RV6();e.j41(0,"ukis-dynamic-component",31),e.mxI("dynamicComponentChange",function(i){e.eBV(t);const l=e.XpG(3);return e.DH7(l.dynamicComponents.description,i)||(l.dynamicComponents.description=i),e.Njj(i)}),e.k0s()}if(2&n){const t=e.XpG(3);e.R50("dynamicComponent",t.dynamicComponents.description)}}function qe(n,p){if(1&n&&e.nrm(0,"span",30),2&n){const t=e.XpG(3);e.Y8G("innerHTML",t.group.description,e.npT)}}function et(n,p){if(1&n&&(e.j41(0,"div",19),e.DNE(1,Je,1,1,"ukis-dynamic-component",29)(2,qe,1,1,"span",30),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.vxM(t.checkIsComponentItem(t.group,"description")?1:2)}}function tt(n,p){if(1&n){const t=e.RV6();e.j41(0,"ukis-dynamic-component",31),e.mxI("dynamicComponentChange",function(i){e.eBV(t);const l=e.XpG(3);return e.DH7(l.group.action,i)||(l.group.action=i),e.Njj(i)}),e.k0s()}if(2&n){const t=e.XpG(3);e.R50("dynamicComponent",t.group.action)}}function nt(n,p){if(1&n&&(e.j41(0,"div",20),e.DNE(1,tt,1,1,"ukis-dynamic-component",29),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.vxM(t.checkIsComponentItem(t.group,"action")?1:-1)}}function it(n,p){if(1&n){const t=e.RV6();e.j41(0,"ukis-dynamic-component",31),e.mxI("dynamicComponentChange",function(i){e.eBV(t);const l=e.XpG(3);return e.DH7(l.dynamicComponents.legendImg,i)||(l.dynamicComponents.legendImg=i),e.Njj(i)}),e.k0s()}if(2&n){const t=e.XpG(3);e.R50("dynamicComponent",t.dynamicComponents.legendImg)}}function st(n,p){if(1&n&&(e.j41(0,"a",32),e.nrm(1,"img",33),e.k0s()),2&n){const t=e.XpG(3);e.Y8G("href",t.group.legendImg,e.B4B),e.R7$(),e.Y8G("src",t.group.legendImg,e.B4B)}}function ot(n,p){if(1&n&&(e.j41(0,"div",21),e.DNE(1,it,1,1,"ukis-dynamic-component",29)(2,st,2,2,"a",32),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.vxM(t.checkIsComponentItem(t.group,"legendImg")?1:2)}}function at(n,p){if(1&n){const t=e.RV6();e.j41(0,"div",23)(1,"ukis-layerentry",34),e.bIt("update",function(i){e.eBV(t);const l=e.XpG(2);return e.Njj(l.layerUpdate(i,l.group))}),e.j41(2,"span",35),e.EFF(3),e.k0s()()()}if(2&n){const t=p.$implicit,s=e.XpG(2);e.Y8G("cdkDragData",e.eq3(8,Xe,t.id)),e.R7$(),e.Y8G("expanded",s.openAllLayersProperties)("layersSvc",s.layersSvc)("mapState",s.mapState)("layer",t)("group",s.group)("sorting",s.groupLayersSort),e.R7$(2),e.SpI(" ",t.displayName||t.name," ")}}function rt(n,p){if(1&n){const t=e.RV6();e.j41(0,"div",6)(1,"div",12),e.DNE(2,Pe,1,2,"cds-icon",13)(3,Ye,1,2,"cds-icon",14)(4,Ue,1,2,"cds-icon",15),e.j41(5,"cds-icon",16),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.showHideAllDetails())}),e.k0s(),e.Z7z(6,Qe,1,2,"cds-icon",10,e.fX1),e.nrm(8,"span"),e.DNE(9,We,1,0,"cds-icon",17)(10,Ke,1,0,"cds-icon",18),e.k0s(),e.DNE(11,et,3,1,"div",19)(12,nt,2,1,"div",20)(13,ot,3,1,"div",21),e.j41(14,"div",22),e.nI1(15,"itemsfilter"),e.nI1(16,"reverse"),e.bIt("cdkDropListDropped",function(i){e.eBV(t);const l=e.XpG();return e.Njj(l.drop(i))}),e.Z7z(17,at,4,10,"div",23,e.fX1),e.nI1(19,"itemsfilter"),e.nI1(20,"reverse"),e.k0s()()}if(2&n){const t=e.XpG();e.R7$(2),e.vxM(t.group.action?2:-1),e.R7$(),e.vxM(t.group.legendImg?3:-1),e.R7$(),e.vxM(t.group.description?4:-1),e.R7$(),e.FS9("title",t.openAllLayersProperties?"Hide all layers details":"Show all layers details"),e.BMQ("solid",t.openAllLayersProperties),e.R7$(),e.Dyx(t.group.actions),e.R7$(3),e.vxM(t.canZoomToGroup?9:-1),e.R7$(),e.vxM(t.group.removable?10:-1),e.R7$(),e.vxM(t.group.description&&t.activeTabs.description?11:-1),e.R7$(),e.vxM(t.group.action&&t.activeTabs.settings?12:-1),e.R7$(),e.vxM(t.group.legendImg&&t.activeTabs.legend?13:-1),e.R7$(),e.Y8G("cdkDropListDisabled",!t.groupLayersSort)("cdkDropListData",e.bMT(16,15,e.i5U(15,12,t.group.layers,t.checkClassHide))),e.R7$(3),e.Dyx(e.bMT(20,20,e.i5U(19,17,t.group.layers,t.checkClassHide)))}}L.h.addIcons(Z,U.S,z.D,_.h,h.T,o.F,r,c.V,H,ne,ie);var re=function(n){return n.settings="settings",n.legend="legend",n.description="description",n}(re||{});let le=(()=>{class n{get visible(){return this.group.visible}get cssClass(){return this.group.cssClass}set openAllLayersProperties(t){this.group&&this.group.layers.length&&this.group.layers.forEach(s=>s.expanded=t)}get openAllLayersProperties(){return!(!this.group||!this.group.layers.length)&&this.group.layers.filter(t=>!0===t.expanded).length===this.group.layers.length}constructor(){this.groupSort=!0,this.groupLayersSort=!0,this.canZoomToGroup=!1,this.activeTabs={settings:!1,legend:!0,description:!1},this.dynamicComponents={legendImg:null,action:null,description:null}}ngOnInit(){this.group.bbox&&this.group.bbox.length>=4&&(this.canZoomToGroup=!0),"object"==typeof this.group?.expanded&&Object.keys(re).includes(this.group.expanded.tab)?(this.switchTab(this.group.expanded.tab),!1===this.group.expanded.expanded&&(this.activeTabs[this.group.expanded.tab]=!1)):this.setDefaultActiveTabs()}setDefaultActiveTabs(){this.group?.action||(this.activeTabs.settings=!1)}checkIsComponentItem(t,s){const i=t[s];let l=!1;if(i&&"object"==typeof i&&"component"in i){const b=i.component;i.inputs?i.inputs&&!i.inputs.group?this.dynamicComponents[s]={component:i.component,inputs:Object.assign({},i.inputs,{group:t})}:i.inputs&&i.inputs.group&&(this.dynamicComponents[s]={component:i.component,inputs:Object.assign({},i.inputs)}):this.dynamicComponents[s]={component:b,inputs:{group:t}},i.outputs&&(this.dynamicComponents[s].outputs=Object.assign({},i.outputs)),l=!0}return l}checkBaselayer(t){return!(!t||"Baselayers"!==t.filtertype)}checkClassHide(t){return!t?.cssClass?.includes("hide")}getLayerName(t){return t.displayName?t.displayName:t.name}setLayerGroupIndex(t,s){this.layersSvc.setGroupLayerIndex(t,s)}setGroupLayersVisibility(){this.group.visible=!this.group.visible,this.layersSvc.updateLayerGroup(this.group)}removeLayerGroup(t){this.layersSvc.removeLayerGroup(t)}zoomTo(t){this.mapState&&t.bbox&&t.bbox.length>=4&&this.mapState.setExtent(t.bbox)}layerUpdate(t,s){this.layersSvc.updateLayerGroup(s)}showProperties(){this.group.expanded=!this.group.expanded}switchTab(t,s=!0){for(const i of Object.keys(this.activeTabs))this.activeTabs[i]=!(this.activeTabs[i]&&s||t!==i)}showHideAllDetails(){if(this.openAllLayersProperties){this.openAllLayersProperties=!1;for(const t of Object.keys(this.activeTabs))this.activeTabs[t]=!1}else this.openAllLayersProperties=!0,this.group.legendImg?this.switchTab("legend",!1):this.group.description?this.switchTab("description",!1):this.group.action&&this.switchTab("settings",!1)}isFirst(t){return this.layersSvc.isGroupFirst(t,this.layerGroups,t.filtertype)}isLast(t){return this.layersSvc.isGroupLast(t,this.layerGroups,t.filtertype)}drop(t){const s=this.group.layers,i=s.length,l=t.container.data;let I,D;if(i===l.length)I=i-t.previousIndex-1,D=i-t.currentIndex-1;else{const F=l[t.currentIndex],V=s.findIndex(N=>N.id===t.item.data.id);let $=s.findIndex(N=>N.id===F.id);t.previousIndex===t.currentIndex&&($=V),I=V,D=$}(0,v.HD)(this.group.layers,I,D),this.layersSvc.updateLayerGroup(this.group)}static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["ukis-layerentry-group"]],hostVars:4,hostBindings:function(s,i){2&s&&(e.HbH(i.cssClass),e.AVh("group-visible",i.visible))},inputs:{layersSvc:"layersSvc",mapState:"mapState",group:"group",layerGroups:"layerGroups",groupSort:"groupSort",groupLayersSort:"groupLayersSort"},standalone:!0,features:[e.aNF],ngContentSelectors:Ze,decls:10,vars:7,consts:[["ref",""],[1,"layergroup"],[1,"head"],[1,"iconButton",3,"click","title"],[1,"item-title-replacement","title",3,"click","title"],[1,"title",3,"title"],[1,"body"],[1,"title",3,"click","title"],["shape","arrow","title","up",1,"iconButton","move-item",3,"click","ngClass"],["shape","arrow","title","down","direction","down",1,"iconButton","move-item",3,"click","ngClass"],[1,"iconButton",3,"title"],[1,"hide",3,"change","type","checked","name"],[1,"tools"],["shape","cog",1,"iconButton",3,"title"],["shape","image",1,"iconButton",3,"title"],["shape","info-standard",1,"iconButton",3,"title"],["shape","details",1,"iconButton",3,"click","title"],["shape","zoom-in","title","Zoom to group",1,"iconButton"],["shape","trash","title","Remove group",1,"iconButton"],[1,"tabsbody","description"],[1,"tabsbody","layersettings"],[1,"tabsbody","legend"],["cdkDropList","",3,"cdkDropListDropped","cdkDropListDisabled","cdkDropListData"],["cdkDragLockAxis","y","cdkDrag","",1,"sublayers",3,"cdkDragData"],["shape","cog",1,"iconButton",3,"click","title"],["shape","image",1,"iconButton",3,"click","title"],["shape","info-standard",1,"iconButton",3,"click","title"],["shape","zoom-in","title","Zoom to group",1,"iconButton",3,"click"],["shape","trash","title","Remove group",1,"iconButton",3,"click"],[3,"dynamicComponent"],[3,"innerHTML"],[3,"dynamicComponentChange","dynamicComponent"],["target","_blank","title","Show full Image",3,"href"],[3,"src"],[3,"update","expanded","layersSvc","mapState","layer","group","sorting"],["cdkDragHandle","",1,"move-item"]],template:function(s,i){if(1&s){const l=e.RV6();e.NAR(),e.j41(0,"div",1)(1,"div",2)(2,"cds-icon",3),e.bIt("click",function(){return e.eBV(l),e.Njj(i.showProperties())}),e.k0s(),e.j41(3,"div",4,0),e.bIt("click",function(){return e.eBV(l),e.Njj(i.showProperties())}),e.SdG(5),e.k0s(),e.DNE(6,$e,2,2,"span",5)(7,Ee,3,6,"span")(8,ze,4,6,"span"),e.k0s(),e.DNE(9,rt,21,22,"div",6),e.k0s()}if(2&s){const l=e.sdS(4);e.R7$(2),e.FS9("title",i.group.expanded?"Close":"Open"),e.BMQ("shape",i.group.expanded?"folder-open":"folder"),e.R7$(),e.Y8G("title",i.getLayerName(i.group)),e.R7$(3),e.vxM(0==l.children.length?6:-1),e.R7$(),e.vxM(i.layerGroups.length>1&&i.groupSort?7:-1),e.R7$(),e.vxM(i.checkBaselayer(i.group)?-1:8),e.R7$(),e.vxM(i.group.expanded?9:-1)}},dependencies:[T.Lfk,T.BlU,Q.YU,T.uQ$,T.aZZ,v.O7,v.T1,J,v.Fb,oe,q,Y],styles:[".title[_ngcontent-%COMP%]{cursor:pointer}.item-title-replacement[_ngcontent-%COMP%]:empty{display:none}.move-item[_ngcontent-%COMP%]{cursor:move}.cdk-drop-list-disabled[_ngcontent-%COMP%]   .move-item[_ngcontent-%COMP%]{cursor:pointer}.cdk-drag-preview[_ngcontent-%COMP%]{display:flex;align-items:center;padding:0 10px;box-sizing:border-box;border-radius:2px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f;overflow:hidden}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:.2}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .sublayers[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.info[_ngcontent-%COMP%]{padding-left:.2rem}.tabsbody[_ngcontent-%COMP%]{overflow:hidden}.tabsbody[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:auto;max-width:100%}"]})}}return n})();const lt=n=>({id:n});function ct(n,p){if(1&n&&(e.j41(0,"ukis-layerentry-group",2)(1,"span",4),e.EFF(2),e.k0s()()),2&n){const t=e.XpG().$implicit,s=e.XpG();e.Y8G("layersSvc",s.layersSvc)("mapState",s.mapStateSvc)("group",t)("layerGroups",s.layergroups)("groupSort",s.layersSort)("groupLayersSort",s.groupLayersSort),e.R7$(2),e.SpI(" ",t.displayName||t.name," ")}}function pt(n,p){if(1&n&&(e.j41(0,"ukis-layerentry",3)(1,"span",4),e.EFF(2),e.k0s()()),2&n){const t=e.XpG().$implicit,s=e.XpG();e.Y8G("layerGroups",s.layergroups)("expanded",!1)("layersSvc",s.layersSvc)("mapState",s.mapStateSvc)("layer",t)("group",null)("sorting",s.layersSort),e.R7$(2),e.SpI(" ",t.displayName||t.name," ")}}function dt(n,p){if(1&n&&(e.j41(0,"div",1),e.DNE(1,ct,3,7,"ukis-layerentry-group",2)(2,pt,3,8,"ukis-layerentry",3),e.k0s()),2&n){const t=p.$implicit,s=e.XpG();e.Y8G("cdkDragData",e.eq3(3,lt,t.id)),e.R7$(),e.vxM(s.isLayerGroup(t)&&t.filtertype===s.layerfilter?1:-1),e.R7$(),e.vxM(s.isLayerGroup(t)||t.filtertype!==s.layerfilter?-1:2)}}let yt=(()=>{class n{constructor(){this.layerfilter="Layers",this.layersSort=!0,this.groupLayersSort=!0,this.layergroups=[]}ngOnInit(){this.layerGroupsSubscription=this.layersSvc.getLayerGroups().subscribe(t=>{this.layergroups=t})}isLayerGroup(t){return t instanceof f.x2}ngOnDestroy(){this.layerGroupsSubscription.unsubscribe()}drop(t){const s=this.layergroups,i=s.length,l=t.container.data;let I,D;if(i===l.length)I=i-t.previousIndex-1,D=i-t.currentIndex-1;else{const F=l[t.currentIndex],V=s.findIndex(N=>N.id===t.item.data.id);let $=s.findIndex(N=>N.id===F.id);t.previousIndex===t.currentIndex&&($=V),I=V,D=$}this.layersSvc.arrayMove(this.layergroups,I,D),this.layersSvc.setLayerGroups(this.layergroups)}checkBaselayer(t,s){return!!("Baselayers"===t.filtertype||s&&"Baselayers"===s.filtertype)}checkClassHide(t){return!t?.cssClass?.includes("hide")}static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["ukis-layer-control"]],inputs:{layersSvc:"layersSvc",mapStateSvc:"mapStateSvc",layerfilter:"layerfilter",layersSort:"layersSort",groupLayersSort:"groupLayersSort"},standalone:!0,features:[e.aNF],decls:7,vars:12,consts:[["cdkDropList","",3,"cdkDropListDropped","cdkDropListDisabled","cdkDropListData"],["cdkDragLockAxis","y","cdkDrag","",1,"list-item",3,"cdkDragData"],[3,"layersSvc","mapState","group","layerGroups","groupSort","groupLayersSort"],[3,"layerGroups","expanded","layersSvc","mapState","layer","group","sorting"],["cdkDragHandle","",1,"move-item"]],template:function(s,i){1&s&&(e.j41(0,"div",0),e.nI1(1,"itemsfilter"),e.nI1(2,"reverse"),e.bIt("cdkDropListDropped",function(b){return i.drop(b)}),e.Z7z(3,dt,3,5,"div",1,e.fX1),e.nI1(5,"itemsfilter"),e.nI1(6,"reverse"),e.k0s()),2&s&&(e.Y8G("cdkDropListDisabled",!i.layersSort)("cdkDropListData",e.bMT(2,5,e.i5U(1,2,i.layergroups,i.checkClassHide))),e.R7$(3),e.Dyx(e.bMT(6,10,e.i5U(5,7,i.layergroups,i.checkClassHide))))},dependencies:[v.O7,v.T1,le,v.Fb,J,oe,q],styles:[".list-item[_ngcontent-%COMP%]{cursor:pointer}.move-item[_ngcontent-%COMP%]{cursor:move}.cdk-drop-list-disabled[_ngcontent-%COMP%]   .move-item[_ngcontent-%COMP%]{cursor:pointer}.cdk-drag-preview[_ngcontent-%COMP%]{display:flex;align-items:center;padding:15px 10px;box-sizing:border-box;border-radius:2px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f;overflow:hidden}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:.2}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}"]})}}return n})();function ut(n,p){if(1&n&&e.nrm(0,"ukis-layerentry-group",1),2&n){const t=e.XpG().$implicit,s=e.XpG();e.Y8G("layersSvc",s.layersSvc)("mapState",s.mapStateSvc)("group",t)("layerGroups",s.layergroups)}}function mt(n,p){if(1&n&&e.nrm(0,"ukis-layerentry",2),2&n){const t=e.XpG().$implicit,s=e.XpG();e.Y8G("layerGroups",s.layergroups)("expanded",!1)("layersSvc",s.layersSvc)("mapState",s.mapStateSvc)("layer",t)("group",null)}}function ht(n,p){if(1&n&&(e.j41(0,"div",0),e.DNE(1,ut,1,4,"ukis-layerentry-group",1)(2,mt,1,6,"ukis-layerentry",2),e.k0s()),2&n){const t=p.$implicit,s=e.XpG();e.R7$(),e.vxM(s.isLayerGroup(t)?1:-1),e.R7$(),e.vxM(s.isLayerGroup(t)?-1:2)}}let _t=(()=>{class n{constructor(){this.layergroups=[]}ngOnInit(){this.layerGroupsSubscription=this.layersSvc.getLayerGroups().subscribe(t=>{this.layergroups=t.filter(s=>"Baselayers"===s.filtertype)})}isLayerGroup(t){return t instanceof f.x2}ngOnDestroy(){this.layerGroupsSubscription.unsubscribe()}static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["ukis-base-layer-control"]],inputs:{layersSvc:"layersSvc",mapStateSvc:"mapStateSvc"},standalone:!0,features:[e.aNF],decls:3,vars:2,consts:[[1,"list-item"],[3,"layersSvc","mapState","group","layerGroups"],[3,"layerGroups","expanded","layersSvc","mapState","layer","group"]],template:function(s,i){1&s&&(e.Z7z(0,ht,3,2,"div",0,e.fX1),e.nI1(2,"reverse")),2&s&&e.Dyx(e.bMT(2,0,i.layergroups))},dependencies:[le,J,q]})}}return n})()},1686:(X,M,y)=>{y.d(M,{tr:()=>te,Pm:()=>g,KC:()=>C,jV:()=>w,yA:()=>B,Wd:()=>x,x2:()=>k,_t:()=>z,Bk:()=>A,FN:()=>e,fA:()=>d,ag:()=>f,vK:()=>ee,M:()=>S,nw:()=>R,dz:()=>v,fn:()=>E,Tv:()=>L,hq:()=>j});const f="tms",v="wms",L="wmts",j="xyz",w="geojson",B="kml",S="wfs",g="custom",d="stacked",C={Baselayers:"Baselayers",Overlays:"Overlays",Layers:"Layers"};class x{constructor(h){this.name="",this.id="",this.opacity=1,this.visible=!0,this.removable=!1,this.filtertype="Layers",this.continuousWorld=!1,this.expanded=!1,Object.assign(this,h)}get time(){return this.protTime}set time(h){this.protTime=h}}class A extends x{constructor(h){if(super(h),this.styles&&this.styles.length>0){let o=this.styles.find(a=>a.default);o||(o=this.styles[0]),this.legendImg=o.legendURL,this.params?(this.type===v?this.params.STYLES=o.name:this.type===L&&(this.params.style=o.name),this.params.STYLES=o.name):this.type===L&&(this.params||(this.params={}),this.params.style=o.name)}}set time(h){this.params&&(this.params.TIME=h),this.protTime=h}get time(){return this.protTime}}class ee extends x{constructor(h){super(h)}}class te extends x{constructor(h){super(h),this.type=g,this.custom_layer={},Object.assign(this,h)}}class e extends x{constructor(h){super(h),this.type=d,this.layers=[],Object.assign(this,h)}}class k{constructor(h){this.filtertype="Layers",this.removable=!0,this.layerRemovable=!0,this.expanded=!1,h&&void 0!==h.visible&&h.layers&&h.layers.length&&(h.layers=h.layers.map(o=>(o.visible=h.visible,o))),Object.assign(this,h)}get visible(){return this.layers&&this.layers.length&&(this.protVisible=this.layers.filter(h=>h.visible).length>0),this.protVisible}set visible(h){this.protVisible=h,this.layers&&this.layers.length&&(this.layers=this.layers.map(o=>(o.visible=h,o)))}}class E extends A{constructor(h){super(h)}}class R extends A{constructor(h){super(h)}}var Z=y(5981),U=y(3279);let z=(()=>{class _{constructor(){this.store=new Z.t(Array()),this.baseLayers=new Z.t(Array()),this.overlays=new Z.t(Array()),this.layers=new Z.t(Array())}addLayer(o,a,r){if(this.isInLayergroups(o))console.error(`layer or Group with id: ${o.id} already exists!`);else{a?o.filtertype=a:a=o.filtertype;const c=this.store.getValue();r||(c.push(o),this.store.next(c)),this.filterFiltertype(a)}}removeLayer(o,a,r){this.isInLayergroups(o)?r?(console.log(`layer: ${o.id} is removed with force!`),this._removeLayer(o,a)):o.removable?this._removeLayer(o,a):o.removable||console.log(`layer: ${o.id} is not removable!`):console.error(`layer with id: ${o.id} not in storeItems!`)}_removeLayer(o,a){a?a!==o.filtertype&&console.error(`the layer with id: ${o.id} you want to remove from ${a} is from filtertype: ${o.filtertype}`):a=o.filtertype;const r=this.store.getValue().filter(c=>c instanceof x?c.id!==o.id:c);this.store.next(r),this.filterFiltertype(a)}updateLayer(o,a){this.isInLayergroups(o)?(a?a!==o.filtertype&&console.error(`the layer with id: ${o.id} you want to update is from filtertype: ${o.filtertype} and not from ${a} `):a=o.filtertype,"Overlays"===o.filtertype&&(this.updateLayerOrGroupInStore(o),this.filterFiltertype(o.filtertype)),"Layers"===o.filtertype&&(this.updateLayerOrGroupInStore(o),this.filterFiltertype(o.filtertype)),"Baselayers"===o.filtertype&&(this.updateLayerOrGroupInStore(o),this.filterFiltertype(o.filtertype))):console.error(`layer with id: ${o.id} you want to update not in storeItems!`)}updateLayerOrGroupInStore(o){this.store.getValue().filter((a,r,c)=>{a instanceof x&&o instanceof x?a.id===o.id&&(c[r]=o,this.store.next(c)):a instanceof k&&o instanceof k&&a.id===o.id&&(c[r]=o,this.store.next(c))})}removeLayerOrGroupById(o,a,r){this.store.getValue().filter(c=>{c instanceof x?c.id===o&&this.removeLayer(c,c.filtertype||"Layers",r):c instanceof k&&(c.id===o?this.removeLayerGroup(c,r):c.layers.forEach(m=>{m.id===o&&this.removeLayerFromGroup(m,c,a,r)}))})}addLayerToGroup(o,a){this.isInLayergroups(o)?console.error(`layer with id: ${o.id} already exists!`):(o.filtertype!==a.filtertype&&(o.filtertype=a.filtertype),this.isInLayergroups(o,[a])?console.error(`layer with id: ${o.id} already exists in ${a.id}!`,a):(a.layers.push(o),this.updateLayerGroup(a)))}addLayerToGroupById(o,a){this.store.getValue().forEach(r=>{r instanceof k&&r.id===a&&this.addLayerToGroup(o,r)})}removeLayerFromGroup(o,a,r=!0,c){a.layers=a.layers.filter(m=>m.id!==o.id),this.updateLayerGroup(a),this.filterFiltertype(o.filtertype),0===a.layers.length&&r&&this.removeLayerGroup(a,c)}setLayerIndexInGroup(o,a,r){const c=r.layers.indexOf(o);switch(a){case"up":if(0===c)break;this.arrayMove(r.layers,c,c-1);break;case"down":if(c===r.layers.length-1)break;this.arrayMove(r.layers,c,c+1)}this.updateLayer(o,r.filtertype||"Layers")}addLayerGroup(o,a){if(!this.isInLayergroups(o)){a?o.filtertype=a:a=o.filtertype;const r=this.store.getValue();this.isInLayergroups(o,o.layers)&&(o.layers=o.layers.filter(c=>c.id!==o.id)),o.layers=o.layers.map(c=>(c.filtertype=o.filtertype,c)),r.push(o),this.store.next(r),this.updateLayerGroup(o)}}removeLayerGroup(o,a){this.isInLayergroups(o)?a?(console.log(`layerGroup: ${o.id} is removed with force!`),this._removeLayerGroup(o)):o.removable?this._removeLayerGroup(o):o.removable||console.log(`layerGroup: ${o.id} is not removable!`):console.error(`layer or Group with id: ${o.id} not in storeItems!`)}_removeLayerGroup(o){for(const c of o.layers)this.removeLayerFromGroup(c,o);const r=this.store.getValue().filter(function(c,m){return c.id!==o.id});this.store.next(r)}updateLayerGroup(o,a=!1){a&&(o=this.sortLayerGroup(o)),this.updateLayerOrGroupInStore(o);for(const r of o.layers)this.updateLayer(r,o.filtertype||"Layers")}arrayMove(o,a,r){o.splice(r<0?o.length+r:r,0,o.splice(a,1)[0])}setGroupLayerIndex(o,a){let r;if((o instanceof x&&o.filtertype||o instanceof k)&&(r=this.getNumOfGroups(o.filtertype)),r>1){const c=this.store.getValue(),m=c.indexOf(o);(!this.isGroupFirst(o)||!this.isGroupLast(o))&&("number"==typeof a?this.arrayMove(c,m,a):"up"===a?this.arrayMove(c,m,m-1):"down"===a&&this.arrayMove(c,m,m+1)),this.store.next(c),this.baseLayers.next(this.filterBaseLayers()),this.layers.next(this.filterLayers()),this.overlays.next(this.filterOverlays())}}getNumOfGroups(o){let a=0;const r=this.store.getValue();for(const c of r)c.filtertype===o&&a++;return a}isGroupFirst(o,a,r){let c=!1,m=this.store.getValue();return a&&(m=a),r&&(m=m.filter(H=>H.filtertype===r)),0===m.indexOf(o)&&(c=!0),c}isGroupLast(o,a,r){let c=!1,m=this.store.getValue();return a&&(m=a),r&&(m=m.filter(H=>H.filtertype===r)),m.indexOf(o)===m.length-1&&(c=!0),c}isInLayergroups(o,a){let c,r=!1;c=o instanceof x||o instanceof k?o.id:o;const m=this.getLayerOrGroupById(c,a);return(m&&m instanceof x||m instanceof k)&&(r=!0),r}getLayerOrGroupById(o,a){const r=[];let c=this.store.getValue();return a&&(c=a),c.map(m=>{m instanceof k?m.id===o?r.push(m):m.layers.map(H=>{H.id===o&&r.push(H)}):m instanceof x&&m.id===o&&r.push(m)}),r.length?1===r.length?r[0]:void(r.length>1&&console.log("there is a duplicate ID in the Layer Groups!")):null}getLayerById(o,a){let r,c=this.flattenDeepArray(this.store.getValue());return a&&(c=a),c.map(m=>{m.id===o&&(r=m)}),r}getBaseLayers(){return this.baseLayers.asObservable()}removeBaseLayers(o){let a=this.filterBaseLayers();return o&&(a=a.filter(o)),a.forEach(r=>{this.removeLayerOrGroupById(r.id)}),this.baseLayers.asObservable()}getBaseLayersCount(){return this.baseLayers.getValue().length}getOverlays(){return this.overlays.asObservable()}removeOverlays(o){let a=this.filterOverlays();return o&&(a=a.filter(o)),a.forEach(r=>{this.removeLayerOrGroupById(r.id)}),this.overlays.asObservable()}getOverlaysCount(){return this.overlays.getValue().length}getLayers(){return this.layers.asObservable()}removeLayers(o){let a=this.filterLayers();return o&&(a=a.filter(o)),a.forEach(r=>{this.removeLayerOrGroupById(r.id)}),this.layers.asObservable()}getLayersCount(){return this.layers.getValue().length}getLayerGroups(){return this.store.asObservable()}setLayerGroups(o,a){return o.length>0&&o.map(r=>{r instanceof k&&r.layers.length>0&&(r.layers=r.layers.map(c=>(c.filtertype=r.filtertype,c)))}),a?("Baselayers"===a?this.removeBaseLayers():"Layers"===a?this.removeLayers():"Overlays"===a&&this.removeOverlays(),o.map(r=>{r instanceof x?this.addLayer(r,a):r instanceof k&&this.addLayerGroup(r,a)})):(this.store.next(o),this.baseLayers.next(this.filterBaseLayers()),this.layers.next(this.filterLayers()),this.overlays.next(this.filterOverlays())),this.store.asObservable()}getLayerGroupsCount(){return this.store.getValue().length}flattenDeepArray(o){return o.reduce((a,r)=>r instanceof k&&Array.isArray(r.layers)?a.concat(this.flattenDeepArray(r.layers)):a.concat(r),[])}filterOverlays(){const o=this.store.getValue();return this.flattenDeepArray(o.filter(r=>"Overlays"===r.filtertype))}filterBaseLayers(){const o=this.store.getValue();return this.flattenDeepArray(o.filter(r=>"Baselayers"===r.filtertype))}filterLayers(){const o=this.store.getValue();return this.flattenDeepArray(o.filter(r=>"Layers"===r.filtertype))}filterFiltertype(o){"Baselayers"===o?this.baseLayers.next(this.filterBaseLayers()):"Overlays"===o?this.overlays.next(this.filterOverlays()):"Layers"===o&&this.layers.next(this.filterLayers())}sortLayerGroup(o){return o.layers.sort((a,r)=>{let c=0;return a instanceof A?c=1:r instanceof A&&(c=-1),c}),o}static{this.\u0275fac=function(a){return new(a||_)}}static{this.\u0275prov=U.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})()},6478:(X,M,y)=>{y.d(M,{y:()=>f,d:()=>B});class f{constructor(g,d,C,u=[-180,-90,180,90],G=(new Date).toISOString(),P=0,x=0){this.zoom=g,this.center=d,this.extent=u,this.time=G,this.viewAngle=P,this.rotation=x,this.options=Object.assign({maxzoom:0,minzoom:0,notifier:"map"},C)}sameCenter(g){return this.center.lat===g.lat&&this.center.lon===g.lon}sameZoom(g){return this.zoom===g}sameExtent(g){let C=!1;return this.extent.length===g.length&&(C=this.extent.every((u,G)=>g[G]===u)),C}sameNotifier(g){return this.options.notifier===g}}var v=y(5981),L=y(3527),j=y(3279);const w=new f(0,{lat:0,lon:0});let B=(()=>{class S{constructor(){this.mapState=new v.t(w),this.lastAction=new v.t(null)}getMapState(){return this.mapState}setMapState(d){if(d)if(this.lastAction.next("setState"),d instanceof f){const C=new f(d.zoom,d.center,d.options,d.extent,d.time,d.viewAngle,d.rotation);this.mapState.next(C)}else{const C={notifier:"user",...d.options},u=new f(d.zoom,d.center,C,d.extent,d.time,d.viewAngle,d.rotation);this.mapState.next(u)}}getExtent(){return this.mapState.pipe((0,L.T)(d=>d.extent))}setExtent(d,C="user"){if(!Array.isArray(d))return;this.lastAction.next("setExtent");const u=this.getMapState().getValue();u.options.notifier=C;const G=new f(u.zoom,u.center,u.options,d,u.time,u.viewAngle,u.rotation);this.mapState.next(G)}setTime(d,C="user"){this.lastAction.next("setTime");const u=this.getMapState().getValue();u.options.notifier=C,u.time=d instanceof Date?d.toISOString():d,this.setMapState(u)}setViewAngle(d,C="user"){if(isNaN(d))return;this.lastAction.next("setAngle");const u=this.getMapState().getValue();u.options.notifier=C;const G=new f(u.zoom,u.center,u.options,u.extent,u.time,d,u.rotation);this.mapState.next(G)}setRotation(d,C="user"){if(isNaN(d))return;this.lastAction.next("setRotation");const u=this.getMapState().getValue();u.options.notifier=C;const G=new f(u.zoom,u.center,u.options,u.extent,u.time,u.viewAngle,d);this.mapState.next(G)}getLastAction(){return this.lastAction}static{this.\u0275fac=function(C){return new(C||S)}}static{this.\u0275prov=j.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})()},7846:(X,M,y)=>{y.d(M,{F:()=>L});const L=["cog",(0,y(6256).s)({outline:'<path d="M18.1,11c-3.9,0-7,3.1-7,7s3.1,7,7,7c3.9,0,7-3.1,7-7S22,11,18.1,11z M18.1,23c-2.8,0-5-2.2-5-5s2.2-5,5-5c2.8,0,5,2.2,5,5S20.9,23,18.1,23z"/><path d="M32.8,14.7L30,13.8l-0.6-1.5l1.4-2.6c0.3-0.6,0.2-1.4-0.3-1.9l-2.4-2.4c-0.5-0.5-1.3-0.6-1.9-0.3l-2.6,1.4l-1.5-0.6l-0.9-2.8C21,2.5,20.4,2,19.7,2h-3.4c-0.7,0-1.3,0.5-1.4,1.2L14,6c-0.6,0.1-1.1,0.3-1.6,0.6L9.8,5.2C9.2,4.9,8.4,5,7.9,5.5L5.5,7.9C5,8.4,4.9,9.2,5.2,9.8l1.3,2.5c-0.2,0.5-0.4,1.1-0.6,1.6l-2.8,0.9C2.5,15,2,15.6,2,16.3v3.4c0,0.7,0.5,1.3,1.2,1.5L6,22.1l0.6,1.5l-1.4,2.6c-0.3,0.6-0.2,1.4,0.3,1.9l2.4,2.4c0.5,0.5,1.3,0.6,1.9,0.3l2.6-1.4l1.5,0.6l0.9,2.9c0.2,0.6,0.8,1.1,1.5,1.1h3.4c0.7,0,1.3-0.5,1.5-1.1l0.9-2.9l1.5-0.6l2.6,1.4c0.6,0.3,1.4,0.2,1.9-0.3l2.4-2.4c0.5-0.5,0.6-1.3,0.3-1.9l-1.4-2.6l0.6-1.5l2.9-0.9c0.6-0.2,1.1-0.8,1.1-1.5v-3.4C34,15.6,33.5,14.9,32.8,14.7z M32,19.4l-3.6,1.1L28.3,21c-0.3,0.7-0.6,1.4-0.9,2.1l-0.3,0.5l1.8,3.3l-2,2l-3.3-1.8l-0.5,0.3c-0.7,0.4-1.4,0.7-2.1,0.9l-0.5,0.1L19.4,32h-2.8l-1.1-3.6L15,28.3c-0.7-0.3-1.4-0.6-2.1-0.9l-0.5-0.3l-3.3,1.8l-2-2l1.8-3.3l-0.3-0.5c-0.4-0.7-0.7-1.4-0.9-2.1l-0.1-0.5L4,19.4v-2.8l3.4-1l0.2-0.5c0.2-0.8,0.5-1.5,0.9-2.2l0.3-0.5L7.1,9.1l2-2l3.2,1.8l0.5-0.3c0.7-0.4,1.4-0.7,2.2-0.9l0.5-0.2L16.6,4h2.8l1.1,3.5L21,7.7c0.7,0.2,1.4,0.5,2.1,0.9l0.5,0.3l3.3-1.8l2,2l-1.8,3.3l0.3,0.5c0.4,0.7,0.7,1.4,0.9,2.1l0.1,0.5l3.6,1.1V19.4z"/>',outlineAlerted:'<path d="M33.7,15.4h-5.3v0.1l3.6,1.1v2.8l-3.6,1.1L28.3,21c-0.3,0.7-0.6,1.4-0.9,2.1l-0.3,0.5l1.8,3.3l-2,2l-3.3-1.8l-0.5,0.3c-0.7,0.4-1.4,0.7-2.1,0.9l-0.5,0.1L19.4,32h-2.8l-1.1-3.6L15,28.3c-0.7-0.3-1.4-0.6-2.1-0.9l-0.5-0.3l-3.3,1.8l-2-2l1.8-3.3l-0.3-0.5c-0.4-0.7-0.7-1.4-0.9-2.1l-0.1-0.5L4,19.4v-2.8l3.4-1l0.2-0.5c0.2-0.8,0.5-1.5,0.9-2.2l0.3-0.5L7.1,9.1l2-2l3.2,1.8l0.5-0.3c0.7-0.4,1.4-0.7,2.2-0.9l0.5-0.2L16.6,4h2.8l1.1,3.4l1.4-2.3l-0.6-2C21,2.4,20.4,2,19.7,2h-3.4c-0.7,0-1.3,0.5-1.4,1.2L14,6c-0.6,0.1-1.1,0.3-1.6,0.6L9.8,5.2C9.2,4.9,8.4,5,7.9,5.5L5.5,7.9C5,8.4,4.9,9.2,5.2,9.8l1.3,2.5c-0.2,0.5-0.4,1.1-0.6,1.6l-2.8,0.9C2.5,15,2,15.6,2,16.3v3.4c0,0.7,0.5,1.3,1.2,1.5L6,22.1l0.6,1.5l-1.4,2.6c-0.3,0.6-0.2,1.4,0.3,1.9l2.4,2.4c0.5,0.5,1.3,0.6,1.9,0.3l2.6-1.4l1.5,0.6l0.9,2.9c0.2,0.6,0.8,1.1,1.5,1.1h3.4c0.7,0,1.3-0.5,1.5-1.1l0.9-2.9l1.5-0.6l2.6,1.4c0.6,0.3,1.4,0.2,1.9-0.3l2.4-2.4c0.5-0.5,0.6-1.3,0.3-1.9l-1.4-2.6l0.6-1.5l2.9-0.9c0.6-0.2,1.1-0.8,1.1-1.5v-3.4C34,16,33.9,15.7,33.7,15.4z"/><path d="M18.1,23c-2.8,0-5-2.2-5-5s2.2-5,5-5c0.2,0,0.5,0,0.7,0.1c-0.2-0.6-0.3-1.3-0.2-2h-0.5c-3.9,0-7,3.1-7,7c0,3.9,3.1,7,7,7c3.9,0,7-3.1,7-7c0-0.9-0.2-1.8-0.5-2.6h-2.2c0.5,0.8,0.7,1.6,0.7,2.5C23.1,20.8,20.9,23,18.1,23z"/>',outlineBadged:'<path d="M11.1,18c0,3.9,3.1,7,7,7c3.9,0,7-3.1,7-7s-3.1-7-7-7C14.2,11,11.1,14.1,11.1,18z M23.1,18c0,2.8-2.2,5-5,5c-2.8,0-5-2.2-5-5s2.2-5,5-5C20.9,13,23.1,15.2,23.1,18z"/><path d="M32.8,14.7L30,13.8l-0.1-0.3c-0.8,0-1.6-0.2-2.4-0.4c0.3,0.6,0.6,1.3,0.8,1.9l0.1,0.5l3.6,1.1v2.8l-3.6,1.1L28.3,21c-0.3,0.7-0.6,1.4-0.9,2.1l-0.3,0.5l1.8,3.3l-2,2l-3.3-1.8l-0.5,0.3c-0.7,0.4-1.4,0.7-2.1,0.9l-0.5,0.1L19.4,32h-2.8l-1.1-3.6L15,28.3c-0.7-0.3-1.4-0.6-2.1-0.9l-0.5-0.3l-3.3,1.8l-2-2l1.8-3.3l-0.3-0.5c-0.4-0.7-0.7-1.4-0.9-2.1l-0.1-0.5L4,19.4v-2.8l3.4-1l0.2-0.5c0.2-0.8,0.5-1.5,0.9-2.2l0.3-0.5L7.1,9.1l2-2l3.2,1.8l0.5-0.3c0.7-0.4,1.4-0.7,2.2-0.9l0.5-0.2L16.6,4h2.8l1.1,3.5L21,7.7c0.7,0.2,1.3,0.5,1.9,0.8c-0.3-0.8-0.4-1.6-0.4-2.5l-0.4-0.2l-0.9-2.8C21,2.5,20.4,2,19.7,2h-3.4c-0.7,0-1.3,0.5-1.4,1.2L14,6c-0.6,0.1-1.1,0.3-1.6,0.6L9.8,5.2C9.2,4.9,8.4,5,7.9,5.5L5.5,7.9C5,8.4,4.9,9.2,5.2,9.8l1.3,2.5c-0.2,0.5-0.4,1.1-0.6,1.6l-2.8,0.9C2.5,15,2,15.6,2,16.3v3.4c0,0.7,0.5,1.3,1.2,1.5L6,22.1l0.6,1.5l-1.4,2.6c-0.3,0.6-0.2,1.4,0.3,1.9l2.4,2.4c0.5,0.5,1.3,0.6,1.9,0.3l2.6-1.4l1.5,0.6l0.9,2.9c0.2,0.6,0.8,1.1,1.5,1.1h3.4c0.7,0,1.3-0.5,1.5-1.1l0.9-2.9l1.5-0.6l2.6,1.4c0.6,0.3,1.4,0.2,1.9-0.3l2.4-2.4c0.5-0.5,0.6-1.3,0.3-1.9l-1.4-2.6l0.6-1.5l2.9-0.9c0.6-0.2,1.1-0.8,1.1-1.5v-3.4C34,15.6,33.5,14.9,32.8,14.7z"/>',solid:'<path d="M32.57,15.72l-3.35-1a11.65,11.65,0,0,0-.95-2.33l1.64-3.07a.61.61,0,0,0-.11-.72L27.41,6.2a.61.61,0,0,0-.72-.11L23.64,7.72a11.62,11.62,0,0,0-2.36-1l-1-3.31A.61.61,0,0,0,19.69,3H16.31a.61.61,0,0,0-.58.43l-1,3.3a11.63,11.63,0,0,0-2.38,1l-3-1.62a.61.61,0,0,0-.72.11L6.2,8.59a.61.61,0,0,0-.11.72l1.62,3a11.63,11.63,0,0,0-1,2.37l-3.31,1a.61.61,0,0,0-.43.58v3.38a.61.61,0,0,0,.43.58l3.33,1a11.62,11.62,0,0,0,1,2.33L6.09,26.69a.61.61,0,0,0,.11.72L8.59,29.8a.61.61,0,0,0,.72.11l3.09-1.65a11.65,11.65,0,0,0,2.3.94l1,3.37a.61.61,0,0,0,.58.43h3.38a.61.61,0,0,0,.58-.43l1-3.38a11.63,11.63,0,0,0,2.28-.94l3.11,1.66a.61.61,0,0,0,.72-.11l2.39-2.39a.61.61,0,0,0,.11-.72l-1.66-3.1a11.63,11.63,0,0,0,.95-2.29l3.37-1a.61.61,0,0,0,.43-.58V16.31A.61.61,0,0,0,32.57,15.72ZM18,23.5A5.5,5.5,0,1,1,23.5,18,5.5,5.5,0,0,1,18,23.5Z"/>',solidAlerted:'<path d="M32.57,15.72,31.5,15.4H22.85A5.5,5.5,0,1,1,18,12.5a5.53,5.53,0,0,1,.65,0A3.68,3.68,0,0,1,19,9.89l2.09-3.62-.86-2.83A.61.61,0,0,0,19.69,3H16.31a.61.61,0,0,0-.58.43l-1,3.3a11.63,11.63,0,0,0-2.38,1l-3-1.62a.61.61,0,0,0-.72.11L6.2,8.59a.61.61,0,0,0-.11.72l1.62,3a11.63,11.63,0,0,0-1,2.37l-3.31,1a.61.61,0,0,0-.43.58v3.38a.61.61,0,0,0,.43.58l3.33,1a11.62,11.62,0,0,0,1,2.33L6.09,26.69a.61.61,0,0,0,.11.72L8.59,29.8a.61.61,0,0,0,.72.11l3.09-1.65a11.65,11.65,0,0,0,2.3.94l1,3.37a.61.61,0,0,0,.58.43h3.38a.61.61,0,0,0,.58-.43l1-3.38a11.63,11.63,0,0,0,2.28-.94l3.11,1.66a.61.61,0,0,0,.72-.11l2.39-2.39a.61.61,0,0,0,.11-.72l-1.66-3.1a11.63,11.63,0,0,0,.95-2.29l3.37-1a.61.61,0,0,0,.43-.58V16.31A.61.61,0,0,0,32.57,15.72Z"/>',solidBadged:'<path d="M32.57,15.72l-3.35-1a12.12,12.12,0,0,0-.47-1.32,7.49,7.49,0,0,1-6.14-6.16,11.82,11.82,0,0,0-1.33-.48l-1-3.31A.61.61,0,0,0,19.69,3H16.31a.61.61,0,0,0-.58.43l-1,3.3a11.63,11.63,0,0,0-2.38,1l-3-1.62a.61.61,0,0,0-.72.11L6.2,8.59a.61.61,0,0,0-.11.72l1.62,3a11.63,11.63,0,0,0-1,2.37l-3.31,1a.61.61,0,0,0-.43.58v3.38a.61.61,0,0,0,.43.58l3.33,1a11.62,11.62,0,0,0,1,2.33L6.09,26.69a.61.61,0,0,0,.11.72L8.59,29.8a.61.61,0,0,0,.72.11l3.09-1.65a11.65,11.65,0,0,0,2.3.94l1,3.37a.61.61,0,0,0,.58.43h3.38a.61.61,0,0,0,.58-.43l1-3.38a11.63,11.63,0,0,0,2.28-.94l3.11,1.66a.61.61,0,0,0,.72-.11l2.39-2.39a.61.61,0,0,0,.11-.72l-1.66-3.1a11.63,11.63,0,0,0,.95-2.29l3.37-1a.61.61,0,0,0,.43-.58V16.31A.61.61,0,0,0,32.57,15.72ZM18,23.5A5.5,5.5,0,1,1,23.5,18,5.5,5.5,0,0,1,18,23.5Z"/>'})]},479:(X,M,y)=>{y.d(M,{Q:()=>L});const L=["layers",(0,y(6256).s)({outline:'<path d="M18,20.25a1,1,0,0,1-.43-.1l-15-7.09a1,1,0,0,1,0-1.81l15-7.09a1,1,0,0,1,.85,0l15,7.09a1,1,0,0,1,0,1.81l-15,7.09A1,1,0,0,1,18,20.25ZM5.34,12.16l12.66,6,12.66-6L18,6.18Z"/><path d="M18,26.16a1,1,0,0,1-.43-.1L2.57,19a1,1,0,1,1,.85-1.81L18,24.06l14.57-6.89A1,1,0,1,1,33.43,19l-15,7.09A1,1,0,0,1,18,26.16Z"/><path d="M18,32.07a1,1,0,0,1-.43-.1l-15-7.09a1,1,0,0,1,.85-1.81L18,30l14.57-6.89a1,1,0,1,1,.85,1.81L18.43,32A1,1,0,0,1,18,32.07Z"/>',solid:'<path d="M18,20.25a1,1,0,0,1-.43-.1l-15-7.09a1,1,0,0,1,0-1.81l15-7.09a1,1,0,0,1,.85,0l15,7.09a1,1,0,0,1,0,1.81l-15,7.09A1,1,0,0,1,18,20.25Z"/><path d="M18,26.16a1,1,0,0,1-.43-.1L2.57,19a1,1,0,1,1,.85-1.81L18,24.06l14.57-6.89A1,1,0,1,1,33.43,19l-15,7.09A1,1,0,0,1,18,26.16Z"/><path d="M18,32.07a1,1,0,0,1-.43-.1l-15-7.09a1,1,0,0,1,.85-1.81L18,30l14.57-6.89a1,1,0,1,1,.85,1.81L18.43,32A1,1,0,0,1,18,32.07Z"/>'})]},7421:(X,M,y)=>{y.d(M,{A:()=>L});const L=["world",(0,y(6256).s)({outline:'<path d="M26.54,18a19.38,19.38,0,0,0-.43-4h3.6a12.3,12.3,0,0,0-.67-1.6H25.69A19.72,19.72,0,0,0,22.8,6.53a12.3,12.3,0,0,0-2.55-.76,17.83,17.83,0,0,1,3.89,6.59H18.75V5.6c-.25,0-.51,0-.77,0s-.49,0-.73,0v6.77H11.86a17.83,17.83,0,0,1,3.9-6.6,12.28,12.28,0,0,0-2.54.75,19.72,19.72,0,0,0-2.91,5.85H6.94A12.3,12.3,0,0,0,6.26,14H9.89a19.38,19.38,0,0,0-.43,4,19.67,19.67,0,0,0,.5,4.37H6.42A12.34,12.34,0,0,0,7.16,24h3.23a19.32,19.32,0,0,0,2.69,5.36,12.28,12.28,0,0,0,2.61.79A17.91,17.91,0,0,1,12,24h5.26v6.34c.24,0,.49,0,.73,0s.51,0,.77,0V24H24a17.9,17.9,0,0,1-3.7,6.15,12.28,12.28,0,0,0,2.62-.81A19.32,19.32,0,0,0,25.61,24h3.2a12.34,12.34,0,0,0,.74-1.6H26A19.67,19.67,0,0,0,26.54,18Zm-9.29,4.37H11.51a17.69,17.69,0,0,1-.09-8.4h5.83Zm7.24,0H18.75V14h5.83A18.21,18.21,0,0,1,25,18,18.12,18.12,0,0,1,24.49,22.37Z"/><path d="M18,2A16,16,0,1,0,34,18,16,16,0,0,0,18,2Zm0,30A14,14,0,1,1,32,18,14,14,0,0,1,18,32Z"/>',outlineBadged:'<path d="M33.12,12.81a7.44,7.44,0,0,1-1.91.58,14.05,14.05,0,1,1-8.6-8.6,7.43,7.43,0,0,1,.58-1.91,16.06,16.06,0,1,0,9.93,9.93Z"/><path d="M20.25,5.77a17.83,17.83,0,0,1,3.89,6.59H18.75V5.6c-.25,0-.51,0-.77,0s-.49,0-.73,0v6.77H11.86a17.83,17.83,0,0,1,3.9-6.6,12.28,12.28,0,0,0-2.54.75,19.72,19.72,0,0,0-2.91,5.85H6.94A12.3,12.3,0,0,0,6.26,14H9.89a19.38,19.38,0,0,0-.43,4,19.67,19.67,0,0,0,.5,4.37H6.42A12.34,12.34,0,0,0,7.16,24h3.23a19.32,19.32,0,0,0,2.69,5.36,12.28,12.28,0,0,0,2.61.79A17.91,17.91,0,0,1,12,24h5.26v6.34c.24,0,.49,0,.73,0s.51,0,.77,0V24H24a17.9,17.9,0,0,1-3.7,6.15,12.28,12.28,0,0,0,2.62-.81A19.32,19.32,0,0,0,25.61,24h3.2a12.34,12.34,0,0,0,.74-1.6H26a19.67,19.67,0,0,0,.5-4.37,19.38,19.38,0,0,0-.43-4h3.6c-.06-.17-.12-.33-.19-.49a7.45,7.45,0,0,1-3.47-1.11h-.36c0-.11-.08-.21-.11-.32a7.48,7.48,0,0,1-3.06-5.62A12.41,12.41,0,0,0,20.25,5.77Zm-3,16.59H11.51a17.69,17.69,0,0,1-.09-8.4h5.83ZM25,18a18.12,18.12,0,0,1-.55,4.37H18.75V14h5.83A18.21,18.21,0,0,1,25,18Z"/>',solid:'<path d="M10.05,18a20.46,20.46,0,0,0,.62,4.93h6.48V13.45H10.58A20.55,20.55,0,0,0,10.05,18Z"/><path d="M18.85,13.45v9.48h6.48A20.46,20.46,0,0,0,26,18a20.55,20.55,0,0,0-.52-4.55Z"/><path d="M18,2A16,16,0,1,0,34,18,16,16,0,0,0,18,2ZM30.22,24.71H26.6a21.8,21.8,0,0,1-3,6,13.86,13.86,0,0,1-3,.92,20.21,20.21,0,0,0,4.18-6.94H18.86v7.15c-.29,0-.57,0-.86,0s-.55,0-.83,0V24.71H11.22a20.21,20.21,0,0,0,4.18,6.95,13.86,13.86,0,0,1-2.94-.9,21.8,21.8,0,0,1-3-6.05H5.78a13.94,13.94,0,0,1-.83-1.81h4A22.2,22.2,0,0,1,8.37,18a21.88,21.88,0,0,1,.48-4.55H4.76a13.88,13.88,0,0,1,.76-1.81H9.33A22.26,22.26,0,0,1,12.61,5a13.86,13.86,0,0,1,2.87-.84,20.13,20.13,0,0,0-4.4,7.45h6.09V4c.28,0,.55,0,.83,0s.58,0,.86,0v7.64h6.09a20.13,20.13,0,0,0-4.39-7.44A13.89,13.89,0,0,1,23.43,5a22.26,22.26,0,0,1,3.27,6.59h3.77a13.89,13.89,0,0,1,.76,1.81H27.17A21.88,21.88,0,0,1,27.66,18a22.2,22.2,0,0,1-.57,4.93h4A13.94,13.94,0,0,1,30.22,24.71Z"/>',solidBadged:'<path d="M10.05,18a20.46,20.46,0,0,0,.62,4.93h6.48V13.45H10.58A20.55,20.55,0,0,0,10.05,18Z"/><path d="M18.85,22.94h6.48A20.46,20.46,0,0,0,26,18a20.55,20.55,0,0,0-.52-4.55H18.85Z"/><path d="M33.12,12.81a7.44,7.44,0,0,1-1.9.58v0H31a6.77,6.77,0,0,1-2.07,0h-1.8A21.88,21.88,0,0,1,27.66,18a22.2,22.2,0,0,1-.57,4.93h4a13.94,13.94,0,0,1-.83,1.81H26.6a21.8,21.8,0,0,1-3,6,13.86,13.86,0,0,1-3,.92,20.21,20.21,0,0,0,4.18-6.94H18.86v7.15c-.29,0-.57,0-.86,0s-.55,0-.83,0V24.71H11.22a20.21,20.21,0,0,0,4.18,6.95,13.86,13.86,0,0,1-2.94-.9,21.8,21.8,0,0,1-3-6.05H5.78a13.94,13.94,0,0,1-.83-1.81h4A22.2,22.2,0,0,1,8.37,18a21.88,21.88,0,0,1,.48-4.55H4.76a13.88,13.88,0,0,1,.76-1.81H9.33A22.26,22.26,0,0,1,12.61,5a13.86,13.86,0,0,1,2.87-.84,20.13,20.13,0,0,0-4.4,7.45h6.09V4c.28,0,.55,0,.83,0s.58,0,.86,0v7.64h6.09l0-.13a7.47,7.47,0,0,1-2.36-4.76,20.37,20.37,0,0,0-2-2.55,14.23,14.23,0,0,1,2.06.56,7.44,7.44,0,0,1,.57-1.86,16.06,16.06,0,1,0,9.93,9.93Z"/>'})]}}]);