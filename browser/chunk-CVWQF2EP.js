import{Aa as q,Ba as V,H as w,I as D,Ja as v,Ka as X,La as T,Ma as S,Na as o,Oa as l,Pa as f,Qa as h,Ra as E,Sa as A,Ta as b,Ua as x,Va as u,g as I,oa as j,pa as U,qa as W,ra as K,sa as H,w as G}from"./chunk-OTRZYAA2.js";var N=class extends V{constructor(e){super(),e=e||{},this.layerName_=e.layerName,this.layers_=e.layers?e.layers:null,this.dataProjection=G(e.dataProjection?e.dataProjection:"EPSG:4326")}readFeaturesFromObject(e,r){if(e.type=="Topology"){let n=e,i,c=null,s=null;n.transform&&(i=n.transform,c=i.scale,s=i.translate);let a=n.arcs;i&&ut(a,c,s);let d=[],m=n.objects,y=this.layerName_,R;for(let p in m)this.layers_&&!this.layers_.includes(p)||(m[p].type==="GeometryCollection"?(R=m[p],d.push.apply(d,at(R,a,c,s,y,p,r))):(R=m[p],d.push(Y(R,a,c,s,y,p,r))));return d}return[]}readProjectionFromObject(e){return this.dataProjection}},k={Point:tt,LineString:rt,Polygon:ot,MultiPoint:et,MultiLineString:nt,MultiPolygon:it};function L(t,e){let r=[],n;for(let i=0,c=t.length;i<c;++i)if(n=t[i],i>0&&r.pop(),n>=0){let s=e[n];for(let a=0,d=s.length;a<d;++a)r.push(s[a].slice(0))}else{let s=e[~n];for(let a=s.length-1;a>=0;--a)r.push(s[a].slice(0))}return r}function tt(t,e,r){let n=t.coordinates;return e&&r&&_(n,e,r),new w(n)}function et(t,e,r){let n=t.coordinates;if(e&&r)for(let i=0,c=n.length;i<c;++i)_(n[i],e,r);return new K(n)}function rt(t,e){let r=L(t.arcs,e);return new U(r)}function nt(t,e){let r=[];for(let n=0,i=t.arcs.length;n<i;++n)r[n]=L(t.arcs[n],e);return new W(r)}function ot(t,e){let r=[];for(let n=0,i=t.arcs.length;n<i;++n)r[n]=L(t.arcs[n],e);return new D(r)}function it(t,e){let r=[];for(let n=0,i=t.arcs.length;n<i;++n){let c=t.arcs[n],s=[];for(let a=0,d=c.length;a<d;++a)s[a]=L(c[a],e);r[n]=s}return new H(r)}function at(t,e,r,n,i,c,s){let a=t.geometries,d=[];for(let m=0,y=a.length;m<y;++m)d[m]=Y(a[m],e,r,n,i,c,s);return d}function Y(t,e,r,n,i,c,s){let a=null,d=t.type;if(d){let R=k[d];d==="Point"||d==="MultiPoint"?a=R(t,r,n):a=R(t,e),a=q(a,!1,s)}let m=new j({geometry:a});t.id!==void 0&&m.setId(t.id);let y=t.properties;return i&&(y||(y={}),y[i]=c),y&&m.setProperties(y,!0),m}function ut(t,e,r){for(let n=0,i=t.length;n<i;++n)st(t[n],e,r)}function st(t,e,r){let n=0,i=0;for(let c=0,s=t.length;c<s;++c){let a=t[c];n+=a[0],i+=a[1],a[0]=n,a[1]=i,_(a,e,r)}}function _(t,e,r){t[0]=t[0]*e[0]+r[0],t[1]=t[1]*e[1]+r[1]}var ct=N;var B=class{read(e){if(!e)return null;if(typeof e=="string"){let r=X(e);return this.readFromDocument(r)}return v(e)?this.readFromDocument(e):this.readFromNode(e)}readFromDocument(e){for(let r=e.firstChild;r;r=r.nextSibling)if(r.nodeType==Node.ELEMENT_NODE)return this.readFromNode(r);return null}readFromNode(e){I()}},J=B;var dt="http://www.w3.org/1999/xlink";function O(t){return t.getAttributeNS(dt,"href")}var g=[null,"http://www.opengis.net/wms"],ft=l(g,{Service:o(Bt),Capability:o(_t)}),lt=l(g,{Request:o(jt),Exception:o(Gt),Layer:o(wt)}),M=class extends J{constructor(){super(),this.version=void 0}readFromNode(e){this.version=e.getAttribute("version").trim();let r=f({version:this.version},ft,e,[]);return r||null}},mt=l(g,{Name:o(u),Title:o(u),Abstract:o(u),KeywordList:o($),OnlineResource:o(O),ContactInformation:o(Ft),Fees:o(u),AccessConstraints:o(u),LayerLimit:o(b),MaxWidth:o(b),MaxHeight:o(b)}),gt=l(g,{ContactPersonPrimary:o(Mt),ContactPosition:o(u),ContactAddress:o(It),ContactVoiceTelephone:o(u),ContactFacsimileTelephone:o(u),ContactElectronicMailAddress:o(u)}),pt=l(g,{ContactPerson:o(u),ContactOrganization:o(u)}),St=l(g,{AddressType:o(u),Address:o(u),City:o(u),StateOrProvince:o(u),PostCode:o(u),Country:o(u)}),yt=l(g,{Format:T(u)}),z=l(g,{Name:o(u),Title:o(u),Abstract:o(u),KeywordList:o($),CRS:S(u),EX_GeographicBoundingBox:o(Nt),BoundingBox:S(Tt),Dimension:S(Dt),Attribution:o(Ct),AuthorityURL:S(Kt),Identifier:S(u),MetadataURL:S(Ht),DataURL:S(P),FeatureListURL:S(P),Style:S(qt),MinScaleDenominator:o(E),MaxScaleDenominator:o(E),Layer:S(Q)}),At=l(g,{Title:o(u),OnlineResource:o(O),LogoURL:o(Z)}),Pt=l(g,{westBoundLongitude:o(E),eastBoundLongitude:o(E),southBoundLatitude:o(E),northBoundLatitude:o(E)}),Rt=l(g,{GetCapabilities:o(F),GetMap:o(F),GetFeatureInfo:o(F)}),ht=l(g,{Format:S(u),DCPType:S(Ut)}),Et=l(g,{HTTP:o(Wt)}),bt=l(g,{Get:o(P),Post:o(P)}),xt=l(g,{Name:o(u),Title:o(u),Abstract:o(u),LegendURL:S(Z),StyleSheetURL:o(P),StyleURL:o(P)}),Lt=l(g,{Format:o(u),OnlineResource:o(O)}),Ot=l(g,{Keyword:T(u)});function Ct(t,e){return f({},At,t,e)}function Tt(t,e){let r=[A(t.getAttribute("minx")),A(t.getAttribute("miny")),A(t.getAttribute("maxx")),A(t.getAttribute("maxy"))],n=[A(t.getAttribute("resx")),A(t.getAttribute("resy"))];return{crs:t.getAttribute("CRS"),extent:r,res:n}}function Nt(t,e){let r=f({},Pt,t,e);if(!r)return;let n=r.westBoundLongitude,i=r.southBoundLatitude,c=r.eastBoundLongitude,s=r.northBoundLatitude;if(!(n===void 0||i===void 0||c===void 0||s===void 0))return[n,i,c,s]}function _t(t,e){return f({},lt,t,e)}function Bt(t,e){return f({},mt,t,e)}function Ft(t,e){return f({},gt,t,e)}function Mt(t,e){return f({},pt,t,e)}function It(t,e){return f({},St,t,e)}function Gt(t,e){return f([],yt,t,e)}function wt(t,e){let r=f({},z,t,e);return r.Layer===void 0?Object.assign(r,Q(t,e)):r}function Q(t,e){let r=e[e.length-1],n=f({},z,t,e);if(!n)return;let i=h(t.getAttribute("queryable"));i===void 0&&(i=r.queryable),n.queryable=i!==void 0?i:!1;let c=x(t.getAttribute("cascaded"));c===void 0&&(c=r.cascaded),n.cascaded=c;let s=h(t.getAttribute("opaque"));s===void 0&&(s=r.opaque),n.opaque=s!==void 0?s:!1;let a=h(t.getAttribute("noSubsets"));a===void 0&&(a=r.noSubsets),n.noSubsets=a!==void 0?a:!1;let d=A(t.getAttribute("fixedWidth"));d||(d=r.fixedWidth),n.fixedWidth=d;let m=A(t.getAttribute("fixedHeight"));return m||(m=r.fixedHeight),n.fixedHeight=m,["Style","CRS","AuthorityURL"].forEach(function(p){if(p in r){let C=n[p]||[];n[p]=C.concat(r[p])}}),["EX_GeographicBoundingBox","BoundingBox","Dimension","Attribution","MinScaleDenominator","MaxScaleDenominator"].forEach(function(p){if(!(p in n)){let C=r[p];n[p]=C}}),n}function Dt(t,e){return{name:t.getAttribute("name"),units:t.getAttribute("units"),unitSymbol:t.getAttribute("unitSymbol"),default:t.getAttribute("default"),multipleValues:h(t.getAttribute("multipleValues")),nearestValue:h(t.getAttribute("nearestValue")),current:h(t.getAttribute("current")),values:u(t)}}function P(t,e){return f({},Lt,t,e)}function jt(t,e){return f({},Rt,t,e)}function Ut(t,e){return f({},Et,t,e)}function Wt(t,e){return f({},bt,t,e)}function F(t,e){return f({},ht,t,e)}function Z(t,e){let r=P(t,e);if(r){let n=[x(t.getAttribute("width")),x(t.getAttribute("height"))];return r.size=n,r}}function Kt(t,e){let r=P(t,e);if(r)return r.name=t.getAttribute("name"),r}function Ht(t,e){let r=P(t,e);if(r)return r.type=t.getAttribute("type"),r}function qt(t,e){return f({},xt,t,e)}function $(t,e){return f([],Ot,t,e)}var Vt=M;export{ct as a,Vt as b};
