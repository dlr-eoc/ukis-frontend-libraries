import{c as U,e as X,i as Y}from"./chunk-P62NUZ5D.js";import{pb as C,qb as Z}from"./chunk-A6CGQVP3.js";import{m as Q,s as h,u as g,v as ee,w as te}from"./chunk-RM6VSO6X.js";import{Ca as w,Da as D,Dc as z,E as i,Ec as $,Fc as H,G as v,Ga as O,Gc as J,Hc as W,I as L,Ic as q,J as x,Kc as A,M as N,Oa as R,P as p,S as V,T as _,U as u,V as y,W as S,X as a,Y as n,Ya as E,Z as c,ca as f,dc as G,ec as P,hd as K,la as l,ma as s,pb as j,q as b,sa as T,sb as B,ta as m,ua as F,xb as k}from"./chunk-G5LJQFAD.js";import"./chunk-FJYW2LMB.js";var M=()=>({height:"95%"}),re=()=>({height:"5%"}),oe=t=>({left:t});function ne(t,d){if(t&1&&(a(0,"tr")(1,"td",15),l(2),n(),a(3,"td"),l(4),n(),a(5,"td"),l(6),n(),a(7,"td"),l(8),n()()),t&2){let e=d.$implicit;i(2),s(e.properties.title),i(2),s(e.properties.foo),i(2),s(e.properties.bar),i(2),s(e.properties.baz)}}function le(t,d){if(t&1&&(a(0,"table",13)(1,"thead")(2,"tr")(3,"th",15),l(4,"Title"),n(),a(5,"th"),l(6,"Foo"),n(),a(7,"th"),l(8,"Bar"),n(),a(9,"th"),l(10,"Baz"),n()()(),a(11,"tbody"),y(12,ne,9,4,"tr",null,u),n()()),t&2){let e=f();i(12),S(e.geojsonData.features)}}function pe(t,d){if(t&1&&(a(0,"th",16),l(1),n()),t&2){let e=d.$implicit,r=d.$index;p("ngClass",F(2,oe,r===0)),i(),s(e)}}function se(t,d){if(t&1&&(a(0,"tr")(1,"td",15),l(2),n(),a(3,"td"),l(4),n(),a(5,"td"),l(6),n(),a(7,"td"),l(8),n()()),t&2){let e=d.$implicit,r=f(2);i(2),s(e.properties[r.popupData.headers[0]]),i(2),s(e.properties[r.popupData.headers[1]]),i(2),s(e.properties[r.popupData.headers[2]]),i(2),s(e.properties[r.popupData.headers[3]])}}function ce(t,d){if(t&1&&(a(0,"table",13)(1,"thead")(2,"tr"),y(3,pe,2,4,"th",16,u),n()(),a(5,"tbody"),y(6,se,9,4,"tr",null,u),n()()),t&2){let e=f();i(3),S(e.popupData.headers),i(3),S(e.popupData.features)}}R.addIcons(k,B,j);var I=(()=>{class t{constructor(e,r,o){this.layersSvc=e,this.mapStateSvc=r,this.mapSvc=o,this.class="content-container",this.popupData={headers:[],features:[]},this.showTable=!1,this.subs=[],this.controls={attribution:!0,scaleLine:!0}}ngOnInit(){this.addBaseLayers(),this.addLayers(),this.addOverlays(),this.mapStateSvc.setExtent([-14,33,40,57]),this.checkVisibleLayers(),this.mapSvc.popupEvents.subscribe(e=>{if(e.popupParams.properties){this.popupData.headers=Object.keys(e.popupParams.properties);let r={properties:e.popupParams.properties};this.popupData.features=[r]}else this.popupData.features=[]})}addBaseLayers(){let e=new U({visible:!0}),r=new Y;[e,r].map(ae=>this.layersSvc.addLayer(ae,"Baselayers"))}addLayers(){this.geojsonData={type:"FeatureCollection",features:[{type:"Feature",properties:{title:"Polygon",foo:"1",bar:"test",baz:"555"},geometry:{type:"Polygon",coordinates:[[[11.53564453125,48.80686346108517],[11.42578125,48.61838518688487],[11.97509765625,48.516604348867475],[12.2607421875,48.69096039092549],[12.0849609375,48.99463598353405],[11.53564453125,48.80686346108517]]]}},{type:"Feature",properties:{title:"Rectangle",foo:"2",bar:"test2",baz:"66667"},geometry:{type:"Polygon",coordinates:[[[10.986328125,43.89789239125797],[11.755371093749998,43.89789239125797],[11.755371093749998,44.41808794374846],[10.986328125,44.41808794374846],[10.986328125,43.89789239125797]]]}},{type:"Feature",properties:{title:"Line",foo:"3",bar:"test3",baz:"111"},geometry:{type:"LineString",coordinates:[[13.29345703125,48.268569112964336],[15.073242187499998,47.56170075451973],[14.1064453125,46.40756396630067],[15.886230468750002,44.94924926661153]]}},{type:"Feature",properties:{title:"Point",foo:"4",bar:"test4",baz:"444"},geometry:{type:"Point",coordinates:[11.513671874999998,46.42271253466717]}}]};let e=new Q({id:"geojson_test",name:"GeoJSON Vector Layer",type:"geojson",data:this.geojsonData,visible:!1,popup:[{event:"click",asObservable:!0},{event:"move"}]});this.layersSvc.addLayer(e,"Layers")}checkVisibleLayers(){let e=this.layersSvc.getLayers().subscribe(r=>{r.map(o=>{o&&(o.id==="geojson_test"&&o.visible===!0?this.showTable=!0:o.id==="geojson_test"&&o.visible===!1&&(this.showTable=!1))})});this.subs.push(e)}addOverlays(){let e=new X;this.layersSvc.addLayer(e,"Overlays")}ngOnDestroy(){this.subs.forEach(e=>e.unsubscribe())}static{this.\u0275fac=function(r){return new(r||t)(v(h),v(g),v(C))}}static{this.\u0275cmp=L({type:t,selectors:[["app-route-map5"]],hostVars:2,hostBindings:function(r,o){r&2&&V(o.class)},features:[T([h,g,C])],decls:28,vars:27,consts:[[1,"content-area","map-view",3,"ngStyle"],["id","olMap",3,"layersSvc","mapState","controls"],[1,"right",3,"clrVerticalNavCollapsible","clr-nav-level","ngStyle"],[1,"layers",3,"clrVerticalNavGroupExpanded"],["shape","world","title","Overlays","clrVerticalNavIcon",""],[1,"padding","title-ellipsis"],[3,"layersSvc","mapStateSvc","layerfilter"],["shape","layers","clrVerticalNavIcon","","title","layers"],[3,"layersSvc","mapStateSvc"],["shape","world","title","Baselayers","clrVerticalNavIcon",""],[3,"clrVerticalNavCollapsible","ngStyle"],[3,"clrVerticalNavGroupExpanded"],["shape","table","title","Overlays","clrVerticalNavIcon",""],[1,"table"],[1,"footer","ukis-footer",3,"ngStyle"],[1,"left"],[3,"ngClass"]],template:function(r,o){r&1&&(a(0,"main",0),c(1,"ukis-map-ol",1),n(),a(2,"clr-vertical-nav",2)(3,"clr-vertical-nav-group",3),c(4,"cds-icon",4),l(5," Overlays "),a(6,"clr-vertical-nav-group-children",5),c(7,"ukis-layer-control",6),n()(),a(8,"clr-vertical-nav-group",3),c(9,"cds-icon",7),l(10," Layers "),a(11,"clr-vertical-nav-group-children",5),c(12,"ukis-layer-control",8),n()(),a(13,"clr-vertical-nav-group",3),c(14,"cds-icon",9),l(15," Baselayers "),a(16,"clr-vertical-nav-group-children",5),c(17,"ukis-base-layer-control",8),n()()(),a(18,"clr-vertical-nav",10)(19,"clr-vertical-nav-group",11),c(20,"cds-icon",12),l(21," Table "),a(22,"clr-vertical-nav-group-children",5),N(23,le,14,0,"table",13)(24,ce,8,0,"table",13),n()()(),a(25,"div",14)(26,"p"),l(27,"this is the footer"),n()()),r&2&&(p("ngStyle",m(23,M)),i(),p("layersSvc",o.layersSvc)("mapState",o.mapStateSvc)("controls",o.controls),i(),p("clrVerticalNavCollapsible",!0)("clr-nav-level",2)("ngStyle",m(24,M)),i(),p("clrVerticalNavGroupExpanded",!0),i(4),p("layersSvc",o.layersSvc)("mapStateSvc",o.mapStateSvc)("layerfilter","Overlays"),i(),p("clrVerticalNavGroupExpanded",!0),i(4),p("layersSvc",o.layersSvc)("mapStateSvc",o.mapStateSvc),i(),p("clrVerticalNavGroupExpanded",!0),i(4),p("layersSvc",o.layersSvc)("mapStateSvc",o.mapStateSvc),i(),p("clrVerticalNavCollapsible",!0)("ngStyle",m(25,M)),i(),p("clrVerticalNavGroupExpanded",o.showTable),i(4),_(o.showTable?23:-1),i(),_(o.popupData.features.length?24:-1),i(),p("ngStyle",m(26,re)))},dependencies:[D,Z,A,H,J,W,q,G,$,z,P,ee,te,w],encapsulation:2})}}return t})();var de=[{path:"",component:I}],me=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=x({type:t})}static{this.\u0275inj=b({imports:[E.forChild(de),E]})}}return t})(),Oe=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=x({type:t})}static{this.\u0275inj=b({imports:[O,me,K,I]})}}return t})();export{Oe as RouteMap5Module,me as RouteMap5RoutingModule};
