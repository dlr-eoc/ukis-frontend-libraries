import{c as Z}from"./chunk-P62NUZ5D.js";import{pb as ee,qb as te}from"./chunk-A6CGQVP3.js";import{q as X,r as C,s as f,u as v,v as re,w as ie}from"./chunk-RM6VSO6X.js";import{Dc as U,E as a,Ea as N,Ec as q,Fa as x,Fc as z,G as m,Ga as W,Gc as H,Hc as $,I as u,Ic as Y,J as g,Kc as K,La as T,M as S,Oa as V,P as s,S as F,T as I,U as b,V as E,W as P,X as n,Y as o,Ya as M,Z as c,dc as B,ec as k,f as R,hd as Q,la as p,ma as h,q as y,sa as G,sb as D,tc as J,uc as j,va as _,wa as L,xb as O}from"./chunk-G5LJQFAD.js";import"./chunk-FJYW2LMB.js";function oe(e,d){if(e&1&&(n(0,"tr")(1,"th"),p(2),o(),n(3,"td"),p(4),o()()),e&2){let t=d.$implicit;a(2),h(t.key),a(2),h(t.value)}}function se(e,d){e&1&&(n(0,"tbody"),E(1,oe,5,2,"tr",null,b),_(3,"keyvalue"),o()),e&2&&(a(),P(L(3,0,d)))}function le(e,d){e&1&&(n(0,"clr-spinner",1),p(1,"Loading ..."),o()),e&2&&s("clrInline",!0)}var A=(()=>{class e{constructor(t){this.http=t}ngOnInit(){this.data$=this.getFeatureInfo().pipe(R(t=>t.features[0].properties))}getFeatureInfo(){let t=this.layer.getSource().getFeatureInfoUrl(this.event.coordinate,this.event.frameState.viewState.resolution,this.event.frameState.viewState.projection.getCode(),{INFO_FORMAT:"application/json"});return console.log("getting",t),this.http.get(t)}static{this.\u0275fac=function(r){return new(r||e)(m(T))}}static{this.\u0275cmp=u({type:e,selectors:[["app-raster-feature-info"]],inputs:{layer:"layer",event:"event"},decls:6,vars:3,consts:[[1,"table","table-vertical"],[3,"clrInline"]],template:function(r,i){if(r&1&&(n(0,"table",0)(1,"caption"),p(2," Feature properties "),o(),S(3,se,4,2,"tbody"),_(4,"async"),S(5,le,2,1,"clr-spinner",1),o()),r&2){let l;a(3),I((l=L(4,1,i.data$))?3:5,l)}},dependencies:[j,J,N,x],encapsulation:2})}}return e})();V.addIcons(O,D);var w=(()=>{class e{constructor(t,r){this.layersSvc=t,this.mapStateSvc=r,this.class="content-container",this.subs=[],this.controls={attribution:!0,scaleLine:!0}}ngOnInit(){this.addBaseLayers(),this.addLayers(),this.mapStateSvc.setExtent([9.681317514755053,47.425291526740125,12.765729135848805,49.213103602937025]),this.layersSvc.getLayers().subscribe(t=>console.log("layers are now ",t))}addBaseLayers(){let t=new Z({visible:!0,tileSize:512});this.layersSvc.addLayer(t,"Baselayers")}addLayers(){let t=new X({type:"wmts",id:"TDM90_AMP",visible:!1,url:"https://tiles.geoservice.dlr.de/service/wmts?",name:"TDM90_AMP",filtertype:"Layers",attribution:'| TDM90 Data &copy; <a href="http://www.dlr.de" target="_blank">DLR</a> licensed for <a rel="license" target="_blank" href="https://geoservice.dlr.de/resources/licenses/tdm90/License_for_the_Utilization_of_90m_DEM_for_Scientific_Use.pdf">scientific use</a>',params:{layer:"TDM90_AMP",version:"1.1.0",format:"image/png",style:"default",matrixSetOptions:{matrixSet:"EPSG:3857",tileMatrixPrefix:"EPSG:3857"}},styles:[{default:!0,name:"default",title:"default"},{default:!1,name:"none",title:"none"}]});this.layersSvc.addLayer(t,t.filtertype);let r=new C({type:"wms",id:"S2_L3A_WASP_FRC_P1M",url:"https://{s}.geoservice.dlr.de/eoc/imagery/wms?",name:"Sentinel-2 L3A FRC (WASP)",subdomains:["a","b","c","d"],filtertype:"Layers",attribution:'| &copy; <a href="http://www.dlr.de" target="_blank">DLR</a> Contains modified Copernicus Sentinel Data [2020]',params:{LAYERS:"S2_L3A_WASP_FRC_P1M",VERSION:"1.1.0",FORMAT:"image/png"},expanded:!0,bbox:[2.183,47.076,8.206,49.287],styles:[{default:!0,legendURL:"https://geoservice.dlr.de/eoc/imagery/wms?service=WMS&request=GetLegendGraphic&format=image/png&width=20&height=20&layer=land:S2_L3A_WASP_FRC_P1M",name:"s2-ndvi",title:"NDVI"},{default:!1,legendURL:"https://geoservice.dlr.de/eoc/imagery/wms?service=WMS&request=GetLegendGraphic&format=image/png&width=20&height=20&layer=land:S2_L3A_WASP_FRC_P1M",name:"s2-infrared",title:"Infrared (8,4,3)"},{default:!1,legendURL:"https://geoservice.dlr.de/eoc/imagery/wms?service=WMS&request=GetLegendGraphic&format=image/png&width=20&height=20&layer=land:S2_L3A_WASP_FRC_P1M",name:"s2-l3a-wasp-frc",title:"Style for L3A MAJA/WASP Ground Reflectances"}],popup:{dynamicPopup:{component:A,getAttributes:l=>({layer:l.layer,event:l.mapEvent})}}});this.layersSvc.addLayer(r,r.filtertype);let i=new C({type:"wms",id:"S2_L2A_MAJA_FRE",url:"https://{s}.geoservice.dlr.de/eoc/imagery/wms?",name:"Sentinel-2 L2A FRE (MAJA)",subdomains:["a","b","c","d"],filtertype:"Layers",attribution:'| &copy; <a href="http://www.dlr.de" target="_blank">DLR</a> Sentinel-2 L2A MAJA (MACCS-ATCOR Joint Algorithm) ground reflectance with the correction of slope effects (FRE) in 10m resolution based on the MAJA processor (https://doi.org/10.5281/zenodo.1209633)',bbox:[5.763545147601,46.793670688196,15.152753273727,55.945635321533],params:{LAYERS:"S2_L2A_MAJA_FRE",VERSION:"1.1.0",FORMAT:"image/png"},expanded:!0,styles:[{default:!0,legendURL:"https://geoservice.dlr.de/eoc/imagery/wms?service=WMS&version=1.3.0&request=GetLegendGraphic&format=image%2Fpng&width=20&height=20&layer=S2_L2A_MAJA_FRE",name:"s2-l2a-maja-fre",title:"True Color Image (FRE)"},{default:!1,legendURL:"https://geoservice.dlr.de/eoc/imagery/wms?service=WMS&version=1.3.0&request=GetLegendGraphic&format=image%2Fpng&width=20&height=20&layer=S2_L2A_MAJA_FRE&style=s2-swir",name:"s2-swir",title:"S2 Short-Wave Infrared"},{default:!1,legendURL:"https://geoservice.dlr.de/eoc/imagery/wms?service=WMS&version=1.3.0&request=GetLegendGraphic&format=image%2Fpng&width=20&height=20&layer=S2_L2A_MAJA_FRE&style=s2-land-water",name:"s2-land-water",title:"S2 Land/Water"},{default:!1,legendURL:"https://geoservice.dlr.de/eoc/imagery/wms?service=WMS&version=1.3.0&request=GetLegendGraphic&format=image%2Fpng&width=20&height=20&layer=S2_L2A_MAJA_FRE&style=s2-vegetation-analysis",name:"s2-vegetation-analysis",title:"S2 vegetation analysis"}],popup:{dynamicPopup:{component:A,getAttributes:l=>({layer:l.layer,event:l.mapEvent})}}});this.layersSvc.addLayer(i,i.filtertype)}ngOnDestroy(){this.subs.forEach(t=>t.unsubscribe())}static{this.\u0275fac=function(r){return new(r||e)(m(f),m(v))}}static{this.\u0275cmp=u({type:e,selectors:[["app-route-map6"]],hostVars:2,hostBindings:function(r,i){r&2&&F(i.class)},features:[G([f,v,ee])],decls:13,vars:11,consts:[[1,"content-area","map-view"],["id","olMap",3,"layersSvc","mapState","controls"],[1,"right",3,"clrVerticalNavCollapsible","clr-nav-level"],[1,"layers",3,"clrVerticalNavGroupExpanded"],["shape","layers","clrVerticalNavIcon","","title","layers"],[1,"padding","title-ellipsis"],[3,"layersSvc","mapStateSvc"],["shape","world","title","Baselayers","clrVerticalNavIcon",""]],template:function(r,i){r&1&&(n(0,"main",0),c(1,"ukis-map-ol",1),o(),n(2,"clr-vertical-nav",2)(3,"clr-vertical-nav-group",3),c(4,"cds-icon",4),p(5," Layers "),n(6,"clr-vertical-nav-group-children",5),c(7,"ukis-layer-control",6),o()(),n(8,"clr-vertical-nav-group",3),c(9,"cds-icon",7),p(10," Baselayers "),n(11,"clr-vertical-nav-group-children",5),c(12,"ukis-base-layer-control",6),o()()()),r&2&&(a(),s("layersSvc",i.layersSvc)("mapState",i.mapStateSvc)("controls",i.controls),a(),s("clrVerticalNavCollapsible",!0)("clr-nav-level",2),a(),s("clrVerticalNavGroupExpanded",!0),a(4),s("layersSvc",i.layersSvc)("mapStateSvc",i.mapStateSvc),a(),s("clrVerticalNavGroupExpanded",!0),a(4),s("layersSvc",i.layersSvc)("mapStateSvc",i.mapStateSvc))},dependencies:[te,K,z,H,$,Y,B,q,U,k,re,ie],encapsulation:2})}}return e})();var pe=[{path:"",component:w}],ce=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=g({type:e})}static{this.\u0275inj=y({imports:[M.forChild(pe),M]})}}return e})(),We=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=g({type:e})}static{this.\u0275inj=y({imports:[W,ce,Q,w]})}}return e})();export{We as RouteMap6Module,ce as RouteMap6RoutingModule};
