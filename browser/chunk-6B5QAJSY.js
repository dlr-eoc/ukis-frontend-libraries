import{a as It,b as Te,c as Mt,d as Wt,e as Dt,f as Gt,g as Ht,h as At,i as Rt,j as kt,k as Nt}from"./chunk-C3P37QGJ.js";import{a as Pt}from"./chunk-YX42EUAU.js";import"./chunk-3GY7BW2M.js";import{a as xt}from"./chunk-FLO4QXS2.js";import{a as O}from"./chunk-352CLEQB.js";import{a as Et}from"./chunk-HXJSXSXG.js";import{a as Lt}from"./chunk-OFPPXSYI.js";import{a as mt}from"./chunk-P62NUZ5D.js";import{Ia as w,Na as Se,Oa as vt,Qa as we,R as yt,Ra as Fe,Sa as St,Ta as Ce,fb as wt,h as ut,ja as ve,ka as _,kb as Ft,la as L,lb as Ct,ma as S,mb as be,na as gt,nb as pe,ob as bt,pb as le,qb as Tt,sa as k,ta as se,ua as ht,v as dt,va as N,wa as _t,xa as ft}from"./chunk-A6CGQVP3.js";import{k as ct,m as fe,n as c,p as ie,s as M,u as ae,v as Vt}from"./chunk-RM6VSO6X.js";import{Dc as ot,E as l,Ec as rt,Fa as Oe,Fc as nt,G as V,Ga as je,Gc as it,Hb as Ue,Hc as at,I as g,Ib as J,Ic as st,J as ye,Jb as T,Kb as B,Kc as pt,Lb as U,Mb as z,Oa as Ze,Ob as x,Oc as oe,P as h,Pc as re,Qb as $,Qc as ne,S as He,Sb as q,Tb as K,U as G,Ub as Y,V as H,W as A,X as i,Y as a,Ya as _e,Z as d,Zb as X,_b as Q,ba as Z,ca as Ae,dc as ze,ec as $e,hc as E,hd as lt,la as s,lc as P,ma as R,mc as ee,na as Re,nb as Je,nc as te,oa as ke,oc as I,pc as qe,q as de,qc as Ke,rc as Ye,sa as Ne,sc as Xe,va as ge,vc as Qe,wa as he,wc as et,x as Ge,xb as Be,xc as tt}from"./chunk-G5LJQFAD.js";import"./chunk-FJYW2LMB.js";var Ot=(()=>{class o{set value(e){this.privValue!==e&&(this.privValue=e,this.layer?.custom_layer&&this.layer.custom_layer.setRadius(e))}get value(){return this.privValue}constructor(){this.privValue=1,this.valueChange=new Ge}ngOnInit(){this.layer.custom_layer.setRadius(this.value)}changeValue(e){let t=parseInt(e.target.value,10);this.value=t,this.valueChange.emit(t),this.layer.custom_layer&&this.layer.custom_layer.setRadius(t)}static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275cmp=g({type:o,selectors:[["app-example-layer-action"]],inputs:{layer:"layer",value:"value"},outputs:{valueChange:"valueChange"},decls:6,vars:2,consts:[[1,"heatmap-range"],["type","range","clrRange","","name","two","min","1","max","50","step","1",1,"ukis-range-input",3,"change","value"]],template:function(t,n){t&1&&(i(0,"clr-range-container",0)(1,"label"),s(2,"Heatmap radius:"),a(),i(3,"input",1),Z("change",function(f){return n.changeValue(f)}),a(),i(4,"clr-control-helper"),s(5),a()()),t&2&&(l(3),h("value",n.value),l(2),R(" "+n.value))},dependencies:[ne,P,E,re,oe,I],styles:[".heatmap-range[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:400}"]})}}return o})();var ce={type:"FeatureCollection",features:[{type:"Feature",properties:{height:2},geometry:{type:"Polygon",coordinates:[[[11.539764404296875,48.17707562779612,2],[11.53289794921875,48.13126755117026],[11.51641845703125,48.12301775410865],[11.517791748046875,48.10926514749487],[11.56036376953125,48.11384975871469],[11.564483642578125,48.12301775410865],[11.58233642578125,48.130350972491556],[11.592292785644531,48.14043243818811],[11.594696044921875,48.14730502988628],[11.602935791015625,48.15715413998257],[11.595039367675781,48.1640244926387],[11.59950256347656,48.17226770127996],[11.587142944335938,48.177533502046636],[11.572036743164062,48.177533502046636],[11.539764404296875,48.17707562779612]]]}},{type:"Feature",properties:{height:1},geometry:{type:"Polygon",coordinates:[[[11.605682373046875,48.156238023440835],[11.596412658691406,48.147534100428686],[11.59332275390625,48.13699579726703],[11.583709716796875,48.12851776605501],[11.564826965332031,48.121413473016034],[11.561737060546875,48.11247441829591],[11.575126647949217,48.11155750423242],[11.581993103027344,48.10490938797694],[11.614608764648438,48.11178673428214],[11.620101928710938,48.12462198509838],[11.614952087402344,48.12920522613733],[11.614265441894531,48.13905780942574],[11.61529541015625,48.15165719536032],[11.605682373046875,48.156238023440835]]]}},{type:"Feature",properties:{height:3},geometry:{type:"Polygon",coordinates:[[[11.516075134277344,48.12347611093252],[11.532554626464844,48.131496693283744],[11.538734436035156,48.176388808753124],[11.52191162109375,48.175701980509444],[11.511268615722656,48.17249666038475],[11.507148742675781,48.16379549570767],[11.492729187011719,48.165398452755674],[11.486892700195312,48.16379549570767],[11.458740234375,48.164482483433744],[11.457366943359375,48.15188624647704],[11.455307006835938,48.148221305921446],[11.436767578124998,48.133329793382636],[11.430244445800781,48.12874692043826],[11.443977355957031,48.12828861064926],[11.45050048828125,48.12553866602599],[11.4862060546875,48.124392812310205],[11.503028869628904,48.12553866602599],[11.516075134277344,48.12347611093252]]]}},{type:"Feature",properties:{height:0},geometry:{type:"Polygon",coordinates:[[[11.517448425292969,48.10972362702285],[11.487579345703125,48.095738161288885],[11.488265991210938,48.08381312049231],[11.485176086425781,48.075785093732456],[11.487922668457031,48.07486752519069],[11.493759155273438,48.07693203139914],[11.506805419921875,48.0762438718672],[11.517448425292969,48.06890293081563],[11.536331176757812,48.068214663899795],[11.538734436035156,48.07349114169717],[11.540107727050781,48.08427182703979],[11.548004150390625,48.09367440979962],[11.549720764160154,48.10559716402152],[11.559333801269531,48.11407897853892],[11.517448425292969,48.10972362702285]]]}}]},me={type:"FeatureCollection",features:[{type:"Feature",properties:{pid:1},geometry:{type:"Point",coordinates:[10.9423828125,49.001843917978526]}},{type:"Feature",properties:{pid:2},geometry:{type:"Point",coordinates:[11.18408203125,49.088257784724675]}},{type:"Feature",properties:{pid:3},geometry:{type:"Point",coordinates:[11.030273437499998,49.35375571830993]}},{type:"Feature",properties:{pid:4},geometry:{type:"Point",coordinates:[10.72265625,49.24629332459796]}},{type:"Feature",properties:{pid:5},geometry:{type:"Point",coordinates:[12.76611328125,48.011975126709956]}},{type:"Feature",properties:{pid:6},geometry:{type:"Point",coordinates:[13.55712890625,49.15296965617042]}},{type:"Feature",properties:{pid:7},geometry:{type:"Point",coordinates:[13.3154296875,48.545705491847464]}},{type:"Feature",properties:{pid:8},geometry:{type:"Point",coordinates:[4.482421875,49.224772722794825]}}]},jt={type:"FeatureCollection",features:[{type:"Feature",properties:{name:"Feature 1 - Polygon"},geometry:{type:"Polygon",coordinates:[[[7.91015625,50.233151832472245],[9.140625,47.81315451752768],[13.33740234375,48.28319289548349],[13.7109375,50.17689812200107],[7.91015625,50.233151832472245]]]}}]},Le={type:"FeatureCollection",features:[{type:"Feature",id:"S1A_IW_GRDH_1SDV_20200913T165301_20200913T165326_034343_03FE2F_9368_WAVE.3",geometry:{type:"Point",coordinates:[14.354708,54.004536]},geometry_name:"geom",properties:{lat:"54.004536",lon:"14.354708",id:"3",timestamp:"2020-09-13T16:52:57Z",SWH:"1.13",plength:"209.7",windSpeed:"4.25",pdirection:"125.0"}},{type:"Feature",id:"S1A_IW_GRDH_1SDV_20200913T165301_20200913T165326_034343_03FE2F_9368_WAVE.4",geometry:{type:"Point",coordinates:[14.445045,54.013187]},geometry_name:"geom",properties:{lat:"54.013187",lon:"14.445045",id:"4",timestamp:"2020-09-13T16:52:57Z",SWH:"0.91",plength:"251.0",windSpeed:"3.75",pdirection:"11.3"}},{type:"Feature",id:"S1A_IW_GRDH_1SDV_20200913T165301_20200913T165326_034343_03FE2F_9368_WAVE.5",geometry:{type:"Point",coordinates:[14.535383,54.021835]},geometry_name:"geom",properties:{lat:"54.021835",lon:"14.535383",id:"5",timestamp:"2020-09-13T16:52:57Z",SWH:"1.08",plength:"475.4",windSpeed:"4.00",pdirection:"21.8"}},{type:"Feature",id:"S1A_IW_GRDH_1SDV_20200913T165301_20200913T165326_034343_03FE2F_9368_WAVE.6",geometry:{type:"Point",coordinates:[14.625798,54.030346]},geometry_name:"geom",properties:{lat:"54.030346",lon:"14.625798",id:"6",timestamp:"2020-09-13T16:52:57Z",SWH:"0.99",plength:"194.6",windSpeed:"4.00",pdirection:"171.3"}},{type:"Feature",id:"S1A_IW_GRDH_1SDV_20200913T165301_20200913T165326_034343_03FE2F_9368_WAVE.7",geometry:{type:"Point",coordinates:[14.716214,54.038853]},geometry_name:"geom",properties:{lat:"54.038853",lon:"14.716214",id:"7",timestamp:"2020-09-13T16:52:57Z",SWH:"0.90",plength:"475.4",windSpeed:"4.05",pdirection:"21.8"}},{type:"Feature",id:"S1A_IW_GRDH_1SDV_20200913T165301_20200913T165326_034343_03FE2F_9368_WAVE.8",geometry:{type:"Point",coordinates:[13.978081,54.022915]},geometry_name:"geom",properties:{lat:"54.022915",lon:"13.978081",id:"8",timestamp:"2020-09-13T16:52:57Z",SWH:"0.66",plength:"475.4",windSpeed:"3.50",pdirection:"21.8"}},{type:"Feature",id:"S1A_IW_GRDH_1SDV_20200913T165301_20200913T165326_034343_03FE2F_9368_WAVE.9",geometry:{type:"Point",coordinates:[14.068372,54.031853]},geometry_name:"geom",properties:{lat:"54.031853",lon:"14.068372",id:"9",timestamp:"2020-09-13T16:52:57Z",SWH:"1.03",plength:"452.5",windSpeed:"4.20",pdirection:"135.0"}},{type:"Feature",id:"S1A_IW_GRDH_1SDV_20200913T165301_20200913T165326_034343_03FE2F_9368_WAVE.10",geometry:{type:"Point",coordinates:[14.158684,54.040756]},geometry_name:"geom",properties:{lat:"54.040756",lon:"14.158684",id:"10",timestamp:"2020-09-13T16:52:57Z",SWH:"0.47",plength:"199.9",windSpeed:"4.40",pdirection:"51.3"}},{type:"Feature",id:"S1A_IW_GRDH_1SDV_20200913T165301_20200913T165326_034343_03FE2F_9368_WAVE.11",geometry:{type:"Point",coordinates:[14.249058,54.049553]},geometry_name:"geom",properties:{lat:"54.049553",lon:"14.249058",id:"11",timestamp:"2020-09-13T16:52:57Z",SWH:"1.36",plength:"420.9",windSpeed:"4.40",pdirection:"80.5"}},{type:"Feature",id:"S1A_IW_GRDH_1SDV_20200913T165301_20200913T165326_034343_03FE2F_9368_WAVE.12",geometry:{type:"Point",coordinates:[14.339441,54.058331]},geometry_name:"geom",properties:{lat:"54.058331",lon:"14.339441",id:"12",timestamp:"2020-09-13T16:52:57Z",SWH:"0.94",plength:"134.6",windSpeed:"3.95",pdirection:"3.0"}},{type:"Feature",id:"S1A_IW_GRDH_1SDV_20200913T165301_20200913T165326_034343_03FE2F_9368_WAVE.13",geometry:{type:"Point",coordinates:[14.429894,54.066982]},geometry_name:"geom",properties:{lat:"54.066982",lon:"14.429894",id:"13",timestamp:"2020-09-13T16:52:57Z",SWH:"1.01",plength:"351.6",windSpeed:"4.15",pdirection:"164.1"}},{type:"Feature",id:"S1A_IW_GRDH_1SDV_20200913T165301_20200913T165326_034343_03FE2F_9368_WAVE.14",geometry:{type:"Point",coordinates:[14.52035,54.075634]},geometry_name:"geom",properties:{lat:"54.075634",lon:"14.520350",id:"14",timestamp:"2020-09-13T16:52:57Z",SWH:"1.16",plength:"310.4",windSpeed:"4.45",pdirection:"166.0"}},{type:"Feature",id:"S1A_IW_GRDH_1SDV_20200913T165301_20200913T165326_034343_03FE2F_9368_WAVE.15",geometry:{type:"Point",coordinates:[14.610882,54.084145]},geometry_name:"geom",properties:{lat:"54.084145",lon:"14.610882",id:"15",timestamp:"2020-09-13T16:52:57Z",SWH:"1.00",plength:"210.4",windSpeed:"4.05",pdirection:"170.5"}},{type:"Feature",id:"S1A_IW_GRDH_1SDV_20200913T165301_20200913T165326_034343_03FE2F_9368_WAVE.16",geometry:{type:"Point",coordinates:[14.701414,54.092651]},geometry_name:"geom",properties:{lat:"54.092651",lon:"14.701414",id:"16",timestamp:"2020-09-13T16:52:57Z",SWH:"0.98",plength:"254.7",windSpeed:"4.40",pdirection:"174.3"}},{type:"Feature",id:"S1A_IW_GRDH_1SDV_20200913T165301_20200913T165326_034343_03FE2F_9368_WAVE.17",geometry:{type:"Point",coordinates:[14.792017,54.101032]},geometry_name:"geom",properties:{lat:"54.101032",lon:"14.792017",id:"17",timestamp:"2020-09-13T16:52:57Z",SWH:"1.10",plength:"475.4",windSpeed:"4.45",pdirection:"158.2"}},{type:"Feature",id:"S1A_IW_GRDH_1SDV_20200913T165301_20200913T165326_034343_03FE2F_9368_WAVE.18",geometry:{type:"Point",coordinates:[14.882627,54.109398]},geometry_name:"geom",properties:{lat:"54.109398",lon:"14.882627",id:"18",timestamp:"2020-09-13T16:52:57Z",SWH:"0.94",plength:"188.2",windSpeed:"4.25",pdirection:"107.1"}},{type:"Feature",id:"S1A_IW_GRDH_1SDV_20200913T165301_20200913T165326_034343_03FE2F_9368_WAVE.19",geometry:{type:"Point",coordinates:[14.973297,54.117649]},geometry_name:"geom",properties:{lat:"54.117649",lon:"14.973297",id:"19",timestamp:"2020-09-13T16:52:57Z",SWH:"0.91",plength:"404.8",windSpeed:"4.00",pdirection:"161.6"}},{type:"Feature",id:"S1A_IW_GRDH_1SDV_20200913T165301_20200913T165326_034343_03FE2F_9368_WAVE.20",geometry:{type:"Point",coordinates:[15.063984,54.12587]},geometry_name:"geom",properties:{lat:"54.125870",lon:"15.063984",id:"20",timestamp:"2020-09-13T16:52:57Z",SWH:"0.90",plength:"170.3",windSpeed:"4.10",pdirection:"176.2"}},{type:"Feature",id:"S1A_IW_GRDH_1SDV_20200913T165301_20200913T165326_034343_03FE2F_9368_WAVE.21",geometry:{type:"Point",coordinates:[15.154721,54.133991]},geometry_name:"geom",properties:{lat:"54.133991",lon:"15.154721",id:"21",timestamp:"2020-09-13T16:52:57Z",SWH:"0.69",plength:"475.4",windSpeed:"4.00",pdirection:"21.8"}},{type:"Feature",id:"S1A_IW_GRDH_1SDV_20200913T165301_20200913T165326_034343_03FE2F_9368_WAVE.22",geometry:{type:"Point",coordinates:[14.052757,54.085644]},geometry_name:"geom",properties:{lat:"54.085644",lon:"14.052757",id:"22",timestamp:"2020-09-13T16:52:57Z",SWH:"0.28",plength:"475.4",windSpeed:"4.25",pdirection:"21.8"}},{type:"Feature",id:"S1A_IW_GRDH_1SDV_20200913T165301_20200913T165326_034343_03FE2F_9368_WAVE.26",geometry:{type:"Point",coordinates:[14.414745,54.120781]},geometry_name:"geom",properties:{lat:"54.120781",lon:"14.414745",id:"26",timestamp:"2020-09-13T16:52:57Z",SWH:"1.10",plength:"129.3",windSpeed:"4.20",pdirection:"45.0"}},{type:"Feature",id:"S1A_IW_GRDH_1SDV_20200913T165301_20200913T165326_034343_03FE2F_9368_WAVE.27",geometry:{type:"Point",coordinates:[14.505316,54.129433]},geometry_name:"geom",properties:{lat:"54.129433",lon:"14.505316",id:"27",timestamp:"2020-09-13T16:52:57Z",SWH:"0.50",plength:"310.4",windSpeed:"4.60",pdirection:"14.0"}}]};var Zt=(()=>{class o{constructor(){this.sunlightForm=new z({x:new x(0,T.required),y:new x(0,T.required)})}ngOnInit(){this.sunlightForm.valueChanges.subscribe(e=>{this.changeHandler(parseInt(e.x.toString(),10)/100,parseInt(e.y.toString(),10)/100)})}static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275cmp=g({type:o,selectors:[["app-sunlight"]],inputs:{changeHandler:"changeHandler"},decls:16,vars:1,consts:[["clrForm","","clrLayout","horizontal",3,"formGroup"],[1,"sun-range-label"],[1,"sun-range"],["type","range","min","-100","max","100","value","0","clrRange","","formControlName","x",1,"ukis-range-input"],["type","range","min","-100","max","100","value","0","clrRange","","formControlName","y",1,"ukis-range-input"]],template:function(t,n){t&1&&(i(0,"form",0),d(1,"hr"),i(2,"label",1),s(3,"Sun position"),a(),i(4,"clr-range-container",2)(5,"label"),s(6,"x"),a(),d(7,"input",3),i(8,"clr-control-helper"),s(9,"east -> west"),a()(),i(10,"clr-range-container",2)(11,"label"),s(12,"y"),a(),d(13,"input",4),i(14,"clr-control-helper"),s(15,"south -> north"),a()()()),t&2&&h("formGroup",n.sunlightForm)},dependencies:[X,$,J,q,B,U,I,P,E,ee,te,Q,K,Y,ne,re,oe],styles:[".sun-range[_ngcontent-%COMP%]{margin-top:0}.sun-range-label[_ngcontent-%COMP%]{padding-left:0;font-weight:600}"]})}}return o})();var Jt=(()=>{class o{constructor(){this.interpolationForm=new z({power:new x(2,T.required),smooth:new x(!0,T.required),labels:new x(!1,T.required)})}ngOnInit(){this.interpolationForm.valueChanges.subscribe(e=>{this.changeHandler(e.power,e.smooth,e.labels)})}static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275cmp=g({type:o,selectors:[["app-interpolation-settings"]],inputs:{changeHandler:"changeHandler"},decls:21,vars:1,consts:[["clrForm","","clrLayout","vertical",3,"formGroup"],["type","range","min","1","max","7","value","1","clrInput","","formControlName","power",1,"ukis-range-input"],["type","checkbox","clrCheckbox","","name","options","value","true","formControlName","smooth",1,"ukis-range-input"],["type","checkbox","clrCheckbox","","name","options","value","false","formControlName","labels",1,"ukis-range-input"]],template:function(t,n){t&1&&(i(0,"form",0)(1,"clr-input-container")(2,"label"),s(3,"Power"),a(),d(4,"input",1),i(5,"clr-control-helper"),s(6,"inverse distance weighting power"),a()(),i(7,"clr-checkbox-container")(8,"label"),s(9,"Smoothing"),a(),i(10,"clr-checkbox-wrapper"),d(11,"input",2),i(12,"label"),s(13,"Smoothing"),a()()(),i(14,"clr-checkbox-container")(15,"label"),s(16,"Labels"),a(),i(17,"clr-checkbox-wrapper"),d(18,"input",3),i(19,"label"),s(20,"Show labels"),a()()()()),t&2&&h("formGroup",n.interpolationForm)},dependencies:[X,$,J,q,Ue,B,U,I,P,E,ee,te,Q,K,Y,tt,et,Qe,Xe,Ke,Ye,qe],encapsulation:2})}}return o})();var ue=class extends N{constructor(p){super(p)}createRenderer(){return new Ve(this)}},Ve=class extends ht{constructor(p){super(p);let e=document.createElement("canvas");e.width=800,e.height=600,e.style.position="absolute";let n=p.getSource().getFeatures(),m=this.featuresToMeshes(n),f=new Dt({canvas:e,alpha:!0}),u=new Wt(45,e.width/e.height,.01,3e7);u.position.set(0,0,10),u.lookAt(new Te(0,0,0));let F=new Gt;for(let D of m)F.add(D);let C=new kt(16777215,1);C.position.set(-1,2,4),F.add(C),this.canvas=e,this.scene=F,this.meshes=m,this.renderer=f,this.camera=u}prepareFrame(p){let e=p.pixelRatio,t=p.size,n=Math.round(t[0]*e),m=Math.round(t[1]*e),f=p.viewState.zoom,u=p.viewState.center,F=p.extent,C=45,D=this.extent2Height(F,C);return this.camera.aspect=n/m,this.camera.fov=C,this.camera.near=.01,this.camera.far=3e8,this.camera.position.set(u[0],u[1],D),this.camera.lookAt(new Te(u[0],u[1],0)),this.camera.updateProjectionMatrix(),(t[0]!==this.canvas.width||t[1]!==this.canvas.height)&&(this.canvas.width=t[0],this.canvas.height=t[1],this.renderer.setSize(this.canvas.width,this.canvas.height)),this.canvas.style.opacity=""+p.layerStatesArray[p.layerIndex].opacity,!0}renderFrame(p,e){return this.renderer.render(this.scene,this.camera),this.canvas}renderDeclutter(p){}featuresToMeshes(p){let e=[];for(let t of p){let n=t.getGeometry(),m=t.get("height"),f=this.fGeom2tGeom(n,.1*m),u=new It(16777215);u.setHex(Math.random()*16777215);let F=new Rt({color:u}),C=new Mt(f,F);e.push(C)}return e}fGeom2tGeom(p,e){let t=p.getCoordinates()[0],n=new Ht;n.moveTo(t[0][0],t[0][1]);for(let m=1;m<t.length;m++){let f=t[m];n.lineTo(f[0],f[1])}return new At(n,{depth:e,bevelEnabled:!1})}extent2Height(p,e){let t=p[3]-p[1];return Nt(t,e)}};var Bt={type:"FeatureCollection",features:[{type:"Feature",properties:{name:"Polygon 1"},geometry:{type:"Polygon",coordinates:[[[-.703125,56.12106042504407],[-2.197265625,49.15296965617042],[5.009765625,45.460130637921004],[16.435546875,46.37725420510028],[20.0390625,55.229023057406344],[4.658203125,58.03137242177637],[-.703125,56.12106042504407]]]}},{type:"Feature",properties:{name:"Polygon 2"},geometry:{type:"Polygon",coordinates:[[[6.6796875,58.768200159239576],[19.86328125,56.80087831233043],[22.5,62.99515845212052],[10.01953125,64.88626540914477],[6.328125,62.062733258846514],[6.6796875,58.768200159239576]]]}},{type:"Feature",properties:{name:"Polygon 3"},geometry:{type:"Polygon",coordinates:[[[30.937499999999996,62.02152819100765],[23.994140624999996,62.062733258846514],[22.587890625,55.3791104480105],[37.79296875,55.62799595426723],[30.937499999999996,62.02152819100765]]]}},{type:"Feature",properties:{name:"Polygon 4"},geometry:{type:"Polygon",coordinates:[[[-8.876953125,39.436192999314095],[-11.689453125,28.459033019728043],[.615234375,25.562265014427492],[8.173828125,33.137551192346145],[-.9667968749999999,38.8225909761771],[-8.876953125,39.436192999314095]]]}},{type:"Feature",properties:{name:"Polygon 5"},geometry:{type:"Polygon",coordinates:[[[-140.44921875,-52.26815737376816],[-70.83984375,-52.26815737376816],[-70.83984375,59.17592824927136],[-140.44921875,59.17592824927136],[-140.44921875,-52.26815737376816]]]}}]};function go(o,p){if(o&1&&(i(0,"li"),s(1),a()),o&2){let e=p.$implicit,t=Ae();l(),ke(" ",e,": ",t.group[e]||"undefined"," ")}}var Ut=(()=>{class o{constructor(e){this.layersSvc=e}ngOnInit(){this.groupkeys=["bbox","cssClass","displayName","filtertype","id","name","removable"]}static{this.\u0275fac=function(t){return new(t||o)(V(M))}}static{this.\u0275cmp=g({type:o,selectors:[["app-example-group-action"]],inputs:{group:"group"},decls:6,vars:0,template:function(t,n){t&1&&(i(0,"div")(1,"span"),s(2,"some properties of the group:"),a(),i(3,"ul"),H(4,go,2,2,"li",null,G),a()()),t&2&&(l(4),A(n.groupkeys))},encapsulation:2})}}return o})();function ho(o,p){if(o&1&&(i(0,"th"),s(1),a()),o&2){let e=p.$implicit;l(),R(e.key)}}function _o(o,p){if(o&1&&(i(0,"td"),s(1),a()),o&2){let e=p.$implicit;l(),R(e.value)}}var zt=(()=>{class o{constructor(){}ngOnInit(){}static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275cmp=g({type:o,selectors:[["app-popup2"]],inputs:{data:"data"},decls:13,vars:4,consts:[[1,"table"]],template:function(t,n){t&1&&(i(0,"table",0)(1,"caption"),s(2," Demo for a basic Clarity table. "),a(),i(3,"thead")(4,"tr"),H(5,ho,2,1,"th",null,G),ge(7,"keyvalue"),a()(),i(8,"tbody")(9,"tr"),H(10,_o,2,1,"td",null,G),ge(12,"keyvalue"),a()()()),t&2&&(l(5),A(he(7,0,n.data)),l(5),A(he(12,2,n.data)))},dependencies:[Oe],encapsulation:2})}}return o})();Ze.addIcons(Be,Je);var Ee=(()=>{class o{constructor(e,t,n){this.layersSvc=e,this.mapStateSvc=t,this.mapSvc=n,this.class="content-container",this.test=[],this.inputValue={value:15},this.controls={attribution:!0,scaleLine:!0,overviewMap:!0}}ngOnInit(){this.addLayers()}setInput(){let e=this.layersSvc.getLayerById("heatmap_layer");this.inputValue.value=40,e.action.inputs.value=this.inputValue.value}addLayers(){let e=new mt({id:"OSM1",visible:!1,bbox:[-66.408,3.577,113.592,64.94]}),t=new c({id:"heatmap_layer",name:"Heatmap Layer",actions:[{title:"test",icon:"paperclip",action:r=>{}}],popup:{event:"click"},action:{component:Ot,inputs:this.inputValue,outputs:{valueChange:r=>{this.inputValue.value=r}}},custom_layer:new Pt({source:new w({features:this.mapSvc.geoJsonToFeatures(me),format:new Se}),radius:this.inputValue.value}),visible:!1}),n=new fe({id:"Vector Layer1",name:"Vector Layer",type:"geojson",data:me,visible:!0,popup:{single:!0}}),m=new c({id:"Layer_KML",name:"KML - VectorLayer",popup:!0,custom_layer:new N({source:new w({url:"assets/kml/TimeZones.kml",format:new wt({extractStyles:!0})})}),visible:!1,bbox:[-180,-90,180,90]}),f=new c({id:"topo_json_layer",name:"Topo Json - VectorImageLayer",custom_layer:new O({source:new w({url:"https://openlayers.org/en/latest/examples/data/topojson/world-110m.json",format:new Lt({layers:["countries"]}),overlaps:!1}),style:(r,v)=>{let y=`uID: ${ut(r)}`;return[new S({stroke:new L({color:"gray",width:1}),fill:new _({color:"rgba(0, 153, 255, 0.2)"})})]}}),visible:!1}),u=new c({id:"geo_json_layer_ocean",name:"GeoJson - VectorImageLayer ocean",popup:{event:"move"},custom_layer:new O({source:new w({features:this.mapSvc.geoJsonToFeatures(Et)}),style:(r,v)=>new S({stroke:new L({color:"gray",width:1}),fill:new _({color:"rgba(20,20,20,0.9)"})})}),visible:!0,bbox:[-180.35156249999997,-22.268764039073968,-129.375,29.84064389983441]}),F=new c({id:"geo_json_layer_polys",name:"GeoJson polys - VectorImageLayer",popup:[{event:"click",single:!0,options:{autoPan:!1},dynamicPopup:{component:xt,getAttributes:r=>({data:r.properties})}},{event:"move",options:{autoPan:!1},dynamicPopup:{component:zt,getAttributes:r=>({data:r.properties})}}],custom_layer:new O({source:new w({features:this.mapSvc.geoJsonToFeatures(Bt)}),style:(r,v)=>new S({stroke:new L({color:"gray",width:1}),fill:new _({color:"rgba(51,153,51,1)"})})}),visible:!0}),C=new c({id:"geo_json_layer_collection",name:"GeoJson Collection - VectorImageLayer",popup:{event:"click",single:!0,options:{autoPan:!1}},custom_layer:new O({source:new w({url:"assets/geojson/test.collection.json",format:new Se}),style:(r,v)=>new S({stroke:new L({color:"rgba(153,51,51,1)",width:2}),fill:new _({color:"rgba(153,51,51,1)"}),image:new ve({radius:5,fill:new _({color:"rgba(153,51,51,1)"})})})}),visible:!0}),D=new c({id:"static_image_layer",name:"Static Image",visible:!1,popup:{popupFunction:r=>r.color.toString()},custom_layer:new k({source:new be({url:"assets/image/srtm_small.png",imageExtent:[10,45,15,50],projection:"EPSG:4326"})})}),$t=new c({id:"osm_clip_layer",name:"OSM Clip",visible:!0,popup:{popupFunction:r=>r.color.toString()},custom_layer:new se({source:new pe}),bbox:[-105.41888884797893,6.480590573390401,-15.540298246016693,42.53496284727569]}),qt=new c({id:"customLayerOlGroup",name:"Custom Layer OlGroup",visible:!0,opacity:.6,popup:{event:"move",popupFunction:r=>`${r.color.toString()}`,options:{autoPan:!1}},custom_layer:new yt({layers:[new se({source:new Fe({url:"https://geoservice.dlr.de/eoc/basemap/wms",params:{LAYERS:"litemap",TILED:!0},serverType:"geoserver",transition:0})}),new se({source:new Fe({url:"https://geoservice.dlr.de/eoc/basemap/wms",params:{LAYERS:"liteoverlay",TILED:!0},serverType:"geoserver",transition:0})})]}),bbox:[-18.213,-26.814,68.344,11.783]}),Kt=new c({id:"clusterLayer",name:"cluster Layer - VectorLayer",visible:!1,popup:!0,custom_layer:new N({source:new Ce({distance:10,source:new w({features:this.mapSvc.geoJsonToFeatures(me)})})})}),Yt=new c({id:"vectorTile",name:"VectorTileLayer",visible:!1,popup:{event:"move",filterkeys:["name","layer","class"],properties:{name:"Name"},options:{autoPan:!1}},custom_layer:new _t({source:new ft({format:new vt,url:"https://tiles.geoservice.dlr.de/service/tms/1.0.0/planet_eoc@EPSG%3A900913@pbf/{z}/{x}/{y}.pbf?flipy=true"}),style:(r,v)=>{let y=r.get("layer"),b=r.get("class");if(this.test.includes(y)||this.test.push(y),y){if(y==="water")return new S({fill:new _({color:"rgba(67,162,202,0.9)"})});if(y==="boundary")return new S({stroke:new L({color:"gray",width:1}),fill:new _({color:"rgba(0,0,0,0)"})});if(y==="landcover"&&b){if(b==="wood")return new S({fill:new _({color:"rgba(53,151,143,0.7)"})});if(b==="grass")return new S({fill:new _({color:"rgba(168,221,181,0.7)"})})}}}})}),Xt=new ie({name:"Heatmap Group",filtertype:"Layers",id:"group1",layers:[t,n],description:"This is a custom layer group with some custom angular components in the UI",action:{component:Ut}}),Qt=new c({id:"image_wms",name:"Image WMS",custom_layer:new k({source:new St({url:"https://ahocevar.com/geoserver/wms",params:{LAYERS:"topp:states"},serverType:"geoserver"})}),visible:!1,popup:{popupFunction:r=>r.color.toString()},bbox:[-133.9453125,18.979025953255267,-60.46875,52.908902047770255]}),Pe=[10,45,15,50],Ie=new c({id:"dtmLayer",name:"SRTM DTM",filtertype:"Layers",bbox:Pe,custom_layer:new Ft({source:new be({url:"assets/image/srtm_small.png",imageExtent:Pe,projection:"EPSG:4326"})}),action:{component:Zt,inputs:{changeHandler:(r,v)=>{Ie.custom_layer.updateSunAngle([r,v])}}},opacity:.6,visible:!1,description:`<p>This layer uses SRTM data to calculate surface-normals and uses them to dynamically create shades on hilltops. Things like these might be a nice illustration for time-enabled maps.</p>
      <p>Use the controls to dynamically change the sun's angle.</p>`}),Me=this.mapSvc.getProjection().getMetersPerUnit(),eo=new dt({code:"EPSG:4326",units:"degrees"}).getMetersPerUnit();ce.features.map(r=>r.properties.height=r.properties.height*eo/Me);let to=this.mapSvc.geoJsonToFeatures(ce),oo=this.mapSvc.getFeaturesExtent(to,!0),ro=new c({id:"three",name:"Bars layer",bbox:oo,custom_layer:new ue({source:new w({features:this.mapSvc.geoJsonToFeatures(ce)})}),filtertype:"Layers",opacity:.7,visible:!1,description:"<p>This layer demonstrates how a common 3d-library, three.js, can be integrated in a 2d-map. Using three.js often yields less verbose code than calling WebGL directly.</p>"}),no=this.mapSvc.geoJsonToFeatures(Le),io=this.mapSvc.getFeaturesExtent(no,!0),ao=new w({features:this.mapSvc.geoJsonToFeatures(Le)}),so=new Ce({source:ao,distance:25}),We="SWH",po=[{val:0,rgb:[166,97,26]},{val:.4,rgb:[223,194,125]},{val:.8,rgb:[247,247,247]},{val:2,rgb:[128,205,193]},{val:22.5,rgb:[1,133,113]}],De=new c({id:"interpolation",name:"Interpolation",bbox:io,custom_layer:new bt({source:so,style:(r,v)=>{let y=r.getProperties().features,b;return y.length>1?b=`${r.getProperties().features.length}`:b=`${Number.parseFloat(y[0].getProperties()[We]).toPrecision(3)}`,new S({image:new ve({radius:13,fill:new _({color:"rgba(0, 153, 255, 0.2)"}),stroke:new L({color:"rgba(255, 255, 255, 0.2)",width:1})}),text:new gt({text:b,overflow:!0,offsetX:-(b.length*5/2),offsetY:1,textAlign:"left",fill:new _({color:"#ffffff"})})})},renderSettings:{maxEdgeLength:15e3/Me,power:2,colorRamp:po,smooth:!0,showLabels:!1,valueProperty:We,storeInterpolatedPixelData:!1}}),action:{component:Jt,inputs:{changeHandler:(r,v,y)=>{De.custom_layer.updateParas(r,v,y)}}},filtertype:"Layers",opacity:.7,visible:!1,description:"This layer is an example of how WebGL can be used to outsource computationally expensive operations. For inverse-distance interpolation we need to account for every datapoint at every pixel."}),lo=new ie({name:"Webgl Group",filtertype:"Layers",id:"group2",layers:[Ie,ro,De]}),co=new c({name:"Transparenter Hintergrund",id:"blank",type:"custom",visible:!1,custom_layer:new k({source:new Ct({canvasFunction:()=>document.createElement("canvas")})})}),j=new c({name:"Ol Raster Source OSM",id:"rasterSourceLayer",type:"custom",visible:!1,removable:!0,custom_layer:new k({source:new we({sources:[new pe],operation:r=>r[0],operationType:"image"})})});[co,j,e,Yt,lo,Kt,Qt,m,D,$t,f,F,C,Xt,u,qt].forEach(r=>{r instanceof ct?this.layersSvc.addLayer(r,"Layers"):r instanceof ie&&this.layersSvc.addLayerGroup(r)}),setTimeout(()=>{j.visible=!0,j.custom_layer.setSource(new we({sources:[new pe],operation:r=>r[0],operationType:"image"})),this.layersSvc.updateLayer(j)},2e3)}ngAfterViewInit(){let e=new fe({id:"Vector Layer2",name:"async add Layer",type:"geojson",data:jt,visible:!1,popup:!0});setTimeout(()=>{this.layersSvc.addLayer(e,"Layers")},2e3)}static{this.\u0275fac=function(t){return new(t||o)(V(M),V(ae),V(le))}}static{this.\u0275cmp=g({type:o,selectors:[["app-route-map4"]],hostVars:2,hostBindings:function(t,n){t&2&&He(n.class)},features:[Ne([M,ae,le])],decls:15,vars:10,consts:[[1,"content-area","map-view"],["id","olMap",3,"layersSvc","mapState","controls"],[1,"right",3,"clrVerticalNavCollapsible","clr-nav-level"],[1,"layers",3,"clrVerticalNavGroupExpanded"],["shape","layers","clrVerticalNavIcon","","title","layers"],[1,"padding","title-ellipsis"],[3,"layersSvc","mapStateSvc"],["title","set input of dynamic component from parent when it is created or the input changed",1,"btn","btn-primary",3,"click"]],template:function(t,n){t&1&&(i(0,"main",0),d(1,"ukis-map-ol",1),a(),i(2,"clr-vertical-nav",2)(3,"clr-vertical-nav-group",3),d(4,"cds-icon",4),s(5," Layers "),i(6,"clr-vertical-nav-group-children",5),d(7,"ukis-layer-control",6),a()(),i(8,"clr-vertical-nav-group",3),d(9,"cds-icon",4),s(10," Test to set dynamic component "),i(11,"clr-vertical-nav-group-children",5)(12,"button",7),Z("click",function(){return n.setInput()}),s(13,"Set Heatmap Layer radius"),a(),s(14),a()()()),t&2&&(l(),h("layersSvc",n.layersSvc)("mapState",n.mapStateSvc)("controls",n.controls),l(),h("clrVerticalNavCollapsible",!0)("clr-nav-level",2),l(),h("clrVerticalNavGroupExpanded",!0),l(4),h("layersSvc",n.layersSvc)("mapStateSvc",n.mapStateSvc),l(),h("clrVerticalNavGroupExpanded",!0),l(6),Re(" ",n.inputValue.value," "))},dependencies:[Tt,pt,nt,it,at,st,ze,rt,ot,$e,Vt],encapsulation:2})}}return o})();var fo=[{path:"",component:Ee}],vo=(()=>{class o{static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275mod=ye({type:o})}static{this.\u0275inj=de({imports:[_e.forChild(fo),_e]})}}return o})(),br=(()=>{class o{static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275mod=ye({type:o})}static{this.\u0275inj=de({imports:[je,vo,lt,Ee]})}}return o})();export{br as RouteMap4Module,vo as RouteMap4RoutingModule};
