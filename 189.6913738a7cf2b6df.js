"use strict";(self.webpackChunkdemo_maps=self.webpackChunkdemo_maps||[]).push([[189],{4074:(V,x,o)=>{o.d(x,{um:()=>A,RP:()=>C,HF:()=>w,Kl:()=>v,aZ:()=>R,fc:()=>h,HX:()=>e,zc:()=>P,gY:()=>Z,Bz:()=>M});var u=o(5548);class Z extends u.YY{constructor(i){const l={name:"OpenStreetMap",displayName:"OpenStreetMap",id:"osm",visible:!1,type:"xyz",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",subdomains:["a","b","c"],attribution:'&copy, <a href="https://www.openstreetmap.org">OpenStreetMap</a> contributors',continuousWorld:!1,legendImg:"https://a.tile.openstreetmap.org/3/4/3.png",description:"OpenStreetMap z-x-y Tiles",opacity:1};i&&Object.assign(l,i),super(l)}}class P extends u.YY{constructor(i){const l={name:"OpenSeaMap",displayName:"OpenSeaMap",id:"OpenSeaMap",visible:!1,type:"xyz",removable:!1,url:"https://{s}.openseamap.org/seamark/{z}/{x}/{y}.png",subdomains:["t1"],attribution:'&copy, <a href="https://map.openseamap.org/legend.php?lang=de&page=license">OpenSeaMap</a>',continuousWorld:!1,legendImg:"https://t1.openseamap.org/seamark/10/554/321.png",description:"http://map.openseamap.org/",opacity:1};i&&Object.assign(l,i),super(l)}}class v extends u.TI{constructor(i){const l={name:"EOC Litemap",displayName:"EOC Litemap",id:"eoc_litemap",visible:!1,type:"wms",removable:!1,params:{LAYERS:"litemap",FORMAT:"image/png",TRANSPARENT:!0},url:"https://geoservice.dlr.de/eoc/basemap/wms",attribution:'&copy, <a href="//geoservice.dlr.de/eoc/basemap/">DLR</a>',continuousWorld:!1,legendImg:"https://geoservice.dlr.de/eoc/basemap/wms?SERVICE=WMS&VERSION=1.3.0&REQUEST=GetMap&FORMAT=image%2Fpng&TRANSPARENT=true&LAYERS=litemap&ATTRIBUTION=&WIDTH=256&HEIGHT=256&CRS=EPSG%3A3857&STYLES=&BBOX=0%2C0%2C10018754.171394622%2C10018754.171394622",description:"http://www.naturalearthdata.com/about/",opacity:1};i&&Object.assign(l,i),super(l)}}class R extends u.RC{constructor(i){const l={name:"EOC Litemap Tile",displayName:"EOC Litemap Tile",id:"eoc_litemap_tile",visible:!1,type:"wmts",removable:!1,params:{layer:"eoc:litemap",format:"image/png",style:"_empty",matrixSetOptions:{matrixSet:"EPSG:3857",tileMatrixPrefix:"EPSG:3857"}},url:"https://tiles.geoservice.dlr.de/service/wmts",attribution:'&copy, <a href="//geoservice.dlr.de/eoc/basemap/">DLR</a>',continuousWorld:!1,legendImg:"https://tiles.geoservice.dlr.de/service/wmts?layer=eoc%3Alitemap&style=_empty&tilematrixset=EPSG%3A3857&Service=WMTS&Request=GetTile&Version=1.0.0&Format=image%2Fpng&TileMatrix=EPSG%3A3857%3A5&TileCol=18&TileRow=11",description:"EOC Litemap as web map tile service",opacity:1};i&&Object.assign(l,i),super(l)}}class h extends u.RC{constructor(i){const l={name:"EOC Liteoverlay Tile",displayName:"EOC LiteoverlayTile",id:"eoc_Liteoverlay_tile",visible:!1,type:"wmts",removable:!1,params:{layer:"eoc:liteoverlay",format:"image/png",style:"_empty",matrixSetOptions:{matrixSet:"EPSG:3857",tileMatrixPrefix:"EPSG:3857"}},url:"https://tiles.geoservice.dlr.de/service/wmts",attribution:'&copy, <a href="//geoservice.dlr.de/eoc/basemap/">DLR</a>',continuousWorld:!1,legendImg:"https://tiles.geoservice.dlr.de/service/wmts?layer=eoc%3Aliteoverlay&style=_empty&tilematrixset=EPSG%3A3857&Service=WMTS&Request=GetTile&Version=1.0.0&Format=image%2Fpng&TileMatrix=EPSG%3A3857%3A5&TileCol=18&TileRow=11",description:"This is the liteoverlay provided for EOC Service Portals",opacity:1};i&&Object.assign(l,i),super(l)}}class C extends u.RC{constructor(i){const l={name:"EOC Basemap Tile",displayName:"EOC Basemap Tile",id:"eoc_basemap_tile",visible:!1,type:"wmts",removable:!1,params:{layer:"eoc:basemap",format:"image/png",style:"_empty",matrixSetOptions:{matrixSet:"EPSG:3857",tileMatrixPrefix:"EPSG:3857"}},url:"https://tiles.geoservice.dlr.de/service/wmts",attribution:'&copy, <a href="//geoservice.dlr.de/eoc/basemap/">DLR</a>',continuousWorld:!1,legendImg:"https://tiles.geoservice.dlr.de/service/wmts?layer=eoc%3Abasemap&style=_empty&tilematrixset=EPSG%3A3857&Service=WMTS&Request=GetTile&Version=1.0.0&Format=image%2Fpng&TileMatrix=EPSG%3A3857%3A5&TileCol=18&TileRow=11",description:"This is the basemap for DLR Service Portals",opacity:1};i&&Object.assign(l,i),super(l)}}class w extends u.RC{constructor(i){const l={name:"EOC Baseoverlay Tile",displayName:"EOC Baseoverlay Tile",id:"eoc_Baseoverlay_tile",visible:!1,type:"wmts",removable:!1,params:{layer:"eoc:baseoverlay",format:"image/png",style:"_empty",matrixSetOptions:{matrixSet:"EPSG:3857",tileMatrixPrefix:"EPSG:3857"}},url:"https://tiles.geoservice.dlr.de/service/wmts",attribution:'&copy, <a href="//geoservice.dlr.de/eoc/basemap/">DLR</a>',continuousWorld:!1,legendImg:"https://tiles.geoservice.dlr.de/service/wmts?layer=eoc%3Abaseoverlay&style=_empty&tilematrixset=EPSG%3A3857&Service=WMTS&Request=GetTile&Version=1.0.0&Format=image%2Fpng&TileMatrix=EPSG%3A3857%3A5&TileCol=18&TileRow=11",description:"This is the basemap for DLR Service Portals",opacity:1};i&&Object.assign(l,i),super(l)}}class A extends u.RC{constructor(i){const l={name:"BlueMarble Tile",displayName:"BlueMarble Tile",id:"blueMarble_tile",visible:!1,type:"wmts",removable:!1,params:{layer:"bmng_topo_bathy",format:"image/png",style:"_empty",matrixSetOptions:{matrixSet:"EPSG:3857",tileMatrixPrefix:"EPSG:3857"}},url:"https://tiles.geoservice.dlr.de/service/wmts",attribution:'&copy, <a href="//geoservice.dlr.de/eoc/basemap/">DLR</a>',continuousWorld:!1,legendImg:"https://tiles.geoservice.dlr.de/service/wmts?layer=bmng_topo_bathy&style=_empty&tilematrixset=EPSG%3A3857&Service=WMTS&Request=GetTile&Version=1.0.0&Format=image%2Fpng&TileMatrix=EPSG%3A3857%3A5&TileCol=18&TileRow=11",description:"Blue Marble NG dataset with topography and bathymetry",opacity:1};i&&Object.assign(l,i),super(l)}}class M extends u.RC{constructor(i){const l={name:"World Relief B/W Tile",displayName:"World Relief B/W Tile",id:"eoc:world_relief_bw",visible:!1,type:"wmts",removable:!1,params:{layer:"eoc:world_relief_bw",format:"image/png",style:"_empty",matrixSetOptions:{matrixSet:"EPSG:3857",tileMatrixPrefix:"EPSG:3857"}},url:"https://tiles.geoservice.dlr.de/service/wmts",attribution:'&copy, <a href="//geoservice.dlr.de/eoc/basemap/">DLR</a>',continuousWorld:!1,legendImg:"https://tiles.geoservice.dlr.de/service/wmts?layer=eoc%3Aworld_relief_bw&style=_empty&tilematrixset=EPSG%3A3857&Service=WMTS&Request=GetTile&Version=1.0.0&Format=image%2Fpng&TileMatrix=EPSG%3A3857%3A5&TileCol=18&TileRow=11",description:"World Relief Black / White",opacity:1};i&&Object.assign(l,i),super(l)}}class e extends u.RC{constructor(i){const l={name:"Hillshade Tile",displayName:"Hillshade Tile",id:"eoc_hillshade",visible:!1,type:"wmts",removable:!1,params:{layer:"hillshade",format:"image/png",style:"_empty",matrixSetOptions:{matrixSet:"EPSG:3857",tileMatrixPrefix:"EPSG:3857"}},url:"https://tiles.geoservice.dlr.de/service/wmts",attribution:'&copy, <a href="//geoservice.dlr.de/eoc/basemap/">DLR</a>',continuousWorld:!1,legendImg:"https://tiles.geoservice.dlr.de/service/wmts?layer=hillshade&style=_empty&tilematrixset=EPSG%3A3857&Service=WMTS&Request=GetTile&Version=1.0.0&Format=image%2Fpng&TileMatrix=EPSG%3A3857%3A5&TileCol=18&TileRow=11",description:"Global Hillshade based on GMTED2010",opacity:1};i&&Object.assign(l,i),super(l)}}},1189:(V,x,o)=>{o.r(x),o.d(x,{RouteMap7Module:()=>le,RouteMap7RoutingModule:()=>I});var u=o(8692),Z=o(8808),P=o(7223),v=o(5548),R=o(790),h=o(1899),C=o(4074),w=o(1786),A=o(5253),M=o(694),e=o(4537),p=o(3149),i=o(7356),l=o(6114),j=o(585),Y=o(978),S=o(8898),W=o(9015),z=o(3669),U=o(3431),E=o(8742),D=o(5732);let H=(()=>{class s{constructor(t,r){this.http=t,this.olSvc=r,U.Z.defs("EPSG:2966","+proj=tmerc +lat_0=37.5 +lon_0=-87.08333333333333 +k=0.999966667 +x_0=900000 +y_0=249999.9998983998 +datum=NAD83 +units=us-ft +no_defs"),(0,z.z2)(U.Z);const n=(0,W.U2)("EPSG:2966");(0,W.Ck)(n,"EPSG:4326"),this.geojson2966To4326=new S.Z({dataProjection:"EPSG:2966",featureProjection:"EPSG:4326"}),this.geojson4326=new S.Z({featureProjection:"EPSG:4326"})}getWfsSource(t){switch(t){case"all":return new p.Z({format:new S.Z,url:this.getRequestUrl(this.olSvc.EPSG),strategy:E.$6});case"bbox":return new p.Z({format:new S.Z,url:(c,g,d)=>{const f=d.getCode();return this.getRequestUrl(f,c)},strategy:E.VW});case"simplifyGeometry":const r=new p.Z({loader:(c,g,d)=>{const f=d.getCode();this.http.get(this.getRequestUrl(f,c)).subscribe(y=>{const T=(new S.Z).readFeatures(y);for(const b of T)b.geometry=b.getGeometry().simplify(1e3);r.addFeatures(T)})},strategy:E.VW});return r;case"noProps":const n=new p.Z({loader:(c,g,d)=>{const f=d.getCode();this.http.get(this.getRequestUrl(f,c)).subscribe(y=>{const T=(new S.Z).readFeatures(y);for(const b of T)b.setProperties({});n.addFeatures(T)})},strategy:E.VW});return n;case"tile":throw new Error("Tile-Strategy source not yet implemented.")}}getRequestUrl(t,r){t||(t="EPSG:4326");let n="https://ahocevar.com/geoserver/wfs?service=WFS&version=1.1.0&request=GetFeature";return n+=`&outputFormat=application/json&srsname=${t}`,n+="&typename=osm:water_areas",r&&(n+=`&bbox=${r.join(",")},${t}`),n}createWfsLayer(t,r,n,c){const g=this.getWfsSource(n),d=new i.Z({source:g,style:c});return new v.AO({id:t,name:r,custom_layer:d,popup:!0,visible:!1})}createVectorTileLayer(t,r){const n=new Y.Z({format:new l.Z,url:"https://ahocevar.com/geoserver/gwc/service/tms/1.0.0/ne:ne_10m_admin_0_countries@EPSG:4326@pbf/{z}/{x}/{-y}.pbf"}),c=new j.Z({source:n});return new v.AO({id:t,name:r,custom_layer:c,popup:!0,visible:!1})}}return s.\u0275fac=function(t){return new(t||s)(e.LFG(D.eN),e.LFG(h.BR))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();var m=o(6799);function J(s,a){1&s&&(e.TgZ(0,"clr-signpost-content",4)(1,"h3"),e._uU(2,"Change detection"),e.qZA(),e.TgZ(3,"p"),e._uU(4,"This badge changes its color any time angular's change-detection was executed."),e.qZA()()),2&s&&e.Q6J("clrPosition","left-middle")}let Q=(()=>{class s{constructor(){this.color="white"}ngAfterContentChecked(){this.color=this.getRandomColor()}getRandomColor(){let r="#";for(let n=0;n<6;n++)r+="0123456789ABCDEF"[Math.floor(16*Math.random())];return r}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["ukis-blinker"]],decls:6,vars:2,consts:[[2,"margin","0px"],[3,"clrPosition",4,"clrIfOpen"],[1,"label"],[1,"badge"],[3,"clrPosition"]],template:function(t,r){1&t&&(e.TgZ(0,"p",0)(1,"clr-signpost"),e.YNc(2,J,5,1,"clr-signpost-content",1),e.qZA(),e.TgZ(3,"span",2),e._uU(4," Change detected "),e._UZ(5,"span",3),e.qZA()()),2&t&&(e.xp6(5),e.Udp("background-color",r.color))},dependencies:[m.nqY,m.EuU,m.hQ],styles:[".blinker[_ngcontent-%COMP%]{width:10px;height:10px}"]}),s})();var O=o(8239);function G(){return(G=(0,O.Z)(function*(s){return N($(),s,[]).then(a=>k(a))})).apply(this,arguments)}function N(s,a,t){return F.apply(this,arguments)}function F(){return(F=(0,O.Z)(function*(s,a,t){return s.then(r=>(t.push(r),a>1?N(s,a-1,t):t))})).apply(this,arguments)}function $(){return L.apply(this,arguments)}function L(){return(L=(0,O.Z)(function*(){return new Promise((a,t)=>{const r=window.performance.now();setTimeout(()=>{const c=window.performance.now()-r;a(1e3/c)},0)})})).apply(this,arguments)}function k(s){return function K(s){let a=0;for(const t of s)a+=t;return a}(s)/s.length}function _(s,a){1&s&&(e.TgZ(0,"clr-signpost-content",4)(1,"h3"),e._uU(2,"Frames per second"),e.qZA(),e.TgZ(3,"p"),e._uU(4,"Estimates the number of frames that are rendered per second."),e.qZA(),e.TgZ(5,"p"),e._uU(6,"This is done by periodically measuring the time a call to "),e.TgZ(7,"code"),e._uU(8,"setTimeout(() => ..., 0)"),e.qZA(),e._uU(9," takes."),e.qZA(),e.TgZ(10,"p"),e._uU(11,"That call is made outside the angular-zone, so as not to trigger change-detection."),e.qZA(),e.TgZ(12,"p"),e._uU(13,"Please not that in Chrome you can also monitor FPS from the developer-tools: Hit "),e.TgZ(14,"code"),e._uU(15,"ctrl-shift-p"),e.qZA(),e._uU(16," and enter "),e.TgZ(17,"code"),e._uU(18,"fps"),e.qZA(),e._uU(19," to find the FPS-meter."),e.qZA()()),2&s&&e.Q6J("clrPosition","left-middle")}let ee=(()=>{class s{constructor(t,r){this.ngZone=t,this.cdRef=r,this.pollingRate=1e3,this.precission=2,this.nrSamples=10,r.detach(),this.ngZone.runOutsideAngular(()=>{this.updateFps(this.pollingRate)})}updateFps(t){setTimeout(()=>{(function q(s){return G.apply(this,arguments)})(this.nrSamples).then(r=>{this.fps=function X(s,a){const t=Math.pow(10,a);return Math.floor(s*t)/t}(r,this.precission),this.cdRef.detectChanges(),this.updateFps(t)})},t)}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(e.R0b),e.Y36(e.sBO))},s.\u0275cmp=e.Xpm({type:s,selectors:[["ukis-fpser"]],decls:7,vars:1,consts:[[2,"margin","0px"],[3,"clrPosition",4,"clrIfOpen"],[1,"label"],[1,"badge"],[3,"clrPosition"]],template:function(t,r){1&t&&(e.TgZ(0,"p",0)(1,"clr-signpost"),e.YNc(2,_,20,1,"clr-signpost-content",1),e.qZA(),e.TgZ(3,"span",2),e._uU(4," FPS: "),e.TgZ(5,"span",3),e._uU(6),e.qZA()()()),2&t&&(e.xp6(6),e.Oqu(r.fps))},dependencies:[m.nqY,m.EuU,m.hQ]}),s})(),te=(()=>{class s{constructor(){}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["ukis-performance"]],decls:8,vars:0,consts:[[1,"clr-row"],[1,"clr-col-12"]],template:function(t,r){1&t&&(e.TgZ(0,"p"),e._uU(1,"Load data and pan the map for a while to see a drop in performance."),e.qZA(),e.TgZ(2,"div",0)(3,"div",1),e._UZ(4,"ukis-blinker"),e.qZA()(),e.TgZ(5,"div",0)(6,"div",1),e._UZ(7,"ukis-fpser"),e.qZA()())},dependencies:[Q,ee]}),s})();var se=o(408),re=o(3307);let ae=(()=>{class s{constructor(t,r,n,c){this.layersSvc=t,this.dataSvc=r,this.mapStateSvc=n,this.mapSvc=c,this.class="content-container",this.controls={attribution:!0,scaleLine:!0}}ngOnInit(){this.mapSvc.setProjection("EPSG:4326");const t=(y,T)=>{const ne=y.getId().toString().match(/(\d+)/)[0],B=parseFloat(ne),ce=B%255,pe=(B+20)%255,me=(B+40)%255;return new w.ZP({stroke:new A.Z({color:"gray",width:1}),fill:new M.Z({color:`rgba(${ce}, ${pe}, ${me},0.7)`})})},r=new C.gY({visible:!0}),n=this.dataSvc.createWfsLayer("full","Fully loaded","all",t);n.description="Full dataset loaded at once.";const c=this.dataSvc.createWfsLayer("bbx","Current extent only","bbox",t);c.description="Bbox strategy: Only current bbox loaded at a time.";const g=this.dataSvc.createWfsLayer("simple","Simplified geometry","simplifyGeometry",t);g.description="Bbox strategy. Also: geometry simplified.";const d=this.dataSvc.createWfsLayer("noProps","No properties","noProps",t);d.description="Bbox strategy. Also: features have no properties.";const f=this.dataSvc.createWfsLayer("noStyle","No Styling","bbox");f.description="Bbox strategy. Also: no styling applied to features.",[r,n,c,g,d,f].map(y=>this.layersSvc.addLayer(y,"Layers"))}ngAfterViewInit(){this.mapSvc.map.getView().fit([-107.14,51.85,-106.14,52.33],{size:this.mapSvc.map.getSize()})}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(v.KD),e.Y36(H),e.Y36(R.I3),e.Y36(h.BR))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-route-map7"]],hostVars:2,hostBindings:function(t,r){2&t&&e.Tol(r.class)},features:[e._Bn([v.KD,R.I3,h.BR])],decls:13,vars:9,consts:[[1,"content-area"],["id","olMap",3,"layersSvc","mapState","controls"],[1,"right",3,"clrVerticalNavCollapsible","clr-nav-level"],[1,"layers",3,"clrVerticalNavGroupExpanded"],["shape","clock","title","Performance","clrVerticalNavIcon",""],[1,"padding","title-ellipsis"],["shape","layers","clrVerticalNavIcon","","title","layers"],[3,"layersSvc","mapStateSvc"]],template:function(t,r){1&t&&(e.TgZ(0,"main",0),e._UZ(1,"ukis-map-ol",1),e.qZA(),e.TgZ(2,"clr-vertical-nav",2)(3,"clr-vertical-nav-group",3),e._UZ(4,"clr-icon",4),e._uU(5," Performance "),e.TgZ(6,"clr-vertical-nav-group-children",5),e._UZ(7,"ukis-performance"),e.qZA()(),e.TgZ(8,"clr-vertical-nav-group",3),e._UZ(9,"clr-icon",6),e._uU(10," Layers "),e.TgZ(11,"clr-vertical-nav-group-children",5),e._UZ(12,"ukis-layer-control",7),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("layersSvc",r.layersSvc)("mapState",r.mapStateSvc)("controls",r.controls),e.xp6(1),e.Q6J("clrVerticalNavCollapsible",!0)("clr-nav-level",2),e.xp6(1),e.Q6J("clrVerticalNavGroupExpanded",!0),e.xp6(5),e.Q6J("clrVerticalNavGroupExpanded",!0),e.xp6(4),e.Q6J("layersSvc",r.layersSvc)("mapStateSvc",r.mapStateSvc))},dependencies:[te,m.qvL,m.saT,m.fzC,m.A0B,m.d6G,m.ogR,se.E,re.j]}),s})();var oe=o(5508);const ie=[{path:"",component:ae}];let I=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[P.Bz.forChild(ie),P.Bz]}),s})(),le=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[u.ez,Z.q,I,m.K6A,oe.cE,h.oC]}),s})()}}]);