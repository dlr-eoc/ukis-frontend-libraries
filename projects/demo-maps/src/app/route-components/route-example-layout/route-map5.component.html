<!-- workaround for footer inside a route: [ngStyle]="{'height': '95%'}"  -->
<main class="content-area map-view" [ngStyle]="{'height': '95%'}">
  <ukis-map-ol [layersSvc]="layersSvc" [mapState]="mapStateSvc" [controls]="controls" id="olMap"></ukis-map-ol>
</main>

<clr-vertical-nav [clrVerticalNavCollapsible]="true" class="right" [clr-nav-level]="2" [ngStyle]="{'height': '95%'}">

  <clr-vertical-nav-group [clrVerticalNavGroupExpanded]="true" class="layers">
    <cds-icon shape="world" title="Overlays" clrVerticalNavIcon></cds-icon>
    Overlays
    <clr-vertical-nav-group-children class="padding title-ellipsis">
      <ukis-layer-control [layersSvc]="layersSvc" [mapStateSvc]="mapStateSvc" [layerfilter]="'Overlays'">
      </ukis-layer-control>
    </clr-vertical-nav-group-children>
  </clr-vertical-nav-group>

  <clr-vertical-nav-group [clrVerticalNavGroupExpanded]="true" class="layers">
    <cds-icon shape="layers" clrVerticalNavIcon title="layers"></cds-icon>
    Layers
    <clr-vertical-nav-group-children class="padding title-ellipsis">
      <ukis-layer-control [layersSvc]="layersSvc" [mapStateSvc]="mapStateSvc"></ukis-layer-control>
    </clr-vertical-nav-group-children>
  </clr-vertical-nav-group>

  <clr-vertical-nav-group [clrVerticalNavGroupExpanded]="true" class="layers">
    <cds-icon shape="world" title="Baselayers" clrVerticalNavIcon></cds-icon>
    Baselayers
    <clr-vertical-nav-group-children class="padding title-ellipsis">
      <ukis-base-layer-control [layersSvc]="layersSvc" [mapStateSvc]="mapStateSvc"></ukis-base-layer-control>
    </clr-vertical-nav-group-children>
  </clr-vertical-nav-group>

</clr-vertical-nav>


<clr-vertical-nav [clrVerticalNavCollapsible]="true" [ngStyle]="{'height': '95%'}">
  <clr-vertical-nav-group [clrVerticalNavGroupExpanded]="showTable">
    <cds-icon shape="table" title="Overlays" clrVerticalNavIcon></cds-icon>
    Table
    <clr-vertical-nav-group-children class="padding title-ellipsis">
      @if (showTable) {
        <table class="table">
          <thead>
            <tr>
              <th class="left">Title</th>
              <th>Foo</th>
              <th>Bar</th>
              <th>Baz</th>
            </tr>
          </thead>
          <tbody>
            @for (item of geojsonData.features; track item) {
              <tr>
                <td class="left">{{item.properties.title}}</td>
                <td>{{item.properties.foo}}</td>
                <td>{{item.properties.bar}}</td>
                <td>{{item.properties.baz}}</td>
              </tr>
            }
          </tbody>
        </table>
      }

      @if (popupData.features.length) {
        <table class="table">
          <thead>
            <tr>
              @for (item of popupData.headers; track item; let i = $index) {
                <th [ngClass]="{'left': i === 0}">{{item}}</th>
              }
            </tr>
          </thead>
          <tbody>
            @for (item of popupData.features; track item; let i = $index) {
              <tr>
                <td class="left">{{item.properties[popupData.headers[0]]}}</td>
                <td>{{item.properties[popupData.headers[1]]}}</td>
                <td>{{item.properties[popupData.headers[2]]}}</td>
                <td>{{item.properties[popupData.headers[3]]}}</td>
              </tr>
            }
          </tbody>
        </table>
      }

    </clr-vertical-nav-group-children>
  </clr-vertical-nav-group>
</clr-vertical-nav>

<div class="footer ukis-footer" [ngStyle]="{'height': '5%'}">
  <p>this is the footer</p>
</div>