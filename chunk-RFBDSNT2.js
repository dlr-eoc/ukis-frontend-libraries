import{$a as A,Aa as K,Ba as z,Ca as X,L as H,La as J,Ma as Q,N as v,Ua as Z,Va as $,Wa as I,Xa as S,Ya as n,Za as d,_a as m,ab as b,bb as R,cb as C,db as _,eb as u,g as V,u as j,w as W,ya as Y,za as q}from"./chunk-WHEH4KMJ.js";import{a as x,b as O}from"./chunk-FJYW2LMB.js";var F=class extends Q{constructor(e){super(),e=e||{},this.layerName_=e.layerName,this.layers_=e.layers?e.layers:null,this.dataProjection=W(e.dataProjection?e.dataProjection:"EPSG:4326")}readFeaturesFromObject(e,r){if(e.type=="Topology"){let i=e,o,s=null,c=null;i.transform&&(o=i.transform,s=o.scale,c=o.translate);let a=i.arcs;o&&At(a,s,c);let f=[],g=i.objects,p=this.layerName_,y;for(let P in g)this.layers_&&!this.layers_.includes(P)||(g[P].type==="GeometryCollection"?(y=g[P],f.push.apply(f,pt(y,a,s,c,p,P,r))):(y=g[P],f.push(k(y,a,s,c,p,P,r))));return f}return[]}readProjectionFromObject(e){return this.dataProjection}},ct={Point:ft,LineString:lt,Polygon:St,MultiPoint:dt,MultiLineString:mt,MultiPolygon:gt};function T(t,e){let r=[],i;for(let o=0,s=t.length;o<s;++o)if(i=t[o],o>0&&r.pop(),i>=0){let c=e[i];for(let a=0,f=c.length;a<f;++a)r.push(c[a].slice(0))}else{let c=e[~i];for(let a=c.length-1;a>=0;--a)r.push(c[a].slice(0))}return r}function ft(t,e,r){let i=t.coordinates;return e&&r&&D(i,e,r),new H(i)}function dt(t,e,r){let i=t.coordinates;if(e&&r)for(let o=0,s=i.length;o<s;++o)D(i[o],e,r);return new z(i)}function lt(t,e){let r=T(t.arcs,e);return new q(r)}function mt(t,e){let r=[];for(let i=0,o=t.arcs.length;i<o;++i)r[i]=T(t.arcs[i],e);return new K(r)}function St(t,e){let r=[];for(let i=0,o=t.arcs.length;i<o;++i)r[i]=T(t.arcs[i],e);return new v(r)}function gt(t,e){let r=[];for(let i=0,o=t.arcs.length;i<o;++i){let s=t.arcs[i],c=[];for(let a=0,f=s.length;a<f;++a)c[a]=T(s[a],e);r[i]=c}return new X(r)}function pt(t,e,r,i,o,s,c){let a=t.geometries,f=[];for(let g=0,p=a.length;g<p;++g)f[g]=k(a[g],e,r,i,o,s,c);return f}function k(t,e,r,i,o,s,c){let a=null,f=t.type;if(f){let y=ct[f];f==="Point"||f==="MultiPoint"?a=y(t,r,i):a=y(t,e),a=J(a,!1,c)}let g=new Y({geometry:a});t.id!==void 0&&g.setId(t.id);let p=t.properties;return o&&(p||(p={}),p[o]=s),p&&g.setProperties(p,!0),g}function At(t,e,r){for(let i=0,o=t.length;i<o;++i)yt(t[i],e,r)}function yt(t,e,r){let i=0,o=0;for(let s=0,c=t.length;s<c;++s){let a=t[s];i+=a[0],o+=a[1],a[0]=i,a[1]=o,D(a,e,r)}}function D(t,e,r){t[0]=t[0]*e[0]+r[0],t[1]=t[1]*e[1]+r[1]}var Rt=F;var G=class{read(e){if(!e)return null;if(typeof e=="string"){let r=$(e);return this.readFromDocument(r)}return Z(e)?this.readFromDocument(e):this.readFromNode(e)}readFromDocument(e){for(let r=e.firstChild;r;r=r.nextSibling)if(r.nodeType==Node.ELEMENT_NODE)return this.readFromNode(r);return null}readFromNode(e){V()}},tt=G;var Pt="http://www.w3.org/1999/xlink";function N(t){return t.getAttributeNS(Pt,"href")}var l=[null,"http://www.opengis.net/wms"];function L(t){return j(t[0].version,"1.3")>=0}var ht=d(l,{Service:n(vt),Capability:n(Ht)}),et={Request:n($t),Exception:n(zt),Layer:n(Xt)},Et=d(l,O(x({},et),{UserDefinedSymbolization:n(jt)})),bt=d(l,et),U=class extends tt{constructor(){super(),this.version=void 0}readFromNode(e){this.version=e.getAttribute("version").trim();let r=m({version:this.version},ht,e,[]);return r||null}},rt={Name:n(u),Title:n(u),Abstract:n(u),KeywordList:n(st),OnlineResource:n(N),ContactInformation:n(Yt),Fees:n(u),AccessConstraints:n(u)},Lt=d(l,rt),xt=d(l,O(x({},rt),{LayerLimit:n(C),MaxWidth:n(C),MaxHeight:n(C)})),Ot=d(l,{ContactPersonPrimary:n(qt),ContactPosition:n(u),ContactAddress:n(Kt),ContactVoiceTelephone:n(u),ContactFacsimileTelephone:n(u),ContactElectronicMailAddress:n(u)}),Ct=d(l,{ContactPerson:n(u),ContactOrganization:n(u)}),_t=d(l,{AddressType:n(u),Address:n(u),City:n(u),StateOrProvince:n(u),PostCode:n(u),Country:n(u)}),Tt=d(l,{Format:I(u)}),nt={Name:n(u),Title:n(u),Abstract:n(u),KeywordList:n(st),BoundingBox:S(at),Dimension:S(Jt),Attribution:n(Vt),AuthorityURL:S(ee),Identifier:S(u),MetadataURL:S(re),DataURL:S(h),FeatureListURL:S(h),Style:S(ne),Layer:S(B)},it=d(l,O(x({},nt),{SRS:S(u),Extent:n(Qt),ScaleHint:S(Zt),LatLonBoundingBox:n((t,e)=>at(t,e,!1)),Layer:S(B)})),ot=d(l,O(x({},nt),{CRS:S(u),EX_GeographicBoundingBox:n(Wt),MinScaleDenominator:n(b),MaxScaleDenominator:n(b),Layer:S(B)})),Nt=d(l,{Title:n(u),OnlineResource:n(N),LogoURL:n(ut)}),Bt=d(l,{westBoundLongitude:n(b),eastBoundLongitude:n(b),southBoundLatitude:n(b),northBoundLatitude:n(b)}),Mt=d(l,{GetCapabilities:n(w),GetMap:n(w),GetFeatureInfo:n(w)}),It=d(l,{Format:S(u),DCPType:S(kt)}),Ft=d(l,{HTTP:n(te)}),Dt=d(l,{Get:n(h),Post:n(h)}),Gt=d(l,{Name:n(u),Title:n(u),Abstract:n(u),LegendURL:S(ut),StyleSheetURL:n(h),StyleURL:n(h)}),wt=d(l,{Format:n(u),OnlineResource:n(N)}),Ut=d(l,{Keyword:I(u)});function Vt(t,e){return m({},Nt,t,e)}function jt(t,e){return{SupportSLD:!!A(t.getAttribute("UserDefinedSymbolization")),UserLayer:!!A(t.getAttribute("UserLayer")),UserStyle:!!A(t.getAttribute("UserStyle")),RemoteWFS:!!A(t.getAttribute("RemoteWFS"))}}function at(t,e,r=!0){let i=[R(t.getAttribute("minx")),R(t.getAttribute("miny")),R(t.getAttribute("maxx")),R(t.getAttribute("maxy"))],o=[R(t.getAttribute("resx")),R(t.getAttribute("resy"))],s={extent:i,res:o};return r&&(L(e)?s.crs=t.getAttribute("CRS"):s.srs=t.getAttribute("SRS")),s}function Wt(t,e){let r=m({},Bt,t,e);if(!r)return;let i=r.westBoundLongitude,o=r.southBoundLatitude,s=r.eastBoundLongitude,c=r.northBoundLatitude;if(!(i===void 0||o===void 0||s===void 0||c===void 0))return[i,o,s,c]}function Ht(t,e){return m({},L(e)?bt:Et,t,e)}function vt(t,e){return m({},L(e)?xt:Lt,t,e)}function Yt(t,e){return m({},Ot,t,e)}function qt(t,e){return m({},Ct,t,e)}function Kt(t,e){return m({},_t,t,e)}function zt(t,e){return m([],Tt,t,e)}function Xt(t,e){let r=m({},L(e)?ot:it,t,e);return r.Layer===void 0?Object.assign(r,B(t,e)):r}function B(t,e){let r=L(e),i=e[e.length-1],o=m({},r?ot:it,t,e);if(!o)return;let s=A(t.getAttribute("queryable"));s===void 0&&(s=i.queryable),o.queryable=s!==void 0?s:!1;let c=_(t.getAttribute("cascaded"));c===void 0&&(c=i.cascaded),o.cascaded=c;let a=A(t.getAttribute("opaque"));a===void 0&&(a=i.opaque),o.opaque=a!==void 0?a:!1;let f=A(t.getAttribute("noSubsets"));f===void 0&&(f=i.noSubsets),o.noSubsets=f!==void 0?f:!1;let g=R(t.getAttribute("fixedWidth"));g||(g=i.fixedWidth),o.fixedWidth=g;let p=R(t.getAttribute("fixedHeight"));p||(p=i.fixedHeight),o.fixedHeight=p;let y=["Style","AuthorityURL"];r?y.push("CRS"):y.push("SRS","Dimension"),y.forEach(function(E){if(E in i){let M=o[E]||[];o[E]=M.concat(i[E])}});let P=["BoundingBox","Attribution"];return r?P.push("Dimension","EX_GeographicBoundingBox","MinScaleDenominator","MaxScaleDenominator"):P.push("LatLonBoundingBox","ScaleHint","Extent"),P.forEach(function(E){if(!(E in o)){let M=i[E];o[E]=M}}),o}function Jt(t,e){let r={name:t.getAttribute("name"),units:t.getAttribute("units"),unitSymbol:t.getAttribute("unitSymbol")};return L(e)&&Object.assign(r,{default:t.getAttribute("default"),multipleValues:A(t.getAttribute("multipleValues")),nearestValue:A(t.getAttribute("nearestValue")),current:A(t.getAttribute("current")),values:u(t)}),r}function Qt(t,e){return{name:t.getAttribute("name"),default:t.getAttribute("default"),nearestValue:A(t.getAttribute("nearestValue"))}}function Zt(t,e){return{min:R(t.getAttribute("min")),max:R(t.getAttribute("max"))}}function h(t,e){return m({},wt,t,e)}function $t(t,e){return m({},Mt,t,e)}function kt(t,e){return m({},Ft,t,e)}function te(t,e){return m({},Dt,t,e)}function w(t,e){return m({},It,t,e)}function ut(t,e){let r=h(t,e);if(r){let i=[_(t.getAttribute("width")),_(t.getAttribute("height"))];return r.size=i,r}}function ee(t,e){let r=h(t,e);if(r)return r.name=t.getAttribute("name"),r}function re(t,e){let r=h(t,e);if(r)return r.type=t.getAttribute("type"),r}function ne(t,e){return m({},Gt,t,e)}function st(t,e){return m([],Ut,t,e)}var ie=U;export{Rt as a,ie as b};
