"use strict";(self.webpackChunkdemo_maps=self.webpackChunkdemo_maps||[]).push([[676],{676:(b,u,e)=>{e.r(u),e.d(u,{RouteExampleOwcLayersModule:()=>R,RouteExampleOwcLayersRoutingModule:()=>S});var h=e(6733),g=e(6785),y=e(6764),f=e(8239),n=e(5829),i=e(9265),m=e(5118),p=e(6121),x=e(8152),t=e(755),d=e(1739),L=e(2939),s=e(6465),O=e(4961),Z=e(4542),C=e(4149);let E=(()=>{class l{constructor(o,r,a,c,v){this.layersSvc=o,this.mapStateSvc=r,this.mapSvc=a,this.owcSvc=c,this.http=v,this.class="content-container",this.controls={attribution:!0,scaleLine:!0}}ngOnInit(){this.mapSvc.map.addControl(new x.S),this.getOwcContext("assets/owc/ows-json-context.json")}getOwcContext(o){return this.http.get(o).subscribe(r=>{this.addLayersFromContext(r)})}addLayersFromContext(o){this.owcSvc.getLayers(o,this.mapSvc.EPSG).pipe((0,p.P)()).subscribe(r=>{for(const a of r)a instanceof i.ex?("VectorLayers_baseWFSLayer_eocGeojsonLayer_baseKMLLayer"===a.id&&a.layers.forEach(c=>c.popup=!0),this.layersSvc.addLayerGroup(a,a.filtertype)):this.layersSvc.addLayer(a,a.filtertype)}),o.bbox&&this.mapStateSvc.setExtent(o.bbox)}downloadOwc(){var o=this;return(0,f.Z)(function*(){const r=yield o.layersSvc.getLayerGroups().pipe((0,p.P)()).toPromise(),a=yield o.mapStateSvc.getExtent().pipe((0,p.P)()).toPromise(),c=o.owcSvc.generateOwsContextFrom("Test_OWC",r,a),v=new Blob([JSON.stringify(c)],{type:"application/json"}),T=URL.createObjectURL(v);window.open(T)})()}static#t=this.\u0275fac=function(r){return new(r||l)(t.Y36(i.KD),t.Y36(m.I3),t.Y36(n.BR),t.Y36(d.$J),t.Y36(L.eN))};static#a=this.\u0275cmp=t.Xpm({type:l,selectors:[["app-route-example-owc-layers"]],hostVars:2,hostBindings:function(r,a){2&r&&t.Tol(a.class)},features:[t._Bn([i.KD,m.I3,n.BR])],decls:24,vars:15,consts:[[1,"content-area","map-view"],["id","olMap",3,"layersSvc","mapState","controls"],[1,"right",3,"clrVerticalNavCollapsible","clr-nav-level"],[1,"layers",3,"clrVerticalNavGroupExpanded"],["shape","world","title","Overlays","clrVerticalNavIcon",""],[1,"padding","title-ellipsis"],[3,"layersSvc","mapStateSvc","layerfilter"],["shape","layers","clrVerticalNavIcon","","title","layers"],[3,"layersSvc","mapStateSvc"],["shape","world","title","Baselayers","clrVerticalNavIcon",""],["shape","export","title","Export","clrVerticalNavIcon",""],[1,"btn","btn-primary",3,"click"]],template:function(r,a){1&r&&(t.TgZ(0,"main",0),t._UZ(1,"ukis-map-ol",1),t.qZA(),t.TgZ(2,"clr-vertical-nav",2)(3,"clr-vertical-nav-group",3),t._UZ(4,"clr-icon",4),t._uU(5," Overlays "),t.TgZ(6,"clr-vertical-nav-group-children",5),t._UZ(7,"ukis-layer-control",6),t.qZA()(),t.TgZ(8,"clr-vertical-nav-group",3),t._UZ(9,"clr-icon",7),t._uU(10," Layers "),t.TgZ(11,"clr-vertical-nav-group-children",5),t._UZ(12,"ukis-layer-control",8),t.qZA()(),t.TgZ(13,"clr-vertical-nav-group",3),t._UZ(14,"clr-icon",9),t._uU(15," Baselayers "),t.TgZ(16,"clr-vertical-nav-group-children",5),t._UZ(17,"ukis-base-layer-control",8),t.qZA()(),t.TgZ(18,"clr-vertical-nav-group"),t._UZ(19,"clr-icon",10),t._uU(20," OWC Control "),t.TgZ(21,"clr-vertical-nav-group-children",5)(22,"button",11),t.NdJ("click",function(){return a.downloadOwc()}),t._uU(23,"Download OWC"),t.qZA()()()()),2&r&&(t.xp6(1),t.Q6J("layersSvc",a.layersSvc)("mapState",a.mapStateSvc)("controls",a.controls),t.xp6(1),t.Q6J("clrVerticalNavCollapsible",!0)("clr-nav-level",2),t.xp6(1),t.Q6J("clrVerticalNavGroupExpanded",!0),t.xp6(4),t.Q6J("layersSvc",a.layersSvc)("mapStateSvc",a.mapStateSvc)("layerfilter","Overlays"),t.xp6(1),t.Q6J("clrVerticalNavGroupExpanded",!0),t.xp6(4),t.Q6J("layersSvc",a.layersSvc)("mapStateSvc",a.mapStateSvc),t.xp6(1),t.Q6J("clrVerticalNavGroupExpanded",!0),t.xp6(4),t.Q6J("layersSvc",a.layersSvc)("mapStateSvc",a.mapStateSvc))},dependencies:[s.qvL,s.saT,s.fzC,s.A0B,s.d6G,s.ogR,O.E,Z.l,C.j],styles:["[_nghost-%COMP%]     .zoom-number{bottom:2.5em;left:8px}"]})}return l})();var w=e(6750);const U=[{path:"",component:E}];let S=(()=>{class l{static#t=this.\u0275fac=function(r){return new(r||l)};static#a=this.\u0275mod=t.oAB({type:l});static#e=this.\u0275inj=t.cJS({imports:[y.Bz.forChild(U),y.Bz]})}return l})(),R=(()=>{class l{static#t=this.\u0275fac=function(r){return new(r||l)};static#a=this.\u0275mod=t.oAB({type:l});static#e=this.\u0275inj=t.cJS({imports:[h.ez,g.q,S,s.K6A,w.cE,n.oC,d.yU]})}return l})()}}]);