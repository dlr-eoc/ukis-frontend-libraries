(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"+L8p":function(t,e,n){"use strict";var i=n("wuBr");e.a=class extends i.a{constructor(t){const e=t||{};let n;n=void 0!==e.attributions?e.attributions:['&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.'],super({attributions:n,attributionsCollapsible:!1,cacheSize:e.cacheSize,crossOrigin:void 0!==e.crossOrigin?e.crossOrigin:"anonymous",imageSmoothing:e.imageSmoothing,maxZoom:void 0!==e.maxZoom?e.maxZoom:19,opaque:void 0===e.opaque||e.opaque,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,transition:e.transition,url:void 0!==e.url?e.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:e.wrapX})}}},"+WER":function(t,e,n){"use strict";n.d(e,"b",function(){return c});var i=n("9CgO"),r=n("5NHM"),s=n("lXae"),o=n("FRHD"),a=n("hKKC"),l=n("FHfp");function c(t,e,n){const r=t;if(r.src&&o.c){const t=r.decode();let i=!0;const s=function(){i=!1};return t.then(function(){i&&e()}).catch(function(t){i&&("EncodingError"===t.name&&"Invalid image type."===t.message?e():n())}),s}const s=[Object(l.b)(r,i.a.LOAD,e),Object(l.b)(r,i.a.ERROR,n)];return function(){s.forEach(l.c)}}e.a=class extends r.a{constructor(t,e,n,i,r,o){super(t,e,n,s.a.IDLE),this.src_=i,this.image_=new Image,null!==r&&(this.image_.crossOrigin=r),this.unlisten_=null,this.state=s.a.IDLE,this.imageLoadFunction_=o}getImage(){return this.image_}handleImageError_(){this.state=s.a.ERROR,this.unlistenImage_(),this.changed()}handleImageLoad_(){void 0===this.resolution&&(this.resolution=Object(a.B)(this.extent)/this.image_.height),this.state=s.a.LOADED,this.unlistenImage_(),this.changed()}load(){this.state!=s.a.IDLE&&this.state!=s.a.ERROR||(this.state=s.a.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=c(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}setImage(t){this.image_=t}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}},"+hOz":function(t,e,n){"use strict";n.d(e,"b",function(){return s}),n.d(e,"c",function(){return o});var i=n("bwl8"),r=n("orbG");function s(t,e,n){const i=t.getCenterInternal();i&&t.animateInternal({duration:void 0!==n?n:250,easing:r.d,center:t.getConstrainedCenter([i[0]+e[0],i[1]+e[1]])})}function o(t,e,n,i){const s=t.getZoom();if(void 0===s)return;const o=t.getConstrainedZoom(s+e),a=t.getResolutionForZoom(o);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:a,anchor:n,duration:void 0!==i?i:250,easing:r.b})}e.a=class extends i.a{constructor(t){super(),t&&t.handleEvent&&(this.handleEvent=t.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get("active")}getMap(){return this.map_}handleEvent(t){return!0}setActive(t){this.set("active",t)}setMap(t){this.map_=t}}},"/uUt":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("7o/Q");function r(t,e){return n=>n.lift(new s(t,e))}class s{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new o(t,this.compare,this.keySelector))}}class o extends i.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(i){return this.destination.error(i)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}},"0Fwh":function(t,e,n){"use strict";e.a={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},"0T8a":function(t,e,n){"use strict";var i=n("lXae"),r=n("rfxS"),s=n("uJJw"),o=n("zJp8"),a=n("Cw4B"),l=n("4cD7");class c extends r.a{constructor(t){super({opacity:1,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView,rotation:void 0!==t.rotation?t.rotation:0,scale:void 0!==t.scale?t.scale:1,displacement:void 0!==t.displacement?t.displacement:[0,0]}),this.canvas_={},this.hitDetectionCanvas_=null,this.fill_=void 0!==t.fill?t.fill:null,this.origin_=[0,0],this.points_=t.points,this.radius_=void 0!==t.radius?t.radius:t.radius1,this.radius2_=t.radius2,this.angle_=void 0!==t.angle?t.angle:0,this.stroke_=void 0!==t.stroke?t.stroke:null,this.anchor_=null,this.size_=null,this.imageSize_=null,this.hitDetectionImageSize_=null,this.render()}clone(){const t=this.getScale(),e=new c({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice()});return e.setOpacity(this.getOpacity()),e}getAnchor(){return this.anchor_}getAngle(){return this.angle_}getFill(){return this.fill_}getHitDetectionImage(){if(!this.hitDetectionCanvas_){const t=this.createRenderOptions();this.createHitDetectionCanvas_(t)}return this.hitDetectionCanvas_}getImage(t){if(!this.canvas_[t||1]){const e=this.createRenderOptions(),n=Object(a.a)(e.size*t||1,e.size*t||1);this.draw_(e,n,0,0,t||1),this.canvas_[t||1]=n.canvas}return this.canvas_[t||1]}getPixelRatio(t){return t}getImageSize(){return this.imageSize_}getHitDetectionImageSize(){return this.hitDetectionImageSize_}getImageState(){return i.a.LOADED}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius_}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}listenImageChange(t){}load(){}unlistenImageChange(t){}createRenderOptions(){let t,e=l.e,n=l.h,i=0,r=null,s=0,a=0;return this.stroke_&&(t=this.stroke_.getColor(),null===t&&(t=l.l),t=Object(o.a)(t),a=this.stroke_.getWidth(),void 0===a&&(a=l.i),r=this.stroke_.getLineDash(),s=this.stroke_.getLineDashOffset(),n=this.stroke_.getLineJoin(),void 0===n&&(n=l.h),e=this.stroke_.getLineCap(),void 0===e&&(e=l.e),i=this.stroke_.getMiterLimit(),void 0===i&&(i=l.j)),{strokeStyle:t,strokeWidth:a,size:2*(this.radius_+a)+1,lineCap:e,lineDash:r,lineDashOffset:s,lineJoin:n,miterLimit:i}}render(){const t=this.createRenderOptions(),e=Object(a.a)(t.size,t.size);this.draw_(t,e,0,0,1),this.canvas_={},this.canvas_[1]=e.canvas;const n=e.canvas.width,i=n,r=this.getDisplacement();this.hitDetectionImageSize_=[t.size,t.size],this.createHitDetectionCanvas_(t),this.anchor_=[n/2-r[0],n/2+r[1]],this.size_=[n,n],this.imageSize_=[i,i]}draw_(t,e,n,i,r){let s,a,c;e.setTransform(r,0,0,r,0,0),e.translate(n,i),e.beginPath();let h=this.points_;if(h===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{const n=void 0!==this.radius2_?this.radius2_:this.radius_;for(n!==this.radius_&&(h*=2),s=0;s<=h;s++)a=2*s*Math.PI/h-Math.PI/2+this.angle_,c=s%2==0?this.radius_:n,e.lineTo(t.size/2+c*Math.cos(a),t.size/2+c*Math.sin(a))}if(this.fill_){let t=this.fill_.getColor();null===t&&(t=l.c),e.fillStyle=Object(o.a)(t),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,e.setLineDash&&t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()}createHitDetectionCanvas_(t){if(this.hitDetectionCanvas_=this.getImage(1),this.fill_){let e=this.fill_.getColor(),n=0;if("string"==typeof e&&(e=Object(s.a)(e)),null===e?n=1:Array.isArray(e)&&(n=4===e.length?e[3]:1),0===n){const e=Object(a.a)(t.size,t.size);this.hitDetectionCanvas_=e.canvas,this.drawHitDetectionCanvas_(t,e,0,0)}}}drawHitDetectionCanvas_(t,e,n,i){e.translate(n,i),e.beginPath();let r=this.points_;if(r===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{const n=void 0!==this.radius2_?this.radius2_:this.radius_;let i,s,o;for(n!==this.radius_&&(r*=2),i=0;i<=r;i++)o=2*i*Math.PI/r-Math.PI/2+this.angle_,s=i%2==0?this.radius_:n,e.lineTo(t.size/2+s*Math.cos(o),t.size/2+s*Math.sin(o))}e.fillStyle=l.c,e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.stroke()),e.closePath()}}var h=c;class u extends h{constructor(t){const e=t||{};super({points:1/0,fill:e.fill,radius:e.radius,stroke:e.stroke,scale:void 0!==e.scale?e.scale:1,rotation:void 0!==e.rotation?e.rotation:0,rotateWithView:void 0!==e.rotateWithView&&e.rotateWithView,displacement:void 0!==e.displacement?e.displacement:[0,0]})}clone(){const t=this.getScale(),e=new u({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});return e.setOpacity(this.getOpacity()),e}setRadius(t){this.radius_=t,this.render()}}e.a=u},"0o2U":function(t,e,n){"use strict";n.d(e,"b",function(){return o});var i=n("RGpb"),r=n("9CgO"),s=n("FHfp");function o(t){if(Array.isArray(t))for(let e=0,n=t.length;e<n;++e)Object(s.c)(t[e]);else Object(s.c)(t)}e.a=class extends i.a{constructor(){super(),this.revision_=0}changed(){++this.revision_,this.dispatchEvent(r.a.CHANGE)}getRevision(){return this.revision_}on(t,e){if(Array.isArray(t)){const n=t.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=Object(s.a)(this,t[r],e);return i}return Object(s.a)(this,t,e)}once(t,e){let n;if(Array.isArray(t)){const i=t.length;n=new Array(i);for(let r=0;r<i;++r)n[r]=Object(s.b)(this,t[r],e)}else n=Object(s.b)(this,t,e);return e.ol_key=n,n}un(t,e){const n=e.ol_key;if(n)o(n);else if(Array.isArray(t))for(let i=0,r=t.length;i<r;++i)this.removeEventListener(t[i],e);else this.removeEventListener(t,e)}}},"0sIq":function(t,e,n){"use strict";n.d(e,"a",function(){return d});var i=n("1M8w"),r=n("JS5d"),s=n("aBeY"),o=n("Lwyg"),a=n("zJp8"),l=n("4cD7"),c=n("2I+J"),h=n("hKKC");function u(t,e,n,i,r){let s,o,a,l,c,h,u,d,p,f,m=n,g=n,y=0,_=0,b=n;for(o=n;o<i;o+=r){const n=e[o],i=e[o+1];void 0!==c&&(p=n-c,f=i-h,l=Math.sqrt(p*p+f*f),void 0!==u&&(_+=a,s=Math.acos((u*p+d*f)/(a*l)),s>t&&(_>y&&(y=_,m=b,g=o),_=0,b=o-r)),a=l,u=p,d=f),c=n,h=i}return _+=l,_>y?[b,o]:[m,g]}const d={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};e.b=class extends i.a{constructor(t,e,n,i){super(t,e,n,i),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterImageWithText_=void 0}finish(){const t=super.finish();return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t}drawText(t,e){const n=this.textState_;if(""===this.text_||!n||!this.textFillState_&&!this.textStrokeState_)return;const i=this.coordinates;let a=i.length;const c=t.getType();let d=null,p=t.getStride();if(n.placement!==o.a.LINE||c!=s.a.LINE_STRING&&c!=s.a.MULTI_LINE_STRING&&c!=s.a.POLYGON&&c!=s.a.MULTI_POLYGON){const i=n.overflow?null:[];switch(c){case s.a.POINT:case s.a.MULTI_POINT:d=t.getFlatCoordinates();break;case s.a.LINE_STRING:d=t.getFlatMidpoint();break;case s.a.CIRCLE:d=t.getCenter();break;case s.a.MULTI_LINE_STRING:d=t.getFlatMidpoints(),p=2;break;case s.a.POLYGON:d=t.getFlatInteriorPoint(),n.overflow||i.push(d[2]/this.resolution),p=3;break;case s.a.MULTI_POLYGON:const e=t.getFlatInteriorPoints();d=[];for(let t=0,r=e.length;t<r;t+=3)n.overflow||i.push(e[t+2]/this.resolution),d.push(e[t],e[t+1]);if(0===d.length)return;p=2}const o=this.appendFlatPointCoordinates(d,p);if(o===a)return;this.saveTextStates_(),(n.backgroundFill||n.backgroundStroke)&&(this.setFillStrokeStyle(n.backgroundFill,n.backgroundStroke),n.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),n.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e);let h=n.padding;if(h!=l.k&&(n.scale[0]<0||n.scale[1]<0)){let t=n.padding[0],e=n.padding[1],i=n.padding[2],r=n.padding[3];n.scale[0]<0&&(e=-e,r=-r),n.scale[1]<0&&(t=-t,i=-i),h=[t,e,i,r]}const u=this.pixelRatio;this.instructions.push([r.c.DRAW_IMAGE,a,o,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterImageWithText_,h==l.k?l.k:h.map(function(t){return t*u}),!!n.backgroundFill,!!n.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,i]);const f=1/u;this.hitDetectionInstructions.push([r.c.DRAW_IMAGE,a,o,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[f,f],NaN,this.declutterImageWithText_,h,!!n.backgroundFill,!!n.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,i]),this.endGeometry(e)}else{if(!Object(h.G)(this.getBufferedMaxExtent(),t.getExtent()))return;let r;if(d=t.getFlatCoordinates(),c==s.a.LINE_STRING)r=[d.length];else if(c==s.a.MULTI_LINE_STRING)r=t.getEnds();else if(c==s.a.POLYGON)r=t.getEnds().slice(0,1);else if(c==s.a.MULTI_POLYGON){const e=t.getEndss();r=[];for(let t=0,n=e.length;t<n;++t)r.push(e[t][0])}this.beginGeometry(t,e);const o=n.textAlign;let l,f=0;for(let t=0,e=r.length;t<e;++t){if(null==o){const e=u(n.maxAngle,d,f,r[t],p);f=e[0],l=e[1]}else l=r[t];for(let t=f;t<l;t+=p)i.push(d[t],d[t+1]);const e=i.length;f=r[t],this.drawChars_(a,e),a=e}this.endGeometry(e)}}saveTextStates_(){const t=this.textStrokeState_,e=this.textState_,n=this.textFillState_,i=this.strokeKey_;t&&(i in this.strokeStates||(this.strokeStates[i]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));const r=this.textKey_;r in this.textStates||(this.textStates[r]={font:e.font,textAlign:e.textAlign||l.m,textBaseline:e.textBaseline||l.n,scale:e.scale});const s=this.fillKey_;n&&(s in this.fillStates||(this.fillStates[s]={fillStyle:n.fillStyle}))}drawChars_(t,e){const n=this.textStrokeState_,i=this.textState_,s=this.strokeKey_,o=this.textKey_,a=this.fillKey_;this.saveTextStates_();const l=this.pixelRatio,c=d[i.textBaseline],h=this.textOffsetY_*l,u=this.text_,p=n?n.lineWidth*Math.abs(i.scale[0])/2:0;this.instructions.push([r.c.DRAW_CHARS,t,e,c,i.overflow,a,i.maxAngle,l,h,s,p*l,u,o,1]),this.hitDetectionInstructions.push([r.c.DRAW_CHARS,t,e,c,i.overflow,a,i.maxAngle,1,h,s,p,u,o,1/l])}setTextStyle(t,e){let n,i,r;if(t){const e=t.getFill();e?(i=this.textFillState_,i||(i={},this.textFillState_=i),i.fillStyle=Object(a.a)(e.getColor()||l.c)):(i=null,this.textFillState_=i);const s=t.getStroke();if(s){r=this.textStrokeState_,r||(r={},this.textStrokeState_=r);const t=s.getLineDash(),e=s.getLineDashOffset(),n=s.getWidth(),i=s.getMiterLimit();r.lineCap=s.getLineCap()||l.e,r.lineDash=t?t.slice():l.f,r.lineDashOffset=void 0===e?l.g:e,r.lineJoin=s.getLineJoin()||l.h,r.lineWidth=void 0===n?l.i:n,r.miterLimit=void 0===i?l.j:i,r.strokeStyle=Object(a.a)(s.getColor()||l.l)}else r=null,this.textStrokeState_=r;n=this.textState_;const o=t.getFont()||l.d;Object(l.s)(o);const h=t.getScaleArray();n.overflow=t.getOverflow(),n.font=o,n.maxAngle=t.getMaxAngle(),n.placement=t.getPlacement(),n.textAlign=t.getTextAlign(),n.textBaseline=t.getTextBaseline()||l.n,n.backgroundFill=t.getBackgroundFill(),n.backgroundStroke=t.getBackgroundStroke(),n.padding=t.getPadding()||l.k,n.scale=void 0===h?[1,1]:h;const u=t.getOffsetX(),d=t.getOffsetY(),p=t.getRotateWithView(),f=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===u?0:u,this.textOffsetY_=void 0===d?0:d,this.textRotateWithView_=void 0!==p&&p,this.textRotation_=void 0===f?0:f,this.strokeKey_=r?("string"==typeof r.strokeStyle?r.strokeStyle:Object(c.c)(r.strokeStyle))+r.lineCap+r.lineDashOffset+"|"+r.lineWidth+r.lineJoin+r.miterLimit+"["+r.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?")+(n.textBaseline||"?"),this.fillKey_=i?"string"==typeof i.fillStyle?i.fillStyle:"|"+Object(c.c)(i.fillStyle):""}else this.text_="";this.declutterImageWithText_=e}}},"1Ggo":function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return o});var i=n("Y5Xb"),r=n("oWEL");function s(t,e,n,s,o,a,l){let c,h,u,d,p,f,m;const g=o[a+1],y=[];for(let i=0,r=n.length;i<r;++i){const r=n[i];for(d=t[r-s],f=t[r-s+1],c=e;c<r;c+=s)p=t[c],m=t[c+1],(g<=f&&m<=g||f<=g&&g<=m)&&(u=(g-f)/(m-f)*(p-d)+d,y.push(u)),d=p,f=m}let _=NaN,b=-1/0;for(y.sort(r.i),d=y[0],c=1,h=y.length;c<h;++c){p=y[c];const r=Math.abs(p-d);r>b&&(u=(d+p)/2,Object(i.c)(t,e,n,s,u,g)&&(_=u,b=r)),d=p}return isNaN(_)&&(_=o[a]),l?(l.push(_,g,b),l):[_,g,b]}function o(t,e,n,i,r){let o=[];for(let a=0,l=n.length;a<l;++a){const l=n[a];o=s(t,e,l,i,r,2*a,o),e=l[l.length-1]}return o}},"1M8w":function(t,e,n){"use strict";var i=n("JS5d"),r=n("aBeY"),s=n("rb/e"),o=n("g38P"),a=n("zJp8"),l=n("hKKC"),c=n("4cD7"),h=n("oWEL"),u=n("L3Wi");e.a=class extends o.a{constructor(t,e,n,i){super(),this.tolerance=t,this.maxExtent=e,this.pixelRatio=i,this.maxLineWidth=0,this.resolution=n,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(t){const e=this.pixelRatio;return 1==e?t:t.map(function(t){return t*e})}appendFlatPointCoordinates(t,e){const n=this.getBufferedMaxExtent(),i=this.tmpCoordinate_,r=this.coordinates;let s=r.length;for(let o=0,a=t.length;o<a;o+=e)i[0]=t[o],i[1]=t[o+1],Object(l.g)(n,i)&&(r[s++]=i[0],r[s++]=i[1]);return s}appendFlatLineCoordinates(t,e,n,i,r,o){const a=this.coordinates;let c=a.length;const h=this.getBufferedMaxExtent();o&&(e+=i);let u=t[e],d=t[e+1];const p=this.tmpCoordinate_;let f,m,g,y=!0;for(f=e+i;f<n;f+=i)p[0]=t[f],p[1]=t[f+1],g=Object(l.j)(h,p),g!==m?(y&&(a[c++]=u,a[c++]=d,y=!1),a[c++]=p[0],a[c++]=p[1]):g===s.a.INTERSECTING?(a[c++]=p[0],a[c++]=p[1],y=!1):y=!0,u=p[0],d=p[1],m=g;return(r&&y||f===e+i)&&(a[c++]=u,a[c++]=d),c}drawCustomCoordinates_(t,e,n,i,r){for(let s=0,o=n.length;s<o;++s){const o=n[s],a=this.appendFlatLineCoordinates(t,e,o,i,!1,!1);r.push(a),e=o}return e}drawCustom(t,e,n){this.beginGeometry(t,e);const s=t.getType(),o=t.getStride(),a=this.coordinates.length;let l,c,h,d,p;if(s==r.a.MULTI_POLYGON){l=t.getOrientedFlatCoordinates(),d=[];const e=t.getEndss();p=0;for(let t=0,n=e.length;t<n;++t){const n=[];p=this.drawCustomCoordinates_(l,p,e[t],o,n),d.push(n)}this.instructions.push([i.c.CUSTOM,a,d,t,n,u.c])}else s==r.a.POLYGON||s==r.a.MULTI_LINE_STRING?(h=[],l=s==r.a.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),p=this.drawCustomCoordinates_(l,0,t.getEnds(),o,h),this.instructions.push([i.c.CUSTOM,a,h,t,n,u.b])):s==r.a.LINE_STRING||s==r.a.CIRCLE?(l=t.getFlatCoordinates(),c=this.appendFlatLineCoordinates(l,0,l.length,o,!1,!1),this.instructions.push([i.c.CUSTOM,a,c,t,n,u.a])):s==r.a.MULTI_POINT?(l=t.getFlatCoordinates(),c=this.appendFlatPointCoordinates(l,o),c>a&&this.instructions.push([i.c.CUSTOM,a,c,t,n,u.a])):s==r.a.POINT&&(l=t.getFlatCoordinates(),this.coordinates.push(l[0],l[1]),c=this.coordinates.length,this.instructions.push([i.c.CUSTOM,a,c,t,n]));this.endGeometry(e)}beginGeometry(t,e){this.beginGeometryInstruction1_=[i.c.BEGIN_GEOMETRY,e,0,t],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[i.c.BEGIN_GEOMETRY,e,0,t],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const t=this.hitDetectionInstructions;let e;t.reverse();const n=t.length;let r,s,o=-1;for(e=0;e<n;++e)r=t[e],s=r[0],s==i.c.END_GEOMETRY?o=e:s==i.c.BEGIN_GEOMETRY&&(r[2]=e,Object(h.j)(this.hitDetectionInstructions,o,e),o=-1)}setFillStrokeStyle(t,e){const n=this.state;if(t){const e=t.getColor();n.fillStyle=Object(a.a)(e||c.c)}else n.fillStyle=void 0;if(e){const t=e.getColor();n.strokeStyle=Object(a.a)(t||c.l);const i=e.getLineCap();n.lineCap=void 0!==i?i:c.e;const r=e.getLineDash();n.lineDash=r?r.slice():c.f;const s=e.getLineDashOffset();n.lineDashOffset=s||c.g;const o=e.getLineJoin();n.lineJoin=void 0!==o?o:c.h;const l=e.getWidth();n.lineWidth=void 0!==l?l:c.i;const h=e.getMiterLimit();n.miterLimit=void 0!==h?h:c.j,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0}createFill(t){const e=t.fillStyle,n=[i.c.SET_FILL_STYLE,e];return"string"!=typeof e&&n.push(!0),n}applyStroke(t){this.instructions.push(this.createStroke(t))}createStroke(t){return[i.c.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]}updateFillStyle(t,e){const n=t.fillStyle;"string"==typeof n&&t.currentFillStyle==n||(void 0!==n&&this.instructions.push(e.call(this,t)),t.currentFillStyle=n)}updateStrokeStyle(t,e){const n=t.strokeStyle,i=t.lineCap,r=t.lineDash,s=t.lineDashOffset,o=t.lineJoin,a=t.lineWidth,l=t.miterLimit;(t.currentStrokeStyle!=n||t.currentLineCap!=i||r!=t.currentLineDash&&!Object(h.b)(t.currentLineDash,r)||t.currentLineDashOffset!=s||t.currentLineJoin!=o||t.currentLineWidth!=a||t.currentMiterLimit!=l)&&(void 0!==n&&e.call(this,t),t.currentStrokeStyle=n,t.currentLineCap=i,t.currentLineDash=r,t.currentLineDashOffset=s,t.currentLineJoin=o,t.currentLineWidth=a,t.currentMiterLimit=l)}endGeometry(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const e=[i.c.END_GEOMETRY,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Object(l.e)(this.maxExtent),this.maxLineWidth>0)){const t=this.resolution*(this.maxLineWidth+1)/2;Object(l.d)(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}},"1N7p":function(t,e,n){"use strict";var i=n("jnTo"),r=n("9CgO"),s=n("e4iU"),o=n("FHfp"),a=n("Cw4B");const l=["fullscreenchange","webkitfullscreenchange","MSFullscreenChange"];function c(){const t=document.body;return!!(t.webkitRequestFullscreen||t.msRequestFullscreen&&document.msFullscreenEnabled||t.requestFullscreen&&document.fullscreenEnabled)}function h(){return!!(document.webkitIsFullScreen||document.msFullscreenElement||document.fullscreenElement)}function u(t){t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen()}e.a=class extends i.a{constructor(t){const e=t||{};super({element:document.createElement("div"),target:e.target}),this.cssClassName_=void 0!==e.className?e.className:"ol-full-screen",this.activeClassName_=void 0!==e.activeClassName?e.activeClassName.split(" "):[this.cssClassName_+"-true"],this.inactiveClassName_=void 0!==e.inactiveClassName?e.inactiveClassName.split(" "):[this.cssClassName_+"-false"];const n=void 0!==e.label?e.label:"\u2922";this.labelNode_="string"==typeof n?document.createTextNode(n):n;const i=void 0!==e.labelActive?e.labelActive:"\xd7";this.labelActiveNode_="string"==typeof i?document.createTextNode(i):i,this.button_=document.createElement("button");const o=e.tipLabel?e.tipLabel:"Toggle full-screen";this.setClassName_(this.button_,h()),this.button_.setAttribute("type","button"),this.button_.title=o,this.button_.appendChild(this.labelNode_),this.button_.addEventListener(r.a.CLICK,this.handleClick_.bind(this),!1);const a=this.cssClassName_+" "+s.e+" "+s.b+" "+(c()?"":s.f),l=this.element;l.className=a,l.appendChild(this.button_),this.keys_=void 0!==e.keys&&e.keys,this.source_=e.source}handleClick_(t){t.preventDefault(),this.handleFullScreen_()}handleFullScreen_(){if(!c())return;const t=this.getMap();if(t)if(h())document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.webkitExitFullscreen&&document.webkitExitFullscreen();else{let e;e=this.source_?"string"==typeof this.source_?document.getElementById(this.source_):this.source_:t.getTargetElement(),this.keys_?function(t){t.webkitRequestFullscreen?t.webkitRequestFullscreen():u(t)}(e):u(e)}}handleFullScreenChange_(){const t=this.getMap();h()?(this.setClassName_(this.button_,!0),Object(a.g)(this.labelActiveNode_,this.labelNode_),this.dispatchEvent("enterfullscreen")):(this.setClassName_(this.button_,!1),Object(a.g)(this.labelNode_,this.labelActiveNode_),this.dispatchEvent("leavefullscreen")),t&&t.updateSize()}setClassName_(t,e){const n=this.activeClassName_,i=this.inactiveClassName_,r=e?n:i;t.classList.remove(...n),t.classList.remove(...i),t.classList.add(...r)}setMap(t){if(super.setMap(t),t)for(let e=0,n=l.length;e<n;++e)this.listenerKeys.push(Object(o.a)(document,l[e],this.handleFullScreenChange_,this))}}},"1VLE":function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r});const i={},r={}},"1X1q":function(t,e,n){"use strict";function i(t,e){return[[-1/0,-1/0,1/0,1/0]]}function r(t,e){return[t]}n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r})},"1rej":function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r});const i=42,r=256},"2I+J":function(t,e,n){"use strict";function i(){return function(){throw new Error("Unimplemented abstract method.")}()}n.d(e,"b",function(){return i}),n.d(e,"c",function(){return s}),n.d(e,"a",function(){return o});let r=0;function s(t){return t.ol_uid||(t.ol_uid=String(++r))}const o="latest"},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2Vo4":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("XNiG"),r=n("9ppp");class s extends i.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new r.a;return this._value}next(t){super.next(this._value=t)}}},"2cyL":function(t,e,n){"use strict";var i=n("wRPv"),r=n("aBeY"),s=n("X87I"),o=n("AjuZ"),a=n("kuFe"),l=n("hKKC"),c=n("VvGk"),h=n("8pO4"),u=n("oWEL"),d=n("L3Wi"),p=n("2lJZ"),f=n("DPnj");class m extends o.a{constructor(t,e,n){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(t[0]))this.setCoordinates(t,e);else if(void 0!==e&&n)this.setFlatCoordinates(e,t),this.ends_=n;else{let e=this.getLayout();const n=t,i=[],r=[];for(let t=0,s=n.length;t<s;++t){const s=n[t];0===t&&(e=s.getLayout()),Object(u.c)(i,s.getFlatCoordinates()),r.push(i.length)}this.setFlatCoordinates(e,i),this.ends_=r}}appendLineString(t){this.flatCoordinates?Object(u.c)(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const t=new m(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,e,n,i){return i<Object(l.f)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(a.a)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(a.b)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,n,i))}getCoordinateAtM(t,e,n){if(this.layout!=i.a.XYM&&this.layout!=i.a.XYZM||0===this.flatCoordinates.length)return null;const r=void 0!==e&&e,s=void 0!==n&&n;return Object(p.c)(this.flatCoordinates,0,this.ends_,this.stride,t,r,s)}getCoordinates(){return Object(d.b)(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(t){return t<0||this.ends_.length<=t?null:new s.a(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLineStrings(){const t=this.flatCoordinates,e=this.ends_,n=this.layout,i=[];let r=0;for(let o=0,a=e.length;o<a;++o){const a=e[o],l=new s.a(t.slice(r,a),n);i.push(l),r=a}return i}getFlatMidpoints(){const t=[],e=this.flatCoordinates;let n=0;const i=this.ends_,r=this.stride;for(let s=0,o=i.length;s<o;++s){const o=i[s],a=Object(p.a)(e,n,o,r,.5);Object(u.c)(t,a),n=o}return t}getSimplifiedGeometryInternal(t){const e=[],n=[];return e.length=Object(h.b)(this.flatCoordinates,0,this.ends_,this.stride,t,e,0,n),new m(e,i.a.XY,n)}getType(){return r.a.MULTI_LINE_STRING}intersectsExtent(t){return Object(f.b)(this.flatCoordinates,0,this.ends_,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);const n=Object(c.c)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()}}e.a=m},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return r});let i=!1;const r={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}}},"2lJZ":function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return o}),n.d(e,"c",function(){return a});var i=n("oWEL"),r=n("LV+m");function s(t,e,n,s,o,a,l){let c,h;const u=(n-e)/s;if(1===u)c=e;else if(2===u)c=e,h=o;else if(0!==u){let r=t[e],a=t[e+1],l=0;const u=[0];for(let i=e+s;i<n;i+=s){const e=t[i],n=t[i+1];l+=Math.sqrt((e-r)*(e-r)+(n-a)*(n-a)),u.push(l),r=e,a=n}const d=o*l,p=Object(i.a)(u,d);p<0?(h=(d-u[-p-2])/(u[-p-1]-u[-p-2]),c=e+(-p-2)*s):c=e+p*s}const d=l>1?l:2,p=a||new Array(d);for(let i=0;i<d;++i)p[i]=void 0===c?NaN:void 0===h?t[c+i]:Object(r.c)(t[c+i],t[c+s+i],h);return p}function o(t,e,n,i,s,o){if(n==e)return null;let a;if(s<t[e+i-1])return o?(a=t.slice(e,e+i),a[i-1]=s,a):null;if(t[n-1]<s)return o?(a=t.slice(n-i,n),a[i-1]=s,a):null;if(s==t[e+i-1])return t.slice(e,e+i);let l=e/i,c=n/i;for(;l<c;){const e=l+c>>1;s<t[(e+1)*i-1]?c=e:l=e+1}const h=t[l*i-1];if(s==h)return t.slice((l-1)*i,(l-1)*i+i);const u=(s-h)/(t[(l+1)*i-1]-h);a=[];for(let d=0;d<i-1;++d)a.push(Object(r.c)(t[(l-1)*i+d],t[l*i+d],u));return a.push(s),a}function a(t,e,n,i,r,s,a){if(a)return o(t,e,n[n.length-1],i,r,s);let l;if(r<t[i-1])return s?(l=t.slice(0,i),l[i-1]=r,l):null;if(t[t.length-1]<r)return s?(l=t.slice(t.length-i),l[i-1]=r,l):null;for(let c=0,h=n.length;c<h;++c){const s=n[c];if(e!=s){if(r<t[e+i-1])return null;if(r<=t[s-1])return o(t,e,s,i,r,!1);e=s}}return null}},"2tVv":function(t,e,n){"use strict";var i=n("bwl8"),r=n("bTHf"),s=n("xXok"),o=n("e4iU"),a=n("hKKC"),l=n("FHfp"),c=n("Cw4B");e.a=class extends i.a{constructor(t){super(),this.options=t,this.id=t.id,this.insertFirst=void 0===t.insertFirst||t.insertFirst,this.stopEvent=void 0===t.stopEvent||t.stopEvent,this.element=document.createElement("div"),this.element.className=void 0!==t.className?t.className:"ol-overlay-container "+o.d,this.element.style.position="absolute",this.element.style.pointerEvents="auto";let e=t.autoPan;e&&"object"!=typeof e&&(e={animation:t.autoPanAnimation,margin:t.autoPanMargin}),this.autoPan=e||!1,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addEventListener(Object(i.b)("element"),this.handleElementChanged),this.addEventListener(Object(i.b)("map"),this.handleMapChanged),this.addEventListener(Object(i.b)("offset"),this.handleOffsetChanged),this.addEventListener(Object(i.b)("position"),this.handlePositionChanged),this.addEventListener(Object(i.b)("positioning"),this.handlePositioningChanged),void 0!==t.element&&this.setElement(t.element),this.setOffset(void 0!==t.offset?t.offset:[0,0]),this.setPositioning(void 0!==t.positioning?t.positioning:s.a.TOP_LEFT),void 0!==t.position&&this.setPosition(t.position)}getElement(){return this.get("element")}getId(){return this.id}getMap(){return this.get("map")}getOffset(){return this.get("offset")}getPosition(){return this.get("position")}getPositioning(){return this.get("positioning")}handleElementChanged(){Object(c.d)(this.element);const t=this.getElement();t&&this.element.appendChild(t)}handleMapChanged(){this.mapPostrenderListenerKey&&(Object(c.e)(this.element),Object(l.c)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);const t=this.getMap();if(t){this.mapPostrenderListenerKey=Object(l.a)(t,r.a.POSTRENDER,this.render,this),this.updatePixelPosition();const e=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?e.insertBefore(this.element,e.childNodes[0]||null):e.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(t){this.set("element",t)}setMap(t){this.set("map",t)}setOffset(t){this.set("offset",t)}setPosition(t){this.set("position",t)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(t){const e=this.getMap();if(!e||!e.getTargetElement()||!this.get("position"))return;const n=this.getRect(e.getTargetElement(),e.getSize()),i=this.getElement(),r=this.getRect(i,[Object(c.c)(i),Object(c.b)(i)]),s=t||{},o=void 0===s.margin?20:s.margin;if(!Object(a.h)(n,r)){const t=r[0]-n[0],i=n[2]-r[2],a=r[1]-n[1],l=n[3]-r[3],c=[0,0];if(t<0?c[0]=t-o:i<0&&(c[0]=Math.abs(i)+o),a<0?c[1]=a-o:l<0&&(c[1]=Math.abs(l)+o),0!==c[0]||0!==c[1]){const t=e.getView().getCenterInternal(),n=e.getPixelFromCoordinateInternal(t);if(!n)return;const i=[n[0]+c[0],n[1]+c[1]],r=s.animation||{};e.getView().animateInternal({center:e.getCoordinateFromPixelInternal(i),duration:r.duration,easing:r.easing})}}}getRect(t,e){const n=t.getBoundingClientRect(),i=n.left+window.pageXOffset,r=n.top+window.pageYOffset;return[i,r,i+e[0],r+e[1]]}setPositioning(t){this.set("positioning",t)}setVisible(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)}updatePixelPosition(){const t=this.getMap(),e=this.getPosition();if(!t||!t.isRendered()||!e)return void this.setVisible(!1);const n=t.getPixelFromCoordinate(e),i=t.getSize();this.updateRenderedPosition(n,i)}updateRenderedPosition(t,e){const n=this.element.style,i=this.getOffset(),r=this.getPositioning();this.setVisible(!0);const o=Math.round(t[0]+i[0])+"px",a=Math.round(t[1]+i[1])+"px";let l="0%",c="0%";r==s.a.BOTTOM_RIGHT||r==s.a.CENTER_RIGHT||r==s.a.TOP_RIGHT?l="-100%":r!=s.a.BOTTOM_CENTER&&r!=s.a.CENTER_CENTER&&r!=s.a.TOP_CENTER||(l="-50%"),r==s.a.BOTTOM_LEFT||r==s.a.BOTTOM_CENTER||r==s.a.BOTTOM_RIGHT?c="-100%":r!=s.a.CENTER_LEFT&&r!=s.a.CENTER_CENTER&&r!=s.a.CENTER_RIGHT||(c="-50%");const h=`translate(${l}, ${c}) translate(${o}, ${a})`;this.rendered.transform_!=h&&(this.rendered.transform_=h,n.transform=h,n.msTransform=h)}getOptions(){return this.options}}},"39Zw":function(t,e,n){var i,r;void 0===(r="function"==typeof(i=function(){return{XLink_1_0:{n:"XLink_1_0",dens:"http://www.w3.org/1999/xlink",dans:"http://www.w3.org/1999/xlink",tis:[{ln:"ResourceType",tn:"resourceType",ps:[{n:"content",col:!0,t:"ae"},{n:"type",rq:!0,ti:"Token",t:"a"},{n:"role",t:"a"},{n:"title",t:"a"},{n:"label",ti:"NCName",t:"a"}]},{ln:"LocatorType",tn:"locatorType",ps:[{n:"locatorTitle",mno:0,col:!0,en:"title",ti:".TitleEltType"},{n:"type",rq:!0,ti:"Token",t:"a"},{n:"href",rq:!0,t:"a"},{n:"role",t:"a"},{n:"title",t:"a"},{n:"label",ti:"NCName",t:"a"}]},{ln:"Extended",tn:"extended",ps:[{n:"extendedModel",mno:0,col:!0,etis:[{en:"title",ti:".TitleEltType"},{en:"resource",ti:".ResourceType"},{en:"locator",ti:".LocatorType"},{en:"arc",ti:".ArcType"}],t:"es"},{n:"type",rq:!0,ti:"Token",t:"a"},{n:"role",t:"a"},{n:"title",t:"a"}]},{ln:"Simple",tn:"simple",ps:[{n:"content",col:!0,t:"ae"},{n:"type",ti:"Token",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"Token",t:"a"},{n:"actuate",ti:"Token",t:"a"}]},{ln:"TitleEltType",tn:"titleEltType",ps:[{n:"content",col:!0,t:"ae"},{n:"type",rq:!0,ti:"Token",t:"a"},{n:"lang",an:{lp:"lang",ns:"http://www.w3.org/XML/1998/namespace"},t:"a"}]},{ln:"ArcType",tn:"arcType",ps:[{n:"locatorTitle",mno:0,col:!0,en:"title",ti:".TitleEltType"},{n:"type",rq:!0,ti:"Token",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"Token",t:"a"},{n:"actuate",ti:"Token",t:"a"},{n:"from",ti:"NCName",t:"a"},{n:"to",ti:"NCName",t:"a"}]},{t:"enum",ln:"TypeType",bti:"Token",vs:["simple","extended","title","resource","locator","arc"]},{t:"enum",ln:"ShowType",bti:"Token",vs:["new","replace","embed","other","none"]},{t:"enum",ln:"ActuateType",bti:"Token",vs:["onLoad","onRequest","other","none"]}],eis:[{en:"arc",ti:".ArcType"},{en:"resource",ti:".ResourceType"},{en:"locator",ti:".LocatorType"},{en:"title",ti:".TitleEltType"}]}}})?i.apply(e,[]):i)||(t.exports=r)},"3E0/":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("D0XW"),r=n("7o/Q"),s=n("WMd4");function o(t,e=i.a){var n;const r=(n=t)instanceof Date&&!isNaN(+n)?+t-e.now():Math.abs(t);return t=>t.lift(new a(r,e))}class a{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new l(t,this.delay,this.scheduler))}}class l extends r.a{constructor(t,e,n){super(t),this.delay=e,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,n=e.queue,i=t.scheduler,r=t.destination;for(;n.length>0&&n[0].time-i.now()<=0;)n.shift().notification.observe(r);if(n.length>0){const e=Math.max(0,n[0].time-i.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(l.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,n=new c(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(s.a.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(s.a.createComplete()),this.unsubscribe()}}class c{constructor(t,e){this.time=t,this.notification=e}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("quSY");class r extends i.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends r{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,i=!1;try{this.work(t)}catch(r){i=!0,n=!!r&&r||new Error(r)}if(i)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"42kC":function(t,e,n){"use strict";var i=n("i3ci"),r=n("UMcu");e.a=class extends class{constructor(t){this.highWaterMark=void 0!==t?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(t){return this.entries_.hasOwnProperty(t)}forEach(t){let e=this.oldest_;for(;e;)t(e.value_,e.key_,this),e=e.newer}get(t,e){const n=this.entries_[t];return Object(i.a)(void 0!==n,15),n===this.newest_||(n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer),n.newer=null,n.older=this.newest_,this.newest_.newer=n,this.newest_=n),n.value_}remove(t){const e=this.entries_[t];return Object(i.a)(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_}getCount(){return this.count_}getKeys(){const t=new Array(this.count_);let e,n=0;for(e=this.newest_;e;e=e.older)t[n++]=e.key_;return t}getValues(){const t=new Array(this.count_);let e,n=0;for(e=this.newest_;e;e=e.older)t[n++]=e.value_;return t}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}pop(){const t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_}replace(t,e){this.get(t),this.entries_[t].value_=e}set(t,e){Object(i.a)(!(t in this.entries_),16);const n={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[t]=n,++this.count_}setSize(t){this.highWaterMark=t}}{expireCache(t){for(;this.canExpireCache()&&!(this.peekLast().getKey()in t);)this.pop().release()}pruneExceptNewestZ(){if(0===this.getCount())return;const t=this.peekFirstKey(),e=Object(r.b)(t)[0];this.forEach((function(t){t.tileCoord[0]!==e&&(this.remove(Object(r.c)(t.tileCoord)),t.release())}).bind(this))}}},"43os":function(t,e,n){"use strict";var i=n("c73X"),r=n("o5qb"),s=n("2I+J");function o(t){return"string"==typeof t?JSON.parse(t)||null:null!==t?t:null}e.a=class extends i.a{constructor(){super()}getType(){return r.a.JSON}readFeature(t,e){return this.readFeatureFromObject(o(t),this.getReadOptions(t,e))}readFeatures(t,e){return this.readFeaturesFromObject(o(t),this.getReadOptions(t,e))}readFeatureFromObject(t,e){return Object(s.b)()}readFeaturesFromObject(t,e){return Object(s.b)()}readGeometry(t,e){return this.readGeometryFromObject(o(t),this.getReadOptions(t,e))}readGeometryFromObject(t,e){return Object(s.b)()}readProjection(t){return this.readProjectionFromObject(o(t))}readProjectionFromObject(t){return Object(s.b)()}writeFeature(t,e){return JSON.stringify(this.writeFeatureObject(t,e))}writeFeatureObject(t,e){return Object(s.b)()}writeFeatures(t,e){return JSON.stringify(this.writeFeaturesObject(t,e))}writeFeaturesObject(t,e){return Object(s.b)()}writeGeometry(t,e){return JSON.stringify(this.writeGeometryObject(t,e))}writeGeometryObject(t,e){return Object(s.b)()}}},"4I5i":function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})()},"4cD7":function(t,e,n){"use strict";n.d(e,"d",function(){return h}),n.d(e,"c",function(){return u}),n.d(e,"e",function(){return d}),n.d(e,"f",function(){return p}),n.d(e,"g",function(){return f}),n.d(e,"h",function(){return m}),n.d(e,"j",function(){return g}),n.d(e,"l",function(){return y}),n.d(e,"m",function(){return _}),n.d(e,"n",function(){return b}),n.d(e,"k",function(){return v}),n.d(e,"i",function(){return S}),n.d(e,"a",function(){return T}),n.d(e,"s",function(){return C}),n.d(e,"q",function(){return M}),n.d(e,"p",function(){return I}),n.d(e,"r",function(){return R}),n.d(e,"t",function(){return L}),n.d(e,"o",function(){return P}),n.d(e,"b",function(){return N});var i=n("bwl8"),r=n("RGpb"),s=n("FRHD"),o=n("Bpkx"),a=n("Cw4B"),l=n("e4iU"),c=n("n2w5");const h="10px sans-serif",u="#000",d="round",p=[],f=0,m="round",g=10,y="#000",_="center",b="middle",v=[0,0,0,0],S=1,T=new i.a;(new r.a).setSize=function(){console.warn("labelCache is deprecated.")};let x,w=null;const E={},C=function(){const t=["monospace","serif"],e=t.length,n="wmytzilWMYTZIL@#/&?$%10\uf013";let i,r;function s(i,s,o){let a=!0;for(let l=0;l<e;++l){const e=t[l];if(r=A(i+" "+s+" 32px "+e,n),o!=e){const t=A(i+" "+s+" 32px "+o+","+e,n);a=a&&t!=r}}return!!a}function a(){let t=!0;const e=T.getKeys();for(let n=0,i=e.length;n<i;++n){const i=e[n];T.get(i)<100&&(s.apply(this,i.split("\n"))?(Object(o.b)(E),w=null,x=void 0,T.set(i,100)):(T.set(i,T.get(i)+1,!0),t=!1))}t&&(clearInterval(i),i=void 0)}return function(t){const e=Object(l.g)(t);if(!e)return;const n=e.families;for(let r=0,o=n.length;r<o;++r){const t=n[r],o=e.style+"\n"+e.weight+"\n"+t;void 0===T.get(o)&&(T.set(o,100,!0),s(e.style,e.weight,t)||(T.set(o,0,!0),void 0===i&&(i=setInterval(a,32))))}}}(),M=function(){let t;return function(e){let n=E[e];if(null==n){if(s.g){const t=Object(l.g)(e),i=O(e,"\u017dg");n=(isNaN(Number(t.lineHeight))?1.2:Number(t.lineHeight))*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent)}else t||(t=document.createElement("div"),t.innerHTML="M",t.style.margin="0 !important",t.style.padding="0 !important",t.style.position="absolute !important",t.style.left="-99999px !important"),t.style.font=e,document.body.appendChild(t),n=t.offsetHeight,document.body.removeChild(t);E[e]=n}return n}}();function O(t,e){return w||(w=Object(a.a)(1,1)),t!=x&&(w.font=t,x=w.font),w.measureText(e)}function A(t,e){return O(t,e).width}function I(t,e,n){if(e in n)return n[e];const i=A(t,e);return n[e]=i,i}function R(t,e,n){const i=e.length;let r=0;for(let s=0;s<i;++s){const i=A(t,e[s]);r=Math.max(r,i),n.push(i)}return r}function L(t,e,n,i){0!==e&&(t.translate(n,i),t.rotate(e),t.translate(-n,-i))}function P(t,e,n,i,r,s,o,a,l,c,h){t.save(),1!==n&&(t.globalAlpha*=n),e&&t.setTransform.apply(t,e),i.contextInstructions?(t.translate(l,c),t.scale(h[0],h[1]),function(t,e){const n=t.contextInstructions;for(let i=0,r=n.length;i<r;i+=2)Array.isArray(n[i+1])?e[n[i]].apply(e,n[i+1]):e[n[i]]=n[i+1]}(i,t)):h[0]<0||h[1]<0?(t.translate(l,c),t.scale(h[0],h[1]),t.drawImage(i,r,s,o,a,0,0,o,a)):t.drawImage(i,r,s,o,a,l,c,o*h[0],a*h[1]),t.restore()}let D=null;function N(t){return s.g?Object(c.k)(t):(D||(D=Object(a.a)(1,1).canvas),D.style.transform=Object(c.k)(t),D.style.transform)}},"4yuk":function(t,e,n){"use strict";n.d(e,"f",function(){return i}),n.d(e,"g",function(){return r}),n.d(e,"b",function(){return o}),n.d(e,"a",function(){return a}),n.d(e,"d",function(){return c}),n.d(e,"c",function(){return h}),n.d(e,"e",function(){return u});const i=`{{lit-${String(Math.random()).slice(2)}}}`,r=`\x3c!--${i}--\x3e`,s=new RegExp(`${i}|${r}`),o="$lit$";class a{constructor(t,e){this.parts=[],this.element=e;const n=[],r=[],a=document.createTreeWalker(e.content,133,null,!1);let c=0,d=-1,p=0;const{strings:f,values:{length:m}}=t;for(;p<m;){const t=a.nextNode();if(null!==t){if(d++,1===t.nodeType){if(t.hasAttributes()){const e=t.attributes,{length:n}=e;let i=0;for(let t=0;t<n;t++)l(e[t].name,o)&&i++;for(;i-- >0;){const e=u.exec(f[p])[2],n=e.toLowerCase()+o,i=t.getAttribute(n);t.removeAttribute(n);const r=i.split(s);this.parts.push({type:"attribute",index:d,name:e,strings:r}),p+=r.length-1}}"TEMPLATE"===t.tagName&&(r.push(t),a.currentNode=t.content)}else if(3===t.nodeType){const e=t.data;if(e.indexOf(i)>=0){const i=t.parentNode,r=e.split(s),a=r.length-1;for(let e=0;e<a;e++){let n,s=r[e];if(""===s)n=h();else{const t=u.exec(s);null!==t&&l(t[2],o)&&(s=s.slice(0,t.index)+t[1]+t[2].slice(0,-o.length)+t[3]),n=document.createTextNode(s)}i.insertBefore(n,t),this.parts.push({type:"node",index:++d})}""===r[a]?(i.insertBefore(h(),t),n.push(t)):t.data=r[a],p+=a}}else if(8===t.nodeType)if(t.data===i){const e=t.parentNode;null!==t.previousSibling&&d!==c||(d++,e.insertBefore(h(),t)),c=d,this.parts.push({type:"node",index:d}),null===t.nextSibling?t.data="":(n.push(t),d--),p++}else{let e=-1;for(;-1!==(e=t.data.indexOf(i,e+1));)this.parts.push({type:"node",index:-1}),p++}}else a.currentNode=r.pop()}for(const i of n)i.parentNode.removeChild(i)}}const l=(t,e)=>{const n=t.length-e.length;return n>=0&&t.slice(n)===e},c=t=>-1!==t.index,h=()=>document.createComment(""),u=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("lJxs"),r=n("Cfvw"),s=n("zx2A");function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>Object(r.a)(t(n,s)).pipe(Object(i.a)((t,i)=>e(n,t,s,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new l(t,this.project,this.concurrent))}}class l extends s.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.a(this),n=this.destination;n.add(e);const i=Object(s.c)(t,e);i!==e&&n.add(i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"51Rc":function(t,e,n){var i,r;void 0===(r="function"==typeof(i=function(){return{WMTS_1_0:{n:"WMTS_1_0",dens:"http://www.opengis.net/wmts/1.0",deps:["OWS_1_1_0","GML_3_1_1"],tis:[{ln:"GetCapabilities",tn:null,bti:"OWS_1_1_0.GetCapabilitiesType",ps:[{n:"service",rq:!0,an:{lp:"service"},t:"a"}]},{ln:"LegendURL",tn:null,bti:"OWS_1_1_0.OnlineResourceType",ps:[{n:"format",an:{lp:"format"},t:"a"},{n:"minScaleDenominator",ti:"Double",an:{lp:"minScaleDenominator"},t:"a"},{n:"maxScaleDenominator",ti:"Double",an:{lp:"maxScaleDenominator"},t:"a"},{n:"width",ti:"PositiveInteger",an:{lp:"width"},t:"a"},{n:"height",ti:"PositiveInteger",an:{lp:"height"},t:"a"}]},{ln:"Themes",tn:null,ps:[{n:"theme",mno:0,col:!0,en:"Theme",ti:".Theme"}]},{ln:"URLTemplateType",ps:[{n:"format",rq:!0,an:{lp:"format"},t:"a"},{n:"resourceType",rq:!0,an:{lp:"resourceType"},t:"a"},{n:"template",rq:!0,an:{lp:"template"},t:"a"}]},{ln:"Style",tn:null,bti:"OWS_1_1_0.DescriptionType",ps:[{n:"identifier",rq:!0,en:{lp:"Identifier",ns:"http://www.opengis.net/ows/1.1"},ti:"OWS_1_1_0.CodeType"},{n:"legendURL",mno:0,col:!0,en:"LegendURL",ti:".LegendURL"},{n:"isDefault",ti:"Boolean",an:{lp:"isDefault"},t:"a"}]},{ln:"TileMatrixSet",tn:null,bti:"OWS_1_1_0.DescriptionType",ps:[{n:"identifier",rq:!0,en:{lp:"Identifier",ns:"http://www.opengis.net/ows/1.1"},ti:"OWS_1_1_0.CodeType"},{n:"boundingBox",mx:!1,dom:!1,en:{lp:"BoundingBox",ns:"http://www.opengis.net/ows/1.1"},ti:"OWS_1_1_0.BoundingBoxType",t:"er"},{n:"supportedCRS",rq:!0,en:{lp:"SupportedCRS",ns:"http://www.opengis.net/ows/1.1"}},{n:"wellKnownScaleSet",en:"WellKnownScaleSet"},{n:"tileMatrix",rq:!0,col:!0,en:"TileMatrix",ti:".TileMatrix"}]},{ln:"FeatureInfoResponse",tn:null,ps:[{n:"featureCollection",rq:!0,en:{lp:"_FeatureCollection",ns:"http://www.opengis.net/gml"},ti:"GML_3_1_1.AbstractFeatureCollectionType"},{n:"textPayload",rq:!0,en:"TextPayload",ti:".TextPayload"},{n:"binaryPayload",rq:!0,en:"BinaryPayload",ti:".BinaryPayload"},{n:"anyContent",rq:!0,en:"AnyContent",ti:"AnyType"}]},{ln:"Dimension",tn:null,bti:"OWS_1_1_0.DescriptionType",ps:[{n:"identifier",rq:!0,en:{lp:"Identifier",ns:"http://www.opengis.net/ows/1.1"},ti:"OWS_1_1_0.CodeType"},{n:"uom",en:{lp:"UOM",ns:"http://www.opengis.net/ows/1.1"},ti:"OWS_1_1_0.DomainMetadataType"},{n:"unitSymbol",en:"UnitSymbol"},{n:"_default",en:"Default"},{n:"current",en:"Current",ti:"Boolean"},{n:"value",rq:!0,col:!0,en:"Value"}]},{ln:"TileMatrixSetLink",tn:null,ps:[{n:"tileMatrixSet",rq:!0,en:"TileMatrixSet"},{n:"tileMatrixSetLimits",en:"TileMatrixSetLimits",ti:".TileMatrixSetLimits"}]},{ln:"TileMatrixLimits",tn:null,ps:[{n:"tileMatrix",rq:!0,en:"TileMatrix"},{n:"minTileRow",rq:!0,en:"MinTileRow",ti:"PositiveInteger"},{n:"maxTileRow",rq:!0,en:"MaxTileRow",ti:"PositiveInteger"},{n:"minTileCol",rq:!0,en:"MinTileCol",ti:"PositiveInteger"},{n:"maxTileCol",rq:!0,en:"MaxTileCol",ti:"PositiveInteger"}]},{ln:"LayerType",bti:"OWS_1_1_0.DatasetDescriptionSummaryBaseType",ps:[{n:"style",rq:!0,col:!0,en:"Style",ti:".Style"},{n:"format",rq:!0,col:!0,en:"Format"},{n:"infoFormat",mno:0,col:!0,en:"InfoFormat"},{n:"dimension",mno:0,col:!0,en:"Dimension",ti:".Dimension"},{n:"tileMatrixSetLink",rq:!0,col:!0,en:"TileMatrixSetLink",ti:".TileMatrixSetLink"},{n:"resourceURL",mno:0,col:!0,en:"ResourceURL",ti:".URLTemplateType"}]},{ln:"TileMatrix",tn:null,bti:"OWS_1_1_0.DescriptionType",ps:[{n:"identifier",rq:!0,en:{lp:"Identifier",ns:"http://www.opengis.net/ows/1.1"},ti:"OWS_1_1_0.CodeType"},{n:"scaleDenominator",rq:!0,en:"ScaleDenominator",ti:"Double"},{n:"topLeftCorner",rq:!0,en:"TopLeftCorner",ti:{t:"l",bti:"Double"}},{n:"tileWidth",rq:!0,en:"TileWidth",ti:"PositiveInteger"},{n:"tileHeight",rq:!0,en:"TileHeight",ti:"PositiveInteger"},{n:"matrixWidth",rq:!0,en:"MatrixWidth",ti:"PositiveInteger"},{n:"matrixHeight",rq:!0,en:"MatrixHeight",ti:"PositiveInteger"}]},{ln:"GetFeatureInfo",tn:null,ps:[{n:"getTile",rq:!0,en:"GetTile",ti:".GetTile"},{n:"j",rq:!0,en:"J",ti:"NonNegativeInteger"},{n:"i",rq:!0,en:"I",ti:"NonNegativeInteger"},{n:"infoFormat",rq:!0,en:"InfoFormat"},{n:"service",rq:!0,an:{lp:"service"},t:"a"},{n:"version",rq:!0,an:{lp:"version"},t:"a"}]},{ln:"TextPayload",tn:null,ps:[{n:"format",rq:!0,en:"Format"},{n:"textContent",rq:!0,en:"TextContent"}]},{ln:"Capabilities",tn:null,bti:"OWS_1_1_0.CapabilitiesBaseType",ps:[{n:"contents",en:"Contents",ti:".ContentsType"},{n:"themes",mno:0,col:!0,en:"Themes",ti:".Themes"},{n:"wsdl",mno:0,col:!0,en:"WSDL",ti:"OWS_1_1_0.OnlineResourceType"},{n:"serviceMetadataURL",mno:0,col:!0,en:"ServiceMetadataURL",ti:"OWS_1_1_0.OnlineResourceType"}]},{ln:"BinaryPayload",tn:null,ps:[{n:"format",rq:!0,en:"Format"},{n:"binaryContent",rq:!0,en:"BinaryContent",ti:"Base64Binary"}]},{ln:"GetTile",tn:null,ps:[{n:"layer",rq:!0,en:"Layer"},{n:"style",rq:!0,en:"Style"},{n:"format",rq:!0,en:"Format"},{n:"dimensionNameValue",mno:0,col:!0,en:"DimensionNameValue",ti:".DimensionNameValue"},{n:"tileMatrixSet",rq:!0,en:"TileMatrixSet"},{n:"tileMatrix",rq:!0,en:"TileMatrix"},{n:"tileRow",rq:!0,en:"TileRow",ti:"NonNegativeInteger"},{n:"tileCol",rq:!0,en:"TileCol",ti:"NonNegativeInteger"},{n:"service",rq:!0,an:{lp:"service"},t:"a"},{n:"version",rq:!0,an:{lp:"version"},t:"a"}]},{ln:"DimensionNameValue",tn:null,ps:[{n:"value",t:"v"},{n:"name",rq:!0,an:{lp:"name"},t:"a"}]},{ln:"TileMatrixSetLimits",tn:null,ps:[{n:"tileMatrixLimits",rq:!0,col:!0,en:"TileMatrixLimits",ti:".TileMatrixLimits"}]},{ln:"ContentsType",bti:"OWS_1_1_0.ContentsBaseType",ps:[{n:"tileMatrixSet",mno:0,col:!0,en:"TileMatrixSet",ti:".TileMatrixSet"}]},{ln:"Theme",tn:null,bti:"OWS_1_1_0.DescriptionType",ps:[{n:"identifier",rq:!0,en:{lp:"Identifier",ns:"http://www.opengis.net/ows/1.1"},ti:"OWS_1_1_0.CodeType"},{n:"theme",mno:0,col:!0,en:"Theme",ti:".Theme"},{n:"layerRef",mno:0,col:!0,en:"LayerRef"}]},{t:"enum",ln:"RequestServiceType",vs:["WMTS"]},{t:"enum",ln:"GetTileValueType",vs:["GetTile"]},{t:"enum",ln:"GetCapabilitiesValueType",vs:["GetCapabilities"]},{t:"enum",ln:"GetFeatureInfoValueType",vs:["GetFeatureInfo"]},{t:"enum",ln:"VersionType",vs:["1.0.0"]}],eis:[{en:"TileMatrixSet",ti:".TileMatrixSet"},{en:"LegendURL",ti:".LegendURL"},{en:"Dimension",ti:".Dimension"},{en:"GetTile",ti:".GetTile"},{en:"TileMatrixSetLimits",ti:".TileMatrixSetLimits"},{en:"DimensionNameValue",ti:".DimensionNameValue"},{en:"Layer",ti:".LayerType",sh:{lp:"DatasetDescriptionSummary",ns:"http://www.opengis.net/ows/1.1"}},{en:"Style",ti:".Style"},{en:"GetFeatureInfo",ti:".GetFeatureInfo"},{en:"TileMatrixLimits",ti:".TileMatrixLimits"},{en:"GetCapabilities",ti:".GetCapabilities"},{en:"TileMatrix",ti:".TileMatrix"},{en:"TileMatrixSetLink",ti:".TileMatrixSetLink"},{en:"Theme",ti:".Theme"},{en:"FeatureInfoResponse",ti:".FeatureInfoResponse"},{en:"BinaryPayload",ti:".BinaryPayload"},{en:"TextPayload",ti:".TextPayload"},{en:"Capabilities",ti:".Capabilities"},{en:"Themes",ti:".Themes"}]}}})?i.apply(e,[]):i)||(t.exports=r)},"5NHM":function(t,e,n){"use strict";var i=n("RGpb"),r=n("9CgO"),s=n("2I+J");e.a=class extends i.a{constructor(t,e,n,i){super(),this.extent=t,this.pixelRatio_=n,this.resolution=e,this.state=i}changed(){this.dispatchEvent(r.a.CHANGE)}getExtent(){return this.extent}getImage(){return Object(s.b)()}getPixelRatio(){return this.pixelRatio_}getResolution(){return this.resolution}getState(){return this.state}load(){Object(s.b)()}}},"6MUB":function(t,e,n){"use strict";var i=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,n,r){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map(function(r){var s=encodeURIComponent(i(r))+n;return Array.isArray(t[r])?t[r].map(function(t){return s+encodeURIComponent(i(t))}).join(e):s+encodeURIComponent(i(t[r]))}).join(e):r?encodeURIComponent(i(r))+n+encodeURIComponent(i(t)):""}},"6SrS":function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return r});const i=.5,r=!0},"6XL4":function(t,e,n){"use strict";var i=n("5NHM"),r=n("lXae");e.a=class extends i.a{constructor(t,e,n,i,s){super(t,e,n,void 0!==s?r.a.IDLE:r.a.LOADED),this.loader_=void 0!==s?s:null,this.canvas_=i,this.error_=null}getError(){return this.error_}handleLoad_(t){t?(this.error_=t,this.state=r.a.ERROR):this.state=r.a.LOADED,this.changed()}load(){this.state==r.a.IDLE&&(this.state=r.a.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))}getImage(){return this.canvas_}}},"6Xq6":function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return s}),n.d(e,"c",function(){return o}),n.d(e,"d",function(){return a});var i=n("oWEL");function r(){return!0}function s(){return!1}function o(){}function a(t){let e,n,r,s=!1;return function(){const o=Array.prototype.slice.call(arguments);return s&&this===r&&Object(i.b)(o,n)||(s=!0,r=this,n=o,e=t.apply(this,arguments)),e}}},"6kTr":function(t,e,n){"use strict";var i=n("jnTo"),r=n("9CgO"),s=n("e4iU"),o=n("oWEL"),a=n("U1NS"),l=n("Cw4B");e.a=class extends i.a{constructor(t){const e=t||{};super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=void 0===e.collapsed||e.collapsed,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=void 0!==e.collapsible,this.collapsible_=void 0===e.collapsible||e.collapsible,this.collapsible_||(this.collapsed_=!1);const n=void 0!==e.className?e.className:"ol-attribution",i=void 0!==e.tipLabel?e.tipLabel:"Attributions",o=void 0!==e.expandClassName?e.expandClassName:n+"-expand",a=void 0!==e.collapseLabel?e.collapseLabel:"\xbb",l=void 0!==e.collapseClassName?e.collapseClassName:n+"-collpase";"string"==typeof a?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=a,this.collapseLabel_.className=l):this.collapseLabel_=a;const c=void 0!==e.label?e.label:"i";"string"==typeof c?(this.label_=document.createElement("span"),this.label_.textContent=c,this.label_.className=o):this.label_=c;const h=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,u=document.createElement("button");u.setAttribute("type","button"),u.title=i,u.appendChild(h),u.addEventListener(r.a.CLICK,this.handleClick_.bind(this),!1);const d=this.element;d.className=n+" "+s.e+" "+s.b+(this.collapsed_&&this.collapsible_?" "+s.a:"")+(this.collapsible_?"":" ol-uncollapsible"),d.appendChild(this.ulElement_),d.appendChild(u),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(t){const e={},n=[];let i=!0;const r=t.layerStatesArray;for(let s=0,o=r.length;s<o;++s){const o=r[s];if(!Object(a.b)(o,t.viewState))continue;const l=o.layer.getSource();if(!l)continue;const c=l.getAttributions();if(!c)continue;const h=c(t);if(h)if(i=i&&!1!==l.getAttributionsCollapsible(),Array.isArray(h))for(let t=0,i=h.length;t<i;++t)h[t]in e||(n.push(h[t]),e[h[t]]=!0);else h in e||(n.push(h),e[h]=!0)}return this.overrideCollapsible_||this.setCollapsible(i),n}updateElement_(t){if(!t)return void(this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1));const e=this.collectSourceAttributions_(t),n=e.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!Object(o.b)(e,this.renderedAttributions_)){Object(l.d)(this.ulElement_);for(let t=0,n=e.length;t<n;++t){const n=document.createElement("li");n.innerHTML=e[t],this.ulElement_.appendChild(n)}this.renderedAttributions_=e}}handleClick_(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(s.a),this.collapsed_?Object(l.g)(this.collapseLabel_,this.label_):Object(l.g)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_}getCollapsible(){return this.collapsible_}setCollapsible(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(t){this.userCollapsed_=t,this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(t){this.updateElement_(t.frameState)}}},"6unr":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("tFPJ"),r=n("4yuk");class s{constructor(t,e,n){this.__parts=[],this.template=t,this.processor=e,this.options=n}update(t){let e=0;for(const n of this.__parts)void 0!==n&&n.setValue(t[e]),e++;for(const n of this.__parts)void 0!==n&&n.commit()}_clone(){const t=i.a?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),e=[],n=this.template.parts,s=document.createTreeWalker(t,133,null,!1);let o,a=0,l=0,c=s.nextNode();for(;a<n.length;)if(o=n[a],Object(r.d)(o)){for(;l<o.index;)l++,"TEMPLATE"===c.nodeName&&(e.push(c),s.currentNode=c.content),null===(c=s.nextNode())&&(s.currentNode=e.pop(),c=s.nextNode());if("node"===o.type){const t=this.processor.handleTextExpression(this.options);t.insertAfterNode(c.previousSibling),this.__parts.push(t)}else this.__parts.push(...this.processor.handleAttributeExpressions(c,o.name,o.strings,this.options));a++}else this.__parts.push(void 0),a++;return i.a&&(document.adoptNode(t),customElements.upgrade(t)),t}}},"7+OI":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("HDdC");function r(t){return!!t&&(t instanceof i.a||"function"==typeof t.lift&&"function"==typeof t.subscribe)}},"7MqJ":function(t,e,n){"use strict";var i=n("9CgO"),r=n("XWL2"),s=n("0Fwh"),o=n("Cw4B"),a=n("+WER"),l=class extends r.a{constructor(t,e,n,i,r,s){super(t,e,s),this.crossOrigin_=i,this.src_=n,this.key=n,this.image_=new Image,null!==i&&(this.image_.crossOrigin=i),this.unlisten_=null,this.tileLoadFunction_=r}getImage(){return this.image_}handleImageError_(){this.state=s.a.ERROR,this.unlistenImage_(),this.image_=function(){const t=Object(o.a)(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}(),this.changed()}handleImageLoad_(){const t=this.image_;this.state=t.naturalWidth&&t.naturalHeight?s.a.LOADED:s.a.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==s.a.ERROR&&(this.state=s.a.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==s.a.IDLE&&(this.state=s.a.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=Object(a.b)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}},c=n("6SrS"),h=n("PaPA"),u=n("i907"),d=n("LV+m"),p=n("hKKC"),f=n("FHfp"),m=class extends r.a{constructor(t,e,n,i,r,o,a,l,f,m,g,y){super(r,s.a.IDLE),this.renderEdges_=void 0!==g&&g,this.contextOptions_=y,this.pixelRatio_=a,this.gutter_=l,this.canvas_=null,this.sourceTileGrid_=e,this.targetTileGrid_=i,this.wrappedTileCoord_=o||r,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;const _=i.getTileCoordExtent(this.wrappedTileCoord_),b=this.targetTileGrid_.getExtent();let v=this.sourceTileGrid_.getExtent();const S=b?Object(p.C)(_,b):_;if(0===Object(p.v)(S))return void(this.state=s.a.EMPTY);const T=t.getExtent();T&&(v=v?Object(p.C)(v,T):T);const x=i.getResolution(this.wrappedTileCoord_[0]),w=Object(u.a)(t,n,S,x);if(!isFinite(w)||w<=0)return void(this.state=s.a.EMPTY);if(this.triangulation_=new h.a(t,n,S,v,w*(void 0!==m?m:c.b),x),0===this.triangulation_.getTriangles().length)return void(this.state=s.a.EMPTY);this.sourceZ_=e.getZForResolution(w);let E=this.triangulation_.calculateSourceExtent();if(v&&(t.canWrapX()?(E[1]=Object(d.a)(E[1],v[1],v[3]),E[3]=Object(d.a)(E[3],v[1],v[3])):E=Object(p.C)(E,v)),Object(p.v)(E)){const t=e.getTileRangeForExtentAndZ(E,this.sourceZ_);for(let e=t.minX;e<=t.maxX;e++)for(let n=t.minY;n<=t.maxY;n++){const t=f(this.sourceZ_,e,n,a);t&&this.sourceTiles_.push(t)}0===this.sourceTiles_.length&&(this.state=s.a.EMPTY)}else this.state=s.a.EMPTY}getImage(){return this.canvas_}reproject_(){const t=[];if(this.sourceTiles_.forEach((function(e,n,i){e&&e.getState()==s.a.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})}).bind(this)),this.sourceTiles_.length=0,0===t.length)this.state=s.a.ERROR;else{const e=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(e),i="number"==typeof n?n:n[0],r="number"==typeof n?n:n[1],o=this.targetTileGrid_.getResolution(e),a=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=Object(u.c)(i,r,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),o,l,this.triangulation_,t,this.gutter_,this.renderEdges_,this.contextOptions_),this.state=s.a.LOADED}this.changed()}load(){if(this.state==s.a.IDLE){this.state=s.a.LOADING,this.changed();let t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach((function(e,n,r){const o=e.getState();if(o==s.a.IDLE||o==s.a.LOADING){t++;const n=Object(f.a)(e,i.a.CHANGE,function(i){const r=e.getState();r!=s.a.LOADED&&r!=s.a.ERROR&&r!=s.a.EMPTY||(Object(f.c)(n),t--,0===t&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(n)}}).bind(this)),this.sourceTiles_.forEach(function(t,e,n){t.getState()==s.a.IDLE&&t.load()}),0===t&&setTimeout(this.reproject_.bind(this),0)}}unlistenSources_(){this.sourcesListenerKeys_.forEach(f.c),this.sourcesListenerKeys_=null}},g=n("42kC"),y=n("9AA0"),_=n("GLbD"),b=n("Znq9"),v=n("UMcu"),S=n("r0tu"),T=n("2I+J");function x(t,e){t.getImage().src=e}e.a=class extends y.a{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:x,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.crossOrigin=void 0!==t.crossOrigin?t.crossOrigin:null,this.tileClass=void 0!==t.tileClass?t.tileClass:l,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,this.contextOptions_=!1===t.imageSmoothing?_.b:void 0,this.renderReprojectionEdges_=!1}canExpireCache(){if(!c.a)return super.canExpireCache();if(this.tileCache.canExpireCache())return!0;for(const t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1}expireCache(t,e){if(!c.a)return void super.expireCache(t,e);const n=this.getTileCacheForProjection(t);this.tileCache.expireCache(this.tileCache==n?e:{});for(const i in this.tileCacheForProjection){const t=this.tileCacheForProjection[i];t.expireCache(t==n?e:{})}}getContextOptions(){return this.contextOptions_}getGutterForProjection(t){return c.a&&this.getProjection()&&t&&!Object(b.f)(this.getProjection(),t)?0:this.getGutter()}getGutter(){return 0}getKey(){return super.getKey()+(this.contextOptions_?"\n"+JSON.stringify(this.contextOptions_):"")}getOpaque(t){return!(c.a&&this.getProjection()&&t&&!Object(b.f)(this.getProjection(),t))&&super.getOpaque(t)}getTileGridForProjection(t){if(!c.a)return super.getTileGridForProjection(t);const e=this.getProjection();if(!this.tileGrid||e&&!Object(b.f)(e,t)){const e=Object(T.c)(t);return e in this.tileGridForProjection||(this.tileGridForProjection[e]=Object(S.d)(t)),this.tileGridForProjection[e]}return this.tileGrid}getTileCacheForProjection(t){if(!c.a)return super.getTileCacheForProjection(t);const e=this.getProjection();if(!e||Object(b.f)(e,t))return this.tileCache;{const e=Object(T.c)(t);return e in this.tileCacheForProjection||(this.tileCacheForProjection[e]=new g.a(this.tileCache.highWaterMark)),this.tileCacheForProjection[e]}}createTile_(t,e,n,r,o,a){const l=[t,e,n],c=this.getTileCoordForTileUrlFunction(l,o),h=c?this.tileUrlFunction(c,r,o):void 0,u=new this.tileClass(l,void 0!==h?s.a.IDLE:s.a.EMPTY,void 0!==h?h:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return u.key=a,u.addEventListener(i.a.CHANGE,this.handleTileChange.bind(this)),u}getTile(t,e,n,i,r){const s=this.getProjection();if(c.a&&s&&r&&!Object(b.f)(s,r)){const o=this.getTileCacheForProjection(r),a=[t,e,n];let l;const c=Object(v.c)(a);o.containsKey(c)&&(l=o.get(c));const h=this.getKey();if(l&&l.key==h)return l;{const t=this.getTileGridForProjection(s),e=this.getTileGridForProjection(r),n=this.getTileCoordForTileUrlFunction(a,r),u=new m(s,t,r,e,a,n,this.getTilePixelRatio(i),this.getGutter(),(function(t,e,n,i){return this.getTileInternal(t,e,n,i,s)}).bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.contextOptions_);return u.key=h,l?(u.interimTile=l,u.refreshInterimChain(),o.replace(c,u)):o.set(c,u),u}}return this.getTileInternal(t,e,n,i,s||r)}getTileInternal(t,e,n,i,r){let o=null;const a=Object(v.d)(t,e,n),l=this.getKey();if(this.tileCache.containsKey(a)){if(o=this.tileCache.get(a),o.key!=l){const c=o;o=this.createTile_(t,e,n,i,r,l),o.interimTile=c.getState()==s.a.IDLE?c.interimTile:c,o.refreshInterimChain(),this.tileCache.replace(a,o)}}else o=this.createTile_(t,e,n,i,r,l),this.tileCache.set(a,o);return o}setRenderReprojectionEdges(t){if(c.a&&this.renderReprojectionEdges_!=t){this.renderReprojectionEdges_=t;for(const t in this.tileCacheForProjection)this.tileCacheForProjection[t].clear();this.changed()}}setTileGridForProjection(t,e){if(c.a){const n=Object(b.i)(t);if(n){const t=Object(T.c)(n);t in this.tileGridForProjection||(this.tileGridForProjection[t]=e)}}}}},"7k3C":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"d",function(){return l}),n.d(e,"c",function(){return c}),n.d(e,"e",function(){return h}),n.d(e,"g",function(){return u}),n.d(e,"i",function(){return d}),n.d(e,"j",function(){return p}),n.d(e,"f",function(){return f}),n.d(e,"h",function(){return m}),n("gjiK");var i=n("6Xq6"),r=n("FRHD"),s=n("i3ci");function o(t){const e=arguments;return function(t){let n=!0;for(let i=0,r=e.length;i<r&&(n=n&&e[i](t),n);++i);return n}}const a=function(t){const e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},l=function(t){return!t.map.getTargetElement().hasAttribute("tabindex")||function(t){return t.target.getTargetElement().contains(document.activeElement)}(t)},c=i.b,h=function(t){const e=t.originalEvent;return 0==e.button&&!(r.f&&r.d&&e.ctrlKey)},u=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},d=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},p=function(t){const e=t.originalEvent.target.tagName;return"INPUT"!==e&&"SELECT"!==e&&"TEXTAREA"!==e},f=function(t){const e=t.originalEvent;return Object(s.a)(void 0!==e,56),"mouse"==e.pointerType},m=function(t){const e=t.originalEvent;return Object(s.a)(void 0!==e,56),e.isPrimary&&0===e.button}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("n6bG"),r=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),l=n("NJ4a");class c extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=r.a;break;case 1:if(!t){this.destination=r.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new h(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new h(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const i=new c(t,e,n);return i.syncErrorThrowable=!1,i}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class h extends c{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(i.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==r.a&&(a=Object.create(e),Object(i.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(l.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(l.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(l.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(i){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=i,t.syncErrorThrown=!0,!0):(Object(l.a)(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"7tkq":function(t,e,n){"use strict";var i=n("wRPv"),r=n("aBeY"),s=n("W74l"),o=n("gOFd"),a=n("AjuZ"),l=n("kuFe"),c=n("hKKC"),h=n("VvGk"),u=n("oWEL"),d=n("1Ggo"),p=n("L3Wi"),f=n("DPnj"),m=n("iB0p"),g=n("ZjAA"),y=n("broj"),_=n("Y5Xb"),b=n("8pO4");class v extends a.a{constructor(t,e,n){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!n&&!Array.isArray(t[0])){let i=this.getLayout();const r=t,s=[],o=[];for(let t=0,e=r.length;t<e;++t){const e=r[t];0===t&&(i=e.getLayout());const n=s.length,a=e.getEnds();for(let t=0,i=a.length;t<i;++t)a[t]+=n;Object(u.c)(s,e.getFlatCoordinates()),o.push(a)}e=i,t=s,n=o}void 0!==e&&n?(this.setFlatCoordinates(e,t),this.endss_=n):this.setCoordinates(t,e)}appendPolygon(t){let e;if(this.flatCoordinates){const n=this.flatCoordinates.length;Object(u.c)(this.flatCoordinates,t.getFlatCoordinates()),e=t.getEnds().slice();for(let t=0,i=e.length;t<i;++t)e[t]+=n}else this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();this.endss_.push(e),this.changed()}clone(){const t=this.endss_.length,e=new Array(t);for(let i=0;i<t;++i)e[i]=this.endss_[i].slice();const n=new v(this.flatCoordinates.slice(),this.layout,e);return n.applyProperties(this),n}closestPointXY(t,e,n,i){return i<Object(c.f)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(l.f)(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(l.c)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,e,n,i))}containsXY(t,e){return Object(_.d)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)}getArea(){return Object(g.c)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(t){let e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),Object(m.e)(e,0,this.endss_,this.stride,t)):e=this.flatCoordinates,Object(p.c)(e,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const t=Object(y.a)(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=Object(d.b)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new s.a(this.getFlatInteriorPoints().slice(),i.a.XYM)}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const t=this.flatCoordinates;Object(m.c)(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Object(m.e)(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){const e=[],n=[];return e.length=Object(b.d)(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),e,0,n),new v(e,i.a.XY,n)}getPolygon(t){if(t<0||this.endss_.length<=t)return null;let e;if(0===t)e=0;else{const n=this.endss_[t-1];e=n[n.length-1]}const n=this.endss_[t].slice(),i=n[n.length-1];if(0!==e)for(let r=0,s=n.length;r<s;++r)n[r]-=e;return new o.a(this.flatCoordinates.slice(e,i),this.layout,n)}getPolygons(){const t=this.layout,e=this.flatCoordinates,n=this.endss_,i=[];let r=0;for(let s=0,a=n.length;s<a;++s){const a=n[s].slice(),l=a[a.length-1];if(0!==r)for(let t=0,e=a.length;t<e;++t)a[t]-=r;const c=new o.a(e.slice(r,l),t,a);i.push(c),r=l}return i}getType(){return r.a.MULTI_POLYGON}intersectsExtent(t){return Object(f.d)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);const n=Object(h.d)(this.flatCoordinates,0,t,this.stride,this.endss_);if(0===n.length)this.flatCoordinates.length=0;else{const t=n[n.length-1];this.flatCoordinates.length=0===t.length?0:t[t.length-1]}this.changed()}}e.a=v},"8Y7J":function(t,e,n){"use strict";n.d(e,"a",function(){return nn}),n.d(e,"b",function(){return Jl}),n.d(e,"c",function(){return ql}),n.d(e,"d",function(){return Hl}),n.d(e,"e",function(){return Xl}),n.d(e,"f",function(){return zc}),n.d(e,"g",function(){return Pc}),n.d(e,"h",function(){return Ua}),n.d(e,"i",function(){return lc}),n.d(e,"j",function(){return ca}),n.d(e,"k",function(){return tc}),n.d(e,"l",function(){return pa}),n.d(e,"m",function(){return vi}),n.d(e,"n",function(){return xl}),n.d(e,"o",function(){return hs}),n.d(e,"p",function(){return xn}),n.d(e,"q",function(){return A}),n.d(e,"r",function(){return en}),n.d(e,"s",function(){return Cs}),n.d(e,"t",function(){return La}),n.d(e,"u",function(){return Da}),n.d(e,"v",function(){return $l}),n.d(e,"w",function(){return Za}),n.d(e,"x",function(){return Nc}),n.d(e,"y",function(){return Ka}),n.d(e,"z",function(){return Oc}),n.d(e,"A",function(){return uc}),n.d(e,"B",function(){return wn}),n.d(e,"C",function(){return Zl}),n.d(e,"D",function(){return Kl}),n.d(e,"E",function(){return ga}),n.d(e,"F",function(){return ma}),n.d(e,"G",function(){return Mi}),n.d(e,"H",function(){return _a}),n.d(e,"I",function(){return pi}),n.d(e,"J",function(){return En}),n.d(e,"K",function(){return Fc}),n.d(e,"L",function(){return Xa}),n.d(e,"M",function(){return _c}),n.d(e,"N",function(){return rn}),n.d(e,"O",function(){return ba}),n.d(e,"P",function(){return Qa}),n.d(e,"Q",function(){return N}),n.d(e,"R",function(){return Ac}),n.d(e,"S",function(){return Cc}),n.d(e,"T",function(){return p}),n.d(e,"U",function(){return vn}),n.d(e,"V",function(){return Vc}),n.d(e,"W",function(){return Sc}),n.d(e,"X",function(){return Ql}),n.d(e,"Y",function(){return ds}),n.d(e,"Z",function(){return Zo}),n.d(e,"ab",function(){return ui}),n.d(e,"bb",function(){return Yn}),n.d(e,"cb",function(){return kn}),n.d(e,"db",function(){return Un}),n.d(e,"eb",function(){return zn}),n.d(e,"fb",function(){return Vn}),n.d(e,"gb",function(){return Gn}),n.d(e,"hb",function(){return Bn}),n.d(e,"ib",function(){return qo}),n.d(e,"jb",function(){return Gc}),n.d(e,"kb",function(){return Wo}),n.d(e,"lb",function(){return Yo}),n.d(e,"mb",function(){return Fn}),n.d(e,"nb",function(){return G}),n.d(e,"ob",function(){return js}),n.d(e,"pb",function(){return io}),n.d(e,"qb",function(){return eo}),n.d(e,"rb",function(){return no}),n.d(e,"sb",function(){return Xo}),n.d(e,"tb",function(){return xt}),n.d(e,"ub",function(){return h}),n.d(e,"vb",function(){return jn}),n.d(e,"wb",function(){return Os}),n.d(e,"xb",function(){return yt}),n.d(e,"yb",function(){return oa}),n.d(e,"zb",function(){return pr}),n.d(e,"Ab",function(){return Vs}),n.d(e,"Bb",function(){return wo}),n.d(e,"Cb",function(){return xo}),n.d(e,"Db",function(){return kl}),n.d(e,"Eb",function(){return Q}),n.d(e,"Fb",function(){return st}),n.d(e,"Gb",function(){return v}),n.d(e,"Hb",function(){return S}),n.d(e,"Ib",function(){return nt}),n.d(e,"Jb",function(){return ot}),n.d(e,"Kb",function(){return Xs}),n.d(e,"Lb",function(){return Zs}),n.d(e,"Mb",function(){return $s}),n.d(e,"Nb",function(){return Qs}),n.d(e,"Ob",function(){return Js}),n.d(e,"Pb",function(){return Ks}),n.d(e,"Qb",function(){return Ys}),n.d(e,"Rb",function(){return to}),n.d(e,"Sb",function(){return Je}),n.d(e,"Tb",function(){return Go}),n.d(e,"Ub",function(){return bn}),n.d(e,"Vb",function(){return $e}),n.d(e,"Wb",function(){return zl}),n.d(e,"Xb",function(){return ro}),n.d(e,"Yb",function(){return Fl}),n.d(e,"Zb",function(){return co}),n.d(e,"ac",function(){return yl}),n.d(e,"bc",function(){return _l}),n.d(e,"cc",function(){return bl}),n.d(e,"dc",function(){return po}),n.d(e,"ec",function(){return uo}),n.d(e,"fc",function(){return qs}),n.d(e,"gc",function(){return fo}),n.d(e,"hc",function(){return mo}),n.d(e,"ic",function(){return pl}),n.d(e,"jc",function(){return fl}),n.d(e,"kc",function(){return Nl}),n.d(e,"lc",function(){return Hs}),n.d(e,"mc",function(){return Ei}),n.d(e,"nc",function(){return wi}),n.d(e,"oc",function(){return xi}),n.d(e,"pc",function(){return zt}),n.d(e,"qc",function(){return fi}),n.d(e,"rc",function(){return mi}),n.d(e,"sc",function(){return it}),n.d(e,"tc",function(){return To}),n.d(e,"uc",function(){return so}),n.d(e,"vc",function(){return Vo}),n.d(e,"wc",function(){return zs}),n.d(e,"xc",function(){return Bl}),n.d(e,"yc",function(){return No}),n.d(e,"zc",function(){return jo}),n.d(e,"Ac",function(){return ko}),n.d(e,"Bc",function(){return Fo}),n.d(e,"Cc",function(){return Uo}),n.d(e,"Dc",function(){return jl});var i=n("XNiG"),r=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("w1tV");function l(t){for(let e in t)if(t[e]===l)return e;throw Error("Could not find renamed property on target object.")}function c(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function h(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(h).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function u(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const d=l({__forward_ref__:l});function p(t){return t.__forward_ref__=p,t.toString=function(){return h(this())},t}function f(t){return m(t)?t():t}function m(t){return"function"==typeof t&&t.hasOwnProperty(d)&&t.__forward_ref__===p}class g extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function y(t){return"string"==typeof t?t:null==t?"":String(t)}function _(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():y(t)}function b(t,e){const n=e?` in ${e}`:"";throw new g("201",`No provider for ${_(t)} found${n}`)}function v(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function S(t){return{providers:t.providers||[],imports:t.imports||[]}}function T(t){return x(t,E)||x(t,M)}function x(t,e){return t.hasOwnProperty(e)?t[e]:null}function w(t){return t&&(t.hasOwnProperty(C)||t.hasOwnProperty(O))?t[C]:null}const E=l({"\u0275prov":l}),C=l({"\u0275inj":l}),M=l({ngInjectableDef:l}),O=l({ngInjectorDef:l});var A=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let I;function R(t){const e=I;return I=t,e}function L(t,e,n){const i=T(t);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:n&A.Optional?null:void 0!==e?e:void b(h(t),"Injector")}function P(t){return{toString:t}.toString()}var D=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),N=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const j="undefined"!=typeof globalThis&&globalThis,k="undefined"!=typeof window&&window,F="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,U="undefined"!=typeof global&&global,G=j||U||k||F,V={},B=[],z=[],H=l({"\u0275cmp":l}),X=l({"\u0275dir":l}),q=l({"\u0275pipe":l}),W=l({"\u0275mod":l}),Y=l({"\u0275loc":l}),K=l({"\u0275fac":l}),Z=l({__NG_ELEMENT_ID__:l});let J=0;function Q(t){return P(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===D.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||z,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||N.Emulated,id:"c",styles:t.styles||z,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,r=t.features,s=t.pipes;return n.id+=J++,n.inputs=rt(t.inputs,e),n.outputs=rt(t.outputs),r&&r.forEach(t=>t(n)),n.directiveDefs=i?()=>("function"==typeof i?i():i).map($):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(tt):null,n})}function $(t){return at(t)||function(t){return t[X]||null}(t)}function tt(t){return function(t){return t[q]||null}(t)}const et={};function nt(t){const e={type:t.type,bootstrap:t.bootstrap||z,declarations:t.declarations||z,imports:t.imports||z,exports:t.exports||z,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&P(()=>{et[t.id]=t.type}),e}function it(t,e){return P(()=>{const n=lt(t,!0);n.declarations=e.declarations||z,n.imports=e.imports||z,n.exports=e.exports||z})}function rt(t,e){if(null==t)return V;const n={};for(const i in t)if(t.hasOwnProperty(i)){let r=t[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),n[r]=i,e&&(e[r]=s)}return n}const st=Q;function ot(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function at(t){return t[H]||null}function lt(t,e){const n=t[W]||null;if(!n&&!0===e)throw new Error(`Type ${h(t)} does not have '\u0275mod' property.`);return n}function ct(t){return Array.isArray(t)&&"object"==typeof t[1]}function ht(t){return Array.isArray(t)&&!0===t[1]}function ut(t){return 0!=(8&t.flags)}function dt(t){return 2==(2&t.flags)}function pt(t){return 1==(1&t.flags)}function ft(t){return null!==t.template}function mt(t,e){return t.hasOwnProperty(K)?t[K]:null}class gt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function yt(){return _t}function _t(t){return t.type.prototype.ngOnChanges&&(t.setInput=vt),bt}function bt(){const t=St(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===V)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function vt(t,e,n,i){const r=St(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:V,current:null}),s=r.current||(r.current={}),o=r.previous,a=this.declaredInputs[n],l=o[a];s[a]=new gt(l&&l.currentValue,e,o===V),t[i]=e}function St(t){return t.__ngSimpleChanges__||null}let Tt;function xt(t){Tt=t}function wt(){return void 0!==Tt?Tt:"undefined"!=typeof document?document:void 0}function Et(t){return!!t.listen}yt.ngInherit=!0;const Ct={createRenderer:(t,e)=>wt()};function Mt(t){for(;Array.isArray(t);)t=t[0];return t}function Ot(t,e){return Mt(e[t])}function At(t,e){return Mt(e[t.index])}function It(t,e){return t.data[e]}function Rt(t,e){return t[e]}function Lt(t,e){const n=e[t];return ct(n)?n:n[0]}function Pt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Dt(t){return 4==(4&t[2])}function Nt(t){return 128==(128&t[2])}function jt(t,e){return null==e?null:t[e]}function kt(t){t[18]=0}function Ft(t,e){t[5]+=e;let n=t,i=t[3];for(;null!==i&&(1===e&&1===n[5]||-1===e&&0===n[5]);)i[5]+=e,n=i,i=i[3]}const Ut={lFrame:he(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Gt(){return Ut.bindingsEnabled}function Vt(){return Ut.lFrame.lView}function Bt(){return Ut.lFrame.tView}function zt(t){Ut.lFrame.contextLView=t}function Ht(){let t=Xt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Xt(){return Ut.lFrame.currentTNode}function qt(t,e){const n=Ut.lFrame;n.currentTNode=t,n.isParent=e}function Wt(){return Ut.lFrame.isParent}function Yt(){Ut.lFrame.isParent=!1}function Kt(){return Ut.isInCheckNoChangesMode}function Zt(t){Ut.isInCheckNoChangesMode=t}function Jt(){const t=Ut.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Qt(){return Ut.lFrame.bindingIndex}function $t(){return Ut.lFrame.bindingIndex++}function te(t){const e=Ut.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ee(t,e){const n=Ut.lFrame;n.bindingIndex=n.bindingRootIndex=t,ne(e)}function ne(t){Ut.lFrame.currentDirectiveIndex=t}function ie(t){const e=Ut.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function re(){return Ut.lFrame.currentQueryIndex}function se(t){Ut.lFrame.currentQueryIndex=t}function oe(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ae(t,e,n){if(n&A.SkipSelf){let i=e,r=t;for(;i=i.parent,!(null!==i||n&A.Host||(i=oe(r),null===i)||(r=r[15],10&i.type)););if(null===i)return!1;e=i,t=r}const i=Ut.lFrame=ce();return i.currentTNode=e,i.lView=t,!0}function le(t){const e=ce(),n=t[1];Ut.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ce(){const t=Ut.lFrame,e=null===t?null:t.child;return null===e?he(t):e}function he(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function ue(){const t=Ut.lFrame;return Ut.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const de=ue;function pe(){const t=ue();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function fe(){return Ut.lFrame.selectedIndex}function me(t){Ut.lFrame.selectedIndex=t}function ge(){const t=Ut.lFrame;return It(t.tView,t.selectedIndex)}function ye(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:i,ngAfterContentChecked:r,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;i&&(t.contentHooks||(t.contentHooks=[])).push(-n,i),r&&((t.contentHooks||(t.contentHooks=[])).push(n,r),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,r)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function _e(t,e,n){Se(t,e,3,n)}function be(t,e,n,i){(3&t[2])===n&&Se(t,e,n,i)}function ve(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Se(t,e,n,i){const r=null!=i?i:-1,s=e.length-1;let o=0;for(let a=void 0!==i?65535&t[18]:0;a<s;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=i&&o>=i)break}else e[a]<0&&(t[18]+=65536),(o<r||-1==r)&&(Te(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Te(t,e,n,i){const r=n[i]<0,s=n[i+1],o=t[r?-n[i]:n[i]];if(r){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(o)}finally{}}}else try{s.call(o)}finally{}}class xe{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function we(t,e,n){const i=Et(t);let r=0;for(;r<n.length;){const s=n[r];if("number"==typeof s){if(0!==s)break;r++;const o=n[r++],a=n[r++],l=n[r++];i?t.setAttribute(e,a,l,o):e.setAttributeNS(o,a,l)}else{const o=s,a=n[++r];Ce(o)?i&&t.setProperty(e,o,a):i?t.setAttribute(e,o,a):e.setAttribute(o,a),r++}}return r}function Ee(t){return 3===t||4===t||6===t}function Ce(t){return 64===t.charCodeAt(0)}function Me(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?n=r:0===n||Oe(t,n,r,null,-1===n||2===n?e[++i]:null)}}return t}function Oe(t,e,n,i,r){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===i)return void(null!==r&&(t[s+1]=r));if(i===t[s+1])return void(t[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==i&&t.splice(s++,0,i),null!==r&&t.splice(s++,0,r)}function Ae(t){return-1!==t}function Ie(t){return 32767&t}function Re(t,e){let n=t>>16,i=e;for(;n>0;)i=i[15],n--;return i}let Le=!0;function Pe(t){const e=Le;return Le=t,e}let De=0;function Ne(t,e){const n=ke(t,e);if(-1!==n)return n;const i=e[1];i.firstCreatePass&&(t.injectorIndex=e.length,je(i.data,t),je(e,null),je(i.blueprint,null));const r=Fe(t,e),s=t.injectorIndex;if(Ae(r)){const t=Ie(r),n=Re(r,e),i=n[1].data;for(let r=0;r<8;r++)e[s+r]=n[t+r]|i[t+r]}return e[s+8]=r,s}function je(t,e){t.push(0,0,0,0,0,0,0,0,e)}function ke(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Fe(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;null!==r;){const t=r[1],e=t.type;if(i=2===e?t.declTNode:1===e?r[6]:null,null===i)return-1;if(n++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return-1}function Ue(t,e,n){!function(t,e,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(Z)&&(i=n[Z]),null==i&&(i=n[Z]=De++);const r=255&i;e.data[t+(r>>5)]|=1<<r}(t,e,n)}function Ge(t,e,n){if(n&A.Optional)return t;b(e,"NodeInjector")}function Ve(t,e,n,i){if(n&A.Optional&&void 0===i&&(i=null),0==(n&(A.Self|A.Host))){const r=t[9],s=R(void 0);try{return r?r.get(e,i,n&A.Optional):L(e,i,n&A.Optional)}finally{R(s)}}return Ge(i,e,n)}function Be(t,e,n,i=A.Default,r){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Z)?t[Z]:void 0;return"number"==typeof e?e>=0?255&e:He:e}(n);if("function"==typeof s){if(!ae(e,t,i))return i&A.Host?Ge(r,n,i):Ve(e,n,i,r);try{const t=s();if(null!=t||i&A.Optional)return t;b(n)}finally{de()}}else if("number"==typeof s){let r=null,o=ke(t,e),a=-1,l=i&A.Host?e[16][6]:null;for((-1===o||i&A.SkipSelf)&&(a=-1===o?Fe(t,e):e[o+8],-1!==a&&Ke(i,!1)?(r=e[1],o=Ie(a),e=Re(a,e)):o=-1);-1!==o;){const t=e[1];if(Ye(s,o,t.data)){const t=Xe(o,e,n,r,i,l);if(t!==ze)return t}a=e[o+8],-1!==a&&Ke(i,e[1].data[o+8]===l)&&Ye(s,o,e)?(r=t,o=Ie(a),e=Re(a,e)):o=-1}}}return Ve(e,n,i,r)}const ze={};function He(){return new Ze(Ht(),Vt())}function Xe(t,e,n,i,r,s){const o=e[1],a=o.data[t+8],l=qe(a,o,n,null==i?dt(a)&&Le:i!=o&&0!=(3&a.type),r&A.Host&&s===a);return null!==l?We(e,o,l,a):ze}function qe(t,e,n,i,r){const s=t.providerIndexes,o=e.data,a=1048575&s,l=t.directiveStart,c=s>>20,h=r?a+c:t.directiveEnd;for(let u=i?a:a+c;u<h;u++){const t=o[u];if(u<l&&n===t||u>=l&&t.type===n)return u}if(r){const t=o[l];if(t&&ft(t)&&t.type===n)return l}return null}function We(t,e,n,i){let r=t[n];const s=e.data;if(r instanceof xe){const o=r;o.resolving&&function(t,e){throw new g("200",`Circular dependency in DI detected for ${t}`)}(_(s[n]));const a=Pe(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?R(o.injectImpl):null;ae(t,i,A.Default);try{r=t[n]=o.factory(void 0,s,t,i),e.firstCreatePass&&n>=i.directiveStart&&function(t,e,n){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){const i=_t(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,i)}r&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,r),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==l&&R(l),Pe(a),o.resolving=!1,de()}}return r}function Ye(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Ke(t,e){return!(t&A.Self||t&A.Host&&e)}class Ze{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Be(this._tNode,this._lView,t,void 0,e)}}function Je(t){return P(()=>{const e=t.prototype.constructor,n=e[K]||Qe(e),i=Object.prototype;let r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){const t=r[K]||Qe(r);if(t&&t!==n)return t;r=Object.getPrototypeOf(r)}return t=>new t})}function Qe(t){return m(t)?()=>{const e=Qe(f(t));return e&&e()}:mt(t)}function $e(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let i=0;for(;i<t;){const r=n[i];if(Ee(r))break;if(0===r)i+=2;else if("number"==typeof r)for(i++;i<t&&"string"==typeof n[i];)i++;else{if(r===e)return n[i+1];i+=2}}}return null}(Ht(),t)}function tn(t,e,n){return P(()=>{const i=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function r(...t){if(this instanceof r)return i.apply(this,t),this;const e=new r(...t);return n.annotation=e,n;function n(t,n,i){const r=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;r.length<=i;)r.push(null);return(r[i]=r[i]||[]).push(e),t}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}class en{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=v({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const nn=new en("AnalyzeForEntryComponents"),rn=Function;function sn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let i=t[n];Array.isArray(i)?(e===t&&(e=t.slice(0,n)),sn(i,e)):e!==t&&e.push(i)}return e}function on(t,e){t.forEach(t=>Array.isArray(t)?on(t,e):e(t))}function an(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ln(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function cn(t,e){const n=[];for(let i=0;i<t;i++)n.push(e);return n}function hn(t,e,n){let i=dn(t,e);return i>=0?t[1|i]=n:(i=~i,function(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(1===r)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;)t[r]=t[r-2],r--;t[e]=n,t[e+1]=i}}(t,i,e,n)),i}function un(t,e){const n=dn(t,e);if(n>=0)return t[1|n]}function dn(t,e){return function(t,e,n){let i=0,r=t.length>>1;for(;r!==i;){const n=i+(r-i>>1),s=t[n<<1];if(e===s)return n<<1;s>e?r=n:i=n+1}return~(r<<1)}(t,e)}const pn={},fn=/\n/gm,mn=l({provide:String,useValue:l});let gn;function yn(t){const e=gn;return gn=t,e}function _n(t,e=A.Default){if(void 0===gn)throw new Error("inject() must be called from an injection context");return null===gn?L(t,void 0,e):gn.get(t,e&A.Optional?null:void 0,e)}function bn(t,e=A.Default){return(I||_n)(f(t),e)}const vn=bn;function Sn(t){const e=[];for(let n=0;n<t.length;n++){const i=f(t[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let t,n=A.Default;for(let e=0;e<i.length;e++){const r=i[e],s=r.__NG_DI_FLAG__;"number"==typeof s?-1===s?t=r.token:n|=s:t=r}e.push(bn(t,n))}else e.push(bn(i))}return e}function Tn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const xn=Tn(tn("Inject",t=>({token:t})),-1),wn=Tn(tn("Optional"),8),En=Tn(tn("SkipSelf"),4);let Cn,Mn;function On(t){var e;return(null===(e=function(){if(void 0===Cn&&(Cn=null,G.trustedTypes))try{Cn=G.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Cn}())||void 0===e?void 0:e.createHTML(t))||t}function An(t){var e;return(null===(e=function(){if(void 0===Mn&&(Mn=null,G.trustedTypes))try{Mn=G.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Mn}())||void 0===e?void 0:e.createHTML(t))||t}class In{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Rn extends In{getTypeName(){return"HTML"}}class Ln extends In{getTypeName(){return"Style"}}class Pn extends In{getTypeName(){return"Script"}}class Dn extends In{getTypeName(){return"URL"}}class Nn extends In{getTypeName(){return"ResourceURL"}}function jn(t){return t instanceof In?t.changingThisBreaksApplicationSecurity:t}function kn(t,e){const n=Fn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Fn(t){return t instanceof In&&t.getTypeName()||null}function Un(t){return new Rn(t)}function Gn(t){return new Ln(t)}function Vn(t){return new Pn(t)}function Bn(t){return new Dn(t)}function zn(t){return new Nn(t)}class Hn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(On(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Xn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=On(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=On(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let i=e.length-1;0<i;i--){const n=e.item(i).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const qn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Wn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Yn(t){return(t=String(t)).match(qn)||t.match(Wn)?t:"unsafe:"+t}function Kn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Zn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Jn=Kn("area,br,col,hr,img,wbr"),Qn=Kn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$n=Kn("rp,rt"),ti=Zn($n,Qn),ei=Zn(Jn,Zn(Qn,Kn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Zn($n,Kn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ti),ni=Kn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ii=Kn("srcset"),ri=Zn(ni,ii,Kn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Kn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),si=Kn("script,style,template");class oi{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!ei.hasOwnProperty(e))return this.sanitizedSomething=!0,!si.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,s=e.toLowerCase();if(!ri.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;ni[s]&&(o=Yn(o)),ii[s]&&(i=o,o=(i=String(i)).split(",").map(t=>Yn(t.trim())).join(", ")),this.buf.push(" ",e,'="',ci(o),'"')}var i;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();ei.hasOwnProperty(e)&&!Jn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(ci(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const ai=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,li=/([^\#-~ |!])/g;function ci(t){return t.replace(/&/g,"&amp;").replace(ai,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(li,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let hi;function ui(t,e){let n=null;try{hi=hi||function(t){const e=new Xn(t);return function(){try{return!!(new window.DOMParser).parseFromString(On(""),"text/html")}catch(t){return!1}}()?new Hn(e):e}(t);let i=e?String(e):"";n=hi.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=n.innerHTML,n=hi.getInertBodyElement(i)}while(i!==s);return On((new oi).sanitizeChildren(di(n)||n))}finally{if(n){const t=di(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function di(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var pi=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function fi(t){const e=gi();return e?An(e.sanitize(pi.HTML,t)||""):kn(t,"HTML")?An(jn(t)):ui(wt(),y(t))}function mi(t){const e=gi();return e?e.sanitize(pi.URL,t)||"":kn(t,"URL")?jn(t):Yn(y(t))}function gi(){const t=Vt();return t&&t[12]}function yi(t){return t.ngDebugContext}function _i(t){return t.ngOriginalError}function bi(t,...e){t.error(...e)}class vi{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),i=function(t){return t.ngErrorLogger||bi}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e),n&&i(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?yi(t)?yi(t):this._findContext(_i(t)):null}_findOriginalError(t){let e=_i(t);for(;e&&_i(e);)e=_i(e);return e}}function Si(t,e){t.__ngContext__=e}const Ti=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(G))();function xi(t){return{name:"window",target:t.ownerDocument.defaultView}}function wi(t){return{name:"document",target:t.ownerDocument}}function Ei(t){return{name:"body",target:t.ownerDocument.body}}function Ci(t){return t instanceof Function?t():t}var Mi=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Oi(t,e){return(void 0)(t,e)}function Ai(t){const e=t[3];return ht(e)?e[3]:e}function Ii(t){return Li(t[13])}function Ri(t){return Li(t[4])}function Li(t){for(;null!==t&&!ht(t);)t=t[4];return t}function Pi(t,e,n,i,r){if(null!=i){let s,o=!1;ht(i)?s=i:ct(i)&&(o=!0,i=i[0]);const a=Mt(i);0===t&&null!==n?null==r?Vi(e,n,a):Gi(e,n,a,r||null,!0):1===t&&null!==n?Gi(e,n,a,r||null,!0):2===t?function(t,e,n){const i=zi(t,e);i&&function(t,e,n,i){Et(t)?t.removeChild(e,n,i):e.removeChild(n)}(t,i,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,i,r){const s=n[7];s!==Mt(n)&&Pi(e,t,i,s,r);for(let o=10;o<n.length;o++){const r=n[o];Ji(r[1],r,t,e,i,s)}}(e,t,s,n,r)}}function Di(t,e,n){return Et(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Ni(t,e){const n=t[9],i=n.indexOf(e),r=e[3];1024&e[2]&&(e[2]&=-1025,Ft(r,-1)),n.splice(i,1)}function ji(t,e){if(t.length<=10)return;const n=10+e,i=t[n];if(i){const s=i[17];null!==s&&s!==t&&Ni(s,i),e>0&&(t[n-1][4]=i[4]);const o=ln(t,10+e);Ji(i[1],r=i,r[11],2,null,null),r[0]=null,r[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),i[3]=null,i[4]=null,i[2]&=-129}var r;return i}function ki(t,e){if(!(256&e[2])){const n=e[11];Et(n)&&n.destroyNode&&Ji(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Fi(t[1],t);for(;e;){let n=null;if(ct(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)ct(e)&&Fi(e[1],e),e=e[3];null===e&&(e=t),ct(e)&&Fi(e[1],e),n=e&&e[4]}e=n}}(e)}}function Fi(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let i=0;i<n.length;i+=2){const t=e[n[i]];if(!(t instanceof xe)){const e=n[i+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,i=e[7];let r=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const t=n[s+1],o="function"==typeof t?t(e):Mt(e[t]),a=i[r=n[s+2]],l=n[s+3];"boolean"==typeof l?o.removeEventListener(n[s],a,l):l>=0?i[r=l]():i[r=-l].unsubscribe(),s+=2}else{const t=i[r=n[s+1]];n[s].call(t)}if(null!==i){for(let t=r+1;t<i.length;t++)(0,i[t])();e[7]=null}}(t,e),1===e[1].type&&Et(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&ht(e[3])){n!==e[3]&&Ni(n,e);const i=e[19];null!==i&&i.detachView(t)}}}function Ui(t,e,n){return function(t,e,n){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return n[0];if(2&i.flags){const e=t.data[i.directiveStart].encapsulation;if(e===N.None||e===N.Emulated)return null}return At(i,n)}(t,e.parent,n)}function Gi(t,e,n,i,r){Et(t)?t.insertBefore(e,n,i,r):e.insertBefore(n,i,r)}function Vi(t,e,n){Et(t)?t.appendChild(e,n):e.appendChild(n)}function Bi(t,e,n,i,r){null!==i?Gi(t,e,n,i,r):Vi(t,e,n)}function zi(t,e){return Et(t)?t.parentNode(e):e.parentNode}function Hi(t,e,n){return Xi(t,e,n)}let Xi=function(t,e,n){return 40&t.type?At(t,n):null};function qi(t,e,n,i){const r=Ui(t,i,e),s=e[11],o=Hi(i.parent||e[6],i,e);if(null!=r)if(Array.isArray(n))for(let a=0;a<n.length;a++)Bi(s,r,n[a],o,!1);else Bi(s,r,n,o,!1)}function Wi(t,e){if(null!==e){const n=e.type;if(3&n)return At(e,t);if(4&n)return Ki(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Wi(t,n);{const n=t[e.index];return ht(n)?Ki(-1,n):Mt(n)}}if(32&n)return Oi(e,t)()||Mt(t[e.index]);{const n=Yi(t,e);return null!==n?Array.isArray(n)?n[0]:Wi(Ai(t[16]),n):Wi(t,e.next)}}return null}function Yi(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Ki(t,e){const n=10+t+1;if(n<e.length){const t=e[n],i=t[1].firstChild;if(null!==i)return Wi(t,i)}return e[7]}function Zi(t,e,n,i,r,s,o){for(;null!=n;){const a=i[n.index],l=n.type;if(o&&0===e&&(a&&Si(Mt(a),i),n.flags|=4),64!=(64&n.flags))if(8&l)Zi(t,e,n.child,i,r,s,!1),Pi(e,t,r,a,s);else if(32&l){const o=Oi(n,i);let l;for(;l=o();)Pi(e,t,r,l,s);Pi(e,t,r,a,s)}else 16&l?Qi(t,e,i,n,r,s):Pi(e,t,r,a,s);n=o?n.projectionNext:n.next}}function Ji(t,e,n,i,r,s){Zi(n,i,t.firstChild,e,r,s,!1)}function Qi(t,e,n,i,r,s){const o=n[16],a=o[6].projection[i.projection];if(Array.isArray(a))for(let l=0;l<a.length;l++)Pi(e,t,r,a[l],s);else Zi(t,e,a,o[3],r,s,!0)}function $i(t,e,n){Et(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function tr(t,e,n){Et(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function er(t,e,n){let i=t.length;for(;;){const r=t.indexOf(e,n);if(-1===r)return r;if(0===r||t.charCodeAt(r-1)<=32){const n=e.length;if(r+n===i||t.charCodeAt(r+n)<=32)return r}n=r+1}}function nr(t,e,n){let i=0;for(;i<t.length;){let r=t[i++];if(n&&"class"===r){if(r=t[i],-1!==er(r.toLowerCase(),e,0))return!0}else if(1===r){for(;i<t.length&&"string"==typeof(r=t[i++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function ir(t){return 4===t.type&&"ng-template"!==t.value}function rr(t,e,n){return e===(4!==t.type||n?t.value:"ng-template")}function sr(t,e,n){let i=4;const r=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(Ee(t[e]))return e;return t.length}(r);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!rr(t,l,n)||""===l&&1===e.length){if(or(i))return!1;o=!0}}else{const c=8&i?l:e[++a];if(8&i&&null!==t.attrs){if(!nr(t.attrs,c,n)){if(or(i))return!1;o=!0}continue}const h=ar(8&i?"class":l,r,ir(t),n);if(-1===h){if(or(i))return!1;o=!0;continue}if(""!==c){let t;t=h>s?"":r[h+1].toLowerCase();const e=8&i?t:null;if(e&&-1!==er(e,c,0)||2&i&&c!==t){if(or(i))return!1;o=!0}}}}else{if(!o&&!or(i)&&!or(l))return!1;if(o&&or(l))continue;o=!1,i=l|1&i}}return or(i)||o}function or(t){return 0==(1&t)}function ar(t,e,n,i){if(null===e)return-1;let r=0;if(i||!n){let n=!1;for(;r<e.length;){const i=e[r];if(i===t)return r;if(3===i||6===i)n=!0;else{if(1===i||2===i){let t=e[++r];for(;"string"==typeof t;)t=e[++r];continue}if(4===i)break;if(0===i){r+=4;continue}}r+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const i=t[n];if("number"==typeof i)return-1;if(i===e)return n;n++}return-1}(e,t)}function lr(t,e,n=!1){for(let i=0;i<e.length;i++)if(sr(t,e[i],n))return!0;return!1}function cr(t,e){t:for(let n=0;n<e.length;n++){const i=e[n];if(t.length===i.length){for(let e=0;e<t.length;e++)if(t[e]!==i[e])continue t;return!0}}return!1}function hr(t,e){return t?":not("+e.trim()+")":e}function ur(t){let e=t[0],n=1,i=2,r="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&i){const e=t[++n];r+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""===r||or(o)||(e+=hr(s,r),r=""),i=o,s=s||!or(i);n++}return""!==r&&(e+=hr(s,r)),e}const dr={};function pr(t){fr(Bt(),Vt(),fe()+t,Kt())}function fr(t,e,n,i){if(!i)if(3==(3&e[2])){const i=t.preOrderCheckHooks;null!==i&&_e(e,i,n)}else{const i=t.preOrderHooks;null!==i&&be(e,i,0,n)}me(n)}function mr(t,e){return t<<17|e<<2}function gr(t){return t>>17&32767}function yr(t){return 2|t}function _r(t){return(131068&t)>>2}function br(t,e){return-131069&t|e<<2}function vr(t){return 1|t}function Sr(t,e){const n=t.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const r=n[i],s=n[i+1];if(-1!==s){const n=t.data[s];se(r),n.contentQueries(2,e[s],s)}}}function Tr(t,e,n,i,r,s,o,a,l,c){const h=e.blueprint.slice();return h[0]=r,h[2]=140|i,kt(h),h[3]=h[15]=t,h[8]=n,h[10]=o||t&&t[10],h[11]=a||t&&t[11],h[12]=l||t&&t[12]||null,h[9]=c||t&&t[9]||null,h[6]=s,h[16]=2==e.type?t[16]:h,h}function xr(t,e,n,i,r){let s=t.data[e];if(null===s)s=function(t,e,n,i,r){const s=Xt(),o=Wt(),a=t.data[e]=function(t,e,n,i,r,s){return{type:n,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,i,r);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}(t,e,n,i,r),Ut.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=i,s.attrs=r;const t=function(){const t=Ut.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===t?-1:t.injectorIndex}return qt(s,!0),s}function wr(t,e,n,i){if(0===n)return-1;const r=e.length;for(let s=0;s<n;s++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function Er(t,e,n){le(e);try{const i=t.viewQuery;null!==i&&es(1,i,n);const r=t.template;null!==r&&Or(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Sr(t,e),t.staticViewQueries&&es(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)Zr(t,e[n])}(e,s)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),i}finally{e[2]&=-5,pe()}}function Cr(t,e,n,i){const r=e[2];if(256==(256&r))return;le(e);const s=Kt();try{kt(e),Ut.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Or(t,e,n,2,i);const o=3==(3&r);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&_e(e,n,null)}else{const n=t.preOrderHooks;null!==n&&be(e,n,0,null),ve(e,0)}if(function(t){for(let e=Ii(t);null!==e;e=Ri(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],i=n[3];0==(1024&n[2])&&Ft(i,1),n[2]|=1024}}}(e),function(t){for(let e=Ii(t);null!==e;e=Ri(e))for(let t=10;t<e.length;t++){const n=e[t],i=n[1];Nt(n)&&Cr(i,n,i.template,n[8])}}(e),null!==t.contentQueries&&Sr(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&_e(e,n)}else{const n=t.contentHooks;null!==n&&be(e,n,1),ve(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const i=n[t];if(i<0)me(~i);else{const r=i,s=n[++t],o=n[++t];ee(s,r),o(2,e[r])}}}finally{me(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Yr(t,e[n])}(e,a);const l=t.viewQuery;if(null!==l&&es(2,l,i),!s)if(o){const n=t.viewCheckHooks;null!==n&&_e(e,n)}else{const n=t.viewHooks;null!==n&&be(e,n,2),ve(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Ft(e[3],-1))}finally{pe()}}function Mr(t,e,n,i){const r=e[10],s=!Kt(),o=Dt(e);try{s&&!o&&r.begin&&r.begin(),o&&Er(t,e,i),Cr(t,e,n,i)}finally{s&&!o&&r.end&&r.end()}}function Or(t,e,n,i,r){const s=fe(),o=2&i;try{me(-1),o&&e.length>20&&fr(t,e,20,Kt()),n(i,r)}finally{me(s)}}function Ar(t,e,n){if(ut(e)){const i=e.directiveEnd;for(let r=e.directiveStart;r<i;r++){const e=t.data[r];e.contentQueries&&e.contentQueries(1,n[r],r)}}}function Ir(t,e,n){Gt()&&(function(t,e,n,i){const r=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Ne(n,e),Si(i,e);const o=n.initialInputs;for(let a=r;a<s;a++){const i=t.data[a],s=ft(i);s&&Hr(e,n,i);const l=We(e,t,a,n);Si(l,e),null!==o&&Xr(0,a-r,l,i,0,o),s&&(Lt(n.index,e)[8]=l)}}(t,e,n,At(n,e)),128==(128&n.flags)&&function(t,e,n){const i=n.directiveStart,r=n.directiveEnd,s=n.index,o=Ut.lFrame.currentDirectiveIndex;try{me(s);for(let n=i;n<r;n++){const i=t.data[n],r=e[n];ne(n),null===i.hostBindings&&0===i.hostVars&&null===i.hostAttrs||Ur(i,r)}}finally{me(-1),ne(o)}}(t,e,n))}function Rr(t,e,n=At){const i=e.localNames;if(null!==i){let r=e.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?n(e,t):t[o];t[r++]=a}}}function Lr(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Pr(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Pr(t,e,n,i,r,s,o,a,l,c){const h=20+i,u=h+r,d=function(t,e){const n=[];for(let i=0;i<e;i++)n.push(i<t?null:dr);return n}(h,u),p="function"==typeof c?c():c;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:u,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1}}function Dr(t,e,n,i){const r=is(e);null===n?r.push(i):(r.push(n),t.firstCreatePass&&rs(t).push(i,r.length-1))}function Nr(t,e,n){for(let i in t)if(t.hasOwnProperty(i)){const r=t[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(e,r):n[i]=[e,r]}return n}function jr(t,e,n,i,r,s,o,a){const l=At(e,n);let c,h=e.inputs;var u;!a&&null!=h&&(c=h[i])?(as(t,n,c,i,r),dt(e)&&function(t,e){const n=Lt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(i="class"===(u=i)?"className":"for"===u?"htmlFor":"formaction"===u?"formAction":"innerHtml"===u?"innerHTML":"readonly"===u?"readOnly":"tabindex"===u?"tabIndex":u,r=null!=o?o(r,e.value||"",i):r,Et(s)?s.setProperty(l,i,r):Ce(i)||(l.setProperty?l.setProperty(i,r):l[i]=r))}function kr(t,e,n,i){let r=!1;if(Gt()){const s=function(t,e,n){const i=t.directiveRegistry;let r=null;if(i)for(let s=0;s<i.length;s++){const o=i[s];lr(n,o.selectors,!1)&&(r||(r=[]),Ue(Ne(n,e),t,o.type),ft(o)?(Gr(t,n),r.unshift(o)):r.push(o))}return r}(t,e,n),o=null===i?null:{"":-1};if(null!==s){r=!0,Br(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}let i=!1,a=!1,l=wr(t,e,s.length,null);for(let r=0;r<s.length;r++){const c=s[r];n.mergedAttrs=Me(n.mergedAttrs,c.hostAttrs),zr(t,n,e,l,c),Vr(l,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const h=c.type.prototype;!i&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),i=!0),a||!h.ngOnChanges&&!h.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),l++}!function(t,e){const n=e.directiveEnd,i=t.data,r=e.attrs,s=[];let o=null,a=null;for(let l=e.directiveStart;l<n;l++){const t=i[l],n=t.inputs,c=null===r||ir(e)?null:qr(n,r);s.push(c),o=Nr(n,l,o),a=Nr(t.outputs,l,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n)}o&&function(t,e,n){if(e){const i=t.localNames=[];for(let t=0;t<e.length;t+=2){const r=n[e[t+1]];if(null==r)throw new g("301",`Export of name '${e[t+1]}' not found!`);i.push(e[t],r)}}}(n,i,o)}return n.mergedAttrs=Me(n.mergedAttrs,n.attrs),r}function Fr(t,e,n,i,r,s){const o=s.hostBindings;if(o){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const s=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(i,r,o)}}function Ur(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Gr(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Vr(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;ft(e)&&(n[""]=t)}}function Br(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function zr(t,e,n,i,r){t.data[i]=r;const s=r.factory||(r.factory=mt(r.type)),o=new xe(s,ft(r),null);t.blueprint[i]=o,n[i]=o,Fr(t,e,0,i,wr(t,n,r.hostVars,dr),r)}function Hr(t,e,n){const i=At(e,t),r=Lr(n),s=t[10],o=Jr(t,Tr(t,r,null,n.onPush?64:16,i,e,s,s.createRenderer(i,n),null,null));t[e.index]=o}function Xr(t,e,n,i,r,s){const o=s[e];if(null!==o){const t=i.setInput;for(let e=0;e<o.length;){const r=o[e++],s=o[e++],a=o[e++];null!==t?i.setInput(n,a,r,s):n[s]=a}}}function qr(t,e){let n=null,i=0;for(;i<e.length;){const r=e[i];if(0!==r)if(5!==r){if("number"==typeof r)break;t.hasOwnProperty(r)&&(null===n&&(n=[]),n.push(r,t[r],e[i+1])),i+=2}else i+=2;else i+=4}return n}function Wr(t,e,n,i){return new Array(t,!0,!1,e,null,0,i,n,null,null)}function Yr(t,e){const n=Lt(e,t);if(Nt(n)){const t=n[1];80&n[2]?Cr(t,n,t.template,n[8]):n[5]>0&&Kr(n)}}function Kr(t){for(let n=Ii(t);null!==n;n=Ri(n))for(let t=10;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Cr(t,e,t.template,e[8])}else e[5]>0&&Kr(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const i=Lt(e[n],t);Nt(i)&&i[5]>0&&Kr(i)}}function Zr(t,e){const n=Lt(e,t),i=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(i,n),Er(i,n,n[8])}function Jr(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Qr(t){for(;t;){t[2]|=64;const e=Ai(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function $r(t,e,n){const i=e[10];i.begin&&i.begin();try{Cr(t,e,t.template,n)}catch(r){throw os(e,r),r}finally{i.end&&i.end()}}function ts(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],i=Pt(n),r=i[1];Mr(r,i,r.template,n)}}(t[8])}function es(t,e,n){se(0),e(t,n)}const ns=(()=>Promise.resolve(null))();function is(t){return t[7]||(t[7]=[])}function rs(t){return t.cleanup||(t.cleanup=[])}function ss(t,e,n){return(null===t||ft(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function os(t,e){const n=t[9],i=n?n.get(vi,null):null;i&&i.handleError(e)}function as(t,e,n,i,r){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],l=e[o],c=t.data[o];null!==c.setInput?c.setInput(l,r,i,a):l[a]=r}}function ls(t,e,n){const i=Ot(e,t);!function(t,e,n){Et(t)?t.setValue(e,n):e.textContent=n}(t[11],i,n)}function cs(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?r=u(r,t):2==s&&(i=u(i,t+": "+e[++o]+";"))}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}const hs=new en("INJECTOR",-1);class us{get(t,e=pn){if(e===pn){const e=new Error(`NullInjectorError: No provider for ${h(t)}!`);throw e.name="NullInjectorError",e}return e}}const ds=new en("Set Injector scope."),ps={},fs={},ms=[];let gs;function ys(){return void 0===gs&&(gs=new us),gs}function _s(t,e=null,n=null,i){return new bs(t,n,e||ys(),i)}class bs{constructor(t,e,n,i=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const r=[];e&&on(e,n=>this.processProvider(n,t,e)),on([t],t=>this.processInjectorType(t,[],r)),this.records.set(hs,Ts(void 0,this));const s=this.records.get(ds);this.scope=null!=s?s.value:null,this.source=i||("object"==typeof t?null:h(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=pn,n=A.Default){this.assertNotDestroyed();const i=yn(this);try{if(!(n&A.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(r=t)||"object"==typeof r&&r instanceof en)&&T(t);e=n&&this.injectableDefInScope(n)?Ts(vs(t),ps):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&A.Self?ys():this.parent).get(t,e=n&A.Optional&&e===pn?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(h(t)),i)throw s;return function(t,e,n,i){const r=t.ngTempTokenPath;throw e.__source&&r.unshift(e.__source),t.message=function(t,e,n,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let r=h(e);if(Array.isArray(e))r=e.map(h).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let i=e[n];t.push(n+":"+("string"==typeof i?JSON.stringify(i):h(i)))}r=`{${t.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(fn,"\n  ")}`}("\n"+t.message,r,n,i),t.ngTokenPath=r,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{yn(i)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(h(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=f(t)))return!1;let i=w(t);const r=null==i&&t.ngModule||void 0,s=void 0===r?t:r,o=-1!==n.indexOf(s);if(void 0!==r&&(i=w(r)),null==i)return!1;if(null!=i.imports&&!o){let t;n.push(s);try{on(i.imports,i=>{this.processInjectorType(i,e,n)&&(void 0===t&&(t=[]),t.push(i))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:i}=t[e];on(i,t=>this.processProvider(t,n,i||ms))}}this.injectorDefTypes.add(s);const a=mt(s)||(()=>new s);this.records.set(s,Ts(a,ps));const l=i.providers;if(null!=l&&!o){const e=t;on(l,t=>this.processProvider(t,e,l))}return void 0!==r&&void 0!==t.providers}processProvider(t,e,n){let i=ws(t=f(t))?t:f(t&&t.provide);const r=function(t,e,n){return xs(t)?Ts(void 0,t.useValue):Ts(Ss(t),ps)}(t);if(ws(t)||!0!==t.multi)this.records.get(i);else{let e=this.records.get(i);e||(e=Ts(void 0,ps,!0),e.factory=()=>Sn(e.multi),this.records.set(i,e)),i=t,e.multi.push(t)}this.records.set(i,r)}hydrate(t,e){var n;return e.value===ps&&(e.value=fs,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function vs(t){const e=T(t),n=null!==e?e.factory:mt(t);if(null!==n)return n;if(t instanceof en)throw new Error(`Token ${h(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=cn(e,"?");throw new Error(`Can't resolve all parameters for ${h(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[E]||t[M]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Ss(t,e,n){let i;if(ws(t)){const e=f(t);return mt(e)||vs(e)}if(xs(t))i=()=>f(t.useValue);else if((r=t)&&r.useFactory)i=()=>t.useFactory(...Sn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))i=()=>bn(f(t.useExisting));else{const e=f(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return mt(e)||vs(e);i=()=>new e(...Sn(t.deps))}var r;return i}function Ts(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function xs(t){return null!==t&&"object"==typeof t&&mn in t}function ws(t){return"function"==typeof t}const Es=function(t,e,n){return function(t,e=null,n=null,i){const r=_s(t,e,n,i);return r._resolveInjectorDefTypes(),r}({name:n},e,t,n)};let Cs=(()=>{class t{static create(t,e){return Array.isArray(t)?Es(t,e,""):Es(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=pn,t.NULL=new us,t.\u0275prov=v({token:t,providedIn:"any",factory:()=>bn(hs)}),t.__NG_ELEMENT_ID__=-1,t})();function Ms(t,e){ye(Pt(t)[1],Ht())}function Os(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const i=[t];for(;e;){let r;if(ft(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");r=e.\u0275dir}if(r){if(n){i.push(r);const e=t;e.inputs=As(t.inputs),e.declaredInputs=As(t.declaredInputs),e.outputs=As(t.outputs);const n=r.hostBindings;n&&Ls(t,n);const s=r.viewQuery,o=r.contentQueries;if(s&&Is(t,s),o&&Rs(t,o),c(t.inputs,r.inputs),c(t.declaredInputs,r.declaredInputs),c(t.outputs,r.outputs),ft(r)&&r.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(r.data.animation)}}const e=r.features;if(e)for(let i=0;i<e.length;i++){const r=e[i];r&&r.ngInherit&&r(t),r===Os&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){const r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Me(r.hostAttrs,n=Me(n,r.hostAttrs))}}(i)}function As(t){return t===V?{}:t===z?[]:t}function Is(t,e){const n=t.viewQuery;t.viewQuery=n?(t,i)=>{e(t,i),n(t,i)}:e}function Rs(t,e){const n=t.contentQueries;t.contentQueries=n?(t,i,r)=>{e(t,i,r),n(t,i,r)}:e}function Ls(t,e){const n=t.hostBindings;t.hostBindings=n?(t,i)=>{e(t,i),n(t,i)}:e}let Ps=null;function Ds(){if(!Ps){const t=G.Symbol;if(t&&t.iterator)Ps=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Ps=n)}}}return Ps}class Ns{constructor(t){this.wrapped=t}static wrap(t){return new Ns(t)}static unwrap(t){return Ns.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Ns}}function js(t){return!!ks(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ds()in t)}function ks(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Fs(t,e,n){return t[e]=n}function Us(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Gs(t,e,n,i){const r=Us(t,e,n);return Us(t,e+1,i)||r}function Vs(t,e,n,i){const r=Vt();return Us(r,$t(),e)&&(Bt(),function(t,e,n,i,r,s){const o=At(t,e);!function(t,e,n,i,r,s,o){if(null==s)Et(t)?t.removeAttribute(e,r,n):e.removeAttribute(r);else{const a=null==o?y(s):o(s,i||"",r);Et(t)?t.setAttribute(e,r,a,n):n?e.setAttributeNS(n,r,a):e.setAttribute(r,a)}}(e[11],o,s,t.value,n,i,r)}(ge(),r,t,e,n,i)),Vs}function Bs(t,e,n,i){return Us(t,$t(),n)?e+y(n)+i:dr}function zs(t,e,n,i,r,s,o,a){const l=Vt(),c=Bt(),h=t+20,u=c.firstCreatePass?function(t,e,n,i,r,s,o,a,l){const c=e.consts,h=xr(e,t,4,o||null,jt(c,a));kr(e,n,h,jt(c,l)),ye(e,h);const u=h.tViews=Pr(2,h,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,h),u.queries=e.queries.embeddedTView(h)),h}(h,c,l,e,n,i,r,s,o):c.data[h];qt(u,!1);const d=l[11].createComment("");qi(c,l,d,u),Si(d,l),Jr(l,l[h]=Wr(d,l,d,u)),pt(u)&&Ir(c,l,u),null!=o&&Rr(l,u,a)}function Hs(t){return Rt(Ut.lFrame.contextLView,20+t)}function Xs(t,e=A.Default){const n=Vt();return null===n?bn(t,e):Be(Ht(),n,f(t),e)}function qs(t,e,n){const i=Vt();return Us(i,$t(),e)&&jr(Bt(),ge(),i,t,e,i[11],n,!1),qs}function Ws(t,e,n,i,r){const s=r?"class":"style";as(t,n,e.inputs[s],s,i)}function Ys(t,e,n,i){const r=Vt(),s=Bt(),o=20+t,a=r[11],l=r[o]=Di(a,e,Ut.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,i,r,s,o){const a=e.consts,l=xr(e,t,2,r,jt(a,s));return kr(e,n,l,jt(a,o)),null!==l.attrs&&cs(l,l.attrs,!1),null!==l.mergedAttrs&&cs(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,r,0,e,n,i):s.data[o];qt(c,!0);const h=c.mergedAttrs;null!==h&&we(a,l,h);const u=c.classes;null!==u&&tr(a,l,u);const d=c.styles;null!==d&&$i(a,l,d),64!=(64&c.flags)&&qi(s,r,l,c),0===Ut.lFrame.elementDepthCount&&Si(l,r),Ut.lFrame.elementDepthCount++,pt(c)&&(Ir(s,r,c),Ar(s,c,r)),null!==i&&Rr(r,c)}function Ks(){let t=Ht();Wt()?Yt():(t=t.parent,qt(t,!1));const e=t;Ut.lFrame.elementDepthCount--;const n=Bt();n.firstCreatePass&&(ye(n,t),ut(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Ws(n,e,Vt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Ws(n,e,Vt(),e.stylesWithoutHost,!1)}function Zs(t,e,n,i){Ys(t,e,n,i),Ks()}function Js(t,e,n){const i=Vt(),r=Bt(),s=t+20,o=r.firstCreatePass?function(t,e,n,i,r){const s=e.consts,o=jt(s,i),a=xr(e,t,8,"ng-container",o);return null!==o&&cs(a,o,!0),kr(e,n,a,jt(s,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,r,i,e,n):r.data[s];qt(o,!0);const a=i[s]=i[11].createComment("");qi(r,i,a,o),Si(a,i),pt(o)&&(Ir(r,i,o),Ar(r,o,i)),null!=n&&Rr(i,o)}function Qs(){let t=Ht();const e=Bt();Wt()?Yt():(t=t.parent,qt(t,!1)),e.firstCreatePass&&(ye(e,t),ut(t)&&e.queries.elementEnd(t))}function $s(t,e,n){Js(t,e,n),Qs()}function to(){return Vt()}function eo(t){return!!t&&"function"==typeof t.then}function no(t){return!!t&&"function"==typeof t.subscribe}const io=no;function ro(t,e,n=!1,i){const r=Vt(),s=Bt(),o=Ht();return oo(s,r,r[11],o,t,e,n,i),ro}function so(t,e,n=!1,i){const r=Ht(),s=Vt(),o=Bt();return oo(o,s,ss(ie(o.data),r,s),r,t,e,n,i),so}function oo(t,e,n,i,r,s,o=!1,a){const l=pt(i),c=t.firstCreatePass&&rs(t),h=is(e);let u=!0;if(3&i.type){const d=At(i,e),p=a?a(d):V,f=p.target||d,m=h.length,g=a?t=>a(Mt(t[i.index])).target:i.index;if(Et(n)){let o=null;if(!a&&l&&(o=function(t,e,n,i){const r=t.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const t=r[s];if(t===n&&r[s+1]===i){const t=e[7],n=r[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,r,i.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,u=!1;else{s=lo(i,e,0,s,!1);const t=n.listen(p.name||f,r,s);h.push(s,t),c&&c.push(r,g,m,m+1)}}else s=lo(i,e,0,s,!0),f.addEventListener(r,s,o),h.push(s),c&&c.push(r,g,m,o)}else s=lo(i,e,0,s,!1);const d=i.outputs;let p;if(u&&null!==d&&(p=d[r])){const t=p.length;if(t)for(let n=0;n<t;n+=2){const t=e[p[n]][p[n+1]].subscribe(s),o=h.length;h.push(s,t),c&&c.push(r,i.index,o,-(o+1))}}}function ao(t,e,n,i){try{return!1!==n(i)}catch(r){return os(t,r),!1}}function lo(t,e,n,i,r){return function n(s){if(s===Function)return i;const o=2&t.flags?Lt(t.index,e):e;0==(32&e[2])&&Qr(o);let a=ao(e,0,i,s),l=n.__ngNextListenerFn__;for(;l;)a=ao(e,0,l,s)&&a,l=l.__ngNextListenerFn__;return r&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function co(t=1){return function(t){return(Ut.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Ut.lFrame.contextLView))[8]}(t)}function ho(t,e){let n=null;const i=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let r=0;r<e.length;r++){const s=e[r];if("*"!==s){if(null===i?lr(t,s,!0):cr(i,s))return r}else n=r}return n}function uo(t){const e=Vt()[16][6];if(!e.projection){const n=e.projection=cn(t?t.length:1,null),i=n.slice();let r=e.child;for(;null!==r;){const e=t?ho(r,t):0;null!==e&&(i[e]?i[e].projectionNext=r:n[e]=r,i[e]=r),r=r.next}}}function po(t,e=0,n){const i=Vt(),r=Bt(),s=xr(r,20+t,16,null,n||null);null===s.projection&&(s.projection=e),Yt(),64!=(64&s.flags)&&function(t,e,n){Qi(e[11],0,e,n,Ui(t,n,e),Hi(n.parent||e[6],n,e))}(r,i,s)}function fo(t,e,n){return mo(t,"",e,"",n),fo}function mo(t,e,n,i,r){const s=Vt(),o=Bs(s,e,n,i);return o!==dr&&jr(Bt(),ge(),s,t,o,s[11],r,!1),mo}function go(t,e,n,i,r){const s=t[n+1],o=null===e;let a=i?gr(s):_r(s),l=!1;for(;0!==a&&(!1===l||o);){const n=t[a+1];yo(t[a],e)&&(l=!0,t[a+1]=i?vr(n):yr(n)),a=i?gr(n):_r(n)}l&&(t[n+1]=i?yr(s):vr(s))}function yo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&dn(t,e)>=0}const _o={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function bo(t){return t.substring(_o.key,_o.keyEnd)}function vo(t,e){const n=_o.textEnd;return n===e?-1:(e=_o.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,_o.key=e,n),So(t,e,n))}function So(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function To(t,e,n){return Co(t,e,n,!1),To}function xo(t,e){return Co(t,e,null,!0),xo}function wo(t){!function(t,e,n,i){const r=Bt(),s=te(2);r.firstUpdatePass&&Oo(r,null,s,true);const o=Vt();if(n!==dr&&Us(o,s,n)){const i=r.data[fe()];if(Do(i,true)&&!Mo(r,s)){let t=i.classesWithoutHost;null!==t&&(n=u(t,n||"")),Ws(r,i,o,n,true)}else!function(t,e,n,i,r,s,o,a){r===dr&&(r=B);let l=0,c=0,h=0<r.length?r[0]:null,u=0<s.length?s[0]:null;for(;null!==h||null!==u;){const o=l<r.length?r[l+1]:void 0,d=c<s.length?s[c+1]:void 0;let p,f=null;h===u?(l+=2,c+=2,o!==d&&(f=u,p=d)):null===u||null!==h&&h<u?(l+=2,f=h):(c+=2,f=u,p=d),null!==f&&Ro(t,e,n,i,f,p,true,a),h=l<r.length?r[l]:null,u=c<s.length?s[c]:null}}(r,i,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return B;const i=[],r=jn(n);if(Array.isArray(r))for(let s=0;s<r.length;s++)t(i,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&t(i,s,r[s]);else"string"==typeof r&&e(i,r);return i}(t,e,n),0,s)}}(hn,Eo,t)}function Eo(t,e){for(let n=function(t){return function(t){_o.key=0,_o.keyEnd=0,_o.value=0,_o.valueEnd=0,_o.textEnd=t.length}(t),vo(t,So(t,0,_o.textEnd))}(e);n>=0;n=vo(e,n))hn(t,bo(e),!0)}function Co(t,e,n,i){const r=Vt(),s=Bt(),o=te(2);s.firstUpdatePass&&Oo(s,t,o,i),e!==dr&&Us(r,o,e)&&Ro(s,s.data[fe()],r,r[11],t,r[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=h(jn(t)))),t}(e,n),i,o)}function Mo(t,e){return e>=t.expandoStartIndex}function Oo(t,e,n,i){const r=t.data;if(null===r[n+1]){const s=r[fe()],o=Mo(t,n);Do(s,i)&&null===e&&!o&&(e=!1),e=function(t,e,n,i){const r=ie(t);let s=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(n=Io(n=Ao(null,t,e,n,i),e.attrs,i),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==r)if(n=Ao(r,t,e,n,i),null===s){let n=function(t,e,n){const i=n?e.classBindings:e.styleBindings;if(0!==_r(i))return t[gr(i)]}(t,e,i);void 0!==n&&Array.isArray(n)&&(n=Ao(null,t,e,n[1],i),n=Io(n,e.attrs,i),function(t,e,n,i){t[gr(n?e.classBindings:e.styleBindings)]=i}(t,e,i,n))}else s=function(t,e,n){let i;const r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++)i=Io(i,t[s].hostAttrs,n);return Io(i,e.attrs,n)}(t,e,i)}return void 0!==s&&(i?e.residualClasses=s:e.residualStyles=s),n}(r,s,e,i),function(t,e,n,i,r,s){let o=s?e.classBindings:e.styleBindings,a=gr(o),l=_r(o);t[i]=n;let c,h=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||dn(t,c)>0)&&(h=!0)}else c=n;if(r)if(0!==l){const e=gr(t[a+1]);t[i+1]=mr(e,a),0!==e&&(t[e+1]=br(t[e+1],i)),t[a+1]=131071&t[a+1]|i<<17}else t[i+1]=mr(a,0),0!==a&&(t[a+1]=br(t[a+1],i)),a=i;else t[i+1]=mr(l,0),0===a?a=i:t[l+1]=br(t[l+1],i),l=i;h&&(t[i+1]=yr(t[i+1])),go(t,c,i,!0),go(t,c,i,!1),function(t,e,n,i,r){const s=r?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&dn(s,e)>=0&&(n[i+1]=vr(n[i+1]))}(e,c,t,i,s),o=mr(a,l),s?e.classBindings=o:e.styleBindings=o}(r,s,e,n,o,i)}}function Ao(t,e,n,i,r){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],i=Io(i,s.hostAttrs,r),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),i}function Io(t,e,n){const i=n?1:2;let r=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?r=o:r===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),hn(t,o,!!n||e[++s]))}return void 0===t?null:t}function Ro(t,e,n,i,r,s,o,a){if(!(3&e.type))return;const l=t.data,c=l[a+1];Po(1==(1&c)?Lo(l,e,n,r,_r(c),o):void 0)||(Po(s)||2==(2&c)&&(s=Lo(l,null,n,r,a,o)),function(t,e,n,i,r){const s=Et(t);if(e)r?s?t.addClass(n,i):n.classList.add(i):s?t.removeClass(n,i):n.classList.remove(i);else{let e=-1===i.indexOf("-")?void 0:Mi.DashCase;if(null==r)s?t.removeStyle(n,i,e):n.style.removeProperty(i);else{const o="string"==typeof r&&r.endsWith("!important");o&&(r=r.slice(0,-10),e|=Mi.Important),s?t.setStyle(n,i,r,e):n.style.setProperty(i,r,o?"important":"")}}}(i,o,Ot(fe(),n),r,s))}function Lo(t,e,n,i,r,s){const o=null===e;let a;for(;r>0;){const e=t[r],s=Array.isArray(e),l=s?e[1]:e,c=null===l;let h=n[r+1];h===dr&&(h=c?B:void 0);let u=c?un(h,i):l===i?h:void 0;if(s&&!Po(u)&&(u=un(e,i)),Po(u)&&(a=u,o))return a;const d=t[r+1];r=o?gr(d):_r(d)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=un(t,i))}return a}function Po(t){return void 0!==t}function Do(t,e){return 0!=(t.flags&(e?16:32))}function No(t,e=""){const n=Vt(),i=Bt(),r=t+20,s=i.firstCreatePass?xr(i,r,1,e,null):i.data[r],o=n[r]=function(t,e){return Et(t)?t.createText(e):t.createTextNode(e)}(n[11],e);qi(i,n,o,s),qt(s,!1)}function jo(t){return ko("",t,""),jo}function ko(t,e,n){const i=Vt(),r=Bs(i,t,e,n);return r!==dr&&ls(i,fe(),r),ko}function Fo(t,e,n,i,r){const s=Vt(),o=function(t,e,n,i,r,s){const o=Gs(t,Qt(),n,r);return te(2),o?e+y(n)+i+y(r)+s:dr}(s,t,e,n,i,r);return o!==dr&&ls(s,fe(),o),Fo}function Uo(t,e,n,i,r,s,o){const a=Vt(),l=function(t,e,n,i,r,s,o,a){const l=function(t,e,n,i,r){const s=Gs(t,e,n,i);return Us(t,e+2,r)||s}(t,Qt(),n,r,o);return te(3),l?e+y(n)+i+y(r)+s+y(o)+a:dr}(a,t,e,n,i,r,s,o);return l!==dr&&ls(a,fe(),l),Uo}function Go(t,e,n){const i=Vt();return Us(i,$t(),e)&&jr(Bt(),ge(),i,t,e,i[11],n,!0),Go}function Vo(t,e,n){const i=Vt();if(Us(i,$t(),e)){const r=Bt(),s=ge();jr(r,s,i,t,e,ss(ie(r.data),s,i),n,!0)}return Vo}const Bo=void 0;var zo=["en",[["a","p"],["AM","PM"],Bo],[["AM","PM"],Bo,Bo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Bo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Bo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Bo,"{1} 'at' {0}",Bo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Ho={};function Xo(t,e,n){"string"!=typeof e&&(n=e,e=t[Zo.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Ho[e]=t,n&&(Ho[e][Zo.ExtraData]=n)}function qo(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Ko(e);if(n)return n;const i=e.split("-")[0];if(n=Ko(i),n)return n;if("en"===i)return zo;throw new Error(`Missing locale data for the locale "${t}".`)}function Wo(t){return qo(t)[Zo.CurrencyCode]||null}function Yo(t){return qo(t)[Zo.PluralCase]}function Ko(t){return t in Ho||(Ho[t]=G.ng&&G.ng.common&&G.ng.common.locales&&G.ng.common.locales[t]),Ho[t]}var Zo=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});let Jo="en-US";function Qo(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,i){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Jo=t.toLowerCase().replace(/_/g,"-"))}function $o(t,e,n,i,r){if(t=f(t),Array.isArray(t))for(let s=0;s<t.length;s++)$o(t[s],e,n,i,r);else{const s=Bt(),o=Vt();let a=ws(t)?t:f(t.provide),l=Ss(t);const c=Ht(),h=1048575&c.providerIndexes,u=c.directiveStart,d=c.providerIndexes>>20;if(ws(t)||!t.multi){const i=new xe(l,r,Xs),p=na(a,e,r?h:h+d,u);-1===p?(Ue(Ne(c,o),s,a),ta(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),n.push(i),o.push(i)):(n[p]=i,o[p]=i)}else{const p=na(a,e,h+d,u),f=na(a,e,h,h+d),m=p>=0&&n[p],g=f>=0&&n[f];if(r&&!g||!r&&!m){Ue(Ne(c,o),s,a);const h=function(t,e,n,i,r){const s=new xe(t,n,Xs);return s.multi=[],s.index=e,s.componentProviders=0,ea(s,r,i&&!n),s}(r?ra:ia,n.length,r,i,l);!r&&g&&(n[f].providerFactory=h),ta(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),n.push(h),o.push(h)}else ta(s,t,p>-1?p:f,ea(n[r?f:p],l,!r&&i));!r&&i&&g&&n[f].componentProviders++}}}function ta(t,e,n,i){const r=ws(e);if(r||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[i,s]):o[t+1].push(i,s)}else o.push(n,s)}}}function ea(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function na(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function ia(t,e,n,i){return sa(this.multi,[])}function ra(t,e,n,i){const r=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=We(n,n[1],this.providerFactory.index,i);s=e.slice(0,t),sa(r,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],sa(r,s);return s}function sa(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function oa(t,e=[]){return n=>{n.providersResolver=(n,i)=>function(t,e,n){const i=Bt();if(i.firstCreatePass){const r=ft(t);$o(n,i.data,i.blueprint,r,!0),$o(e,i.data,i.blueprint,r,!1)}}(n,i?i(t):t,e)}}class aa{}class la{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${h(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let ca=(()=>{class t{}return t.NULL=new la,t})();function ha(...t){}function ua(t,e){return new pa(At(t,e))}const da=function(){return ua(Ht(),Vt())};let pa=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=da,t})();function fa(t){return t instanceof pa?t.nativeElement:t}class ma{}let ga=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ya(),t})();const ya=function(){const t=Vt(),e=Lt(Ht().index,t);return function(t){return t[11]}(ct(e)?e:t)};let _a=(()=>{class t{}return t.\u0275prov=v({token:t,providedIn:"root",factory:()=>null}),t})();class ba{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const va=new ba("11.2.13");class Sa{constructor(){}supports(t){return js(t)}create(t){return new xa(t)}}const Ta=(t,e)=>e;class xa{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ta}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,i=0,r=null;for(;e||n;){const s=!n||e&&e.currentIndex<Ma(n,i,r)?e:n,o=Ma(s,i,r),a=s.currentIndex;if(s===n)i--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)i++;else{r||(r=[]);const t=o-i,e=a-i;if(t!=e){for(let n=0;n<t;n++){const i=n<r.length?r[n]:r[n]=0,s=i+n;e<=s&&s<t&&(r[n]=i+1)}r[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!js(t))throw new Error(`Error trying to diff '${h(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,i,r=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],i=this._trackByFn(e,n),null!==r&&Object.is(r.trackById,i)?(s&&(r=this._verifyReinsertion(r,n,i,e)),Object.is(r.item,n)||this._addIdentityChange(r,n)):(r=this._mismatch(r,n,i,e),s=!0),r=r._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Ds()]();let i;for(;!(i=n.next()).done;)e(i.value)}}(t,t=>{i=this._trackByFn(e,t),null!==r&&Object.is(r.trackById,i)?(s&&(r=this._verifyReinsertion(r,t,i,e)),Object.is(r.item,t)||this._addIdentityChange(r,t)):(r=this._mismatch(r,t,i,e),s=!0),r=r._next,e++}),this.length=e;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,i){let r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,i)):t=this._addAfter(new wa(e,n),r,i),t}_verifyReinsertion(t,e,n,i){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?t=this._reinsertAfter(r,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,r=t._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Ca),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ca),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class wa{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ea{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Ca{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Ea,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ma(t,e,n){const i=t.previousIndex;if(null===i)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}class Oa{constructor(){}supports(t){return t instanceof Map||ks(t)}create(){return new Aa}}class Aa{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||ks(t)))throw new Error(`Error trying to diff '${h(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const i=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,i)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}const n=new Ia(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Ia{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ra(){return new La([new Sa])}let La=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Ra()),deps:[[t,new En,new wn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=v({token:t,providedIn:"root",factory:Ra}),t})();function Pa(){return new Da([new Oa])}let Da=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Pa()),deps:[[t,new En,new wn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=v({token:t,providedIn:"root",factory:Pa}),t})();function Na(t,e,n,i,r=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&i.push(Mt(s)),ht(s))for(let t=10;t<s.length;t++){const e=s[t],n=e[1].firstChild;null!==n&&Na(e[1],e,n,i)}const o=n.type;if(8&o)Na(t,e,n.child,i);else if(32&o){const t=Oi(n,e);let r;for(;r=t();)i.push(r)}else if(16&o){const t=Yi(e,n);if(Array.isArray(t))i.push(...t);else{const n=Ai(e[16]);Na(n[1],n,t,i,!0)}}n=r?n.projectionNext:n.next}return i}class ja{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Na(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(ht(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(ji(t,n),ln(e,n))}this._attachedToViewContainer=!1}ki(this._lView[1],this._lView)}onDestroy(t){Dr(this._lView[1],this._lView,null,t)}markForCheck(){Qr(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){$r(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Zt(!0);try{$r(t,e,n)}finally{Zt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Ji(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class ka extends ja{constructor(t){super(t),this._view=t}detectChanges(){ts(this._view)}checkNoChanges(){!function(t){Zt(!0);try{ts(t)}finally{Zt(!1)}}(this._view)}get context(){return null}}const Fa=Ga;let Ua=(()=>{class t{}return t.__NG_ELEMENT_ID__=Fa,t.__ChangeDetectorRef__=!0,t})();function Ga(t=!1){return function(t,e,n){if(!n&&dt(t)){const n=Lt(t.index,e);return new ja(n,n)}return 47&t.type?new ja(e[16],e):null}(Ht(),Vt(),t)}const Va=[new Oa],Ba=new La([new Sa]),za=new Da(Va),Ha=function(){return Ya(Ht(),Vt())};let Xa=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ha,t})();const qa=Xa,Wa=class extends qa{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Tr(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const i=this._declarationLView[19];return null!==i&&(n[19]=i.createEmbeddedView(e)),Er(e,n,t),new ja(n)}};function Ya(t,e){return 4&t.type?new Wa(e,t,ua(t,e)):null}class Ka{}class Za{}const Ja=function(){return il(Ht(),Vt())};let Qa=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ja,t})();const $a=Qa,tl=class extends $a{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return ua(this._hostTNode,this._hostLView)}get injector(){return new Ze(this._hostTNode,this._hostLView)}get parentInjector(){const t=Fe(this._hostTNode,this._hostLView);if(Ae(t)){const e=Re(t,this._hostLView),n=Ie(t);return new Ze(e[1].data[n+8],e)}return new Ze(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=el(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,n){const i=t.createEmbeddedView(e||{});return this.insert(i,n),i}createComponent(t,e,n,i,r){const s=n||this.parentInjector;if(!r&&null==t.ngModule&&s){const t=s.get(Ka,null);t&&(r=t)}const o=t.create(s,i,void 0,r);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,i=n[1];if(ht(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],i=new tl(e,e[6],e[3]);i.detach(i.indexOf(t))}}const r=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,i){const r=10+i,s=n.length;i>0&&(n[r-1][4]=e),i<s-10?(e[4]=n[r],an(n,10+i,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(i,n,s,r);const o=Ki(r,s),a=n[11],l=zi(a,s[7]);return null!==l&&function(t,e,n,i,r,s){i[0]=r,i[6]=e,Ji(t,i,n,1,r,s)}(i,s[6],a,n,l,o),t.attachToViewContainerRef(),an(nl(s),r,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=el(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=ji(this._lContainer,e);n&&(ln(nl(this._lContainer),e),ki(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=ji(this._lContainer,e);return n&&null!=ln(nl(this._lContainer),e)?new ja(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function el(t){return t[8]}function nl(t){return t[8]||(t[8]=[])}function il(t,e){let n;const i=e[t.index];if(ht(i))n=i;else{let r;if(8&t.type)r=Mt(i);else{const n=e[11];r=n.createComment("");const i=At(t,e);Gi(n,zi(n,i),r,function(t,e){return Et(t)?t.nextSibling(e):e.nextSibling}(n,i),!1)}e[t.index]=n=Wr(i,e,r,t),Jr(e,n)}return new tl(n,t,e)}const rl={};class sl extends ca{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=at(t);return new ll(e,this.ngModule)}}function ol(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const al=new en("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ti});class ll extends aa{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(ur).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return ol(this.componentDef.inputs)}get outputs(){return ol(this.componentDef.outputs)}create(t,e,n,i){const r=(i=i||this.ngModule)?function(t,e){return{get:(n,i,r)=>{const s=t.get(n,rl,r);return s!==rl||i===rl?s:e.get(n,i,r)}}}(t,i.injector):t,s=r.get(ma,Ct),o=r.get(_a,null),a=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Et(t))return t.selectRootElement(e,n===N.ShadowDom);let i="string"==typeof e?t.querySelector(e):e;return i.textContent="",i}(a,n,this.componentDef.encapsulation):Di(s.createRenderer(null,this.componentDef),l,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),h=this.componentDef.onPush?576:528,u={components:[],scheduler:Ti,clean:ns,playerHandler:null,flags:0},d=Pr(0,null,null,1,0,null,null,null,null,null),p=Tr(null,d,u,h,null,null,s,a,o,r);let f,m;le(p);try{const t=function(t,e,n,i,r,s){const o=n[1];n[20]=t;const a=xr(o,20,2,"#host",null),l=a.mergedAttrs=e.hostAttrs;null!==l&&(cs(a,l,!0),null!==t&&(we(r,t,l),null!==a.classes&&tr(r,t,a.classes),null!==a.styles&&$i(r,t,a.styles)));const c=i.createRenderer(t,e),h=Tr(n,Lr(e),null,e.onPush?64:16,n[20],a,i,c,null,null);return o.firstCreatePass&&(Ue(Ne(a,n),o,e.type),Gr(o,a),Br(a,n.length,1)),Jr(n,h),n[20]=h}(c,this.componentDef,p,s,a);if(c)if(n)we(a,c,["ng-version",va.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let i=1,r=2;for(;i<t.length;){let s=t[i];if("string"==typeof s)2===r?""!==s&&e.push(s,t[++i]):8===r&&n.push(s);else{if(!or(r))break;r=s}i++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&we(a,c,t),e&&e.length>0&&tr(a,c,e.join(" "))}if(m=It(d,20),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const i=e[n];t.push(null!=i?Array.from(i):null)}}f=function(t,e,n,i,r){const s=n[1],o=function(t,e,n){const i=Ht();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),zr(t,i,e,wr(t,e,1,null),n));const r=We(e,t,i.directiveStart,i);Si(r,e);const s=At(i,e);return s&&Si(s,e),r}(s,n,e);if(i.components.push(o),t[8]=o,r&&r.forEach(t=>t(o,e)),e.contentQueries){const t=Ht();e.contentQueries(1,o,t.directiveStart)}const a=Ht();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(me(a.index),Fr(n[1],a,0,a.directiveStart,a.directiveEnd,e),Ur(e,o)),o}(t,this.componentDef,p,u,[Ms]),Er(d,p,null)}finally{pe()}return new cl(this.componentType,f,ua(m,p),p,m)}}class cl extends class{}{constructor(t,e,n,i,r){super(),this.location=n,this._rootLView=i,this._tNode=r,this.instance=e,this.hostView=this.changeDetectorRef=new ka(i),this.componentType=t}get injector(){return new Ze(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const hl=new Map;class ul extends Ka{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new sl(this);const n=lt(t),i=t[Y]||null;i&&Qo(i),this._bootstrapComponents=Ci(n.bootstrap),this._r3Injector=_s(t,e,[{provide:Ka,useValue:this},{provide:ca,useValue:this.componentFactoryResolver}],h(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Cs.THROW_IF_NOT_FOUND,n=A.Default){return t===Cs||t===Ka||t===hs?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class dl extends Za{constructor(t){super(),this.moduleType=t,null!==lt(t)&&function(t){const e=new Set;!function t(n){const i=lt(n,!0),r=i.id;null!==r&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${h(e)} vs ${h(e.name)}`)}(r,hl.get(r),n),hl.set(r,n));const s=Ci(i.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new ul(this.moduleType,t)}}function pl(t,e,n){const i=Jt()+t,r=Vt();return r[i]===dr?Fs(r,i,n?e.call(n):e()):function(t,e){return t[e]}(r,i)}function fl(t,e,n,i){return gl(Vt(),Jt(),t,e,n,i)}function ml(t,e){const n=t[e];return n===dr?void 0:n}function gl(t,e,n,i,r,s){const o=e+n;return Us(t,o,r)?Fs(t,o+1,s?i.call(s,r):i(r)):ml(t,o+1)}function yl(t,e){const n=Bt();let i;const r=t+20;n.firstCreatePass?(i=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const i=e[n];if(t===i.name)return i}throw new g("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(r,i.onDestroy)):i=n.data[r];const s=i.factory||(i.factory=mt(i.type)),o=R(Xs);try{const t=Pe(!1),e=s();return Pe(t),function(t,e,n,i){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=i}(n,Vt(),r,e),e}finally{R(o)}}function _l(t,e,n){const i=t+20,r=Vt(),s=Rt(r,i);return Sl(r,vl(r,i)?gl(r,Jt(),e,s.transform,n,s):s.transform(n))}function bl(t,e,n,i){const r=t+20,s=Vt(),o=Rt(s,r);return Sl(s,vl(s,r)?function(t,e,n,i,r,s,o){const a=e+n;return Gs(t,a,r,s)?Fs(t,a+2,o?i.call(o,r,s):i(r,s)):ml(t,a+2)}(s,Jt(),e,o.transform,n,i,o):o.transform(n,i))}function vl(t,e){return t[1].data[e].pure}function Sl(t,e){return Ns.isWrapped(e)&&(e=Ns.unwrap(e),t[Qt()]=dr),e}function Tl(t){return e=>{setTimeout(t,void 0,e)}}const xl=class extends i.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var i,s,o;let a=t,l=e||(()=>null),c=n;if(t&&"object"==typeof t){const e=t;a=null===(i=e.next)||void 0===i?void 0:i.bind(e),l=null===(s=e.error)||void 0===s?void 0:s.bind(e),c=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}this.__isAsync&&(l=Tl(l),a&&(a=Tl(a)),c&&(c=Tl(c)));const h=super.subscribe({next:a,error:l,complete:c});return t instanceof r.a&&t.add(h),h}};function wl(){return this._results[Ds()]()}class El{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Ds(),n=El.prototype;n[e]||(n[e]=wl)}get changes(){return this._changes||(this._changes=new xl)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;const n=sn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],s=e[i];if(n&&(r=n(r),s=n(s)),s!==r)return!1}return!0}(this._results,n,e))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Cl{constructor(t){this.queryList=t,this.matches=null}clone(){return new Cl(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ml{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,i=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);i.push(this.queries[n.indexInDeclarationView].clone())}return new Ml(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Vl(t,e).matches&&this.queries[e].setDirty()}}class Ol{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class Al{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const i=null!==e?e.length:0,r=this.getByIndex(n).embeddedTView(t,i);r&&(r.indexInDeclarationView=n,null!==e?e.push(r):e=[r])}return null!==e?new Al(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Il{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Il(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let i=0;i<n.length;i++){const r=n[i];this.matchTNodeWithReadOption(t,e,Rl(e,r)),this.matchTNodeWithReadOption(t,e,qe(e,t,r,!1,!1))}else n===Xa?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,qe(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const i=this.metadata.read;if(null!==i)if(i===pa||i===Qa||i===Xa&&4&e.type)this.addMatch(e.index,-2);else{const n=qe(e,t,i,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Rl(t,e){const n=t.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1];return null}function Ll(t,e,n,i){return-1===n?function(t,e){return 11&t.type?ua(t,e):4&t.type?Ya(t,e):null}(e,t):-2===n?function(t,e,n){return n===pa?ua(e,t):n===Xa?Ya(e,t):n===Qa?il(e,t):void 0}(t,e,i):We(t,t[1],n,e)}function Pl(t,e,n,i){const r=e[19].queries[i];if(null===r.matches){const i=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const r=s[t];o.push(r<0?null:Ll(e,i[r],s[t+1],n.metadata.read))}r.matches=o}return r.matches}function Dl(t,e,n,i){const r=t.queries.getByIndex(n),s=r.matches;if(null!==s){const o=Pl(t,e,r,n);for(let t=0;t<s.length;t+=2){const n=s[t];if(n>0)i.push(o[t/2]);else{const r=s[t+1],o=e[-n];for(let t=10;t<o.length;t++){const e=o[t];e[17]===e[3]&&Dl(e[1],e,r,i)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];Dl(n[1],n,r,i)}}}}}return i}function Nl(t){const e=Vt(),n=Bt(),i=re();se(i+1);const r=Vl(n,i);if(t.dirty&&Dt(e)===(2==(2&r.metadata.flags))){if(null===r.matches)t.reset([]);else{const s=r.crossesNgTemplate?Dl(n,e,i,[]):Pl(n,e,r,i);t.reset(s,fa),t.notifyOnChanges()}return!0}return!1}function jl(t,e,n){const i=Bt();i.firstCreatePass&&(Gl(i,new Ol(t,e,n),-1),2==(2&e)&&(i.staticViewQueries=!0)),Ul(i,Vt(),e)}function kl(t,e,n,i){const r=Bt();if(r.firstCreatePass){const s=Ht();Gl(r,new Ol(e,n,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(r,t),2==(2&n)&&(r.staticContentQueries=!0)}Ul(r,Vt(),n)}function Fl(){return t=Vt(),e=re(),t[19].queries[e].queryList;var t,e}function Ul(t,e,n){const i=new El(4==(4&n));Dr(t,e,i,i.destroy),null===e[19]&&(e[19]=new Ml),e[19].queries.push(new Cl(i))}function Gl(t,e,n){null===t.queries&&(t.queries=new Al),t.queries.track(new Il(e,n))}function Vl(t,e){return t.queries.getByIndex(e)}function Bl(t,e){return Ya(t,e)}function zl(t=A.Default){const e=Ga(!0);if(null!=e||t&A.Optional)return e;b("ChangeDetectorRef")}const Hl=new en("Application Initializer");let Xl=(()=>{class t{constructor(t){this.appInits=t,this.resolve=ha,this.reject=ha,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();eo(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(bn(Hl,8))},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();const ql=new en("AppId"),Wl={provide:ql,useFactory:function(){return`${Yl()}${Yl()}${Yl()}`},deps:[]};function Yl(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Kl=new en("Platform Initializer"),Zl=new en("Platform ID"),Jl=new en("appBootstrapListener");let Ql=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();const $l=new en("LocaleId"),tc=new en("DefaultCurrencyCode");class ec{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const nc=function(t){return new dl(t)},ic=nc,rc=function(t){return Promise.resolve(nc(t))},sc=function(t){const e=nc(t),n=Ci(lt(t).declarations).reduce((t,e)=>{const n=at(e);return n&&t.push(new ll(n)),t},[]);return new ec(e,n)},oc=sc,ac=function(t){return Promise.resolve(sc(t))};let lc=(()=>{class t{constructor(){this.compileModuleSync=ic,this.compileModuleAsync=rc,this.compileModuleAndAllComponentsSync=oc,this.compileModuleAndAllComponentsAsync=ac}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();const cc=(()=>Promise.resolve(0))();function hc(t){"undefined"==typeof Zone?cc.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class uc{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xl(!1),this.onMicrotaskEmpty=new xl(!1),this.onStable=new xl(!1),this.onError=new xl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=!n&&e,this.shouldCoalesceRunChangeDetection=n,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=G.requestAnimationFrame,e=G.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(G,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,fc(t),pc(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),fc(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,s,o,a)=>{try{return mc(t),n.invokeTask(r,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),gc(t)}},onInvoke:(n,i,r,s,o,a,l)=>{try{return mc(t),n.invoke(r,s,o,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),gc(t)}},onHasTask:(e,n,i,r)=>{e.hasTask(i,r),n===i&&("microTask"==r.change?(t._hasPendingMicrotasks=r.microTask,fc(t),pc(t)):"macroTask"==r.change&&(t.hasPendingMacrotasks=r.macroTask))},onHandleError:(e,n,i,r)=>(e.handleError(i,r),t.runOutsideAngular(()=>t.onError.emit(r)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!uc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(uc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,i){const r=this._inner,s=r.scheduleEventTask("NgZoneEvent: "+i,t,dc,ha,ha);try{return r.runTask(s,e,n)}finally{r.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const dc={};function pc(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function fc(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function mc(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function gc(t){t._nesting--,pc(t)}class yc{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xl,this.onMicrotaskEmpty=new xl,this.onStable=new xl,this.onError=new xl}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,i){return t.apply(e,n)}}let _c=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{uc.assertNotInAngularZone(),hc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())hc(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let i=-1;e&&e>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==i),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(bn(uc))},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})(),bc=(()=>{class t{constructor(){this._applications=new Map,xc.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return xc.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();class vc{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Sc(t){xc=t}let Tc,xc=new vc,wc=!0,Ec=!1;function Cc(){if(Ec)throw new Error("Cannot enable prod mode after platform setup.");wc=!1}const Mc=new en("AllowMultipleToken");class Oc{constructor(t,e){this.name=t,this.token=e}}function Ac(t,e,n=[]){const i=`Platform: ${e}`,r=new en(i);return(e=[])=>{let s=Ic();if(!s||s.injector.get(Mc,!1))if(t)t(n.concat(e).concat({provide:r,useValue:!0}));else{const t=n.concat(e).concat({provide:r,useValue:!0},{provide:ds,useValue:"platform"});!function(t){if(Tc&&!Tc.destroyed&&!Tc.injector.get(Mc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Tc=t.get(Rc);const e=t.get(Kl,null);e&&e.forEach(t=>t())}(Cs.create({providers:t,name:i}))}return function(t){const e=Ic();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(r)}}function Ic(){return Tc&&!Tc.destroyed?Tc:null}let Rc=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new yc:("zone.js"===t?void 0:t)||new uc({enableLongStackTrace:(Ec=!0,wc),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),i=[{provide:uc,useValue:n}];return n.run(()=>{const e=Cs.create({providers:i,parent:this.injector,name:t.moduleType.name}),r=t.create(e),s=r.injector.get(vi,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{s.handleError(t)}});r.onDestroy(()=>{Dc(this._modules,r),t.unsubscribe()})}),function(t,e,n){try{const i=n();return eo(i)?i.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}(s,n,()=>{const t=r.injector.get(Xl);return t.runInitializers(),t.donePromise.then(()=>(Qo(r.injector.get($l,"en-US")||"en-US"),this._moduleDoBootstrap(r),r))})})}bootstrapModule(t,e=[]){const n=Lc({},e);return function(t,e,n){const i=new dl(n);return Promise.resolve(i)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Pc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${h(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(bn(Cs))},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();function Lc(t,e){return Array.isArray(e)?e.reduce(Lc,t):Object.assign(Object.assign({},t),e)}let Pc=(()=>{class t{constructor(t,e,n,i,r){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=i,this._initStatus=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),c=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{uc.assertNotInAngularZone(),hc(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{uc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(l,c.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof aa?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const i=n.isBoundToModule?void 0:this._injector.get(Ka),r=n.create(Cs.NULL,[],e||n.selector,i),s=r.location.nativeElement,o=r.injector.get(_c,null),a=o&&r.injector.get(bc);return o&&a&&a.registerApplication(s,o),r.onDestroy(()=>{this.detachView(r.hostView),Dc(this.components,r),a&&a.unregisterApplication(s)}),this._loadComponent(r),r}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Dc(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Jl,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(bn(uc),bn(Cs),bn(vi),bn(ca),bn(Xl))},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();function Dc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Nc{}class jc{}const kc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Fc=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||kc}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,i]=t.split("#");return void 0===i&&(i="default"),n("zn8P")(e).then(t=>t[i]).then(t=>Uc(t,e,i)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,i]=t.split("#"),r="NgFactory";return void 0===i&&(i="default",r=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[i+r]).then(t=>Uc(t,e,i))}}return t.\u0275fac=function(e){return new(e||t)(bn(lc),bn(jc,8))},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();function Uc(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Gc=function(t){return null},Vc=Ac(null,"core",[{provide:Zl,useValue:"unknown"},{provide:Rc,deps:[Cs]},{provide:bc,deps:[]},{provide:Ql,deps:[]}]),Bc=[{provide:Pc,useClass:Pc,deps:[uc,Cs,vi,ca,Xl]},{provide:al,deps:[uc],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Xl,useClass:Xl,deps:[[new wn,Hl]]},{provide:lc,useClass:lc,deps:[]},Wl,{provide:La,useFactory:function(){return Ba},deps:[]},{provide:Da,useFactory:function(){return za},deps:[]},{provide:$l,useFactory:function(t){return Qo(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new xn($l),new wn,new En]]},{provide:tc,useValue:"USD"}];let zc=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(bn(Pc))},t.\u0275mod=nt({type:t}),t.\u0275inj=S({providers:Bc}),t})()},"8pO4":function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return s}),n.d(e,"e",function(){return o}),n.d(e,"c",function(){return l}),n.d(e,"d",function(){return c});var i=n("LV+m");function r(t,e,n,r,s,o,a){const l=(n-e)/r;if(l<3){for(;e<n;e+=r)o[a++]=t[e],o[a++]=t[e+1];return a}const c=new Array(l);c[0]=1,c[l-1]=1;const h=[e,n-r];let u=0;for(;h.length>0;){const n=h.pop(),o=h.pop();let a=0;const l=t[o],d=t[o+1],p=t[n],f=t[n+1];for(let e=o+r;e<n;e+=r){const n=t[e],r=t[e+1],s=Object(i.h)(n,r,l,d,p,f);s>a&&(u=e,a=s)}a>s&&(c[(u-e)/r]=1,o+r<u&&h.push(o,u),u+r<n&&h.push(u,n))}for(let i=0;i<l;++i)c[i]&&(o[a++]=t[e+i*r],o[a++]=t[e+i*r+1]);return a}function s(t,e,n,i,s,o,a,l){for(let c=0,h=n.length;c<h;++c){const h=n[c];a=r(t,e,h,i,s,o,a),l.push(a),e=h}return a}function o(t,e){return e*Math.round(t/e)}function a(t,e,n,i,r,s,a){if(e==n)return a;let l,c,h=o(t[e],r),u=o(t[e+1],r);e+=i,s[a++]=h,s[a++]=u;do{if(l=o(t[e],r),c=o(t[e+1],r),(e+=i)==n)return s[a++]=l,s[a++]=c,a}while(l==h&&c==u);for(;e<n;){const n=o(t[e],r),d=o(t[e+1],r);if(e+=i,n==l&&d==c)continue;const p=l-h,f=c-u,m=n-h,g=d-u;p*g==f*m&&(p<0&&m<p||p==m||p>0&&m>p)&&(f<0&&g<f||f==g||f>0&&g>f)?(l=n,c=d):(s[a++]=l,s[a++]=c,h=l,u=c,l=n,c=d)}return s[a++]=l,s[a++]=c,a}function l(t,e,n,i,r,s,o,l){for(let c=0,h=n.length;c<h;++c){const h=n[c];o=a(t,e,h,i,r,s,o),l.push(o),e=h}return o}function c(t,e,n,i,r,s,o,a){for(let c=0,h=n.length;c<h;++c){const h=n[c],u=[];o=l(t,e,h,i,r,s,o,u),a.push(u),e=h[h.length-1]}return o}},"8yCo":function(t,e,n){"use strict";var i=n("De+T"),r=n("7MqJ"),s=n("hKKC"),o=n("i3ci"),a=n("BFJ5"),l=n("r0tu"),c=n("Znq9"),h=n("2I+J");e.a=class extends r.a{constructor(t){if(super({attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,imageSmoothing:t.imageSmoothing,projection:Object(c.i)("EPSG:3857"),reprojectionErrorThreshold:t.reprojectionErrorThreshold,state:i.a.LOADING,tileLoadFunction:t.tileLoadFunction,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition}),this.tileJSON_=null,this.tileSize_=t.tileSize,t.url)if(t.jsonp)!function(t,e,n,i){const r=document.createElement("script"),s="olc_"+Object(h.c)(e);function o(){delete window[s],r.parentNode.removeChild(r)}r.async=!0,r.src=t+(-1==t.indexOf("?")?"?":"&")+"callback="+s;const a=setTimeout(function(){o(),n&&n()},1e4);window[s]=function(t){clearTimeout(a),o(),e(t)},document.getElementsByTagName("head")[0].appendChild(r)}(t.url,this.handleTileJSONResponse.bind(this),this.handleTileJSONError.bind(this));else{const e=new XMLHttpRequest;e.addEventListener("load",this.onXHRLoad_.bind(this)),e.addEventListener("error",this.onXHRError_.bind(this)),e.open("GET",t.url),e.send()}else t.tileJSON?this.handleTileJSONResponse(t.tileJSON):Object(o.a)(!1,51)}onXHRLoad_(t){const e=t.target;if(!e.status||e.status>=200&&e.status<300){let t;try{t=JSON.parse(e.responseText)}catch(n){return void this.handleTileJSONError()}this.handleTileJSONResponse(t)}else this.handleTileJSONError()}onXHRError_(t){this.handleTileJSONError()}getTileJSON(){return this.tileJSON_}handleTileJSONResponse(t){const e=Object(c.i)("EPSG:4326"),n=this.getProjection();let r;if(void 0!==t.bounds){const i=Object(c.l)(e,n);r=Object(s.a)(t.bounds,i)}const o=t.minzoom||0,h=t.maxzoom||22,u=Object(l.b)({extent:Object(l.c)(n),maxZoom:h,minZoom:o,tileSize:this.tileSize_});if(this.tileGrid=u,this.tileUrlFunction=Object(a.a)(t.tiles,u),void 0!==t.attribution&&!this.getAttributions()){const n=void 0!==r?r:e.getExtent();this.setAttributions(function(e){return Object(s.G)(n,e.extent)?[t.attribution]:null})}this.tileJSON_=t,this.setState(i.a.READY)}handleTileJSONError(){this.setState(i.a.ERROR)}}},"90bG":function(t,e,n){"use strict";function i(t,e,n,i){let r=t[e],s=t[e+1],o=0;for(let a=e+i;a<n;a+=i){const e=t[a],n=t[a+1];o+=Math.sqrt((e-r)*(e-r)+(n-s)*(n-s)),r=e,s=n}return o}n.d(e,"a",function(){return i})},"9AA0":function(t,e,n){"use strict";var i=n("Gp2b"),r=n("AAsu"),s=n("42kC"),o=n("0Fwh"),a=n("2I+J"),l=n("i3ci"),c=n("Znq9"),h=n("UMcu"),u=n("r0tu"),d=n("dvVV");class p extends i.a{constructor(t,e){super(t),this.tile=e}}var f=class extends r.a{constructor(t){super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX}),this.opaque_=void 0!==t.opaque&&t.opaque,this.tilePixelRatio_=void 0!==t.tilePixelRatio?t.tilePixelRatio:1,this.tileGrid=void 0!==t.tileGrid?t.tileGrid:null;const e=t.tileGrid;e&&Object(d.d)(e.getTileSize(e.getMinZoom()),[256,256]),this.tileCache=new s.a(t.cacheSize||0),this.tmpSize=[0,0],this.key_=t.key||"",this.tileOptions={transition:t.transition},this.zDirection=t.zDirection?t.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(t,e){const n=this.getTileCacheForProjection(t);n&&n.expireCache(e)}forEachLoadedTile(t,e,n,i){const r=this.getTileCacheForProjection(t);if(!r)return!1;let s,a,l,c=!0;for(let u=n.minX;u<=n.maxX;++u)for(let t=n.minY;t<=n.maxY;++t)a=Object(h.d)(e,u,t),l=!1,r.containsKey(a)&&(s=r.get(a),l=s.getState()===o.a.LOADED,l&&(l=!1!==i(s))),l||(c=!1);return c}getGutterForProjection(t){return 0}getKey(){return this.key_}setKey(t){this.key_!==t&&(this.key_=t,this.changed())}getOpaque(t){return this.opaque_}getResolutions(){return this.tileGrid.getResolutions()}getTile(t,e,n,i,r){return Object(a.b)()}getTileGrid(){return this.tileGrid}getTileGridForProjection(t){return this.tileGrid?this.tileGrid:Object(u.d)(t)}getTileCacheForProjection(t){return Object(l.a)(Object(c.f)(this.getProjection(),t),68),this.tileCache}getTilePixelRatio(t){return this.tilePixelRatio_}getTilePixelSize(t,e,n){const i=this.getTileGridForProjection(n),r=this.getTilePixelRatio(e),s=Object(d.d)(i.getTileSize(t),this.tmpSize);return 1==r?s:Object(d.c)(s,r,this.tmpSize)}getTileCoordForTileUrlFunction(t,e){const n=void 0!==e?e:this.getProjection(),i=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(t=Object(u.e)(i,t,n)),Object(h.f)(t,i)?t:null}clear(){this.tileCache.clear()}refresh(){this.clear(),super.refresh()}updateCacheSize(t,e){const n=this.getTileCacheForProjection(e);t>n.highWaterMark&&(n.highWaterMark=t)}useTile(t,e,n,i){}},m=n("BFJ5");class g extends f{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===g.prototype.tileUrlFunction,this.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(this.tileUrlFunction=t.tileUrlFunction),this.urls=null,t.urls?this.setUrls(t.urls):t.url&&this.setUrl(t.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(t){const e=t.target,n=Object(a.c)(e),i=e.getState();let r;i==o.a.LOADING?(this.tileLoadingKeys_[n]=!0,r="tileloadstart"):n in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[n],r=i==o.a.ERROR?"tileloaderror":i==o.a.LOADED?"tileloadend":void 0),null!=r&&this.dispatchEvent(new p(r,e))}setTileLoadFunction(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()}setTileUrlFunction(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),void 0!==e?this.setKey(e):this.changed()}setUrl(t){const e=Object(m.c)(t);this.urls=e,this.setUrls(e)}setUrls(t){this.urls=t;const e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(Object(m.a)(t,this.tileGrid),e):this.setKey(e)}tileUrlFunction(t,e,n){}useTile(t,e,n){const i=Object(h.d)(t,e,n);this.tileCache.containsKey(i)&&this.tileCache.get(i)}}e.a=g},"9CgO":function(t,e,n){"use strict";e.a={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},AAsu:function(t,e,n){"use strict";var i=n("bwl8"),r=n("De+T"),s=n("2I+J"),o=n("Znq9");function a(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}e.a=class extends i.a{constructor(t){super(),this.projection_=Object(o.i)(t.projection),this.attributions_=a(t.attributions),this.attributionsCollapsible_=void 0===t.attributionsCollapsible||t.attributionsCollapsible,this.loading=!1,this.state_=void 0!==t.state?t.state:r.a.READY,this.wrapX_=void 0!==t.wrapX&&t.wrapX}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection_}getResolutions(){return Object(s.b)()}getState(){return this.state_}getWrapX(){return this.wrapX_}getContextOptions(){}refresh(){this.changed()}setAttributions(t){this.attributions_=a(t),this.changed()}setState(t){this.state_=t,this.changed()}}},AaG5:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a});var i=n("XI78");const r=new class{handleAttributeExpressions(t,e,n,r){const s=e[0];return"."===s?new i.e(t,e.slice(1),n).parts:"@"===s?[new i.c(t,e.slice(1),r.eventContext)]:"?"===s?[new i.b(t,e.slice(1),n)]:new i.a(t,e,n).parts}handleTextExpression(t){return new i.d(t)}};var s=n("GMCd");n("eByC"),n("tFPJ"),n("1VLE"),n("wmha"),n("PqmH"),n("6unr"),n("4yuk"),"undefined"!=typeof window&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.4.1");const o=(t,...e)=>new s.b(t,e,"html",r),a=(t,...e)=>new s.a(t,e,"svg",r)},AjuZ:function(t,e,n){"use strict";n.d(e,"b",function(){return c});var i=n("tvip"),r=n("wRPv"),s=n("2I+J"),o=n("hKKC"),a=n("k/Gk");function l(t){let e;return t==r.a.XY?e=2:t==r.a.XYZ||t==r.a.XYM?e=3:t==r.a.XYZM&&(e=4),e}function c(t,e,n){const i=t.getFlatCoordinates();if(i){const r=t.getStride();return Object(a.c)(i,0,i.length,r,e,n)}return null}e.a=class extends i.a{constructor(){super(),this.layout=r.a.XY,this.stride=2,this.flatCoordinates=null}computeExtent(t){return Object(o.p)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinates(){return Object(s.b)()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const e=this.getSimplifiedGeometryInternal(t);return e.getFlatCoordinates().length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)}getSimplifiedGeometryInternal(t){return this}getStride(){return this.stride}setFlatCoordinates(t,e){this.stride=l(t),this.layout=t,this.flatCoordinates=e}setCoordinates(t,e){Object(s.b)()}setLayout(t,e,n){let i;if(t)i=l(t);else{for(let t=0;t<n;++t){if(0===e.length)return this.layout=r.a.XY,void(this.stride=2);e=e[0]}i=e.length,t=function(t){let e;return 2==t?e=r.a.XY:3==t?e=r.a.XYZ:4==t&&(e=r.a.XYZM),e}(i)}this.layout=t,this.stride=i}applyTransform(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(t,e){const n=this.getFlatCoordinates();if(n){const i=this.getStride();Object(a.a)(n,0,n.length,i,t,e,n),this.changed()}}scale(t,e,n){let i=e;void 0===i&&(i=t);let r=n;r||(r=Object(o.y)(this.getExtent()));const s=this.getFlatCoordinates();if(s){const e=this.getStride();Object(a.b)(s,0,s.length,e,t,i,r,s),this.changed()}}translate(t,e){const n=this.getFlatCoordinates();if(n){const i=this.getStride();Object(a.d)(n,0,n.length,i,t,e,n),this.changed()}}}},B9Yq:function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},BFJ5:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return l}),n.d(e,"c",function(){return c});var i=n("i3ci"),r=n("LV+m"),s=n("UMcu");function o(t,e){const n=/\{z\}/g,r=/\{x\}/g,s=/\{y\}/g,o=/\{-y\}/g;return function(a,l,c){return a?t.replace(n,a[0].toString()).replace(r,a[1].toString()).replace(s,a[2].toString()).replace(o,function(){const t=e.getFullTileRange(a[0]);return Object(i.a)(t,55),(t.getHeight()-a[2]-1).toString()}):void 0}}function a(t,e){const n=t.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=o(t[r],e);return l(i)}function l(t){return 1===t.length?t[0]:function(e,n,i){if(e){const o=Object(s.e)(e),a=Object(r.e)(o,t.length);return t[a](e,n,i)}}}function c(t){const e=[];let n=/\{([a-z])-([a-z])\}/.exec(t);if(n){const i=n[1].charCodeAt(0),r=n[2].charCodeAt(0);let s;for(s=i;s<=r;++s)e.push(t.replace(n[0],String.fromCharCode(s)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(t),n){const i=parseInt(n[2],10);for(let r=parseInt(n[1],10);r<=i;r++)e.push(t.replace(n[0],r.toString()));return e}return e.push(t),e}},BbPW:function(t,e,n){"use strict";e.a=class{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}},Bpkx:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r}),n.d(e,"c",function(){return s}),n.d(e,"d",function(){return o});const i="function"==typeof Object.assign?Object.assign:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");const n=Object(t);for(let i=1,r=arguments.length;i<r;++i){const t=arguments[i];if(null!=t)for(const e in t)t.hasOwnProperty(e)&&(n[e]=t[e])}return n};function r(t){for(const e in t)delete t[e]}const s="function"==typeof Object.values?Object.values:function(t){const e=[];for(const n in t)e.push(t[n]);return e};function o(t){let e;for(e in t)return!1;return!e}},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n("HDdC"),r=n("SeVD"),s=n("quSY"),o=n("kJWO"),a=n("jZKg"),l=n("Lhse"),c=n("c2HN"),h=n("I55L");function u(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new i.a(n=>{const i=new s.a;return i.add(e.schedule(()=>{const r=t[o.a]();i.add(r.subscribe({next(t){i.add(e.schedule(()=>n.next(t)))},error(t){i.add(e.schedule(()=>n.error(t)))},complete(){i.add(e.schedule(()=>n.complete()))}}))})),i})}(t,e);if(Object(c.a)(t))return function(t,e){return new i.a(n=>{const i=new s.a;return i.add(e.schedule(()=>t.then(t=>{i.add(e.schedule(()=>{n.next(t),i.add(e.schedule(()=>n.complete()))}))},t=>{i.add(e.schedule(()=>n.error(t)))}))),i})}(t,e);if(Object(h.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[l.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new i.a(n=>{const i=new s.a;let r;return i.add(()=>{r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(()=>{r=t[l.a](),i.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=r.next();t=n.value,e=n.done}catch(i){return void n.error(i)}e?n.complete():(n.next(t),this.schedule())}))})),i})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof i.a?t:new i.a(Object(r.a)(t))}},Cw4B:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"c",function(){return s}),n.d(e,"b",function(){return o}),n.d(e,"g",function(){return a}),n.d(e,"e",function(){return l}),n.d(e,"d",function(){return c}),n.d(e,"f",function(){return h});var i=n("FRHD");function r(t,e,n){const r=n&&n.length?n.shift():i.g?new OffscreenCanvas(t||300,e||300):document.createElement("canvas");return t&&(r.width=t),e&&(r.height=e),r.getContext("2d")}function s(t){let e=t.offsetWidth;const n=getComputedStyle(t);return e+=parseInt(n.marginLeft,10)+parseInt(n.marginRight,10),e}function o(t){let e=t.offsetHeight;const n=getComputedStyle(t);return e+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10),e}function a(t,e){const n=e.parentNode;n&&n.replaceChild(t,e)}function l(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function c(t){for(;t.lastChild;)t.removeChild(t.lastChild)}function h(t,e){const n=t.childNodes;for(let i=0;;++i){const r=n[i],s=e[i];if(!r&&!s)break;r!==s&&(r?s?t.insertBefore(s,r):(t.removeChild(r),--i):t.appendChild(s))}}},CxY0:function(t,e,n){"use strict";var i=n("rWzI"),r=n("Nehr");function s(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=b,e.resolve=function(t,e){return b(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?b(t,!1,!0).resolveObject(e):e},e.format=function(t){return r.isString(t)&&(t=b(t)),t instanceof s?t.format():s.prototype.format.call(t)},e.Url=s;var o=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),h=["'"].concat(c),u=["%","/","?",";","#"].concat(h),d=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},_=n("r8II");function b(t,e,n){if(t&&r.isObject(t)&&t instanceof s)return t;var i=new s;return i.parse(t,e,n),i}s.prototype.parse=function(t,e,n){if(!r.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var s=t.indexOf("?"),a=-1!==s&&s<t.indexOf("#")?"?":"#",c=t.split(a);c[0]=c[0].replace(/\\/g,"/");var b=t=c.join(a);if(b=b.trim(),!n&&1===t.split("#").length){var v=l.exec(b);if(v)return this.path=b,this.href=b,this.pathname=v[1],v[2]?(this.search=v[2],this.query=e?_.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var S=o.exec(b);if(S){var T=(S=S[0]).toLowerCase();this.protocol=T,b=b.substr(S.length)}if(n||S||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var x="//"===b.substr(0,2);!x||S&&g[S]||(b=b.substr(2),this.slashes=!0)}if(!g[S]&&(x||S&&!y[S])){for(var w,E,C=-1,M=0;M<d.length;M++)-1!==(O=b.indexOf(d[M]))&&(-1===C||O<C)&&(C=O);for(-1!==(E=-1===C?b.lastIndexOf("@"):b.lastIndexOf("@",C))&&(w=b.slice(0,E),b=b.slice(E+1),this.auth=decodeURIComponent(w)),C=-1,M=0;M<u.length;M++){var O;-1!==(O=b.indexOf(u[M]))&&(-1===C||O<C)&&(C=O)}-1===C&&(C=b.length),this.host=b.slice(0,C),b=b.slice(C),this.parseHost(),this.hostname=this.hostname||"";var A="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!A)for(var I=this.hostname.split(/\./),R=(M=0,I.length);M<R;M++){var L=I[M];if(L&&!L.match(p)){for(var P="",D=0,N=L.length;D<N;D++)L.charCodeAt(D)>127?P+="x":P+=L[D];if(!P.match(p)){var j=I.slice(0,M),k=I.slice(M+1),F=L.match(f);F&&(j.push(F[1]),k.unshift(F[2])),k.length&&(b="/"+k.join(".")+b),this.hostname=j.join(".");break}}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),A||(this.hostname=i.toASCII(this.hostname)),this.host=(this.hostname||"")+(this.port?":"+this.port:""),this.href+=this.host,A&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!m[T])for(M=0,R=h.length;M<R;M++){var U=h[M];if(-1!==b.indexOf(U)){var G=encodeURIComponent(U);G===U&&(G=escape(U)),b=b.split(U).join(G)}}var V=b.indexOf("#");-1!==V&&(this.hash=b.substr(V),b=b.slice(0,V));var B=b.indexOf("?");return-1!==B?(this.search=b.substr(B),this.query=b.substr(B+1),e&&(this.query=_.parse(this.query)),b=b.slice(0,B)):e&&(this.search="",this.query={}),b&&(this.pathname=b),y[T]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(this.pathname||"")+(this.search||"")),this.href=this.format(),this},s.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",i=this.hash||"",s=!1,o="";this.host?s=t+this.host:this.hostname&&(s=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(s+=":"+this.port)),this.query&&r.isObject(this.query)&&Object.keys(this.query).length&&(o=_.stringify(this.query));var a=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||y[e])&&!1!==s?(s="//"+(s||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):s||(s=""),i&&"#"!==i.charAt(0)&&(i="#"+i),a&&"?"!==a.charAt(0)&&(a="?"+a),e+s+(n=n.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(a=a.replace("#","%23"))+i},s.prototype.resolve=function(t){return this.resolveObject(b(t,!1,!0)).format()},s.prototype.resolveObject=function(t){if(r.isString(t)){var e=new s;e.parse(t,!1,!0),t=e}for(var n=new s,i=Object.keys(this),o=0;o<i.length;o++){var a=i[o];n[a]=this[a]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var l=Object.keys(t),c=0;c<l.length;c++){var h=l[c];"protocol"!==h&&(n[h]=t[h])}return y[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!y[t.protocol]){for(var u=Object.keys(t),d=0;d<u.length;d++){var p=u[d];n[p]=t[p]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||g[t.protocol])n.pathname=t.pathname;else{for(var f=(t.pathname||"").split("/");f.length&&!(t.host=f.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),n.pathname=f.join("/")}return n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,(n.pathname||n.search)&&(n.path=(n.pathname||"")+(n.search||"")),n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var m=n.pathname&&"/"===n.pathname.charAt(0),_=t.host||t.pathname&&"/"===t.pathname.charAt(0),b=_||m||n.host&&t.pathname,v=b,S=n.pathname&&n.pathname.split("/")||[],T=(f=t.pathname&&t.pathname.split("/")||[],n.protocol&&!y[n.protocol]);if(T&&(n.hostname="",n.port=null,n.host&&(""===S[0]?S[0]=n.host:S.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===f[0]?f[0]=t.host:f.unshift(t.host)),t.host=null),b=b&&(""===f[0]||""===S[0])),_)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,S=f;else if(f.length)S||(S=[]),S.pop(),S=S.concat(f),n.search=t.search,n.query=t.query;else if(!r.isNullOrUndefined(t.search))return T&&(n.hostname=n.host=S.shift(),(M=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=M.shift(),n.host=n.hostname=M.shift())),n.search=t.search,n.query=t.query,r.isNull(n.pathname)&&r.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!S.length)return n.pathname=null,n.path=n.search?"/"+n.search:null,n.href=n.format(),n;for(var x=S.slice(-1)[0],w=(n.host||t.host||S.length>1)&&("."===x||".."===x)||""===x,E=0,C=S.length;C>=0;C--)"."===(x=S[C])?S.splice(C,1):".."===x?(S.splice(C,1),E++):E&&(S.splice(C,1),E--);if(!b&&!v)for(;E--;E)S.unshift("..");!b||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),w&&"/"!==S.join("/").substr(-1)&&S.push("");var M,O=""===S[0]||S[0]&&"/"===S[0].charAt(0);return T&&(n.hostname=n.host=O?"":S.length?S.shift():"",(M=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=M.shift(),n.host=n.hostname=M.shift())),(b=b||n.host&&S.length)&&!O&&S.unshift(""),S.length?n.pathname=S.join("/"):(n.pathname=null,n.path=null),r.isNull(n.pathname)&&r.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},s.prototype.parseHost=function(){var t=this.host,e=a.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},D0XW:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("3N8a");const r=new(n("IjjT").a)(i.a)},D1oO:function(t,e,n){"use strict";var i=n("Gp2b");e.a=class extends i.a{constructor(t,e,n,i){super(t),this.inversePixelTransform=e,this.frameState=n,this.context=i}}},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},DPnj:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return l}),n.d(e,"d",function(){return c});var i=n("hKKC"),r=n("kacL"),s=n("Y5Xb");function o(t,e,n,s,o){const a=Object(i.t)(Object(i.k)(),t,e,n,s);return!!Object(i.G)(o,a)&&(!!Object(i.h)(o,a)||a[0]>=o[0]&&a[2]<=o[2]||a[1]>=o[1]&&a[3]<=o[3]||Object(r.a)(t,e,n,s,function(t,e){return Object(i.H)(o,t,e)}))}function a(t,e,n,i,r){for(let s=0,a=n.length;s<a;++s){if(o(t,e,n[s],i,r))return!0;e=n[s]}return!1}function l(t,e,n,i,r){if(!function(t,e,n,i,r){return!!(o(t,e,n,i,r)||Object(s.b)(t,e,n,i,r[0],r[1])||Object(s.b)(t,e,n,i,r[0],r[3])||Object(s.b)(t,e,n,i,r[2],r[1])||Object(s.b)(t,e,n,i,r[2],r[3]))}(t,e,n[0],i,r))return!1;if(1===n.length)return!0;for(let a=1,l=n.length;a<l;++a)if(Object(s.a)(t,n[a-1],n[a],i,r)&&!o(t,n[a-1],n[a],i,r))return!1;return!0}function c(t,e,n,i,r){for(let s=0,o=n.length;s<o;++s){const o=n[s];if(l(t,e,o,i,r))return!0;e=o[o.length-1]}return!1}},"De+T":function(t,e,n){"use strict";e.a={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"}},Dm0N:function(t,e,n){"use strict";var i=n("rCez"),r=n("ljNT"),s=n("Gp2b"),o=n("9CgO"),a=n("pzRH"),l=n("JaUx"),c=n.n(l),h=n("hKKC"),u=n("2I+J"),d=n("Bpkx"),p=class{constructor(t){this.rbush_=new c.a(t),this.items_={}}insert(t,e){const n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(n),this.items_[Object(u.c)(e)]=n}load(t,e){const n=new Array(e.length);for(let i=0,r=e.length;i<r;i++){const r=t[i],s=e[i],o={minX:r[0],minY:r[1],maxX:r[2],maxY:r[3],value:s};n[i]=o,this.items_[Object(u.c)(s)]=o}this.rbush_.load(n)}remove(t){const e=Object(u.c)(t),n=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(n)}update(t,e){const n=this.items_[Object(u.c)(e)],i=[n.minX,n.minY,n.maxX,n.maxY];Object(h.q)(i,t)||(this.remove(e),this.insert(t,e))}getAll(){return this.rbush_.all().map(function(t){return t.value})}getInExtent(t){return this.rbush_.search({minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]}).map(function(t){return t.value})}forEach(t){return this.forEach_(this.getAll(),t)}forEachInExtent(t,e){return this.forEach_(this.getInExtent(t),e)}forEach_(t,e){let n;for(let i=0,r=t.length;i<r;i++)if(n=e(t[i]),n)return n;return n}isEmpty(){return Object(d.d)(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(t){const e=this.rbush_.toJSON();return Object(h.l)(e.minX,e.minY,e.maxX,e.maxY,t)}concat(t){this.rbush_.load(t.rbush_.all());for(const e in t.items_)this.items_[e]=t.items_[e]}},f=n("AAsu"),m=n("De+T"),g=n("mTm8"),y=n("6Xq6"),_=n("1X1q"),b=n("i3ci"),v=n("oWEL"),S=n("FHfp"),T=n("k51M");class x extends s.a{constructor(t,e,n){super(t),this.feature=e,this.features=n}}e.a=class extends f.a{constructor(t){const e=t||{};super({attributions:e.attributions,projection:void 0,state:m.a.READY,wrapX:void 0===e.wrapX||e.wrapX}),this.loader_=y.c,this.format_=e.format,this.overlaps_=void 0===e.overlaps||e.overlaps,this.url_=e.url,void 0!==e.loader?this.loader_=e.loader:void 0!==this.url_&&(Object(b.a)(this.format_,7),this.loader_=Object(T.b)(this.url_,this.format_)),this.strategy_=void 0!==e.strategy?e.strategy:_.a;const n=void 0===e.useSpatialIndex||e.useSpatialIndex;let r,s;this.featuresRtree_=n?new p:null,this.loadedExtentsRtree_=new p,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null,Array.isArray(e.features)?s=e.features:e.features&&(r=e.features,s=r.getArray()),n||void 0!==r||(r=new i.a(s)),void 0!==s&&this.addFeaturesInternal(s),void 0!==r&&this.bindFeaturesCollection_(r)}addFeature(t){this.addFeatureInternal(t),this.changed()}addFeatureInternal(t){const e=Object(u.c)(t);if(!this.addToIndex_(e,t))return void(this.featuresCollection_&&this.featuresCollection_.remove(t));this.setupChangeEvents_(e,t);const n=t.getGeometry();if(n){const e=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(e,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new x(g.a.ADDFEATURE,t))}setupChangeEvents_(t,e){this.featureChangeKeys_[t]=[Object(S.a)(e,o.a.CHANGE,this.handleFeatureChange_,this),Object(S.a)(e,a.a.PROPERTYCHANGE,this.handleFeatureChange_,this)]}addToIndex_(t,e){let n=!0;const i=e.getId();return void 0!==i&&(i.toString()in this.idIndex_?n=!1:this.idIndex_[i.toString()]=e),n&&(Object(b.a)(!(t in this.uidIndex_),30),this.uidIndex_[t]=e),n}addFeatures(t){this.addFeaturesInternal(t),this.changed()}addFeaturesInternal(t){const e=[],n=[],i=[];for(let r=0,s=t.length;r<s;r++){const e=t[r],i=Object(u.c)(e);this.addToIndex_(i,e)&&n.push(e)}for(let r=0,s=n.length;r<s;r++){const t=n[r],s=Object(u.c)(t);this.setupChangeEvents_(s,t);const o=t.getGeometry();if(o){const n=o.getExtent();e.push(n),i.push(t)}else this.nullGeometryFeatures_[s]=t}this.featuresRtree_&&this.featuresRtree_.load(e,i);for(let r=0,s=n.length;r<s;r++)this.dispatchEvent(new x(g.a.ADDFEATURE,n[r]))}bindFeaturesCollection_(t){let e=!1;this.addEventListener(g.a.ADDFEATURE,function(n){e||(e=!0,t.push(n.feature),e=!1)}),this.addEventListener(g.a.REMOVEFEATURE,function(n){e||(e=!0,t.remove(n.feature),e=!1)}),t.addEventListener(r.a.ADD,(function(t){e||(e=!0,this.addFeature(t.element),e=!1)}).bind(this)),t.addEventListener(r.a.REMOVE,(function(t){e||(e=!0,this.removeFeature(t.element),e=!1)}).bind(this)),this.featuresCollection_=t}clear(t){if(t){for(const t in this.featureChangeKeys_)this.featureChangeKeys_[t].forEach(S.c);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(this.removeFeatureInternal.bind(this));for(const t in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[t])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const e=new x(g.a.CLEAR);this.dispatchEvent(e),this.changed()}forEachFeature(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureAtCoordinateDirect(t,e){return this.forEachFeatureInExtent([t[0],t[1],t[0],t[1]],function(n){return n.getGeometry().intersectsCoordinate(t)?e(n):void 0})}forEachFeatureInExtent(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureIntersectingExtent(t,e){return this.forEachFeatureInExtent(t,function(n){if(n.getGeometry().intersectsExtent(t)){const t=e(n);if(t)return t}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let t;return this.featuresCollection_?t=this.featuresCollection_.getArray():this.featuresRtree_&&(t=this.featuresRtree_.getAll(),Object(d.d)(this.nullGeometryFeatures_)||Object(v.c)(t,Object(d.c)(this.nullGeometryFeatures_))),t}getFeaturesAtCoordinate(t){const e=[];return this.forEachFeatureAtCoordinateDirect(t,function(t){e.push(t)}),e}getFeaturesInExtent(t){return this.featuresRtree_?this.featuresRtree_.getInExtent(t):this.featuresCollection_?this.featuresCollection_.getArray():[]}getClosestFeatureToCoordinate(t,e){const n=t[0],i=t[1];let r=null;const s=[NaN,NaN];let o=1/0;const a=[-1/0,-1/0,1/0,1/0],l=e||y.b;return this.featuresRtree_.forEachInExtent(a,function(t){if(l(t)){const e=t.getGeometry(),l=o;if(o=e.closestPointXY(n,i,s,o),o<l){r=t;const e=Math.sqrt(o);a[0]=n-e,a[1]=i-e,a[2]=n+e,a[3]=i+e}}}),r}getExtent(t){return this.featuresRtree_.getExtent(t)}getFeatureById(t){const e=this.idIndex_[t.toString()];return void 0!==e?e:null}getFeatureByUid(t){const e=this.uidIndex_[t];return void 0!==e?e:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(t){const e=t.target,n=Object(u.c)(e),i=e.getGeometry();if(i){const t=i.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(t,e)):this.featuresRtree_&&this.featuresRtree_.update(t,e)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[n]=e);const r=e.getId();if(void 0!==r){const t=r.toString();this.idIndex_[t]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[t]=e)}else this.removeFromIdIndex_(e),this.uidIndex_[n]=e;this.changed(),this.dispatchEvent(new x(g.a.CHANGEFEATURE,e))}hasFeature(t){const e=t.getId();return void 0!==e?e in this.idIndex_:Object(u.c)(t)in this.uidIndex_}isEmpty(){return this.featuresRtree_.isEmpty()&&Object(d.d)(this.nullGeometryFeatures_)}loadFeatures(t,e,n){const i=this.loadedExtentsRtree_,r=this.strategy_(t,e);this.loading=!1;for(let s=0,o=r.length;s<o;++s){const t=r[s];i.forEachInExtent(t,function(e){return Object(h.h)(e.extent,t)})||(this.dispatchEvent(new x(g.a.FEATURESLOADSTART)),this.loader_.call(this,t,e,n,(function(t){this.dispatchEvent(new x(g.a.FEATURESLOADEND,void 0,t))}).bind(this),(function(){this.dispatchEvent(new x(g.a.FEATURESLOADERROR))}).bind(this)),i.insert(t,{extent:t.slice()}),this.loading=this.loader_!==y.c)}}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(t){const e=this.loadedExtentsRtree_;let n;e.forEachInExtent(t,function(e){if(Object(h.q)(e.extent,t))return n=e,!0}),n&&e.remove(n)}removeFeature(t){const e=Object(u.c)(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t),this.changed()}removeFeatureInternal(t){const e=Object(u.c)(t);this.featureChangeKeys_[e].forEach(S.c),delete this.featureChangeKeys_[e];const n=t.getId();void 0!==n&&delete this.idIndex_[n.toString()],delete this.uidIndex_[e],this.dispatchEvent(new x(g.a.REMOVEFEATURE,t))}removeFromIdIndex_(t){let e=!1;for(const n in this.idIndex_)if(this.idIndex_[n]===t){delete this.idIndex_[n],e=!0;break}return e}setLoader(t){this.loader_=t}setUrl(t){Object(b.a)(this.format_,7),this.setLoader(Object(T.b)(t,this.format_))}}},DsyP:function(t,e,n){"use strict";var i=n("QSZX"),r=n("rCez"),s=n("ljNT"),o=n("9CgO"),a=n("pzRH"),l=n("De+T"),c=n("i3ci"),h=n("Bpkx"),u=n("bwl8"),d=n("hKKC"),p=n("2I+J"),f=n("FHfp");e.a=class extends i.a{constructor(t){const e=t||{},n=Object(h.a)({},e);delete n.layers;let i=e.layers;super(n),this.layersListenerKeys_=[],this.listenerKeys_={},this.addEventListener(Object(u.b)("layers"),this.handleLayersChanged_),i?Array.isArray(i)?i=new r.a(i.slice(),{unique:!0}):Object(c.a)("function"==typeof i.getArray,43):i=new r.a(void 0,{unique:!0}),this.setLayers(i)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(f.c),this.layersListenerKeys_.length=0;const t=this.getLayers();this.layersListenerKeys_.push(Object(f.a)(t,s.a.ADD,this.handleLayersAdd_,this),Object(f.a)(t,s.a.REMOVE,this.handleLayersRemove_,this));for(const n in this.listenerKeys_)this.listenerKeys_[n].forEach(f.c);Object(h.b)(this.listenerKeys_);const e=t.getArray();for(let n=0,i=e.length;n<i;n++){const t=e[n];this.listenerKeys_[Object(p.c)(t)]=[Object(f.a)(t,a.a.PROPERTYCHANGE,this.handleLayerChange_,this),Object(f.a)(t,o.a.CHANGE,this.handleLayerChange_,this)]}this.changed()}handleLayersAdd_(t){const e=t.element;this.listenerKeys_[Object(p.c)(e)]=[Object(f.a)(e,a.a.PROPERTYCHANGE,this.handleLayerChange_,this),Object(f.a)(e,o.a.CHANGE,this.handleLayerChange_,this)],this.changed()}handleLayersRemove_(t){const e=t.element,n=Object(p.c)(e);this.listenerKeys_[n].forEach(f.c),delete this.listenerKeys_[n],this.changed()}getLayers(){return this.get("layers")}setLayers(t){this.set("layers",t)}getLayersArray(t){const e=void 0!==t?t:[];return this.getLayers().forEach(function(t){t.getLayersArray(e)}),e}getLayerStatesArray(t){const e=void 0!==t?t:[],n=e.length;this.getLayers().forEach(function(t){t.getLayerStatesArray(e)});const i=this.getLayerState();for(let r=n,s=e.length;r<s;r++){const t=e[r];t.opacity*=i.opacity,t.visible=t.visible&&i.visible,t.maxResolution=Math.min(t.maxResolution,i.maxResolution),t.minResolution=Math.max(t.minResolution,i.minResolution),t.minZoom=Math.max(t.minZoom,i.minZoom),t.maxZoom=Math.min(t.maxZoom,i.maxZoom),void 0!==i.extent&&(t.extent=void 0!==t.extent?Object(d.C)(t.extent,i.extent):i.extent)}return e}getSourceState(){return l.a.READY}}},DwgT:function(t,e,n){"use strict";var i=n("U1NS"),r=n("ZBAF"),s=n("Bpkx");e.a=class extends i.a{constructor(t){const e=t||{},n=Object(s.a)({},e);delete n.preload,delete n.useInterimTilesOnError,super(n),this.setPreload(void 0!==e.preload?e.preload:0),this.setUseInterimTilesOnError(void 0===e.useInterimTilesOnError||e.useInterimTilesOnError)}getPreload(){return this.get(r.a.PRELOAD)}setPreload(t){this.set(r.a.PRELOAD,t)}getUseInterimTilesOnError(){return this.get(r.a.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(t){this.set(r.a.USE_INTERIM_TILES_ON_ERROR,t)}}},E9sE:function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return s}),n.d(e,"c",function(){return o}),n("Bpkx");let i={};function r(){i={}}function s(t,e,n){const r=t.getCode(),s=e.getCode();r in i||(i[r]={}),i[r][s]=n}function o(t,e){let n;return t in i&&e in i[t]&&(n=i[t][e]),n}},EQ5u:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return l});var i=n("XNiG"),r=n("HDdC"),s=(n("7o/Q"),n("quSY")),o=n("x+ZX");class a extends r.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new s.a,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.a.EMPTY)),t}refCount(){return Object(o.a)()(this)}}const l=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends i.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return s});var i=n("HDdC");const r=new i.a(t=>t.complete());function s(t){return t?function(t){return new i.a(e=>t.schedule(()=>e.complete()))}(t):r}},FHfp:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return s}),n.d(e,"c",function(){return o});var i=n("Bpkx");function r(t,e,n,i,r){if(i&&i!==t&&(n=n.bind(i)),r){const i=n;n=function(){t.removeEventListener(e,n),i.apply(this,arguments)}}const s={target:t,type:e,listener:n};return t.addEventListener(e,n),s}function s(t,e,n,i){return r(t,e,n,i,!0)}function o(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),Object(i.b)(t))}},FQWF:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("uJJw");function r(t,e,n){return e+":"+t+":"+(n?Object(i.b)(n):"null")}const s=new class{constructor(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let t=0;for(const e in this.cache_){const n=this.cache_[e];0!=(3&t++)||n.hasListener()||(delete this.cache_[e],--this.cacheSize_)}}}get(t,e,n){const i=r(t,e,n);return i in this.cache_?this.cache_[i]:null}set(t,e,n,i){const s=r(t,e,n);this.cache_[s]=i,++this.cacheSize_}setSize(t){this.maxCacheSize_=t,this.expire()}}},FRHD:function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"f",function(){return s}),n.d(e,"d",function(){return o}),n.d(e,"a",function(){return a}),n.d(e,"g",function(){return l}),n.d(e,"c",function(){return c}),n.d(e,"e",function(){return h});const i="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"",r=-1!==i.indexOf("firefox"),s=(-1!==i.indexOf("safari")&&i.indexOf("chrom"),-1!==i.indexOf("webkit")&&-1==i.indexOf("edge")),o=-1!==i.indexOf("macintosh"),a="undefined"!=typeof devicePixelRatio?devicePixelRatio:1,l="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,c="undefined"!=typeof Image&&Image.prototype.decode,h=function(){let t=!1;try{const e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch(e){}return t}()},Fnjr:function(t,e,n){"use strict";var i=n("mgod"),r=n("1rej"),s=n("i3ci"),o=n("LV+m"),a=n("hKKC"),l=n("UMcu"),c=n("oWEL"),h=n("dvVV");const u=[0,0,0];e.a=class{constructor(t){let e;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,Object(s.a)(Object(c.g)(this.resolutions_,function(t,e){return e-t},!0),17),!t.origins)for(let i=0,r=this.resolutions_.length-1;i<r;++i)if(e){if(this.resolutions_[i]/this.resolutions_[i+1]!==e){e=void 0;break}}else e=this.resolutions_[i]/this.resolutions_[i+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,Object(s.a)(this.origins_.length==this.resolutions_.length,20));const n=t.extent;void 0===n||this.origin_||this.origins_||(this.origin_=Object(a.D)(n)),Object(s.a)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,Object(s.a)(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:r.b,Object(s.a)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==n?n:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map(function(t,e){const r=new i.b(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1));if(n){const t=this.getTileRangeForExtentAndZ(n,e);r.minX=Math.max(t.minX,r.minX),r.maxX=Math.min(t.maxX,r.maxX),r.minY=Math.max(t.minY,r.minY),r.maxY=Math.min(t.maxY,r.maxY)}return r},this):n&&this.calculateTileRanges_(n)}forEachTileCoord(t,e,n){const i=this.getTileRangeForExtentAndZ(t,e);for(let r=i.minX,s=i.maxX;r<=s;++r)for(let t=i.minY,o=i.maxY;t<=o;++t)n([e,r,t])}forEachTileCoordParentTileRange(t,e,n,r){let s,o,a,l=null,c=t[0]-1;for(2===this.zoomFactor_?(o=t[1],a=t[2]):l=this.getTileCoordExtent(t,r);c>=this.minZoom;){if(2===this.zoomFactor_?(o=Math.floor(o/2),a=Math.floor(a/2),s=Object(i.a)(o,o,a,a,n)):s=this.getTileRangeForExtentAndZ(l,c,n),e(c,s))return!0;--c}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(t){return this.origin_?this.origin_:this.origins_[t]}getResolution(t){return this.resolutions_[t]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(t,e,n){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){const n=2*t[1],r=2*t[2];return Object(i.a)(n,n+1,r,r+1,e)}const r=this.getTileCoordExtent(t,n);return this.getTileRangeForExtentAndZ(r,t[0]+1,e)}return null}getTileRangeExtent(t,e,n){const i=this.getOrigin(t),r=this.getResolution(t),s=Object(h.d)(this.getTileSize(t),this.tmpSize_),o=i[0]+e.minX*s[0]*r,l=i[0]+(e.maxX+1)*s[0]*r,c=i[1]+e.minY*s[1]*r,u=i[1]+(e.maxY+1)*s[1]*r;return Object(a.l)(o,c,l,u,n)}getTileRangeForExtentAndZ(t,e,n){const r=u;this.getTileCoordForXYAndZ_(t[0],t[3],e,!1,r);const s=r[1],o=r[2];return this.getTileCoordForXYAndZ_(t[2],t[1],e,!0,r),Object(i.a)(s,r[1],o,r[2],n)}getTileCoordCenter(t){const e=this.getOrigin(t[0]),n=this.getResolution(t[0]),i=Object(h.d)(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*i[0]*n,e[1]-(t[2]+.5)*i[1]*n]}getTileCoordExtent(t,e){const n=this.getOrigin(t[0]),i=this.getResolution(t[0]),r=Object(h.d)(this.getTileSize(t[0]),this.tmpSize_),s=n[0]+t[1]*r[0]*i,o=n[1]-(t[2]+1)*r[1]*i,l=s+r[0]*i,c=o+r[1]*i;return Object(a.l)(s,o,l,c,e)}getTileCoordForCoordAndResolution(t,e,n){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,n)}getTileCoordForXYAndResolution_(t,e,n,i,r){const s=this.getZForResolution(n),o=n/this.getResolution(s),a=this.getOrigin(s),c=Object(h.d)(this.getTileSize(s),this.tmpSize_),u=i?.5:0,d=Math.floor((t-a[0])/n+(i?.5:0)),p=Math.floor((a[1]-e)/n+u);let f=o*d/c[0],m=o*p/c[1];return i?(f=Math.ceil(f)-1,m=Math.ceil(m)-1):(f=Math.floor(f),m=Math.floor(m)),Object(l.a)(s,f,m,r)}getTileCoordForXYAndZ_(t,e,n,i,r){const s=this.getOrigin(n),o=this.getResolution(n),a=Object(h.d)(this.getTileSize(n),this.tmpSize_),c=i?.5:0,u=Math.floor((t-s[0])/o+(i?.5:0)),d=Math.floor((s[1]-e)/o+c);let p=u/a[0],f=d/a[1];return i?(p=Math.ceil(p)-1,f=Math.ceil(f)-1):(p=Math.floor(p),f=Math.floor(f)),Object(l.a)(n,p,f,r)}getTileCoordForCoordAndZ(t,e,n){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,n)}getTileCoordResolution(t){return this.resolutions_[t[0]]}getTileSize(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]}getFullTileRange(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null}getZForResolution(t,e){const n=Object(c.h)(this.resolutions_,t,e||0);return Object(o.a)(n,this.minZoom,this.maxZoom)}calculateTileRanges_(t){const e=this.resolutions_.length,n=new Array(e);for(let i=this.minZoom;i<e;++i)n[i]=this.getTileRangeForExtentAndZ(t,i);this.fullTileRanges_=n}}},"G7/A":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const i={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},r={};r[i.DEGREES]=2*Math.PI*6370997/360,r[i.FEET]=.3048,r[i.METERS]=1,r[i.USFEET]=1200/3937,e.b=i},GLbD:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r});const i="1.3.0",r={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1}},GMCd:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return l});var i=n("tFPJ"),r=n("4yuk");const s=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:t=>t}),o=` ${r.f} `;class a{constructor(t,e,n,i){this.strings=t,this.values=e,this.type=n,this.processor=i}getHTML(){const t=this.strings.length-1;let e="",n=!1;for(let i=0;i<t;i++){const t=this.strings[i],s=t.lastIndexOf("\x3c!--");n=(s>-1||n)&&-1===t.indexOf("--\x3e",s+1);const a=r.e.exec(t);e+=null===a?t+(n?o:r.g):t.substr(0,a.index)+a[1]+a[2]+r.b+a[3]+r.f}return e+=this.strings[t],e}getTemplateElement(){const t=document.createElement("template");let e=this.getHTML();return void 0!==s&&(e=s.createHTML(e)),t.innerHTML=e,t}}class l extends a{getHTML(){return`<svg>${super.getHTML()}</svg>`}getTemplateElement(){const t=super.getTemplateElement(),e=t.content,n=e.firstChild;return e.removeChild(n),Object(i.c)(e,n.firstChild),t}}},GS7A:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return i}),n.d(e,"c",function(){return r}),n.d(e,"d",function(){return f}),n.d(e,"e",function(){return a}),n.d(e,"f",function(){return u}),n.d(e,"g",function(){return l}),n.d(e,"h",function(){return h}),n.d(e,"i",function(){return c}),n.d(e,"j",function(){return d}),n.d(e,"k",function(){return o}),n.d(e,"l",function(){return m}),n.d(e,"m",function(){return g});class i{}class r{}const s="*";function o(t,e){return{type:7,name:t,definitions:e,options:{}}}function a(t,e=null){return{type:4,styles:e,timings:t}}function l(t,e=null){return{type:2,steps:t,options:e}}function c(t){return{type:6,styles:t,offset:null}}function h(t,e,n){return{type:0,name:t,styles:e,options:n}}function u(t){return{type:5,steps:t}}function d(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function p(t){Promise.resolve(null).then(t)}class f{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){p(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class m{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,i=0;const r=this.players.length;0==r?p(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==r&&this._onFinish()}),t.onDestroy(()=>{++n==r&&this._onDestroy()}),t.onStart(()=>{++i==r&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}const g="!"},GS9G:function(t,e,n){var i,r;void 0===(r="function"==typeof(i=function(){return{WPS_2_0:{n:"WPS_2_0",dens:"http://www.opengis.net/wps/2.0",deps:["OWS_2_0"],tis:[{ln:"OutputDescriptionType",bti:".DescriptionType",ps:[{n:"dataDescription",rq:!0,mx:!1,dom:!1,en:"DataDescription",ti:".DataDescriptionType",t:"er"},{n:"output",rq:!0,col:!0,en:"Output",ti:".OutputDescriptionType"}]},{ln:"DataOutputType",ps:[{n:"data",rq:!0,en:"Data",ti:".Data"},{n:"reference",rq:!0,en:"Reference",ti:".ReferenceType"},{n:"output",rq:!0,en:"Output",ti:".DataOutputType"},{n:"id",rq:!0,an:{lp:"id"},t:"a"}]},{ln:"WPSCapabilitiesType.Extension",tn:null,ps:[{n:"any",mno:0,col:!0,mx:!1,t:"ae"}]},{ln:"Dismiss",tn:null,bti:".RequestBaseType",ps:[{n:"jobID",rq:!0,en:"JobID"}]},{ln:"LiteralDataType",bti:".DataDescriptionType",ps:[{n:"literalDataDomain",rq:!0,col:!0,en:{lp:"LiteralDataDomain"},ti:".LiteralDataType.LiteralDataDomain"}]},{ln:"GetCapabilitiesType",bti:"OWS_2_0.GetCapabilitiesType",ps:[{n:"service",rq:!0,an:{lp:"service"},t:"a"}]},{ln:"Contents",tn:null,ps:[{n:"processSummary",rq:!0,col:!0,en:"ProcessSummary",ti:".ProcessSummaryType"}]},{ln:"DataInputType",ps:[{n:"data",rq:!0,en:"Data",ti:".Data"},{n:"reference",rq:!0,en:"Reference",ti:".ReferenceType"},{n:"input",rq:!0,col:!0,en:"Input",ti:".DataInputType"},{n:"id",rq:!0,an:{lp:"id"},t:"a"}]},{ln:"GetResult",tn:null,bti:".RequestBaseType",ps:[{n:"jobID",rq:!0,en:"JobID"}]},{ln:"SupportedCRS",tn:null,ps:[{n:"value",t:"v"},{n:"_default",ti:"Boolean",an:{lp:"default"},t:"a"}]},{ln:"LiteralDataDomainType",ps:[{n:"allowedValues",rq:!0,en:{lp:"AllowedValues",ns:"http://www.opengis.net/ows/2.0"},ti:"OWS_2_0.AllowedValues"},{n:"anyValue",rq:!0,en:{lp:"AnyValue",ns:"http://www.opengis.net/ows/2.0"},ti:"OWS_2_0.AnyValue"},{n:"valuesReference",rq:!0,en:{lp:"ValuesReference",ns:"http://www.opengis.net/ows/2.0"},ti:"OWS_2_0.ValuesReference"},{n:"dataType",en:{lp:"DataType",ns:"http://www.opengis.net/ows/2.0"},ti:"OWS_2_0.DomainMetadataType"},{n:"uom",en:{lp:"UOM",ns:"http://www.opengis.net/ows/2.0"},ti:"OWS_2_0.DomainMetadataType"},{n:"defaultValue",en:{lp:"DefaultValue",ns:"http://www.opengis.net/ows/2.0"},ti:"OWS_2_0.ValueType"}]},{ln:"DataDescriptionType",ps:[{n:"format",rq:!0,col:!0,en:"Format",ti:".Format"}]},{ln:"StatusInfo",tn:null,ps:[{n:"jobID",rq:!0,en:"JobID"},{n:"status",rq:!0,en:"Status"},{n:"expirationDate",en:"ExpirationDate",ti:"DateTime"},{n:"estimatedCompletion",en:"EstimatedCompletion",ti:"DateTime"},{n:"nextPoll",en:"NextPoll",ti:"DateTime"},{n:"percentCompleted",en:"PercentCompleted",ti:"Int"}]},{ln:"OutputDefinitionType",ps:[{n:"output",en:"Output",ti:".OutputDefinitionType"},{n:"id",rq:!0,an:{lp:"id"},t:"a"},{n:"transmission",an:{lp:"transmission"},t:"a"},{n:"mimeType",an:{lp:"mimeType"},t:"a"},{n:"encoding",an:{lp:"encoding"},t:"a"},{n:"schema",an:{lp:"schema"},t:"a"}]},{ln:"LiteralValue",tn:null,bti:"OWS_2_0.ValueType",ps:[{n:"dataType",an:{lp:"dataType"},t:"a"},{n:"uom",an:{lp:"uom"},t:"a"}]},{ln:"RequestBaseType",ps:[{n:"extension",mno:0,col:!0,en:"Extension",ti:"AnyType"},{n:"service",rq:!0,an:{lp:"service"},t:"a"},{n:"version",rq:!0,an:{lp:"version"},t:"a"}]},{ln:"LiteralDataType.LiteralDataDomain",tn:null,bti:".LiteralDataDomainType",ps:[{n:"_default",ti:"Boolean",an:{lp:"default"},t:"a"}]},{ln:"DescribeProcess",tn:null,bti:".RequestBaseType",ps:[{n:"identifier",rq:!0,col:!0,en:{lp:"Identifier",ns:"http://www.opengis.net/ows/2.0"},ti:"OWS_2_0.CodeType"},{n:"lang",an:{lp:"lang",ns:"http://www.w3.org/XML/1998/namespace"},t:"a"}]},{ln:"Result",tn:null,ps:[{n:"jobID",en:"JobID"},{n:"expirationDate",en:"ExpirationDate",ti:"DateTime"},{n:"output",rq:!0,col:!0,en:"Output",ti:".DataOutputType"}]},{ln:"GenericInputType",bti:".DescriptionType",ps:[{n:"input",mno:0,col:!0,en:"Input",ti:".GenericInputType"},{n:"minOccurs",ti:"NonNegativeInteger",an:{lp:"minOccurs"},t:"a"},{n:"maxOccurs",an:{lp:"maxOccurs"},t:"a"}]},{ln:"Data",tn:null,ps:[{n:"otherAttributes",t:"aa"},{n:"content",col:!0,t:"ae"},{n:"mimeType",an:{lp:"mimeType"},t:"a"},{n:"encoding",an:{lp:"encoding"},t:"a"},{n:"schema",an:{lp:"schema"},t:"a"}]},{ln:"Format",tn:null,ps:[{n:"mimeType",an:{lp:"mimeType"},t:"a"},{n:"encoding",an:{lp:"encoding"},t:"a"},{n:"schema",an:{lp:"schema"},t:"a"},{n:"maximumMegabytes",ti:"PositiveInteger",an:{lp:"maximumMegabytes"},t:"a"},{n:"_default",ti:"Boolean",an:{lp:"default"},t:"a"}]},{ln:"BoundingBoxData",tn:null,bti:".DataDescriptionType",ps:[{n:"supportedCRS",rq:!0,col:!0,en:"SupportedCRS",ti:".SupportedCRS"}]},{ln:"ProcessDescriptionType",bti:".DescriptionType",ps:[{n:"input",mno:0,col:!0,en:"Input",ti:".InputDescriptionType"},{n:"output",rq:!0,col:!0,en:"Output",ti:".OutputDescriptionType"},{n:"lang",an:{lp:"lang",ns:"http://www.w3.org/XML/1998/namespace"},t:"a"}]},{ln:"InputDescriptionType",bti:".DescriptionType",ps:[{n:"dataDescription",rq:!0,mx:!1,dom:!1,en:"DataDescription",ti:".DataDescriptionType",t:"er"},{n:"input",rq:!0,col:!0,en:"Input",ti:".InputDescriptionType"},{n:"minOccurs",ti:"NonNegativeInteger",an:{lp:"minOccurs"},t:"a"},{n:"maxOccurs",an:{lp:"maxOccurs"},t:"a"}]},{ln:"ProcessSummaryType",bti:".DescriptionType",ps:[{n:"jobControlOptions",rq:!0,ti:{t:"l"},an:{lp:"jobControlOptions"},t:"a"},{n:"outputTransmission",ti:{t:"l"},an:{lp:"outputTransmission"},t:"a"},{n:"processVersion",an:{lp:"processVersion"},t:"a"},{n:"processModel",an:{lp:"processModel"},t:"a"}]},{ln:"ReferenceType.BodyReference",tn:null,ps:[{n:"href",rq:!0,an:{lp:"href",ns:"http://www.w3.org/1999/xlink"},t:"a"}]},{ln:"ProcessOfferings",tn:null,ps:[{n:"processOffering",rq:!0,col:!0,en:"ProcessOffering",ti:".ProcessOffering"}]},{ln:"GenericOutputType",bti:".DescriptionType",ps:[{n:"output",mno:0,col:!0,en:"Output",ti:".GenericOutputType"}]},{ln:"ComplexDataType",bti:".DataDescriptionType",ps:[{n:"any",mno:0,col:!0,mx:!1,t:"ae"}]},{ln:"GenericProcessType",bti:".DescriptionType",ps:[{n:"input",mno:0,col:!0,en:"Input",ti:".GenericInputType"},{n:"output",rq:!0,col:!0,en:"Output",ti:".GenericOutputType"}]},{ln:"ReferenceType",ps:[{n:"body",rq:!0,en:"Body",ti:"AnyType"},{n:"bodyReference",rq:!0,en:"BodyReference",ti:".ReferenceType.BodyReference"},{n:"href",rq:!0,an:{lp:"href",ns:"http://www.w3.org/1999/xlink"},t:"a"},{n:"mimeType",an:{lp:"mimeType"},t:"a"},{n:"encoding",an:{lp:"encoding"},t:"a"},{n:"schema",an:{lp:"schema"},t:"a"}]},{ln:"GetStatus",tn:null,bti:".RequestBaseType",ps:[{n:"jobID",rq:!0,en:"JobID"}]},{ln:"ProcessOffering",tn:null,ps:[{n:"process",rq:!0,en:"Process",ti:".ProcessDescriptionType"},{n:"any",rq:!0,mx:!1,t:"ae"},{n:"jobControlOptions",rq:!0,ti:{t:"l"},an:{lp:"jobControlOptions"},t:"a"},{n:"outputTransmission",ti:{t:"l"},an:{lp:"outputTransmission"},t:"a"},{n:"processVersion",an:{lp:"processVersion"},t:"a"},{n:"processModel",an:{lp:"processModel"},t:"a"}]},{ln:"DescriptionType",bti:"OWS_2_0.BasicIdentificationType"},{ln:"ExecuteRequestType",bti:".RequestBaseType",ps:[{n:"identifier",rq:!0,en:{lp:"Identifier",ns:"http://www.opengis.net/ows/2.0"},ti:"OWS_2_0.CodeType"},{n:"input",mno:0,col:!0,en:"Input",ti:".DataInputType"},{n:"output",rq:!0,col:!0,en:"Output",ti:".OutputDefinitionType"},{n:"mode",rq:!0,an:{lp:"mode"},t:"a"},{n:"response",rq:!0,an:{lp:"response"},t:"a"}]},{ln:"WPSCapabilitiesType",bti:"OWS_2_0.CapabilitiesBaseType",ps:[{n:"contents",rq:!0,en:"Contents",ti:".Contents"},{n:"extension",en:"Extension",ti:".WPSCapabilitiesType.Extension"},{n:"service",rq:!0,ti:"AnySimpleType",an:{lp:"service"},t:"a"}]},{t:"enum",ln:"DataTransmissionModeType",vs:["value","reference"]}],eis:[{en:"BoundingBoxData",ti:".BoundingBoxData",sh:"DataDescription"},{en:"DataDescription",ti:".DataDescriptionType"},{en:"SupportedCRS",ti:".SupportedCRS"},{en:"ProcessOffering",ti:".ProcessOffering"},{en:"ExpirationDate",ti:"DateTime"},{en:"GetCapabilities",ti:".GetCapabilitiesType"},{en:"Process",ti:".ProcessDescriptionType"},{en:"LiteralValue",ti:".LiteralValue"},{en:"Result",ti:".Result"},{en:"LiteralData",ti:".LiteralDataType",sh:"DataDescription"},{en:"Contents",ti:".Contents"},{en:"DescribeProcess",ti:".DescribeProcess"},{en:"GenericProcess",ti:".GenericProcessType"},{en:"Execute",ti:".ExecuteRequestType"},{en:"GetStatus",ti:".GetStatus"},{en:"JobID"},{en:"Data",ti:".Data"},{en:"Capabilities",ti:".WPSCapabilitiesType"},{en:"Reference",ti:".ReferenceType"},{en:"ComplexData",ti:".ComplexDataType",sh:"DataDescription"},{en:"StatusInfo",ti:".StatusInfo"},{en:"Format",ti:".Format"},{en:"GetResult",ti:".GetResult"},{en:"Dismiss",ti:".Dismiss"},{en:"ProcessOfferings",ti:".ProcessOfferings"}]}}})?i.apply(e,[]):i)||(t.exports=r)},Gp2b:function(t,e,n){"use strict";e.a=class{constructor(t){this.type=t,this.target=null}preventDefault(){this.propagationStopped=!0}stopPropagation(){this.propagationStopped=!0}}},Gufx:function(t,e,n){"use strict";var i=n("jnTo"),r=n("avWC"),s=n("bwl8"),o=n("Znq9"),a=n("FHfp");e.a=class extends i.a{constructor(t){const e=t||{},n=document.createElement("div");n.className=void 0!==e.className?e.className:"ol-mouse-position",super({element:n,render:e.render,target:e.target}),this.addEventListener(Object(s.b)("projection"),this.handleProjectionChanged_),e.coordinateFormat&&this.setCoordinateFormat(e.coordinateFormat),e.projection&&this.setProjection(e.projection),this.undefinedHTML_=void 0!==e.undefinedHTML?e.undefinedHTML:"&#160;",this.renderOnMouseOut_=!!this.undefinedHTML_,this.renderedHTML_=n.innerHTML,this.mapProjection_=null,this.transform_=null}handleProjectionChanged_(){this.transform_=null}getCoordinateFormat(){return this.get("coordinateFormat")}getProjection(){return this.get("projection")}handleMouseMove(t){const e=this.getMap();this.updateHTML_(e.getEventPixel(t))}handleMouseOut(t){this.updateHTML_(null)}setMap(t){if(super.setMap(t),t){const e=t.getViewport();this.listenerKeys.push(Object(a.a)(e,r.a.POINTERMOVE,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push(Object(a.a)(e,r.a.POINTEROUT,this.handleMouseOut,this))}}setCoordinateFormat(t){this.set("coordinateFormat",t)}setProjection(t){this.set("projection",Object(o.i)(t))}updateHTML_(t){let e=this.undefinedHTML_;if(t&&this.mapProjection_){if(!this.transform_){const t=this.getProjection();this.transform_=t?Object(o.l)(this.mapProjection_,t):o.n}const n=this.getMap().getCoordinateFromPixelInternal(t);if(n){const t=Object(o.m)();t&&(this.transform_=Object(o.l)(this.mapProjection_,t)),this.transform_(n,n);const i=this.getCoordinateFormat();e=i?i(n):n.toString()}}this.renderedHTML_&&e===this.renderedHTML_||(this.element.innerHTML=e,this.renderedHTML_=e)}render(t){const e=t.frameState;e?this.mapProjection_!=e.viewState.projection&&(this.mapProjection_=e.viewState.projection,this.transform_=null):this.mapProjection_=null}}},GyhO:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("LRne"),r=n("bHdf");function s(...t){return Object(r.a)(1)(Object(i.a)(...t))}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("7o/Q"),r=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("SpAZ"),l=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof i.a)return t;if(t[r.a])return t[r.a]()}return t||e||n?new i.a(t,e,n):new i.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||l.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),l.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){l.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof i.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=h(e))((e,n)=>{let i;i=this.subscribe(e=>{try{t(e)}catch(r){n(r),i&&i.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=h(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function h(t){if(t||(t=l.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IAcf:function(t,e,n){"use strict";var i=n("9CgO"),r=n("Nr0W"),s=n("aBeY"),o=n("wEYg"),a=n("Dm0N"),l=n("rA9B"),c=n("i3ci"),h=n("hKKC"),u=n("2I+J");e.a=class extends a.a{constructor(t){super({attributions:t.attributions,wrapX:t.wrapX}),this.resolution=void 0,this.distance=void 0!==t.distance?t.distance:20,this.features=[],this.geometryFunction=t.geometryFunction||function(t){const e=t.getGeometry();return Object(c.a)(e.getType()==s.a.POINT,10),e},this.boundRefresh_=this.refresh.bind(this),this.setSource(t.source||null)}clear(t){this.features.length=0,super.clear(t)}getDistance(){return this.distance}getSource(){return this.source}loadFeatures(t,e,n){this.source.loadFeatures(t,e,n),e!==this.resolution&&(this.clear(),this.resolution=e,this.cluster(),this.addFeatures(this.features))}setDistance(t){this.distance=t,this.refresh()}setSource(t){this.source&&this.source.removeEventListener(i.a.CHANGE,this.boundRefresh_),this.source=t,t&&t.addEventListener(i.a.CHANGE,this.boundRefresh_),this.refresh()}refresh(){this.clear(),this.cluster(),this.addFeatures(this.features)}cluster(){if(void 0===this.resolution||!this.source)return;const t=Object(h.k)(),e=this.distance*this.resolution,n=this.source.getFeatures(),i={};for(let r=0,s=n.length;r<s;r++){const s=n[r];if(!(Object(u.c)(s)in i)){const n=this.geometryFunction(s);if(n){const r=n.getCoordinates();Object(h.n)(r,t),Object(h.d)(t,e,t);let s=this.source.getFeaturesInExtent(t);s=s.filter(function(t){const e=Object(u.c)(t);return!(e in i)&&(i[e]=!0,!0)}),this.features.push(this.createCluster(s))}}}}createCluster(t){const e=[0,0];for(let i=t.length-1;i>=0;--i){const n=this.geometryFunction(t[i]);n?Object(l.a)(e,n.getCoordinates()):t.splice(i,1)}Object(l.f)(e,1/t.length);const n=new r.a(new o.a(e));return n.set("features",t),n}}},IheW:function(t,e,n){"use strict";n.d(e,"a",function(){return C}),n.d(e,"b",function(){return V}),n.d(e,"c",function(){return d});var i=n("8Y7J"),r=n("LRne"),s=n("HDdC"),o=n("bOdf"),a=n("pLZG"),l=n("lJxs"),c=n("SVse");class h{}class u{}class d{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),i=n.toLowerCase(),r=t.slice(e+1).trim();this.maybeSetNormalizedName(n,i),this.headers.has(i)?this.headers.get(i).push(r):this.headers.set(i,[r])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const i=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(i,n),this.maybeSetNormalizedName(e,i))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof d?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new d;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof d?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...n),this.headers.set(e,i);break;case"d":const r=t.value;if(r){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===r.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class p{encodeKey(t){return f(t)}encodeValue(t){return f(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function f(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class m{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new p,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(t=>{const i=t.indexOf("="),[r,s]=-1==i?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,i)),e.decodeValue(t.slice(i+1))],o=n.get(r)||[];o.push(s),n.set(r,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const i=t[n];Array.isArray(i)?i.forEach(t=>{e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:i,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new m({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function g(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function y(t){return"undefined"!=typeof Blob&&t instanceof Blob}function _(t){return"undefined"!=typeof FormData&&t instanceof FormData}class b{constructor(t,e,n,i){let r;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==n?n:null,r=i):r=n,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.params&&(this.params=r.params)),this.headers||(this.headers=new d),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new m,this.urlWithParams=e}serializeBody(){return null===this.body?null:g(this.body)||y(this.body)||_(this.body)||"string"==typeof this.body?this.body:this.body instanceof m?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||_(this.body)?null:y(this.body)?this.body.type||null:g(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof m?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,i=t.responseType||this.responseType,r=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,l=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(l=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),l)),new b(e,n,r,{params:l,headers:a,reportProgress:o,responseType:i,withCredentials:s})}}var v=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class S{constructor(t,e=200,n="OK"){this.headers=t.headers||new d,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class T extends S{constructor(t={}){super(t),this.type=v.ResponseHeader}clone(t={}){return new T({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class x extends S{constructor(t={}){super(t),this.type=v.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new x({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class w extends S{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function E(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let C=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let i;if(t instanceof b)i=t;else{let r,s;r=n.headers instanceof d?n.headers:new d(n.headers),n.params&&(s=n.params instanceof m?n.params:new m({fromObject:n.params})),i=new b(t,e,void 0!==n.body?n.body:null,{headers:r,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const s=Object(r.a)(i).pipe(Object(o.a)(t=>this.handler.handle(t)));if(t instanceof b||"events"===n.observe)return s;const c=s.pipe(Object(a.a)(t=>t instanceof x));switch(n.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return c.pipe(Object(l.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return c.pipe(Object(l.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return c.pipe(Object(l.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return c.pipe(Object(l.a)(t=>t.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new m).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,E(n,e))}post(t,e,n={}){return this.request("POST",t,E(n,e))}put(t,e,n={}){return this.request("PUT",t,E(n,e))}}return t.\u0275fac=function(e){return new(e||t)(i.Ub(h))},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})();class M{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const O=new i.r("HTTP_INTERCEPTORS");let A=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})();const I=/^\)\]\}',?\n/;class R{}let L=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})(),P=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new s.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const i=t.serializeBody();let r=null;const s=()=>{if(null!==r)return r;const e=1223===n.status?204:n.status,i=n.statusText||"OK",s=new d(n.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return r=new T({headers:s,status:e,statusText:i,url:o}),r},o=()=>{let{headers:i,status:r,statusText:o,url:a}=s(),l=null;204!==r&&(l=void 0===n.response?n.responseText:n.response),0===r&&(r=l?200:0);let c=r>=200&&r<300;if("json"===t.responseType&&"string"==typeof l){const t=l;l=l.replace(I,"");try{l=""!==l?JSON.parse(l):null}catch(h){l=t,c&&(c=!1,l={error:h,text:l})}}c?(e.next(new x({body:l,headers:i,status:r,statusText:o,url:a||void 0})),e.complete()):e.error(new w({error:l,headers:i,status:r,statusText:o,url:a||void 0}))},a=t=>{const{url:i}=s(),r=new w({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:i||void 0});e.error(r)};let l=!1;const c=i=>{l||(e.next(s()),l=!0);let r={type:v.DownloadProgress,loaded:i.loaded};i.lengthComputable&&(r.total=i.total),"text"===t.responseType&&n.responseText&&(r.partialText=n.responseText),e.next(r)},h=t=>{let n={type:v.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),n.addEventListener("timeout",a),n.addEventListener("abort",a),t.reportProgress&&(n.addEventListener("progress",c),null!==i&&n.upload&&n.upload.addEventListener("progress",h)),n.send(i),e.next({type:v.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("abort",a),n.removeEventListener("load",o),n.removeEventListener("timeout",a),t.reportProgress&&(n.removeEventListener("progress",c),null!==i&&n.upload&&n.upload.removeEventListener("progress",h)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(i.Ub(R))},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})();const D=new i.r("XSRF_COOKIE_NAME"),N=new i.r("XSRF_HEADER_NAME");class j{}let k=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Object(c.E)(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(i.Ub(c.d),i.Ub(i.C),i.Ub(D))},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})(),F=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const i=this.tokenService.getToken();return null===i||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,i)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Ub(j),i.Ub(N))},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})(),U=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(O,[]);this.chain=t.reduceRight((t,e)=>new M(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Ub(u),i.Ub(i.s))},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})(),G=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:F,useClass:A}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:D,useValue:e.cookieName}:[],e.headerName?{provide:N,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({providers:[F,{provide:O,useExisting:F,multi:!0},{provide:j,useClass:k},{provide:D,useValue:"XSRF-TOKEN"},{provide:N,useValue:"X-XSRF-TOKEN"}]}),t})(),V=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({providers:[C,{provide:h,useClass:U},P,{provide:u,useExisting:P},L,{provide:R,useExisting:L}],imports:[[G.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})()},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return r});let i=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class r extends i{constructor(t,e=i.now){super(t,()=>r.delegate&&r.delegate!==this?r.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return r.delegate&&r.delegate!==this?r.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},IzEk:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("7o/Q"),r=n("4I5i"),s=n("EY2u");function o(t){return e=>0===t?Object(s.b)():e.lift(new a(t))}class a{constructor(t){if(this.total=t,this.total<0)throw new r.a}call(t,e){return e.subscribe(new l(t,this.total))}}class l extends i.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}},JS5d:function(t,e,n){"use strict";n.d(e,"d",function(){return r}),n.d(e,"e",function(){return s}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a});const i={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},r=[i.FILL],s=[i.STROKE],o=[i.BEGIN_PATH],a=[i.CLOSE_PATH];e.c=i},JX91:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("GyhO"),r=n("z+Ro");function s(...t){const e=t[t.length-1];return Object(r.a)(e)?(t.pop(),n=>Object(i.a)(t,n,e)):e=>Object(i.a)(t,e)}},JaUx:function(t,e,n){t.exports=function(){"use strict";function t(t,i,r,s,o){!function t(n,i,r,s,o){for(;s>r;){if(s-r>600){var a=s-r+1,l=i-r+1,c=Math.log(a),h=.5*Math.exp(2*c/3),u=.5*Math.sqrt(c*h*(a-h)/a)*(l-a/2<0?-1:1);t(n,i,Math.max(r,Math.floor(i-l*h/a+u)),Math.min(s,Math.floor(i+(a-l)*h/a+u)),o)}var d=n[i],p=r,f=s;for(e(n,r,i),o(n[s],d)>0&&e(n,r,s);p<f;){for(e(n,p,f),p++,f--;o(n[p],d)<0;)p++;for(;o(n[f],d)>0;)f--}0===o(n[r],d)?e(n,r,f):e(n,++f,s),f<=i&&(r=f+1),i<=f&&(s=f-1)}}(t,i,r||0,s||t.length-1,o||n)}function e(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function n(t,e){return t<e?-1:t>e?1:0}var i=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function r(t,e,n){if(!n)return e.indexOf(t);for(var i=0;i<e.length;i++)if(n(t,e[i]))return i;return-1}function s(t,e){o(t,0,t.children.length,e,t)}function o(t,e,n,i,r){r||(r=f(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var s=e;s<n;s++){var o=t.children[s];a(r,t.leaf?i(o):o)}return r}function a(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function l(t,e){return t.minX-e.minX}function c(t,e){return t.minY-e.minY}function h(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function u(t){return t.maxX-t.minX+(t.maxY-t.minY)}function d(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function p(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function f(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function m(e,n,i,r,s){for(var o=[n,i];o.length;)if(!((i=o.pop())-(n=o.pop())<=r)){var a=n+Math.ceil((i-n)/r/2)*r;t(e,a,n,i,s),o.push(n,a,a,i)}}return i.prototype.all=function(){return this._all(this.data,[])},i.prototype.search=function(t){var e=this.data,n=[];if(!p(t,e))return n;for(var i=this.toBBox,r=[];e;){for(var s=0;s<e.children.length;s++){var o=e.children[s],a=e.leaf?i(o):o;p(t,a)&&(e.leaf?n.push(o):d(t,a)?this._all(o,n):r.push(o))}e=r.pop()}return n},i.prototype.collides=function(t){var e=this.data;if(!p(t,e))return!1;for(var n=[];e;){for(var i=0;i<e.children.length;i++){var r=e.children[i],s=e.leaf?this.toBBox(r):r;if(p(t,s)){if(e.leaf||d(t,s))return!0;n.push(r)}}e=n.pop()}return!1},i.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var i=this.data;this.data=n,n=i}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},i.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},i.prototype.clear=function(){return this.data=f([]),this},i.prototype.remove=function(t,e){if(!t)return this;for(var n,i,s,o=this.data,a=this.toBBox(t),l=[],c=[];o||l.length;){if(o||(o=l.pop(),i=l[l.length-1],n=c.pop(),s=!0),o.leaf){var h=r(t,o.children,e);if(-1!==h)return o.children.splice(h,1),l.push(o),this._condense(l),this}s||o.leaf||!d(o,a)?i?(n++,o=i.children[n],s=!1):o=null:(l.push(o),c.push(n),n=0,i=o,o=o.children[0])}return this},i.prototype.toBBox=function(t){return t},i.prototype.compareMinX=function(t,e){return t.minX-e.minX},i.prototype.compareMinY=function(t,e){return t.minY-e.minY},i.prototype.toJSON=function(){return this.data},i.prototype.fromJSON=function(t){return this.data=t,this},i.prototype._all=function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},i.prototype._build=function(t,e,n,i){var r,o=n-e+1,a=this._maxEntries;if(o<=a)return s(r=f(t.slice(e,n+1)),this.toBBox),r;i||(i=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,i-1))),(r=f([])).leaf=!1,r.height=i;var l=Math.ceil(o/a),c=l*Math.ceil(Math.sqrt(a));m(t,e,n,c,this.compareMinX);for(var h=e;h<=n;h+=c){var u=Math.min(h+c-1,n);m(t,h,u,l,this.compareMinY);for(var d=h;d<=u;d+=l){var p=Math.min(d+l-1,u);r.children.push(this._build(t,d,p,i-1))}}return s(r,this.toBBox),r},i.prototype._chooseSubtree=function(t,e,n,i){for(;i.push(e),!e.leaf&&i.length-1!==n;){for(var r=1/0,s=1/0,o=void 0,a=0;a<e.children.length;a++){var l=e.children[a],c=h(l),u=(d=t,p=l,(Math.max(p.maxX,d.maxX)-Math.min(p.minX,d.minX))*(Math.max(p.maxY,d.maxY)-Math.min(p.minY,d.minY))-c);u<s?(s=u,r=c<r?c:r,o=l):u===s&&c<r&&(r=c,o=l)}e=o||e.children[0]}var d,p;return e},i.prototype._insert=function(t,e,n){var i=n?t:this.toBBox(t),r=[],s=this._chooseSubtree(i,this.data,e,r);for(s.children.push(t),a(s,i);e>=0&&r[e].children.length>this._maxEntries;)this._split(r,e),e--;this._adjustParentBBoxes(i,r,e)},i.prototype._split=function(t,e){var n=t[e],i=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,i);var o=this._chooseSplitIndex(n,r,i),a=f(n.children.splice(o,n.children.length-o));a.height=n.height,a.leaf=n.leaf,s(n,this.toBBox),s(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(n,a)},i.prototype._splitRoot=function(t,e){this.data=f([t,e]),this.data.height=t.height+1,this.data.leaf=!1,s(this.data,this.toBBox)},i.prototype._chooseSplitIndex=function(t,e,n){for(var i,r,s,a,l,c,u,d=1/0,p=1/0,f=e;f<=n-e;f++){var m=o(t,0,f,this.toBBox),g=o(t,f,n,this.toBBox),y=(r=m,s=g,a=Math.max(r.minX,s.minX),l=Math.max(r.minY,s.minY),c=Math.min(r.maxX,s.maxX),u=Math.min(r.maxY,s.maxY),Math.max(0,c-a)*Math.max(0,u-l)),_=h(m)+h(g);y<d?(d=y,i=f,p=_<p?_:p):y===d&&_<p&&(p=_,i=f)}return i||n-e},i.prototype._chooseSplitAxis=function(t,e,n){var i=t.leaf?this.compareMinX:l,r=t.leaf?this.compareMinY:c;this._allDistMargin(t,e,n,i)<this._allDistMargin(t,e,n,r)&&t.children.sort(i)},i.prototype._allDistMargin=function(t,e,n,i){t.children.sort(i);for(var r=this.toBBox,s=o(t,0,e,r),l=o(t,n-e,n,r),c=u(s)+u(l),h=e;h<n-e;h++){var d=t.children[h];a(s,t.leaf?r(d):d),c+=u(s)}for(var p=n-e-1;p>=e;p--){var f=t.children[p];a(l,t.leaf?r(f):f),c+=u(l)}return c},i.prototype._adjustParentBBoxes=function(t,e,n){for(var i=n;i>=0;i--)a(e[i],t)},i.prototype._condense=function(t){for(var e=t.length-1,n=void 0;e>=0;e--)0===t[e].children.length?e>0?(n=t[e-1].children).splice(n.indexOf(t[e]),1):this.clear():s(t[e],this.toBBox)},i}()},JlTo:function(t,e,n){"use strict";var i=n("zmPu"),r=n("gB+7");e.a=class extends i.a{constructor(t){super(t)}createRenderer(){return new r.a(this)}}},L3Wi:function(t,e,n){"use strict";function i(t,e,n,i,r){const s=void 0!==r?r:[];let o=0;for(let a=e;a<n;a+=i)s[o++]=t.slice(a,a+i);return s.length=o,s}function r(t,e,n,r,s){const o=void 0!==s?s:[];let a=0;for(let l=0,c=n.length;l<c;++l){const s=n[l];o[a++]=i(t,e,s,r,o[a]),e=s}return o.length=a,o}function s(t,e,n,i,s){const o=void 0!==s?s:[];let a=0;for(let l=0,c=n.length;l<c;++l){const s=n[l];o[a++]=r(t,e,s,i,o[a]),e=s[s.length-1]}return o.length=a,o}n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r}),n.d(e,"c",function(){return s})},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("z+Ro"),r=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(i.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(r.a)(t)}},"LV+m":function(t,e,n){"use strict";function i(t,e,n){return Math.min(Math.max(t,e),n)}n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r}),n.d(e,"d",function(){return s}),n.d(e,"h",function(){return o}),n.d(e,"g",function(){return a}),n.d(e,"f",function(){return l}),n.d(e,"i",function(){return c}),n.d(e,"j",function(){return h}),n.d(e,"e",function(){return u}),n.d(e,"c",function(){return d});const r=function(){let t;return t="cosh"in Math?Math.cosh:function(t){const e=Math.exp(t);return(e+1/e)/2},t}(),s=function(){let t;return t="log2"in Math?Math.log2:function(t){return Math.log(t)*Math.LOG2E},t}();function o(t,e,n,i,r,s){const o=r-n,l=s-i;if(0!==o||0!==l){const a=((t-n)*o+(e-i)*l)/(o*o+l*l);a>1?(n=r,i=s):a>0&&(n+=o*a,i+=l*a)}return a(t,e,n,i)}function a(t,e,n,i){const r=n-t,s=i-e;return r*r+s*s}function l(t){const e=t.length;for(let i=0;i<e;i++){let n=i,r=Math.abs(t[i][i]);for(let o=i+1;o<e;o++){const e=Math.abs(t[o][i]);e>r&&(r=e,n=o)}if(0===r)return null;const s=t[n];t[n]=t[i],t[i]=s;for(let o=i+1;o<e;o++){const n=-t[o][i]/t[i][i];for(let r=i;r<e+1;r++)i==r?t[o][r]=0:t[o][r]+=n*t[i][r]}}const n=new Array(e);for(let i=e-1;i>=0;i--){n[i]=t[i][e]/t[i][i];for(let r=i-1;r>=0;r--)t[r][e]-=t[r][i]*n[i]}return n}function c(t){return 180*t/Math.PI}function h(t){return t*Math.PI/180}function u(t,e){const n=t%e;return n*e<0?n+e:n}function d(t,e,n){return t+n*(e-t)}},LXzw:function(t,e,n){"use strict";var i=n("Nr0W"),r=n("giCN"),s=n("aBeY"),o=n("43os"),a=n("X87I"),l=n("2cyL"),c=n("W74l"),h=n("7tkq"),u=n("wEYg"),d=n("gOFd"),p=n("i3ci"),f=n("Bpkx"),m=n("Znq9"),g=n("c73X");function y(t,e){if(!t)return null;let n;switch(t.type){case s.a.POINT:n=function(t){return new u.a(t.coordinates)}(t);break;case s.a.LINE_STRING:n=function(t){return new a.a(t.coordinates)}(t);break;case s.a.POLYGON:n=function(t){return new d.a(t.coordinates)}(t);break;case s.a.MULTI_POINT:n=function(t){return new c.a(t.coordinates)}(t);break;case s.a.MULTI_LINE_STRING:n=function(t){return new l.a(t.coordinates)}(t);break;case s.a.MULTI_POLYGON:n=function(t){return new h.a(t.coordinates)}(t);break;case s.a.GEOMETRY_COLLECTION:n=function(t,e){const n=t.geometries.map(function(t){return y(t,void 0)});return new r.a(n)}(t);break;default:throw new Error("Unsupported GeoJSON type: "+t.type)}return Object(g.b)(n,!1,e)}function _(t,e){const n=(t=Object(g.b)(t,!0,e)).getType();let i;switch(n){case s.a.POINT:i=function(t,e){return{type:"Point",coordinates:t.getCoordinates()}}(t);break;case s.a.LINE_STRING:i=function(t,e){return{type:"LineString",coordinates:t.getCoordinates()}}(t);break;case s.a.POLYGON:i=function(t,e){let n;return e&&(n=e.rightHanded),{type:"Polygon",coordinates:t.getCoordinates(n)}}(t,e);break;case s.a.MULTI_POINT:i=function(t,e){return{type:"MultiPoint",coordinates:t.getCoordinates()}}(t);break;case s.a.MULTI_LINE_STRING:i=function(t,e){return{type:"MultiLineString",coordinates:t.getCoordinates()}}(t);break;case s.a.MULTI_POLYGON:i=function(t,e){let n;return e&&(n=e.rightHanded),{type:"MultiPolygon",coordinates:t.getCoordinates(n)}}(t,e);break;case s.a.GEOMETRY_COLLECTION:i=function(t,e){return{type:"GeometryCollection",geometries:t.getGeometriesArray().map(function(t){const n=Object(f.a)({},e);return delete n.featureProjection,_(t,n)})}}(t,e);break;case s.a.CIRCLE:i={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+n)}return i}e.a=class extends o.a{constructor(t){const e=t||{};super(),this.dataProjection=Object(m.i)(e.dataProjection?e.dataProjection:"EPSG:4326"),e.featureProjection&&(this.defaultFeatureProjection=Object(m.i)(e.featureProjection)),this.geometryName_=e.geometryName,this.extractGeometryName_=e.extractGeometryName}readFeatureFromObject(t,e){let n=null;n="Feature"===t.type?t:{type:"Feature",geometry:t,properties:null};const r=y(n.geometry,e),s=new i.a;return this.geometryName_?s.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in n!==void 0&&s.setGeometryName(n.geometry_name),s.setGeometry(r),"id"in n&&s.setId(n.id),n.properties&&s.setProperties(n.properties,!0),s}readFeaturesFromObject(t,e){let n=null;if("FeatureCollection"===t.type){n=[];const i=t.features;for(let t=0,r=i.length;t<r;++t)n.push(this.readFeatureFromObject(i[t],e))}else n=[this.readFeatureFromObject(t,e)];return n}readGeometryFromObject(t,e){return y(t,e)}readProjectionFromObject(t){const e=t.crs;let n;return e?"name"==e.type?n=Object(m.i)(e.properties.name):"EPSG"===e.type?n=Object(m.i)("EPSG:"+e.properties.code):Object(p.a)(!1,36):n=this.dataProjection,n}writeFeatureObject(t,e){e=this.adaptOptions(e);const n={type:"Feature",geometry:null,properties:null},i=t.getId();if(void 0!==i&&(n.id=i),!t.hasProperties())return n;const r=t.getProperties(),s=t.getGeometry();return s&&(n.geometry=_(s,e),delete r[t.getGeometryName()]),Object(f.d)(r)||(n.properties=r),n}writeFeaturesObject(t,e){e=this.adaptOptions(e);const n=[];for(let i=0,r=t.length;i<r;++i)n.push(this.writeFeatureObject(t[i],e));return{type:"FeatureCollection",features:n}}writeGeometryObject(t,e){return _(t,this.adaptOptions(e))}}},Lhse:function(t,e,n){"use strict";function i(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return r});const r=i()},LuQ5:function(t,e,n){var i,r;void 0===(r="function"==typeof(i=function(){return{WPS_1_0_0:{n:"WPS_1_0_0",dens:"http://www.opengis.net/wps/1.0.0",deps:["OWS_1_1_0"],tis:[{ln:"LiteralInputType",bti:".LiteralOutputType",ps:[{n:"allowedValues",rq:!0,en:{lp:"AllowedValues",ns:"http://www.opengis.net/ows/1.1"},ti:"OWS_1_1_0.AllowedValues"},{n:"anyValue",rq:!0,en:{lp:"AnyValue",ns:"http://www.opengis.net/ows/1.1"},ti:"OWS_1_1_0.AnyValue"},{n:"valuesReference",rq:!0,en:{lp:"ValuesReference"},ti:".ValuesReferenceType"},{n:"defaultValue",en:{lp:"DefaultValue"}}]},{ln:"OutputReferenceType",ps:[{n:"href",rq:!0,an:{lp:"href"},t:"a"},{n:"mimeType",an:{lp:"mimeType"},t:"a"},{n:"encoding",an:{lp:"encoding"},t:"a"},{n:"schema",an:{lp:"schema"},t:"a"}]},{ln:"ResponseFormType",ps:[{n:"responseDocument",rq:!0,en:"ResponseDocument",ti:".ResponseDocumentType"},{n:"rawDataOutput",rq:!0,en:"RawDataOutput",ti:".OutputDefinitionType"}]},{ln:"DataType",ps:[{n:"complexData",rq:!0,en:"ComplexData",ti:".ComplexDataType"},{n:"literalData",rq:!0,en:"LiteralData",ti:".LiteralDataType"},{n:"boundingBoxData",rq:!0,en:"BoundingBoxData",ti:"OWS_1_1_0.BoundingBoxType"}]},{ln:"ComplexDataCombinationsType",ps:[{n:"format",rq:!0,col:!0,en:{lp:"Format"},ti:".ComplexDataDescriptionType"}]},{ln:"ResponseDocumentType",ps:[{n:"output",rq:!0,col:!0,en:"Output",ti:".DocumentOutputDefinitionType"},{n:"storeExecuteResponse",ti:"Boolean",an:{lp:"storeExecuteResponse"},t:"a"},{n:"lineage",ti:"Boolean",an:{lp:"lineage"},t:"a"},{n:"status",ti:"Boolean",an:{lp:"status"},t:"a"}]},{ln:"ProcessDescriptionType.ProcessOutputs",tn:null,ps:[{n:"output",rq:!0,col:!0,en:{lp:"Output"},ti:".OutputDescriptionType"}]},{ln:"InputReferenceType.Header",tn:null,ps:[{n:"key",rq:!0,an:{lp:"key"},t:"a"},{n:"value",rq:!0,an:{lp:"value"},t:"a"}]},{ln:"ProcessOfferings",tn:null,ps:[{n:"process",rq:!0,col:!0,en:"Process",ti:".ProcessBriefType"}]},{ln:"SupportedComplexDataInputType",bti:".SupportedComplexDataType",ps:[{n:"maximumMegabytes",ti:"Integer",an:{lp:"maximumMegabytes"},t:"a"}]},{ln:"SupportedComplexDataType",ps:[{n:"_default",rq:!0,en:{lp:"Default"},ti:".ComplexDataCombinationType"},{n:"supported",rq:!0,en:{lp:"Supported"},ti:".ComplexDataCombinationsType"}]},{ln:"ValuesReferenceType",ps:[{n:"reference",an:{lp:"reference",ns:"http://www.opengis.net/ows/1.1"},t:"a"},{n:"valuesForm",an:{lp:"valuesForm"},t:"a"}]},{ln:"ComplexDataType",ps:[{n:"otherAttributes",t:"aa"},{n:"content",col:!0,t:"ae"},{n:"mimeType",an:{lp:"mimeType"},t:"a"},{n:"encoding",an:{lp:"encoding"},t:"a"},{n:"schema",an:{lp:"schema"},t:"a"}]},{ln:"ProcessBriefType",bti:".DescriptionType",ps:[{n:"profile",mno:0,col:!0,en:"Profile"},{n:"wsdl",en:"WSDL",ti:".WSDL"},{n:"processVersion",rq:!0,an:{lp:"processVersion",ns:"http://www.opengis.net/wps/1.0.0"},t:"a"}]},{ln:"Languages",tn:null,ps:[{n:"_default",rq:!0,en:"Default",ti:".Languages.Default"},{n:"supported",rq:!0,en:"Supported",ti:".LanguagesType"}]},{ln:"ExecuteResponse.ProcessOutputs",tn:null,ps:[{n:"output",rq:!0,col:!0,en:"Output",ti:".OutputDataType"}]},{ln:"DescriptionType",ps:[{n:"identifier",rq:!0,en:{lp:"Identifier",ns:"http://www.opengis.net/ows/1.1"},ti:"OWS_1_1_0.CodeType"},{n:"title",rq:!0,en:{lp:"Title",ns:"http://www.opengis.net/ows/1.1"},ti:"OWS_1_1_0.LanguageStringType"},{n:"_abstract",en:{lp:"Abstract",ns:"http://www.opengis.net/ows/1.1"},ti:"OWS_1_1_0.LanguageStringType"},{n:"metadata",mno:0,col:!0,en:{lp:"Metadata",ns:"http://www.opengis.net/ows/1.1"},ti:"OWS_1_1_0.MetadataType"}]},{ln:"WPSCapabilitiesType",bti:"OWS_1_1_0.CapabilitiesBaseType",ps:[{n:"processOfferings",rq:!0,en:"ProcessOfferings",ti:".ProcessOfferings"},{n:"languages",rq:!0,en:"Languages",ti:".Languages"},{n:"wsdl",en:"WSDL",ti:".WSDL"},{n:"service",rq:!0,ti:"AnySimpleType",an:{lp:"service"},t:"a"},{n:"lang",rq:!0,an:{lp:"lang",ns:"http://www.w3.org/XML/1998/namespace"},t:"a"}]},{ln:"ProcessStartedType",ps:[{n:"value",t:"v"},{n:"percentCompleted",ti:"Int",an:{lp:"percentCompleted"},t:"a"}]},{ln:"DescribeProcess",tn:null,bti:".RequestBaseType",ps:[{n:"identifier",rq:!0,col:!0,en:{lp:"Identifier",ns:"http://www.opengis.net/ows/1.1"},ti:"OWS_1_1_0.CodeType"}]},{ln:"OutputDescriptionType",bti:".DescriptionType",ps:[{n:"complexOutput",rq:!0,en:{lp:"ComplexOutput"},ti:".SupportedComplexDataType"},{n:"literalOutput",rq:!0,en:{lp:"LiteralOutput"},ti:".LiteralOutputType"},{n:"boundingBoxOutput",rq:!0,en:{lp:"BoundingBoxOutput"},ti:".SupportedCRSsType"}]},{ln:"ProcessDescriptions",tn:null,bti:".ResponseBaseType",ps:[{n:"processDescription",rq:!0,col:!0,en:{lp:"ProcessDescription"},ti:".ProcessDescriptionType"}]},{ln:"InputDescriptionType",bti:".DescriptionType",ps:[{n:"complexData",rq:!0,en:{lp:"ComplexData"},ti:".SupportedComplexDataInputType"},{n:"literalData",rq:!0,en:{lp:"LiteralData"},ti:".LiteralInputType"},{n:"boundingBoxData",rq:!0,en:{lp:"BoundingBoxData"},ti:".SupportedCRSsType"},{n:"minOccurs",rq:!0,ti:"NonNegativeInteger",an:{lp:"minOccurs"},t:"a"},{n:"maxOccurs",rq:!0,ti:"PositiveInteger",an:{lp:"maxOccurs"},t:"a"}]},{ln:"RequestBaseType",ps:[{n:"service",rq:!0,an:{lp:"service"},t:"a"},{n:"version",rq:!0,an:{lp:"version"},t:"a"},{n:"language",an:{lp:"language"},t:"a"}]},{ln:"InputReferenceType",ps:[{n:"header",mno:0,col:!0,en:"Header",ti:".InputReferenceType.Header"},{n:"body",rq:!0,en:"Body",ti:"AnyType"},{n:"bodyReference",rq:!0,en:"BodyReference",ti:".InputReferenceType.BodyReference"},{n:"href",rq:!0,an:{lp:"href",ns:"http://www.w3.org/1999/xlink"},t:"a"},{n:"method",an:{lp:"method"},t:"a"},{n:"mimeType",an:{lp:"mimeType"},t:"a"},{n:"encoding",an:{lp:"encoding"},t:"a"},{n:"schema",an:{lp:"schema"},t:"a"}]},{ln:"LiteralOutputType",ps:[{n:"dataType",en:{lp:"DataType",ns:"http://www.opengis.net/ows/1.1"},ti:"OWS_1_1_0.DomainMetadataType"},{n:"uoMs",en:{lp:"UOMs"},ti:".SupportedUOMsType"}]},{ln:"ProcessDescriptionType",bti:".ProcessBriefType",ps:[{n:"dataInputs",en:{lp:"DataInputs"},ti:".ProcessDescriptionType.DataInputs"},{n:"processOutputs",rq:!0,en:{lp:"ProcessOutputs"},ti:".ProcessDescriptionType.ProcessOutputs"},{n:"storeSupported",ti:"Boolean",an:{lp:"storeSupported"},t:"a"},{n:"statusSupported",ti:"Boolean",an:{lp:"statusSupported"},t:"a"}]},{ln:"StatusType",ps:[{n:"processAccepted",rq:!0,en:"ProcessAccepted"},{n:"processStarted",rq:!0,en:"ProcessStarted",ti:".ProcessStartedType"},{n:"processPaused",rq:!0,en:"ProcessPaused",ti:".ProcessStartedType"},{n:"processSucceeded",rq:!0,en:"ProcessSucceeded"},{n:"processFailed",rq:!0,en:"ProcessFailed",ti:".ProcessFailedType"},{n:"creationTime",rq:!0,ti:"DateTime",an:{lp:"creationTime"},t:"a"}]},{ln:"UOMsType",ps:[{n:"uom",rq:!0,col:!0,en:{lp:"UOM",ns:"http://www.opengis.net/ows/1.1"},ti:"OWS_1_1_0.DomainMetadataType"}]},{ln:"ComplexDataCombinationType",ps:[{n:"format",rq:!0,en:{lp:"Format"},ti:".ComplexDataDescriptionType"}]},{ln:"CRSsType",ps:[{n:"crs",rq:!0,col:!0,en:{lp:"CRS"}}]},{ln:"LiteralDataType",ps:[{n:"value",t:"v"},{n:"dataType",an:{lp:"dataType"},t:"a"},{n:"uom",an:{lp:"uom"},t:"a"}]},{ln:"Execute",tn:null,bti:".RequestBaseType",ps:[{n:"identifier",rq:!0,en:{lp:"Identifier",ns:"http://www.opengis.net/ows/1.1"},ti:"OWS_1_1_0.CodeType"},{n:"dataInputs",en:"DataInputs",ti:".DataInputsType"},{n:"responseForm",en:"ResponseForm",ti:".ResponseFormType"}]},{ln:"ComplexDataDescriptionType",ps:[{n:"mimeType",rq:!0,en:{lp:"MimeType"}},{n:"encoding",en:{lp:"Encoding"}},{n:"schema",en:{lp:"Schema"}}]},{ln:"SupportedCRSsType.Default",tn:null,ps:[{n:"crs",rq:!0,en:{lp:"CRS"}}]},{ln:"ExecuteResponse",tn:null,bti:".ResponseBaseType",ps:[{n:"process",rq:!0,en:"Process",ti:".ProcessBriefType"},{n:"status",rq:!0,en:"Status",ti:".StatusType"},{n:"dataInputs",en:"DataInputs",ti:".DataInputsType"},{n:"outputDefinitions",en:"OutputDefinitions",ti:".OutputDefinitionsType"},{n:"processOutputs",en:"ProcessOutputs",ti:".ExecuteResponse.ProcessOutputs"},{n:"serviceInstance",rq:!0,an:{lp:"serviceInstance"},t:"a"},{n:"statusLocation",an:{lp:"statusLocation"},t:"a"}]},{ln:"SupportedUOMsType.Default",tn:null,ps:[{n:"uom",rq:!0,en:{lp:"UOM",ns:"http://www.opengis.net/ows/1.1"},ti:"OWS_1_1_0.DomainMetadataType"}]},{ln:"ProcessFailedType",ps:[{n:"exceptionReport",rq:!0,en:{lp:"ExceptionReport",ns:"http://www.opengis.net/ows/1.1"},ti:"OWS_1_1_0.ExceptionReport"}]},{ln:"LanguagesType",ps:[{n:"language",rq:!0,col:!0,en:{lp:"Language",ns:"http://www.opengis.net/ows/1.1"},ti:"Language"}]},{ln:"OutputDefinitionsType",ps:[{n:"output",rq:!0,col:!0,en:"Output",ti:".DocumentOutputDefinitionType"}]},{ln:"WSDL",tn:null,ps:[{n:"href",rq:!0,an:{lp:"href",ns:"http://www.w3.org/1999/xlink"},t:"a"}]},{ln:"SupportedUOMsType",ps:[{n:"_default",rq:!0,en:{lp:"Default"},ti:".SupportedUOMsType.Default"},{n:"supported",rq:!0,en:{lp:"Supported"},ti:".UOMsType"}]},{ln:"InputReferenceType.BodyReference",tn:null,ps:[{n:"href",rq:!0,an:{lp:"href",ns:"http://www.w3.org/1999/xlink"},t:"a"}]},{ln:"DataInputsType",ps:[{n:"input",rq:!0,col:!0,en:"Input",ti:".InputType"}]},{ln:"SupportedCRSsType",ps:[{n:"_default",rq:!0,en:{lp:"Default"},ti:".SupportedCRSsType.Default"},{n:"supported",rq:!0,en:{lp:"Supported"},ti:".CRSsType"}]},{ln:"Languages.Default",tn:null,ps:[{n:"language",rq:!0,en:{lp:"Language",ns:"http://www.opengis.net/ows/1.1"},ti:"Language"}]},{ln:"DocumentOutputDefinitionType",bti:".OutputDefinitionType",ps:[{n:"title",en:{lp:"Title",ns:"http://www.opengis.net/ows/1.1"},ti:"OWS_1_1_0.LanguageStringType"},{n:"_abstract",en:{lp:"Abstract",ns:"http://www.opengis.net/ows/1.1"},ti:"OWS_1_1_0.LanguageStringType"},{n:"asReference",ti:"Boolean",an:{lp:"asReference"},t:"a"}]},{ln:"ProcessDescriptionType.DataInputs",tn:null,ps:[{n:"input",rq:!0,col:!0,en:{lp:"Input"},ti:".InputDescriptionType"}]},{ln:"OutputDefinitionType",ps:[{n:"identifier",rq:!0,en:{lp:"Identifier",ns:"http://www.opengis.net/ows/1.1"},ti:"OWS_1_1_0.CodeType"},{n:"uom",an:{lp:"uom"},t:"a"},{n:"mimeType",an:{lp:"mimeType"},t:"a"},{n:"encoding",an:{lp:"encoding"},t:"a"},{n:"schema",an:{lp:"schema"},t:"a"}]},{ln:"OutputDataType",bti:".DescriptionType",ps:[{n:"reference",rq:!0,en:"Reference",ti:".OutputReferenceType"},{n:"data",rq:!0,en:"Data",ti:".DataType"}]},{ln:"InputType",ps:[{n:"identifier",rq:!0,en:{lp:"Identifier",ns:"http://www.opengis.net/ows/1.1"},ti:"OWS_1_1_0.CodeType"},{n:"title",en:{lp:"Title",ns:"http://www.opengis.net/ows/1.1"},ti:"OWS_1_1_0.LanguageStringType"},{n:"_abstract",en:{lp:"Abstract",ns:"http://www.opengis.net/ows/1.1"},ti:"OWS_1_1_0.LanguageStringType"},{n:"reference",rq:!0,en:"Reference",ti:".InputReferenceType"},{n:"data",rq:!0,en:"Data",ti:".DataType"}]},{ln:"ResponseBaseType",ps:[{n:"service",rq:!0,an:{lp:"service"},t:"a"},{n:"version",rq:!0,an:{lp:"version"},t:"a"},{n:"lang",rq:!0,an:{lp:"lang",ns:"http://www.w3.org/XML/1998/namespace"},t:"a"}]},{ln:"GetCapabilities",tn:null,ps:[{n:"acceptVersions",en:"AcceptVersions",ti:"OWS_1_1_0.AcceptVersionsType"},{n:"service",rq:!0,an:{lp:"service"},t:"a"},{n:"language",an:{lp:"language"},t:"a"}]}],eis:[{en:"ExecuteResponse",ti:".ExecuteResponse"},{en:"WSDL",ti:".WSDL"},{en:"Languages",ti:".Languages"},{en:"Capabilities",ti:".WPSCapabilitiesType"},{en:"GetCapabilities",ti:".GetCapabilities"},{en:"ProcessDescriptions",ti:".ProcessDescriptions"},{en:"Execute",ti:".Execute"},{en:"ProcessOfferings",ti:".ProcessOfferings"},{en:"DescribeProcess",ti:".DescribeProcess"}]}}})?i.apply(e,[]):i)||(t.exports=r)},Lwyg:function(t,e,n){"use strict";e.a={POINT:"point",LINE:"line"}},Lz6x:function(t,e,n){"use strict";var i=n("aBeY"),r=n("n2w5"),s=n("hKKC"),o=n("oWEL"),a=n("1Ggo"),l=n("Znq9"),c=n("2lJZ"),h=n("broj"),u=n("k/Gk");const d=Object(r.c)();class p{constructor(t,e,n,i,r){this.id_=r,this.type_=t,this.flatCoordinates_=e,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=n,this.properties_=i}get(t){return this.properties_[t]}getExtent(){return this.extent_||(this.extent_=this.type_===i.a.POINT?Object(s.n)(this.flatCoordinates_):Object(s.p)(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const t=Object(s.y)(this.getExtent());this.flatInteriorPoints_=Object(a.a)(this.flatCoordinates_,0,this.ends_,2,t,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const t=Object(h.a)(this.flatCoordinates_,0,this.ends_,2);this.flatInteriorPoints_=Object(a.b)(this.flatCoordinates_,0,this.ends_,2,t)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=Object(c.a)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const t=this.flatCoordinates_;let e=0;const n=this.ends_;for(let i=0,r=n.length;i<r;++i){const r=n[i],s=Object(c.a)(t,e,r,2,.5);Object(o.c)(this.flatMidpoints_,s),e=r}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(t){return this}simplifyTransformed(t,e){return this}getProperties(){return this.properties_}getStride(){return 2}getStyleFunction(){}getType(){return this.type_}transform(t){const e=(t=Object(l.i)(t)).getExtent(),n=t.getWorldExtent();if(e&&n){const t=Object(s.B)(n)/Object(s.B)(e);Object(r.b)(d,n[0],n[3],t,-t,0,0,0),Object(u.c)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,d,this.flatCoordinates_)}}getEnds(){return this.ends_}}p.prototype.getEndss=p.prototype.getEnds,p.prototype.getFlatCoordinates=p.prototype.getOrientedFlatCoordinates,e.a=p},"M/FA":function(t,e,n){"use strict";var i=n("GLbD"),r=n("7MqJ"),s=n("MvdC"),o=n("oY2l"),a=n("i3ci"),l=n("Bpkx"),c=n("hKKC"),h=n("dvVV"),u=n("i907"),d=n("j5yL"),p=n("Znq9"),f=n("LV+m"),m=n("UMcu");e.a=class extends r.a{constructor(t){const e=t||{},n=e.params||{};super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,imageSmoothing:e.imageSmoothing,opaque:!(!("TRANSPARENT"in n)||n.TRANSPARENT),projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition}),this.gutter_=void 0!==e.gutter?e.gutter:0,this.params_=n,this.v13_=!0,this.serverType_=e.serverType,this.hidpi_=void 0===e.hidpi||e.hidpi,this.tmpExtent_=Object(c.k)(),this.updateV13_(),this.setKey(this.getKeyForParams_())}getFeatureInfoUrl(t,e,n,r){const s=Object(p.i)(n),o=this.getProjection();let a=this.getTileGrid();a||(a=this.getTileGridForProjection(s));const d=a.getZForResolution(e,this.zDirection),f=a.getTileCoordForCoordAndZ(t,d);if(a.getResolutions().length<=f[0])return;let m=a.getResolution(f[0]),g=a.getTileCoordExtent(f,this.tmpExtent_),y=Object(h.d)(a.getTileSize(f[0]),this.tmpSize);const _=this.gutter_;0!==_&&(y=Object(h.a)(y,_,this.tmpSize),g=Object(c.d)(g,m*_,g)),o&&o!==s&&(m=Object(u.b)(o,s,t,m),g=Object(p.r)(g,s,o),t=Object(p.q)(t,s,o));const b={SERVICE:"WMS",VERSION:i.a,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};Object(l.a)(b,this.params_,r);const v=Math.floor((t[0]-g[0])/m),S=Math.floor((g[3]-t[1])/m);return b[this.v13_?"I":"X"]=v,b[this.v13_?"J":"Y"]=S,this.getRequestUrl_(f,y,g,1,o||s,b)}getLegendUrl(t,e){if(void 0===this.urls[0])return;const n={SERVICE:"WMS",VERSION:i.a,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===e||void 0===e.LAYER){const t=this.params_.LAYERS;if(Array.isArray(t)&&1!==t.length)return;n.LAYER=t}if(void 0!==t){const e=this.getProjection()?this.getProjection().getMetersPerUnit():1;n.SCALE=t*e/28e-5}return Object(l.a)(n,e),Object(o.a)(this.urls[0],n)}getGutter(){return this.gutter_}getParams(){return this.params_}getRequestUrl_(t,e,n,i,r,l){const c=this.urls;if(!c)return;if(l.WIDTH=e[0],l.HEIGHT=e[1],l[this.v13_?"CRS":"SRS"]=r.getCode(),"STYLES"in this.params_||(l.STYLES=""),1!=i)switch(this.serverType_){case s.a.GEOSERVER:const t=90*i+.5|0;"FORMAT_OPTIONS"in l?l.FORMAT_OPTIONS+=";dpi:"+t:l.FORMAT_OPTIONS="dpi:"+t;break;case s.a.MAPSERVER:l.MAP_RESOLUTION=90*i;break;case s.a.CARMENTA_SERVER:case s.a.QGIS:l.DPI=90*i;break;default:Object(a.a)(!1,52)}const h=r.getAxisOrientation(),u=n;if(this.v13_&&"ne"==h.substr(0,2)){let t;t=n[0],u[0]=n[1],u[1]=t,t=n[2],u[2]=n[3],u[3]=t}let d;return l.BBOX=u.join(","),d=1==c.length?c[0]:c[Object(f.e)(Object(m.e)(t),c.length)],Object(o.a)(d,l)}getTilePixelRatio(t){return this.hidpi_&&void 0!==this.serverType_?t:1}getKeyForParams_(){let t=0;const e=[];for(const n in this.params_)e[t++]=n+"-"+this.params_[n];return e.join("/")}updateParams(t){Object(l.a)(this.params_,t),this.updateV13_(),this.setKey(this.getKeyForParams_())}updateV13_(){const t=this.params_.VERSION||i.a;this.v13_=Object(d.a)(t,"1.3")>=0}tileUrlFunction(t,e,n){let r=this.getTileGrid();if(r||(r=this.getTileGridForProjection(n)),r.getResolutions().length<=t[0])return;1==e||this.hidpi_&&void 0!==this.serverType_||(e=1);const s=r.getResolution(t[0]);let o=r.getTileCoordExtent(t,this.tmpExtent_),a=Object(h.d)(r.getTileSize(t[0]),this.tmpSize);const u=this.gutter_;0!==u&&(a=Object(h.a)(a,u,this.tmpSize),o=Object(c.d)(o,s*u,o)),1!=e&&(a=Object(h.c)(a,e,this.tmpSize));const d={SERVICE:"WMS",VERSION:i.a,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};return Object(l.a)(d,this.params_),this.getRequestUrl_(t,a,o,e,n,d)}}},Msoz:function(t,e,n){"use strict";var i=n("G7/A");e.a=class{constructor(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||i.a[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(t){this.defaultTileGrid_=t}setExtent(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)}setWorldExtent(t){this.worldExtent_=t}setGetPointResolution(t){this.getPointResolutionFunc_=t}getPointResolutionFunc(){return this.getPointResolutionFunc_}}},MtjB:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("XNiG"),r=n("zx2A");function s(t){return e=>e.lift(new o(t,e))}class o{constructor(t,e){this.notifier=t,this.source=e}call(t,e){return e.subscribe(new a(t,this.notifier,this.source))}}class a extends r.b{constructor(t,e,n){super(t),this.notifier=e,this.source=n}error(t){if(!this.isStopped){let n=this.errors,s=this.retries,o=this.retriesSubscription;if(s)this.errors=void 0,this.retriesSubscription=void 0;else{n=new i.a;try{const{notifier:t}=this;s=t(n)}catch(e){return super.error(e)}o=Object(r.c)(s,new r.a(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=s,this.retriesSubscription=o,n.next(t)}}_unsubscribe(){const{errors:t,retriesSubscription:e}=this;t&&(t.unsubscribe(),this.errors=void 0),e&&(e.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}notifyNext(){const{_unsubscribe:t}=this;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=t,this.source.subscribe(this)}}},MvdC:function(t,e,n){"use strict";e.a={CARMENTA_SERVER:"carmentaserver",GEOSERVER:"geoserver",MAPSERVER:"mapserver",QGIS:"qgis"}},NJ4a:function(t,e,n){"use strict";function i(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return i})},NK00:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("Womt"),r=function(){function t(t){i.D.call(this,t),this.dracoLoader=null,this.ddsLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new a(t)}),this.register(function(t){return new c(t)}),this.register(function(t){return new h(t)}),this.register(function(t){return new l(t)}),this.register(function(t){return new s(t)}),this.register(function(t){return new u(t)})}function e(){var t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}t.prototype=Object.assign(Object.create(i.D.prototype),{constructor:t,load:function(t,e,n,r){var s,o=this;s=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:i.E.extractUrlBase(t),this.manager.itemStart(t);var a=function(e){r?r(e):console.error(e),o.manager.itemError(t),o.manager.itemEnd(t)},l=new i.n(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(t,function(n){try{o.parse(n,s,function(n){e(n),o.manager.itemEnd(t)},a)}catch(i){a(i)}},n,a)},setDRACOLoader:function(t){return this.dracoLoader=t,this},setDDSLoader:function(t){return this.ddsLoader=t,this},setKTX2Loader:function(t){return this.ktx2Loader=t,this},setMeshoptDecoder:function(t){return this.meshoptDecoder=t,this},register:function(t){return-1===this.pluginCallbacks.indexOf(t)&&this.pluginCallbacks.push(t),this},unregister:function(t){return-1!==this.pluginCallbacks.indexOf(t)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(t),1),this},parse:function(t,e,s,a){var l,c={},h={};if("string"==typeof t)l=t;else if(i.E.decodeText(new Uint8Array(t,0,4))===d){try{c[n.KHR_BINARY_GLTF]=new p(t)}catch(x){return void(a&&a(x))}l=c[n.KHR_BINARY_GLTF].content}else l=i.E.decodeText(new Uint8Array(t));var u=JSON.parse(l);if(void 0===u.asset||u.asset.version[0]<2)a&&a(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));else{var g=new L(u,{path:e||this.resourcePath||"",crossOrigin:this.crossOrigin,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});g.fileLoader.setRequestHeader(this.requestHeader);for(var b=0;b<this.pluginCallbacks.length;b++){var v=this.pluginCallbacks[b](g);h[v.name]=v,c[v.name]=!0}if(u.extensionsUsed)for(b=0;b<u.extensionsUsed.length;++b){var S=u.extensionsUsed[b],T=u.extensionsRequired||[];switch(S){case n.KHR_MATERIALS_UNLIT:c[S]=new o;break;case n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:c[S]=new y;break;case n.KHR_DRACO_MESH_COMPRESSION:c[S]=new f(u,this.dracoLoader);break;case n.MSFT_TEXTURE_DDS:c[S]=new r(this.ddsLoader);break;case n.KHR_TEXTURE_TRANSFORM:c[S]=new m;break;case n.KHR_MESH_QUANTIZATION:c[S]=new _;break;default:T.indexOf(S)>=0&&void 0===h[S]&&console.warn('THREE.GLTFLoader: Unknown extension "'+S+'".')}}g.setExtensions(c),g.setPlugins(h),g.parse(s,a)}}});var n={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",MSFT_TEXTURE_DDS:"MSFT_texture_dds"};function r(t){if(!t)throw new Error("THREE.GLTFLoader: Attempting to load .dds texture without importing DDSLoader");this.name=n.MSFT_TEXTURE_DDS,this.ddsLoader=t}function s(t){this.parser=t,this.name=n.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}function o(){this.name=n.KHR_MATERIALS_UNLIT}function a(t){this.parser=t,this.name=n.KHR_MATERIALS_CLEARCOAT}function l(t){this.parser=t,this.name=n.KHR_MATERIALS_TRANSMISSION}function c(t){this.parser=t,this.name=n.KHR_TEXTURE_BASISU}function h(t){this.parser=t,this.name=n.EXT_TEXTURE_WEBP,this.isSupported=null}function u(t){this.name=n.EXT_MESHOPT_COMPRESSION,this.parser=t}s.prototype._markDefs=function(){for(var t=this.parser,e=this.parser.json.nodes||[],n=0,i=e.length;n<i;n++){var r=e[n];r.extensions&&r.extensions[this.name]&&void 0!==r.extensions[this.name].light&&t._addNodeRef(this.cache,r.extensions[this.name].light)}},s.prototype._loadLight=function(t){var e=this.parser,n="light:"+t,r=e.cache.get(n);if(r)return r;var s,o=e.json,a=((o.extensions&&o.extensions[this.name]||{}).lights||[])[t],l=new i.h(16777215);void 0!==a.color&&l.fromArray(a.color);var c=void 0!==a.range?a.range:0;switch(a.type){case"directional":(s=new i.j(l)).target.position.set(0,0,-1),s.add(s.target);break;case"point":(s=new i.W(l)).distance=c;break;case"spot":(s=new i.lb(l)).distance=c,a.spot=a.spot||{},a.spot.innerConeAngle=void 0!==a.spot.innerConeAngle?a.spot.innerConeAngle:0,a.spot.outerConeAngle=void 0!==a.spot.outerConeAngle?a.spot.outerConeAngle:Math.PI/4,s.angle=a.spot.outerConeAngle,s.penumbra=1-a.spot.innerConeAngle/a.spot.outerConeAngle,s.target.position.set(0,0,-1),s.add(s.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+a.type)}return s.position.set(0,0,0),s.decay=2,void 0!==a.intensity&&(s.intensity=a.intensity),s.name=e.createUniqueName(a.name||"light_"+t),r=Promise.resolve(s),e.cache.add(n,r),r},s.prototype.createNodeAttachment=function(t){var e=this,n=this.parser,i=n.json.nodes[t],r=(i.extensions&&i.extensions[this.name]||{}).light;return void 0===r?null:this._loadLight(r).then(function(t){return n._getNodeRef(e.cache,r,t)})},o.prototype.getMaterialType=function(){return i.K},o.prototype.extendParams=function(t,e,n){var r=[];t.color=new i.h(1,1,1),t.opacity=1;var s=e.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){var o=s.baseColorFactor;t.color.fromArray(o),t.opacity=o[3]}void 0!==s.baseColorTexture&&r.push(n.assignTexture(t,"map",s.baseColorTexture))}return Promise.all(r)},a.prototype.getMaterialType=function(t){var e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?i.M:null},a.prototype.extendMaterialParams=function(t,e){var n=this.parser,r=n.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var s=[],o=r.extensions[this.name];if(void 0!==o.clearcoatFactor&&(e.clearcoat=o.clearcoatFactor),void 0!==o.clearcoatTexture&&s.push(n.assignTexture(e,"clearcoatMap",o.clearcoatTexture)),void 0!==o.clearcoatRoughnessFactor&&(e.clearcoatRoughness=o.clearcoatRoughnessFactor),void 0!==o.clearcoatRoughnessTexture&&s.push(n.assignTexture(e,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),void 0!==o.clearcoatNormalTexture&&(s.push(n.assignTexture(e,"clearcoatNormalMap",o.clearcoatNormalTexture)),void 0!==o.clearcoatNormalTexture.scale)){var a=o.clearcoatNormalTexture.scale;e.clearcoatNormalScale=new i.rb(a,-a)}return Promise.all(s)},l.prototype.getMaterialType=function(t){var e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?i.M:null},l.prototype.extendMaterialParams=function(t,e){var n=this.parser,i=n.json.materials[t];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();var r=[],s=i.extensions[this.name];return void 0!==s.transmissionFactor&&(e.transmission=s.transmissionFactor),void 0!==s.transmissionTexture&&r.push(n.assignTexture(e,"transmissionMap",s.transmissionTexture)),Promise.all(r)},c.prototype.loadTexture=function(t){var e=this.parser,n=e.json,i=n.textures[t];if(!i.extensions||!i.extensions[this.name])return null;var r=n.images[i.extensions[this.name].source],s=e.options.ktx2Loader;if(!s){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return e.loadTextureImage(t,r,s)},h.prototype.loadTexture=function(t){var e=this.name,n=this.parser,i=n.json,r=i.textures[t];if(!r.extensions||!r.extensions[e])return null;var s=i.images[r.extensions[e].source],o=s.uri?n.options.manager.getHandler(s.uri):n.textureLoader;return this.detectSupport().then(function(r){if(r)return n.loadTextureImage(t,s,o);if(i.extensionsRequired&&i.extensionsRequired.indexOf(e)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(t)})},h.prototype.detectSupport=function(){return this.isSupported||(this.isSupported=new Promise(function(t){var e=new Image;e.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",e.onload=e.onerror=function(){t(1===e.height)}})),this.isSupported},u.prototype.loadBufferView=function(t){var e=this.parser.json,n=e.bufferViews[t];if(n.extensions&&n.extensions[this.name]){var i=n.extensions[this.name],r=this.parser.getDependency("buffer",i.buffer),s=this.parser.options.meshoptDecoder;if(!s||!s.supported){if(e.extensionsRequired&&e.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Promise.all([r,s.ready]).then(function(t){var e=i.byteOffset||0,n=i.byteLength||0,r=i.count,o=i.byteStride,a=new ArrayBuffer(r*o),l=new Uint8Array(t[0],e,n);return s.decodeGltfBuffer(new Uint8Array(a),r,o,l,i.mode,i.filter),a})}return null};var d="glTF";function p(t){this.name=n.KHR_BINARY_GLTF,this.content=null,this.body=null;var e=new DataView(t,0,12);if(this.header={magic:i.E.decodeText(new Uint8Array(t.slice(0,4))),version:e.getUint32(4,!0),length:e.getUint32(8,!0)},this.header.magic!==d)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");for(var r=this.header.length-12,s=new DataView(t,12),o=0;o<r;){var a=s.getUint32(o,!0),l=s.getUint32(o+=4,!0);if(o+=4,1313821514===l){var c=new Uint8Array(t,12+o,a);this.content=i.E.decodeText(c)}else if(5130562===l){var h=12+o;this.body=t.slice(h,h+a)}o+=a}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}function f(t,e){if(!e)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=n.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=e,this.dracoLoader.preload()}function m(){this.name=n.KHR_TEXTURE_TRANSFORM}function g(t){i.N.call(this),this.isGLTFSpecularGlossinessMaterial=!0;var e=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),n=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),r=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),s=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),o=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.specularRoughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.specularRoughness += geometryRoughness;","material.specularRoughness = min( material.specularRoughness, 1.0 );","material.specularColor = specularFactor;"].join("\n"),a={specular:{value:(new i.h).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=a,this.onBeforeCompile=function(t){for(var i in a)t.uniforms[i]=a[i];t.fragmentShader=t.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",e).replace("#include <metalnessmap_pars_fragment>",n).replace("#include <roughnessmap_fragment>",r).replace("#include <metalnessmap_fragment>",s).replace("#include <lights_physical_fragment>",o)},Object.defineProperties(this,{specular:{get:function(){return a.specular.value},set:function(t){a.specular.value=t}},specularMap:{get:function(){return a.specularMap.value},set:function(t){a.specularMap.value=t,t?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return a.glossiness.value},set:function(t){a.glossiness.value=t}},glossinessMap:{get:function(){return a.glossinessMap.value},set:function(t){a.glossinessMap.value=t,t?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(t)}function y(){return{name:n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,specularGlossinessParams:["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"],getMaterialType:function(){return g},extendParams:function(t,e,n){var r=e.extensions[this.name];t.color=new i.h(1,1,1),t.opacity=1;var s=[];if(Array.isArray(r.diffuseFactor)){var o=r.diffuseFactor;t.color.fromArray(o),t.opacity=o[3]}if(void 0!==r.diffuseTexture&&s.push(n.assignTexture(t,"map",r.diffuseTexture)),t.emissive=new i.h(0,0,0),t.glossiness=void 0!==r.glossinessFactor?r.glossinessFactor:1,t.specular=new i.h(1,1,1),Array.isArray(r.specularFactor)&&t.specular.fromArray(r.specularFactor),void 0!==r.specularGlossinessTexture){var a=r.specularGlossinessTexture;s.push(n.assignTexture(t,"glossinessMap",a)),s.push(n.assignTexture(t,"specularMap",a))}return Promise.all(s)},createMaterial:function(t){var e=new g(t);return e.fog=!0,e.color=t.color,e.map=void 0===t.map?null:t.map,e.lightMap=null,e.lightMapIntensity=1,e.aoMap=void 0===t.aoMap?null:t.aoMap,e.aoMapIntensity=1,e.emissive=t.emissive,e.emissiveIntensity=1,e.emissiveMap=void 0===t.emissiveMap?null:t.emissiveMap,e.bumpMap=void 0===t.bumpMap?null:t.bumpMap,e.bumpScale=1,e.normalMap=void 0===t.normalMap?null:t.normalMap,e.normalMapType=i.nb,t.normalScale&&(e.normalScale=t.normalScale),e.displacementMap=null,e.displacementScale=1,e.displacementBias=0,e.specularMap=void 0===t.specularMap?null:t.specularMap,e.specular=t.specular,e.glossinessMap=void 0===t.glossinessMap?null:t.glossinessMap,e.glossiness=t.glossiness,e.alphaMap=null,e.envMap=void 0===t.envMap?null:t.envMap,e.envMapIntensity=1,e.refractionRatio=.98,e}}}function _(){this.name=n.KHR_MESH_QUANTIZATION}function b(t,e,n,r){i.t.call(this,t,e,n,r)}f.prototype.decodePrimitive=function(t,e){var n=this.json,i=this.dracoLoader,r=t.extensions[this.name].bufferView,s=t.extensions[this.name].attributes,o={},a={},l={};for(var c in s){var h=w[c]||c.toLowerCase();o[h]=s[c]}for(c in t.attributes)if(h=w[c]||c.toLowerCase(),void 0!==s[c]){var u=n.accessors[t.attributes[c]];l[h]=v[u.componentType],a[h]=!0===u.normalized}return e.getDependency("bufferView",r).then(function(t){return new Promise(function(e){i.decodeDracoFile(t,function(t){for(var n in t.attributes){var i=a[n];void 0!==i&&(t.attributes[n].normalized=i)}e(t)},o,l)})})},m.prototype.extendTexture=function(t,e){return t=t.clone(),void 0!==e.offset&&t.offset.fromArray(e.offset),void 0!==e.rotation&&(t.rotation=e.rotation),void 0!==e.scale&&t.repeat.fromArray(e.scale),void 0!==e.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),t.needsUpdate=!0,t},(g.prototype=Object.create(i.N.prototype)).constructor=g,g.prototype.copy=function(t){return i.N.prototype.copy.call(this,t),this.specularMap=t.specularMap,this.specular.copy(t.specular),this.glossinessMap=t.glossinessMap,this.glossiness=t.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this},(b.prototype=Object.create(i.t.prototype)).constructor=b,b.prototype.beforeStart_=b.prototype.copySampleValue_=function(t){for(var e=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=t*i*3+i,s=0;s!==i;s++)e[s]=n[r+s];return e},b.prototype.afterEnd_=b.prototype.copySampleValue_,b.prototype.interpolate_=function(t,e,n,i){for(var r=this.resultBuffer,s=this.sampleValues,o=this.valueSize,a=2*o,l=3*o,c=i-e,h=(n-e)/c,u=h*h,d=u*h,p=t*l,f=p-l,m=-2*d+3*u,g=d-u,y=1-m,_=g-u+h,b=0;b!==o;b++)r[b]=y*s[f+b+o]+_*(s[f+b+a]*c)+m*s[p+b+o]+g*(s[p+b]*c);return r};var v={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},S={9728:i.P,9729:i.A,9984:i.R,9985:i.C,9986:i.Q,9987:i.B},T={33071:i.g,33648:i.O,10497:i.db},x={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},w={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},E={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},C={CUBICSPLINE:void 0,LINEAR:i.v,STEP:i.u};function M(t,e){return"string"!=typeof t||""===t?"":(/^https?:\/\//i.test(e)&&/^\//.test(t)&&(e=e.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t)?t:e+t)}function O(t,e,n){for(var i in n.extensions)void 0===t[i]&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=n.extensions[i])}function A(t,e){void 0!==e.extras&&("object"==typeof e.extras?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function I(t,e){if(t.updateMorphTargets(),void 0!==e.weights)for(var n=0,i=e.weights.length;n<i;n++)t.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){var r=e.extras.targetNames;if(t.morphTargetInfluences.length===r.length)for(t.morphTargetDictionary={},n=0,i=r.length;n<i;n++)t.morphTargetDictionary[r[n]]=n;else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function R(t){for(var e="",n=Object.keys(t).sort(),i=0,r=n.length;i<r;i++)e+=n[i]+":"+t[n[i]]+";";return e}function L(t,n){this.json=t||{},this.extensions={},this.plugins={},this.options=n||{},this.cache=new e,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.nodeNamesUsed={},this.textureLoader="undefined"!=typeof createImageBitmap&&!1===/Firefox/.test(navigator.userAgent)?new i.q(this.options.manager):new i.ob(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.fileLoader=new i.n(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}function P(t,e,n){var r=e.attributes,s=[];function o(e,i){return n.getDependency("accessor",e).then(function(e){t.setAttribute(i,e)})}for(var a in r){var l=w[a]||a.toLowerCase();l in t.attributes||s.push(o(r[a],l))}if(void 0!==e.indices&&!t.index){var c=n.getDependency("accessor",e.indices).then(function(e){t.setIndex(e)});s.push(c)}return A(t,e),function(t,e,n){var r=e.attributes,s=new i.c;if(void 0!==r.POSITION){var o=(d=n.json.accessors[r.POSITION]).max;if(void 0!==(p=d.min)&&void 0!==o){s.set(new i.sb(p[0],p[1],p[2]),new i.sb(o[0],o[1],o[2]));var a=e.targets;if(void 0!==a){for(var l=new i.sb,c=new i.sb,h=0,u=a.length;h<u;h++){var d,p,f=a[h];void 0!==f.POSITION&&(o=(d=n.json.accessors[f.POSITION]).max,void 0!==(p=d.min)&&void 0!==o?(c.setX(Math.max(Math.abs(p[0]),Math.abs(o[0]))),c.setY(Math.max(Math.abs(p[1]),Math.abs(o[1]))),c.setZ(Math.max(Math.abs(p[2]),Math.abs(o[2]))),l.max(c)):console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION."))}s.expandByVector(l)}t.boundingBox=s;var m=new i.jb;s.getCenter(m.center),m.radius=s.min.distanceTo(s.max)/2,t.boundingSphere=m}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}(t,e,n),Promise.all(s).then(function(){return void 0!==e.targets?function(t,e,n){for(var i=!1,r=!1,s=0,o=e.length;s<o&&(void 0!==(c=e[s]).POSITION&&(i=!0),void 0!==c.NORMAL&&(r=!0),!i||!r);s++);if(!i&&!r)return Promise.resolve(t);var a=[],l=[];for(s=0,o=e.length;s<o;s++){var c=e[s];if(i){var h=void 0!==c.POSITION?n.getDependency("accessor",c.POSITION):t.attributes.position;a.push(h)}r&&(h=void 0!==c.NORMAL?n.getDependency("accessor",c.NORMAL):t.attributes.normal,l.push(h))}return Promise.all([Promise.all(a),Promise.all(l)]).then(function(e){var n=e[1];return i&&(t.morphAttributes.position=e[0]),r&&(t.morphAttributes.normal=n),t.morphTargetsRelative=!0,t})}(t,e.targets,n):t})}function D(t,e){var n=t.getIndex();if(null===n){var r=[],s=t.getAttribute("position");if(void 0===s)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t;for(var o=0;o<s.count;o++)r.push(o);t.setIndex(r),n=t.getIndex()}var a=n.count-2,l=[];if(e===i.pb)for(o=1;o<=a;o++)l.push(n.getX(0)),l.push(n.getX(o)),l.push(n.getX(o+1));else for(o=0;o<a;o++)o%2==0?(l.push(n.getX(o)),l.push(n.getX(o+1)),l.push(n.getX(o+2))):(l.push(n.getX(o+2)),l.push(n.getX(o+1)),l.push(n.getX(o)));l.length/3!==a&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var c=t.clone();return c.setIndex(l),c}return L.prototype.setExtensions=function(t){this.extensions=t},L.prototype.setPlugins=function(t){this.plugins=t},L.prototype.parse=function(t,e){var n=this,i=this.json,r=this.extensions;this.cache.removeAll(),this._invokeAll(function(t){return t._markDefs&&t._markDefs()}),Promise.all([this.getDependencies("scene"),this.getDependencies("animation"),this.getDependencies("camera")]).then(function(e){var s={scene:e[0][i.scene||0],scenes:e[0],animations:e[1],cameras:e[2],asset:i.asset,parser:n,userData:{}};O(r,s,i),A(s,i),t(s)}).catch(e)},L.prototype._markDefs=function(){for(var t=this.json.nodes||[],e=this.json.skins||[],n=this.json.meshes||[],i=0,r=e.length;i<r;i++)for(var s=e[i].joints,o=0,a=s.length;o<a;o++)t[s[o]].isBone=!0;for(var l=0,c=t.length;l<c;l++){var h=t[l];void 0!==h.mesh&&(this._addNodeRef(this.meshCache,h.mesh),void 0!==h.skin&&(n[h.mesh].isSkinnedMesh=!0)),void 0!==h.camera&&this._addNodeRef(this.cameraCache,h.camera)}},L.prototype._addNodeRef=function(t,e){void 0!==e&&(void 0===t.refs[e]&&(t.refs[e]=t.uses[e]=0),t.refs[e]++)},L.prototype._getNodeRef=function(t,e,n){if(t.refs[e]<=1)return n;var i=n.clone();return i.name+="_instance_"+t.uses[e]++,i},L.prototype._invokeOne=function(t){var e=Object.values(this.plugins);e.push(this);for(var n=0;n<e.length;n++){var i=t(e[n]);if(i)return i}},L.prototype._invokeAll=function(t){var e=Object.values(this.plugins);e.unshift(this);for(var n=[],i=0;i<e.length;i++){var r=t(e[i]);r&&n.push(r)}return n},L.prototype.getDependency=function(t,e){var n=t+":"+e,i=this.cache.get(n);if(!i){switch(t){case"scene":i=this.loadScene(e);break;case"node":i=this.loadNode(e);break;case"mesh":i=this._invokeOne(function(t){return t.loadMesh&&t.loadMesh(e)});break;case"accessor":i=this.loadAccessor(e);break;case"bufferView":i=this._invokeOne(function(t){return t.loadBufferView&&t.loadBufferView(e)});break;case"buffer":i=this.loadBuffer(e);break;case"material":i=this._invokeOne(function(t){return t.loadMaterial&&t.loadMaterial(e)});break;case"texture":i=this._invokeOne(function(t){return t.loadTexture&&t.loadTexture(e)});break;case"skin":i=this.loadSkin(e);break;case"animation":i=this.loadAnimation(e);break;case"camera":i=this.loadCamera(e);break;default:throw new Error("Unknown type: "+t)}this.cache.add(n,i)}return i},L.prototype.getDependencies=function(t){var e=this.cache.get(t);if(!e){var n=this;e=Promise.all((this.json[t+("mesh"===t?"es":"s")]||[]).map(function(e,i){return n.getDependency(t,i)})),this.cache.add(t,e)}return e},L.prototype.loadBuffer=function(t){var e=this.json.buffers[t],i=this.fileLoader;if(e.type&&"arraybuffer"!==e.type)throw new Error("THREE.GLTFLoader: "+e.type+" buffer type is not supported.");if(void 0===e.uri&&0===t)return Promise.resolve(this.extensions[n.KHR_BINARY_GLTF].body);var r=this.options;return new Promise(function(t,n){i.load(M(e.uri,r.path),t,void 0,function(){n(new Error('THREE.GLTFLoader: Failed to load buffer "'+e.uri+'".'))})})},L.prototype.loadBufferView=function(t){var e=this.json.bufferViews[t];return this.getDependency("buffer",e.buffer).then(function(t){var n=e.byteOffset||0;return t.slice(n,n+(e.byteLength||0))})},L.prototype.loadAccessor=function(t){var e=this,n=this.json,r=this.json.accessors[t];if(void 0===r.bufferView&&void 0===r.sparse)return Promise.resolve(null);var s=[];return s.push(void 0!==r.bufferView?this.getDependency("bufferView",r.bufferView):null),void 0!==r.sparse&&(s.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(s).then(function(t){var s,o,a=t[0],l=x[r.type],c=v[r.componentType],h=c.BYTES_PER_ELEMENT,u=r.byteOffset||0,d=void 0!==r.bufferView?n.bufferViews[r.bufferView].byteStride:void 0,p=!0===r.normalized;if(d&&d!==h*l){var f=Math.floor(u/d),m="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+f+":"+r.count,g=e.cache.get(m);g||(s=new c(a,f*d,r.count*d/h),g=new i.r(s,d/h),e.cache.add(m,g)),o=new i.s(g,l,u%d/h,p)}else s=null===a?new c(r.count*l):new c(a,u,r.count*l),o=new i.d(s,l,p);if(void 0!==r.sparse){var y=r.sparse.values.byteOffset||0,_=new(0,v[r.sparse.indices.componentType])(t[1],r.sparse.indices.byteOffset||0,r.sparse.count*x.SCALAR),b=new c(t[2],y,r.sparse.count*l);null!==a&&(o=new i.d(o.array.slice(),o.itemSize,o.normalized));for(var S=0,T=_.length;S<T;S++){var w=_[S];if(o.setX(w,b[S*l]),l>=2&&o.setY(w,b[S*l+1]),l>=3&&o.setZ(w,b[S*l+2]),l>=4&&o.setW(w,b[S*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return o})},L.prototype.loadTexture=function(t){var e,i,r=this.json,s=r.textures[t],o=s.extensions||{};return(e=o[n.MSFT_TEXTURE_DDS]?r.images[o[n.MSFT_TEXTURE_DDS].source]:r.images[s.source]).uri&&(i=this.options.manager.getHandler(e.uri)),i||(i=o[n.MSFT_TEXTURE_DDS]?this.extensions[n.MSFT_TEXTURE_DDS].ddsLoader:this.textureLoader),this.loadTextureImage(t,e,i)},L.prototype.loadTextureImage=function(t,e,n){var r=this,s=this.json,o=this.options,a=s.textures[t],l=self.URL||self.webkitURL,c=e.uri,h=!1,u=!0;return"image/jpeg"===e.mimeType&&(u=!1),void 0!==e.bufferView&&(c=r.getDependency("bufferView",e.bufferView).then(function(t){if("image/png"===e.mimeType){var n=new DataView(t,25,1).getUint8(0,!1);u=6===n||4===n||3===n}h=!0;var i=new Blob([t],{type:e.mimeType});return c=l.createObjectURL(i)})),Promise.resolve(c).then(function(t){return new Promise(function(e,r){var s=e;!0===n.isImageBitmapLoader&&(s=function(t){e(new i.f(t))}),n.load(M(t,o.path),s,void 0,r)})}).then(function(e){!0===h&&l.revokeObjectURL(c),e.flipY=!1,a.name&&(e.name=a.name),u||(e.format=i.cb);var n=(s.samplers||{})[a.sampler]||{};return e.magFilter=S[n.magFilter]||i.A,e.minFilter=S[n.minFilter]||i.B,e.wrapS=T[n.wrapS]||i.db,e.wrapT=T[n.wrapT]||i.db,r.associations.set(e,{type:"textures",index:t}),e})},L.prototype.assignTexture=function(t,e,i){var r=this;return this.getDependency("texture",i.index).then(function(s){if(void 0===i.texCoord||0==i.texCoord||"aoMap"===e&&1==i.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+i.texCoord+" for texture "+e+" not yet supported."),r.extensions[n.KHR_TEXTURE_TRANSFORM]){var o=void 0!==i.extensions?i.extensions[n.KHR_TEXTURE_TRANSFORM]:void 0;if(o){var a=r.associations.get(s);s=r.extensions[n.KHR_TEXTURE_TRANSFORM].extendTexture(s,o),r.associations.set(s,a)}}t[e]=s})},L.prototype.assignFinalMaterial=function(t){var e=t.geometry,n=t.material,r=void 0!==e.attributes.tangent,s=void 0!==e.attributes.color,o=void 0===e.attributes.normal,a=!0===t.isSkinnedMesh,l=Object.keys(e.morphAttributes).length>0,c=l&&void 0!==e.morphAttributes.normal;if(t.isPoints){var h=this.cache.get(d="PointsMaterial:"+n.uuid);h||(h=new i.Y,i.G.prototype.copy.call(h,n),h.color.copy(n.color),h.map=n.map,h.sizeAttenuation=!1,this.cache.add(d,h)),n=h}else if(t.isLine){var u=this.cache.get(d="LineBasicMaterial:"+n.uuid);u||(u=new i.x,i.G.prototype.copy.call(u,n),u.color.copy(n.color),this.cache.add(d,u)),n=u}if(r||s||o||a||l){var d="ClonedMaterial:"+n.uuid+":";n.isGLTFSpecularGlossinessMaterial&&(d+="specular-glossiness:"),a&&(d+="skinning:"),r&&(d+="vertex-tangents:"),s&&(d+="vertex-colors:"),o&&(d+="flat-shading:"),l&&(d+="morph-targets:"),c&&(d+="morph-normals:");var p=this.cache.get(d);p||(p=n.clone(),a&&(p.skinning=!0),s&&(p.vertexColors=!0),o&&(p.flatShading=!0),l&&(p.morphTargets=!0),c&&(p.morphNormals=!0),r&&(p.vertexTangents=!0,p.normalScale&&(p.normalScale.y*=-1),p.clearcoatNormalScale&&(p.clearcoatNormalScale.y*=-1)),this.cache.add(d,p),this.associations.set(p,this.associations.get(n))),n=p}n.aoMap&&void 0===e.attributes.uv2&&void 0!==e.attributes.uv&&e.setAttribute("uv2",e.attributes.uv),t.material=n},L.prototype.getMaterialType=function(){return i.N},L.prototype.loadMaterial=function(t){var e,r=this,s=this.extensions,o=this.json.materials[t],a={},l=o.extensions||{},c=[];if(l[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var h=s[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];e=h.getMaterialType(),c.push(h.extendParams(a,o,r))}else if(l[n.KHR_MATERIALS_UNLIT]){var u=s[n.KHR_MATERIALS_UNLIT];e=u.getMaterialType(),c.push(u.extendParams(a,o,r))}else{var d=o.pbrMetallicRoughness||{};if(a.color=new i.h(1,1,1),a.opacity=1,Array.isArray(d.baseColorFactor)){var p=d.baseColorFactor;a.color.fromArray(p),a.opacity=p[3]}void 0!==d.baseColorTexture&&c.push(r.assignTexture(a,"map",d.baseColorTexture)),a.metalness=void 0!==d.metallicFactor?d.metallicFactor:1,a.roughness=void 0!==d.roughnessFactor?d.roughnessFactor:1,void 0!==d.metallicRoughnessTexture&&(c.push(r.assignTexture(a,"metalnessMap",d.metallicRoughnessTexture)),c.push(r.assignTexture(a,"roughnessMap",d.metallicRoughnessTexture))),e=this._invokeOne(function(e){return e.getMaterialType&&e.getMaterialType(t)}),c.push(Promise.all(this._invokeAll(function(e){return e.extendMaterialParams&&e.extendMaterialParams(t,a)})))}!0===o.doubleSided&&(a.side=i.k);var f=o.alphaMode||"OPAQUE";return"BLEND"===f?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,"MASK"===f&&(a.alphaTest=void 0!==o.alphaCutoff?o.alphaCutoff:.5)),void 0!==o.normalTexture&&e!==i.K&&(c.push(r.assignTexture(a,"normalMap",o.normalTexture)),a.normalScale=new i.rb(1,-1),void 0!==o.normalTexture.scale&&a.normalScale.set(o.normalTexture.scale,-o.normalTexture.scale)),void 0!==o.occlusionTexture&&e!==i.K&&(c.push(r.assignTexture(a,"aoMap",o.occlusionTexture)),void 0!==o.occlusionTexture.strength&&(a.aoMapIntensity=o.occlusionTexture.strength)),void 0!==o.emissiveFactor&&e!==i.K&&(a.emissive=(new i.h).fromArray(o.emissiveFactor)),void 0!==o.emissiveTexture&&e!==i.K&&c.push(r.assignTexture(a,"emissiveMap",o.emissiveTexture)),Promise.all(c).then(function(){var l;return l=e===g?s[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(a):new e(a),o.name&&(l.name=o.name),l.map&&(l.map.encoding=i.vb),l.emissiveMap&&(l.emissiveMap.encoding=i.vb),A(l,o),r.associations.set(l,{type:"materials",index:t}),o.extensions&&O(s,l,o),l})},L.prototype.createUniqueName=function(t){for(var e=i.Z.sanitizeNodeName(t||""),n=e,r=1;this.nodeNamesUsed[n];++r)n=e+"_"+r;return this.nodeNamesUsed[n]=!0,n},L.prototype.loadGeometries=function(t){var e=this,r=this.extensions,s=this.primitiveCache;function o(t){return r[n.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(t,e).then(function(n){return P(n,t,e)})}for(var a,l,c=[],h=0,u=t.length;h<u;h++){var d,p=t[h],f=(l=(a=p).extensions&&a.extensions[n.KHR_DRACO_MESH_COMPRESSION])?"draco:"+l.bufferView+":"+l.indices+":"+R(l.attributes):a.indices+":"+R(a.attributes)+":"+a.mode,m=s[f];m?c.push(m.promise):(d=p.extensions&&p.extensions[n.KHR_DRACO_MESH_COMPRESSION]?o(p):P(new i.e,p,e),s[f]={primitive:p,promise:d},c.push(d))}return Promise.all(c)},L.prototype.loadMesh=function(t){for(var e,n=this,r=this.extensions,s=this.json.meshes[t],o=s.primitives,a=[],l=0,c=o.length;l<c;l++){var h=void 0===o[l].material?(void 0===(e=this.cache).DefaultMaterial&&(e.DefaultMaterial=new i.N({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:i.o})),e.DefaultMaterial):this.getDependency("material",o[l].material);a.push(h)}return a.push(n.loadGeometries(o)),Promise.all(a).then(function(e){for(var a=e.slice(0,e.length-1),l=e[e.length-1],c=[],h=0,u=l.length;h<u;h++){var d,p=l[h],f=o[h],m=a[h];if(4===f.mode||5===f.mode||6===f.mode||void 0===f.mode)d=!0===s.isSkinnedMesh?new i.ib(p,m):new i.J(p,m),!0===m.isMeshStandardMaterial&&m.side===i.k&&null!==p.getIndex()&&!0===p.hasAttribute("position")&&!0===p.hasAttribute("normal")&&!0===p.hasAttribute("uv")&&!1===p.hasAttribute("tangent")&&(p.computeTangents(),m.vertexTangents=!0),!0!==d.isSkinnedMesh||d.geometry.attributes.skinWeight.normalized||d.normalizeSkinWeights(),5===f.mode?d.geometry=D(d.geometry,i.qb):6===f.mode&&(d.geometry=D(d.geometry,i.pb));else if(1===f.mode)d=new i.z(p,m);else if(3===f.mode)d=new i.w(p,m);else if(2===f.mode)d=new i.y(p,m);else{if(0!==f.mode)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+f.mode);d=new i.X(p,m)}Object.keys(d.geometry.morphAttributes).length>0&&I(d,s),d.name=n.createUniqueName(s.name||"mesh_"+t),A(d,s),f.extensions&&O(r,d,f),n.assignFinalMaterial(d),c.push(d)}if(1===c.length)return c[0];var g=new i.p;for(h=0,u=c.length;h<u;h++)g.add(c[h]);return g})},L.prototype.loadCamera=function(t){var e,n=this.json.cameras[t],r=n[n.type];if(r)return"perspective"===n.type?e=new i.V(i.H.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):"orthographic"===n.type&&(e=new i.U(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),n.name&&(e.name=this.createUniqueName(n.name)),A(e,n),Promise.resolve(e);console.warn("THREE.GLTFLoader: Missing camera parameters.")},L.prototype.loadSkin=function(t){var e=this.json.skins[t],n={joints:e.joints};return void 0===e.inverseBindMatrices?Promise.resolve(n):this.getDependency("accessor",e.inverseBindMatrices).then(function(t){return n.inverseBindMatrices=t,n})},L.prototype.loadAnimation=function(t){for(var e=this.json.animations[t],n=[],r=[],s=[],o=[],a=[],l=0,c=e.channels.length;l<c;l++){var h=e.channels[l],u=e.samplers[h.sampler],d=h.target,p=void 0!==e.parameters?e.parameters[u.input]:u.input,f=void 0!==e.parameters?e.parameters[u.output]:u.output;n.push(this.getDependency("node",void 0!==d.node?d.node:d.id)),r.push(this.getDependency("accessor",p)),s.push(this.getDependency("accessor",f)),o.push(u),a.push(d)}return Promise.all([Promise.all(n),Promise.all(r),Promise.all(s),Promise.all(o),Promise.all(a)]).then(function(n){for(var r=n[0],s=n[1],o=n[2],a=n[3],l=n[4],c=[],h=0,u=r.length;h<u;h++){var d=r[h],p=s[h],f=o[h],m=a[h],g=l[h];if(void 0!==d){var y;switch(d.updateMatrix(),d.matrixAutoUpdate=!0,E[g.path]){case E.weights:y=i.S;break;case E.rotation:y=i.bb;break;case E.position:case E.scale:default:y=i.tb}var _=d.name?d.name:d.uuid,v=void 0!==m.interpolation?C[m.interpolation]:i.v,S=[];E[g.path]===E.weights?d.traverse(function(t){!0===t.isMesh&&t.morphTargetInfluences&&S.push(t.name?t.name:t.uuid)}):S.push(_);var T=f.array;if(f.normalized){var x;if(T.constructor===Int8Array)x=1/127;else if(T.constructor===Uint8Array)x=1/255;else if(T.constructor==Int16Array)x=1/32767;else{if(T.constructor!==Uint16Array)throw new Error("THREE.GLTFLoader: Unsupported output accessor component type.");x=1/65535}for(var w=new Float32Array(T.length),M=0,O=T.length;M<O;M++)w[M]=T[M]*x;T=w}for(M=0,O=S.length;M<O;M++){var A=new y(S[M]+"."+E[g.path],p.array,T,v);"CUBICSPLINE"===m.interpolation&&(A.createInterpolant=function(t){return new b(this.times,this.values,this.getValueSize()/3,t)},A.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),c.push(A)}}}return new i.a(e.name?e.name:"animation_"+t,void 0,c)})},L.prototype.loadNode=function(t){var e,n=this.extensions,r=this,s=this.json.nodes[t],o=s.name?r.createUniqueName(s.name):"";return(e=[],void 0!==s.mesh&&e.push(r.getDependency("mesh",s.mesh).then(function(t){var e=r._getNodeRef(r.meshCache,s.mesh,t);return void 0!==s.weights&&e.traverse(function(t){if(t.isMesh)for(var e=0,n=s.weights.length;e<n;e++)t.morphTargetInfluences[e]=s.weights[e]}),e})),void 0!==s.camera&&e.push(r.getDependency("camera",s.camera).then(function(t){return r._getNodeRef(r.cameraCache,s.camera,t)})),r._invokeAll(function(e){return e.createNodeAttachment&&e.createNodeAttachment(t)}).forEach(function(t){e.push(t)}),Promise.all(e)).then(function(e){var a;if((a=!0===s.isBone?new i.b:e.length>1?new i.p:1===e.length?e[0]:new i.T)!==e[0])for(var l=0,c=e.length;l<c;l++)a.add(e[l]);if(s.name&&(a.userData.name=s.name,a.name=o),A(a,s),s.extensions&&O(n,a,s),void 0!==s.matrix){var h=new i.I;h.fromArray(s.matrix),a.applyMatrix4(h)}else void 0!==s.translation&&a.position.fromArray(s.translation),void 0!==s.rotation&&a.quaternion.fromArray(s.rotation),void 0!==s.scale&&a.scale.fromArray(s.scale);return r.associations.set(a,{type:"nodes",index:t}),a})},L.prototype.loadScene=function(){function t(e,n,r,s){var o=r.nodes[e];return s.getDependency("node",e).then(function(t){return void 0===o.skin?t:s.getDependency("skin",o.skin).then(function(t){for(var n=[],i=0,r=(e=t).joints.length;i<r;i++)n.push(s.getDependency("node",e.joints[i]));return Promise.all(n)}).then(function(n){return t.traverse(function(t){if(t.isMesh){for(var r=[],s=[],o=0,a=n.length;o<a;o++){var l=n[o];if(l){r.push(l);var c=new i.I;void 0!==e.inverseBindMatrices&&c.fromArray(e.inverseBindMatrices.array,16*o),s.push(c)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',e.joints[o])}t.bind(new i.hb(r,s),t.matrixWorld)}}),t});var e}).then(function(e){n.add(e);var i=[];if(o.children)for(var a=o.children,l=0,c=a.length;l<c;l++)i.push(t(a[l],e,r,s));return Promise.all(i)})}return function(e){var n=this.json,r=this.extensions,s=this.json.scenes[e],o=new i.p;s.name&&(o.name=this.createUniqueName(s.name)),A(o,s),s.extensions&&O(r,o,s);for(var a=s.nodes||[],l=[],c=0,h=a.length;c<h;c++)l.push(t(a[c],o,n,this));return Promise.all(l).then(function(){return o})}}(),t}()},NQ7O:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("6kTr"),r=n("rCez"),s=n("WpFC"),o=n("Yjhu");function a(t){const e=t||{},n=new r.a;return(void 0===e.zoom||e.zoom)&&n.push(new o.a(e.zoomOptions)),(void 0===e.rotate||e.rotate)&&n.push(new s.a(e.rotateOptions)),(void 0===e.attribution||e.attribution)&&n.push(new i.a(e.attributionOptions)),n}},Nehr:function(t,e,n){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},Nr0W:function(t,e,n){"use strict";var i=n("bwl8"),r=n("9CgO"),s=n("i3ci"),o=n("FHfp");class a extends i.a{constructor(t){super(),this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addEventListener(Object(i.b)(this.geometryName_),this.handleGeometryChanged_),t&&("function"==typeof t.getSimplifiedGeometry?this.setGeometry(t):this.setProperties(t))}clone(){const t=new a(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());const e=this.getGeometry();e&&t.setGeometry(e.clone());const n=this.getStyle();return n&&t.setStyle(n),t}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(Object(o.c)(this.geometryChangeKey_),this.geometryChangeKey_=null);const t=this.getGeometry();t&&(this.geometryChangeKey_=Object(o.a)(t,r.a.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(t){this.set(this.geometryName_,t)}setStyle(t){this.style_=t,this.styleFunction_=t?function(t){if("function"==typeof t)return t;{let e;return Array.isArray(t)?e=t:(Object(s.a)("function"==typeof t.getZIndex,41),e=[t]),function(){return e}}}(t):void 0,this.changed()}setId(t){this.id_=t,this.changed()}setGeometryName(t){this.removeEventListener(Object(i.b)(this.geometryName_),this.handleGeometryChanged_),this.geometryName_=t,this.addEventListener(Object(i.b)(this.geometryName_),this.handleGeometryChanged_),this.handleGeometryChanged_()}}e.a=a},NxsL:function(t,e,n){"use strict";var i=n("Nr0W"),r=n("43os"),s=n("X87I"),o=n("2cyL"),a=n("W74l"),l=n("7tkq"),c=n("wEYg"),h=n("gOFd"),u=n("Znq9"),d=n("c73X");const p={Point:function(t,e,n){const i=t.coordinates;return e&&n&&_(i,e,n),new c.a(i)},LineString:function(t,e){const n=f(t.arcs,e);return new s.a(n)},Polygon:function(t,e){const n=[];for(let i=0,r=t.arcs.length;i<r;++i)n[i]=f(t.arcs[i],e);return new h.a(n)},MultiPoint:function(t,e,n){const i=t.coordinates;if(e&&n)for(let r=0,s=i.length;r<s;++r)_(i[r],e,n);return new a.a(i)},MultiLineString:function(t,e){const n=[];for(let i=0,r=t.arcs.length;i<r;++i)n[i]=f(t.arcs[i],e);return new o.a(n)},MultiPolygon:function(t,e){const n=[];for(let i=0,r=t.arcs.length;i<r;++i){const r=t.arcs[i],s=[];for(let t=0,n=r.length;t<n;++t)s[t]=f(r[t],e);n[i]=s}return new l.a(n)}};function f(t,e){const n=[];let i,r;for(let s=0,o=t.length;s<o;++s)i=t[s],s>0&&n.pop(),r=i>=0?e[i]:e[~i].slice().reverse(),n.push.apply(n,r);for(let s=0,o=n.length;s<o;++s)n[s]=n[s].slice();return n}function m(t,e,n,i,r,s,o){const a=t.geometries,l=[];for(let c=0,h=a.length;c<h;++c)l[c]=g(a[c],e,n,i,r,s,o);return l}function g(t,e,n,r,s,o,a){let l;const c=t.type,h=p[c];l="Point"===c||"MultiPoint"===c?h(t,n,r):h(t,e);const u=new i.a;u.setGeometry(Object(d.b)(l,!1,a)),void 0!==t.id&&u.setId(t.id);let f=t.properties;return s&&(f||(f={}),f[s]=o),f&&u.setProperties(f,!0),u}function y(t,e,n){let i=0,r=0;for(let s=0,o=t.length;s<o;++s){const o=t[s];i+=o[0],r+=o[1],o[0]=i,o[1]=r,_(o,e,n)}}function _(t,e,n){t[0]=t[0]*e[0]+n[0],t[1]=t[1]*e[1]+n[1]}e.a=class extends r.a{constructor(t){super();const e=t||{};this.layerName_=e.layerName,this.layers_=e.layers?e.layers:null,this.dataProjection=Object(u.i)(e.dataProjection?e.dataProjection:"EPSG:4326")}readFeaturesFromObject(t,e){if("Topology"==t.type){const n=t;let i,r=null,s=null;n.transform&&(i=n.transform,r=i.scale,s=i.translate);const o=n.arcs;i&&function(t,e,n){for(let i=0,r=t.length;i<r;++i)y(t[i],e,n)}(o,r,s);const a=[],l=n.objects,c=this.layerName_;let h;for(const t in l)this.layers_&&-1==this.layers_.indexOf(t)||("GeometryCollection"===l[t].type?(h=l[t],a.push.apply(a,m(h,o,r,s,c,t,e))):(h=l[t],a.push(g(h,o,r,s,c,t,e))));return a}return[]}readProjectionFromObject(t){return this.dataProjection}}},"OT4/":function(t,e,n){"use strict";var i=n("fyJ9"),r=n("Lwyg"),s=n("dvVV");class o{constructor(t){const e=t||{};this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.scaleArray_=Object(s.d)(void 0!==e.scale?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.textBaseline_=e.textBaseline,this.fill_=void 0!==e.fill?e.fill:new i.a({color:"#333"}),this.maxAngle_=void 0!==e.maxAngle?e.maxAngle:Math.PI/4,this.placement_=void 0!==e.placement?e.placement:r.a.POINT,this.overflow_=!!e.overflow,this.stroke_=void 0!==e.stroke?e.stroke:null,this.offsetX_=void 0!==e.offsetX?e.offsetX:0,this.offsetY_=void 0!==e.offsetY?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=void 0===e.padding?null:e.padding}clone(){const t=this.getScale();return new o({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}setOverflow(t){this.overflow_=t}setFont(t){this.font_=t}setMaxAngle(t){this.maxAngle_=t}setOffsetX(t){this.offsetX_=t}setOffsetY(t){this.offsetY_=t}setPlacement(t){this.placement_=t}setRotateWithView(t){this.rotateWithView_=t}setFill(t){this.fill_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=Object(s.d)(void 0!==t?t:1)}setStroke(t){this.stroke_=t}setText(t){this.text_=t}setTextAlign(t){this.textAlign_=t}setTextBaseline(t){this.textBaseline_=t}setBackgroundFill(t){this.backgroundFill_=t}setBackgroundStroke(t){this.backgroundStroke_=t}setPadding(t){this.padding_=t}}e.a=o},PaPA:function(t,e,n){"use strict";var i=n("hKKC"),r=n("Znq9"),s=n("LV+m");e.a=class{constructor(t,e,n,o,a,l){this.sourceProj_=t,this.targetProj_=e;let c={};const h=Object(r.k)(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){const e=t[0]+"/"+t[1];return c[e]||(c[e]=h(t)),c[e]},this.maxSourceExtent_=o,this.errorThresholdSquared_=a*a,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!o&&!!this.sourceProj_.getExtent()&&Object(i.F)(o)==Object(i.F)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Object(i.F)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Object(i.F)(this.targetProj_.getExtent()):null;const u=Object(i.D)(n),d=Object(i.E)(n),p=Object(i.x)(n),f=Object(i.w)(n),m=this.transformInv_(u),g=this.transformInv_(d),y=this.transformInv_(p),_=this.transformInv_(f),b=10+(l?Math.max(0,Math.ceil(Object(s.d)(Object(i.v)(n)/(l*l*256*256)))):0);if(this.addQuad_(u,d,p,f,m,g,y,_,b),this.wrapsXInSource_){let t=1/0;this.triangles_.forEach(function(e,n,i){t=Math.min(t,e.source[0][0],e.source[1][0],e.source[2][0])}),this.triangles_.forEach((function(e){if(Math.max(e.source[0][0],e.source[1][0],e.source[2][0])-t>this.sourceWorldWidth_/2){const n=[[e.source[0][0],e.source[0][1]],[e.source[1][0],e.source[1][1]],[e.source[2][0],e.source[2][1]]];n[0][0]-t>this.sourceWorldWidth_/2&&(n[0][0]-=this.sourceWorldWidth_),n[1][0]-t>this.sourceWorldWidth_/2&&(n[1][0]-=this.sourceWorldWidth_),n[2][0]-t>this.sourceWorldWidth_/2&&(n[2][0]-=this.sourceWorldWidth_);const i=Math.min(n[0][0],n[1][0],n[2][0]);Math.max(n[0][0],n[1][0],n[2][0])-i<this.sourceWorldWidth_/2&&(e.source=n)}}).bind(this))}c={}}addTriangle_(t,e,n,i,r,s){this.triangles_.push({source:[i,r,s],target:[t,e,n]})}addQuad_(t,e,n,r,o,a,l,c,h){const u=Object(i.c)([o,a,l,c]),d=this.sourceWorldWidth_?Object(i.F)(u)/this.sourceWorldWidth_:null,p=this.sourceWorldWidth_,f=this.sourceProj_.canWrapX()&&d>.5&&d<1;let m=!1;if(h>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const s=Object(i.c)([t,e,n,r]);m=Object(i.F)(s)/this.targetWorldWidth_>.25||m}!f&&this.sourceProj_.isGlobal()&&d&&(m=d>.25||m)}if(!m&&this.maxSourceExtent_&&isFinite(u[0])&&isFinite(u[1])&&isFinite(u[2])&&isFinite(u[3])&&!Object(i.G)(u,this.maxSourceExtent_))return;let g=0;if(!(m||isFinite(o[0])&&isFinite(o[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(l[0])&&isFinite(l[1])&&isFinite(c[0])&&isFinite(c[1])))if(h>0)m=!0;else if(g=(isFinite(o[0])&&isFinite(o[1])?0:8)+(isFinite(a[0])&&isFinite(a[1])?0:4)+(isFinite(l[0])&&isFinite(l[1])?0:2)+(isFinite(c[0])&&isFinite(c[1])?0:1),1!=g&&2!=g&&4!=g&&8!=g)return;if(h>0){if(!m){const e=this.transformInv_([(t[0]+n[0])/2,(t[1]+n[1])/2]);let i;i=f?(Object(s.e)(o[0],p)+Object(s.e)(l[0],p))/2-Object(s.e)(e[0],p):(o[0]+l[0])/2-e[0];const r=(o[1]+l[1])/2-e[1];m=i*i+r*r>this.errorThresholdSquared_}if(m){if(Math.abs(t[0]-n[0])<=Math.abs(t[1]-n[1])){const i=[(e[0]+n[0])/2,(e[1]+n[1])/2],s=this.transformInv_(i),u=[(r[0]+t[0])/2,(r[1]+t[1])/2],d=this.transformInv_(u);this.addQuad_(t,e,i,u,o,a,s,d,h-1),this.addQuad_(u,i,n,r,d,s,l,c,h-1)}else{const i=[(t[0]+e[0])/2,(t[1]+e[1])/2],s=this.transformInv_(i),u=[(n[0]+r[0])/2,(n[1]+r[1])/2],d=this.transformInv_(u);this.addQuad_(t,i,u,r,o,s,d,c,h-1),this.addQuad_(i,e,n,u,s,a,l,d,h-1)}return}}if(f){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(11&g)&&this.addTriangle_(t,n,r,o,l,c),0==(14&g)&&this.addTriangle_(t,n,e,o,l,a),g&&(0==(13&g)&&this.addTriangle_(e,r,t,a,c,o),0==(7&g)&&this.addTriangle_(e,r,n,a,c,l))}calculateSourceExtent(){const t=Object(i.k)();return this.triangles_.forEach(function(e,n,r){const s=e.source;Object(i.s)(t,s[0]),Object(i.s)(t,s[1]),Object(i.s)(t,s[2])}),t}getTriangles(){return this.triangles_}}},PhKu:function(t,e,n){"use strict";var i=n("9CgO"),r=n("lXae"),s=n("0o2U"),o=n("De+T"),a=n("2I+J");e.a=class extends s.a{constructor(t){super(),this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=t,this.declutterExecutorGroup=null}getFeatures(t){return Object(a.b)()}prepareFrame(t){return Object(a.b)()}renderFrame(t,e){return Object(a.b)()}loadedTileCallback(t,e,n){t[e]||(t[e]={}),t[e][n.tileCoord.toString()]=n}createLoadedTileFinder(t,e,n){return(function(i,r){const s=this.loadedTileCallback.bind(this,n,i);return t.forEachLoadedTile(e,i,r,s)}).bind(this)}forEachFeatureAtCoordinate(t,e,n,i,r){}getDataAtPixel(t,e,n){return Object(a.b)()}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(t){t.target.getState()===r.a.LOADED&&this.renderIfReadyAndVisible()}loadImage(t){let e=t.getState();return e!=r.a.LOADED&&e!=r.a.ERROR&&t.addEventListener(i.a.CHANGE,this.boundHandleImageChange_),e==r.a.IDLE&&(t.load(),e=t.getState()),e==r.a.LOADED}renderIfReadyAndVisible(){const t=this.getLayer();t.getVisible()&&t.getSourceState()==o.a.READY&&t.changed()}}},PqYM:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("HDdC"),r=n("D0XW"),s=n("Y7HM"),o=n("z+Ro");function a(t=0,e,n){let a=-1;return Object(s.a)(e)?a=Number(e)<1?1:Number(e):Object(o.a)(e)&&(n=e),Object(o.a)(n)||(n=r.a),new i.a(e=>{const i=Object(s.a)(t)?t:+t-n.now();return n.schedule(l,i,{index:0,period:a,subscriber:e})})}function l(t){const{index:e,period:n,subscriber:i}=t;if(i.next(e),!i.closed){if(-1===n)return i.complete();t.index=e+1,this.schedule(t,n)}}},PqmH:function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return s});var i=n("4yuk");function r(t){let e=s.get(t.type);void 0===e&&(e={stringsArray:new WeakMap,keyString:new Map},s.set(t.type,e));let n=e.stringsArray.get(t.strings);if(void 0!==n)return n;const r=t.strings.join(i.f);return n=e.keyString.get(r),void 0===n&&(n=new i.a(t,t.getTemplateElement()),e.keyString.set(r,n)),e.stringsArray.set(t.strings,n),n}const s=new Map},PxdU:function(t,e,n){"use strict";var i=n("9CgO"),r=n("ZidN"),s=n("lXae"),o=n("+WER"),a=n("Bpkx"),l=n("Cw4B"),c=n("hKKC"),h=n("Znq9");e.a=class extends r.a{constructor(t){const e=void 0!==t.crossOrigin?t.crossOrigin:null,n=void 0!==t.imageLoadFunction?t.imageLoadFunction:r.b;super({attributions:t.attributions,imageSmoothing:t.imageSmoothing,projection:Object(h.i)(t.projection)}),this.url_=t.url,this.imageExtent_=t.imageExtent,this.image_=new o.a(this.imageExtent_,void 0,1,this.url_,e,n),this.imageSize_=t.imageSize?t.imageSize:null,this.image_.addEventListener(i.a.CHANGE,this.handleImageChange.bind(this))}getImageExtent(){return this.imageExtent_}getImageInternal(t,e,n,i){return Object(c.G)(t,this.image_.getExtent())?this.image_:null}getUrl(){return this.url_}handleImageChange(t){if(this.image_.getState()==s.a.LOADED){const t=this.image_.getExtent(),e=this.image_.getImage();let n,i;this.imageSize_?(n=this.imageSize_[0],i=this.imageSize_[1]):(n=e.width,i=e.height);const r=Object(c.B)(t)/i,s=Math.ceil(Object(c.F)(t)/r);if(s!=n){const t=Object(l.a)(s,i);Object(a.a)(t,this.getContextOptions());const r=t.canvas;t.drawImage(e,0,0,n,i,0,0,r.width,r.height),this.image_.setImage(r)}}super.handleImageChange(t)}}},QBIS:function(t,e,n){"use strict";e.a={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"}},QQLW:function(t,e,n){"use strict";var i=n("y5Nx"),r=n("sFtE");e.a=class extends i.a{constructor(t){super(t)}createRenderer(){return new r.a(this)}}},QSZX:function(t,e,n){"use strict";var i=n("bwl8"),r=n("l30d"),s=n("2I+J"),o=n("i3ci"),a=n("Bpkx"),l=n("LV+m");e.a=class extends i.a{constructor(t){super();const e=Object(a.a)({},t);e[r.a.OPACITY]=void 0!==t.opacity?t.opacity:1,Object(o.a)("number"==typeof e[r.a.OPACITY],64),e[r.a.VISIBLE]=void 0===t.visible||t.visible,e[r.a.Z_INDEX]=t.zIndex,e[r.a.MAX_RESOLUTION]=void 0!==t.maxResolution?t.maxResolution:1/0,e[r.a.MIN_RESOLUTION]=void 0!==t.minResolution?t.minResolution:0,e[r.a.MIN_ZOOM]=void 0!==t.minZoom?t.minZoom:-1/0,e[r.a.MAX_ZOOM]=void 0!==t.maxZoom?t.maxZoom:1/0,this.className_=void 0!==e.className?t.className:"ol-layer",delete e.className,this.setProperties(e),this.state_=null}getClassName(){return this.className_}getLayerState(t){const e=this.state_||{layer:this,managed:void 0===t||t},n=this.getZIndex();return e.opacity=Object(l.a)(Math.round(100*this.getOpacity())/100,0,1),e.sourceState=this.getSourceState(),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=void 0!==n?n:!1===e.managed?1/0:0,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e}getLayersArray(t){return Object(s.b)()}getLayerStatesArray(t){return Object(s.b)()}getExtent(){return this.get(r.a.EXTENT)}getMaxResolution(){return this.get(r.a.MAX_RESOLUTION)}getMinResolution(){return this.get(r.a.MIN_RESOLUTION)}getMinZoom(){return this.get(r.a.MIN_ZOOM)}getMaxZoom(){return this.get(r.a.MAX_ZOOM)}getOpacity(){return this.get(r.a.OPACITY)}getSourceState(){return Object(s.b)()}getVisible(){return this.get(r.a.VISIBLE)}getZIndex(){return this.get(r.a.Z_INDEX)}setExtent(t){this.set(r.a.EXTENT,t)}setMaxResolution(t){this.set(r.a.MAX_RESOLUTION,t)}setMinResolution(t){this.set(r.a.MIN_RESOLUTION,t)}setMaxZoom(t){this.set(r.a.MAX_ZOOM,t)}setMinZoom(t){this.set(r.a.MIN_ZOOM,t)}setOpacity(t){Object(o.a)("number"==typeof t,64),this.set(r.a.OPACITY,t)}setVisible(t){this.set(r.a.VISIBLE,t)}setZIndex(t){this.set(r.a.Z_INDEX,t)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}},Qbx7:function(t,e,n){"use strict";var i=n("9CgO"),r=n("jTA9"),s=n("m3va"),o=n("lXae"),a=n("rfxS"),l=n("uJJw"),c=n("i3ci"),h=n("RGpb"),u=n("Cw4B"),d=n("FQWF"),p=n("+WER");let f=null;class m extends h.a{constructor(t,e,n,i,r,s){super(),this.hitDetectionImage_=null,this.image_=t||new Image,null!==i&&(this.image_.crossOrigin=i),this.canvas_={},this.color_=s,this.unlisten_=null,this.imageState_=r,this.size_=n,this.src_=e}isTainted_(){if(void 0===this.tainted_&&this.imageState_===o.a.LOADED){f||(f=Object(u.a)(1,1)),f.drawImage(this.image_,0,0);try{f.getImageData(0,0,1,1),this.tainted_=!1}catch(t){f=null,this.tainted_=!0}}return!0===this.tainted_}dispatchChangeEvent_(){this.dispatchEvent(i.a.CHANGE)}handleImageError_(){this.imageState_=o.a.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=o.a.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()}getImage(t){return this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_}getPixelRatio(t){return this.replaceColor_(t),this.canvas_[t]?t:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(!this.hitDetectionImage_)if(this.isTainted_()){const t=this.size_[0],e=this.size_[1],n=Object(u.a)(t,e);n.fillRect(0,0,t,e),this.hitDetectionImage_=n.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_==o.a.IDLE){this.imageState_=o.a.LOADING;try{this.image_.src=this.src_}catch(t){this.handleImageError_()}this.unlisten_=Object(p.b)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}}replaceColor_(t){if(!this.color_||this.canvas_[t])return;const e=document.createElement("canvas");this.canvas_[t]=e,e.width=Math.ceil(this.image_.width*t),e.height=Math.ceil(this.image_.height*t);const n=e.getContext("2d");if(n.scale(t,t),n.drawImage(this.image_,0,0),n.globalCompositeOperation="multiply","multiply"===n.globalCompositeOperation||this.isTainted_())n.fillStyle=Object(l.b)(this.color_),n.fillRect(0,0,e.width,e.height),n.globalCompositeOperation="destination-in",n.drawImage(this.image_,0,0);else{const t=n.getImageData(0,0,e.width,e.height),i=t.data,r=this.color_[0]/255,s=this.color_[1]/255,o=this.color_[2]/255,a=this.color_[3];for(let e=0,n=i.length;e<n;e+=4)i[e]*=r,i[e+1]*=s,i[e+2]*=o,i[e+3]*=a;n.putImageData(t,0,0)}}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}var g=n("2I+J");class y extends a.a{constructor(t){const e=t||{};super({opacity:void 0!==e.opacity?e.opacity:1,rotation:void 0!==e.rotation?e.rotation:0,scale:void 0!==e.scale?e.scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0],rotateWithView:void 0!==e.rotateWithView&&e.rotateWithView}),this.anchor_=void 0!==e.anchor?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=void 0!==e.anchorOrigin?e.anchorOrigin:s.a.TOP_LEFT,this.anchorXUnits_=void 0!==e.anchorXUnits?e.anchorXUnits:r.a.FRACTION,this.anchorYUnits_=void 0!==e.anchorYUnits?e.anchorYUnits:r.a.FRACTION,this.crossOrigin_=void 0!==e.crossOrigin?e.crossOrigin:null;const n=void 0!==e.img?e.img:null,i=void 0!==e.imgSize?e.imgSize:null;let a=e.src;Object(c.a)(!(void 0!==a&&n),4),Object(c.a)(!n||n&&i,5),void 0!==a&&0!==a.length||!n||(a=n.src||Object(g.c)(n)),Object(c.a)(void 0!==a&&a.length>0,6);const h=void 0!==e.src?o.a.IDLE:o.a.LOADED;this.color_=void 0!==e.color?Object(l.a)(e.color):null,this.iconImage_=function(t,e,n,i,r,s){let o=d.a.get(e,i,s);return o||(o=new m(t,e,n,i,r,s),d.a.set(e,i,s,o)),o}(n,a,i,this.crossOrigin_,h,this.color_),this.offset_=void 0!==e.offset?e.offset:[0,0],this.offsetOrigin_=void 0!==e.offsetOrigin?e.offsetOrigin:s.a.TOP_LEFT,this.origin_=null,this.size_=void 0!==e.size?e.size:null}clone(){const t=this.getScale();return new y({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})}getAnchor(){if(this.normalizedAnchor_)return this.normalizedAnchor_;let t=this.anchor_;const e=this.getSize();if(this.anchorXUnits_==r.a.FRACTION||this.anchorYUnits_==r.a.FRACTION){if(!e)return null;t=this.anchor_.slice(),this.anchorXUnits_==r.a.FRACTION&&(t[0]*=e[0]),this.anchorYUnits_==r.a.FRACTION&&(t[1]*=e[1])}if(this.anchorOrigin_!=s.a.TOP_LEFT){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),this.anchorOrigin_!=s.a.TOP_RIGHT&&this.anchorOrigin_!=s.a.BOTTOM_RIGHT||(t[0]=-t[0]+e[0]),this.anchorOrigin_!=s.a.BOTTOM_LEFT&&this.anchorOrigin_!=s.a.BOTTOM_RIGHT||(t[1]=-t[1]+e[1])}return this.normalizedAnchor_=t,this.normalizedAnchor_}setAnchor(t){this.anchor_=t,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(t){return this.iconImage_.getImage(t)}getPixelRatio(t){return this.iconImage_.getPixelRatio(t)}getImageSize(){return this.iconImage_.getSize()}getHitDetectionImageSize(){return this.getImageSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let t=this.offset_;const e=this.getDisplacement();if(this.offsetOrigin_!=s.a.TOP_LEFT){const e=this.getSize(),n=this.iconImage_.getSize();if(!e||!n)return null;t=t.slice(),this.offsetOrigin_!=s.a.TOP_RIGHT&&this.offsetOrigin_!=s.a.BOTTOM_RIGHT||(t[0]=n[0]-e[0]-t[0]),this.offsetOrigin_!=s.a.BOTTOM_LEFT&&this.offsetOrigin_!=s.a.BOTTOM_RIGHT||(t[1]=n[1]-e[1]-t[1])}return t[0]+=e[0],t[1]+=e[1],this.origin_=t,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}listenImageChange(t){this.iconImage_.addEventListener(i.a.CHANGE,t)}load(){this.iconImage_.load()}unlistenImageChange(t){this.iconImage_.removeEventListener(i.a.CHANGE,t)}}e.a=y},Qz9N:function(t,e,n){"use strict";var i=n("aBeY"),r=n("g38P"),s=n("zJp8"),o=n("n2w5"),a=n("4cD7"),l=n("oWEL"),c=n("hKKC"),h=n("k/Gk"),u=n("AjuZ");e.a=class extends r.a{constructor(t,e,n,i,r,s,a){super(),this.context_=t,this.pixelRatio_=e,this.extent_=n,this.transform_=i,this.viewRotation_=r,this.squaredTolerance_=s,this.userTransform_=a,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=Object(o.c)()}drawImages_(t,e,n,i){if(!this.image_)return;const r=Object(h.c)(t,e,n,2,this.transform_,this.pixelCoordinates_),s=this.context_,a=this.tmpLocalTransform_,l=s.globalAlpha;1!=this.imageOpacity_&&(s.globalAlpha=l*this.imageOpacity_);let c=this.imageRotation_;this.imageRotateWithView_&&(c+=this.viewRotation_);for(let h=0,u=r.length;h<u;h+=2){const t=r[h]-this.imageAnchorX_,e=r[h+1]-this.imageAnchorY_;if(0!==c||1!=this.imageScale_[0]||1!=this.imageScale_[1]){const n=t+this.imageAnchorX_,i=e+this.imageAnchorY_;Object(o.b)(a,n,i,1,1,c,-n,-i),s.setTransform.apply(s,a),s.translate(n,i),s.scale(this.imageScale_[0],this.imageScale_[1]),s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),s.setTransform(1,0,0,1,0,0)}else s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,t,e,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(s.globalAlpha=l)}drawText_(t,e,n,i){if(!this.textState_||""===this.text_)return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const r=Object(h.c)(t,e,n,i,this.transform_,this.pixelCoordinates_),s=this.context_;let a=this.textRotation_;for(this.textRotateWithView_&&(a+=this.viewRotation_);e<n;e+=i){const t=r[e]+this.textOffsetX_,n=r[e+1]+this.textOffsetY_;if(0!==a||1!=this.textScale_[0]||1!=this.textScale_[1]){const e=Object(o.b)(this.tmpLocalTransform_,t,n,1,1,a,-t,-n);s.setTransform.apply(s,e),s.translate(t,n),s.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&s.strokeText(this.text_,0,0),this.textFillState_&&s.fillText(this.text_,0,0),s.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&s.strokeText(this.text_,t,n),this.textFillState_&&s.fillText(this.text_,t,n)}}moveToLineTo_(t,e,n,i,r){const s=this.context_,o=Object(h.c)(t,e,n,i,this.transform_,this.pixelCoordinates_);s.moveTo(o[0],o[1]);let a=o.length;r&&(a-=2);for(let l=2;l<a;l+=2)s.lineTo(o[l],o[l+1]);return r&&s.closePath(),n}drawRings_(t,e,n,i){for(let r=0,s=n.length;r<s;++r)e=this.moveToLineTo_(t,e,n[r],i,!0);return e}drawCircle(t){if(Object(c.G)(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const e=Object(u.b)(t,this.transform_,this.pixelCoordinates_),n=e[2]-e[0],i=e[3]-e[1],r=Math.sqrt(n*n+i*i),s=this.context_;s.beginPath(),s.arc(e[0],e[1],r,0,2*Math.PI),this.fillState_&&s.fill(),this.strokeState_&&s.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}}setStyle(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())}setTransform(t){this.transform_=t}drawGeometry(t){switch(t.getType()){case i.a.POINT:this.drawPoint(t);break;case i.a.LINE_STRING:this.drawLineString(t);break;case i.a.POLYGON:this.drawPolygon(t);break;case i.a.MULTI_POINT:this.drawMultiPoint(t);break;case i.a.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case i.a.MULTI_POLYGON:this.drawMultiPolygon(t);break;case i.a.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case i.a.CIRCLE:this.drawCircle(t)}}drawFeature(t,e){const n=e.getGeometryFunction()(t);n&&Object(c.G)(this.extent_,n.getExtent())&&(this.setStyle(e),this.drawGeometry(n))}drawGeometryCollection(t){const e=t.getGeometriesArray();for(let n=0,i=e.length;n<i;++n)this.drawGeometry(e[n])}drawPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)}drawMultiPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)}drawLineString(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Object(c.G)(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const e=this.context_,n=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(n,0,n.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){const e=t.getFlatMidpoint();this.drawText_(e,0,2,2)}}}drawMultiLineString(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const e=t.getExtent();if(Object(c.G)(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const e=this.context_,n=t.getFlatCoordinates();let i=0;const r=t.getEnds(),s=t.getStride();e.beginPath();for(let t=0,o=r.length;t<o;++t)i=this.moveToLineTo_(n,i,r[t],s,!1);e.stroke()}if(""!==this.text_){const e=t.getFlatMidpoints();this.drawText_(e,0,e.length,2)}}}drawPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Object(c.G)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){const e=t.getFlatInteriorPoint();this.drawText_(e,0,2,2)}}}drawMultiPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Object(c.G)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const e=this.context_,n=t.getOrientedFlatCoordinates();let i=0;const r=t.getEndss(),s=t.getStride();e.beginPath();for(let t=0,o=r.length;t<o;++t)i=this.drawRings_(n,i,r[t],s);this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){const e=t.getFlatInteriorPoints();this.drawText_(e,0,e.length,2)}}}setContextFillState_(t){const e=this.context_,n=this.contextFillState_;n?n.fillStyle!=t.fillStyle&&(n.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})}setContextStrokeState_(t){const e=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=t.lineCap&&(n.lineCap=t.lineCap,e.lineCap=t.lineCap),e.setLineDash&&(Object(l.b)(n.lineDash,t.lineDash)||e.setLineDash(n.lineDash=t.lineDash),n.lineDashOffset!=t.lineDashOffset&&(n.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset)),n.lineJoin!=t.lineJoin&&(n.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),n.lineWidth!=t.lineWidth&&(n.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),n.miterLimit!=t.miterLimit&&(n.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),n.strokeStyle!=t.strokeStyle&&(n.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})}setContextTextState_(t){const e=this.context_,n=this.contextTextState_,i=t.textAlign?t.textAlign:a.m;n?(n.font!=t.font&&(n.font=t.font,e.font=t.font),n.textAlign!=i&&(n.textAlign=i,e.textAlign=i),n.textBaseline!=t.textBaseline&&(n.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=i,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:i,textBaseline:t.textBaseline})}setFillStrokeStyle(t,e){if(t){const e=t.getColor();this.fillState_={fillStyle:Object(s.a)(e||a.c)}}else this.fillState_=null;if(e){const t=e.getColor(),n=e.getLineCap(),i=e.getLineDash(),r=e.getLineDashOffset(),o=e.getLineJoin(),l=e.getWidth(),c=e.getMiterLimit();this.strokeState_={lineCap:void 0!==n?n:a.e,lineDash:i||a.f,lineDashOffset:r||a.g,lineJoin:void 0!==o?o:a.h,lineWidth:this.pixelRatio_*(void 0!==l?l:a.i),miterLimit:void 0!==c?c:a.j,strokeStyle:Object(s.a)(t||a.l)}}else this.strokeState_=null}setImageStyle(t){if(t){const e=t.getSize();if(e){const n=t.getAnchor(),i=t.getImage(1),r=t.getOrigin(),s=t.getScaleArray();this.imageAnchorX_=n[0],this.imageAnchorY_=n[1],this.imageHeight_=e[1],this.image_=i,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=r[0],this.imageOriginY_=r[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=[this.pixelRatio_*s[0],this.pixelRatio_*s[1]],this.imageWidth_=e[0]}else this.image_=null}else this.image_=null}setTextStyle(t){if(t){const e=t.getFill();if(e){const t=e.getColor();this.textFillState_={fillStyle:Object(s.a)(t||a.c)}}else this.textFillState_=null;const n=t.getStroke();if(n){const t=n.getColor(),e=n.getLineCap(),i=n.getLineDash(),r=n.getLineDashOffset(),o=n.getLineJoin(),l=n.getWidth(),c=n.getMiterLimit();this.textStrokeState_={lineCap:void 0!==e?e:a.e,lineDash:i||a.f,lineDashOffset:r||a.g,lineJoin:void 0!==o?o:a.h,lineWidth:void 0!==l?l:a.i,miterLimit:void 0!==c?c:a.j,strokeStyle:Object(s.a)(t||a.l)}}else this.textStrokeState_=null;const i=t.getFont(),r=t.getOffsetX(),o=t.getOffsetY(),l=t.getRotateWithView(),c=t.getRotation(),h=t.getScaleArray(),u=t.getText(),d=t.getTextAlign(),p=t.getTextBaseline();this.textState_={font:void 0!==i?i:a.d,textAlign:void 0!==d?d:a.m,textBaseline:void 0!==p?p:a.n},this.text_=void 0!==u?u:"",this.textOffsetX_=void 0!==r?this.pixelRatio_*r:0,this.textOffsetY_=void 0!==o?this.pixelRatio_*o:0,this.textRotateWithView_=void 0!==l&&l,this.textRotation_=void 0!==c?c:0,this.textScale_=[this.pixelRatio_*h[0],this.pixelRatio_*h[1]]}else this.text_=""}}},RGpb:function(t,e,n){"use strict";var i=n("BbPW"),r=n("Gp2b"),s=n("6Xq6"),o=n("Bpkx");e.a=class extends i.a{constructor(t){super(),this.eventTarget_=t,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(t,e){if(!t||!e)return;const n=this.listeners_||(this.listeners_={}),i=n[t]||(n[t]=[]);-1===i.indexOf(e)&&i.push(e)}dispatchEvent(t){const e="string"==typeof t?new r.a(t):t,n=e.type;e.target||(e.target=this.eventTarget_||this);const i=this.listeners_&&this.listeners_[n];let o;if(i){const t=this.dispatching_||(this.dispatching_={}),r=this.pendingRemovals_||(this.pendingRemovals_={});n in t||(t[n]=0,r[n]=0),++t[n];for(let n=0,s=i.length;n<s;++n)if(o="handleEvent"in i[n]?i[n].handleEvent(e):i[n].call(this,e),!1===o||e.propagationStopped){o=!1;break}if(--t[n],0===t[n]){let e=r[n];for(delete r[n];e--;)this.removeEventListener(n,s.c);delete t[n]}return o}}disposeInternal(){this.listeners_&&Object(o.b)(this.listeners_)}getListeners(t){return this.listeners_&&this.listeners_[t]||void 0}hasListener(t){return!!this.listeners_&&(t?t in this.listeners_:Object.keys(this.listeners_).length>0)}removeEventListener(t,e){const n=this.listeners_&&this.listeners_[t];if(n){const i=n.indexOf(e);-1!==i&&(this.pendingRemovals_&&t in this.pendingRemovals_?(n[i]=s.c,++this.pendingRemovals_[t]):(n.splice(i,1),0===n.length&&delete this.listeners_[t]))}}}},RZOP:function(t,e,n){var i,r;void 0===(r="function"==typeof(i=function(){return{GML_3_1_1:{n:"GML_3_1_1",dens:"http://www.opengis.net/gml",dans:"http://www.w3.org/1999/xlink",deps:["SMIL_2_0_Language","XLink_1_0"],tis:[{ln:"PointPropertyType",ps:[{n:"point",rq:!0,en:"Point",ti:".PointType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"TopoPrimitiveArrayAssociationType",ps:[{n:"topoPrimitive",mno:0,col:!0,mx:!1,dom:!1,en:"_TopoPrimitive",ti:".AbstractTopoPrimitiveType",t:"er"}]},{ln:"CurveArrayPropertyType",ps:[{n:"curve",mno:0,col:!0,mx:!1,dom:!1,en:"_Curve",ti:".AbstractCurveType",t:"er"}]},{ln:"BaseUnitType",bti:".UnitDefinitionType",ps:[{n:"unitsSystem",rq:!0,ti:".ReferenceType"}]},{ln:"TimeNodeType",bti:".AbstractTimeTopologyPrimitiveType",ps:[{n:"previousEdge",mno:0,col:!0,ti:".TimeEdgePropertyType"},{n:"nextEdge",mno:0,col:!0,ti:".TimeEdgePropertyType"},{n:"position",ti:".TimeInstantPropertyType"}]},{ln:"DirectedEdgePropertyType",ps:[{n:"edge",rq:!0,en:"Edge",ti:".EdgeType"},{n:"orientation",an:{lp:"orientation"},t:"a"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"BagType",bti:".AbstractGMLType",ps:[{n:"member",mno:0,col:!0,ti:".AssociationType"},{n:"members",ti:".ArrayAssociationType"}]},{ln:"DatumRefType",ps:[{n:"datum",rq:!0,mx:!1,dom:!1,en:"_Datum",ti:".AbstractDatumType",t:"er"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"StyleVariationType",ps:[{n:"value",t:"v"},{n:"styleProperty",rq:!0,an:{lp:"styleProperty"},t:"a"},{n:"featurePropertyRange",an:{lp:"featurePropertyRange"},t:"a"}]},{ln:"CurvePropertyType",ps:[{n:"curve",rq:!0,mx:!1,dom:!1,en:"_Curve",ti:".AbstractCurveType",t:"er"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"GeographicCRSType",bti:".AbstractReferenceSystemType",ps:[{n:"usesEllipsoidalCS",rq:!0,ti:".EllipsoidalCSRefType"},{n:"usesGeodeticDatum",rq:!0,ti:".GeodeticDatumRefType"}]},{ln:"MultiSurfaceType",bti:".AbstractGeometricAggregateType",ps:[{n:"surfaceMember",mno:0,col:!0,ti:".SurfacePropertyType"},{n:"surfaceMembers",ti:".SurfaceArrayPropertyType"}]},{ln:"AbstractStyleType",bti:".AbstractGMLType"},{ln:"OperationParameterBaseType",bti:".AbstractGeneralOperationParameterType"},{ln:"TopoPointType",bti:".AbstractTopologyType",ps:[{n:"directedNode",rq:!0,ti:".DirectedNodePropertyType"}]},{ln:"AbstractGeneralDerivedCRSType",bti:".AbstractReferenceSystemType",ps:[{n:"baseCRS",rq:!0,ti:".CoordinateReferenceSystemRefType"},{n:"definedByConversion",rq:!0,ti:".GeneralConversionRefType"}]},{ln:"EllipsoidRefType",ps:[{n:"ellipsoid",rq:!0,en:"Ellipsoid",ti:".EllipsoidType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"TinType.ControlPoint",tn:null,ps:[{n:"posList",rq:!0,ti:".DirectPositionListType"},{n:"geometricPositionGroup",rq:!0,mno:3,col:!0,etis:[{en:"pos",ti:".DirectPositionType"},{en:"pointProperty",ti:".PointPropertyType"}],t:"es"}]},{ln:"PointArrayPropertyType",ps:[{n:"point",mno:0,col:!0,en:"Point",ti:".PointType"}]},{ln:"CoordinatesType",ps:[{n:"value",t:"v"},{n:"decimal",an:{lp:"decimal"},t:"a"},{n:"cs",an:{lp:"cs"},t:"a"},{n:"ts",an:{lp:"ts"},t:"a"}]},{ln:"AbstractDatumType",bti:".AbstractDatumBaseType",ps:[{n:"datumID",mno:0,col:!0,ti:".IdentifierType"},{n:"remarks",ti:".StringOrRefType"},{n:"anchorPoint",ti:".CodeType"},{n:"realizationEpoch",ti:"Date"},{n:"validArea",ti:".ExtentType"},{n:"scope"}]},{ln:"LabelStyleType",bti:".BaseStyleDescriptorType",ps:[{n:"style",rq:!0},{n:"label",rq:!0,ti:".LabelType"}]},{ln:"OperationParameterType",bti:".OperationParameterBaseType",ps:[{n:"parameterID",mno:0,col:!0,ti:".IdentifierType"},{n:"remarks",ti:".StringOrRefType"}]},{ln:"CartesianCSType",bti:".AbstractCoordinateSystemType"},{ln:"ConversionToPreferredUnitType",bti:".UnitOfMeasureType",ps:[{n:"factor",rq:!0,ti:"Double"},{n:"formula",rq:!0,ti:".FormulaType"}]},{ln:"AbstractParametricCurveSurfaceType",bti:".AbstractSurfacePatchType"},{ln:"ProjectedCRSRefType",ps:[{n:"projectedCRS",rq:!0,en:"ProjectedCRS",ti:".ProjectedCRSType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"TimePeriodType",bti:".AbstractTimeGeometricPrimitiveType",ps:[{n:"beginPosition",rq:!0,ti:".TimePositionType"},{n:"begin",rq:!0,ti:".TimeInstantPropertyType"},{n:"endPosition",rq:!0,ti:".TimePositionType"},{n:"end",rq:!0,ti:".TimeInstantPropertyType"},{n:"duration",rq:!0,ti:"Duration"},{n:"timeInterval",rq:!0,ti:".TimeIntervalLengthType"}]},{ln:"SurfacePatchArrayPropertyType",ps:[{n:"surfacePatch",mno:0,col:!0,mx:!1,dom:!1,en:"_SurfacePatch",ti:".AbstractSurfacePatchType",t:"er"}]},{ln:"AreaType",bti:".MeasureType"},{ln:"ArcStringType",bti:".AbstractCurveSegmentType",ps:[{n:"posOrPointPropertyOrPointRep",rq:!0,mno:3,col:!0,mx:!1,dom:!1,etis:[{en:"pointRep",ti:".PointPropertyType"},{en:"pointProperty",ti:".PointPropertyType"},{en:"pos",ti:".DirectPositionType"}],t:"ers"},{n:"posList",rq:!0,ti:".DirectPositionListType"},{n:"coordinates",rq:!0,ti:".CoordinatesType"},{n:"interpolation",an:{lp:"interpolation"},t:"a"},{n:"numArc",ti:"Integer",an:{lp:"numArc"},t:"a"}]},{ln:"TopoSolidType",bti:".AbstractTopoPrimitiveType",ps:[{n:"directedFace",rq:!0,col:!0,ti:".DirectedFacePropertyType"}]},{ln:"RangeParametersType",ps:[{n:"_boolean",rq:!0,en:"Boolean",ti:"Boolean"},{n:"category",rq:!0,en:"Category",ti:".CodeType"},{n:"quantity",rq:!0,en:"Quantity",ti:".MeasureType"},{n:"count",rq:!0,en:"Count",ti:"Integer"},{n:"booleanList",rq:!0,en:"BooleanList",ti:{t:"l"}},{n:"categoryList",rq:!0,en:"CategoryList",ti:".CodeOrNullListType"},{n:"quantityList",rq:!0,en:"QuantityList",ti:".MeasureOrNullListType"},{n:"countList",rq:!0,en:"CountList",ti:{t:"l"}},{n:"categoryExtent",rq:!0,en:"CategoryExtent",ti:".CategoryExtentType"},{n:"quantityExtent",rq:!0,en:"QuantityExtent",ti:".QuantityExtentType"},{n:"countExtent",rq:!0,en:"CountExtent",ti:{t:"l"}},{n:"compositeValue",rq:!0,mx:!1,dom:!1,en:"CompositeValue",ti:".CompositeValueType",t:"er"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"MultiPolygonPropertyType",ps:[{n:"multiPolygon",rq:!0,en:"MultiPolygon",ti:".MultiPolygonType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"GeometryStyleType",bti:".BaseStyleDescriptorType",ps:[{n:"symbol",rq:!0,ti:".SymbolType"},{n:"style",rq:!0},{n:"labelStyle",ti:".LabelStylePropertyType"},{n:"geometryProperty",an:{lp:"geometryProperty"},t:"a"},{n:"geometryType",an:{lp:"geometryType"},t:"a"}]},{ln:"ExtentType",ps:[{n:"description",ti:".StringOrRefType"},{n:"boundingBox",mno:0,col:!0,ti:".EnvelopeType"},{n:"boundingPolygon",mno:0,col:!0,ti:".PolygonType"},{n:"verticalExtent",mno:0,col:!0,ti:".EnvelopeType"},{n:"temporalExtent",mno:0,col:!0,ti:".TimePeriodType"}]},{ln:"UserDefinedCSType",bti:".AbstractCoordinateSystemType"},{ln:"OrientableSurfaceType",bti:".AbstractSurfaceType",ps:[{n:"baseSurface",rq:!0,ti:".SurfacePropertyType"},{n:"orientation",an:{lp:"orientation"},t:"a"}]},{ln:"TemporalDatumRefType",ps:[{n:"temporalDatum",rq:!0,en:"TemporalDatum",ti:".TemporalDatumType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"KnotPropertyType",ps:[{n:"knot",rq:!0,en:"Knot",ti:".KnotType"}]},{ln:"DefinitionProxyType",bti:".DefinitionType",ps:[{n:"definitionRef",rq:!0,ti:".ReferenceType"}]},{ln:"ArcByBulgeType",bti:".ArcStringByBulgeType"},{ln:"GeometricComplexPropertyType",ps:[{n:"geometricComplex",rq:!0,en:"GeometricComplex",ti:".GeometricComplexType"},{n:"compositeCurve",rq:!0,en:"CompositeCurve",ti:".CompositeCurveType"},{n:"compositeSurface",rq:!0,en:"CompositeSurface",ti:".CompositeSurfaceType"},{n:"compositeSolid",rq:!0,en:"CompositeSolid",ti:".CompositeSolidType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"CompositeCurvePropertyType",ps:[{n:"compositeCurve",rq:!0,en:"CompositeCurve",ti:".CompositeCurveType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"OperationParameterGroupBaseType",bti:".AbstractGeneralOperationParameterType"},{ln:"MultiPointCoverageType",bti:".AbstractDiscreteCoverageType"},{ln:"ReferenceType",ps:[{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"ImageCRSRefType",ps:[{n:"imageCRS",rq:!0,en:"ImageCRS",ti:".ImageCRSType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"DefaultStylePropertyType",ps:[{n:"style",mx:!1,dom:!1,en:"_Style",ti:".AbstractStyleType",t:"er"},{n:"about",an:{lp:"about"},t:"a"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"AbstractTimeReferenceSystemType",bti:".DefinitionType",ps:[{n:"domainOfValidity"}]},{ln:"AbsoluteExternalPositionalAccuracyType",bti:".AbstractPositionalAccuracyType",ps:[{n:"result",rq:!0,ti:".MeasureType"}]},{ln:"TopoPrimitiveMemberType",ps:[{n:"topoPrimitive",mx:!1,dom:!1,en:"_TopoPrimitive",ti:".AbstractTopoPrimitiveType",t:"er"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"TimeOrdinalReferenceSystemType",bti:".AbstractTimeReferenceSystemType",ps:[{n:"component",rq:!0,col:!0,ti:".TimeOrdinalEraPropertyType"}]},{ln:"CompositeSolidType",bti:".AbstractSolidType",ps:[{n:"solidMember",rq:!0,col:!0,ti:".SolidPropertyType"}]},{ln:"GeocentricCRSRefType",ps:[{n:"geocentricCRS",rq:!0,en:"GeocentricCRS",ti:".GeocentricCRSType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"MultiCurveType",bti:".AbstractGeometricAggregateType",ps:[{n:"curveMember",mno:0,col:!0,ti:".CurvePropertyType"},{n:"curveMembers",ti:".CurveArrayPropertyType"}]},{ln:"UnitDefinitionType",bti:".DefinitionType",ps:[{n:"quantityType",rq:!0,ti:".StringOrRefType"},{n:"catalogSymbol",ti:".CodeType"}]},{ln:"CurveSegmentArrayPropertyType",ps:[{n:"curveSegment",mno:0,col:!0,mx:!1,dom:!1,en:"_CurveSegment",ti:".AbstractCurveSegmentType",t:"er"}]},{ln:"AbstractTimePrimitiveType",bti:".AbstractTimeObjectType",ps:[{n:"relatedTime",mno:0,col:!0,ti:".RelatedTimeType"}]},{ln:"MultiPointType",bti:".AbstractGeometricAggregateType",ps:[{n:"pointMember",mno:0,col:!0,ti:".PointPropertyType"},{n:"pointMembers",ti:".PointArrayPropertyType"}]},{ln:"MultiPointPropertyType",ps:[{n:"multiPoint",rq:!0,en:"MultiPoint",ti:".MultiPointType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"AbstractTimeTopologyPrimitiveType",bti:".AbstractTimePrimitiveType",ps:[{n:"complex",ti:".ReferenceType"}]},{ln:"KnotType",ps:[{n:"value",rq:!0,ti:"Double"},{n:"multiplicity",rq:!0,ti:"NonNegativeInteger"},{n:"weight",rq:!0,ti:"Double"}]},{ln:"CodeType",ps:[{n:"value",t:"v"},{n:"codeSpace",an:{lp:"codeSpace"},t:"a"}]},{ln:"AbstractTimeSliceType",bti:".AbstractGMLType",ps:[{n:"validTime",rq:!0,ti:".TimePrimitivePropertyType"},{n:"dataSource",ti:".StringOrRefType"}]},{ln:"DynamicFeatureType",bti:".AbstractFeatureType",ps:[{n:"validTime",ti:".TimePrimitivePropertyType"},{n:"history",mx:!1,dom:!1,ti:".HistoryPropertyType",t:"er"},{n:"dataSource",ti:".StringOrRefType"}]},{ln:"RingPropertyType",ps:[{n:"ring",rq:!0,en:"Ring",ti:".RingType"}]},{ln:"EngineeringCRSType",bti:".AbstractReferenceSystemType",ps:[{n:"usesCS",rq:!0,ti:".CoordinateSystemRefType"},{n:"usesEngineeringDatum",rq:!0,ti:".EngineeringDatumRefType"}]},{ln:"BooleanPropertyType",bti:".ValuePropertyType"},{ln:"VerticalCRSRefType",ps:[{n:"verticalCRS",rq:!0,en:"VerticalCRS",ti:".VerticalCRSType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"FormulaType",ps:[{n:"a",ti:"Double"},{n:"b",rq:!0,ti:"Double"},{n:"c",rq:!0,ti:"Double"},{n:"d",ti:"Double"}]},{ln:"EngineeringDatumRefType",ps:[{n:"engineeringDatum",rq:!0,en:"EngineeringDatum",ti:".EngineeringDatumType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"DirectedObservationAtDistanceType",bti:".DirectedObservationType",ps:[{n:"distance",rq:!0,ti:".MeasureType"}]},{ln:"AbstractMetaDataType",ps:[{n:"content",col:!0,dom:!1,t:"ers"},{n:"id",ti:"ID",an:{lp:"id",ns:"http://www.opengis.net/gml"},t:"a"}]},{ln:"AbstractCurveSegmentType",ps:[{n:"numDerivativesAtStart",ti:"Integer",an:{lp:"numDerivativesAtStart"},t:"a"},{n:"numDerivativesAtEnd",ti:"Integer",an:{lp:"numDerivativesAtEnd"},t:"a"},{n:"numDerivativeInterior",ti:"Integer",an:{lp:"numDerivativeInterior"},t:"a"}]},{ln:"RelatedTimeType",bti:".TimePrimitivePropertyType",ps:[{n:"relativePosition",an:{lp:"relativePosition"},t:"a"}]},{ln:"OperationParameterGroupRefType",ps:[{n:"operationParameterGroup",rq:!0,en:"OperationParameterGroup",ti:".OperationParameterGroupType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"GridType",bti:".AbstractGeometryType",ps:[{n:"limits",rq:!0,ti:".GridLimitsType"},{n:"axisName",rq:!0,col:!0},{n:"dimension",rq:!0,ti:"PositiveInteger",an:{lp:"dimension"},t:"a"}]},{ln:"IndexMapType",bti:".GridFunctionType",ps:[{n:"lookUpTable",rq:!0,ti:{t:"l",bti:"Integer"}}]},{ln:"AbstractCurveType",bti:".AbstractGeometricPrimitiveType"},{ln:"MultiGeometryPropertyType",ps:[{n:"geometricAggregate",rq:!0,mx:!1,dom:!1,en:"_GeometricAggregate",ti:".AbstractGeometricAggregateType",t:"er"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"GridCoverageType",bti:".AbstractDiscreteCoverageType"},{ln:"DerivedCRSTypeType",bti:".CodeType"},{ln:"ArrayType",bti:".AbstractGMLType",ps:[{n:"members",ti:".ArrayAssociationType"}]},{ln:"AbstractGriddedSurfaceType",bti:".AbstractParametricCurveSurfaceType",ps:[{n:"row",rq:!0,col:!0,ti:".AbstractGriddedSurfaceType.Row"},{n:"rows",ti:"Integer"},{n:"columns",ti:"Integer"}]},{ln:"AbstractTimeGeometricPrimitiveType",bti:".AbstractTimePrimitiveType",ps:[{n:"frame",an:{lp:"frame"},t:"a"}]},{ln:"ArrayAssociationType",ps:[{n:"object",mno:0,col:!0,mx:!1,dom:!1,en:"_Object",ti:"AnyType",t:"er"}]},{ln:"PassThroughOperationRefType",ps:[{n:"passThroughOperation",rq:!0,en:"PassThroughOperation",ti:".PassThroughOperationType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"PolygonPatchType",bti:".AbstractSurfacePatchType",ps:[{n:"exterior",mx:!1,dom:!1,ti:".AbstractRingPropertyType",t:"er"},{n:"interior",mno:0,col:!0,mx:!1,dom:!1,ti:".AbstractRingPropertyType",t:"er"},{n:"interpolation",an:{lp:"interpolation"},t:"a"}]},{ln:"GeneralTransformationRefType",ps:[{n:"generalTransformation",rq:!0,mx:!1,dom:!1,en:"_GeneralTransformation",ti:".AbstractGeneralTransformationType",t:"er"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"TransformationRefType",ps:[{n:"transformation",rq:!0,en:"Transformation",ti:".TransformationType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"ValueArrayType",bti:".CompositeValueType",ps:[{n:"codeSpace",an:{lp:"codeSpace"},t:"a"},{n:"uom",an:{lp:"uom"},t:"a"}]},{ln:"TimeClockPropertyType",ps:[{n:"timeClock",rq:!0,en:"TimeClock",ti:".TimeClockType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"CylinderType",bti:".AbstractGriddedSurfaceType",ps:[{n:"horizontalCURVETYPE",an:{lp:"horizontalCurveType"},t:"a"},{n:"verticalCURVETYPE",an:{lp:"verticalCurveType"},t:"a"}]},{ln:"MultiSurfaceCoverageType",bti:".AbstractDiscreteCoverageType"},{ln:"VerticalDatumTypeType",bti:".CodeType"},{ln:"GeometryArrayPropertyType",ps:[{n:"geometry",mno:0,col:!0,mx:!1,dom:!1,en:"_Geometry",ti:".AbstractGeometryType",t:"er"}]},{ln:"MultiCurvePropertyType",ps:[{n:"multiCurve",rq:!0,en:"MultiCurve",ti:".MultiCurveType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"DirectedFacePropertyType",ps:[{n:"face",rq:!0,en:"Face",ti:".FaceType"},{n:"orientation",an:{lp:"orientation"},t:"a"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"GridFunctionType",ps:[{n:"sequenceRule",ti:".SequenceRuleType"},{n:"startPoint",ti:{t:"l",bti:"Integer"}}]},{ln:"DMSAngleType",ps:[{n:"degrees",rq:!0,ti:".DegreesType"},{n:"decimalMinutes",rq:!0,ti:"Decimal"},{n:"minutes",rq:!0,ti:"NonNegativeInteger"},{n:"seconds",ti:"Decimal"}]},{ln:"AbstractTimeComplexType",bti:".AbstractTimeObjectType"},{ln:"LocationPropertyType",ps:[{n:"geometry",rq:!0,mx:!1,dom:!1,en:"_Geometry",ti:".AbstractGeometryType",t:"er"},{n:"locationKeyWord",rq:!0,en:"LocationKeyWord",ti:".CodeType"},{n:"locationString",rq:!0,en:"LocationString",ti:".StringOrRefType"},{n:"_null",rq:!0,en:"Null",ti:{t:"l"}},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"SurfaceType",bti:".AbstractSurfaceType",ps:[{n:"patches",rq:!0,mx:!1,dom:!1,ti:".SurfacePatchArrayPropertyType",t:"er"}]},{ln:"LabelType",ps:[{n:"content",col:!0,dom:!1,en:"LabelExpression",t:"er"},{n:"transform",an:{lp:"transform",ns:"http://www.opengis.net/gml"},t:"a"}]},{ln:"OperationParameterRefType",ps:[{n:"operationParameter",rq:!0,en:"OperationParameter",ti:".OperationParameterType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"AbstractSolidType",bti:".AbstractGeometricPrimitiveType"},{ln:"GenericMetaDataType",bti:".AbstractMetaDataType",ps:[{n:"contentOverrideForGenericMetaDataType",t:"ae"}]},{ln:"CoordinateOperationRefType",ps:[{n:"coordinateOperation",rq:!0,mx:!1,dom:!1,en:"_CoordinateOperation",ti:".AbstractCoordinateOperationType",t:"er"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"DataBlockType",ps:[{n:"rangeParameters",rq:!0,ti:".RangeParametersType"},{n:"tupleList",rq:!0,ti:".CoordinatesType"},{n:"doubleOrNullTupleList",rq:!0,ti:{t:"l"}}]},{ln:"TopoComplexType",bti:".AbstractTopologyType",ps:[{n:"maximalComplex",rq:!0,ti:".TopoComplexMemberType"},{n:"superComplex",mno:0,col:!0,ti:".TopoComplexMemberType"},{n:"subComplex",mno:0,col:!0,ti:".TopoComplexMemberType"},{n:"topoPrimitiveMember",mno:0,col:!0,ti:".TopoPrimitiveMemberType"},{n:"topoPrimitiveMembers",ti:".TopoPrimitiveArrayAssociationType"},{n:"isMaximal",ti:"Boolean",an:{lp:"isMaximal"},t:"a"}]},{ln:"NodeType",bti:".AbstractTopoPrimitiveType",ps:[{n:"directedEdge",mno:0,col:!0,ti:".DirectedEdgePropertyType"},{n:"pointProperty",ti:".PointPropertyType"}]},{ln:"PolarCSRefType",ps:[{n:"polarCS",rq:!0,en:"PolarCS",ti:".PolarCSType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"AbstractTopologyType",bti:".AbstractGMLType"},{ln:"ClothoidType",bti:".AbstractCurveSegmentType",ps:[{n:"refLocation",rq:!0,ti:".ClothoidType.RefLocation"},{n:"scaleFactor",rq:!0,ti:"Decimal"},{n:"startParameter",rq:!0,ti:"Double"},{n:"endParameter",rq:!0,ti:"Double"}]},{ln:"MetaDataPropertyType",ps:[{n:"any",rq:!0,mx:!1,t:"ae"},{n:"about",an:{lp:"about"},t:"a"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"ArcByCenterPointType",bti:".AbstractCurveSegmentType",ps:[{n:"pos",rq:!0,ti:".DirectPositionType"},{n:"pointProperty",rq:!0,ti:".PointPropertyType"},{n:"pointRep",rq:!0,ti:".PointPropertyType"},{n:"posList",rq:!0,ti:".DirectPositionListType"},{n:"coordinates",rq:!0,ti:".CoordinatesType"},{n:"radius",rq:!0,ti:".LengthType"},{n:"startAngle",ti:".AngleType"},{n:"endAngle",ti:".AngleType"},{n:"interpolation",an:{lp:"interpolation"},t:"a"},{n:"numARC",rq:!0,ti:"Integer",an:{lp:"numArc"},t:"a"}]},{ln:"ConversionRefType",ps:[{n:"conversion",rq:!0,en:"Conversion",ti:".ConversionType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"DegreesType",ps:[{n:"value",ti:"NonNegativeInteger",t:"v"},{n:"direction",an:{lp:"direction"},t:"a"}]},{ln:"MultiSurfaceDomainType",bti:".DomainSetType"},{ln:"ConcatenatedOperationRefType",ps:[{n:"concatenatedOperation",rq:!0,en:"ConcatenatedOperation",ti:".ConcatenatedOperationType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"OperationMethodType",bti:".OperationMethodBaseType",ps:[{n:"methodID",mno:0,col:!0,ti:".IdentifierType"},{n:"remarks",ti:".StringOrRefType"},{n:"methodFormula",rq:!0,ti:".CodeType"},{n:"sourceDimensions",rq:!0,ti:"PositiveInteger"},{n:"targetDimensions",rq:!0,ti:"PositiveInteger"},{n:"usesParameter",mno:0,col:!0,ti:".AbstractGeneralOperationParameterRefType"}]},{ln:"EllipsoidalCSType",bti:".AbstractCoordinateSystemType"},{ln:"SpeedType",bti:".MeasureType"},{ln:"PolygonType",bti:".AbstractSurfaceType",ps:[{n:"exterior",mx:!1,dom:!1,ti:".AbstractRingPropertyType",t:"er"},{n:"interior",mno:0,col:!0,mx:!1,dom:!1,ti:".AbstractRingPropertyType",t:"er"}]},{ln:"AbstractTopoPrimitiveType",bti:".AbstractTopologyType",ps:[{n:"isolated",mno:0,col:!0,ti:".IsolatedPropertyType"},{n:"container",ti:".ContainerPropertyType"}]},{ln:"BSplineType",bti:".AbstractCurveSegmentType",ps:[{n:"posOrPointPropertyOrPointRep",mno:0,col:!0,mx:!1,dom:!1,etis:[{en:"pointRep",ti:".PointPropertyType"},{en:"pointProperty",ti:".PointPropertyType"},{en:"pos",ti:".DirectPositionType"}],t:"ers"},{n:"posList",rq:!0,ti:".DirectPositionListType"},{n:"coordinates",rq:!0,ti:".CoordinatesType"},{n:"degree",rq:!0,ti:"NonNegativeInteger"},{n:"knot",rq:!0,mno:2,col:!0,ti:".KnotPropertyType"},{n:"interpolation",an:{lp:"interpolation"},t:"a"},{n:"isPolynomial",ti:"Boolean",an:{lp:"isPolynomial"},t:"a"},{n:"knotType",an:{lp:"knotType"},t:"a"}]},{ln:"FileType",ps:[{n:"rangeParameters",rq:!0,ti:".RangeParametersType"},{n:"fileName",rq:!0},{n:"fileStructure",rq:!0},{n:"mimeType"},{n:"compression"}]},{ln:"RectifiedGridType",bti:".GridType",ps:[{n:"origin",rq:!0,ti:".PointPropertyType"},{n:"offsetVector",rq:!0,col:!0,ti:".VectorType"}]},{ln:"TimePeriodPropertyType",ps:[{n:"timePeriod",rq:!0,en:"TimePeriod",ti:".TimePeriodType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"RingType",bti:".AbstractRingType",ps:[{n:"curveMember",rq:!0,col:!0,ti:".CurvePropertyType"}]},{ln:"ClothoidType.RefLocation",tn:null,ps:[{n:"affinePlacement",rq:!0,en:"AffinePlacement",ti:".AffinePlacementType"}]},{ln:"GeometryStylePropertyType",ps:[{n:"geometryStyle",en:"GeometryStyle",ti:".GeometryStyleType"},{n:"about",an:{lp:"about"},t:"a"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"EnvelopeWithTimePeriodType",bti:".EnvelopeType",ps:[{n:"timePosition",rq:!0,mno:2,mxo:2,col:!0,ti:".TimePositionType"},{n:"frame",an:{lp:"frame"},t:"a"}]},{ln:"ValuePropertyType",ps:[{n:"_boolean",rq:!0,en:"Boolean",ti:"Boolean"},{n:"category",rq:!0,en:"Category",ti:".CodeType"},{n:"quantity",rq:!0,en:"Quantity",ti:".MeasureType"},{n:"count",rq:!0,en:"Count",ti:"Integer"},{n:"booleanList",rq:!0,en:"BooleanList",ti:{t:"l"}},{n:"categoryList",rq:!0,en:"CategoryList",ti:".CodeOrNullListType"},{n:"quantityList",rq:!0,en:"QuantityList",ti:".MeasureOrNullListType"},{n:"countList",rq:!0,en:"CountList",ti:{t:"l"}},{n:"categoryExtent",rq:!0,en:"CategoryExtent",ti:".CategoryExtentType"},{n:"quantityExtent",rq:!0,en:"QuantityExtent",ti:".QuantityExtentType"},{n:"countExtent",rq:!0,en:"CountExtent",ti:{t:"l"}},{n:"compositeValue",rq:!0,mx:!1,dom:!1,en:"CompositeValue",ti:".CompositeValueType",t:"er"},{n:"object",rq:!0,mx:!1,dom:!1,en:"_Object",ti:"AnyType",t:"er"},{n:"_null",rq:!0,en:"Null",ti:{t:"l"}},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"GeodesicStringType",bti:".AbstractCurveSegmentType",ps:[{n:"posList",rq:!0,ti:".DirectPositionListType"},{n:"geometricPositionGroup",rq:!0,mno:2,col:!0,etis:[{en:"pos",ti:".DirectPositionType"},{en:"pointProperty",ti:".PointPropertyType"}],t:"es"},{n:"interpolation",an:{lp:"interpolation"},t:"a"}]},{ln:"AbstractDatumBaseType",bti:".DefinitionType"},{ln:"TemporalCRSRefType",ps:[{n:"temporalCRS",rq:!0,en:"TemporalCRS",ti:".TemporalCRSType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"MultiGeometryType",bti:".AbstractGeometricAggregateType",ps:[{n:"geometryMember",mno:0,col:!0,ti:".GeometryPropertyType"},{n:"geometryMembers",ti:".GeometryArrayPropertyType"}]},{ln:"TimeInstantPropertyType",ps:[{n:"timeInstant",rq:!0,en:"TimeInstant",ti:".TimeInstantType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"CompoundCRSRefType",ps:[{n:"compoundCRS",rq:!0,en:"CompoundCRS",ti:".CompoundCRSType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"TrianglePatchArrayPropertyType",bti:".SurfacePatchArrayPropertyType"},{ln:"DomainSetType",ps:[{n:"geometry",rq:!0,mx:!1,dom:!1,en:"_Geometry",ti:".AbstractGeometryType",t:"er"},{n:"timeObject",rq:!0,mx:!1,dom:!1,en:"_TimeObject",ti:".AbstractTimeObjectType",t:"er"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"TemporalCSRefType",ps:[{n:"temporalCS",rq:!0,en:"TemporalCS",ti:".TemporalCSType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"MultiPolygonType",bti:".AbstractGeometricAggregateType",ps:[{n:"polygonMember",mno:0,col:!0,ti:".PolygonPropertyType"}]},{ln:"StyleType",bti:".AbstractStyleType",ps:[{n:"featureStyle",rq:!0,col:!0,ti:".FeatureStylePropertyType"},{n:"graphStyle",ti:".GraphStylePropertyType"}]},{ln:"DynamicFeatureCollectionType",bti:".FeatureCollectionType",ps:[{n:"validTime",ti:".TimePrimitivePropertyType"},{n:"history",mx:!1,dom:!1,ti:".HistoryPropertyType",t:"er"},{n:"dataSource",ti:".StringOrRefType"}]},{ln:"PrimeMeridianBaseType",bti:".DefinitionType"},{ln:"AbstractGriddedSurfaceType.Row",tn:null,ps:[{n:"posList",rq:!0,ti:".DirectPositionListType"},{n:"geometricPositionGroup",rq:!0,col:!0,etis:[{en:"pos",ti:".DirectPositionType"},{en:"pointProperty",ti:".PointPropertyType"}],t:"es"}]},{ln:"DictionaryType",bti:".DefinitionType",ps:[{n:"dictionaryEntryOrIndirectEntry",mno:0,col:!0,mx:!1,dom:!1,etis:[{en:"indirectEntry",ti:".IndirectEntryType"},{en:"dictionaryEntry",ti:".DictionaryEntryType"}],t:"ers"}]},{ln:"CoordType",ps:[{n:"x",rq:!0,en:"X",ti:"Decimal"},{n:"y",en:"Y",ti:"Decimal"},{n:"z",en:"Z",ti:"Decimal"}]},{ln:"RectangleType",bti:".AbstractSurfacePatchType",ps:[{n:"exterior",rq:!0,mx:!1,dom:!1,ti:".AbstractRingPropertyType",t:"er"},{n:"interpolation",an:{lp:"interpolation"},t:"a"}]},{ln:"DirectionPropertyType",ps:[{n:"directionVector",rq:!0,en:"DirectionVector",ti:".DirectionVectorType"},{n:"compassPoint",rq:!0,en:"CompassPoint"},{n:"directionKeyword",rq:!0,en:"DirectionKeyword",ti:".CodeType"},{n:"directionString",rq:!0,en:"DirectionString",ti:".StringOrRefType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"AbstractFeatureCollectionType",bti:".AbstractFeatureType",ps:[{n:"featureMember",mno:0,col:!0,ti:".FeaturePropertyType"},{n:"featureMembers",ti:".FeatureArrayPropertyType"}]},{ln:"PrimeMeridianType",bti:".PrimeMeridianBaseType",ps:[{n:"meridianID",mno:0,col:!0,ti:".IdentifierType"},{n:"remarks",ti:".StringOrRefType"},{n:"greenwichLongitude",rq:!0,ti:".AngleChoiceType"}]},{ln:"SolidPropertyType",ps:[{n:"solid",rq:!0,mx:!1,dom:!1,en:"_Solid",ti:".AbstractSolidType",t:"er"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"FeatureStylePropertyType",ps:[{n:"featureStyle",en:"FeatureStyle",ti:".FeatureStyleType"},{n:"about",an:{lp:"about"},t:"a"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"TimeCalendarType",bti:".AbstractTimeReferenceSystemType",ps:[{n:"referenceFrame",rq:!0,col:!0,ti:".TimeCalendarEraPropertyType"}]},{ln:"AbstractGeneralOperationParameterType",bti:".DefinitionType",ps:[{n:"minimumOccurs",ti:"NonNegativeInteger"}]},{ln:"DerivedCRSType",bti:".AbstractGeneralDerivedCRSType",ps:[{n:"derivedCRSType",rq:!0,ti:".DerivedCRSTypeType"},{n:"usesCS",rq:!0,ti:".CoordinateSystemRefType"}]},{ln:"TimeType",bti:".MeasureType"},{ln:"CylindricalCSType",bti:".AbstractCoordinateSystemType"},{ln:"UnitOfMeasureType",ps:[{n:"uom",rq:!0,an:{lp:"uom"},t:"a"}]},{ln:"GeneralConversionRefType",ps:[{n:"generalConversion",rq:!0,mx:!1,dom:!1,en:"_GeneralConversion",ti:".AbstractGeneralConversionType",t:"er"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"AffinePlacementType",ps:[{n:"location",rq:!0,ti:".DirectPositionType"},{n:"refDirection",rq:!0,col:!0,ti:".VectorType"},{n:"inDimension",rq:!0,ti:"PositiveInteger"},{n:"outDimension",rq:!0,ti:"PositiveInteger"}]},{ln:"PolyhedralSurfaceType",bti:".SurfaceType"},{ln:"IsolatedPropertyType",ps:[{n:"node",rq:!0,en:"Node",ti:".NodeType"},{n:"edge",rq:!0,en:"Edge",ti:".EdgeType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"SolidType",bti:".AbstractSolidType",ps:[{n:"exterior",ti:".SurfacePropertyType"},{n:"interior",mno:0,col:!0,ti:".SurfacePropertyType"}]},{ln:"VerticalCSType",bti:".AbstractCoordinateSystemType"},{ln:"ArcType",bti:".ArcStringType"},{ln:"GeometricPrimitivePropertyType",ps:[{n:"geometricPrimitive",rq:!0,mx:!1,dom:!1,en:"_GeometricPrimitive",ti:".AbstractGeometricPrimitiveType",t:"er"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"AbstractSurfacePatchType"},{ln:"EllipsoidalCSRefType",ps:[{n:"ellipsoidalCS",rq:!0,en:"EllipsoidalCS",ti:".EllipsoidalCSType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"LineStringSegmentType",bti:".AbstractCurveSegmentType",ps:[{n:"posOrPointPropertyOrPointRep",rq:!0,mno:2,col:!0,mx:!1,dom:!1,etis:[{en:"pointRep",ti:".PointPropertyType"},{en:"pointProperty",ti:".PointPropertyType"},{en:"pos",ti:".DirectPositionType"}],t:"ers"},{n:"posList",rq:!0,ti:".DirectPositionListType"},{n:"coordinates",rq:!0,ti:".CoordinatesType"},{n:"interpolation",an:{lp:"interpolation"},t:"a"}]},{ln:"IdentifierType",ps:[{n:"name",rq:!0,mx:!1,dom:!1,ti:".CodeType",t:"er"},{n:"version"},{n:"remarks",ti:".StringOrRefType"}]},{ln:"AbstractGeneralTransformationType",bti:".AbstractCoordinateOperationType"},{ln:"TimeCoordinateSystemType",bti:".AbstractTimeReferenceSystemType",ps:[{n:"originPosition",rq:!0,ti:".TimePositionType"},{n:"origin",rq:!0,ti:".TimeInstantPropertyType"},{n:"interval",rq:!0,ti:".TimeIntervalLengthType"}]},{ln:"TemporalDatumBaseType",bti:".AbstractDatumType"},{ln:"GridLengthType",bti:".MeasureType"},{ln:"IndirectEntryType",ps:[{n:"definitionProxy",rq:!0,en:"DefinitionProxy",ti:".DefinitionProxyType"}]},{ln:"PolygonPatchArrayPropertyType",bti:".SurfacePatchArrayPropertyType"},{ln:"HistoryPropertyType",ps:[{n:"timeSlice",rq:!0,col:!0,mx:!1,dom:!1,en:"_TimeSlice",ti:".AbstractTimeSliceType",t:"er"}]},{ln:"EnvelopeType",ps:[{n:"lowerCorner",rq:!0,ti:".DirectPositionType"},{n:"upperCorner",rq:!0,ti:".DirectPositionType"},{n:"coord",rq:!0,mno:2,mxo:2,col:!0,ti:".CoordType"},{n:"pos",rq:!0,mno:2,mxo:2,col:!0,ti:".DirectPositionType"},{n:"coordinates",rq:!0,ti:".CoordinatesType"},{n:"srsName",an:{lp:"srsName"},t:"a"},{n:"srsDimension",ti:"PositiveInteger",an:{lp:"srsDimension"},t:"a"},{n:"axisLabels",ti:{t:"l",bti:"NCName"},an:{lp:"axisLabels"},t:"a"},{n:"uomLabels",ti:{t:"l",bti:"NCName"},an:{lp:"uomLabels"},t:"a"}]},{ln:"CountPropertyType",bti:".ValuePropertyType"},{ln:"ConversionType",bti:".AbstractGeneralConversionType",ps:[{n:"usesMethod",rq:!0,ti:".OperationMethodRefType"},{n:"usesValue",mno:0,col:!0,ti:".ParameterValueType"}]},{ln:"UserDefinedCSRefType",ps:[{n:"userDefinedCS",rq:!0,en:"UserDefinedCS",ti:".UserDefinedCSType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"LabelStylePropertyType",ps:[{n:"labelStyle",en:"LabelStyle",ti:".LabelStyleType"},{n:"about",an:{lp:"about"},t:"a"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"BaseStyleDescriptorType",bti:".AbstractGMLType",ps:[{n:"spatialResolution",ti:".ScaleType"},{n:"styleVariation",mno:0,col:!0,ti:".StyleVariationType"},{n:"animate",mno:0,col:!0,en:{lp:"animate",ns:"http://www.w3.org/2001/SMIL20/"},ti:"SMIL_2_0_Language.AnimateType"},{n:"animateMotion",mno:0,col:!0,en:{lp:"animateMotion",ns:"http://www.w3.org/2001/SMIL20/"},ti:"SMIL_2_0_Language.AnimateMotionType"},{n:"animateColor",mno:0,col:!0,en:{lp:"animateColor",ns:"http://www.w3.org/2001/SMIL20/"},ti:"SMIL_2_0_Language.AnimateColorType"},{n:"set",mno:0,col:!0,en:{lp:"set",ns:"http://www.w3.org/2001/SMIL20/"},ti:"SMIL_2_0_Language.SetType"}]},{ln:"SphericalCSRefType",ps:[{n:"sphericalCS",rq:!0,en:"SphericalCS",ti:".SphericalCSType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"GeodeticDatumType",bti:".AbstractDatumType",ps:[{n:"usesPrimeMeridian",rq:!0,ti:".PrimeMeridianRefType"},{n:"usesEllipsoid",rq:!0,ti:".EllipsoidRefType"}]},{ln:"OperationMethodBaseType",bti:".DefinitionType"},{ln:"LineStringSegmentArrayPropertyType",ps:[{n:"lineStringSegment",mno:0,col:!0,en:"LineStringSegment",ti:".LineStringSegmentType"}]},{ln:"MeasureListType",ps:[{n:"value",ti:{t:"l",bti:"Double"},t:"v"},{n:"uom",rq:!0,an:{lp:"uom"},t:"a"}]},{ln:"EngineeringDatumType",bti:".AbstractDatumType"},{ln:"ScalarValuePropertyType",bti:".ValuePropertyType"},{ln:"TopoVolumeType",bti:".AbstractTopologyType",ps:[{n:"directedTopoSolid",rq:!0,col:!0,ti:".DirectedTopoSolidPropertyType"}]},{ln:"TopoCurvePropertyType",ps:[{n:"topoCurve",rq:!0,en:"TopoCurve",ti:".TopoCurveType"}]},{ln:"TransformationType",bti:".AbstractGeneralTransformationType",ps:[{n:"usesMethod",rq:!0,ti:".OperationMethodRefType"},{n:"usesValue",mno:0,col:!0,ti:".ParameterValueType"}]},{ln:"ParameterValueType",bti:".AbstractGeneralParameterValueType",ps:[{n:"value",rq:!0,ti:".MeasureType"},{n:"dmsAngleValue",rq:!0,ti:".DMSAngleType"},{n:"stringValue",rq:!0},{n:"integerValue",rq:!0,ti:"PositiveInteger"},{n:"booleanValue",rq:!0,ti:"Boolean"},{n:"valueList",rq:!0,ti:".MeasureListType"},{n:"integerValueList",rq:!0,ti:{t:"l",bti:"Integer"}},{n:"valueFile",rq:!0},{n:"valueOfParameter",rq:!0,ti:".OperationParameterRefType"}]},{ln:"TimeGeometricPrimitivePropertyType",ps:[{n:"timeGeometricPrimitive",rq:!0,mx:!1,dom:!1,en:"_TimeGeometricPrimitive",ti:".AbstractTimeGeometricPrimitiveType",t:"er"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"TimeClockType",bti:".AbstractTimeReferenceSystemType",ps:[{n:"referenceEvent",rq:!0,ti:".StringOrRefType"},{n:"referenceTime",rq:!0,ti:"Time"},{n:"utcReference",rq:!0,ti:"Time"},{n:"dateBasis",mno:0,col:!0,ti:".TimeCalendarPropertyType"}]},{ln:"CubicSplineType",bti:".AbstractCurveSegmentType",ps:[{n:"posOrPointPropertyOrPointRep",rq:!0,mno:2,col:!0,mx:!1,dom:!1,etis:[{en:"pointRep",ti:".PointPropertyType"},{en:"pointProperty",ti:".PointPropertyType"},{en:"pos",ti:".DirectPositionType"}],t:"ers"},{n:"posList",rq:!0,ti:".DirectPositionListType"},{n:"coordinates",rq:!0,ti:".CoordinatesType"},{n:"vectorAtStart",rq:!0,ti:".VectorType"},{n:"vectorAtEnd",rq:!0,ti:".VectorType"},{n:"interpolation",an:{lp:"interpolation"},t:"a"},{n:"degree",ti:"Integer",an:{lp:"degree"},t:"a"}]},{ln:"OperationMethodRefType",ps:[{n:"operationMethod",rq:!0,en:"OperationMethod",ti:".OperationMethodType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"LineStringPropertyType",ps:[{n:"lineString",rq:!0,en:"LineString",ti:".LineStringType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"AbstractCoverageType",bti:".AbstractFeatureType",ps:[{n:"domainSet",rq:!0,mx:!1,dom:!1,ti:".DomainSetType",t:"er"},{n:"rangeSet",rq:!0,ti:".RangeSetType"},{n:"dimension",ti:"PositiveInteger",an:{lp:"dimension"},t:"a"}]},{ln:"TargetPropertyType",ps:[{n:"feature",rq:!0,mx:!1,en:"_Feature",ti:".AbstractFeatureType",t:"er"},{n:"geometry",rq:!0,mx:!1,dom:!1,en:"_Geometry",ti:".AbstractGeometryType",t:"er"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"TimePrimitivePropertyType",ps:[{n:"timePrimitive",rq:!0,mx:!1,dom:!1,en:"_TimePrimitive",ti:".AbstractTimePrimitiveType",t:"er"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"CategoryPropertyType",bti:".ValuePropertyType"},{ln:"LineStringType",bti:".AbstractCurveType",ps:[{n:"posOrPointPropertyOrPointRep",rq:!0,mno:2,col:!0,mx:!1,dom:!1,etis:[{en:"pointRep",ti:".PointPropertyType"},{en:"pointProperty",ti:".PointPropertyType"},{en:"coord",ti:".CoordType"},{en:"pos",ti:".DirectPositionType"}],t:"ers"},{n:"posList",rq:!0,ti:".DirectPositionListType"},{n:"coordinates",rq:!0,ti:".CoordinatesType"}]},{ln:"DerivationUnitTermType",bti:".UnitOfMeasureType",ps:[{n:"exponent",ti:"Integer",an:{lp:"exponent"},t:"a"}]},{ln:"TinType",bti:".TriangulatedSurfaceType",ps:[{n:"stopLines",mno:0,col:!0,ti:".LineStringSegmentArrayPropertyType"},{n:"breakLines",mno:0,col:!0,ti:".LineStringSegmentArrayPropertyType"},{n:"maxLength",rq:!0,ti:".LengthType"},{n:"controlPoint",rq:!0,ti:".TinType.ControlPoint"}]},{ln:"GeodeticDatumRefType",ps:[{n:"geodeticDatum",rq:!0,en:"GeodeticDatum",ti:".GeodeticDatumType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"TimePositionType",ps:[{n:"value",ti:{t:"l"},t:"v"},{n:"frame",an:{lp:"frame"},t:"a"},{n:"calendarEraName",an:{lp:"calendarEraName"},t:"a"},{n:"indeterminatePosition",an:{lp:"indeterminatePosition"},t:"a"}]},{ln:"PrimeMeridianRefType",ps:[{n:"primeMeridian",rq:!0,en:"PrimeMeridian",ti:".PrimeMeridianType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"VolumeType",bti:".MeasureType"},{ln:"TimeIntervalLengthType",ps:[{n:"value",ti:"Decimal",t:"v"},{n:"unit",rq:!0,an:{lp:"unit"},t:"a"},{n:"radix",ti:"PositiveInteger",an:{lp:"radix"},t:"a"},{n:"factor",ti:"Integer",an:{lp:"factor"},t:"a"}]},{ln:"ParameterValueGroupType",bti:".AbstractGeneralParameterValueType",ps:[{n:"includesValue",rq:!0,mno:2,col:!0,ti:".AbstractGeneralParameterValueType"},{n:"valuesOfGroup",rq:!0,ti:".OperationParameterGroupRefType"}]},{ln:"CartesianCSRefType",ps:[{n:"cartesianCS",rq:!0,en:"CartesianCS",ti:".CartesianCSType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"TimeEdgePropertyType",ps:[{n:"timeEdge",rq:!0,en:"TimeEdge",ti:".TimeEdgeType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"TopoPointPropertyType",ps:[{n:"topoPoint",rq:!0,en:"TopoPoint",ti:".TopoPointType"}]},{ln:"ProjectedCRSType",bti:".AbstractGeneralDerivedCRSType",ps:[{n:"usesCartesianCS",rq:!0,ti:".CartesianCSRefType"}]},{ln:"MultiCurveDomainType",bti:".DomainSetType"},{ln:"AbstractReferenceSystemBaseType",bti:".DefinitionType"},{ln:"PolygonPropertyType",ps:[{n:"polygon",rq:!0,en:"Polygon",ti:".PolygonType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"PolarCSType",bti:".AbstractCoordinateSystemType"},{ln:"AbstractGeometricPrimitiveType",bti:".AbstractGeometryType"},{ln:"MultiSolidDomainType",bti:".DomainSetType"},{ln:"TopoVolumePropertyType",ps:[{n:"topoVolume",rq:!0,en:"TopoVolume",ti:".TopoVolumeType"}]},{ln:"CircleType",bti:".ArcType"},{ln:"ValueArrayPropertyType",ps:[{n:"value",rq:!0,col:!0,mx:!1,dom:!1,etis:[{en:"CountExtent",ti:{t:"l"}},{en:"Quantity",ti:".MeasureType"},{en:"Null",ti:{t:"l"}},{en:"CountList",ti:{t:"l"}},{en:"Count",ti:"Integer"},{en:"QuantityExtent",ti:".QuantityExtentType"},{en:"_Object",ti:"AnyType"},{en:"CategoryList",ti:".CodeOrNullListType"},{en:"CompositeValue",ti:".CompositeValueType"},{en:"CategoryExtent",ti:".CategoryExtentType"},{en:"Category",ti:".CodeType"},{en:"BooleanList",ti:{t:"l"}},{en:"QuantityList",ti:".MeasureOrNullListType"},{en:"Boolean",ti:"Boolean"}],t:"ers"}]},{ln:"GraphStyleType",bti:".BaseStyleDescriptorType",ps:[{n:"planar",ti:"Boolean"},{n:"directed",ti:"Boolean"},{n:"grid",ti:"Boolean"},{n:"minDistance",ti:"Double"},{n:"minAngle",ti:"Double"},{n:"graphType"},{n:"drawingType"},{n:"lineType"},{n:"aestheticCriteria",mno:0,col:!0}]},{ln:"AbstractGeneralConversionType",bti:".AbstractCoordinateOperationType"},{ln:"TopoSurfaceType",bti:".AbstractTopologyType",ps:[{n:"directedFace",rq:!0,col:!0,ti:".DirectedFacePropertyType"}]},{ln:"MultiPointDomainType",bti:".DomainSetType"},{ln:"CircleByCenterPointType",bti:".ArcByCenterPointType"},{ln:"CompositeSurfaceType",bti:".AbstractSurfaceType",ps:[{n:"surfaceMember",rq:!0,col:!0,ti:".SurfacePropertyType"}]},{ln:"MultiCurveCoverageType",bti:".AbstractDiscreteCoverageType"},{ln:"MultiLineStringType",bti:".AbstractGeometricAggregateType",ps:[{n:"lineStringMember",mno:0,col:!0,ti:".LineStringPropertyType"}]},{ln:"ImageCRSType",bti:".AbstractReferenceSystemType",ps:[{n:"usesCartesianCS",rq:!0,ti:".CartesianCSRefType"},{n:"usesObliqueCartesianCS",rq:!0,ti:".ObliqueCartesianCSRefType"},{n:"usesImageDatum",rq:!0,ti:".ImageDatumRefType"}]},{ln:"FeaturePropertyType",ps:[{n:"feature",rq:!0,mx:!1,en:"_Feature",ti:".AbstractFeatureType",t:"er"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"CoordinateSystemAxisBaseType",bti:".DefinitionType"},{ln:"GeodesicType",bti:".GeodesicStringType"},{ln:"CovarianceElementType",ps:[{n:"rowIndex",rq:!0,ti:"PositiveInteger"},{n:"columnIndex",rq:!0,ti:"PositiveInteger"},{n:"covariance",rq:!0,ti:"Double"}]},{ln:"DerivedUnitType",bti:".UnitDefinitionType",ps:[{n:"derivationUnitTerm",rq:!0,col:!0,ti:".DerivationUnitTermType"}]},{ln:"EdgeType",bti:".AbstractTopoPrimitiveType",ps:[{n:"directedNode",rq:!0,mno:2,mxo:2,col:!0,ti:".DirectedNodePropertyType"},{n:"directedFace",mno:0,col:!0,ti:".DirectedFacePropertyType"},{n:"curveProperty",ti:".CurvePropertyType"}]},{ln:"CompositeSolidPropertyType",ps:[{n:"compositeSolid",rq:!0,en:"CompositeSolid",ti:".CompositeSolidType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"CRSRefType",ps:[{n:"crs",rq:!0,mx:!1,dom:!1,en:"_CRS",ti:".AbstractReferenceSystemType",t:"er"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"AssociationType",ps:[{n:"object",rq:!0,mx:!1,dom:!1,en:"_Object",ti:"AnyType",t:"er"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"TimeOrdinalEraPropertyType",ps:[{n:"timeOrdinalEra",rq:!0,en:"TimeOrdinalEra",ti:".TimeOrdinalEraType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"AbstractCoordinateSystemType",bti:".AbstractCoordinateSystemBaseType",ps:[{n:"csID",mno:0,col:!0,ti:".IdentifierType"},{n:"remarks",ti:".StringOrRefType"},{n:"usesAxis",rq:!0,col:!0,ti:".CoordinateSystemAxisRefType"}]},{ln:"GridDomainType",bti:".DomainSetType"},{ln:"SolidArrayPropertyType",ps:[{n:"solid",mno:0,col:!0,mx:!1,dom:!1,en:"_Solid",ti:".AbstractSolidType",t:"er"}]},{ln:"ConventionalUnitType",bti:".UnitDefinitionType",ps:[{n:"conversionToPreferredUnit",rq:!0,ti:".ConversionToPreferredUnitType"},{n:"roughConversionToPreferredUnit",rq:!0,ti:".ConversionToPreferredUnitType"},{n:"derivationUnitTerm",mno:0,col:!0,ti:".DerivationUnitTermType"}]},{ln:"OrientableCurveType",bti:".AbstractCurveType",ps:[{n:"baseCurve",rq:!0,ti:".CurvePropertyType"},{n:"orientation",an:{lp:"orientation"},t:"a"}]},{ln:"SphereType",bti:".AbstractGriddedSurfaceType",ps:[{n:"horizontalCURVETYPE",an:{lp:"horizontalCurveType"},t:"a"},{n:"verticalCURVETYPE",an:{lp:"verticalCurveType"},t:"a"}]},{ln:"AbstractGeometricAggregateType",bti:".AbstractGeometryType"},{ln:"CurveType",bti:".AbstractCurveType",ps:[{n:"segments",rq:!0,ti:".CurveSegmentArrayPropertyType"}]},{ln:"GridEnvelopeType",ps:[{n:"low",rq:!0,ti:{t:"l",bti:"Integer"}},{n:"high",rq:!0,ti:{t:"l",bti:"Integer"}}]},{ln:"ObservationType",bti:".AbstractFeatureType",ps:[{n:"validTime",rq:!0,ti:".TimePrimitivePropertyType"},{n:"using",ti:".FeaturePropertyType"},{n:"target",mx:!1,dom:!1,ti:".TargetPropertyType",t:"er"},{n:"resultOf",rq:!0,ti:".AssociationType"}]},{ln:"BoundedFeatureType",bti:".AbstractFeatureType"},{ln:"TopoCurveType",bti:".AbstractTopologyType",ps:[{n:"directedEdge",rq:!0,col:!0,ti:".DirectedEdgePropertyType"}]},{ln:"CovarianceMatrixType",bti:".AbstractPositionalAccuracyType",ps:[{n:"unitOfMeasure",rq:!0,col:!0,ti:".UnitOfMeasureType"},{n:"includesElement",rq:!0,col:!0,ti:".CovarianceElementType"}]},{ln:"ConcatenatedOperationType",bti:".AbstractCoordinateOperationType",ps:[{n:"usesSingleOperation",rq:!0,mno:2,col:!0,ti:".SingleOperationRefType"}]},{ln:"AbstractGeneralOperationParameterRefType",ps:[{n:"generalOperationParameter",rq:!0,mx:!1,dom:!1,en:"_GeneralOperationParameter",ti:".AbstractGeneralOperationParameterType",t:"er"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"MultiSolidCoverageType",bti:".AbstractDiscreteCoverageType"},{ln:"GeographicCRSRefType",ps:[{n:"geographicCRS",rq:!0,en:"GeographicCRS",ti:".GeographicCRSType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"SymbolType",ps:[{n:"any",mno:0,col:!0,typed:!1,mx:!1,t:"ae"},{n:"symbolType",rq:!0,an:{lp:"symbolType"},t:"a"},{n:"transform",an:{lp:"transform",ns:"http://www.opengis.net/gml"},t:"a"},{n:"about",an:{lp:"about"},t:"a"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"DirectedTopoSolidPropertyType",ps:[{n:"topoSolid",rq:!0,en:"TopoSolid",ti:".TopoSolidType"},{n:"orientation",an:{lp:"orientation"},t:"a"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"QuantityPropertyType",bti:".ValuePropertyType"},{ln:"SurfacePropertyType",ps:[{n:"surface",rq:!0,mx:!1,dom:!1,en:"_Surface",ti:".AbstractSurfaceType",t:"er"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"TemporalCRSType",bti:".AbstractReferenceSystemType",ps:[{n:"usesTemporalCS",rq:!0,ti:".TemporalCSRefType"},{n:"usesTemporalDatum",rq:!0,ti:".TemporalDatumRefType"}]},{ln:"FeatureStyleType",bti:".AbstractGMLType",ps:[{n:"featureConstraint"},{n:"geometryStyle",mno:0,col:!0,ti:".GeometryStylePropertyType"},{n:"topologyStyle",mno:0,col:!0,ti:".TopologyStylePropertyType"},{n:"labelStyle",ti:".LabelStylePropertyType"},{n:"featureType",an:{lp:"featureType"},t:"a"},{n:"baseType",an:{lp:"baseType"},t:"a"},{n:"queryGrammar",an:{lp:"queryGrammar"},t:"a"}]},{ln:"AbstractSurfaceType",bti:".AbstractGeometricPrimitiveType"},{ln:"AbstractDiscreteCoverageType",bti:".AbstractCoverageType",ps:[{n:"coverageFunction",ti:".CoverageFunctionType"}]},{ln:"MeasureOrNullListType",ps:[{n:"value",ti:{t:"l"},t:"v"},{n:"uom",rq:!0,an:{lp:"uom"},t:"a"}]},{ln:"TopologyStyleType",bti:".BaseStyleDescriptorType",ps:[{n:"symbol",rq:!0,ti:".SymbolType"},{n:"style",rq:!0},{n:"labelStyle",ti:".LabelStylePropertyType"},{n:"topologyProperty",an:{lp:"topologyProperty"},t:"a"},{n:"topologyType",an:{lp:"topologyType"},t:"a"}]},{ln:"DictionaryEntryType",ps:[{n:"definition",rq:!0,mx:!1,dom:!1,en:"Definition",ti:".DefinitionType",t:"er"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"CompositeSurfacePropertyType",ps:[{n:"compositeSurface",rq:!0,en:"CompositeSurface",ti:".CompositeSurfaceType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"MultiLineStringPropertyType",ps:[{n:"multiLineString",rq:!0,en:"MultiLineString",ti:".MultiLineStringType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"MeasureType",ps:[{n:"value",ti:"Double",t:"v"},{n:"uom",rq:!0,an:{lp:"uom"},t:"a"}]},{ln:"TopologyStylePropertyType",ps:[{n:"topologyStyle",en:"TopologyStyle",ti:".TopologyStyleType"},{n:"about",an:{lp:"about"},t:"a"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"OffsetCurveType",bti:".AbstractCurveSegmentType",ps:[{n:"offsetBase",rq:!0,ti:".CurvePropertyType"},{n:"distance",rq:!0,ti:".LengthType"},{n:"refDirection",ti:".VectorType"}]},{ln:"StringOrRefType",ps:[{n:"value",t:"v"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"VerticalCRSType",bti:".AbstractReferenceSystemType",ps:[{n:"usesVerticalCS",rq:!0,ti:".VerticalCSRefType"},{n:"usesVerticalDatum",rq:!0,ti:".VerticalDatumRefType"}]},{ln:"AngleType",bti:".MeasureType"},{ln:"BoundingShapeType",ps:[{n:"envelope",rq:!0,mx:!1,dom:!1,en:"Envelope",ti:".EnvelopeType",t:"er"},{n:"_null",rq:!0,en:"Null",ti:{t:"l"}}]},{ln:"TemporalCSType",bti:".AbstractCoordinateSystemType"},{ln:"GridLimitsType",ps:[{n:"gridEnvelope",rq:!0,en:"GridEnvelope",ti:".GridEnvelopeType"}]},{ln:"LinearCSType",bti:".AbstractCoordinateSystemType"},{ln:"AbstractGeneralParameterValueType"},{ln:"DirectedNodePropertyType",ps:[{n:"node",rq:!0,en:"Node",ti:".NodeType"},{n:"orientation",an:{lp:"orientation"},t:"a"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"SurfaceArrayPropertyType",ps:[{n:"surface",mno:0,col:!0,mx:!1,dom:!1,en:"_Surface",ti:".AbstractSurfaceType",t:"er"}]},{ln:"SecondDefiningParameterType",ps:[{n:"inverseFlattening",rq:!0,ti:".MeasureType"},{n:"semiMinorAxis",rq:!0,ti:".MeasureType"},{n:"isSphere",rq:!0}]},{ln:"AbstractGeometryType",bti:".AbstractGMLType",ps:[{n:"gid",an:{lp:"gid"},t:"a"},{n:"srsName",an:{lp:"srsName"},t:"a"},{n:"srsDimension",ti:"PositiveInteger",an:{lp:"srsDimension"},t:"a"},{n:"axisLabels",ti:{t:"l",bti:"NCName"},an:{lp:"axisLabels"},t:"a"},{n:"uomLabels",ti:{t:"l",bti:"NCName"},an:{lp:"uomLabels"},t:"a"}]},{ln:"PassThroughOperationType",bti:".AbstractCoordinateOperationType",ps:[{n:"modifiedCoordinate",rq:!0,col:!0,ti:"PositiveInteger"},{n:"usesOperation",rq:!0,ti:".OperationRefType"}]},{ln:"AbstractCoordinateOperationBaseType",bti:".DefinitionType"},{ln:"ArcStringByBulgeType",bti:".AbstractCurveSegmentType",ps:[{n:"posOrPointPropertyOrPointRep",rq:!0,mno:2,col:!0,mx:!1,dom:!1,etis:[{en:"pointRep",ti:".PointPropertyType"},{en:"pointProperty",ti:".PointPropertyType"},{en:"pos",ti:".DirectPositionType"}],t:"ers"},{n:"posList",rq:!0,ti:".DirectPositionListType"},{n:"coordinates",rq:!0,ti:".CoordinatesType"},{n:"bulge",rq:!0,col:!0,ti:"Double"},{n:"normal",rq:!0,col:!0,ti:".VectorType"},{n:"interpolation",an:{lp:"interpolation"},t:"a"},{n:"numArc",ti:"Integer",an:{lp:"numArc"},t:"a"}]},{ln:"MovingObjectStatusType",bti:".AbstractTimeSliceType",ps:[{n:"location",rq:!0,mx:!1,dom:!1,ti:".LocationPropertyType",t:"er"},{n:"speed",ti:".MeasureType"},{n:"bearing",ti:".DirectionPropertyType"},{n:"acceleration",ti:".MeasureType"},{n:"elevation",ti:".MeasureType"},{n:"status",ti:".StringOrRefType"}]},{ln:"FeatureArrayPropertyType",ps:[{n:"feature",mno:0,col:!0,mx:!1,en:"_Feature",ti:".AbstractFeatureType",t:"er"}]},{ln:"CoordinateSystemAxisRefType",ps:[{n:"coordinateSystemAxis",rq:!0,en:"CoordinateSystemAxis",ti:".CoordinateSystemAxisType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"FeatureCollectionType",bti:".AbstractFeatureCollectionType"},{ln:"TimeEdgeType",bti:".AbstractTimeTopologyPrimitiveType",ps:[{n:"start",rq:!0,ti:".TimeNodePropertyType"},{n:"end",rq:!0,ti:".TimeNodePropertyType"},{n:"extent",ti:".TimePeriodPropertyType"}]},{ln:"OperationRefType",ps:[{n:"operation",rq:!0,mx:!1,dom:!1,en:"_Operation",ti:".AbstractCoordinateOperationType",t:"er"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"RelativeInternalPositionalAccuracyType",bti:".AbstractPositionalAccuracyType",ps:[{n:"result",rq:!0,ti:".MeasureType"}]},{ln:"DirectedObservationType",bti:".ObservationType",ps:[{n:"direction",rq:!0,ti:".DirectionPropertyType"}]},{ln:"CompositeValueType",bti:".AbstractGMLType",ps:[{n:"valueComponent",mno:0,col:!0,ti:".ValuePropertyType"},{n:"valueComponents",ti:".ValueArrayPropertyType"}]},{ln:"TriangleType",bti:".AbstractSurfacePatchType",ps:[{n:"exterior",rq:!0,mx:!1,dom:!1,ti:".AbstractRingPropertyType",t:"er"},{n:"interpolation",an:{lp:"interpolation"},t:"a"}]},{ln:"RangeSetType",ps:[{n:"valueArray",rq:!0,col:!0,en:"ValueArray",ti:".ValueArrayType"},{n:"scalarValueList",rq:!0,col:!0,mx:!1,dom:!1,etis:[{en:"CategoryList",ti:".CodeOrNullListType"},{en:"CountList",ti:{t:"l"}},{en:"QuantityList",ti:".MeasureOrNullListType"},{en:"BooleanList",ti:{t:"l"}}],t:"ers"},{n:"dataBlock",rq:!0,en:"DataBlock",ti:".DataBlockType"},{n:"file",rq:!0,en:"File",ti:".FileType"}]},{ln:"PriorityLocationPropertyType",bti:".LocationPropertyType",ps:[{n:"priority",an:{lp:"priority"},t:"a"}]},{ln:"TriangulatedSurfaceType",bti:".SurfaceType"},{ln:"VerticalCSRefType",ps:[{n:"verticalCS",rq:!0,en:"VerticalCS",ti:".VerticalCSType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"MultiSurfacePropertyType",ps:[{n:"multiSurface",rq:!0,en:"MultiSurface",ti:".MultiSurfaceType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"ReferenceSystemRefType",ps:[{n:"referenceSystem",rq:!0,mx:!1,dom:!1,en:"_ReferenceSystem",ti:".AbstractReferenceSystemType",t:"er"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"TimeCalendarPropertyType",ps:[{n:"timeCalendar",rq:!0,en:"TimeCalendar",ti:".TimeCalendarType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"CodeOrNullListType",ps:[{n:"value",ti:{t:"l"},t:"v"},{n:"codeSpace",an:{lp:"codeSpace"},t:"a"}]},{ln:"AbstractPositionalAccuracyType",ps:[{n:"measureDescription",ti:".CodeType"}]},{ln:"GeocentricCRSType",bti:".AbstractReferenceSystemType",ps:[{n:"usesCartesianCS",rq:!0,ti:".CartesianCSRefType"},{n:"usesSphericalCS",rq:!0,ti:".SphericalCSRefType"},{n:"usesGeodeticDatum",rq:!0,ti:".GeodeticDatumRefType"}]},{ln:"VectorType",ps:[{n:"value",ti:{t:"l",bti:"Double"},t:"v"},{n:"srsName",an:{lp:"srsName"},t:"a"},{n:"srsDimension",ti:"PositiveInteger",an:{lp:"srsDimension"},t:"a"},{n:"axisLabels",ti:{t:"l",bti:"NCName"},an:{lp:"axisLabels"},t:"a"},{n:"uomLabels",ti:{t:"l",bti:"NCName"},an:{lp:"uomLabels"},t:"a"}]},{ln:"LinearRingType",bti:".AbstractRingType",ps:[{n:"posOrPointPropertyOrPointRep",rq:!0,mno:4,col:!0,mx:!1,dom:!1,etis:[{en:"pointRep",ti:".PointPropertyType"},{en:"pointProperty",ti:".PointPropertyType"},{en:"pos",ti:".DirectPositionType"}],t:"ers"},{n:"posList",rq:!0,ti:".DirectPositionListType"},{n:"coordinates",rq:!0,ti:".CoordinatesType"},{n:"coord",rq:!0,mno:4,col:!0,ti:".CoordType"}]},{ln:"GeometricComplexType",bti:".AbstractGeometryType",ps:[{n:"element",rq:!0,col:!0,ti:".GeometricPrimitivePropertyType"}]},{ln:"SequenceRuleType",ps:[{n:"value",t:"v"},{n:"order",an:{lp:"order"},t:"a"}]},{ln:"CompositeCurveType",bti:".AbstractCurveType",ps:[{n:"curveMember",rq:!0,col:!0,ti:".CurvePropertyType"}]},{ln:"ConeType",bti:".AbstractGriddedSurfaceType",ps:[{n:"horizontalCURVETYPE",an:{lp:"horizontalCurveType"},t:"a"},{n:"verticalCURVETYPE",an:{lp:"verticalCurveType"},t:"a"}]},{ln:"PixelInCellType",bti:".CodeType"},{ln:"VerticalDatumType",bti:".AbstractDatumType",ps:[{n:"verticalDatumType",ti:".VerticalDatumTypeType"}]},{ln:"TrackType",bti:".HistoryPropertyType"},{ln:"ContainerPropertyType",ps:[{n:"face",rq:!0,en:"Face",ti:".FaceType"},{n:"topoSolid",rq:!0,en:"TopoSolid",ti:".TopoSolidType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"ImageDatumRefType",ps:[{n:"imageDatum",rq:!0,en:"ImageDatum",ti:".ImageDatumType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"PointType",bti:".AbstractGeometricPrimitiveType",ps:[{n:"pos",rq:!0,ti:".DirectPositionType"},{n:"coordinates",rq:!0,ti:".CoordinatesType"},{n:"coord",rq:!0,ti:".CoordType"}]},{ln:"AbstractGMLType",ps:[{n:"metaDataProperty",mno:0,col:!0,ti:".MetaDataPropertyType"},{n:"description",ti:".StringOrRefType"},{n:"name",mno:0,col:!0,mx:!1,dom:!1,ti:".CodeType",t:"er"},{n:"id",ti:"ID",an:{lp:"id",ns:"http://www.opengis.net/gml"},t:"a"}]},{ln:"EllipsoidBaseType",bti:".DefinitionType"},{ln:"BezierType",bti:".BSplineType"},{ln:"CoordinateReferenceSystemRefType",ps:[{n:"coordinateReferenceSystem",rq:!0,mx:!1,dom:!1,en:"_CoordinateReferenceSystem",ti:".AbstractReferenceSystemType",t:"er"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"GeometryPropertyType",ps:[{n:"geometry",rq:!0,mx:!1,dom:!1,en:"_Geometry",ti:".AbstractGeometryType",t:"er"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"AngleChoiceType",ps:[{n:"angle",rq:!0,ti:".MeasureType"},{n:"dmsAngle",rq:!0,ti:".DMSAngleType"}]},{ln:"GraphStylePropertyType",ps:[{n:"graphStyle",en:"GraphStyle",ti:".GraphStyleType"},{n:"about",an:{lp:"about"},t:"a"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"TopoSurfacePropertyType",ps:[{n:"topoSurface",rq:!0,en:"TopoSurface",ti:".TopoSurfaceType"}]},{ln:"TimeOrdinalEraType",bti:".DefinitionType",ps:[{n:"relatedTime",mno:0,col:!0,ti:".RelatedTimeType"},{n:"start",rq:!0,ti:".TimeNodePropertyType"},{n:"end",rq:!0,ti:".TimeNodePropertyType"},{n:"extent",ti:".TimePeriodPropertyType"},{n:"member",mno:0,col:!0,ti:".TimeOrdinalEraPropertyType"},{n:"group",ti:".ReferenceType"}]},{ln:"DirectPositionType",ps:[{n:"value",ti:{t:"l",bti:"Double"},t:"v"},{n:"srsName",an:{lp:"srsName"},t:"a"},{n:"srsDimension",ti:"PositiveInteger",an:{lp:"srsDimension"},t:"a"},{n:"axisLabels",ti:{t:"l",bti:"NCName"},an:{lp:"axisLabels"},t:"a"},{n:"uomLabels",ti:{t:"l",bti:"NCName"},an:{lp:"uomLabels"},t:"a"}]},{ln:"CompoundCRSType",bti:".AbstractReferenceSystemType",ps:[{n:"includesCRS",rq:!0,mno:2,col:!0,ti:".CoordinateReferenceSystemRefType"}]},{ln:"AbstractCoordinateSystemBaseType",bti:".DefinitionType"},{ln:"CategoryExtentType",bti:".CodeOrNullListType"},{ln:"RectifiedGridCoverageType",bti:".AbstractDiscreteCoverageType"},{ln:"CoordinateSystemRefType",ps:[{n:"coordinateSystem",rq:!0,mx:!1,dom:!1,en:"_CoordinateSystem",ti:".AbstractCoordinateSystemType",t:"er"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"AbstractFeatureType",bti:".AbstractGMLType",ps:[{n:"boundedBy",ti:".BoundingShapeType"},{n:"location",mx:!1,dom:!1,ti:".LocationPropertyType",t:"er"}]},{ln:"TemporalDatumType",bti:".TemporalDatumBaseType",ps:[{n:"origin",rq:!0,ti:"DateTime"}]},{ln:"AbstractTimeObjectType",bti:".AbstractGMLType"},{ln:"TimeTopologyComplexPropertyType",ps:[{n:"timeTopologyComplex",rq:!0,en:"TimeTopologyComplex",ti:".TimeTopologyComplexType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"DirectPositionListType",ps:[{n:"value",ti:{t:"l",bti:"Double"},t:"v"},{n:"count",ti:"PositiveInteger",an:{lp:"count"},t:"a"},{n:"srsName",an:{lp:"srsName"},t:"a"},{n:"srsDimension",ti:"PositiveInteger",an:{lp:"srsDimension"},t:"a"},{n:"axisLabels",ti:{t:"l",bti:"NCName"},an:{lp:"axisLabels"},t:"a"},{n:"uomLabels",ti:{t:"l",bti:"NCName"},an:{lp:"uomLabels"},t:"a"}]},{ln:"TimeCalendarEraPropertyType",ps:[{n:"timeCalendarEra",rq:!0,en:"TimeCalendarEra",ti:".TimeCalendarEraType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"ObliqueCartesianCSType",bti:".AbstractCoordinateSystemType"},{ln:"ImageDatumType",bti:".AbstractDatumType",ps:[{n:"pixelInCell",rq:!0,ti:".PixelInCellType"}]},{ln:"QuantityExtentType",bti:".MeasureOrNullListType"},{ln:"CodeListType",ps:[{n:"value",ti:{t:"l",bti:"Name"},t:"v"},{n:"codeSpace",an:{lp:"codeSpace"},t:"a"}]},{ln:"AbstractContinuousCoverageType",bti:".AbstractCoverageType",ps:[{n:"coverageFunction",ti:".CoverageFunctionType"}]},{ln:"LengthType",bti:".MeasureType"},{ln:"OperationParameterGroupType",bti:".OperationParameterGroupBaseType",ps:[{n:"groupID",mno:0,col:!0,ti:".IdentifierType"},{n:"remarks",ti:".StringOrRefType"},{n:"maximumOccurs",ti:"PositiveInteger"},{n:"includesParameter",rq:!0,mno:2,col:!0,ti:".AbstractGeneralOperationParameterRefType"}]},{ln:"AbstractCoordinateOperationType",bti:".AbstractCoordinateOperationBaseType",ps:[{n:"coordinateOperationID",mno:0,col:!0,ti:".IdentifierType"},{n:"remarks",ti:".StringOrRefType"},{n:"operationVersion"},{n:"validArea",ti:".ExtentType"},{n:"scope"},{n:"positionalAccuracy",mno:0,col:!0,mx:!1,dom:!1,en:"_positionalAccuracy",ti:".AbstractPositionalAccuracyType",t:"er"},{n:"sourceCRS",ti:".CRSRefType"},{n:"targetCRS",ti:".CRSRefType"}]},{ln:"LinearCSRefType",ps:[{n:"linearCS",rq:!0,en:"LinearCS",ti:".LinearCSType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"VerticalDatumRefType",ps:[{n:"verticalDatum",rq:!0,en:"VerticalDatum",ti:".VerticalDatumType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"DerivedCRSRefType",ps:[{n:"derivedCRS",rq:!0,en:"DerivedCRS",ti:".DerivedCRSType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"MultiSolidType",bti:".AbstractGeometricAggregateType",ps:[{n:"solidMember",mno:0,col:!0,ti:".SolidPropertyType"},{n:"solidMembers",ti:".SolidArrayPropertyType"}]},{ln:"TimeInstantType",bti:".AbstractTimeGeometricPrimitiveType",ps:[{n:"timePosition",rq:!0,ti:".TimePositionType"}]},{ln:"ObliqueCartesianCSRefType",ps:[{n:"obliqueCartesianCS",rq:!0,en:"ObliqueCartesianCS",ti:".ObliqueCartesianCSType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"AbstractRingType",bti:".AbstractGeometryType"},{ln:"SphericalCSType",bti:".AbstractCoordinateSystemType"},{ln:"RectifiedGridDomainType",bti:".DomainSetType"},{ln:"MultiSolidPropertyType",ps:[{n:"multiSolid",rq:!0,en:"MultiSolid",ti:".MultiSolidType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"DefinitionType",bti:".AbstractGMLType"},{ln:"FaceType",bti:".AbstractTopoPrimitiveType",ps:[{n:"directedEdge",rq:!0,col:!0,ti:".DirectedEdgePropertyType"},{n:"directedTopoSolid",mno:0,mxo:2,col:!0,ti:".DirectedTopoSolidPropertyType"},{n:"surfaceProperty",ti:".SurfacePropertyType"}]},{ln:"CylindricalCSRefType",ps:[{n:"cylindricalCS",rq:!0,en:"CylindricalCS",ti:".CylindricalCSType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"AbstractReferenceSystemType",bti:".AbstractReferenceSystemBaseType",ps:[{n:"srsID",mno:0,col:!0,ti:".IdentifierType"},{n:"remarks",ti:".StringOrRefType"},{n:"validArea",ti:".ExtentType"},{n:"scope"}]},{ln:"SingleOperationRefType",ps:[{n:"singleOperation",rq:!0,mx:!1,dom:!1,en:"_SingleOperation",ti:".AbstractCoordinateOperationType",t:"er"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"TimeTopologyPrimitivePropertyType",ps:[{n:"timeTopologyPrimitive",rq:!0,mx:!1,dom:!1,en:"_TimeTopologyPrimitive",ti:".AbstractTimeTopologyPrimitiveType",t:"er"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"EngineeringCRSRefType",ps:[{n:"engineeringCRS",rq:!0,en:"EngineeringCRS",ti:".EngineeringCRSType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"ScaleType",bti:".MeasureType"},{ln:"TimeCalendarEraType",bti:".DefinitionType",ps:[{n:"referenceEvent",rq:!0,ti:".StringOrRefType"},{n:"referenceDate",ti:"Date"},{n:"julianReference",rq:!0,ti:"Decimal"},{n:"epochOfUse",rq:!0,ti:".TimePeriodPropertyType"}]},{ln:"CoordinateSystemAxisType",bti:".CoordinateSystemAxisBaseType",ps:[{n:"axisID",mno:0,col:!0,ti:".IdentifierType"},{n:"remarks",ti:".StringOrRefType"},{n:"axisAbbrev",rq:!0,ti:".CodeType"},{n:"axisDirection",rq:!0,ti:".CodeType"},{n:"uom",rq:!0,an:{lp:"uom",ns:"http://www.opengis.net/gml"},t:"a"}]},{ln:"EllipsoidType",bti:".EllipsoidBaseType",ps:[{n:"ellipsoidID",mno:0,col:!0,ti:".IdentifierType"},{n:"remarks",ti:".StringOrRefType"},{n:"semiMajorAxis",rq:!0,ti:".MeasureType"},{n:"secondDefiningParameter",rq:!0,ti:".SecondDefiningParameterType"}]},{ln:"TopoComplexMemberType",ps:[{n:"topoComplex",en:"TopoComplex",ti:".TopoComplexType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"CoverageFunctionType",ps:[{n:"mappingRule",rq:!0,en:"MappingRule",ti:".StringOrRefType"},{n:"gridFunction",rq:!0,mx:!1,dom:!1,en:"GridFunction",ti:".GridFunctionType",t:"er"}]},{ln:"TimeNodePropertyType",ps:[{n:"timeNode",rq:!0,en:"TimeNode",ti:".TimeNodeType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"AbstractRingPropertyType",ps:[{n:"ring",rq:!0,mx:!1,dom:!1,en:"_Ring",ti:".AbstractRingType",t:"er"}]},{ln:"LinearRingPropertyType",ps:[{n:"linearRing",rq:!0,en:"LinearRing",ti:".LinearRingType"}]},{ln:"DirectionVectorType",ps:[{n:"vector",rq:!0,ti:".VectorType"},{n:"horizontalAngle",rq:!0,ti:".AngleType"},{n:"verticalAngle",rq:!0,ti:".AngleType"}]},{ln:"TimeTopologyComplexType",bti:".AbstractTimeComplexType",ps:[{n:"primitive",rq:!0,col:!0,ti:".TimeTopologyPrimitivePropertyType"}]},{t:"enum",ln:"SignType",vs:["-","+"]},{t:"enum",ln:"CompassPointEnumeration",vs:["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW"]},{t:"enum",ln:"AesheticCriteriaType",vs:["MIN_CROSSINGS","MIN_AREA","MIN_BENDS","MAX_BENDS","UNIFORM_BENDS","MIN_SLOPES","MIN_EDGE_LENGTH","MAX_EDGE_LENGTH","UNIFORM_EDGE_LENGTH","MAX_ANGULAR_RESOLUTION","MIN_ASPECT_RATIO","MAX_SYMMETRIES"]},{t:"enum",ln:"IncrementOrder",vs:["+x+y","+y+x","+x-y","-x-y"]},{t:"enum",ln:"KnotTypesType",vs:["uniform","quasiUniform","piecewiseBezier"]},{t:"enum",ln:"TimeIndeterminateValueType",vs:["after","before","now","unknown"]},{t:"enum",ln:"CurveInterpolationType",vs:["linear","geodesic","circularArc3Points","circularArc2PointWithBulge","circularArcCenterPointWithRadius","elliptical","clothoid","conic","polynomialSpline","cubicSpline","rationalSpline"]},{t:"enum",ln:"GraphTypeType",vs:["TREE","BICONNECTED"]},{t:"enum",ln:"SuccessionType",vs:["substitution","division","fusion","initiation"]},{t:"enum",ln:"SurfaceInterpolationType",vs:["none","planar","spherical","elliptical","conic","tin","parametricCurve","polynomialSpline","rationalSpline","triangulatedSpline"]},{t:"enum",ln:"QueryGrammarEnumeration",vs:["xpath","xquery","other"]},{t:"enum",ln:"DrawingTypeType",vs:["POLYLINE","ORTHOGONAL"]},{t:"enum",ln:"SequenceRuleNames",vs:["Linear","Boustrophedonic","Cantor-diagonal","Spiral","Morton","Hilbert"]},{t:"enum",ln:"SymbolTypeEnumeration",vs:["svg","xpath","other"]},{t:"enum",ln:"LineTypeType",vs:["STRAIGHT","BENT"]},{t:"enum",ln:"FileValueModelType",vs:["Record Interleaved"]}],eis:[{en:"topoPointProperty",ti:".TopoPointPropertyType"},{en:"CartesianCS",ti:".CartesianCSType",sh:"_CoordinateSystem"},{en:"solidMembers",ti:".SolidArrayPropertyType"},{en:"sourceCRS",ti:".CRSRefType"},{en:"version"},{en:"DerivedCRS",ti:".DerivedCRSType",sh:"_GeneralDerivedCRS"},{en:"Face",ti:".FaceType",sh:"_TopoPrimitive"},{en:"boundedBy",ti:".BoundingShapeType"},{en:"_TopoPrimitive",ti:".AbstractTopoPrimitiveType",sh:"_Topology"},{en:"usesEllipsoidalCS",ti:".EllipsoidalCSRefType"},{en:"usesTemporalDatum",ti:".TemporalDatumRefType"},{en:"srsID",ti:".IdentifierType"},{en:"multiCurveProperty",ti:".MultiCurvePropertyType"},{en:"RectifiedGrid",ti:".RectifiedGridType",sh:"_ImplicitGeometry"},{en:"degrees",ti:".DegreesType"},{en:"obliqueCartesianCSRef",ti:".ObliqueCartesianCSRefType"},{en:"usesEngineeringDatum",ti:".EngineeringDatumRefType"},{en:"domainSet",ti:".DomainSetType"},{en:"ConcatenatedOperation",ti:".ConcatenatedOperationType",sh:"_CoordinateOperation"},{en:"operationMethodRef",ti:".OperationMethodRefType"},{en:"sourceDimensions",ti:"PositiveInteger"},{en:"GraphStyle",ti:".GraphStyleType",sh:"_GML"},{en:"TimePeriod",ti:".TimePeriodType",sh:"_TimeGeometricPrimitive"},{en:"doubleOrNullTupleList",ti:{t:"l"}},{en:"surfaceMember",ti:".SurfacePropertyType"},{en:"Cone",ti:".ConeType",sh:"_GriddedSurface"},{en:"polygonProperty",ti:".PolygonPropertyType"},{en:"pointMember",ti:".PointPropertyType"},{en:"integerValue",ti:"PositiveInteger"},{en:"_Ring",ti:".AbstractRingType",sh:"_Geometry"},{en:"CompositeValue",ti:".CompositeValueType"},{en:"temporalDatumRef",ti:".TemporalDatumRefType"},{en:"semiMinorAxis",ti:".MeasureType"},{en:"geometryMembers",ti:".GeometryArrayPropertyType"},{en:"coordinateSystemAxisRef",ti:".CoordinateSystemAxisRefType"},{en:"polarCSRef",ti:".PolarCSRefType"},{en:"_ParametricCurveSurface",ti:".AbstractParametricCurveSurfaceType",sh:"_SurfacePatch"},{en:"TimeCalendar",ti:".TimeCalendarType",sh:"_TimeReferenceSystem"},{en:"Ring",ti:".RingType",sh:"_Ring"},{en:"verticalDatumRef",ti:".VerticalDatumRefType"},{en:"temporalExtent",ti:".TimePeriodType"},{en:"relativeInternalPositionalAccuracy",ti:".RelativeInternalPositionalAccuracyType",sh:"_positionalAccuracy"},{en:"Quantity",ti:".MeasureType"},{en:"Sphere",ti:".SphereType",sh:"_GriddedSurface"},{en:"multiEdgeOf",ti:".MultiCurvePropertyType"},{en:"_GeometricAggregate",ti:".AbstractGeometricAggregateType",sh:"_Geometry"},{en:"symbol",ti:".SymbolType"},{en:"graphStyle",ti:".GraphStylePropertyType"},{en:"cylindricalCSRef",ti:".CylindricalCSRefType"},{en:"geographicCRSRef",ti:".GeographicCRSRefType"},{en:"parameterValueGroup",ti:".ParameterValueGroupType",sh:"_generalParameterValue"},{en:"coordinateSystemRef",ti:".CoordinateSystemRefType"},{en:"_strictAssociation",ti:".AssociationType"},{en:"DefinitionCollection",ti:".DictionaryType",sh:"Definition"},{en:"GeometricComplex",ti:".GeometricComplexType",sh:"_Geometry"},{en:"FeatureCollection",ti:".FeatureCollectionType",sh:"_Feature"},{en:"Clothoid",ti:".ClothoidType",sh:"_CurveSegment"},{en:"methodFormula",ti:".CodeType"},{en:"Edge",ti:".EdgeType",sh:"_TopoPrimitive"},{en:"polygonPatches",ti:".PolygonPatchArrayPropertyType",sh:"patches"},{en:"meridianName",ti:".CodeType",sh:"name"},{en:"CategoryList",ti:".CodeOrNullListType"},{en:"integerValueList",ti:{t:"l",bti:"Integer"}},{en:"usesParameter",ti:".AbstractGeneralOperationParameterRefType"},{en:"track",ti:".TrackType",sh:"history"},{en:"ImageCRS",ti:".ImageCRSType",sh:"_CoordinateReferenceSystem"},{en:"temporalCRSRef",ti:".TemporalCRSRefType"},{en:"dmsAngle",ti:".DMSAngleType"},{en:"columnIndex",ti:"PositiveInteger"},{en:"target",ti:".TargetPropertyType"},{en:"DerivedUnit",ti:".DerivedUnitType",sh:"UnitDefinition"},{en:"outerBoundaryIs",ti:".AbstractRingPropertyType",sh:"exterior"},{en:"ProjectedCRS",ti:".ProjectedCRSType",sh:"_GeneralDerivedCRS"},{en:"duration",ti:"Duration"},{en:"indirectEntry",ti:".IndirectEntryType"},{en:"pointArrayProperty",ti:".PointArrayPropertyType"},{en:"GridCoverage",ti:".GridCoverageType",sh:"_DiscreteCoverage"},{en:"solidMember",ti:".SolidPropertyType"},{en:"MultiPointCoverage",ti:".MultiPointCoverageType",sh:"_DiscreteCoverage"},{en:"verticalCSRef",ti:".VerticalCSRefType"},{en:"featureProperty",ti:".FeaturePropertyType"},{en:"cartesianCSRef",ti:".CartesianCSRefType"},{en:"concatenatedOperationRef",ti:".ConcatenatedOperationRefType"},{en:"Polygon",ti:".PolygonType",sh:"_Surface"},{en:"Style",ti:".StyleType",sh:"_Style"},{en:"TopoSolid",ti:".TopoSolidType",sh:"_TopoPrimitive"},{en:"engineeringCRSRef",ti:".EngineeringCRSRefType"},{en:"segments",ti:".CurveSegmentArrayPropertyType"},{en:"derivedCRSRef",ti:".DerivedCRSRefType"},{en:"BaseUnit",ti:".BaseUnitType",sh:"UnitDefinition"},{en:"DirectedObservationAtDistance",ti:".DirectedObservationAtDistanceType",sh:"DirectedObservation"},{en:"LineStringSegment",ti:".LineStringSegmentType",sh:"_CurveSegment"},{en:"coord",ti:".CoordType"},{en:"CoordinateSystemAxis",ti:".CoordinateSystemAxisType",sh:"Definition"},{en:"MultiSolidCoverage",ti:".MultiSolidCoverageType",sh:"_DiscreteCoverage"},{en:"dataSource",ti:".StringOrRefType"},{en:"subComplex",ti:".TopoComplexMemberType"},{en:"featureMember",ti:".FeaturePropertyType"},{en:"TopoVolume",ti:".TopoVolumeType"},{en:"rectifiedGridDomain",ti:".RectifiedGridDomainType",sh:"domainSet"},{en:"rowIndex",ti:"PositiveInteger"},{en:"LabelStyle",ti:".LabelStyleType",sh:"_GML"},{en:"TimeInstant",ti:".TimeInstantType",sh:"_TimeGeometricPrimitive"},{en:"trianglePatches",ti:".TrianglePatchArrayPropertyType",sh:"patches"},{en:"_SingleOperation",ti:".AbstractCoordinateOperationType",sh:"_CoordinateOperation"},{en:"IndexMap",ti:".IndexMapType",sh:"GridFunction"},{en:"OperationMethod",ti:".OperationMethodType",sh:"Definition"},{en:"ellipsoidalCSRef",ti:".EllipsoidalCSRefType"},{en:"directedNode",ti:".DirectedNodePropertyType"},{en:"TopologyStyle",ti:".TopologyStyleType",sh:"_GML"},{en:"generalConversionRef",ti:".GeneralConversionRefType"},{en:"crsRef",ti:".CRSRefType"},{en:"CountList",ti:{t:"l"}},{en:"dictionaryEntry",ti:".DictionaryEntryType"},{en:"description",ti:".StringOrRefType"},{en:"GeocentricCRS",ti:".GeocentricCRSType",sh:"_CoordinateReferenceSystem"},{en:"TemporalDatum",ti:".TemporalDatumType",sh:"_Datum"},{en:"position",ti:".PointPropertyType"},{en:"_GeometricPrimitive",ti:".AbstractGeometricPrimitiveType",sh:"_Geometry"},{en:"OrientableCurve",ti:".OrientableCurveType",sh:"_Curve"},{en:"ArcString",ti:".ArcStringType",sh:"_CurveSegment"},{en:"pixelInCell",ti:".PixelInCellType"},{en:"patches",ti:".SurfacePatchArrayPropertyType"},{en:"_Solid",ti:".AbstractSolidType",sh:"_GeometricPrimitive"},{en:"featureMembers",ti:".FeatureArrayPropertyType"},{en:"verticalDatumType",ti:".VerticalDatumTypeType"},{en:"_SurfacePatch",ti:".AbstractSurfacePatchType"},{en:"directedFace",ti:".DirectedFacePropertyType"},{en:"File",ti:".FileType"},{en:"includesValue",ti:".AbstractGeneralParameterValueType",sh:"_generalParameterValue"},{en:"temporalCSRef",ti:".TemporalCSRefType"},{en:"MultiPolygon",ti:".MultiPolygonType",sh:"_GeometricAggregate"},{en:"result",ti:".MeasureType"},{en:"Count",ti:"Integer"},{en:"RectifiedGridCoverage",ti:".RectifiedGridCoverageType",sh:"_DiscreteCoverage"},{en:"_Geometry",ti:".AbstractGeometryType",sh:"_GML"},{en:"minimumOccurs",ti:"NonNegativeInteger"},{en:"stringValue"},{en:"multiPosition",ti:".MultiPointPropertyType"},{en:"datumID",ti:".IdentifierType"},{en:"decimalMinutes",ti:"Decimal"},{en:"MultiSurface",ti:".MultiSurfaceType",sh:"_GeometricAggregate"},{en:"defaultStyle",ti:".DefaultStylePropertyType"},{en:"Definition",ti:".DefinitionType",sh:"_GML"},{en:"engineeringDatumRef",ti:".EngineeringDatumRefType"},{en:"CountExtent",ti:{t:"l"}},{en:"operationRef",ti:".OperationRefType"},{en:"PolyhedralSurface",ti:".PolyhedralSurfaceType",sh:"Surface"},{en:"projectedCRSRef",ti:".ProjectedCRSRefType"},{en:"methodID",ti:".IdentifierType"},{en:"_Datum",ti:".AbstractDatumType",sh:"Definition"},{en:"innerBoundaryIs",ti:".AbstractRingPropertyType",sh:"interior"},{en:"inverseFlattening",ti:".MeasureType"},{en:"operationParameterGroupRef",ti:".OperationParameterRefType"},{en:"isolated",ti:".IsolatedPropertyType"},{en:"FeatureStyle",ti:".FeatureStyleType",sh:"_GML"},{en:"TemporalCS",ti:".TemporalCSType",sh:"_CoordinateSystem"},{en:"gridDomain",ti:".GridDomainType",sh:"domainSet"},{en:"derivedCRSType",ti:".DerivedCRSTypeType"},{en:"Node",ti:".NodeType",sh:"_TopoPrimitive"},{en:"definitionMember",ti:".DictionaryEntryType",sh:"dictionaryEntry"},{en:"coordinateOperationName",ti:".CodeType",sh:"name"},{en:"TopoComplex",ti:".TopoComplexType",sh:"_Topology"},{en:"lineStringMember",ti:".LineStringPropertyType"},{en:"DefinitionProxy",ti:".DefinitionProxyType",sh:"Definition"},{en:"modifiedCoordinate",ti:"PositiveInteger"},{en:"groupName",ti:".CodeType",sh:"name"},{en:"EngineeringCRS",ti:".EngineeringCRSType",sh:"_CoordinateReferenceSystem"},{en:"groupID",ti:".IdentifierType"},{en:"_GeneralDerivedCRS",ti:".AbstractGeneralDerivedCRSType",sh:"_CoordinateReferenceSystem"},{en:"CylindricalCS",ti:".CylindricalCSType",sh:"_CoordinateSystem"},{en:"directedEdge",ti:".DirectedEdgePropertyType"},{en:"multiCurveDomain",ti:".MultiCurveDomainType",sh:"domainSet"},{en:"topoPrimitiveMembers",ti:".TopoPrimitiveArrayAssociationType"},{en:"OperationParameterGroup",ti:".OperationParameterGroupType",sh:"_GeneralOperationParameter"},{en:"GeographicCRS",ti:".GeographicCRSType",sh:"_CoordinateReferenceSystem"},{en:"coordinates",ti:".CoordinatesType"},{en:"QuantityExtent",ti:".QuantityExtentType"},{en:"pointMembers",ti:".PointArrayPropertyType"},{en:"LineString",ti:".LineStringType",sh:"_Curve"},{en:"LocationKeyWord",ti:".CodeType"},{en:"_TimePrimitive",ti:".AbstractTimePrimitiveType",sh:"_TimeObject"},{en:"MultiCurve",ti:".MultiCurveType",sh:"_GeometricAggregate"},{en:"featureStyle",ti:".FeatureStylePropertyType"},{en:"booleanValue",ti:"Boolean"},{en:"_FeatureCollection",ti:".AbstractFeatureCollectionType",sh:"_Feature"},{en:"Solid",ti:".SolidType",sh:"_Solid"},{en:"Geodesic",ti:".GeodesicType",sh:"GeodesicString"},{en:"metaDataProperty",ti:".MetaDataPropertyType"},{en:"Bag",ti:".BagType",sh:"_GML"},{en:"multiCoverage",ti:".MultiSurfacePropertyType"},{en:"usesValue",ti:".ParameterValueType"},{en:"tupleList",ti:".CoordinatesType"},{en:"PassThroughOperation",ti:".PassThroughOperationType",sh:"_SingleOperation"},{en:"LabelExpression",sc:".LabelType"},{en:"multiPointProperty",ti:".MultiPointPropertyType"},{en:"parameterID",ti:".IdentifierType"},{en:"superComplex",ti:".TopoComplexMemberType"},{en:"Surface",ti:".SurfaceType",sh:"_Surface"},{en:"EngineeringDatum",ti:".EngineeringDatumType",sh:"_Datum"},{en:"_ContinuousCoverage",ti:".AbstractContinuousCoverageType",sh:"_Coverage"},{en:"greenwichLongitude",ti:".AngleChoiceType"},{en:"sphericalCSRef",ti:".SphericalCSRefType"},{en:"OffsetCurve",ti:".OffsetCurveType",sh:"_CurveSegment"},{en:"EllipsoidalCS",ti:".EllipsoidalCSType",sh:"_CoordinateSystem"},{en:"VerticalDatum",ti:".VerticalDatumType",sh:"_Datum"},{en:"baseCRS",ti:".CoordinateReferenceSystemRefType"},{en:"SphericalCS",ti:".SphericalCSType",sh:"_CoordinateSystem"},{en:"boundingBox",ti:".EnvelopeType"},{en:"definedByConversion",ti:".GeneralConversionRefType"},{en:"_Surface",ti:".AbstractSurfaceType",sh:"_GeometricPrimitive"},{en:"_generalParameterValue",ti:".AbstractGeneralParameterValueType"},{en:"DirectionVector",ti:".DirectionVectorType"},{en:"_association",ti:".AssociationType"},{en:"_GML",ti:".AbstractGMLType",sh:"_Object"},{en:"multiExtentOf",ti:".MultiSurfacePropertyType"},{en:"datumRef",ti:".DatumRefType"},{en:"passThroughOperationRef",ti:".PassThroughOperationRefType"},{en:"referenceSystemRef",ti:".ReferenceSystemRefType"},{en:"_GeneralOperationParameter",ti:".AbstractGeneralOperationParameterType",sh:"Definition"},{en:"_CurveSegment",ti:".AbstractCurveSegmentType"},{en:"geocentricCRSRef",ti:".GeocentricCRSRefType"},{en:"geometryMember",ti:".GeometryPropertyType"},{en:"surfaceMembers",ti:".SurfaceArrayPropertyType"},{en:"TimeOrdinalEra",ti:".TimeOrdinalEraType"},{en:"_reference",ti:".ReferenceType"},{en:"ellipsoidName",ti:".CodeType",sh:"name"},{en:"_TimeComplex",ti:".AbstractTimeComplexType",sh:"_TimeObject"},{en:"boundingPolygon",ti:".PolygonType"},{en:"subject",ti:".TargetPropertyType",sh:"target"},{en:"Rectangle",ti:".RectangleType",sh:"_SurfacePatch"},{en:"Cylinder",ti:".CylinderType",sh:"_GriddedSurface"},{en:"multiSurfaceProperty",ti:".MultiSurfacePropertyType"},{en:"_Style",ti:".AbstractStyleType",sh:"_GML"},{en:"generalTransformationRef",ti:".GeneralTransformationRefType"},{en:"CompositeSurface",ti:".CompositeSurfaceType",sh:"_Surface"},{en:"validArea",ti:".ExtentType"},{en:"MultiGeometry",ti:".MultiGeometryType",sh:"_GeometricAggregate"},{en:"timeInterval",ti:".TimeIntervalLengthType"},{en:"maximalComplex",ti:".TopoComplexMemberType"},{en:"Point",ti:".PointType",sh:"_GeometricPrimitive"},{en:"VerticalCS",ti:".VerticalCSType",sh:"_CoordinateSystem"},{en:"usesSingleOperation",ti:".SingleOperationRefType"},{en:"catalogSymbol",ti:".CodeType"},{en:"transformationRef",ti:".TransformationRefType"},{en:"Envelope",ti:".EnvelopeType"},{en:"CompoundCRS",ti:".CompoundCRSType",sh:"_CRS"},{en:"value",ti:".MeasureType"},{en:"Boolean",ti:"Boolean"},{en:"primeMeridianRef",ti:".PrimeMeridianRefType"},{en:"includesElement",ti:".CovarianceElementType"},{en:"Ellipsoid",ti:".EllipsoidType",sh:"Definition"},{en:"topoSurfaceProperty",ti:".TopoSurfacePropertyType"},{en:"surfaceProperty",ti:".SurfacePropertyType"},{en:"pos",ti:".DirectPositionType"},{en:"PrimeMeridian",ti:".PrimeMeridianType",sh:"Definition"},{en:"_Curve",ti:".AbstractCurveType",sh:"_GeometricPrimitive"},{en:"definitionRef",ti:".ReferenceType"},{en:"axisAbbrev",ti:".CodeType"},{en:"LinearCS",ti:".LinearCSType",sh:"_CoordinateSystem"},{en:"TimeClock",ti:".TimeClockType",sh:"_TimeReferenceSystem"},{en:"multiCenterLineOf",ti:".MultiCurvePropertyType"},{en:"UserDefinedCS",ti:".UserDefinedCSType",sh:"_CoordinateSystem"},{en:"TimeNode",ti:".TimeNodeType",sh:"_TimeTopologyPrimitive"},{en:"_TimeSlice",ti:".AbstractTimeSliceType",sh:"_GML"},{en:"valueList",ti:".MeasureListType"},{en:"targetCRS",ti:".CRSRefType"},{en:"isSphere"},{en:"direction",ti:".DirectionPropertyType"},{en:"geometryStyle",ti:".GeometryStylePropertyType"},{en:"rangeParameters",ti:".RangeParametersType"},{en:"Bezier",ti:".BezierType",sh:"BSpline"},{en:"includesCRS",ti:".CoordinateReferenceSystemRefType"},{en:"linearCSRef",ti:".LinearCSRefType"},{en:"compoundCRSRef",ti:".CompoundCRSRefType"},{en:"CompositeSolid",ti:".CompositeSolidType",sh:"_Solid"},{en:"usesTemporalCS",ti:".TemporalCSRefType"},{en:"csID",ti:".IdentifierType"},{en:"usesSphericalCS",ti:".SphericalCSRefType"},{en:"geodeticDatumRef",ti:".GeodeticDatumRefType"},{en:"multiSolidDomain",ti:".MultiSolidDomainType",sh:"domainSet"},{en:"directedTopoSolid",ti:".DirectedTopoSolidPropertyType"},{en:"userDefinedCSRef",ti:".UserDefinedCSRefType"},{en:"measure",ti:".MeasureType"},{en:"origin",ti:"DateTime"},{en:"dmsAngleValue",ti:".DMSAngleType"},{en:"MultiSolid",ti:".MultiSolidType",sh:"_GeometricAggregate"},{en:"Array",ti:".ArrayType",sh:"_GML"},{en:"parameterValue",ti:".ParameterValueType",sh:"_generalParameterValue"},{en:"maximumOccurs",ti:"PositiveInteger"},{en:"CircleByCenterPoint",ti:".CircleByCenterPointType",sh:"ArcByCenterPoint"},{en:"roughConversionToPreferredUnit",ti:".ConversionToPreferredUnitType"},{en:"remarks",ti:".StringOrRefType"},{en:"Null",ti:{t:"l"}},{en:"Transformation",ti:".TransformationType",sh:"_GeneralTransformation"},{en:"PolygonPatch",ti:".PolygonPatchType",sh:"_SurfacePatch"},{en:"topologyStyle",ti:".TopologyStylePropertyType"},{en:"ImageDatum",ti:".ImageDatumType",sh:"_Datum"},{en:"CategoryExtent",ti:".CategoryExtentType"},{en:"coordinateReferenceSystemRef",ti:".CoordinateReferenceSystemRefType"},{en:"multiLocation",ti:".MultiPointPropertyType"},{en:"TimeCoordinateSystem",ti:".TimeCoordinateSystemType",sh:"_TimeReferenceSystem"},{en:"interior",ti:".AbstractRingPropertyType"},{en:"MovingObjectStatus",ti:".MovingObjectStatusType",sh:"_TimeSlice"},{en:"secondDefiningParameter",ti:".SecondDefiningParameterType"},{en:"polygonMember",ti:".PolygonPropertyType"},{en:"PolarCS",ti:".PolarCSType",sh:"_CoordinateSystem"},{en:"usesEllipsoid",ti:".EllipsoidRefType"},{en:"_Operation",ti:".AbstractCoordinateOperationType",sh:"_SingleOperation"},{en:"multiPointDomain",ti:".MultiPointDomainType",sh:"domainSet"},{en:"timePosition",ti:".TimePositionType"},{en:"coordinateOperationRef",ti:".CoordinateOperationRefType"},{en:"usesCartesianCS",ti:".CartesianCSRefType"},{en:"absoluteExternalPositionalAccuracy",ti:".AbsoluteExternalPositionalAccuracyType",sh:"_positionalAccuracy"},{en:"coverageFunction",ti:".CoverageFunctionType"},{en:"usesVerticalCS",ti:".VerticalCSRefType"},{en:"operationParameterRef",ti:".OperationParameterRefType"},{en:"meridianID",ti:".IdentifierType"},{en:"ArcStringByBulge",ti:".ArcStringByBulgeType",sh:"_CurveSegment"},{en:"LocationString",ti:".StringOrRefType"},{en:"MultiSurfaceCoverage",ti:".MultiSurfaceCoverageType",sh:"_DiscreteCoverage"},{en:"Grid",ti:".GridType",sh:"_ImplicitGeometry"},{en:"CompassPoint"},{en:"location",ti:".LocationPropertyType"},{en:"imageDatumRef",ti:".ImageDatumRefType"},{en:"labelStyle",ti:".LabelStylePropertyType"},{en:"targetDimensions",ti:"PositiveInteger"},{en:"OrientableSurface",ti:".OrientableSurfaceType",sh:"_Surface"},{en:"CubicSpline",ti:".CubicSplineType",sh:"_CurveSegment"},{en:"baseSurface",ti:".SurfacePropertyType"},{en:"Category",ti:".CodeType"},{en:"MappingRule",ti:".StringOrRefType"},{en:"DataBlock",ti:".DataBlockType"},{en:"verticalExtent",ti:".EnvelopeType"},{en:"BooleanList",ti:{t:"l"}},{en:"usesMethod",ti:".OperationMethodRefType"},{en:"_TimeObject",ti:".AbstractTimeObjectType",sh:"_GML"},{en:"methodName",ti:".CodeType",sh:"name"},{en:"valueComponents",ti:".ValueArrayPropertyType"},{en:"members",ti:".ArrayAssociationType"},{en:"container",ti:".ContainerPropertyType"},{en:"lineStringProperty",ti:".LineStringPropertyType"},{en:"vector",ti:".VectorType"},{en:"singleOperationRef",ti:".SingleOperationRefType"},{en:"TimeTopologyComplex",ti:".TimeTopologyComplexType",sh:"_TimeComplex"},{en:"curveArrayProperty",ti:".CurveArrayPropertyType"},{en:"axisID",ti:".IdentifierType"},{en:"usesAxis",ti:".CoordinateSystemAxisRefType"},{en:"name",ti:".CodeType"},{en:"CompositeCurve",ti:".CompositeCurveType",sh:"_Curve"},{en:"solidProperty",ti:".SolidPropertyType"},{en:"valueProperty",ti:".ValuePropertyType"},{en:"GeodesicString",ti:".GeodesicStringType",sh:"_CurveSegment"},{en:"usesVerticalDatum",ti:".VerticalDatumRefType"},{en:"_GriddedSurface",ti:".AbstractGriddedSurfaceType",sh:"_ParametricCurveSurface"},{en:"resultOf",ti:".AssociationType"},{en:"_positionalAccuracy",ti:".AbstractPositionalAccuracyType"},{en:"_Feature",ti:".AbstractFeatureType",sh:"_GML"},{en:"ArcByCenterPoint",ti:".ArcByCenterPointType",sh:"_CurveSegment"},{en:"_CoordinateReferenceSystem",ti:".AbstractReferenceSystemType",sh:"_CRS"},{en:"covariance",ti:"Double"},{en:"multiSurfaceDomain",ti:".MultiSurfaceDomainType",sh:"domainSet"},{en:"usesCS",ti:".CoordinateSystemRefType"},{en:"ArcByBulge",ti:".ArcByBulgeType",sh:"ArcStringByBulge"},{en:"angle",ti:".MeasureType"},{en:"covarianceMatrix",ti:".CovarianceMatrixType",sh:"_positionalAccuracy"},{en:"_Object",ti:"AnyType"},{en:"EnvelopeWithTimePeriod",ti:".EnvelopeWithTimePeriodType",sh:"Envelope"},{en:"ObliqueCartesianCS",ti:".ObliqueCartesianCSType",sh:"_CoordinateSystem"},{en:"Observation",ti:".ObservationType",sh:"_Feature"},{en:"status",ti:".StringOrRefType"},{en:"centerLineOf",ti:".CurvePropertyType"},{en:"topoPrimitiveMember",ti:".TopoPrimitiveMemberType"},{en:"_MetaData",ti:".AbstractMetaDataType",sh:"_Object"},{en:"TimeOrdinalReferenceSystem",ti:".TimeOrdinalReferenceSystemType",sh:"_TimeReferenceSystem"},{en:"srsName",ti:".CodeType",sh:"name"},{en:"unitOfMeasure",ti:".UnitOfMeasureType"},{en:"VerticalCRS",ti:".VerticalCRSType",sh:"_CoordinateReferenceSystem"},{en:"centerOf",ti:".PointPropertyType"},{en:"_GeneralTransformation",ti:".AbstractGeneralTransformationType",sh:"_Operation"},{en:"multiSolidProperty",ti:".MultiSolidPropertyType"},{en:"_CoordinateSystem",ti:".AbstractCoordinateSystemType",sh:"Definition"},{en:"solidArrayProperty",ti:".SolidArrayPropertyType"},{en:"_Topology",ti:".AbstractTopologyType",sh:"_GML"},{en:"seconds",ti:"Decimal"},{en:"imageCRSRef",ti:".ImageCRSRefType"},{en:"Arc",ti:".ArcType",sh:"ArcString"},{en:"baseCurve",ti:".CurvePropertyType"},{en:"Triangle",ti:".TriangleType",sh:"_SurfacePatch"},{en:"valueFile"},{en:"TopoSurface",ti:".TopoSurfaceType"},{en:"TopoCurve",ti:".TopoCurveType"},{en:"csName",ti:".CodeType",sh:"name"},{en:"usesImageDatum",ti:".ImageDatumRefType"},{en:"derivationUnitTerm",ti:".DerivationUnitTermType"},{en:"usesObliqueCartesianCS",ti:".ObliqueCartesianCSRefType"},{en:"curveMembers",ti:".CurveArrayPropertyType"},{en:"curveProperty",ti:".CurvePropertyType"},{en:"QuantityList",ti:".MeasureOrNullListType"},{en:"Circle",ti:".CircleType",sh:"Arc"},{en:"anchorPoint",ti:".CodeType"},{en:"Curve",ti:".CurveType",sh:"_Curve"},{en:"MultiCurveCoverage",ti:".MultiCurveCoverageType",sh:"_DiscreteCoverage"},{en:"TimeEdge",ti:".TimeEdgeType",sh:"_TimeTopologyPrimitive"},{en:"MultiPoint",ti:".MultiPointType",sh:"_GeometricAggregate"},{en:"GridFunction",ti:".GridFunctionType"},{en:"semiMajorAxis",ti:".MeasureType"},{en:"history",ti:".HistoryPropertyType"},{en:"valueComponent",ti:".ValuePropertyType"},{en:"topoCurveProperty",ti:".TopoCurvePropertyType"},{en:"DirectedObservation",ti:".DirectedObservationType",sh:"Observation"},{en:"OperationParameter",ti:".OperationParameterType",sh:"_GeneralOperationParameter"},{en:"UnitDefinition",ti:".UnitDefinitionType",sh:"Definition"},{en:"pointRep",ti:".PointPropertyType"},{en:"_TimeReferenceSystem",ti:".AbstractTimeReferenceSystemType",sh:"Definition"},{en:"quantityType",ti:".StringOrRefType"},{en:"valueOfParameter",ti:".OperationParameterRefType"},{en:"_CoordinateOperation",ti:".AbstractCoordinateOperationType",sh:"Definition"},{en:"GeodeticDatum",ti:".GeodeticDatumType",sh:"_Datum"},{en:"_CRS",ti:".AbstractReferenceSystemType",sh:"_ReferenceSystem"},{en:"usesOperation",ti:".OperationRefType"},{en:"minutes",ti:"NonNegativeInteger"},{en:"datumName",ti:".CodeType",sh:"name"},{en:"LinearRing",ti:".LinearRingType",sh:"_Ring"},{en:"abstractGeneralOperationParameterRef",ti:".AbstractGeneralOperationParameterRefType"},{en:"usesGeodeticDatum",ti:".GeodeticDatumRefType"},{en:"edgeOf",ti:".CurvePropertyType"},{en:"using",ti:".FeaturePropertyType"},{en:"GeometryStyle",ti:".GeometryStyleType",sh:"_GML"},{en:"curveMember",ti:".CurvePropertyType"},{en:"conversionToPreferredUnit",ti:".ConversionToPreferredUnitType"},{en:"_DiscreteCoverage",ti:".AbstractDiscreteCoverageType",sh:"_Coverage"},{en:"posList",ti:".DirectPositionListType"},{en:"_TimeGeometricPrimitive",ti:".AbstractTimeGeometricPrimitiveType",sh:"_TimePrimitive"},{en:"conversionRef",ti:".ConversionRefType"},{en:"surfaceArrayProperty",ti:".SurfaceArrayPropertyType"},{en:"rangeSet",ti:".RangeSetType"},{en:"valuesOfGroup",ti:".OperationParameterGroupRefType"},{en:"axisDirection",ti:".CodeType"},{en:"coordinateOperationID",ti:".IdentifierType"},{en:"TemporalCRS",ti:".TemporalCRSType",sh:"_CoordinateReferenceSystem"},{en:"_GeneralConversion",ti:".AbstractGeneralConversionType",sh:"_Operation"},{en:"multiCenterOf",ti:".MultiPointPropertyType"},{en:"includesParameter",ti:".AbstractGeneralOperationParameterRefType"},{en:"BSpline",ti:".BSplineType",sh:"_CurveSegment"},{en:"TimeCalendarEra",ti:".TimeCalendarEraType",sh:"Definition"},{en:"priorityLocation",ti:".PriorityLocationPropertyType",sh:"location"},{en:"usesPrimeMeridian",ti:".PrimeMeridianRefType"},{en:"TopoPoint",ti:".TopoPointType"},{en:"ValueArray",ti:".ValueArrayType",sh:"CompositeValue"},{en:"Dictionary",ti:".DictionaryType",sh:"Definition"},{en:"_ImplicitGeometry",ti:".AbstractGeometryType",sh:"_Geometry"},{en:"scope"},{en:"AffinePlacement",ti:".AffinePlacementType"},{en:"multiGeometryProperty",ti:".MultiGeometryPropertyType"},{en:"topoComplexProperty",ti:".TopoComplexMemberType"},{en:"GenericMetaData",ti:".GenericMetaDataType",sh:"_MetaData"},{en:"validTime",ti:".TimePrimitivePropertyType"},{en:"_ReferenceSystem",ti:".AbstractReferenceSystemType",sh:"Definition"},{en:"member",ti:".AssociationType"},{en:"ellipsoidID",ti:".IdentifierType"},{en:"ellipsoidRef",ti:".EllipsoidRefType"},{en:"MultiLineString",ti:".MultiLineStringType",sh:"_GeometricAggregate"},{en:"_TimeTopologyPrimitive",ti:".AbstractTimeTopologyPrimitiveType",sh:"_TimePrimitive"},{en:"parameterName",ti:".CodeType",sh:"name"},{en:"measureDescription",ti:".CodeType"},{en:"ConventionalUnit",ti:".ConventionalUnitType",sh:"UnitDefinition"},{en:"extentOf",ti:".SurfacePropertyType"},{en:"_Coverage",ti:".AbstractCoverageType",sh:"_Feature"},{en:"TriangulatedSurface",ti:".TriangulatedSurfaceType",sh:"Surface"},{en:"Tin",ti:".TinType",sh:"TriangulatedSurface"},{en:"operationVersion"},{en:"pointProperty",ti:".PointPropertyType"},{en:"Conversion",ti:".ConversionType",sh:"_GeneralConversion"},{en:"verticalCRSRef",ti:".VerticalCRSRefType"},{en:"topoVolumeProperty",ti:".TopoVolumePropertyType"},{en:"exterior",ti:".AbstractRingPropertyType"},{en:"realizationEpoch",ti:"Date"}]}}})?i.apply(e,[]):i)||(t.exports=r)},RuG3:function(t,e,n){"use strict";e.a={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"}},RyHr:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("Womt"),r=function(t,e){var n,r,s,o,a,l;void 0===e&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),e===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=t,this.domElement=e,this.enabled=!0,this.target=new i.sb,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={LEFT:i.F.ROTATE,MIDDLE:i.F.DOLLY,RIGHT:i.F.PAN},this.touches={ONE:i.mb.ROTATE,TWO:i.mb.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return g.phi},this.getAzimuthalAngle=function(){return g.theta},this.listenToKeyEvents=function(t){t.addEventListener("keydown",J),this._domElementKeyEvents=t},this.saveState=function(){c.target0.copy(c.target),c.position0.copy(c.object.position),c.zoom0=c.object.zoom},this.reset=function(){c.target.copy(c.target0),c.object.position.copy(c.position0),c.object.zoom=c.zoom0,c.object.updateProjectionMatrix(),c.dispatchEvent(h),c.update(),f=p.NONE},this.update=(n=new i.sb,r=(new i.ab).setFromUnitVectors(t.up,new i.sb(0,1,0)),s=r.clone().invert(),o=new i.sb,a=new i.ab,l=2*Math.PI,function(){var t=c.object.position;n.copy(t).sub(c.target),n.applyQuaternion(r),g.setFromVector3(n),c.autoRotate&&f===p.NONE&&R(2*Math.PI/60/60*c.autoRotateSpeed),c.enableDamping?(g.theta+=y.theta*c.dampingFactor,g.phi+=y.phi*c.dampingFactor):(g.theta+=y.theta,g.phi+=y.phi);var e=c.minAzimuthAngle,i=c.maxAzimuthAngle;return isFinite(e)&&isFinite(i)&&(e<-Math.PI?e+=l:e>Math.PI&&(e-=l),i<-Math.PI?i+=l:i>Math.PI&&(i-=l),g.theta=e<=i?Math.max(e,Math.min(i,g.theta)):g.theta>(e+i)/2?Math.max(e,g.theta):Math.min(i,g.theta)),g.phi=Math.max(c.minPolarAngle,Math.min(c.maxPolarAngle,g.phi)),g.makeSafe(),g.radius*=_,g.radius=Math.max(c.minDistance,Math.min(c.maxDistance,g.radius)),!0===c.enableDamping?c.target.addScaledVector(b,c.dampingFactor):c.target.add(b),n.setFromSpherical(g),n.applyQuaternion(s),t.copy(c.target).add(n),c.object.lookAt(c.target),!0===c.enableDamping?(y.theta*=1-c.dampingFactor,y.phi*=1-c.dampingFactor,b.multiplyScalar(1-c.dampingFactor)):(y.set(0,0,0),b.set(0,0,0)),_=1,!!(v||o.distanceToSquared(c.object.position)>m||8*(1-a.dot(c.object.quaternion))>m)&&(c.dispatchEvent(h),o.copy(c.object.position),a.copy(c.object.quaternion),v=!1,!0)}),this.dispose=function(){c.domElement.removeEventListener("contextmenu",et),c.domElement.removeEventListener("pointerdown",W),c.domElement.removeEventListener("wheel",Z),c.domElement.removeEventListener("touchstart",Q),c.domElement.removeEventListener("touchend",tt),c.domElement.removeEventListener("touchmove",$),c.domElement.ownerDocument.removeEventListener("pointermove",Y),c.domElement.ownerDocument.removeEventListener("pointerup",K),null!==c._domElementKeyEvents&&c._domElementKeyEvents.removeEventListener("keydown",J)};var c=this,h={type:"change"},u={type:"start"},d={type:"end"},p={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},f=p.NONE,m=1e-6,g=new i.kb,y=new i.kb,_=1,b=new i.sb,v=!1,S=new i.rb,T=new i.rb,x=new i.rb,w=new i.rb,E=new i.rb,C=new i.rb,M=new i.rb,O=new i.rb,A=new i.rb;function I(){return Math.pow(.95,c.zoomSpeed)}function R(t){y.theta-=t}function L(t){y.phi-=t}var P,D=(P=new i.sb,function(t,e){P.setFromMatrixColumn(e,0),P.multiplyScalar(-t),b.add(P)}),N=function(){var t=new i.sb;return function(e,n){!0===c.screenSpacePanning?t.setFromMatrixColumn(n,1):(t.setFromMatrixColumn(n,0),t.crossVectors(c.object.up,t)),t.multiplyScalar(e),b.add(t)}}(),j=function(){var t=new i.sb;return function(e,n){var i=c.domElement;if(c.object.isPerspectiveCamera){t.copy(c.object.position).sub(c.target);var r=t.length();r*=Math.tan(c.object.fov/2*Math.PI/180),D(2*e*r/i.clientHeight,c.object.matrix),N(2*n*r/i.clientHeight,c.object.matrix)}else c.object.isOrthographicCamera?(D(e*(c.object.right-c.object.left)/c.object.zoom/i.clientWidth,c.object.matrix),N(n*(c.object.top-c.object.bottom)/c.object.zoom/i.clientHeight,c.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),c.enablePan=!1)}}();function k(t){c.object.isPerspectiveCamera?_/=t:c.object.isOrthographicCamera?(c.object.zoom=Math.max(c.minZoom,Math.min(c.maxZoom,c.object.zoom*t)),c.object.updateProjectionMatrix(),v=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),c.enableZoom=!1)}function F(t){c.object.isPerspectiveCamera?_*=t:c.object.isOrthographicCamera?(c.object.zoom=Math.max(c.minZoom,Math.min(c.maxZoom,c.object.zoom/t)),c.object.updateProjectionMatrix(),v=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),c.enableZoom=!1)}function U(t){S.set(t.clientX,t.clientY)}function G(t){w.set(t.clientX,t.clientY)}function V(t){1==t.touches.length?S.set(t.touches[0].pageX,t.touches[0].pageY):S.set(.5*(t.touches[0].pageX+t.touches[1].pageX),.5*(t.touches[0].pageY+t.touches[1].pageY))}function B(t){1==t.touches.length?w.set(t.touches[0].pageX,t.touches[0].pageY):w.set(.5*(t.touches[0].pageX+t.touches[1].pageX),.5*(t.touches[0].pageY+t.touches[1].pageY))}function z(t){var e=t.touches[0].pageX-t.touches[1].pageX,n=t.touches[0].pageY-t.touches[1].pageY,i=Math.sqrt(e*e+n*n);M.set(0,i)}function H(t){1==t.touches.length?T.set(t.touches[0].pageX,t.touches[0].pageY):T.set(.5*(t.touches[0].pageX+t.touches[1].pageX),.5*(t.touches[0].pageY+t.touches[1].pageY)),x.subVectors(T,S).multiplyScalar(c.rotateSpeed);var e=c.domElement;R(2*Math.PI*x.x/e.clientHeight),L(2*Math.PI*x.y/e.clientHeight),S.copy(T)}function X(t){1==t.touches.length?E.set(t.touches[0].pageX,t.touches[0].pageY):E.set(.5*(t.touches[0].pageX+t.touches[1].pageX),.5*(t.touches[0].pageY+t.touches[1].pageY)),C.subVectors(E,w).multiplyScalar(c.panSpeed),j(C.x,C.y),w.copy(E)}function q(t){var e=t.touches[0].pageX-t.touches[1].pageX,n=t.touches[0].pageY-t.touches[1].pageY,i=Math.sqrt(e*e+n*n);O.set(0,i),A.set(0,Math.pow(O.y/M.y,c.zoomSpeed)),k(A.y),M.copy(O)}function W(t){if(!1!==c.enabled)switch(t.pointerType){case"mouse":case"pen":!function(t){var e;switch(t.preventDefault(),c.domElement.focus?c.domElement.focus():window.focus(),t.button){case 0:e=c.mouseButtons.LEFT;break;case 1:e=c.mouseButtons.MIDDLE;break;case 2:e=c.mouseButtons.RIGHT;break;default:e=-1}switch(e){case i.F.DOLLY:if(!1===c.enableZoom)return;!function(t){M.set(t.clientX,t.clientY)}(t),f=p.DOLLY;break;case i.F.ROTATE:if(t.ctrlKey||t.metaKey||t.shiftKey){if(!1===c.enablePan)return;G(t),f=p.PAN}else{if(!1===c.enableRotate)return;U(t),f=p.ROTATE}break;case i.F.PAN:if(t.ctrlKey||t.metaKey||t.shiftKey){if(!1===c.enableRotate)return;U(t),f=p.ROTATE}else{if(!1===c.enablePan)return;G(t),f=p.PAN}break;default:f=p.NONE}f!==p.NONE&&(c.domElement.ownerDocument.addEventListener("pointermove",Y),c.domElement.ownerDocument.addEventListener("pointerup",K),c.dispatchEvent(u))}(t)}}function Y(t){if(!1!==c.enabled)switch(t.pointerType){case"mouse":case"pen":!function(t){if(!1!==c.enabled)switch(t.preventDefault(),f){case p.ROTATE:if(!1===c.enableRotate)return;!function(t){T.set(t.clientX,t.clientY),x.subVectors(T,S).multiplyScalar(c.rotateSpeed);var e=c.domElement;R(2*Math.PI*x.x/e.clientHeight),L(2*Math.PI*x.y/e.clientHeight),S.copy(T),c.update()}(t);break;case p.DOLLY:if(!1===c.enableZoom)return;!function(t){O.set(t.clientX,t.clientY),A.subVectors(O,M),A.y>0?k(I()):A.y<0&&F(I()),M.copy(O),c.update()}(t);break;case p.PAN:if(!1===c.enablePan)return;!function(t){E.set(t.clientX,t.clientY),C.subVectors(E,w).multiplyScalar(c.panSpeed),j(C.x,C.y),w.copy(E),c.update()}(t)}}(t)}}function K(t){switch(t.pointerType){case"mouse":case"pen":c.domElement.ownerDocument.removeEventListener("pointermove",Y),c.domElement.ownerDocument.removeEventListener("pointerup",K),!1!==c.enabled&&(c.dispatchEvent(d),f=p.NONE)}}function Z(t){!1===c.enabled||!1===c.enableZoom||f!==p.NONE&&f!==p.ROTATE||(t.preventDefault(),t.stopPropagation(),c.dispatchEvent(u),function(t){t.deltaY<0?F(I()):t.deltaY>0&&k(I()),c.update()}(t),c.dispatchEvent(d))}function J(t){!1!==c.enabled&&!1!==c.enablePan&&function(t){var e=!1;switch(t.keyCode){case c.keys.UP:j(0,c.keyPanSpeed),e=!0;break;case c.keys.BOTTOM:j(0,-c.keyPanSpeed),e=!0;break;case c.keys.LEFT:j(c.keyPanSpeed,0),e=!0;break;case c.keys.RIGHT:j(-c.keyPanSpeed,0),e=!0}e&&(t.preventDefault(),c.update())}(t)}function Q(t){if(!1!==c.enabled){switch(t.preventDefault(),t.touches.length){case 1:switch(c.touches.ONE){case i.mb.ROTATE:if(!1===c.enableRotate)return;V(t),f=p.TOUCH_ROTATE;break;case i.mb.PAN:if(!1===c.enablePan)return;B(t),f=p.TOUCH_PAN;break;default:f=p.NONE}break;case 2:switch(c.touches.TWO){case i.mb.DOLLY_PAN:if(!1===c.enableZoom&&!1===c.enablePan)return;!function(t){c.enableZoom&&z(t),c.enablePan&&B(t)}(t),f=p.TOUCH_DOLLY_PAN;break;case i.mb.DOLLY_ROTATE:if(!1===c.enableZoom&&!1===c.enableRotate)return;!function(t){c.enableZoom&&z(t),c.enableRotate&&V(t)}(t),f=p.TOUCH_DOLLY_ROTATE;break;default:f=p.NONE}break;default:f=p.NONE}f!==p.NONE&&c.dispatchEvent(u)}}function $(t){if(!1!==c.enabled)switch(t.preventDefault(),t.stopPropagation(),f){case p.TOUCH_ROTATE:if(!1===c.enableRotate)return;H(t),c.update();break;case p.TOUCH_PAN:if(!1===c.enablePan)return;X(t),c.update();break;case p.TOUCH_DOLLY_PAN:if(!1===c.enableZoom&&!1===c.enablePan)return;!function(t){c.enableZoom&&q(t),c.enablePan&&X(t)}(t),c.update();break;case p.TOUCH_DOLLY_ROTATE:if(!1===c.enableZoom&&!1===c.enableRotate)return;!function(t){c.enableZoom&&q(t),c.enableRotate&&H(t)}(t),c.update();break;default:f=p.NONE}}function tt(t){!1!==c.enabled&&(c.dispatchEvent(d),f=p.NONE)}function et(t){!1!==c.enabled&&t.preventDefault()}c.domElement.addEventListener("contextmenu",et),c.domElement.addEventListener("pointerdown",W),c.domElement.addEventListener("wheel",Z),c.domElement.addEventListener("touchstart",Q),c.domElement.addEventListener("touchend",tt),c.domElement.addEventListener("touchmove",$),this.update()};r.prototype=Object.create(i.l.prototype),r.prototype.constructor=r;var s=function(t,e){r.call(this,t,e),this.screenSpacePanning=!1,this.mouseButtons.LEFT=i.F.PAN,this.mouseButtons.RIGHT=i.F.ROTATE,this.touches.ONE=i.mb.PAN,this.touches.TWO=i.mb.DOLLY_ROTATE};(s.prototype=Object.create(i.l.prototype)).constructor=s},SVse:function(t,e,n){"use strict";n.d(e,"a",function(){return v}),n.d(e,"b",function(){return et}),n.d(e,"c",function(){return rt}),n.d(e,"d",function(){return l}),n.d(e,"e",function(){return M}),n.d(e,"f",function(){return A}),n.d(e,"g",function(){return T}),n.d(e,"h",function(){return nt}),n.d(e,"i",function(){return u}),n.d(e,"j",function(){return x}),n.d(e,"k",function(){return _}),n.d(e,"l",function(){return U}),n.d(e,"m",function(){return V}),n.d(e,"n",function(){return z}),n.d(e,"o",function(){return K}),n.d(e,"p",function(){return W}),n.d(e,"q",function(){return Y}),n.d(e,"r",function(){return Z}),n.d(e,"s",function(){return S}),n.d(e,"t",function(){return c}),n.d(e,"u",function(){return O}),n.d(e,"v",function(){return at}),n.d(e,"w",function(){return P}),n.d(e,"x",function(){return I}),n.d(e,"y",function(){return L}),n.d(e,"z",function(){return R}),n.d(e,"A",function(){return ot}),n.d(e,"B",function(){return a}),n.d(e,"C",function(){return st}),n.d(e,"D",function(){return s}),n.d(e,"E",function(){return F}),n.d(e,"F",function(){return o});var i=n("8Y7J");let r=null;function s(){return r}function o(t){r||(r=t)}class a{}const l=new i.r("DocumentToken");let c=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Gb)({factory:h,token:t,providedIn:"platform"}),t})();function h(){return Object(i.Ub)(d)}const u=new i.r("Location Initialized");let d=(()=>{class t extends c{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){p()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){p()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(i.Ub(l))},t.\u0275prov=Object(i.Gb)({factory:f,token:t,providedIn:"platform"}),t})();function p(){return!!window.history.pushState}function f(){return new d(Object(i.Ub)(l))}function m(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function g(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function y(t){return t&&"?"!==t[0]?"?"+t:t}let _=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Gb)({factory:b,token:t,providedIn:"root"}),t})();function b(t){const e=Object(i.Ub)(l).location;return new S(Object(i.Ub)(c),e&&e.origin||"")}const v=new i.r("appBaseHref");let S=(()=>{class t extends _{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return m(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+y(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,i){const r=this.prepareExternalUrl(n+y(i));this._platformLocation.pushState(t,e,r)}replaceState(t,e,n,i){const r=this.prepareExternalUrl(n+y(i));this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(i.Ub(c),i.Ub(v,8))},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})(),T=(()=>{class t extends _{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=m(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,i){let r=this.prepareExternalUrl(n+y(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(t,e,r)}replaceState(t,e,n,i){let r=this.prepareExternalUrl(n+y(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(i.Ub(c),i.Ub(v,8))},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})(),x=(()=>{class t{constructor(t,e){this._subject=new i.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=g(E(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+y(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,E(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+y(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+y(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(i.Ub(_),i.Ub(c))},t.normalizeQueryParams=y,t.joinWithSlash=m,t.stripTrailingSlash=g,t.\u0275prov=Object(i.Gb)({factory:w,token:t,providedIn:"root"}),t})();function w(){return new x(Object(i.Ub)(_),Object(i.Ub)(c))}function E(t){return t.replace(/\/index.html$/,"")}var C=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),M=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),O=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),A=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({});function I(t,e,n){const r=Object(i.ib)(t),s=N([r[i.Z.DaysFormat],r[i.Z.DaysStandalone]],e);return N(s,n)}function R(t,e,n){const r=Object(i.ib)(t),s=N([r[i.Z.MonthsFormat],r[i.Z.MonthsStandalone]],e);return N(s,n)}function L(t){return Object(i.ib)(t)[i.Z.FirstDayOfWeek]}function P(t,e){return N(Object(i.ib)(t)[i.Z.DateFormat],e)}const D=i.lb;function N(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}class j{}let k=(()=>{class t extends j{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(D(e||this.locale)(t)){case C.Zero:return"zero";case C.One:return"one";case C.Two:return"two";case C.Few:return"few";case C.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(i.Ub(i.v))},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})();function F(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[i,r]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(i.trim()===e)return decodeURIComponent(r)}return null}let U=(()=>{class t{constructor(t,e,n,i){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(i.ob)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Object(i.ub)(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(i.t),i.Kb(i.u),i.Kb(i.l),i.Kb(i.E))},t.\u0275dir=i.Fb({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class G{constructor(t,e,n,i){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let V=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,i)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new G(null,this._ngForOf,-1,-1),null===i?void 0:i),r=new B(t,n);e.push(r)}else if(null==i)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const r=this._viewContainer.get(n);this._viewContainer.move(r,i);const s=new B(t,r);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,i=this._viewContainer.length;n<i;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=i,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(i.P),i.Kb(i.L),i.Kb(i.t))},t.\u0275dir=i.Fb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class B{constructor(t,e){this.record=t,this.view=e}}let z=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new H,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){X("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){X("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(i.P),i.Kb(i.L))},t.\u0275dir=i.Fb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class H{constructor(){this.$implicit=null,this.ngIf=null}}function X(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(i.ub)(e)}'.`)}class q{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let W=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Fb({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),Y=(()=>{class t{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new q(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(i.P),i.Kb(i.L),i.Kb(W,1))},t.\u0275dir=i.Fb({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),K=(()=>{class t{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,e){const[n,i]=t.split(".");null!=(e=null!=e&&i?`${e}${i}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(i.l),i.Kb(i.u),i.Kb(i.E))},t.\u0275dir=i.Fb({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})(),Z=(()=>{class t{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(this._shouldRecreateView(t)){const t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(t){const e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)}_hasContextShapeChanged(t){const e=Object.keys(t.previousValue||{}),n=Object.keys(t.currentValue||{});if(e.length===n.length){for(let t of n)if(-1===e.indexOf(t))return!0;return!1}return!0}_updateExistingContext(t){for(let e of Object.keys(t))this._viewRef.context[e]=this.ngTemplateOutletContext[e]}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(i.P))},t.\u0275dir=i.Fb({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[i.xb]}),t})();class J{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class Q{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const $=new Q,tt=new J;let et=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Object(i.qb)(e))return $;if(Object(i.rb)(e))return tt;throw n=t,Error(`InvalidPipeArgument: '${e}' for pipe '${Object(i.ub)(n)}'`);var n}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(i.Wb())},t.\u0275pipe=i.Jb({name:"async",type:t,pure:!1}),t})(),nt=(()=>{class t{constructor(t){this.differs=t,this.keyValues=[]}transform(t,e=it){if(!t||!(t instanceof Map)&&"object"!=typeof t)return null;this.differ||(this.differ=this.differs.find(t).create());const n=this.differ.diff(t);return n&&(this.keyValues=[],n.forEachItem(t=>{this.keyValues.push({key:t.key,value:t.currentValue})}),this.keyValues.sort(e)),this.keyValues}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(i.u))},t.\u0275pipe=i.Jb({name:"keyvalue",type:t,pure:!1}),t})();function it(t,e){const n=t.key,i=e.key;if(n===i)return 0;if(void 0===n)return 1;if(void 0===i)return-1;if(null===n)return 1;if(null===i)return-1;if("string"==typeof n&&"string"==typeof i)return n<i?-1:1;if("number"==typeof n&&"number"==typeof i)return n-i;if("boolean"==typeof n&&"boolean"==typeof i)return n<i?-1:1;const r=String(n),s=String(i);return r==s?0:r<s?-1:1}let rt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({providers:[{provide:j,useClass:k}]}),t})();const st="browser";function ot(t){return t===st}let at=(()=>{class t{}return t.\u0275prov=Object(i.Gb)({token:t,providedIn:"root",factory:()=>new lt(Object(i.Ub)(l),window)}),t})();class lt{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=n.currentNode;for(;i;){const t=i.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}i=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],i-r[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=ct(this.window.history)||ct(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function ct(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var i=n("ngJS"),r=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),l=n("c2HN"),c=n("XoHu");const h=t=>{if(t&&"function"==typeof t[o.a])return h=t,t=>{const e=h[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(i.a)(t);if(Object(l.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,r.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){let e;try{e=n.next()}catch(i){return t.error(i),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,h}},SpAZ:function(t,e,n){"use strict";function i(t){return t}n.d(e,"a",function(){return i})},SxV6:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("sVev"),r=n("pLZG"),s=n("IzEk"),o=n("xbPD"),a=n("XDbj"),l=n("SpAZ");function c(t,e){const n=arguments.length>=2;return c=>c.pipe(t?Object(r.a)((e,n)=>t(e,n,c)):l.a,Object(s.a)(1),n?Object(o.a)(e):Object(a.a)(()=>new i.a))}},Tu8L:function(t,e,n){var i,r;void 0===(r="function"==typeof(i=function(){return{SMIL_2_0:{n:"SMIL_2_0",dens:"http://www.w3.org/2001/SMIL20/",deps:["SMIL_2_0_Language"],tis:[{ln:"AnimateMotionPrototype",tn:"animateMotionPrototype",ps:[{n:"origin",an:{lp:"origin"},t:"a"},{n:"from",an:{lp:"from"},t:"a"},{n:"by",an:{lp:"by"},t:"a"},{n:"values",an:{lp:"values"},t:"a"},{n:"to",an:{lp:"to"},t:"a"},{n:"additive",an:{lp:"additive"},t:"a"},{n:"accumulate",an:{lp:"accumulate"},t:"a"}]},{ln:"SetPrototype",tn:"setPrototype",ps:[{n:"attributeName",rq:!0,an:{lp:"attributeName"},t:"a"},{n:"attributeType",an:{lp:"attributeType"},t:"a"},{n:"to",an:{lp:"to"},t:"a"}]},{ln:"AnimateColorPrototype",tn:"animateColorPrototype",ps:[{n:"additive",an:{lp:"additive"},t:"a"},{n:"accumulate",an:{lp:"accumulate"},t:"a"},{n:"attributeName",rq:!0,an:{lp:"attributeName"},t:"a"},{n:"attributeType",an:{lp:"attributeType"},t:"a"},{n:"from",an:{lp:"from"},t:"a"},{n:"by",an:{lp:"by"},t:"a"},{n:"values",an:{lp:"values"},t:"a"},{n:"to",an:{lp:"to"},t:"a"}]},{ln:"AnimatePrototype",tn:"animatePrototype",ps:[{n:"additive",an:{lp:"additive"},t:"a"},{n:"accumulate",an:{lp:"accumulate"},t:"a"},{n:"from",an:{lp:"from"},t:"a"},{n:"by",an:{lp:"by"},t:"a"},{n:"values",an:{lp:"values"},t:"a"},{n:"to",an:{lp:"to"},t:"a"},{n:"attributeName",rq:!0,an:{lp:"attributeName"},t:"a"},{n:"attributeType",an:{lp:"attributeType"},t:"a"}]},{t:"enum",ln:"SyncBehaviorDefaultType",vs:["canSlip","locked","independent","inherit"]},{t:"enum",ln:"SyncBehaviorType",vs:["canSlip","locked","independent","default"]},{t:"enum",ln:"FillTimingAttrsType",vs:["remove","freeze","hold","auto","default","transition"]},{t:"enum",ln:"RestartDefaultType",vs:["never","always","whenNotActive","inherit"]},{t:"enum",ln:"FillDefaultType",vs:["remove","freeze","hold","auto","inherit","transition"]},{t:"enum",ln:"RestartTimingType",vs:["never","always","whenNotActive","default"]}],eis:[{en:"set",ti:"SMIL_2_0_Language.SetType",sh:{lp:"set",ns:"http://www.w3.org/2001/SMIL20/Language"}},{en:"animate",ti:"SMIL_2_0_Language.AnimateType",sh:{lp:"animate",ns:"http://www.w3.org/2001/SMIL20/Language"}},{en:"animateMotion",ti:"SMIL_2_0_Language.AnimateMotionType",sh:{lp:"animateMotion",ns:"http://www.w3.org/2001/SMIL20/Language"}},{en:"animateColor",ti:"SMIL_2_0_Language.AnimateColorType",sh:{lp:"animateColor",ns:"http://www.w3.org/2001/SMIL20/Language"}}]}}})?i.apply(e,[]):i)||(t.exports=r)},U1NS:function(t,e,n){"use strict";n.d(e,"b",function(){return d});var i=n("QSZX"),r=n("9CgO"),s=n("l30d"),o=n("RuG3"),a=n("De+T"),l=n("i3ci"),c=n("Bpkx"),h=n("bwl8"),u=n("FHfp");function d(t,e){if(!t.visible)return!1;const n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;const i=e.zoom;return i>t.minZoom&&i<=t.maxZoom}e.a=class extends i.a{constructor(t){const e=Object(c.a)({},t);delete e.source,super(e),this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,t.render&&(this.render=t.render),t.map&&this.setMap(t.map),this.addEventListener(Object(h.b)(s.a.SOURCE),this.handleSourcePropertyChange_),this.setSource(t.source?t.source:null)}getLayersArray(t){const e=t||[];return e.push(this),e}getLayerStatesArray(t){const e=t||[];return e.push(this.getLayerState()),e}getSource(){return this.get(s.a.SOURCE)||null}getSourceState(){const t=this.getSource();return t?t.getState():a.a.UNDEFINED}handleSourceChange_(){this.changed()}handleSourcePropertyChange_(){this.sourceChangeKey_&&(Object(u.c)(this.sourceChangeKey_),this.sourceChangeKey_=null);const t=this.getSource();t&&(this.sourceChangeKey_=Object(u.a)(t,r.a.CHANGE,this.handleSourceChange_,this)),this.changed()}getFeatures(t){return this.renderer_.getFeatures(t)}render(t,e){const n=this.getRenderer();if(n.prepareFrame(t))return n.renderFrame(t,e)}setMap(t){this.mapPrecomposeKey_&&(Object(u.c)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(Object(u.c)(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=Object(u.a)(t,o.a.PRECOMPOSE,function(t){const e=t.frameState.layerStatesArray,n=this.getLayerState(!1);Object(l.a)(!e.some(function(t){return t.layer===n.layer}),67),e.push(n)},this),this.mapRenderKey_=Object(u.a)(this,r.a.CHANGE,t.render,t),this.changed())}setSource(t){this.set(s.a.SOURCE,t)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.setSource(null),super.disposeInternal()}}},UMcu:function(t,e,n){"use strict";function i(t,e,n,i){return void 0!==i?(i[0]=t,i[1]=e,i[2]=n,i):[t,e,n]}function r(t,e,n){return t+"/"+e+"/"+n}function s(t){return r(t[0],t[1],t[2])}function o(t){return t.split("/").map(Number)}function a(t){return(t[1]<<t[0])+t[2]}function l(t,e){const n=t[0],i=t[1],r=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;const s=e.getFullTileRange(n);return!s||s.containsXY(i,r)}n.d(e,"a",function(){return i}),n.d(e,"d",function(){return r}),n.d(e,"c",function(){return s}),n.d(e,"b",function(){return o}),n.d(e,"e",function(){return a}),n.d(e,"f",function(){return l})},VJnl:function(t,e,n){"use strict";e.a={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"}},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("HDdC"),r=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(r.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof i.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},VvGk:function(t,e,n){"use strict";function i(t,e,n,i){for(let r=0,s=n.length;r<s;++r)t[e++]=n[r];return e}function r(t,e,n,i){for(let r=0,s=n.length;r<s;++r){const s=n[r];for(let n=0;n<i;++n)t[e++]=s[n]}return e}function s(t,e,n,i,s){const o=s||[];let a=0;for(let l=0,c=n.length;l<c;++l){const s=r(t,e,n[l],i);o[a++]=s,e=s}return o.length=a,o}function o(t,e,n,i,r){const o=r||[];let a=0;for(let l=0,c=n.length;l<c;++l){const r=s(t,e,n[l],i,o[a]);o[a++]=r,e=r[r.length-1]}return o.length=a,o}n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r}),n.d(e,"c",function(){return s}),n.d(e,"d",function(){return o})},"W/Sn":function(t,e,n){"use strict";var i=n("1M8w"),r=n("JS5d"),s=n("4cD7"),o=n("8pO4"),a=class extends i.a{constructor(t,e,n,i){super(t,e,n,i)}drawFlatCoordinatess_(t,e,n,i){const s=this.state,o=void 0!==s.fillStyle,a=void 0!==s.strokeStyle,l=n.length;this.instructions.push(r.a),this.hitDetectionInstructions.push(r.a);for(let c=0;c<l;++c){const s=n[c],o=this.coordinates.length,l=this.appendFlatLineCoordinates(t,e,s,i,!0,!a),h=[r.c.MOVE_TO_LINE_TO,o,l];this.instructions.push(h),this.hitDetectionInstructions.push(h),a&&(this.instructions.push(r.b),this.hitDetectionInstructions.push(r.b)),e=s}return o&&(this.instructions.push(r.d),this.hitDetectionInstructions.push(r.d)),a&&(this.instructions.push(r.e),this.hitDetectionInstructions.push(r.e)),e}drawCircle(t,e){const n=this.state;if(void 0===n.fillStyle&&void 0===n.strokeStyle)return;this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([r.c.SET_FILL_STYLE,s.c]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([r.c.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);const i=t.getFlatCoordinates(),o=t.getStride(),a=this.coordinates.length;this.appendFlatLineCoordinates(i,0,i.length,o,!1,!1);const l=[r.c.CIRCLE,a];this.instructions.push(r.a,l),this.hitDetectionInstructions.push(r.a,l),void 0!==n.fillStyle&&(this.instructions.push(r.d),this.hitDetectionInstructions.push(r.d)),void 0!==n.strokeStyle&&(this.instructions.push(r.e),this.hitDetectionInstructions.push(r.e)),this.endGeometry(e)}drawPolygon(t,e){const n=this.state;if(void 0===n.fillStyle&&void 0===n.strokeStyle)return;this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([r.c.SET_FILL_STYLE,s.c]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([r.c.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);const i=t.getEnds(),o=t.getOrientedFlatCoordinates(),a=t.getStride();this.drawFlatCoordinatess_(o,0,i,a),this.endGeometry(e)}drawMultiPolygon(t,e){const n=this.state;if(void 0===n.fillStyle&&void 0===n.strokeStyle)return;this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([r.c.SET_FILL_STYLE,s.c]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([r.c.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);const i=t.getEndss(),o=t.getOrientedFlatCoordinates(),a=t.getStride();let l=0;for(let r=0,s=i.length;r<s;++r)l=this.drawFlatCoordinatess_(o,l,i[r],a);this.endGeometry(e)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const t=this.tolerance;if(0!==t){const e=this.coordinates;for(let n=0,i=e.length;n<i;++n)e[n]=Object(o.e)(e[n],t)}return super.finish()}setFillStrokeStyles_(){const t=this.state;void 0!==t.fillStyle&&this.updateFillStyle(t,this.createFill),void 0!==t.strokeStyle&&this.updateStrokeStyle(t,this.applyStroke)}},l=n("0sIq");const c={Circle:a,Default:i.a,Image:class extends i.a{constructor(t,e,n,i){super(t,e,n,i),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterImageWithText_=void 0}drawPoint(t,e){if(!this.image_)return;this.beginGeometry(t,e);const n=t.getFlatCoordinates(),i=t.getStride(),s=this.coordinates.length,o=this.appendFlatPointCoordinates(n,i);this.instructions.push([r.c.DRAW_IMAGE,s,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([r.c.DRAW_IMAGE,s,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(e)}drawMultiPoint(t,e){if(!this.image_)return;this.beginGeometry(t,e);const n=t.getFlatCoordinates(),i=t.getStride(),s=this.coordinates.length,o=this.appendFlatPointCoordinates(n,i);this.instructions.push([r.c.DRAW_IMAGE,s,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([r.c.DRAW_IMAGE,s,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(e)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(t,e){const n=t.getAnchor(),i=t.getSize(),r=t.getHitDetectionImage(),s=t.getImage(this.pixelRatio),o=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=n[0],this.anchorY_=n[1],this.hitDetectionImage_=r,this.image_=s,this.height_=i[1],this.opacity_=t.getOpacity(),this.originX_=o[0],this.originY_=o[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=i[0],this.declutterImageWithText_=e}},LineString:class extends i.a{constructor(t,e,n,i){super(t,e,n,i)}drawFlatCoordinates_(t,e,n,i){const s=this.coordinates.length,o=this.appendFlatLineCoordinates(t,e,n,i,!1,!1),a=[r.c.MOVE_TO_LINE_TO,s,o];return this.instructions.push(a),this.hitDetectionInstructions.push(a),n}drawLineString(t,e){const n=this.state;if(void 0===n.strokeStyle||void 0===n.lineWidth)return;this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([r.c.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],r.a);const i=t.getFlatCoordinates(),s=t.getStride();this.drawFlatCoordinates_(i,0,i.length,s),this.hitDetectionInstructions.push(r.e),this.endGeometry(e)}drawMultiLineString(t,e){const n=this.state;if(void 0===n.strokeStyle||void 0===n.lineWidth)return;this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([r.c.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],r.a);const i=t.getEnds(),s=t.getFlatCoordinates(),o=t.getStride();let a=0;for(let r=0,l=i.length;r<l;++r)a=this.drawFlatCoordinates_(s,a,i[r],o);this.hitDetectionInstructions.push(r.e),this.endGeometry(e)}finish(){const t=this.state;return null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&this.instructions.push(r.e),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(t){null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(r.e),t.lastStroke=this.coordinates.length),t.lastStroke=0,super.applyStroke(t),this.instructions.push(r.a)}},Polygon:a,Text:l.b};e.a=class{constructor(t,e,n,i){this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=i,this.resolution_=n,this.buildersByZIndex_={}}finish(){const t={};for(const e in this.buildersByZIndex_){t[e]=t[e]||{};const n=this.buildersByZIndex_[e];for(const i in n){const r=n[i].finish();t[e][i]=r}}return t}getBuilder(t,e){const n=void 0!==t?t.toString():"0";let i=this.buildersByZIndex_[n];void 0===i&&(i={},this.buildersByZIndex_[n]=i);let r=i[e];return void 0===r&&(r=new(0,c[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[e]=r),r}}},W74l:function(t,e,n){"use strict";var i=n("aBeY"),r=n("wEYg"),s=n("AjuZ"),o=n("hKKC"),a=n("VvGk"),l=n("oWEL"),c=n("L3Wi"),h=n("LV+m");class u extends s.a{constructor(t,e){super(),e&&!Array.isArray(t[0])?this.setFlatCoordinates(e,t):this.setCoordinates(t,e)}appendPoint(t){this.flatCoordinates?Object(l.c)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()}clone(){const t=new u(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,e,n,i){if(i<Object(o.f)(this.getExtent(),t,e))return i;const r=this.flatCoordinates,s=this.stride;for(let o=0,a=r.length;o<a;o+=s){const a=Object(h.g)(t,e,r[o],r[o+1]);if(a<i){i=a;for(let t=0;t<s;++t)n[t]=r[o+t];n.length=s}}return i}getCoordinates(){return Object(c.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(t){return t<0||(this.flatCoordinates?this.flatCoordinates.length/this.stride:0)<=t?null:new r.a(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)}getPoints(){const t=this.flatCoordinates,e=this.layout,n=this.stride,i=[];for(let s=0,o=t.length;s<o;s+=n){const o=new r.a(t.slice(s,s+n),e);i.push(o)}return i}getType(){return i.a.MULTI_POINT}intersectsExtent(t){const e=this.flatCoordinates,n=this.stride;for(let i=0,r=e.length;i<r;i+=n){const n=e[i],r=e[i+1];if(Object(o.i)(t,n,r))return!0}return!1}setCoordinates(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(a.b)(this.flatCoordinates,0,t,this.stride),this.changed()}}e.a=u},WMd4:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("EY2u"),r=n("LRne"),s=n("HDdC");let o=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(r.a)(this.value);case"E":return t=this.error,new s.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},Womt:function(t,e,n){"use strict";n.d(e,"a",function(){return Ao}),n.d(e,"b",function(){return Zr}),n.d(e,"c",function(){return G}),n.d(e,"d",function(){return ue}),n.d(e,"e",function(){return Le}),n.d(e,"f",function(){return Es}),n.d(e,"g",function(){return l}),n.d(e,"h",function(){return re}),n.d(e,"i",function(){return Uo}),n.d(e,"j",function(){return va}),n.d(e,"k",function(){return o}),n.d(e,"l",function(){return x}),n.d(e,"m",function(){return to}),n.d(e,"n",function(){return No}),n.d(e,"o",function(){return s}),n.d(e,"p",function(){return mr}),n.d(e,"q",function(){return Ia}),n.d(e,"r",function(){return Tr}),n.d(e,"s",function(){return wr}),n.d(e,"t",function(){return yo}),n.d(e,"u",function(){return y}),n.d(e,"v",function(){return _}),n.d(e,"w",function(){return us}),n.d(e,"x",function(){return ss}),n.d(e,"y",function(){return ms}),n.d(e,"z",function(){return fs}),n.d(e,"A",function(){return p}),n.d(e,"B",function(){return m}),n.d(e,"C",function(){return f}),n.d(e,"D",function(){return Po}),n.d(e,"E",function(){return Ca}),n.d(e,"F",function(){return i}),n.d(e,"G",function(){return ae}),n.d(e,"H",function(){return C}),n.d(e,"I",function(){return ut}),n.d(e,"J",function(){return Ze}),n.d(e,"K",function(){return le}),n.d(e,"L",function(){return lo}),n.d(e,"M",function(){return ao}),n.d(e,"N",function(){return oo}),n.d(e,"O",function(){return c}),n.d(e,"P",function(){return h}),n.d(e,"Q",function(){return d}),n.d(e,"R",function(){return u}),n.d(e,"S",function(){return wo}),n.d(e,"T",function(){return jt}),n.d(e,"U",function(){return _a}),n.d(e,"V",function(){return sn}),n.d(e,"W",function(){return ya}),n.d(e,"X",function(){return Ss}),n.d(e,"Y",function(){return gs}),n.d(e,"Z",function(){return Ja}),n.d(e,"ab",function(){return j}),n.d(e,"bb",function(){return Co}),n.d(e,"cb",function(){return g}),n.d(e,"db",function(){return a}),n.d(e,"eb",function(){return Sr}),n.d(e,"fb",function(){return nn}),n.d(e,"gb",function(){return ha}),n.d(e,"hb",function(){return $r}),n.d(e,"ib",function(){return Kr}),n.d(e,"jb",function(){return nt}),n.d(e,"kb",function(){return ol}),n.d(e,"lb",function(){return ma}),n.d(e,"mb",function(){return r}),n.d(e,"nb",function(){return T}),n.d(e,"ob",function(){return Vo}),n.d(e,"pb",function(){return v}),n.d(e,"qb",function(){return b}),n.d(e,"rb",function(){return M}),n.d(e,"sb",function(){return k}),n.d(e,"tb",function(){return Oo}),n.d(e,"ub",function(){return br}),n.d(e,"vb",function(){return S});const i={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},r={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},s=0,o=2,a=1e3,l=1001,c=1002,h=1003,u=1004,d=1005,p=1006,f=1007,m=1008,g=1022,y=2300,_=2301,b=1,v=2,S=3001,T=0;function x(){}Object.assign(x.prototype,{addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;const n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)},removeEventListener:function(t,e){if(void 0===this._listeners)return;const n=this._listeners[t];if(void 0!==n){const t=n.indexOf(e);-1!==t&&n.splice(t,1)}},dispatchEvent:function(t){if(void 0===this._listeners)return;const e=this._listeners[t.type];if(void 0!==e){t.target=this;const n=e.slice(0);for(let e=0,i=n.length;e<i;e++)n[e].call(this,t)}}});const w=[];for(let gl=0;gl<256;gl++)w[gl]=(gl<16?"0":"")+gl.toString(16);let E=1234567;const C={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){const t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(w[255&t]+w[t>>8&255]+w[t>>16&255]+w[t>>24&255]+"-"+w[255&e]+w[e>>8&255]+"-"+w[e>>16&15|64]+w[e>>24&255]+"-"+w[63&n|128]+w[n>>8&255]+"-"+w[n>>16&255]+w[n>>24&255]+w[255&i]+w[i>>8&255]+w[i>>16&255]+w[i>>24&255]).toUpperCase()},clamp:function(t,e,n){return Math.max(e,Math.min(n,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,n,i,r){return i+(t-e)*(r-i)/(n-e)},lerp:function(t,e,n){return(1-n)*t+n*e},damp:function(t,e,n,i){return C.lerp(t,e,1-Math.exp(-n*i))},pingpong:function(t,e=1){return e-Math.abs(C.euclideanModulo(t,2*e)-e)},smoothstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*(3-2*t)},smootherstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},seededRandom:function(t){return void 0!==t&&(E=t%2147483647),E=16807*E%2147483647,(E-1)/2147483646},degToRad:function(t){return t*C.DEG2RAD},radToDeg:function(t){return t*C.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))},setQuaternionFromProperEuler:function(t,e,n,i,r){const s=Math.cos,o=Math.sin,a=s(n/2),l=o(n/2),c=s((e+i)/2),h=o((e+i)/2),u=s((e-i)/2),d=o((e-i)/2),p=s((i-e)/2),f=o((i-e)/2);switch(r){case"XYX":t.set(a*h,l*u,l*d,a*c);break;case"YZY":t.set(l*d,a*h,l*u,a*c);break;case"ZXZ":t.set(l*u,l*d,a*h,a*c);break;case"XZX":t.set(a*h,l*f,l*p,a*c);break;case"YXY":t.set(l*p,a*h,l*f,a*c);break;case"ZYZ":t.set(l*f,l*p,a*h,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}};class M{constructor(t=0,e=0){Object.defineProperty(this,"isVector2",{value:!0}),this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,n=this.y,i=t.elements;return this.x=i[0]*e+i[3]*n+i[6],this.y=i[1]*e+i[4]*n+i[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y;return e*e+n*n}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const n=Math.cos(e),i=Math.sin(e),r=this.x-t.x,s=this.y-t.y;return this.x=r*n-s*i+t.x,this.y=r*i+s*n+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}}class O{constructor(){Object.defineProperty(this,"isMatrix3",{value:!0}),this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(t,e,n,i,r,s,o,a,l){const c=this.elements;return c[0]=t,c[1]=i,c[2]=o,c[3]=e,c[4]=r,c[5]=a,c[6]=n,c[7]=s,c[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}clone(){return(new this.constructor).fromArray(this.elements)}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this}extractBasis(t,e,n){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const n=t.elements,i=e.elements,r=this.elements,s=n[0],o=n[3],a=n[6],l=n[1],c=n[4],h=n[7],u=n[2],d=n[5],p=n[8],f=i[0],m=i[3],g=i[6],y=i[1],_=i[4],b=i[7],v=i[2],S=i[5],T=i[8];return r[0]=s*f+o*y+a*v,r[3]=s*m+o*_+a*S,r[6]=s*g+o*b+a*T,r[1]=l*f+c*y+h*v,r[4]=l*m+c*_+h*S,r[7]=l*g+c*b+h*T,r[2]=u*f+d*y+p*v,r[5]=u*m+d*_+p*S,r[8]=u*g+d*b+p*T,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],s=t[4],o=t[5],a=t[6],l=t[7],c=t[8];return e*s*c-e*o*l-n*r*c+n*o*a+i*r*l-i*s*a}invert(){const t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],s=t[4],o=t[5],a=t[6],l=t[7],c=t[8],h=c*s-o*l,u=o*a-c*r,d=l*r-s*a,p=e*h+n*u+i*d;if(0===p)return this.set(0,0,0,0,0,0,0,0,0);const f=1/p;return t[0]=h*f,t[1]=(i*l-c*n)*f,t[2]=(o*n-i*s)*f,t[3]=u*f,t[4]=(c*e-i*a)*f,t[5]=(i*r-o*e)*f,t[6]=d*f,t[7]=(n*a-l*e)*f,t[8]=(s*e-n*r)*f,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).copy(this).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,n,i,r,s,o){const a=Math.cos(r),l=Math.sin(r);return this.set(n*a,n*l,-n*(a*s+l*o)+s+t,-i*l,i*a,-i*(-l*s+a*o)+o+e,0,0,1),this}scale(t,e){const n=this.elements;return n[0]*=t,n[3]*=t,n[6]*=t,n[1]*=e,n[4]*=e,n[7]*=e,this}rotate(t){const e=Math.cos(t),n=Math.sin(t),i=this.elements,r=i[0],s=i[3],o=i[6],a=i[1],l=i[4],c=i[7];return i[0]=e*r+n*a,i[3]=e*s+n*l,i[6]=e*o+n*c,i[1]=-n*r+e*a,i[4]=-n*s+e*l,i[7]=-n*o+e*c,this}translate(t,e){const n=this.elements;return n[0]+=t*n[2],n[3]+=t*n[5],n[6]+=t*n[8],n[1]+=e*n[2],n[4]+=e*n[5],n[7]+=e*n[8],this}equals(t){const e=this.elements,n=t.elements;for(let i=0;i<9;i++)if(e[i]!==n[i])return!1;return!0}fromArray(t,e=0){for(let n=0;n<9;n++)this.elements[n]=t[n+e];return this}toArray(t=[],e=0){const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}}let A;const I={getDataURL:function(t){if(/^data:/i.test(t.src))return t.src;if("undefined"==typeof HTMLCanvasElement)return t.src;let e;if(t instanceof HTMLCanvasElement)e=t;else{void 0===A&&(A=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),A.width=t.width,A.height=t.height;const n=A.getContext("2d");t instanceof ImageData?n.putImageData(t,0,0):n.drawImage(t,0,0,t.width,t.height),e=A}return e.width>2048||e.height>2048?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")}};let R=0;function L(t=L.DEFAULT_IMAGE,e=L.DEFAULT_MAPPING,n=l,i=l,r=p,s=m,o=1023,a=1009,c=1,h=3e3){Object.defineProperty(this,"id",{value:R++}),this.uuid=C.generateUUID(),this.name="",this.image=t,this.mipmaps=[],this.mapping=e,this.wrapS=n,this.wrapT=i,this.magFilter=r,this.minFilter=s,this.anisotropy=c,this.format=o,this.internalFormat=null,this.type=a,this.offset=new M(0,0),this.repeat=new M(1,1),this.center=new M(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new O,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=h,this.version=0,this.onUpdate=null}function P(t){return"undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap?I.getDataURL(t):t.data?{data:Array.prototype.slice.call(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}L.DEFAULT_IMAGE=void 0,L.DEFAULT_MAPPING=300,L.prototype=Object.assign(Object.create(x.prototype),{constructor:L,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.name=t.name,this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){const e=void 0===t||"string"==typeof t;if(!e&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];const n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){const i=this.image;if(void 0===i.uuid&&(i.uuid=C.generateUUID()),!e&&void 0===t.images[i.uuid]){let e;if(Array.isArray(i)){e=[];for(let t=0,n=i.length;t<n;t++)e.push(P(i[t].isDataTexture?i[t].image:i[t]))}else e=P(i);t.images[i.uuid]={uuid:i.uuid,url:e}}n.image=i.uuid}return e||(t.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(300!==this.mapping)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case a:t.x=t.x-Math.floor(t.x);break;case l:t.x=t.x<0?0:1;break;case c:t.x=1===Math.abs(Math.floor(t.x)%2)?Math.ceil(t.x)-t.x:t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case a:t.y=t.y-Math.floor(t.y);break;case l:t.y=t.y<0?0:1;break;case c:t.y=1===Math.abs(Math.floor(t.y)%2)?Math.ceil(t.y)-t.y:t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}}),Object.defineProperty(L.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}});class D{constructor(t=0,e=0,n=0,i=1){Object.defineProperty(this,"isVector4",{value:!0}),this.x=t,this.y=e,this.z=n,this.w=i}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,n,i){return this.x=t,this.y=e,this.z=n,this.w=i,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,n=this.y,i=this.z,r=this.w,s=t.elements;return this.x=s[0]*e+s[4]*n+s[8]*i+s[12]*r,this.y=s[1]*e+s[5]*n+s[9]*i+s[13]*r,this.z=s[2]*e+s[6]*n+s[10]*i+s[14]*r,this.w=s[3]*e+s[7]*n+s[11]*i+s[15]*r,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,n,i,r;const s=t.elements,o=s[0],a=s[4],l=s[8],c=s[1],h=s[5],u=s[9],d=s[2],p=s[6],f=s[10];if(Math.abs(a-c)<.01&&Math.abs(l-d)<.01&&Math.abs(u-p)<.01){if(Math.abs(a+c)<.1&&Math.abs(l+d)<.1&&Math.abs(u+p)<.1&&Math.abs(o+h+f-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;const t=(o+1)/2,s=(h+1)/2,m=(f+1)/2,g=(a+c)/4,y=(l+d)/4,_=(u+p)/4;return t>s&&t>m?t<.01?(n=0,i=.707106781,r=.707106781):(n=Math.sqrt(t),i=g/n,r=y/n):s>m?s<.01?(n=.707106781,i=0,r=.707106781):(i=Math.sqrt(s),n=g/i,r=_/i):m<.01?(n=.707106781,i=.707106781,r=0):(r=Math.sqrt(m),n=y/r,i=_/r),this.set(n,i,r,e),this}let m=Math.sqrt((p-u)*(p-u)+(l-d)*(l-d)+(c-a)*(c-a));return Math.abs(m)<.001&&(m=1),this.x=(p-u)/m,this.y=(l-d)/m,this.z=(c-a)/m,this.w=Math.acos((o+h+f-1)/2),this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this.w=Math.max(t,Math.min(e,this.w)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this.w=t.w+(e.w-t.w)*n,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}class N extends x{constructor(t,e,n){super(),Object.defineProperty(this,"isWebGLRenderTarget",{value:!0}),this.width=t,this.height=e,this.scissor=new D(0,0,t,e),this.scissorTest=!1,this.viewport=new D(0,0,t,e),this.texture=new L(void 0,(n=n||{}).mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.image={},this.texture.image.width=t,this.texture.image.height=e,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:p,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0!==n.stencilBuffer&&n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}setSize(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.texture.image.width=t,this.texture.image.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}clone(){return(new this.constructor).copy(this)}copy(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this}dispose(){this.dispatchEvent({type:"dispose"})}}class j{constructor(t=0,e=0,n=0,i=1){Object.defineProperty(this,"isQuaternion",{value:!0}),this._x=t,this._y=e,this._z=n,this._w=i}static slerp(t,e,n,i){return n.copy(t).slerp(e,i)}static slerpFlat(t,e,n,i,r,s,o){let a=n[i+0],l=n[i+1],c=n[i+2],h=n[i+3];const u=r[s+0],d=r[s+1],p=r[s+2],f=r[s+3];if(h!==f||a!==u||l!==d||c!==p){let t=1-o;const e=a*u+l*d+c*p+h*f,n=e>=0?1:-1,i=1-e*e;if(i>Number.EPSILON){const r=Math.sqrt(i),s=Math.atan2(r,e*n);t=Math.sin(t*s)/r,o=Math.sin(o*s)/r}const r=o*n;if(a=a*t+u*r,l=l*t+d*r,c=c*t+p*r,h=h*t+f*r,t===1-o){const t=1/Math.sqrt(a*a+l*l+c*c+h*h);a*=t,l*=t,c*=t,h*=t}}t[e]=a,t[e+1]=l,t[e+2]=c,t[e+3]=h}static multiplyQuaternionsFlat(t,e,n,i,r,s){const o=n[i],a=n[i+1],l=n[i+2],c=n[i+3],h=r[s],u=r[s+1],d=r[s+2],p=r[s+3];return t[e]=o*p+c*h+a*d-l*u,t[e+1]=a*p+c*u+l*h-o*d,t[e+2]=l*p+c*d+o*u-a*h,t[e+3]=c*p-o*h-a*u-l*d,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,n,i){return this._x=t,this._y=e,this._z=n,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const n=t._x,i=t._y,r=t._z,s=t._order,o=Math.cos,a=Math.sin,l=o(n/2),c=o(i/2),h=o(r/2),u=a(n/2),d=a(i/2),p=a(r/2);switch(s){case"XYZ":this._x=u*c*h+l*d*p,this._y=l*d*h-u*c*p,this._z=l*c*p+u*d*h,this._w=l*c*h-u*d*p;break;case"YXZ":this._x=u*c*h+l*d*p,this._y=l*d*h-u*c*p,this._z=l*c*p-u*d*h,this._w=l*c*h+u*d*p;break;case"ZXY":this._x=u*c*h-l*d*p,this._y=l*d*h+u*c*p,this._z=l*c*p+u*d*h,this._w=l*c*h-u*d*p;break;case"ZYX":this._x=u*c*h-l*d*p,this._y=l*d*h+u*c*p,this._z=l*c*p-u*d*h,this._w=l*c*h+u*d*p;break;case"YZX":this._x=u*c*h+l*d*p,this._y=l*d*h+u*c*p,this._z=l*c*p-u*d*h,this._w=l*c*h-u*d*p;break;case"XZY":this._x=u*c*h-l*d*p,this._y=l*d*h-u*c*p,this._z=l*c*p+u*d*h,this._w=l*c*h+u*d*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return!1!==e&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const n=e/2,i=Math.sin(n);return this._x=t.x*i,this._y=t.y*i,this._z=t.z*i,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,n=e[0],i=e[4],r=e[8],s=e[1],o=e[5],a=e[9],l=e[2],c=e[6],h=e[10],u=n+o+h;if(u>0){const t=.5/Math.sqrt(u+1);this._w=.25/t,this._x=(c-a)*t,this._y=(r-l)*t,this._z=(s-i)*t}else if(n>o&&n>h){const t=2*Math.sqrt(1+n-o-h);this._w=(c-a)/t,this._x=.25*t,this._y=(i+s)/t,this._z=(r+l)/t}else if(o>h){const t=2*Math.sqrt(1+o-n-h);this._w=(r-l)/t,this._x=(i+s)/t,this._y=.25*t,this._z=(a+c)/t}else{const t=2*Math.sqrt(1+h-n-o);this._w=(s-i)/t,this._x=(r+l)/t,this._y=(a+c)/t,this._z=.25*t}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let n=t.dot(e)+1;return n<1e-6?(n=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=n):(this._x=0,this._y=-t.z,this._z=t.y,this._w=n)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=n),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(C.clamp(this.dot(t),-1,1)))}rotateTowards(t,e){const n=this.angleTo(t);if(0===n)return this;const i=Math.min(1,e/n);return this.slerp(t,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const n=t._x,i=t._y,r=t._z,s=t._w,o=e._x,a=e._y,l=e._z,c=e._w;return this._x=n*c+s*o+i*l-r*a,this._y=i*c+s*a+r*o-n*l,this._z=r*c+s*l+n*a-i*o,this._w=s*c-n*o-i*a-r*l,this._onChangeCallback(),this}slerp(t,e){if(0===e)return this;if(1===e)return this.copy(t);const n=this._x,i=this._y,r=this._z,s=this._w;let o=s*t._w+n*t._x+i*t._y+r*t._z;if(o<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,o=-o):this.copy(t),o>=1)return this._w=s,this._x=n,this._y=i,this._z=r,this;const a=1-o*o;if(a<=Number.EPSILON){const t=1-e;return this._w=t*s+e*this._w,this._x=t*n+e*this._x,this._y=t*i+e*this._y,this._z=t*r+e*this._z,this.normalize(),this._onChangeCallback(),this}const l=Math.sqrt(a),c=Math.atan2(l,o),h=Math.sin((1-e)*c)/l,u=Math.sin(e*c)/l;return this._w=s*h+this._w*u,this._x=n*h+this._x*u,this._y=i*h+this._y*u,this._z=r*h+this._z*u,this._onChangeCallback(),this}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}}class k{constructor(t=0,e=0,n=0){Object.defineProperty(this,"isVector3",{value:!0}),this.x=t,this.y=e,this.z=n}set(t,e,n){return void 0===n&&(n=this.z),this.x=t,this.y=e,this.z=n,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(U.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(U.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,n=this.y,i=this.z,r=t.elements;return this.x=r[0]*e+r[3]*n+r[6]*i,this.y=r[1]*e+r[4]*n+r[7]*i,this.z=r[2]*e+r[5]*n+r[8]*i,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,n=this.y,i=this.z,r=t.elements,s=1/(r[3]*e+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*e+r[4]*n+r[8]*i+r[12])*s,this.y=(r[1]*e+r[5]*n+r[9]*i+r[13])*s,this.z=(r[2]*e+r[6]*n+r[10]*i+r[14])*s,this}applyQuaternion(t){const e=this.x,n=this.y,i=this.z,r=t.x,s=t.y,o=t.z,a=t.w,l=a*e+s*i-o*n,c=a*n+o*e-r*i,h=a*i+r*n-s*e,u=-r*e-s*n-o*i;return this.x=l*a+u*-r+c*-o-h*-s,this.y=c*a+u*-s+h*-r-l*-o,this.z=h*a+u*-o+l*-s-c*-r,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,n=this.y,i=this.z,r=t.elements;return this.x=r[0]*e+r[4]*n+r[8]*i,this.y=r[1]*e+r[5]*n+r[9]*i,this.z=r[2]*e+r[6]*n+r[10]*i,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this}cross(t,e){return void 0!==e?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e)):this.crossVectors(this,t)}crossVectors(t,e){const n=t.x,i=t.y,r=t.z,s=e.x,o=e.y,a=e.z;return this.x=i*a-r*o,this.y=r*s-n*a,this.z=n*o-i*s,this}projectOnVector(t){const e=t.lengthSq();if(0===e)return this.set(0,0,0);const n=t.dot(this)/e;return this.copy(t).multiplyScalar(n)}projectOnPlane(t){return F.copy(this).projectOnVector(t),this.sub(F)}reflect(t){return this.sub(F.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const n=this.dot(t)/e;return Math.acos(C.clamp(n,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y,i=this.z-t.z;return e*e+n*n+i*i}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,n){const i=Math.sin(e)*t;return this.x=i*Math.sin(n),this.y=Math.cos(e)*t,this.z=i*Math.cos(n),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,n){return this.x=t*Math.sin(e),this.y=n,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),i=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=i,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,4*e)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,3*e)}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}const F=new k,U=new j;class G{constructor(t,e){Object.defineProperty(this,"isBox3",{value:!0}),this.min=void 0!==t?t:new k(1/0,1/0,1/0),this.max=void 0!==e?e:new k(-1/0,-1/0,-1/0)}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){let e=1/0,n=1/0,i=1/0,r=-1/0,s=-1/0,o=-1/0;for(let a=0,l=t.length;a<l;a+=3){const l=t[a],c=t[a+1],h=t[a+2];l<e&&(e=l),c<n&&(n=c),h<i&&(i=h),l>r&&(r=l),c>s&&(s=c),h>o&&(o=h)}return this.min.set(e,n,i),this.max.set(r,s,o),this}setFromBufferAttribute(t){let e=1/0,n=1/0,i=1/0,r=-1/0,s=-1/0,o=-1/0;for(let a=0,l=t.count;a<l;a++){const l=t.getX(a),c=t.getY(a),h=t.getZ(a);l<e&&(e=l),c<n&&(n=c),h<i&&(i=h),l>r&&(r=l),c>s&&(s=c),h>o&&(o=h)}return this.min.set(e,n,i),this.max.set(r,s,o),this}setFromPoints(t){this.makeEmpty();for(let e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const n=z.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}setFromObject(t){return this.makeEmpty(),this.expandByObject(t)}clone(){return(new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return void 0===t&&(console.warn("THREE.Box3: .getCenter() target is now required"),t=new k),this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return void 0===t&&(console.warn("THREE.Box3: .getSize() target is now required"),t=new k),this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t){t.updateWorldMatrix(!1,!1);const e=t.geometry;void 0!==e&&(null===e.boundingBox&&e.computeBoundingBox(),H.copy(e.boundingBox),H.applyMatrix4(t.matrixWorld),this.union(H));const n=t.children;for(let i=0,r=n.length;i<r;i++)this.expandByObject(n[i]);return this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return void 0===e&&(console.warn("THREE.Box3: .getParameter() target is now required"),e=new k),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,z),z.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=-t.constant&&n>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(J),Q.subVectors(this.max,J),X.subVectors(t.a,J),q.subVectors(t.b,J),W.subVectors(t.c,J),Y.subVectors(q,X),K.subVectors(W,q),Z.subVectors(X,W);let e=[0,-Y.z,Y.y,0,-K.z,K.y,0,-Z.z,Z.y,Y.z,0,-Y.x,K.z,0,-K.x,Z.z,0,-Z.x,-Y.y,Y.x,0,-K.y,K.x,0,-Z.y,Z.x,0];return!!V(e,X,q,W,Q)&&(e=[1,0,0,0,1,0,0,0,1],!!V(e,X,q,W,Q)&&($.crossVectors(Y,K),e=[$.x,$.y,$.z],V(e,X,q,W,Q)))}clampPoint(t,e){return void 0===e&&(console.warn("THREE.Box3: .clampPoint() target is now required"),e=new k),e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return z.copy(t).clamp(this.min,this.max).sub(t).length()}getBoundingSphere(t){return void 0===t&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(t.center),t.radius=.5*this.getSize(z).length(),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()||(B[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),B[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),B[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),B[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),B[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),B[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),B[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),B[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(B)),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}function V(t,e,n,i,r){for(let s=0,o=t.length-3;s<=o;s+=3){tt.fromArray(t,s);const o=r.x*Math.abs(tt.x)+r.y*Math.abs(tt.y)+r.z*Math.abs(tt.z),a=e.dot(tt),l=n.dot(tt),c=i.dot(tt);if(Math.max(-Math.max(a,l,c),Math.min(a,l,c))>o)return!1}return!0}const B=[new k,new k,new k,new k,new k,new k,new k,new k],z=new k,H=new G,X=new k,q=new k,W=new k,Y=new k,K=new k,Z=new k,J=new k,Q=new k,$=new k,tt=new k,et=new G;class nt{constructor(t,e){this.center=void 0!==t?t:new k,this.radius=void 0!==e?e:-1}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const n=this.center;void 0!==e?n.copy(e):et.setFromPoints(t).getCenter(n);let i=0;for(let r=0,s=t.length;r<s;r++)i=Math.max(i,n.distanceToSquared(t[r]));return this.radius=Math.sqrt(i),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const n=this.center.distanceToSquared(t);return void 0===e&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),e=new k),e.copy(t),n>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return void 0===t&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),t=new G),this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}}const it=new k,rt=new k,st=new k,ot=new k,at=new k,lt=new k,ct=new k;class ht{constructor(t,e){this.origin=void 0!==t?t:new k,this.direction=void 0!==e?e:new k(0,0,-1)}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return void 0===e&&(console.warn("THREE.Ray: .at() target is now required"),e=new k),e.copy(this.direction).multiplyScalar(t).add(this.origin)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,it)),this}closestPointToPoint(t,e){void 0===e&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),e=new k),e.subVectors(t,this.origin);const n=e.dot(this.direction);return n<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(n).add(this.origin)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=it.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(it.copy(this.direction).multiplyScalar(e).add(this.origin),it.distanceToSquared(t))}distanceSqToSegment(t,e,n,i){rt.copy(t).add(e).multiplyScalar(.5),st.copy(e).sub(t).normalize(),ot.copy(this.origin).sub(rt);const r=.5*t.distanceTo(e),s=-this.direction.dot(st),o=ot.dot(this.direction),a=-ot.dot(st),l=ot.lengthSq(),c=Math.abs(1-s*s);let h,u,d,p;if(c>0)if(h=s*a-o,u=s*o-a,p=r*c,h>=0)if(u>=-p)if(u<=p){const t=1/c;h*=t,u*=t,d=h*(h+s*u+2*o)+u*(s*h+u+2*a)+l}else u=r,h=Math.max(0,-(s*u+o)),d=-h*h+u*(u+2*a)+l;else u=-r,h=Math.max(0,-(s*u+o)),d=-h*h+u*(u+2*a)+l;else u<=-p?(h=Math.max(0,-(-s*r+o)),u=h>0?-r:Math.min(Math.max(-r,-a),r),d=-h*h+u*(u+2*a)+l):u<=p?(h=0,u=Math.min(Math.max(-r,-a),r),d=u*(u+2*a)+l):(h=Math.max(0,-(s*r+o)),u=h>0?r:Math.min(Math.max(-r,-a),r),d=-h*h+u*(u+2*a)+l);else u=s>0?-r:r,h=Math.max(0,-(s*u+o)),d=-h*h+u*(u+2*a)+l;return n&&n.copy(this.direction).multiplyScalar(h).add(this.origin),i&&i.copy(st).multiplyScalar(u).add(rt),d}intersectSphere(t,e){it.subVectors(t.center,this.origin);const n=it.dot(this.direction),i=it.dot(it)-n*n,r=t.radius*t.radius;if(i>r)return null;const s=Math.sqrt(r-i),o=n-s,a=n+s;return o<0&&a<0?null:this.at(o<0?a:o,e)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null}intersectPlane(t,e){const n=this.distanceToPlane(t);return null===n?null:this.at(n,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0}intersectBox(t,e){let n,i,r,s,o,a;const l=1/this.direction.x,c=1/this.direction.y,h=1/this.direction.z,u=this.origin;return l>=0?(n=(t.min.x-u.x)*l,i=(t.max.x-u.x)*l):(n=(t.max.x-u.x)*l,i=(t.min.x-u.x)*l),c>=0?(r=(t.min.y-u.y)*c,s=(t.max.y-u.y)*c):(r=(t.max.y-u.y)*c,s=(t.min.y-u.y)*c),n>s||r>i?null:((r>n||n!=n)&&(n=r),(s<i||i!=i)&&(i=s),h>=0?(o=(t.min.z-u.z)*h,a=(t.max.z-u.z)*h):(o=(t.max.z-u.z)*h,a=(t.min.z-u.z)*h),n>a||o>i?null:((o>n||n!=n)&&(n=o),(a<i||i!=i)&&(i=a),i<0?null:this.at(n>=0?n:i,e)))}intersectsBox(t){return null!==this.intersectBox(t,it)}intersectTriangle(t,e,n,i,r){at.subVectors(e,t),lt.subVectors(n,t),ct.crossVectors(at,lt);let s,o=this.direction.dot(ct);if(o>0){if(i)return null;s=1}else{if(!(o<0))return null;s=-1,o=-o}ot.subVectors(this.origin,t);const a=s*this.direction.dot(lt.crossVectors(ot,lt));if(a<0)return null;const l=s*this.direction.dot(at.cross(ot));if(l<0)return null;if(a+l>o)return null;const c=-s*ot.dot(ct);return c<0?null:this.at(c/o,r)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}}class ut{constructor(){Object.defineProperty(this,"isMatrix4",{value:!0}),this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(t,e,n,i,r,s,o,a,l,c,h,u,d,p,f,m){const g=this.elements;return g[0]=t,g[4]=e,g[8]=n,g[12]=i,g[1]=r,g[5]=s,g[9]=o,g[13]=a,g[2]=l,g[6]=c,g[10]=h,g[14]=u,g[3]=d,g[7]=p,g[11]=f,g[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new ut).fromArray(this.elements)}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this}copyPosition(t){const e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,n=t.elements,i=1/dt.setFromMatrixColumn(t,0).length(),r=1/dt.setFromMatrixColumn(t,1).length(),s=1/dt.setFromMatrixColumn(t,2).length();return e[0]=n[0]*i,e[1]=n[1]*i,e[2]=n[2]*i,e[3]=0,e[4]=n[4]*r,e[5]=n[5]*r,e[6]=n[6]*r,e[7]=0,e[8]=n[8]*s,e[9]=n[9]*s,e[10]=n[10]*s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const e=this.elements,n=t.x,i=t.y,r=t.z,s=Math.cos(n),o=Math.sin(n),a=Math.cos(i),l=Math.sin(i),c=Math.cos(r),h=Math.sin(r);if("XYZ"===t.order){const t=s*c,n=s*h,i=o*c,r=o*h;e[0]=a*c,e[4]=-a*h,e[8]=l,e[1]=n+i*l,e[5]=t-r*l,e[9]=-o*a,e[2]=r-t*l,e[6]=i+n*l,e[10]=s*a}else if("YXZ"===t.order){const t=a*c,n=a*h,i=l*c,r=l*h;e[0]=t+r*o,e[4]=i*o-n,e[8]=s*l,e[1]=s*h,e[5]=s*c,e[9]=-o,e[2]=n*o-i,e[6]=r+t*o,e[10]=s*a}else if("ZXY"===t.order){const t=a*c,n=a*h,i=l*c,r=l*h;e[0]=t-r*o,e[4]=-s*h,e[8]=i+n*o,e[1]=n+i*o,e[5]=s*c,e[9]=r-t*o,e[2]=-s*l,e[6]=o,e[10]=s*a}else if("ZYX"===t.order){const t=s*c,n=s*h,i=o*c,r=o*h;e[0]=a*c,e[4]=i*l-n,e[8]=t*l+r,e[1]=a*h,e[5]=r*l+t,e[9]=n*l-i,e[2]=-l,e[6]=o*a,e[10]=s*a}else if("YZX"===t.order){const t=s*a,n=s*l,i=o*a,r=o*l;e[0]=a*c,e[4]=r-t*h,e[8]=i*h+n,e[1]=h,e[5]=s*c,e[9]=-o*c,e[2]=-l*c,e[6]=n*h+i,e[10]=t-r*h}else if("XZY"===t.order){const t=s*a,n=s*l,i=o*a,r=o*l;e[0]=a*c,e[4]=-h,e[8]=l*c,e[1]=t*h+r,e[5]=s*c,e[9]=n*h-i,e[2]=i*h-n,e[6]=o*c,e[10]=r*h+t}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(ft,t,mt)}lookAt(t,e,n){const i=this.elements;return _t.subVectors(t,e),0===_t.lengthSq()&&(_t.z=1),_t.normalize(),gt.crossVectors(n,_t),0===gt.lengthSq()&&(1===Math.abs(n.z)?_t.x+=1e-4:_t.z+=1e-4,_t.normalize(),gt.crossVectors(n,_t)),gt.normalize(),yt.crossVectors(_t,gt),i[0]=gt.x,i[4]=yt.x,i[8]=_t.x,i[1]=gt.y,i[5]=yt.y,i[9]=_t.y,i[2]=gt.z,i[6]=yt.z,i[10]=_t.z,this}multiply(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const n=t.elements,i=e.elements,r=this.elements,s=n[0],o=n[4],a=n[8],l=n[12],c=n[1],h=n[5],u=n[9],d=n[13],p=n[2],f=n[6],m=n[10],g=n[14],y=n[3],_=n[7],b=n[11],v=n[15],S=i[0],T=i[4],x=i[8],w=i[12],E=i[1],C=i[5],M=i[9],O=i[13],A=i[2],I=i[6],R=i[10],L=i[14],P=i[3],D=i[7],N=i[11],j=i[15];return r[0]=s*S+o*E+a*A+l*P,r[4]=s*T+o*C+a*I+l*D,r[8]=s*x+o*M+a*R+l*N,r[12]=s*w+o*O+a*L+l*j,r[1]=c*S+h*E+u*A+d*P,r[5]=c*T+h*C+u*I+d*D,r[9]=c*x+h*M+u*R+d*N,r[13]=c*w+h*O+u*L+d*j,r[2]=p*S+f*E+m*A+g*P,r[6]=p*T+f*C+m*I+g*D,r[10]=p*x+f*M+m*R+g*N,r[14]=p*w+f*O+m*L+g*j,r[3]=y*S+_*E+b*A+v*P,r[7]=y*T+_*C+b*I+v*D,r[11]=y*x+_*M+b*R+v*N,r[15]=y*w+_*O+b*L+v*j,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],n=t[4],i=t[8],r=t[12],s=t[1],o=t[5],a=t[9],l=t[13],c=t[2],h=t[6],u=t[10],d=t[14];return t[3]*(+r*a*h-i*l*h-r*o*u+n*l*u+i*o*d-n*a*d)+t[7]*(+e*a*d-e*l*u+r*s*u-i*s*d+i*l*c-r*a*c)+t[11]*(+e*l*h-e*o*d-r*s*h+n*s*d+r*o*c-n*l*c)+t[15]*(-i*o*c-e*a*h+e*o*u+i*s*h-n*s*u+n*a*c)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,n){const i=this.elements;return t.isVector3?(i[12]=t.x,i[13]=t.y,i[14]=t.z):(i[12]=t,i[13]=e,i[14]=n),this}invert(){const t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],s=t[4],o=t[5],a=t[6],l=t[7],c=t[8],h=t[9],u=t[10],d=t[11],p=t[12],f=t[13],m=t[14],g=t[15],y=h*m*l-f*u*l+f*a*d-o*m*d-h*a*g+o*u*g,_=p*u*l-c*m*l-p*a*d+s*m*d+c*a*g-s*u*g,b=c*f*l-p*h*l+p*o*d-s*f*d-c*o*g+s*h*g,v=p*h*a-c*f*a-p*o*u+s*f*u+c*o*m-s*h*m,S=e*y+n*_+i*b+r*v;if(0===S)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const T=1/S;return t[0]=y*T,t[1]=(f*u*r-h*m*r-f*i*d+n*m*d+h*i*g-n*u*g)*T,t[2]=(o*m*r-f*a*r+f*i*l-n*m*l-o*i*g+n*a*g)*T,t[3]=(h*a*r-o*u*r-h*i*l+n*u*l+o*i*d-n*a*d)*T,t[4]=_*T,t[5]=(c*m*r-p*u*r+p*i*d-e*m*d-c*i*g+e*u*g)*T,t[6]=(p*a*r-s*m*r-p*i*l+e*m*l+s*i*g-e*a*g)*T,t[7]=(s*u*r-c*a*r+c*i*l-e*u*l-s*i*d+e*a*d)*T,t[8]=b*T,t[9]=(p*h*r-c*f*r-p*n*d+e*f*d+c*n*g-e*h*g)*T,t[10]=(s*f*r-p*o*r+p*n*l-e*f*l-s*n*g+e*o*g)*T,t[11]=(c*o*r-s*h*r-c*n*l+e*h*l+s*n*d-e*o*d)*T,t[12]=v*T,t[13]=(c*f*i-p*h*i+p*n*u-e*f*u-c*n*m+e*h*m)*T,t[14]=(p*o*i-s*f*i-p*n*a+e*f*a+s*n*m-e*o*m)*T,t[15]=(s*h*i-c*o*i+c*n*a-e*h*a-s*n*u+e*o*u)*T,this}scale(t){const e=this.elements,n=t.x,i=t.y,r=t.z;return e[0]*=n,e[4]*=i,e[8]*=r,e[1]*=n,e[5]*=i,e[9]*=r,e[2]*=n,e[6]*=i,e[10]*=r,e[3]*=n,e[7]*=i,e[11]*=r,this}getMaxScaleOnAxis(){const t=this.elements;return Math.sqrt(Math.max(t[0]*t[0]+t[1]*t[1]+t[2]*t[2],t[4]*t[4]+t[5]*t[5]+t[6]*t[6],t[8]*t[8]+t[9]*t[9]+t[10]*t[10]))}makeTranslation(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const n=Math.cos(e),i=Math.sin(e),r=1-n,s=t.x,o=t.y,a=t.z,l=r*s,c=r*o;return this.set(l*s+n,l*o-i*a,l*a+i*o,0,l*o+i*a,c*o+n,c*a-i*s,0,l*a-i*o,c*a+i*s,r*a*a+n,0,0,0,0,1),this}makeScale(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this}makeShear(t,e,n){return this.set(1,e,n,0,t,1,n,0,t,e,1,0,0,0,0,1),this}compose(t,e,n){const i=this.elements,r=e._x,s=e._y,o=e._z,a=e._w,l=r+r,c=s+s,h=o+o,u=r*l,d=r*c,p=r*h,f=s*c,m=s*h,g=o*h,y=a*l,_=a*c,b=a*h,v=n.x,S=n.y,T=n.z;return i[0]=(1-(f+g))*v,i[1]=(d+b)*v,i[2]=(p-_)*v,i[3]=0,i[4]=(d-b)*S,i[5]=(1-(u+g))*S,i[6]=(m+y)*S,i[7]=0,i[8]=(p+_)*T,i[9]=(m-y)*T,i[10]=(1-(u+f))*T,i[11]=0,i[12]=t.x,i[13]=t.y,i[14]=t.z,i[15]=1,this}decompose(t,e,n){const i=this.elements;let r=dt.set(i[0],i[1],i[2]).length();const s=dt.set(i[4],i[5],i[6]).length(),o=dt.set(i[8],i[9],i[10]).length();this.determinant()<0&&(r=-r),t.x=i[12],t.y=i[13],t.z=i[14],pt.copy(this);const a=1/r,l=1/s,c=1/o;return pt.elements[0]*=a,pt.elements[1]*=a,pt.elements[2]*=a,pt.elements[4]*=l,pt.elements[5]*=l,pt.elements[6]*=l,pt.elements[8]*=c,pt.elements[9]*=c,pt.elements[10]*=c,e.setFromRotationMatrix(pt),n.x=r,n.y=s,n.z=o,this}makePerspective(t,e,n,i,r,s){void 0===s&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const o=this.elements,a=2*r/(n-i),l=(e+t)/(e-t),c=(n+i)/(n-i),h=-(s+r)/(s-r),u=-2*s*r/(s-r);return o[0]=2*r/(e-t),o[4]=0,o[8]=l,o[12]=0,o[1]=0,o[5]=a,o[9]=c,o[13]=0,o[2]=0,o[6]=0,o[10]=h,o[14]=u,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}makeOrthographic(t,e,n,i,r,s){const o=this.elements,a=1/(e-t),l=1/(n-i),c=1/(s-r),h=(e+t)*a,u=(n+i)*l,d=(s+r)*c;return o[0]=2*a,o[4]=0,o[8]=0,o[12]=-h,o[1]=0,o[5]=2*l,o[9]=0,o[13]=-u,o[2]=0,o[6]=0,o[10]=-2*c,o[14]=-d,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}equals(t){const e=this.elements,n=t.elements;for(let i=0;i<16;i++)if(e[i]!==n[i])return!1;return!0}fromArray(t,e=0){for(let n=0;n<16;n++)this.elements[n]=t[n+e];return this}toArray(t=[],e=0){const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}}const dt=new k,pt=new ut,ft=new k(0,0,0),mt=new k(1,1,1),gt=new k,yt=new k,_t=new k;class bt{constructor(t=0,e=0,n=0,i=bt.DefaultOrder){Object.defineProperty(this,"isEuler",{value:!0}),this._x=t,this._y=e,this._z=n,this._order=i}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,e,n,i){return this._x=t,this._y=e,this._z=n,this._order=i||this._order,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,e,n){const i=C.clamp,r=t.elements,s=r[0],o=r[4],a=r[8],l=r[1],c=r[5],h=r[9],u=r[2],d=r[6],p=r[10];switch(e=e||this._order){case"XYZ":this._y=Math.asin(i(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-h,p),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(d,c),this._z=0);break;case"YXZ":this._x=Math.asin(-i(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(a,p),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-u,s),this._z=0);break;case"ZXY":this._x=Math.asin(i(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-u,p),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-i(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(d,p),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(i(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-h,c),this._y=Math.atan2(-u,s)):(this._x=0,this._y=Math.atan2(a,p));break;case"XZY":this._z=Math.asin(-i(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(d,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-h,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,!1!==n&&this._onChangeCallback(),this}setFromQuaternion(t,e,n){return vt.makeRotationFromQuaternion(t),this.setFromRotationMatrix(vt,e,n)}setFromVector3(t,e){return this.set(t.x,t.y,t.z,e||this._order)}reorder(t){return St.setFromEuler(this),this.setFromQuaternion(St,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}toVector3(t){return t?t.set(this._x,this._y,this._z):new k(this._x,this._y,this._z)}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}}bt.DefaultOrder="XYZ",bt.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];const vt=new ut,St=new j;class Tt{constructor(){this.mask=1}set(t){this.mask=1<<t|0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return 0!=(this.mask&t.mask)}}let xt=0;const wt=new k,Et=new j,Ct=new ut,Mt=new k,Ot=new k,At=new k,It=new j,Rt=new k(1,0,0),Lt=new k(0,1,0),Pt=new k(0,0,1),Dt={type:"added"},Nt={type:"removed"};function jt(){Object.defineProperty(this,"id",{value:xt++}),this.uuid=C.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=jt.DefaultUp.clone();const t=new k,e=new bt,n=new j,i=new k(1,1,1);e._onChange(function(){n.setFromEuler(e,!1)}),n._onChange(function(){e.setFromQuaternion(n,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new ut},normalMatrix:{value:new O}}),this.matrix=new ut,this.matrixWorld=new ut,this.matrixAutoUpdate=jt.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Tt,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}jt.DefaultUp=new k(0,1,0),jt.DefaultMatrixAutoUpdate=!0,jt.prototype=Object.assign(Object.create(x.prototype),{constructor:jt,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(t){return this.quaternion.premultiply(t),this},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:function(t,e){return Et.setFromAxisAngle(t,e),this.quaternion.multiply(Et),this},rotateOnWorldAxis:function(t,e){return Et.setFromAxisAngle(t,e),this.quaternion.premultiply(Et),this},rotateX:function(t){return this.rotateOnAxis(Rt,t)},rotateY:function(t){return this.rotateOnAxis(Lt,t)},rotateZ:function(t){return this.rotateOnAxis(Pt,t)},translateOnAxis:function(t,e){return wt.copy(t).applyQuaternion(this.quaternion),this.position.add(wt.multiplyScalar(e)),this},translateX:function(t){return this.translateOnAxis(Rt,t)},translateY:function(t){return this.translateOnAxis(Lt,t)},translateZ:function(t){return this.translateOnAxis(Pt,t)},localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:function(t){return t.applyMatrix4(Ct.copy(this.matrixWorld).invert())},lookAt:function(t,e,n){t.isVector3?Mt.copy(t):Mt.set(t,e,n);const i=this.parent;this.updateWorldMatrix(!0,!1),Ot.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ct.lookAt(Ot,Mt,this.up):Ct.lookAt(Mt,Ot,this.up),this.quaternion.setFromRotationMatrix(Ct),i&&(Ct.extractRotation(i.matrixWorld),Et.setFromRotationMatrix(Ct),this.quaternion.premultiply(Et.invert()))},add:function(t){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(Dt)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)},remove:function(t){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}const e=this.children.indexOf(t);return-1!==e&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent(Nt)),this},clear:function(){for(let t=0;t<this.children.length;t++){const e=this.children[t];e.parent=null,e.dispatchEvent(Nt)}return this.children.length=0,this},attach:function(t){return this.updateWorldMatrix(!0,!1),Ct.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),Ct.multiply(t.parent.matrixWorld)),t.applyMatrix4(Ct),t.updateWorldMatrix(!1,!1),this.add(t),this},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(let n=0,i=this.children.length;n<i;n++){const i=this.children[n].getObjectByProperty(t,e);if(void 0!==i)return i}},getWorldPosition:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),t=new k),this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),t=new j),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ot,t,At),t},getWorldScale:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),t=new k),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ot,It,t),t},getWorldDirection:function(t){void 0===t&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),t=new k),this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()},raycast:function(){},traverse:function(t){t(this);const e=this.children;for(let n=0,i=e.length;n<i;n++)e[n].traverse(t)},traverseVisible:function(t){if(!1===this.visible)return;t(this);const e=this.children;for(let n=0,i=e.length;n<i;n++)e[n].traverseVisible(t)},traverseAncestors:function(t){const e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let n=0,i=e.length;n<i;n++)e[n].updateMatrixWorld(t)},updateWorldMatrix:function(t,e){const n=this.parent;if(!0===t&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===e){const t=this.children;for(let e=0,n=t.length;e<n;e++)t[e].updateWorldMatrix(!1,!0)}},toJSON:function(t){const e=void 0===t||"string"==typeof t,n={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};function r(e,n){return void 0===e[n.uuid]&&(e[n.uuid]=n.toJSON(t)),n.uuid}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),!0===this.castShadow&&(i.castShadow=!0),!0===this.receiveShadow&&(i.receiveShadow=!0),!1===this.visible&&(i.visible=!1),!1===this.frustumCulled&&(i.frustumCulled=!1),0!==this.renderOrder&&(i.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON()),this.isMesh||this.isLine||this.isPoints){i.geometry=r(t.geometries,this.geometry);const e=this.geometry.parameters;if(void 0!==e&&void 0!==e.shapes){const n=e.shapes;if(Array.isArray(n))for(let e=0,i=n.length;e<i;e++)r(t.shapes,n[e]);else r(t.shapes,n)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(r(t.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const e=[];for(let n=0,i=this.material.length;n<i;n++)e.push(r(t.materials,this.material[n]));i.material=e}else i.material=r(t.materials,this.material);if(this.children.length>0){i.children=[];for(let e=0;e<this.children.length;e++)i.children.push(this.children[e].toJSON(t).object)}if(this.animations.length>0){i.animations=[];for(let e=0;e<this.animations.length;e++)i.animations.push(r(t.animations,this.animations[e]))}if(e){const e=s(t.geometries),i=s(t.materials),r=s(t.textures),o=s(t.images),a=s(t.shapes),l=s(t.skeletons),c=s(t.animations);e.length>0&&(n.geometries=e),i.length>0&&(n.materials=i),r.length>0&&(n.textures=r),o.length>0&&(n.images=o),a.length>0&&(n.shapes=a),l.length>0&&(n.skeletons=l),c.length>0&&(n.animations=c)}return n.object=i,n;function s(t){const e=[];for(const n in t){const i=t[n];delete i.metadata,e.push(i)}return e}},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t,e=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(let n=0;n<t.children.length;n++)this.add(t.children[n].clone());return this}});const kt=new k,Ft=new k,Ut=new O;class Gt{constructor(t,e){Object.defineProperty(this,"isPlane",{value:!0}),this.normal=void 0!==t?t:new k(1,0,0),this.constant=void 0!==e?e:0}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,n,i){return this.normal.set(t,e,n),this.constant=i,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(t,e,n){const i=kt.subVectors(n,e).cross(Ft.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(i,t),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return void 0===e&&(console.warn("THREE.Plane: .projectPoint() target is now required"),e=new k),e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)}intersectLine(t,e){void 0===e&&(console.warn("THREE.Plane: .intersectLine() target is now required"),e=new k);const n=t.delta(kt),i=this.normal.dot(n);if(0===i)return 0===this.distanceToPoint(t.start)?e.copy(t.start):void 0;const r=-(t.start.dot(this.normal)+this.constant)/i;return r<0||r>1?void 0:e.copy(n).multiplyScalar(r).add(t.start)}intersectsLine(t){const e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return void 0===t&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),t=new k),t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const n=e||Ut.getNormalMatrix(t),i=this.coplanarPoint(kt).applyMatrix4(t),r=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(r),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}}const Vt=new k,Bt=new k,zt=new k,Ht=new k,Xt=new k,qt=new k,Wt=new k,Yt=new k,Kt=new k,Zt=new k;class Jt{constructor(t,e,n){this.a=void 0!==t?t:new k,this.b=void 0!==e?e:new k,this.c=void 0!==n?n:new k}static getNormal(t,e,n,i){void 0===i&&(console.warn("THREE.Triangle: .getNormal() target is now required"),i=new k),i.subVectors(n,e),Vt.subVectors(t,e),i.cross(Vt);const r=i.lengthSq();return r>0?i.multiplyScalar(1/Math.sqrt(r)):i.set(0,0,0)}static getBarycoord(t,e,n,i,r){Vt.subVectors(i,e),Bt.subVectors(n,e),zt.subVectors(t,e);const s=Vt.dot(Vt),o=Vt.dot(Bt),a=Vt.dot(zt),l=Bt.dot(Bt),c=Bt.dot(zt),h=s*l-o*o;if(void 0===r&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),r=new k),0===h)return r.set(-2,-1,-1);const u=1/h,d=(l*a-o*c)*u,p=(s*c-o*a)*u;return r.set(1-d-p,p,d)}static containsPoint(t,e,n,i){return this.getBarycoord(t,e,n,i,Ht),Ht.x>=0&&Ht.y>=0&&Ht.x+Ht.y<=1}static getUV(t,e,n,i,r,s,o,a){return this.getBarycoord(t,e,n,i,Ht),a.set(0,0),a.addScaledVector(r,Ht.x),a.addScaledVector(s,Ht.y),a.addScaledVector(o,Ht.z),a}static isFrontFacing(t,e,n,i){return Vt.subVectors(n,e),Bt.subVectors(t,e),Vt.cross(Bt).dot(i)<0}set(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this}setFromPointsAndIndices(t,e,n,i){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[i]),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return Vt.subVectors(this.c,this.b),Bt.subVectors(this.a,this.b),.5*Vt.cross(Bt).length()}getMidpoint(t){return void 0===t&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),t=new k),t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return Jt.getNormal(this.a,this.b,this.c,t)}getPlane(t){return void 0===t&&(console.warn("THREE.Triangle: .getPlane() target is now required"),t=new Gt),t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return Jt.getBarycoord(t,this.a,this.b,this.c,e)}getUV(t,e,n,i,r){return Jt.getUV(t,this.a,this.b,this.c,e,n,i,r)}containsPoint(t){return Jt.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return Jt.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){void 0===e&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),e=new k);const n=this.a,i=this.b,r=this.c;let s,o;Xt.subVectors(i,n),qt.subVectors(r,n),Yt.subVectors(t,n);const a=Xt.dot(Yt),l=qt.dot(Yt);if(a<=0&&l<=0)return e.copy(n);Kt.subVectors(t,i);const c=Xt.dot(Kt),h=qt.dot(Kt);if(c>=0&&h<=c)return e.copy(i);const u=a*h-c*l;if(u<=0&&a>=0&&c<=0)return s=a/(a-c),e.copy(n).addScaledVector(Xt,s);Zt.subVectors(t,r);const d=Xt.dot(Zt),p=qt.dot(Zt);if(p>=0&&d<=p)return e.copy(r);const f=d*l-a*p;if(f<=0&&l>=0&&p<=0)return o=l/(l-p),e.copy(n).addScaledVector(qt,o);const m=c*p-d*h;if(m<=0&&h-c>=0&&d-p>=0)return Wt.subVectors(r,i),o=(h-c)/(h-c+(d-p)),e.copy(i).addScaledVector(Wt,o);const g=1/(m+f+u);return s=f*g,o=u*g,e.copy(n).addScaledVector(Xt,s).addScaledVector(qt,o)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}const Qt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},$t={h:0,s:0,l:0},te={h:0,s:0,l:0};function ee(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+6*(e-t)*(2/3-n):t}function ne(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function ie(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}class re{constructor(t,e,n){return Object.defineProperty(this,"isColor",{value:!0}),void 0===e&&void 0===n?this.set(t):this.setRGB(t,e,n)}set(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this}setRGB(t,e,n){return this.r=t,this.g=e,this.b=n,this}setHSL(t,e,n){if(t=C.euclideanModulo(t,1),e=C.clamp(e,0,1),n=C.clamp(n,0,1),0===e)this.r=this.g=this.b=n;else{const i=n<=.5?n*(1+e):n+e-n*e,r=2*n-i;this.r=ee(r,i,t+1/3),this.g=ee(r,i,t),this.b=ee(r,i,t-1/3)}return this}setStyle(t){function e(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let n;if(n=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(t)){let t;const i=n[2];switch(n[1]){case"rgb":case"rgba":if(t=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(i))return this.r=Math.min(255,parseInt(t[1],10))/255,this.g=Math.min(255,parseInt(t[2],10))/255,this.b=Math.min(255,parseInt(t[3],10))/255,e(t[4]),this;if(t=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(i))return this.r=Math.min(100,parseInt(t[1],10))/100,this.g=Math.min(100,parseInt(t[2],10))/100,this.b=Math.min(100,parseInt(t[3],10))/100,e(t[4]),this;break;case"hsl":case"hsla":if(t=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(i)){const n=parseFloat(t[1])/360,i=parseInt(t[2],10)/100,r=parseInt(t[3],10)/100;return e(t[4]),this.setHSL(n,i,r)}}}else if(n=/^\#([A-Fa-f\d]+)$/.exec(t)){const t=n[1],e=t.length;if(3===e)return this.r=parseInt(t.charAt(0)+t.charAt(0),16)/255,this.g=parseInt(t.charAt(1)+t.charAt(1),16)/255,this.b=parseInt(t.charAt(2)+t.charAt(2),16)/255,this;if(6===e)return this.r=parseInt(t.charAt(0)+t.charAt(1),16)/255,this.g=parseInt(t.charAt(2)+t.charAt(3),16)/255,this.b=parseInt(t.charAt(4)+t.charAt(5),16)/255,this}return t&&t.length>0?this.setColorName(t):this}setColorName(t){const e=Qt[t];return void 0!==e?this.setHex(e):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copyGammaToLinear(t,e=2){return this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this}copyLinearToGamma(t,e=2){const n=e>0?1/e:1;return this.r=Math.pow(t.r,n),this.g=Math.pow(t.g,n),this.b=Math.pow(t.b,n),this}convertGammaToLinear(t){return this.copyGammaToLinear(this,t),this}convertLinearToGamma(t){return this.copyLinearToGamma(this,t),this}copySRGBToLinear(t){return this.r=ne(t.r),this.g=ne(t.g),this.b=ne(t.b),this}copyLinearToSRGB(t){return this.r=ie(t.r),this.g=ie(t.g),this.b=ie(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(t){void 0===t&&(console.warn("THREE.Color: .getHSL() target is now required"),t={h:0,s:0,l:0});const e=this.r,n=this.g,i=this.b,r=Math.max(e,n,i),s=Math.min(e,n,i);let o,a;const l=(s+r)/2;if(s===r)o=0,a=0;else{const t=r-s;switch(a=l<=.5?t/(r+s):t/(2-r-s),r){case e:o=(n-i)/t+(n<i?6:0);break;case n:o=(i-e)/t+2;break;case i:o=(e-n)/t+4}o/=6}return t.h=o,t.s=a,t.l=l,t}getStyle(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"}offsetHSL(t,e,n){return this.getHSL($t),$t.h+=t,$t.s+=e,$t.l+=n,this.setHSL($t.h,$t.s,$t.l),this}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpColors(t,e,n){return this.r=t.r+(e.r-t.r)*n,this.g=t.g+(e.g-t.g)*n,this.b=t.b+(e.b-t.b)*n,this}lerpHSL(t,e){this.getHSL($t),t.getHSL(te);const n=C.lerp($t.h,te.h,e),i=C.lerp($t.s,te.s,e),r=C.lerp($t.l,te.l,e);return this.setHSL(n,i,r),this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),!0===t.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}re.NAMES=Qt,re.prototype.r=1,re.prototype.g=1,re.prototype.b=1;class se{constructor(t,e,n,i,r,s=0){this.a=t,this.b=e,this.c=n,this.normal=i&&i.isVector3?i:new k,this.vertexNormals=Array.isArray(i)?i:[],this.color=r&&r.isColor?r:new re,this.vertexColors=Array.isArray(r)?r:[],this.materialIndex=s}clone(){return(new this.constructor).copy(this)}copy(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(let e=0,n=t.vertexNormals.length;e<n;e++)this.vertexNormals[e]=t.vertexNormals[e].clone();for(let e=0,n=t.vertexColors.length;e<n;e++)this.vertexColors[e]=t.vertexColors[e].clone();return this}}let oe=0;function ae(){Object.defineProperty(this,"id",{value:oe++}),this.uuid=C.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=1,this.side=s,this.flatShading=!1,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}function le(t){ae.call(this),this.type="MeshBasicMaterial",this.color=new re(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(t)}ae.prototype=Object.assign(Object.create(x.prototype),{constructor:ae,isMaterial:!0,onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(t){if(void 0!==t)for(const e in t){const n=t[e];if(void 0===n){console.warn("THREE.Material: '"+e+"' parameter is undefined.");continue}if("shading"===e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===n;continue}const i=this[e];void 0!==i?i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[e]=n:console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.")}},toJSON:function(t){const e=void 0===t||"string"==typeof t;e&&(t={textures:{},images:{}});const n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function i(t){const e=[];for(const n in t){const i=t[n];delete i.metadata,e.push(i)}return e}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(n.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(t).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(t).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(t).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(t).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(t).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(t).uuid,n.reflectivity=this.reflectivity,n.refractionRatio=this.refractionRatio,void 0!==this.combine&&(n.combine=this.combine),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),!0===this.flatShading&&(n.flatShading=this.flatShading),this.side!==s&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(n.morphTargets=!0),!0===this.morphNormals&&(n.morphNormals=!0),!0===this.skinning&&(n.skinning=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),e){const e=i(t.textures),r=i(t.images);e.length>0&&(n.textures=e),r.length>0&&(n.images=r)}return n},clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.blending=t.blending,this.side=t.side,this.flatShading=t.flatShading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let n=null;if(null!==e){const t=e.length;n=new Array(t);for(let i=0;i!==t;++i)n[i]=e[i].clone()}return this.clippingPlanes=n,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(ae.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),(le.prototype=Object.create(ae.prototype)).constructor=le,le.prototype.isMeshBasicMaterial=!0,le.prototype.copy=function(t){return ae.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this};const ce=new k,he=new M;function ue(t,e,n){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===n,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}function de(t,e,n){ue.call(this,new Int8Array(t),e,n)}function pe(t,e,n){ue.call(this,new Uint8Array(t),e,n)}function fe(t,e,n){ue.call(this,new Uint8ClampedArray(t),e,n)}function me(t,e,n){ue.call(this,new Int16Array(t),e,n)}function ge(t,e,n){ue.call(this,new Uint16Array(t),e,n)}function ye(t,e,n){ue.call(this,new Int32Array(t),e,n)}function _e(t,e,n){ue.call(this,new Uint32Array(t),e,n)}function be(t,e,n){ue.call(this,new Uint16Array(t),e,n)}function ve(t,e,n){ue.call(this,new Float32Array(t),e,n)}function Se(t,e,n){ue.call(this,new Float64Array(t),e,n)}function Te(t){if(0===t.length)return-1/0;let e=t[0];for(let n=1,i=t.length;n<i;++n)t[n]>e&&(e=t[n]);return e}Object.defineProperty(ue.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(ue.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(t){return this.usage=t,this},copy:function(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this},copyAt:function(t,e,n){t*=this.itemSize,n*=e.itemSize;for(let i=0,r=this.itemSize;i<r;i++)this.array[t+i]=e.array[n+i];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){const e=this.array;let n=0;for(let i=0,r=t.length;i<r;i++){let r=t[i];void 0===r&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),r=new re),e[n++]=r.r,e[n++]=r.g,e[n++]=r.b}return this},copyVector2sArray:function(t){const e=this.array;let n=0;for(let i=0,r=t.length;i<r;i++){let r=t[i];void 0===r&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),r=new M),e[n++]=r.x,e[n++]=r.y}return this},copyVector3sArray:function(t){const e=this.array;let n=0;for(let i=0,r=t.length;i<r;i++){let r=t[i];void 0===r&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),r=new k),e[n++]=r.x,e[n++]=r.y,e[n++]=r.z}return this},copyVector4sArray:function(t){const e=this.array;let n=0;for(let i=0,r=t.length;i<r;i++){let r=t[i];void 0===r&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),r=new D),e[n++]=r.x,e[n++]=r.y,e[n++]=r.z,e[n++]=r.w}return this},applyMatrix3:function(t){if(2===this.itemSize)for(let e=0,n=this.count;e<n;e++)he.fromBufferAttribute(this,e),he.applyMatrix3(t),this.setXY(e,he.x,he.y);else if(3===this.itemSize)for(let e=0,n=this.count;e<n;e++)ce.fromBufferAttribute(this,e),ce.applyMatrix3(t),this.setXYZ(e,ce.x,ce.y,ce.z);return this},applyMatrix4:function(t){for(let e=0,n=this.count;e<n;e++)ce.x=this.getX(e),ce.y=this.getY(e),ce.z=this.getZ(e),ce.applyMatrix4(t),this.setXYZ(e,ce.x,ce.y,ce.z);return this},applyNormalMatrix:function(t){for(let e=0,n=this.count;e<n;e++)ce.x=this.getX(e),ce.y=this.getY(e),ce.z=this.getZ(e),ce.applyNormalMatrix(t),this.setXYZ(e,ce.x,ce.y,ce.z);return this},transformDirection:function(t){for(let e=0,n=this.count;e<n;e++)ce.x=this.getX(e),ce.y=this.getY(e),ce.z=this.getZ(e),ce.transformDirection(t),this.setXYZ(e,ce.x,ce.y,ce.z);return this},set:function(t,e=0){return this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,n){return this.array[0+(t*=this.itemSize)]=e,this.array[t+1]=n,this},setXYZ:function(t,e,n,i){return this.array[0+(t*=this.itemSize)]=e,this.array[t+1]=n,this.array[t+2]=i,this},setXYZW:function(t,e,n,i,r){return this.array[0+(t*=this.itemSize)]=e,this.array[t+1]=n,this.array[t+2]=i,this.array[t+3]=r,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),(de.prototype=Object.create(ue.prototype)).constructor=de,(pe.prototype=Object.create(ue.prototype)).constructor=pe,(fe.prototype=Object.create(ue.prototype)).constructor=fe,(me.prototype=Object.create(ue.prototype)).constructor=me,(ge.prototype=Object.create(ue.prototype)).constructor=ge,(ye.prototype=Object.create(ue.prototype)).constructor=ye,(_e.prototype=Object.create(ue.prototype)).constructor=_e,(be.prototype=Object.create(ue.prototype)).constructor=be,be.prototype.isFloat16BufferAttribute=!0,(ve.prototype=Object.create(ue.prototype)).constructor=ve,(Se.prototype=Object.create(ue.prototype)).constructor=Se;const xe={Int8Array,Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function we(t,e){return new xe[t](e)}let Ee=0;const Ce=new ut,Me=new jt,Oe=new k,Ae=new G,Ie=new G,Re=new k;function Le(){Object.defineProperty(this,"id",{value:Ee++}),this.uuid=C.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}Le.prototype=Object.assign(Object.create(x.prototype),{constructor:Le,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){return this.index=Array.isArray(t)?new(Te(t)>65535?_e:ge)(t,1):t,this},getAttribute:function(t){return this.attributes[t]},setAttribute:function(t,e){return this.attributes[t]=e,this},deleteAttribute:function(t){return delete this.attributes[t],this},hasAttribute:function(t){return void 0!==this.attributes[t]},addGroup:function(t,e,n=0){this.groups.push({start:t,count:e,materialIndex:n})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix4:function(t){const e=this.attributes.position;void 0!==e&&(e.applyMatrix4(t),e.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const e=(new O).getNormalMatrix(t);n.applyNormalMatrix(e),n.needsUpdate=!0}const i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(t),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(t){return Ce.makeRotationX(t),this.applyMatrix4(Ce),this},rotateY:function(t){return Ce.makeRotationY(t),this.applyMatrix4(Ce),this},rotateZ:function(t){return Ce.makeRotationZ(t),this.applyMatrix4(Ce),this},translate:function(t,e,n){return Ce.makeTranslation(t,e,n),this.applyMatrix4(Ce),this},scale:function(t,e,n){return Ce.makeScale(t,e,n),this.applyMatrix4(Ce),this},lookAt:function(t){return Me.lookAt(t),Me.updateMatrix(),this.applyMatrix4(Me.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Oe).negate(),this.translate(Oe.x,Oe.y,Oe.z),this},setFromPoints:function(t){const e=[];for(let n=0,i=t.length;n<i;n++){const i=t[n];e.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new ve(e,3)),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new G);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new k(-1/0,-1/0,-1/0),new k(1/0,1/0,1/0));if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),e)for(let t=0,n=e.length;t<n;t++)Ae.setFromBufferAttribute(e[t]),this.morphTargetsRelative?(Re.addVectors(this.boundingBox.min,Ae.min),this.boundingBox.expandByPoint(Re),Re.addVectors(this.boundingBox.max,Ae.max),this.boundingBox.expandByPoint(Re)):(this.boundingBox.expandByPoint(Ae.min),this.boundingBox.expandByPoint(Ae.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new nt);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new k,1/0);if(t){const n=this.boundingSphere.center;if(Ae.setFromBufferAttribute(t),e)for(let t=0,r=e.length;t<r;t++)Ie.setFromBufferAttribute(e[t]),this.morphTargetsRelative?(Re.addVectors(Ae.min,Ie.min),Ae.expandByPoint(Re),Re.addVectors(Ae.max,Ie.max),Ae.expandByPoint(Re)):(Ae.expandByPoint(Ie.min),Ae.expandByPoint(Ie.max));Ae.getCenter(n);let i=0;for(let e=0,r=t.count;e<r;e++)Re.fromBufferAttribute(t,e),i=Math.max(i,n.distanceToSquared(Re));if(e)for(let r=0,s=e.length;r<s;r++){const s=e[r],o=this.morphTargetsRelative;for(let e=0,r=s.count;e<r;e++)Re.fromBufferAttribute(s,e),o&&(Oe.fromBufferAttribute(t,e),Re.add(Oe)),i=Math.max(i,n.distanceToSquared(Re))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeTangents:function(){const t=this.index,e=this.attributes;if(null===t||void 0===e.position||void 0===e.normal||void 0===e.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const n=t.array,i=e.position.array,r=e.normal.array,s=e.uv.array,o=i.length/3;void 0===e.tangent&&this.setAttribute("tangent",new ue(new Float32Array(4*o),4));const a=e.tangent.array,l=[],c=[];for(let E=0;E<o;E++)l[E]=new k,c[E]=new k;const h=new k,u=new k,d=new k,p=new M,f=new M,m=new M,g=new k,y=new k;function _(t,e,n){h.fromArray(i,3*t),u.fromArray(i,3*e),d.fromArray(i,3*n),p.fromArray(s,2*t),f.fromArray(s,2*e),m.fromArray(s,2*n),u.sub(h),d.sub(h),f.sub(p),m.sub(p);const r=1/(f.x*m.y-m.x*f.y);isFinite(r)&&(g.copy(u).multiplyScalar(m.y).addScaledVector(d,-f.y).multiplyScalar(r),y.copy(d).multiplyScalar(f.x).addScaledVector(u,-m.x).multiplyScalar(r),l[t].add(g),l[e].add(g),l[n].add(g),c[t].add(y),c[e].add(y),c[n].add(y))}let b=this.groups;0===b.length&&(b=[{start:0,count:n.length}]);for(let E=0,C=b.length;E<C;++E){const t=b[E],e=t.start;for(let i=e,r=e+t.count;i<r;i+=3)_(n[i+0],n[i+1],n[i+2])}const v=new k,S=new k,T=new k,x=new k;function w(t){T.fromArray(r,3*t),x.copy(T);const e=l[t];v.copy(e),v.sub(T.multiplyScalar(T.dot(e))).normalize(),S.crossVectors(x,e);const n=S.dot(c[t])<0?-1:1;a[4*t]=v.x,a[4*t+1]=v.y,a[4*t+2]=v.z,a[4*t+3]=n}for(let E=0,C=b.length;E<C;++E){const t=b[E],e=t.start;for(let i=e,r=e+t.count;i<r;i+=3)w(n[i+0]),w(n[i+1]),w(n[i+2])}},computeVertexNormals:function(){const t=this.index,e=this.getAttribute("position");if(void 0!==e){let n=this.getAttribute("normal");if(void 0===n)n=new ue(new Float32Array(3*e.count),3),this.setAttribute("normal",n);else for(let t=0,e=n.count;t<e;t++)n.setXYZ(t,0,0,0);const i=new k,r=new k,s=new k,o=new k,a=new k,l=new k,c=new k,h=new k;if(t)for(let u=0,d=t.count;u<d;u+=3){const d=t.getX(u+0),p=t.getX(u+1),f=t.getX(u+2);i.fromBufferAttribute(e,d),r.fromBufferAttribute(e,p),s.fromBufferAttribute(e,f),c.subVectors(s,r),h.subVectors(i,r),c.cross(h),o.fromBufferAttribute(n,d),a.fromBufferAttribute(n,p),l.fromBufferAttribute(n,f),o.add(c),a.add(c),l.add(c),n.setXYZ(d,o.x,o.y,o.z),n.setXYZ(p,a.x,a.y,a.z),n.setXYZ(f,l.x,l.y,l.z)}else for(let t=0,u=e.count;t<u;t+=3)i.fromBufferAttribute(e,t+0),r.fromBufferAttribute(e,t+1),s.fromBufferAttribute(e,t+2),c.subVectors(s,r),h.subVectors(i,r),c.cross(h),n.setXYZ(t+0,c.x,c.y,c.z),n.setXYZ(t+1,c.x,c.y,c.z),n.setXYZ(t+2,c.x,c.y,c.z);this.normalizeNormals(),n.needsUpdate=!0}},merge:function(t,e){if(!t||!t.isBufferGeometry)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t);void 0===e&&(e=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const n=this.attributes;for(const i in n){if(void 0===t.attributes[i])continue;const r=n[i].array,s=t.attributes[i],o=s.array,a=s.itemSize*e,l=Math.min(o.length,r.length-a);for(let t=0,e=a;t<l;t++,e++)r[e]=o[t]}return this},normalizeNormals:function(){const t=this.attributes.normal;for(let e=0,n=t.count;e<n;e++)Re.fromBufferAttribute(t,e),Re.normalize(),t.setXYZ(e,Re.x,Re.y,Re.z)},toNonIndexed:function(){function t(t,e){const n=t.array,i=t.itemSize,r=t.normalized,s=new n.constructor(e.length*i);let o=0,a=0;for(let l=0,c=e.length;l<c;l++){o=e[l]*i;for(let t=0;t<i;t++)s[a++]=n[o++]}return new ue(s,i,r)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const e=new Le,n=this.index.array,i=this.attributes;for(const o in i){const r=t(i[o],n);e.setAttribute(o,r)}const r=this.morphAttributes;for(const o in r){const i=[],s=r[o];for(let e=0,r=s.length;e<r;e++){const r=t(s[e],n);i.push(r)}e.morphAttributes[o]=i}e.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let o=0,a=s.length;o<a;o++){const t=s[o];e.addGroup(t.start,t.count,t.materialIndex)}return e},toJSON:function(){const t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){const e=this.parameters;for(const n in e)void 0!==e[n]&&(t[n]=e[n]);return t}t.data={attributes:{}};const e=this.index;null!==e&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const n=this.attributes;for(const a in n){const e=n[a],i=e.toJSON(t.data);""!==e.name&&(i.name=e.name),t.data.attributes[a]=i}const i={};let r=!1;for(const a in this.morphAttributes){const e=this.morphAttributes[a],n=[];for(let i=0,r=e.length;i<r;i++){const r=e[i],s=r.toJSON(t.data);""!==r.name&&(s.name=r.name),n.push(s)}n.length>0&&(i[a]=n,r=!0)}r&&(t.data.morphAttributes=i,t.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(t.data.groups=JSON.parse(JSON.stringify(s)));const o=this.boundingSphere;return null!==o&&(t.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),t},clone:function(){return(new Le).copy(this)},copy:function(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const n=t.index;null!==n&&this.setIndex(n.clone(e));const i=t.attributes;for(const l in i)this.setAttribute(l,i[l].clone(e));const r=t.morphAttributes;for(const l in r){const t=[],n=r[l];for(let i=0,r=n.length;i<r;i++)t.push(n[i].clone(e));this.morphAttributes[l]=t}this.morphTargetsRelative=t.morphTargetsRelative;const s=t.groups;for(let l=0,c=s.length;l<c;l++){const t=s[l];this.addGroup(t.start,t.count,t.materialIndex)}const o=t.boundingBox;null!==o&&(this.boundingBox=o.clone());const a=t.boundingSphere;return null!==a&&(this.boundingSphere=a.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});const Pe=new ut,De=new ht,Ne=new nt,je=new k,ke=new k,Fe=new k,Ue=new k,Ge=new k,Ve=new k,Be=new k,ze=new k,He=new k,Xe=new M,qe=new M,We=new M,Ye=new k,Ke=new k;function Ze(t=new Le,e=new le){jt.call(this),this.type="Mesh",this.geometry=t,this.material=e,this.updateMorphTargets()}function Je(t,e,n,i,r,s,a,l,c,h,u,d){je.fromBufferAttribute(r,h),ke.fromBufferAttribute(r,u),Fe.fromBufferAttribute(r,d);const p=t.morphTargetInfluences;if(e.morphTargets&&s&&p){Be.set(0,0,0),ze.set(0,0,0),He.set(0,0,0);for(let t=0,e=s.length;t<e;t++){const e=p[t],n=s[t];0!==e&&(Ue.fromBufferAttribute(n,h),Ge.fromBufferAttribute(n,u),Ve.fromBufferAttribute(n,d),a?(Be.addScaledVector(Ue,e),ze.addScaledVector(Ge,e),He.addScaledVector(Ve,e)):(Be.addScaledVector(Ue.sub(je),e),ze.addScaledVector(Ge.sub(ke),e),He.addScaledVector(Ve.sub(Fe),e)))}je.add(Be),ke.add(ze),Fe.add(He)}t.isSkinnedMesh&&(t.boneTransform(h,je),t.boneTransform(u,ke),t.boneTransform(d,Fe));const f=function(t,e,n,i,r,s,a,l){let c;if(c=1===e.side?i.intersectTriangle(a,s,r,!0,l):i.intersectTriangle(r,s,a,e.side!==o,l),null===c)return null;Ke.copy(l),Ke.applyMatrix4(t.matrixWorld);const h=n.ray.origin.distanceTo(Ke);return h<n.near||h>n.far?null:{distance:h,point:Ke.clone(),object:t}}(t,e,n,i,je,ke,Fe,Ye);if(f){l&&(Xe.fromBufferAttribute(l,h),qe.fromBufferAttribute(l,u),We.fromBufferAttribute(l,d),f.uv=Jt.getUV(Ye,je,ke,Fe,Xe,qe,We,new M)),c&&(Xe.fromBufferAttribute(c,h),qe.fromBufferAttribute(c,u),We.fromBufferAttribute(c,d),f.uv2=Jt.getUV(Ye,je,ke,Fe,Xe,qe,We,new M));const t=new se(h,u,d);Jt.getNormal(je,ke,Fe,t.normal),f.face=t}return f}Ze.prototype=Object.assign(Object.create(jt.prototype),{constructor:Ze,isMesh:!0,copy:function(t){return jt.prototype.copy.call(this,t),void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=t.material,this.geometry=t.geometry,this},updateMorphTargets:function(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,n=Object.keys(e);if(n.length>0){const t=e[n[0]];if(void 0!==t){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,n=t.length;e<n;e++){const n=t[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}}}else{const e=t.morphTargets;void 0!==e&&e.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(t,e){const n=this.geometry,i=this.material,r=this.matrixWorld;if(void 0===i)return;if(null===n.boundingSphere&&n.computeBoundingSphere(),Ne.copy(n.boundingSphere),Ne.applyMatrix4(r),!1===t.ray.intersectsSphere(Ne))return;if(Pe.copy(r).invert(),De.copy(t.ray).applyMatrix4(Pe),null!==n.boundingBox&&!1===De.intersectsBox(n.boundingBox))return;let s;if(n.isBufferGeometry){const r=n.index,o=n.attributes.position,a=n.morphAttributes.position,l=n.morphTargetsRelative,c=n.attributes.uv,h=n.attributes.uv2,u=n.groups,d=n.drawRange;if(null!==r)if(Array.isArray(i))for(let n=0,p=u.length;n<p;n++){const p=u[n],f=i[p.materialIndex];for(let n=Math.max(p.start,d.start),i=Math.min(p.start+p.count,d.start+d.count);n<i;n+=3){const i=r.getX(n),u=r.getX(n+1),d=r.getX(n+2);s=Je(this,f,t,De,o,a,l,c,h,i,u,d),s&&(s.faceIndex=Math.floor(n/3),s.face.materialIndex=p.materialIndex,e.push(s))}}else for(let n=Math.max(0,d.start),p=Math.min(r.count,d.start+d.count);n<p;n+=3){const u=r.getX(n),d=r.getX(n+1),p=r.getX(n+2);s=Je(this,i,t,De,o,a,l,c,h,u,d,p),s&&(s.faceIndex=Math.floor(n/3),e.push(s))}else if(void 0!==o)if(Array.isArray(i))for(let n=0,p=u.length;n<p;n++){const r=u[n],p=i[r.materialIndex];for(let n=Math.max(r.start,d.start),i=Math.min(r.start+r.count,d.start+d.count);n<i;n+=3)s=Je(this,p,t,De,o,a,l,c,h,n,n+1,n+2),s&&(s.faceIndex=Math.floor(n/3),s.face.materialIndex=r.materialIndex,e.push(s))}else for(let n=Math.max(0,d.start),p=Math.min(o.count,d.start+d.count);n<p;n+=3)s=Je(this,i,t,De,o,a,l,c,h,n,n+1,n+2),s&&(s.faceIndex=Math.floor(n/3),e.push(s))}else n.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}});class Qe extends Le{constructor(t=1,e=1,n=1,i=1,r=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:i,heightSegments:r,depthSegments:s};const o=this;i=Math.floor(i),r=Math.floor(r),s=Math.floor(s);const a=[],l=[],c=[],h=[];let u=0,d=0;function p(t,e,n,i,r,s,p,f,m,g,y){const _=s/m,b=p/g,v=s/2,S=p/2,T=f/2,x=m+1,w=g+1;let E=0,C=0;const M=new k;for(let o=0;o<w;o++){const s=o*b-S;for(let a=0;a<x;a++)M[t]=(a*_-v)*i,M[e]=s*r,M[n]=T,l.push(M.x,M.y,M.z),M[t]=0,M[e]=0,M[n]=f>0?1:-1,c.push(M.x,M.y,M.z),h.push(a/m),h.push(1-o/g),E+=1}for(let o=0;o<g;o++)for(let t=0;t<m;t++){const e=u+t+x*(o+1),n=u+(t+1)+x*(o+1),i=u+(t+1)+x*o;a.push(u+t+x*o,e,i),a.push(e,n,i),C+=6}o.addGroup(d,C,y),d+=C,u+=E}p("z","y","x",-1,-1,n,e,t,s,r,0),p("z","y","x",1,-1,n,e,-t,s,r,1),p("x","z","y",1,1,t,n,e,i,s,2),p("x","z","y",1,-1,t,n,-e,i,s,3),p("x","y","z",1,-1,t,e,n,i,r,4),p("x","y","z",-1,-1,t,e,-n,i,r,5),this.setIndex(a),this.setAttribute("position",new ve(l,3)),this.setAttribute("normal",new ve(c,3)),this.setAttribute("uv",new ve(h,2))}}function $e(t){const e={};for(const n in t){e[n]={};for(const i in t[n]){const r=t[n][i];e[n][i]=r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture)?r.clone():Array.isArray(r)?r.slice():r}}return e}function tn(t){const e={};for(let n=0;n<t.length;n++){const i=$e(t[n]);for(const t in i)e[t]=i[t]}return e}const en={clone:$e,merge:tn};function nn(t){ae.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}function rn(){jt.call(this),this.type="Camera",this.matrixWorldInverse=new ut,this.projectionMatrix=new ut,this.projectionMatrixInverse=new ut}function sn(t=50,e=1,n=.1,i=2e3){rn.call(this),this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=n,this.far=i,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function on(t,e,n){if(jt.call(this),this.type="CubeCamera",!0!==n.isWebGLCubeRenderTarget)return void console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");this.renderTarget=n;const i=new sn(90,1,t,e);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new k(1,0,0)),this.add(i);const r=new sn(90,1,t,e);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new k(-1,0,0)),this.add(r);const s=new sn(90,1,t,e);s.layers=this.layers,s.up.set(0,0,1),s.lookAt(new k(0,1,0)),this.add(s);const o=new sn(90,1,t,e);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(new k(0,-1,0)),this.add(o);const a=new sn(90,1,t,e);a.layers=this.layers,a.up.set(0,-1,0),a.lookAt(new k(0,0,1)),this.add(a);const l=new sn(90,1,t,e);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new k(0,0,-1)),this.add(l),this.update=function(t,e){null===this.parent&&this.updateMatrixWorld();const c=t.xr.enabled,h=t.getRenderTarget();t.xr.enabled=!1;const u=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,t.setRenderTarget(n,0),t.render(e,i),t.setRenderTarget(n,1),t.render(e,r),t.setRenderTarget(n,2),t.render(e,s),t.setRenderTarget(n,3),t.render(e,o),t.setRenderTarget(n,4),t.render(e,a),n.texture.generateMipmaps=u,t.setRenderTarget(n,5),t.render(e,l),t.setRenderTarget(h),t.xr.enabled=c}}function an(t,e,n,i,r,s,o,a,l,c){L.call(this,t=void 0!==t?t:[],e=void 0!==e?e:301,n,i,r,s,o=void 0!==o?o:g,a,l,c),this.flipY=!1,this._needsFlipEnvMap=!0}(nn.prototype=Object.create(ae.prototype)).constructor=nn,nn.prototype.isShaderMaterial=!0,nn.prototype.copy=function(t){return ae.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=$e(t.uniforms),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this},nn.prototype.toJSON=function(t){const e=ae.prototype.toJSON.call(this,t);e.glslVersion=this.glslVersion,e.uniforms={};for(const i in this.uniforms){const n=this.uniforms[i].value;e.uniforms[i]=n&&n.isTexture?{type:"t",value:n.toJSON(t).uuid}:n&&n.isColor?{type:"c",value:n.getHex()}:n&&n.isVector2?{type:"v2",value:n.toArray()}:n&&n.isVector3?{type:"v3",value:n.toArray()}:n&&n.isVector4?{type:"v4",value:n.toArray()}:n&&n.isMatrix3?{type:"m3",value:n.toArray()}:n&&n.isMatrix4?{type:"m4",value:n.toArray()}:{value:n}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader;const n={};for(const i in this.extensions)!0===this.extensions[i]&&(n[i]=!0);return Object.keys(n).length>0&&(e.extensions=n),e},rn.prototype=Object.assign(Object.create(jt.prototype),{constructor:rn,isCamera:!0,copy:function(t,e){return jt.prototype.copy.call(this,t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this},getWorldDirection:function(t){void 0===t&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),t=new k),this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()},updateMatrixWorld:function(t){jt.prototype.updateMatrixWorld.call(this,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()},updateWorldMatrix:function(t,e){jt.prototype.updateWorldMatrix.call(this,t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()},clone:function(){return(new this.constructor).copy(this)}}),sn.prototype=Object.assign(Object.create(rn.prototype),{constructor:sn,isPerspectiveCamera:!0,copy:function(t,e){return rn.prototype.copy.call(this,t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){const e=.5*this.getFilmHeight()/t;this.fov=2*C.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){const t=Math.tan(.5*C.DEG2RAD*this.fov);return.5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*C.RAD2DEG*Math.atan(Math.tan(.5*C.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,n,i,r,s){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=s,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){const t=this.near;let e=t*Math.tan(.5*C.DEG2RAD*this.fov)/this.zoom,n=2*e,i=this.aspect*n,r=-.5*i;const s=this.view;if(null!==this.view&&this.view.enabled){const t=s.fullWidth,o=s.fullHeight;r+=s.offsetX*i/t,e-=s.offsetY*n/o,i*=s.width/t,n*=s.height/o}const o=this.filmOffset;0!==o&&(r+=t*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,e,e-n,t,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()},toJSON:function(t){const e=jt.prototype.toJSON.call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}),(on.prototype=Object.create(jt.prototype)).constructor=on,(an.prototype=Object.create(L.prototype)).constructor=an,an.prototype.isCubeTexture=!0,Object.defineProperty(an.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}});class ln extends N{constructor(t,e,n){Number.isInteger(e)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),e=n),super(t,t,e),Object.defineProperty(this,"isWebGLCubeRenderTarget",{value:!0}),this.texture=new an(void 0,(e=e||{}).mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.encoding),this.texture._needsFlipEnvMap=!1}fromEquirectangularTexture(t,e){this.texture.type=e.type,this.texture.format=1023,this.texture.encoding=e.encoding,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const n=new Qe(5,5,5),i=new nn({name:"CubemapFromEquirect",uniforms:$e({tEquirect:{value:null}}),vertexShader:"\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",fragmentShader:"\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",side:1,blending:0});i.uniforms.tEquirect.value=e;const r=new Ze(n,i),s=e.minFilter;return e.minFilter===m&&(e.minFilter=p),new on(1,10,this).update(t,r),e.minFilter=s,r.geometry.dispose(),r.material.dispose(),this}clear(t,e,n,i){const r=t.getRenderTarget();for(let s=0;s<6;s++)t.setRenderTarget(this,s),t.clear(e,n,i);t.setRenderTarget(r)}}function cn(t,e,n,i,r,s,o,a,l,c,u,d){L.call(this,null,s,o,a,l,c,i,r,u,d),this.image={data:t||null,width:e||1,height:n||1},this.magFilter=void 0!==l?l:h,this.minFilter=void 0!==c?c:h,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}(cn.prototype=Object.create(L.prototype)).constructor=cn,cn.prototype.isDataTexture=!0;const hn=new nt,un=new k;class dn{constructor(t,e,n,i,r,s){this.planes=[void 0!==t?t:new Gt,void 0!==e?e:new Gt,void 0!==n?n:new Gt,void 0!==i?i:new Gt,void 0!==r?r:new Gt,void 0!==s?s:new Gt]}set(t,e,n,i,r,s){const o=this.planes;return o[0].copy(t),o[1].copy(e),o[2].copy(n),o[3].copy(i),o[4].copy(r),o[5].copy(s),this}clone(){return(new this.constructor).copy(this)}copy(t){const e=this.planes;for(let n=0;n<6;n++)e[n].copy(t.planes[n]);return this}setFromProjectionMatrix(t){const e=this.planes,n=t.elements,i=n[0],r=n[1],s=n[2],o=n[3],a=n[4],l=n[5],c=n[6],h=n[7],u=n[8],d=n[9],p=n[10],f=n[11],m=n[12],g=n[13],y=n[14],_=n[15];return e[0].setComponents(o-i,h-a,f-u,_-m).normalize(),e[1].setComponents(o+i,h+a,f+u,_+m).normalize(),e[2].setComponents(o+r,h+l,f+d,_+g).normalize(),e[3].setComponents(o-r,h-l,f-d,_-g).normalize(),e[4].setComponents(o-s,h-c,f-p,_-y).normalize(),e[5].setComponents(o+s,h+c,f+p,_+y).normalize(),this}intersectsObject(t){const e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),hn.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(hn)}intersectsSprite(t){return hn.center.set(0,0,0),hn.radius=.7071067811865476,hn.applyMatrix4(t.matrixWorld),this.intersectsSphere(hn)}intersectsSphere(t){const e=this.planes,n=t.center,i=-t.radius;for(let r=0;r<6;r++)if(e[r].distanceToPoint(n)<i)return!1;return!0}intersectsBox(t){const e=this.planes;for(let n=0;n<6;n++){const i=e[n];if(un.x=i.normal.x>0?t.max.x:t.min.x,un.y=i.normal.y>0?t.max.y:t.min.y,un.z=i.normal.z>0?t.max.z:t.min.z,i.distanceToPoint(un)<0)return!1}return!0}containsPoint(t){const e=this.planes;for(let n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}}function pn(){let t=null,e=!1,n=null,i=null;function r(e,s){n(e,s),i=t.requestAnimationFrame(r)}return{start:function(){!0!==e&&null!==n&&(i=t.requestAnimationFrame(r),e=!0)},stop:function(){t.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(t){n=t},setContext:function(e){t=e}}}function fn(t,e){const n=e.isWebGL2,i=new WeakMap;return{get:function(t){return t.isInterleavedBufferAttribute&&(t=t.data),i.get(t)},remove:function(e){e.isInterleavedBufferAttribute&&(e=e.data);const n=i.get(e);n&&(t.deleteBuffer(n.buffer),i.delete(e))},update:function(e,r){if(e.isGLBufferAttribute){const t=i.get(e);return void((!t||t.version<e.version)&&i.set(e,{buffer:e.buffer,type:e.type,bytesPerElement:e.elementSize,version:e.version}))}e.isInterleavedBufferAttribute&&(e=e.data);const s=i.get(e);void 0===s?i.set(e,function(e,i){const r=e.array,s=e.usage,o=t.createBuffer();t.bindBuffer(i,o),t.bufferData(i,r,s),e.onUploadCallback();let a=5126;return r instanceof Float32Array?a=5126:r instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):r instanceof Uint16Array?e.isFloat16BufferAttribute?n?a=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):a=5123:r instanceof Int16Array?a=5122:r instanceof Uint32Array?a=5125:r instanceof Int32Array?a=5124:r instanceof Int8Array?a=5120:r instanceof Uint8Array&&(a=5121),{buffer:o,type:a,bytesPerElement:r.BYTES_PER_ELEMENT,version:e.version}}(e,r)):s.version<e.version&&(function(e,i,r){const s=i.array,o=i.updateRange;t.bindBuffer(r,e),-1===o.count?t.bufferSubData(r,0,s):(n?t.bufferSubData(r,o.offset*s.BYTES_PER_ELEMENT,s,o.offset,o.count):t.bufferSubData(r,o.offset*s.BYTES_PER_ELEMENT,s.subarray(o.offset,o.offset+o.count)),o.count=-1)}(s.buffer,e,r),s.version=e.version)}}}class mn extends Le{constructor(t=1,e=1,n=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:i};const r=t/2,s=e/2,o=Math.floor(n),a=Math.floor(i),l=o+1,c=a+1,h=t/o,u=e/a,d=[],p=[],f=[],m=[];for(let g=0;g<c;g++){const t=g*u-s;for(let e=0;e<l;e++)p.push(e*h-r,-t,0),f.push(0,0,1),m.push(e/o),m.push(1-g/a)}for(let g=0;g<a;g++)for(let t=0;t<o;t++){const e=t+l*(g+1),n=t+1+l*(g+1),i=t+1+l*g;d.push(t+l*g,e,i),d.push(e,n,i)}this.setIndex(d),this.setAttribute("position",new ve(p,3)),this.setAttribute("normal",new ve(f,3)),this.setAttribute("uv",new ve(m,2))}}const gn={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor.xyz *= color.xyz;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_maxMipLevel 8.0\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_maxTileSize 256.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\n\t\tvec2 f = fract( uv );\n\t\tuv += 0.5 - f;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tif ( mipInt < cubeUV_maxMipLevel ) {\n\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\n\t\t}\n\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\n\t\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\n\t\tuv *= texelSize;\n\t\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x += texelSize;\n\t\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.y += texelSize;\n\t\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x -= texelSize;\n\t\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tvec3 tm = mix( tl, tr, f.x );\n\t\tvec3 bm = mix( bl, br, f.x );\n\t\treturn mix( tm, bm, f.y );\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value ) {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat specularRoughness;\n\tvec3 specularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\t\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\t\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\tvec3 N = normalize( surf_norm );\n\t\tmat3 tsn = mat3( S, T, N );\n\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmissionmap_fragment:"#ifdef USE_TRANSMISSIONMAP\n\ttotalTransmission *= texture2D( transmissionMap, vUv ).r;\n#endif",transmissionmap_pars_fragment:"#ifdef USE_TRANSMISSIONMAP\n\tuniform sampler2D transmissionMap;\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSMISSION\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSMISSION\n\tuniform float transmission;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <transmissionmap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#ifdef TRANSMISSION\n\t\tfloat totalTransmission = transmission;\n\t#endif\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <transmissionmap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#ifdef TRANSMISSION\n\t\tdiffuseColor.a *= mix( saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) ), 1.0, metalness );\n\t#endif\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},yn={common:{diffuse:{value:new re(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new O},uv2Transform:{value:new O},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new M(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new re(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new re(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new O}},sprite:{diffuse:{value:new re(15658734)},opacity:{value:1},center:{value:new M(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new O}}},_n={basic:{uniforms:tn([yn.common,yn.specularmap,yn.envmap,yn.aomap,yn.lightmap,yn.fog]),vertexShader:gn.meshbasic_vert,fragmentShader:gn.meshbasic_frag},lambert:{uniforms:tn([yn.common,yn.specularmap,yn.envmap,yn.aomap,yn.lightmap,yn.emissivemap,yn.fog,yn.lights,{emissive:{value:new re(0)}}]),vertexShader:gn.meshlambert_vert,fragmentShader:gn.meshlambert_frag},phong:{uniforms:tn([yn.common,yn.specularmap,yn.envmap,yn.aomap,yn.lightmap,yn.emissivemap,yn.bumpmap,yn.normalmap,yn.displacementmap,yn.fog,yn.lights,{emissive:{value:new re(0)},specular:{value:new re(1118481)},shininess:{value:30}}]),vertexShader:gn.meshphong_vert,fragmentShader:gn.meshphong_frag},standard:{uniforms:tn([yn.common,yn.envmap,yn.aomap,yn.lightmap,yn.emissivemap,yn.bumpmap,yn.normalmap,yn.displacementmap,yn.roughnessmap,yn.metalnessmap,yn.fog,yn.lights,{emissive:{value:new re(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:gn.meshphysical_vert,fragmentShader:gn.meshphysical_frag},toon:{uniforms:tn([yn.common,yn.aomap,yn.lightmap,yn.emissivemap,yn.bumpmap,yn.normalmap,yn.displacementmap,yn.gradientmap,yn.fog,yn.lights,{emissive:{value:new re(0)}}]),vertexShader:gn.meshtoon_vert,fragmentShader:gn.meshtoon_frag},matcap:{uniforms:tn([yn.common,yn.bumpmap,yn.normalmap,yn.displacementmap,yn.fog,{matcap:{value:null}}]),vertexShader:gn.meshmatcap_vert,fragmentShader:gn.meshmatcap_frag},points:{uniforms:tn([yn.points,yn.fog]),vertexShader:gn.points_vert,fragmentShader:gn.points_frag},dashed:{uniforms:tn([yn.common,yn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:gn.linedashed_vert,fragmentShader:gn.linedashed_frag},depth:{uniforms:tn([yn.common,yn.displacementmap]),vertexShader:gn.depth_vert,fragmentShader:gn.depth_frag},normal:{uniforms:tn([yn.common,yn.bumpmap,yn.normalmap,yn.displacementmap,{opacity:{value:1}}]),vertexShader:gn.normal_vert,fragmentShader:gn.normal_frag},sprite:{uniforms:tn([yn.sprite,yn.fog]),vertexShader:gn.sprite_vert,fragmentShader:gn.sprite_frag},background:{uniforms:{uvTransform:{value:new O},t2D:{value:null}},vertexShader:gn.background_vert,fragmentShader:gn.background_frag},cube:{uniforms:tn([yn.envmap,{opacity:{value:1}}]),vertexShader:gn.cube_vert,fragmentShader:gn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:gn.equirect_vert,fragmentShader:gn.equirect_frag},distanceRGBA:{uniforms:tn([yn.common,yn.displacementmap,{referencePosition:{value:new k},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:gn.distanceRGBA_vert,fragmentShader:gn.distanceRGBA_frag},shadow:{uniforms:tn([yn.lights,yn.fog,{color:{value:new re(0)},opacity:{value:1}}]),vertexShader:gn.shadow_vert,fragmentShader:gn.shadow_frag}};function bn(t,e,n,i,r){const o=new re(0);let a,l,c=0,h=null,u=0,d=null;function p(t,e){n.buffers.color.setClear(t.r,t.g,t.b,e,r)}return{getClearColor:function(){return o},setClearColor:function(t,e=1){o.set(t),c=e,p(o,c)},getClearAlpha:function(){return c},setClearAlpha:function(t){c=t,p(o,c)},render:function(n,r,f,m){let g=!0===r.isScene?r.background:null;g&&g.isTexture&&(g=e.get(g));const y=t.xr,_=y.getSession&&y.getSession();_&&"additive"===_.environmentBlendMode&&(g=null),null===g?p(o,c):g&&g.isColor&&(p(g,1),m=!0),(t.autoClear||m)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),g&&(g.isCubeTexture||g.isWebGLCubeRenderTarget||306===g.mapping)?(void 0===l&&(l=new Ze(new Qe(1,1,1),new nn({name:"BackgroundCubeMaterial",uniforms:$e(_n.cube.uniforms),vertexShader:_n.cube.vertexShader,fragmentShader:_n.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),l.geometry.deleteAttribute("uv"),l.onBeforeRender=function(t,e,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(l.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(l)),g.isWebGLCubeRenderTarget&&(g=g.texture),l.material.uniforms.envMap.value=g,l.material.uniforms.flipEnvMap.value=g.isCubeTexture&&g._needsFlipEnvMap?-1:1,h===g&&u===g.version&&d===t.toneMapping||(l.material.needsUpdate=!0,h=g,u=g.version,d=t.toneMapping),n.unshift(l,l.geometry,l.material,0,0,null)):g&&g.isTexture&&(void 0===a&&(a=new Ze(new mn(2,2),new nn({name:"BackgroundMaterial",uniforms:$e(_n.background.uniforms),vertexShader:_n.background.vertexShader,fragmentShader:_n.background.fragmentShader,side:s,depthTest:!1,depthWrite:!1,fog:!1})),a.geometry.deleteAttribute("normal"),Object.defineProperty(a.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(a)),a.material.uniforms.t2D.value=g,!0===g.matrixAutoUpdate&&g.updateMatrix(),a.material.uniforms.uvTransform.value.copy(g.matrix),h===g&&u===g.version&&d===t.toneMapping||(a.material.needsUpdate=!0,h=g,u=g.version,d=t.toneMapping),n.unshift(a,a.geometry,a.material,0,0,null))}}}function vn(t,e,n,i){const r=t.getParameter(34921),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),o=i.isWebGL2||null!==s,a={},l=d(null);let c=l;function h(e){return i.isWebGL2?t.bindVertexArray(e):s.bindVertexArrayOES(e)}function u(e){return i.isWebGL2?t.deleteVertexArray(e):s.deleteVertexArrayOES(e)}function d(t){const e=[],n=[],i=[];for(let s=0;s<r;s++)e[s]=0,n[s]=0,i[s]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:e,enabledAttributes:n,attributeDivisors:i,object:t,attributes:{},index:null}}function p(){const t=c.newAttributes;for(let e=0,n=t.length;e<n;e++)t[e]=0}function f(t){m(t,0)}function m(n,r){const s=c.enabledAttributes,o=c.attributeDivisors;c.newAttributes[n]=1,0===s[n]&&(t.enableVertexAttribArray(n),s[n]=1),o[n]!==r&&((i.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,r),o[n]=r)}function g(){const e=c.newAttributes,n=c.enabledAttributes;for(let i=0,r=n.length;i<r;i++)n[i]!==e[i]&&(t.disableVertexAttribArray(i),n[i]=0)}function y(e,n,r,s,o,a){!0!==i.isWebGL2||5124!==r&&5125!==r?t.vertexAttribPointer(e,n,r,s,o,a):t.vertexAttribIPointer(e,n,r,o,a)}function _(){b(),c!==l&&(c=l,h(c.object))}function b(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function(r,l,u,_,b){let v=!1;if(o){const e=function(e,n,r){const o=!0===r.wireframe;let l=a[e.id];void 0===l&&(l={},a[e.id]=l);let c=l[n.id];void 0===c&&(c={},l[n.id]=c);let h=c[o];return void 0===h&&(h=d(i.isWebGL2?t.createVertexArray():s.createVertexArrayOES()),c[o]=h),h}(_,u,l);c!==e&&(c=e,h(c.object)),v=function(t,e){const n=c.attributes,i=t.attributes;let r=0;for(const s in i){const t=n[s],e=i[s];if(void 0===t)return!0;if(t.attribute!==e)return!0;if(t.data!==e.data)return!0;r++}return c.attributesNum!==r||c.index!==e}(_,b),v&&function(t,e){const n={},i=t.attributes;let r=0;for(const s in i){const t=i[s],e={};e.attribute=t,t.data&&(e.data=t.data),n[s]=e,r++}c.attributes=n,c.attributesNum=r,c.index=e}(_,b)}else{const t=!0===l.wireframe;c.geometry===_.id&&c.program===u.id&&c.wireframe===t||(c.geometry=_.id,c.program=u.id,c.wireframe=t,v=!0)}!0===r.isInstancedMesh&&(v=!0),null!==b&&n.update(b,34963),v&&(function(r,s,o,a){if(!1===i.isWebGL2&&(r.isInstancedMesh||a.isInstancedBufferGeometry)&&null===e.get("ANGLE_instanced_arrays"))return;p();const l=a.attributes,c=o.getAttributes(),h=s.defaultAttributeValues;for(const e in c){const i=c[e];if(i>=0){const s=l[e];if(void 0!==s){const e=s.normalized,r=s.itemSize,o=n.get(s);if(void 0===o)continue;const l=o.buffer,c=o.type,h=o.bytesPerElement;if(s.isInterleavedBufferAttribute){const n=s.data,o=n.stride,u=s.offset;n&&n.isInstancedInterleavedBuffer?(m(i,n.meshPerAttribute),void 0===a._maxInstanceCount&&(a._maxInstanceCount=n.meshPerAttribute*n.count)):f(i),t.bindBuffer(34962,l),y(i,r,c,e,o*h,u*h)}else s.isInstancedBufferAttribute?(m(i,s.meshPerAttribute),void 0===a._maxInstanceCount&&(a._maxInstanceCount=s.meshPerAttribute*s.count)):f(i),t.bindBuffer(34962,l),y(i,r,c,e,0,0)}else if("instanceMatrix"===e){const e=n.get(r.instanceMatrix);if(void 0===e)continue;const s=e.buffer,o=e.type;m(i+0,1),m(i+1,1),m(i+2,1),m(i+3,1),t.bindBuffer(34962,s),t.vertexAttribPointer(i+0,4,o,!1,64,0),t.vertexAttribPointer(i+1,4,o,!1,64,16),t.vertexAttribPointer(i+2,4,o,!1,64,32),t.vertexAttribPointer(i+3,4,o,!1,64,48)}else if("instanceColor"===e){const e=n.get(r.instanceColor);if(void 0===e)continue;const s=e.buffer,o=e.type;m(i,1),t.bindBuffer(34962,s),t.vertexAttribPointer(i,3,o,!1,12,0)}else if(void 0!==h){const n=h[e];if(void 0!==n)switch(n.length){case 2:t.vertexAttrib2fv(i,n);break;case 3:t.vertexAttrib3fv(i,n);break;case 4:t.vertexAttrib4fv(i,n);break;default:t.vertexAttrib1fv(i,n)}}}}g()}(r,l,u,_),null!==b&&t.bindBuffer(34963,n.get(b).buffer))},reset:_,resetDefaultState:b,dispose:function(){_();for(const t in a){const e=a[t];for(const t in e){const n=e[t];for(const t in n)u(n[t].object),delete n[t];delete e[t]}delete a[t]}},releaseStatesOfGeometry:function(t){if(void 0===a[t.id])return;const e=a[t.id];for(const n in e){const t=e[n];for(const e in t)u(t[e].object),delete t[e];delete e[n]}delete a[t.id]},releaseStatesOfProgram:function(t){for(const e in a){const n=a[e];if(void 0===n[t.id])continue;const i=n[t.id];for(const t in i)u(i[t].object),delete i[t];delete n[t.id]}},initAttributes:p,enableAttribute:f,disableUnusedAttributes:g}}function Sn(t,e,n,i){const r=i.isWebGL2;let s;this.setMode=function(t){s=t},this.render=function(e,i){t.drawArrays(s,e,i),n.update(i,s,1)},this.renderInstances=function(i,o,a){if(0===a)return;let l,c;if(r)l=t,c="drawArraysInstanced";else if(l=e.get("ANGLE_instanced_arrays"),c="drawArraysInstancedANGLE",null===l)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[c](s,i,o,a),n.update(o,s,a)}}function Tn(t,e,n){let i;function r(e){if("highp"===e){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const s="undefined"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&t instanceof WebGL2ComputeRenderingContext;let o=void 0!==n.precision?n.precision:"highp";const a=r(o);a!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",a,"instead."),o=a);const l=!0===n.logarithmicDepthBuffer,c=t.getParameter(34930),h=t.getParameter(35660),u=t.getParameter(3379),d=t.getParameter(34076),p=t.getParameter(34921),f=t.getParameter(36347),m=t.getParameter(36348),g=t.getParameter(36349),y=h>0,_=s||!!e.get("OES_texture_float");return{isWebGL2:s,getMaxAnisotropy:function(){if(void 0!==i)return i;const n=e.get("EXT_texture_filter_anisotropic");return i=null!==n?t.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0,i},getMaxPrecision:r,precision:o,logarithmicDepthBuffer:l,maxTextures:c,maxVertexTextures:h,maxTextureSize:u,maxCubemapSize:d,maxAttributes:p,maxVertexUniforms:f,maxVaryings:m,maxFragmentUniforms:g,vertexTextures:y,floatFragmentTextures:_,floatVertexTextures:y&&_,maxSamples:s?t.getParameter(36183):0}}function xn(t){const e=this;let n=null,i=0,r=!1,s=!1;const o=new Gt,a=new O,l={value:null,needsUpdate:!1};function c(){l.value!==n&&(l.value=n,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function h(t,n,i,r){const s=null!==t?t.length:0;let c=null;if(0!==s){if(c=l.value,!0!==r||null===c){const e=i+4*s,r=n.matrixWorldInverse;a.getNormalMatrix(r),(null===c||c.length<e)&&(c=new Float32Array(e));for(let n=0,l=i;n!==s;++n,l+=4)o.copy(t[n]).applyMatrix4(r,a),o.normal.toArray(c,l),c[l+3]=o.constant}l.value=c,l.needsUpdate=!0}return e.numPlanes=s,e.numIntersection=0,c}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(t,e,s){const o=0!==t.length||e||0!==i||r;return r=e,n=h(t,s,0),i=t.length,o},this.beginShadows=function(){s=!0,h(null)},this.endShadows=function(){s=!1,c()},this.setState=function(e,o,a){const u=e.clippingPlanes,d=e.clipIntersection,p=e.clipShadows,f=t.get(e);if(!r||null===u||0===u.length||s&&!p)s?h(null):c();else{const t=s?0:i,e=4*t;let r=f.clippingState||null;l.value=r,r=h(u,o,e,a);for(let i=0;i!==e;++i)r[i]=n[i];f.clippingState=r,this.numIntersection=d?this.numPlanes:0,this.numPlanes+=t}}}function wn(t){let e=new WeakMap;function n(t,e){return 303===e?t.mapping=301:304===e&&(t.mapping=302),t}function i(t){const n=t.target;n.removeEventListener("dispose",i);const r=e.get(n);void 0!==r&&(e.delete(n),r.dispose())}return{get:function(r){if(r&&r.isTexture){const s=r.mapping;if(303===s||304===s){if(e.has(r))return n(e.get(r).texture,r.mapping);{const s=r.image;if(s&&s.height>0){const o=t.getRenderList(),a=t.getRenderTarget(),l=new ln(s.height/2);return l.fromEquirectangularTexture(t,r),e.set(r,l),t.setRenderTarget(a),t.setRenderList(o),r.addEventListener("dispose",i),n(l.texture,r.mapping)}return null}}}return r},dispose:function(){e=new WeakMap}}}function En(t){const e={};function n(n){if(void 0!==e[n])return e[n];let i;switch(n){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(n)}return e[n]=i,i}return{has:function(t){return null!==n(t)},init:function(t){t.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float")},get:function(t){const e=n(t);return null===e&&console.warn("THREE.WebGLRenderer: "+t+" extension not supported."),e}}}function Cn(t,e,n,i){const r={},s=new WeakMap;function o(t){const a=t.target;null!==a.index&&e.remove(a.index);for(const n in a.attributes)e.remove(a.attributes[n]);a.removeEventListener("dispose",o),delete r[a.id];const l=s.get(a);l&&(e.remove(l),s.delete(a)),i.releaseStatesOfGeometry(a),!0===a.isInstancedBufferGeometry&&delete a._maxInstanceCount,n.memory.geometries--}function a(t){const n=[],i=t.index,r=t.attributes.position;let o=0;if(null!==i){const t=i.array;o=i.version;for(let e=0,i=t.length;e<i;e+=3){const i=t[e+0],r=t[e+1],s=t[e+2];n.push(i,r,r,s,s,i)}}else{o=r.version;for(let t=0,e=r.array.length/3-1;t<e;t+=3){const e=t+0,i=t+1,r=t+2;n.push(e,i,i,r,r,e)}}const a=new(Te(n)>65535?_e:ge)(n,1);a.version=o;const l=s.get(t);l&&e.remove(l),s.set(t,a)}return{get:function(t,e){return!0===r[e.id]||(e.addEventListener("dispose",o),r[e.id]=!0,n.memory.geometries++),e},update:function(t){const n=t.attributes;for(const r in n)e.update(n[r],34962);const i=t.morphAttributes;for(const r in i){const t=i[r];for(let n=0,i=t.length;n<i;n++)e.update(t[n],34962)}},getWireframeAttribute:function(t){const e=s.get(t);if(e){const n=t.index;null!==n&&e.version<n.version&&a(t)}else a(t);return s.get(t)}}}function Mn(t,e,n,i){const r=i.isWebGL2;let s,o,a;this.setMode=function(t){s=t},this.setIndex=function(t){o=t.type,a=t.bytesPerElement},this.render=function(e,i){t.drawElements(s,i,o,e*a),n.update(i,s,1)},this.renderInstances=function(i,l,c){if(0===c)return;let h,u;if(r)h=t,u="drawElementsInstanced";else if(h=e.get("ANGLE_instanced_arrays"),u="drawElementsInstancedANGLE",null===h)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");h[u](s,l,o,i*a,c),n.update(l,s,c)}}function On(t){const e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function(){e.frame++,e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function(t,n,i){switch(e.calls++,n){case 4:e.triangles+=i*(t/3);break;case 1:e.lines+=i*(t/2);break;case 3:e.lines+=i*(t-1);break;case 2:e.lines+=i*t;break;case 0:e.points+=i*t;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function An(t,e){return t[0]-e[0]}function In(t,e){return Math.abs(e[1])-Math.abs(t[1])}function Rn(t){const e={},n=new Float32Array(8),i=[];for(let r=0;r<8;r++)i[r]=[r,0];return{update:function(r,s,o,a){const l=r.morphTargetInfluences,c=void 0===l?0:l.length;let h=e[s.id];if(void 0===h){h=[];for(let t=0;t<c;t++)h[t]=[t,0];e[s.id]=h}for(let t=0;t<c;t++){const e=h[t];e[0]=t,e[1]=l[t]}h.sort(In);for(let t=0;t<8;t++)t<c&&h[t][1]?(i[t][0]=h[t][0],i[t][1]=h[t][1]):(i[t][0]=Number.MAX_SAFE_INTEGER,i[t][1]=0);i.sort(An);const u=o.morphTargets&&s.morphAttributes.position,d=o.morphNormals&&s.morphAttributes.normal;let p=0;for(let t=0;t<8;t++){const e=i[t],r=e[0],o=e[1];r!==Number.MAX_SAFE_INTEGER&&o?(u&&s.getAttribute("morphTarget"+t)!==u[r]&&s.setAttribute("morphTarget"+t,u[r]),d&&s.getAttribute("morphNormal"+t)!==d[r]&&s.setAttribute("morphNormal"+t,d[r]),n[t]=o,p+=o):(u&&!0===s.hasAttribute("morphTarget"+t)&&s.deleteAttribute("morphTarget"+t),d&&!0===s.hasAttribute("morphNormal"+t)&&s.deleteAttribute("morphNormal"+t),n[t]=0)}const f=s.morphTargetsRelative?1:1-p;a.getUniforms().setValue(t,"morphTargetBaseInfluence",f),a.getUniforms().setValue(t,"morphTargetInfluences",n)}}}function Ln(t,e,n,i){let r=new WeakMap;function s(t){const e=t.target;e.removeEventListener("dispose",s),n.remove(e.instanceMatrix),null!==e.instanceColor&&n.remove(e.instanceColor)}return{update:function(t){const o=i.render.frame,a=e.get(t,t.geometry);return r.get(a)!==o&&(e.update(a),r.set(a,o)),t.isInstancedMesh&&(!1===t.hasEventListener("dispose",s)&&t.addEventListener("dispose",s),n.update(t.instanceMatrix,34962),null!==t.instanceColor&&n.update(t.instanceColor,34962)),a},dispose:function(){r=new WeakMap}}}function Pn(t=null,e=1,n=1,i=1){L.call(this,null),this.image={data:t,width:e,height:n,depth:i},this.magFilter=h,this.minFilter=h,this.wrapR=l,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}function Dn(t=null,e=1,n=1,i=1){L.call(this,null),this.image={data:t,width:e,height:n,depth:i},this.magFilter=h,this.minFilter=h,this.wrapR=l,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}_n.physical={uniforms:tn([_n.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new M(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new re(0)},transmission:{value:0},transmissionMap:{value:null}}]),vertexShader:gn.meshphysical_vert,fragmentShader:gn.meshphysical_frag},(Pn.prototype=Object.create(L.prototype)).constructor=Pn,Pn.prototype.isDataTexture2DArray=!0,(Dn.prototype=Object.create(L.prototype)).constructor=Dn,Dn.prototype.isDataTexture3D=!0;const Nn=new L,jn=new Pn,kn=new Dn,Fn=new an,Un=[],Gn=[],Vn=new Float32Array(16),Bn=new Float32Array(9),zn=new Float32Array(4);function Hn(t,e,n){const i=t[0];if(i<=0||i>0)return t;const r=e*n;let s=Un[r];if(void 0===s&&(s=new Float32Array(r),Un[r]=s),0!==e){i.toArray(s,0);for(let i=1,r=0;i!==e;++i)r+=n,t[i].toArray(s,r)}return s}function Xn(t,e){if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function qn(t,e){for(let n=0,i=e.length;n<i;n++)t[n]=e[n]}function Wn(t,e){let n=Gn[e];void 0===n&&(n=new Int32Array(e),Gn[e]=n);for(let i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function Yn(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function Kn(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y||(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Xn(n,e))return;t.uniform2fv(this.addr,e),qn(n,e)}}function Zn(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z||(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(void 0!==e.r)n[0]===e.r&&n[1]===e.g&&n[2]===e.b||(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Xn(n,e))return;t.uniform3fv(this.addr,e),qn(n,e)}}function Jn(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z&&n[3]===e.w||(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Xn(n,e))return;t.uniform4fv(this.addr,e),qn(n,e)}}function Qn(t,e){const n=this.cache,i=e.elements;if(void 0===i){if(Xn(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),qn(n,e)}else{if(Xn(n,i))return;zn.set(i),t.uniformMatrix2fv(this.addr,!1,zn),qn(n,i)}}function $n(t,e){const n=this.cache,i=e.elements;if(void 0===i){if(Xn(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),qn(n,e)}else{if(Xn(n,i))return;Bn.set(i),t.uniformMatrix3fv(this.addr,!1,Bn),qn(n,i)}}function ti(t,e){const n=this.cache,i=e.elements;if(void 0===i){if(Xn(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),qn(n,e)}else{if(Xn(n,i))return;Vn.set(i),t.uniformMatrix4fv(this.addr,!1,Vn),qn(n,i)}}function ei(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.safeSetTexture2D(e||Nn,r)}function ni(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(e||jn,r)}function ii(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(e||kn,r)}function ri(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.safeSetTextureCube(e||Fn,r)}function si(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function oi(t,e){const n=this.cache;Xn(n,e)||(t.uniform2iv(this.addr,e),qn(n,e))}function ai(t,e){const n=this.cache;Xn(n,e)||(t.uniform3iv(this.addr,e),qn(n,e))}function li(t,e){const n=this.cache;Xn(n,e)||(t.uniform4iv(this.addr,e),qn(n,e))}function ci(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function hi(t,e){t.uniform1fv(this.addr,e)}function ui(t,e){t.uniform1iv(this.addr,e)}function di(t,e){t.uniform2iv(this.addr,e)}function pi(t,e){t.uniform3iv(this.addr,e)}function fi(t,e){t.uniform4iv(this.addr,e)}function mi(t,e){const n=Hn(e,this.size,2);t.uniform2fv(this.addr,n)}function gi(t,e){const n=Hn(e,this.size,3);t.uniform3fv(this.addr,n)}function yi(t,e){const n=Hn(e,this.size,4);t.uniform4fv(this.addr,n)}function _i(t,e){const n=Hn(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function bi(t,e){const n=Hn(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function vi(t,e){const n=Hn(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function Si(t,e,n){const i=e.length,r=Wn(n,i);t.uniform1iv(this.addr,r);for(let s=0;s!==i;++s)n.safeSetTexture2D(e[s]||Nn,r[s])}function Ti(t,e,n){const i=e.length,r=Wn(n,i);t.uniform1iv(this.addr,r);for(let s=0;s!==i;++s)n.safeSetTextureCube(e[s]||Fn,r[s])}function xi(t,e,n){this.id=t,this.addr=n,this.cache=[],this.setValue=function(t){switch(t){case 5126:return Yn;case 35664:return Kn;case 35665:return Zn;case 35666:return Jn;case 35674:return Qn;case 35675:return $n;case 35676:return ti;case 5124:case 35670:return si;case 35667:case 35671:return oi;case 35668:case 35672:return ai;case 35669:case 35673:return li;case 5125:return ci;case 35678:case 36198:case 36298:case 36306:case 35682:return ei;case 35679:case 36299:case 36307:return ii;case 35680:case 36300:case 36308:case 36293:return ri;case 36289:case 36303:case 36311:case 36292:return ni}}(e.type)}function wi(t,e,n){this.id=t,this.addr=n,this.cache=[],this.size=e.size,this.setValue=function(t){switch(t){case 5126:return hi;case 35664:return mi;case 35665:return gi;case 35666:return yi;case 35674:return _i;case 35675:return bi;case 35676:return vi;case 5124:case 35670:return ui;case 35667:case 35671:return di;case 35668:case 35672:return pi;case 35669:case 35673:return fi;case 35678:case 36198:case 36298:case 36306:case 35682:return Si;case 35680:case 36300:case 36308:case 36293:return Ti}}(e.type)}function Ei(t){this.id=t,this.seq=[],this.map={}}wi.prototype.updateCache=function(t){const e=this.cache;t instanceof Float32Array&&e.length!==t.length&&(this.cache=new Float32Array(t.length)),qn(e,t)},Ei.prototype.setValue=function(t,e,n){const i=this.seq;for(let r=0,s=i.length;r!==s;++r){const s=i[r];s.setValue(t,e[s.id],n)}};const Ci=/(\w+)(\])?(\[|\.)?/g;function Mi(t,e){t.seq.push(e),t.map[e.id]=e}function Oi(t,e,n){const i=t.name,r=i.length;for(Ci.lastIndex=0;;){const s=Ci.exec(i),o=Ci.lastIndex;let a=s[1];const l=s[3];if("]"===s[2]&&(a|=0),void 0===l||"["===l&&o+2===r){Mi(n,void 0===l?new xi(a,t,e):new wi(a,t,e));break}{let t=n.map[a];void 0===t&&(t=new Ei(a),Mi(n,t)),n=t}}}function Ai(t,e){this.seq=[],this.map={};const n=t.getProgramParameter(e,35718);for(let i=0;i<n;++i){const n=t.getActiveUniform(e,i);Oi(n,t.getUniformLocation(e,n.name),this)}}function Ii(t,e,n){const i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}Ai.prototype.setValue=function(t,e,n,i){const r=this.map[e];void 0!==r&&r.setValue(t,n,i)},Ai.prototype.setOptional=function(t,e,n){const i=e[n];void 0!==i&&this.setValue(t,n,i)},Ai.upload=function(t,e,n,i){for(let r=0,s=e.length;r!==s;++r){const s=e[r],o=n[s.id];!1!==o.needsUpdate&&s.setValue(t,o.value,i)}},Ai.seqWithValue=function(t,e){const n=[];for(let i=0,r=t.length;i!==r;++i){const r=t[i];r.id in e&&n.push(r)}return n};let Ri=0;function Li(t){switch(t){case 3e3:return["Linear","( value )"];case S:return["sRGB","( value )"];case 3002:return["RGBE","( value )"];case 3004:return["RGBM","( value, 7.0 )"];case 3005:return["RGBM","( value, 16.0 )"];case 3006:return["RGBD","( value, 256.0 )"];case 3007:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case 3003:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",t),["Linear","( value )"]}}function Pi(t,e,n){const i=t.getShaderParameter(e,35713),r=t.getShaderInfoLog(e).trim();return i&&""===r?"":"THREE.WebGLShader: gl.getShaderInfoLog() "+n+"\n"+r+function(t){const e=t.split("\n");for(let n=0;n<e.length;n++)e[n]=n+1+": "+e[n];return e.join("\n")}(t.getShaderSource(e))}function Di(t,e){const n=Li(e);return"vec4 "+t+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function Ni(t,e){const n=Li(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function ji(t,e){let n;switch(e){case 1:n="Linear";break;case 2:n="Reinhard";break;case 3:n="OptimizedCineon";break;case 4:n="ACESFilmic";break;case 5:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function ki(t){return""!==t}function Fi(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function Ui(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Gi=/^[ \t]*#include +<([\w\d./]+)>/gm;function Vi(t){return t.replace(Gi,Bi)}function Bi(t,e){const n=gn[e];if(void 0===n)throw new Error("Can not resolve #include <"+e+">");return Vi(n)}const zi=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,Hi=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Xi(t){return t.replace(Hi,Wi).replace(zi,qi)}function qi(t,e,n,i){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),Wi(0,e,n,i)}function Wi(t,e,n,i){let r="";for(let s=parseInt(e);s<parseInt(n);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function Yi(t){let e="precision "+t.precision+" float;\nprecision "+t.precision+" int;";return"highp"===t.precision?e+="\n#define HIGH_PRECISION":"mediump"===t.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===t.precision&&(e+="\n#define LOW_PRECISION"),e}function Ki(t,e,n,i){const r=t.getContext(),s=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=function(t){let e="SHADOWMAP_TYPE_BASIC";return 1===t.shadowMapType?e="SHADOWMAP_TYPE_PCF":2===t.shadowMapType?e="SHADOWMAP_TYPE_PCF_SOFT":3===t.shadowMapType&&(e="SHADOWMAP_TYPE_VSM"),e}(n),c=function(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case 301:case 302:e="ENVMAP_TYPE_CUBE";break;case 306:case 307:e="ENVMAP_TYPE_CUBE_UV"}return e}(n),h=function(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case 302:case 307:e="ENVMAP_MODE_REFRACTION"}return e}(n),u=function(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case 0:e="ENVMAP_BLENDING_MULTIPLY";break;case 1:e="ENVMAP_BLENDING_MIX";break;case 2:e="ENVMAP_BLENDING_ADD"}return e}(n),d=t.gammaFactor>0?t.gammaFactor:1,p=n.isWebGL2?"":function(t){return[t.extensionDerivatives||t.envMapCubeUV||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading||"physical"===t.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(ki).join("\n")}(n),f=function(t){const e=[];for(const n in t){const i=t[n];!1!==i&&e.push("#define "+n+" "+i)}return e.join("\n")}(s),m=r.createProgram();let g,y,_=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?(g=[f].filter(ki).join("\n"),g.length>0&&(g+="\n"),y=[p,f].filter(ki).join("\n"),y.length>0&&(y+="\n")):(g=[Yi(n),"#define SHADER_NAME "+n.shaderName,f,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+d,"#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+h:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(ki).join("\n"),y=[p,Yi(n),"#define SHADER_NAME "+n.shaderName,f,n.alphaTest?"#define ALPHATEST "+n.alphaTest+(n.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+d,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+h:"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.sheen?"#define USE_SHEEN":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(n.extensionShaderTextureLOD||n.envMap)&&n.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==n.toneMapping?"#define TONE_MAPPING":"",0!==n.toneMapping?gn.tonemapping_pars_fragment:"",0!==n.toneMapping?ji("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",gn.encodings_pars_fragment,n.map?Di("mapTexelToLinear",n.mapEncoding):"",n.matcap?Di("matcapTexelToLinear",n.matcapEncoding):"",n.envMap?Di("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMap?Di("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.lightMap?Di("lightMapTexelToLinear",n.lightMapEncoding):"",Ni("linearToOutputTexel",n.outputEncoding),n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(ki).join("\n")),o=Vi(o),o=Fi(o,n),o=Ui(o,n),a=Vi(a),a=Fi(a,n),a=Ui(a,n),o=Xi(o),a=Xi(a),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(_="#version 300 es\n",g=["#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+g,y=["#define varying in","300 es"===n.glslVersion?"":"out highp vec4 pc_fragColor;","300 es"===n.glslVersion?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+y);const b=_+y+a,v=Ii(r,35633,_+g+o),S=Ii(r,35632,b);if(r.attachShader(m,v),r.attachShader(m,S),void 0!==n.index0AttributeName?r.bindAttribLocation(m,0,n.index0AttributeName):!0===n.morphTargets&&r.bindAttribLocation(m,0,"position"),r.linkProgram(m),t.debug.checkShaderErrors){const t=r.getProgramInfoLog(m).trim(),e=r.getShaderInfoLog(v).trim(),n=r.getShaderInfoLog(S).trim();let i=!0,s=!0;if(!1===r.getProgramParameter(m,35714)){i=!1;const e=Pi(r,v,"vertex"),n=Pi(r,S,"fragment");console.error("THREE.WebGLProgram: shader error: ",r.getError(),"35715",r.getProgramParameter(m,35715),"gl.getProgramInfoLog",t,e,n)}else""!==t?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",t):""!==e&&""!==n||(s=!1);s&&(this.diagnostics={runnable:i,programLog:t,vertexShader:{log:e,prefix:g},fragmentShader:{log:n,prefix:y}})}let T,x;return r.deleteShader(v),r.deleteShader(S),this.getUniforms=function(){return void 0===T&&(T=new Ai(r,m)),T},this.getAttributes=function(){return void 0===x&&(x=function(t,e){const n={},i=t.getProgramParameter(e,35721);for(let r=0;r<i;r++){const i=t.getActiveAttrib(e,r).name;n[i]=t.getAttribLocation(e,i)}return n}(r,m)),x},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(m),this.program=void 0},this.name=n.shaderName,this.id=Ri++,this.cacheKey=e,this.usedTimes=1,this.program=m,this.vertexShader=v,this.fragmentShader=S,this}function Zi(t,e,n,i,r,s){const a=[],l=i.isWebGL2,c=i.logarithmicDepthBuffer,h=i.floatVertexTextures,u=i.maxVertexUniforms,d=i.vertexTextures;let p=i.precision;const f={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},m=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen","transmissionMap"];function g(t){let e;return t&&t.isTexture?e=t.encoding:t&&t.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),e=t.texture.encoding):e=3e3,e}return{getParameters:function(r,a,m,y,_){const b=y.fog,v=e.get(r.envMap||(r.isMeshStandardMaterial?y.environment:null)),S=f[r.type],x=_.isSkinnedMesh?function(t){const e=t.skeleton.bones;if(h)return 1024;{const t=Math.floor((u-20)/4),n=Math.min(t,e.length);return n<e.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+e.length+" bones. This GPU supports "+n+"."),0):n}}(_):0;let w,E;if(null!==r.precision&&(p=i.getMaxPrecision(r.precision),p!==r.precision&&console.warn("THREE.WebGLProgram.getParameters:",r.precision,"not supported, using",p,"instead.")),S){const t=_n[S];w=t.vertexShader,E=t.fragmentShader}else w=r.vertexShader,E=r.fragmentShader;const C=t.getRenderTarget();return{isWebGL2:l,shaderID:S,shaderName:r.type,vertexShader:w,fragmentShader:E,defines:r.defines,isRawShaderMaterial:!0===r.isRawShaderMaterial,glslVersion:r.glslVersion,precision:p,instancing:!0===_.isInstancedMesh,instancingColor:!0===_.isInstancedMesh&&null!==_.instanceColor,supportsVertexTextures:d,outputEncoding:null!==C?g(C.texture):t.outputEncoding,map:!!r.map,mapEncoding:g(r.map),matcap:!!r.matcap,matcapEncoding:g(r.matcap),envMap:!!v,envMapMode:v&&v.mapping,envMapEncoding:g(v),envMapCubeUV:!!v&&(306===v.mapping||307===v.mapping),lightMap:!!r.lightMap,lightMapEncoding:g(r.lightMap),aoMap:!!r.aoMap,emissiveMap:!!r.emissiveMap,emissiveMapEncoding:g(r.emissiveMap),bumpMap:!!r.bumpMap,normalMap:!!r.normalMap,objectSpaceNormalMap:1===r.normalMapType,tangentSpaceNormalMap:r.normalMapType===T,clearcoatMap:!!r.clearcoatMap,clearcoatRoughnessMap:!!r.clearcoatRoughnessMap,clearcoatNormalMap:!!r.clearcoatNormalMap,displacementMap:!!r.displacementMap,roughnessMap:!!r.roughnessMap,metalnessMap:!!r.metalnessMap,specularMap:!!r.specularMap,alphaMap:!!r.alphaMap,gradientMap:!!r.gradientMap,sheen:!!r.sheen,transmissionMap:!!r.transmissionMap,combine:r.combine,vertexTangents:r.normalMap&&r.vertexTangents,vertexColors:r.vertexColors,vertexUvs:!!(r.map||r.bumpMap||r.normalMap||r.specularMap||r.alphaMap||r.emissiveMap||r.roughnessMap||r.metalnessMap||r.clearcoatMap||r.clearcoatRoughnessMap||r.clearcoatNormalMap||r.displacementMap||r.transmissionMap),uvsVertexOnly:!(r.map||r.bumpMap||r.normalMap||r.specularMap||r.alphaMap||r.emissiveMap||r.roughnessMap||r.metalnessMap||r.clearcoatNormalMap||r.transmissionMap||!r.displacementMap),fog:!!b,useFog:r.fog,fogExp2:b&&b.isFogExp2,flatShading:r.flatShading,sizeAttenuation:r.sizeAttenuation,logarithmicDepthBuffer:c,skinning:r.skinning&&x>0,maxBones:x,useVertexTexture:h,morphTargets:r.morphTargets,morphNormals:r.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,numDirLights:a.directional.length,numPointLights:a.point.length,numSpotLights:a.spot.length,numRectAreaLights:a.rectArea.length,numHemiLights:a.hemi.length,numDirLightShadows:a.directionalShadowMap.length,numPointLightShadows:a.pointShadowMap.length,numSpotLightShadows:a.spotShadowMap.length,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:r.dithering,shadowMapEnabled:t.shadowMap.enabled&&m.length>0,shadowMapType:t.shadowMap.type,toneMapping:r.toneMapped?t.toneMapping:0,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:r.premultipliedAlpha,alphaTest:r.alphaTest,doubleSided:r.side===o,flipSided:1===r.side,depthPacking:void 0!==r.depthPacking&&r.depthPacking,index0AttributeName:r.index0AttributeName,extensionDerivatives:r.extensions&&r.extensions.derivatives,extensionFragDepth:r.extensions&&r.extensions.fragDepth,extensionDrawBuffers:r.extensions&&r.extensions.drawBuffers,extensionShaderTextureLOD:r.extensions&&r.extensions.shaderTextureLOD,rendererExtensionFragDepth:l||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:l||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:l||n.has("EXT_shader_texture_lod"),customProgramCacheKey:r.customProgramCacheKey()}},getProgramCacheKey:function(e){const n=[];if(e.shaderID?n.push(e.shaderID):(n.push(e.fragmentShader),n.push(e.vertexShader)),void 0!==e.defines)for(const t in e.defines)n.push(t),n.push(e.defines[t]);if(!1===e.isRawShaderMaterial){for(let t=0;t<m.length;t++)n.push(e[m[t]]);n.push(t.outputEncoding),n.push(t.gammaFactor)}return n.push(e.customProgramCacheKey),n.join()},getUniforms:function(t){const e=f[t.type];let n;return n=e?en.clone(_n[e].uniforms):t.uniforms,n},acquireProgram:function(e,n){let i;for(let t=0,r=a.length;t<r;t++){const e=a[t];if(e.cacheKey===n){i=e,++i.usedTimes;break}}return void 0===i&&(i=new Ki(t,n,e,r),a.push(i)),i},releaseProgram:function(t){if(0==--t.usedTimes){const e=a.indexOf(t);a[e]=a[a.length-1],a.pop(),t.destroy()}},programs:a}}function Ji(){let t=new WeakMap;return{get:function(e){let n=t.get(e);return void 0===n&&(n={},t.set(e,n)),n},remove:function(e){t.delete(e)},update:function(e,n,i){t.get(e)[n]=i},dispose:function(){t=new WeakMap}}}function Qi(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program!==e.program?t.program.id-e.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function $i(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function tr(t){const e=[];let n=0;const i=[],r=[],s={id:-1};function o(i,r,o,a,l,c){let h=e[n];const u=t.get(o);return void 0===h?(h={id:i.id,object:i,geometry:r,material:o,program:u.program||s,groupOrder:a,renderOrder:i.renderOrder,z:l,group:c},e[n]=h):(h.id=i.id,h.object=i,h.geometry=r,h.material=o,h.program=u.program||s,h.groupOrder=a,h.renderOrder=i.renderOrder,h.z=l,h.group=c),n++,h}return{opaque:i,transparent:r,init:function(){n=0,i.length=0,r.length=0},push:function(t,e,n,s,a,l){const c=o(t,e,n,s,a,l);(!0===n.transparent?r:i).push(c)},unshift:function(t,e,n,s,a,l){const c=o(t,e,n,s,a,l);(!0===n.transparent?r:i).unshift(c)},finish:function(){for(let t=n,i=e.length;t<i;t++){const n=e[t];if(null===n.id)break;n.id=null,n.object=null,n.geometry=null,n.material=null,n.program=null,n.group=null}},sort:function(t,e){i.length>1&&i.sort(t||Qi),r.length>1&&r.sort(e||$i)}}}function er(t){let e=new WeakMap;return{get:function(n,i){const r=e.get(n);let s;return void 0===r?(s=new tr(t),e.set(n,new WeakMap),e.get(n).set(i,s)):(s=r.get(i),void 0===s&&(s=new tr(t),r.set(i,s))),s},dispose:function(){e=new WeakMap}}}function nr(){const t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new k,color:new re};break;case"SpotLight":n={position:new k,direction:new k,color:new re,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new k,color:new re,distance:0,decay:0};break;case"HemisphereLight":n={direction:new k,skyColor:new re,groundColor:new re};break;case"RectAreaLight":n={color:new re,position:new k,halfWidth:new k,halfHeight:new k}}return t[e.id]=n,n}}}let ir=0;function rr(t,e){return(e.castShadow?1:0)-(t.castShadow?1:0)}function sr(t,e){const n=new nr,i=function(){const t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];let n;switch(e.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new M};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new M,shadowCameraNear:1,shadowCameraFar:1e3}}return t[e.id]=n,n}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let l=0;l<9;l++)r.probe.push(new k);const s=new k,o=new ut,a=new ut;return{setup:function(s){let o=0,a=0,l=0;for(let t=0;t<9;t++)r.probe[t].set(0,0,0);let c=0,h=0,u=0,d=0,p=0,f=0,m=0,g=0;s.sort(rr);for(let t=0,e=s.length;t<e;t++){const e=s[t],y=e.color,_=e.intensity,b=e.distance,v=e.shadow&&e.shadow.map?e.shadow.map.texture:null;if(e.isAmbientLight)o+=y.r*_,a+=y.g*_,l+=y.b*_;else if(e.isLightProbe)for(let t=0;t<9;t++)r.probe[t].addScaledVector(e.sh.coefficients[t],_);else if(e.isDirectionalLight){const t=n.get(e);if(t.color.copy(e.color).multiplyScalar(e.intensity),e.castShadow){const t=e.shadow,n=i.get(e);n.shadowBias=t.bias,n.shadowNormalBias=t.normalBias,n.shadowRadius=t.radius,n.shadowMapSize=t.mapSize,r.directionalShadow[c]=n,r.directionalShadowMap[c]=v,r.directionalShadowMatrix[c]=e.shadow.matrix,f++}r.directional[c]=t,c++}else if(e.isSpotLight){const t=n.get(e);if(t.position.setFromMatrixPosition(e.matrixWorld),t.color.copy(y).multiplyScalar(_),t.distance=b,t.coneCos=Math.cos(e.angle),t.penumbraCos=Math.cos(e.angle*(1-e.penumbra)),t.decay=e.decay,e.castShadow){const t=e.shadow,n=i.get(e);n.shadowBias=t.bias,n.shadowNormalBias=t.normalBias,n.shadowRadius=t.radius,n.shadowMapSize=t.mapSize,r.spotShadow[u]=n,r.spotShadowMap[u]=v,r.spotShadowMatrix[u]=e.shadow.matrix,g++}r.spot[u]=t,u++}else if(e.isRectAreaLight){const t=n.get(e);t.color.copy(y).multiplyScalar(_),t.halfWidth.set(.5*e.width,0,0),t.halfHeight.set(0,.5*e.height,0),r.rectArea[d]=t,d++}else if(e.isPointLight){const t=n.get(e);if(t.color.copy(e.color).multiplyScalar(e.intensity),t.distance=e.distance,t.decay=e.decay,e.castShadow){const t=e.shadow,n=i.get(e);n.shadowBias=t.bias,n.shadowNormalBias=t.normalBias,n.shadowRadius=t.radius,n.shadowMapSize=t.mapSize,n.shadowCameraNear=t.camera.near,n.shadowCameraFar=t.camera.far,r.pointShadow[h]=n,r.pointShadowMap[h]=v,r.pointShadowMatrix[h]=e.shadow.matrix,m++}r.point[h]=t,h++}else if(e.isHemisphereLight){const t=n.get(e);t.skyColor.copy(e.color).multiplyScalar(_),t.groundColor.copy(e.groundColor).multiplyScalar(_),r.hemi[p]=t,p++}}d>0&&(e.isWebGL2||!0===t.has("OES_texture_float_linear")?(r.rectAreaLTC1=yn.LTC_FLOAT_1,r.rectAreaLTC2=yn.LTC_FLOAT_2):!0===t.has("OES_texture_half_float_linear")?(r.rectAreaLTC1=yn.LTC_HALF_1,r.rectAreaLTC2=yn.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=o,r.ambient[1]=a,r.ambient[2]=l;const y=r.hash;y.directionalLength===c&&y.pointLength===h&&y.spotLength===u&&y.rectAreaLength===d&&y.hemiLength===p&&y.numDirectionalShadows===f&&y.numPointShadows===m&&y.numSpotShadows===g||(r.directional.length=c,r.spot.length=u,r.rectArea.length=d,r.point.length=h,r.hemi.length=p,r.directionalShadow.length=f,r.directionalShadowMap.length=f,r.pointShadow.length=m,r.pointShadowMap.length=m,r.spotShadow.length=g,r.spotShadowMap.length=g,r.directionalShadowMatrix.length=f,r.pointShadowMatrix.length=m,r.spotShadowMatrix.length=g,y.directionalLength=c,y.pointLength=h,y.spotLength=u,y.rectAreaLength=d,y.hemiLength=p,y.numDirectionalShadows=f,y.numPointShadows=m,y.numSpotShadows=g,r.version=ir++)},setupView:function(t,e){let n=0,i=0,l=0,c=0,h=0;const u=e.matrixWorldInverse;for(let d=0,p=t.length;d<p;d++){const e=t[d];if(e.isDirectionalLight){const t=r.directional[n];t.direction.setFromMatrixPosition(e.matrixWorld),s.setFromMatrixPosition(e.target.matrixWorld),t.direction.sub(s),t.direction.transformDirection(u),n++}else if(e.isSpotLight){const t=r.spot[l];t.position.setFromMatrixPosition(e.matrixWorld),t.position.applyMatrix4(u),t.direction.setFromMatrixPosition(e.matrixWorld),s.setFromMatrixPosition(e.target.matrixWorld),t.direction.sub(s),t.direction.transformDirection(u),l++}else if(e.isRectAreaLight){const t=r.rectArea[c];t.position.setFromMatrixPosition(e.matrixWorld),t.position.applyMatrix4(u),a.identity(),o.copy(e.matrixWorld),o.premultiply(u),a.extractRotation(o),t.halfWidth.set(.5*e.width,0,0),t.halfHeight.set(0,.5*e.height,0),t.halfWidth.applyMatrix4(a),t.halfHeight.applyMatrix4(a),c++}else if(e.isPointLight){const t=r.point[i];t.position.setFromMatrixPosition(e.matrixWorld),t.position.applyMatrix4(u),i++}else if(e.isHemisphereLight){const t=r.hemi[h];t.direction.setFromMatrixPosition(e.matrixWorld),t.direction.transformDirection(u),t.direction.normalize(),h++}}},state:r}}function or(t,e){const n=new sr(t,e),i=[],r=[];return{init:function(){i.length=0,r.length=0},state:{lightsArray:i,shadowsArray:r,lights:n},setupLights:function(){n.setup(i)},setupLightsView:function(t){n.setupView(i,t)},pushLight:function(t){i.push(t)},pushShadow:function(t){r.push(t)}}}function ar(t,e){let n=new WeakMap;return{get:function(i,r=0){let s;return!1===n.has(i)?(s=new or(t,e),n.set(i,[]),n.get(i).push(s)):r>=n.get(i).length?(s=new or(t,e),n.get(i).push(s)):s=n.get(i)[r],s},dispose:function(){n=new WeakMap}}}function lr(t){ae.call(this),this.type="MeshDepthMaterial",this.depthPacking=3200,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(t)}function cr(t){ae.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new k,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(t)}function hr(t,e,n){let i=new dn;const r=new M,a=new M,l=new D,c=[],u=[],d={},f={0:1,1:s,2:o},m=new nn({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new M},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );\n\tfor ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean * HALF_SAMPLE_RATE;\n\tsquared_mean = squared_mean * HALF_SAMPLE_RATE;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),g=m.clone();g.defines.HORIZONTAL_PASS=1;const y=new Le;y.setAttribute("position",new ue(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const _=new Ze(y,m),b=this;function v(n,i){const r=e.update(_);m.uniforms.shadow_pass.value=n.map.texture,m.uniforms.resolution.value=n.mapSize,m.uniforms.radius.value=n.radius,t.setRenderTarget(n.mapPass),t.clear(),t.renderBufferDirect(i,null,r,m,_,null),g.uniforms.shadow_pass.value=n.mapPass.texture,g.uniforms.resolution.value=n.mapSize,g.uniforms.radius.value=n.radius,t.setRenderTarget(n.map),t.clear(),t.renderBufferDirect(i,null,r,g,_,null)}function S(t,e,n){const i=t<<0|e<<1|n<<2;let r=c[i];return void 0===r&&(r=new lr({depthPacking:3201,morphTargets:t,skinning:e}),c[i]=r),r}function T(t,e,n){const i=t<<0|e<<1|n<<2;let r=u[i];return void 0===r&&(r=new cr({morphTargets:t,skinning:e}),u[i]=r),r}function x(e,n,i,r,s,o,a){let l=null,c=S,h=e.customDepthMaterial;if(!0===r.isPointLight&&(c=T,h=e.customDistanceMaterial),void 0===h){let t=!1;!0===i.morphTargets&&(t=n.morphAttributes&&n.morphAttributes.position&&n.morphAttributes.position.length>0);let r=!1;!0===e.isSkinnedMesh&&(!0===i.skinning?r=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",e)),l=c(t,r,!0===e.isInstancedMesh)}else l=h;if(t.localClippingEnabled&&!0===i.clipShadows&&0!==i.clippingPlanes.length){const t=l.uuid,e=i.uuid;let n=d[t];void 0===n&&(n={},d[t]=n);let r=n[e];void 0===r&&(r=l.clone(),n[e]=r),l=r}return l.visible=i.visible,l.wireframe=i.wireframe,l.side=3===a?null!==i.shadowSide?i.shadowSide:i.side:null!==i.shadowSide?i.shadowSide:f[i.side],l.clipShadows=i.clipShadows,l.clippingPlanes=i.clippingPlanes,l.clipIntersection=i.clipIntersection,l.wireframeLinewidth=i.wireframeLinewidth,l.linewidth=i.linewidth,!0===r.isPointLight&&!0===l.isMeshDistanceMaterial&&(l.referencePosition.setFromMatrixPosition(r.matrixWorld),l.nearDistance=s,l.farDistance=o),l}function w(n,r,s,o,a){if(!1===n.visible)return;if(n.layers.test(r.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&3===a)&&(!n.frustumCulled||i.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(s.matrixWorldInverse,n.matrixWorld);const i=e.update(n),r=n.material;if(Array.isArray(r)){const e=i.groups;for(let l=0,c=e.length;l<c;l++){const c=e[l],h=r[c.materialIndex];if(h&&h.visible){const e=x(n,i,h,o,s.near,s.far,a);t.renderBufferDirect(s,null,i,e,n,c)}}}else if(r.visible){const e=x(n,i,r,o,s.near,s.far,a);t.renderBufferDirect(s,null,i,e,n,null)}}const l=n.children;for(let t=0,e=l.length;t<e;t++)w(l[t],r,s,o,a)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(e,s,o){if(!1===b.enabled)return;if(!1===b.autoUpdate&&!1===b.needsUpdate)return;if(0===e.length)return;const c=t.getRenderTarget(),u=t.getActiveCubeFace(),d=t.getActiveMipmapLevel(),f=t.state;f.setBlending(0),f.buffers.color.setClear(1,1,1,1),f.buffers.depth.setTest(!0),f.setScissorTest(!1);for(let m=0,g=e.length;m<g;m++){const c=e[m],u=c.shadow;if(void 0===u){console.warn("THREE.WebGLShadowMap:",c,"has no shadow.");continue}if(!1===u.autoUpdate&&!1===u.needsUpdate)continue;r.copy(u.mapSize);const d=u.getFrameExtents();if(r.multiply(d),a.copy(u.mapSize),(r.x>n||r.y>n)&&(r.x>n&&(a.x=Math.floor(n/d.x),r.x=a.x*d.x,u.mapSize.x=a.x),r.y>n&&(a.y=Math.floor(n/d.y),r.y=a.y*d.y,u.mapSize.y=a.y)),null===u.map&&!u.isPointLightShadow&&3===this.type){const t={minFilter:p,magFilter:p,format:1023};u.map=new N(r.x,r.y,t),u.map.texture.name=c.name+".shadowMap",u.mapPass=new N(r.x,r.y,t),u.camera.updateProjectionMatrix()}null===u.map&&(u.map=new N(r.x,r.y,{minFilter:h,magFilter:h,format:1023}),u.map.texture.name=c.name+".shadowMap",u.camera.updateProjectionMatrix()),t.setRenderTarget(u.map),t.clear();const g=u.getViewportCount();for(let t=0;t<g;t++){const e=u.getViewport(t);l.set(a.x*e.x,a.y*e.y,a.x*e.z,a.y*e.w),f.viewport(l),u.updateMatrices(c,t),i=u.getFrustum(),w(s,o,u.camera,c,this.type)}u.isPointLightShadow||3!==this.type||v(u,o),u.needsUpdate=!1}b.needsUpdate=!1,t.setRenderTarget(c,u,d)}}function ur(t,e,n){const i=n.isWebGL2,r=new function(){let e=!1;const n=new D;let i=null;const r=new D(0,0,0,0);return{setMask:function(n){i===n||e||(t.colorMask(n,n,n,n),i=n)},setLocked:function(t){e=t},setClear:function(e,i,s,o,a){!0===a&&(e*=o,i*=o,s*=o),n.set(e,i,s,o),!1===r.equals(n)&&(t.clearColor(e,i,s,o),r.copy(n))},reset:function(){e=!1,i=null,r.set(-1,0,0,0)}}},s=new function(){let e=!1,n=null,i=null,r=null;return{setTest:function(t){t?N(2929):j(2929)},setMask:function(i){n===i||e||(t.depthMask(i),n=i)},setFunc:function(e){if(i!==e){if(e)switch(e){case 0:t.depthFunc(512);break;case 1:t.depthFunc(519);break;case 2:t.depthFunc(513);break;case 3:t.depthFunc(515);break;case 4:t.depthFunc(514);break;case 5:t.depthFunc(518);break;case 6:t.depthFunc(516);break;case 7:t.depthFunc(517);break;default:t.depthFunc(515)}else t.depthFunc(515);i=e}},setLocked:function(t){e=t},setClear:function(e){r!==e&&(t.clearDepth(e),r=e)},reset:function(){e=!1,n=null,i=null,r=null}}},a=new function(){let e=!1,n=null,i=null,r=null,s=null,o=null,a=null,l=null,c=null;return{setTest:function(t){e||(t?N(2960):j(2960))},setMask:function(i){n===i||e||(t.stencilMask(i),n=i)},setFunc:function(e,n,o){i===e&&r===n&&s===o||(t.stencilFunc(e,n,o),i=e,r=n,s=o)},setOp:function(e,n,i){o===e&&a===n&&l===i||(t.stencilOp(e,n,i),o=e,a=n,l=i)},setLocked:function(t){e=t},setClear:function(e){c!==e&&(t.clearStencil(e),c=e)},reset:function(){e=!1,n=null,i=null,r=null,s=null,o=null,a=null,l=null,c=null}}};let l={},c=null,h=null,u=null,d=null,p=null,f=null,m=null,g=null,y=null,_=!1,b=null,v=null,S=null,T=null,x=null;const w=t.getParameter(35661);let E=!1,C=0;const M=t.getParameter(7938);-1!==M.indexOf("WebGL")?(C=parseFloat(/^WebGL (\d)/.exec(M)[1]),E=C>=1):-1!==M.indexOf("OpenGL ES")&&(C=parseFloat(/^OpenGL ES (\d)/.exec(M)[1]),E=C>=2);let O=null,A={};const I=new D,R=new D;function L(e,n,i){const r=new Uint8Array(4),s=t.createTexture();t.bindTexture(e,s),t.texParameteri(e,10241,9728),t.texParameteri(e,10240,9728);for(let o=0;o<i;o++)t.texImage2D(n+o,0,6408,1,1,0,6408,5121,r);return s}const P={};function N(e){!0!==l[e]&&(t.enable(e),l[e]=!0)}function j(e){!1!==l[e]&&(t.disable(e),l[e]=!1)}P[3553]=L(3553,3553,1),P[34067]=L(34067,34069,6),r.setClear(0,0,0,1),s.setClear(1),a.setClear(0),N(2929),s.setFunc(3),G(!1),V(1),N(2884),U(0);const k={100:32774,101:32778,102:32779};if(i)k[103]=32775,k[104]=32776;else{const t=e.get("EXT_blend_minmax");null!==t&&(k[103]=t.MIN_EXT,k[104]=t.MAX_EXT)}const F={200:0,201:1,202:768,204:770,210:776,208:774,206:772,203:769,205:771,209:775,207:773};function U(e,n,i,r,s,o,a,l){if(0!==e){if(h||(N(3042),h=!0),5===e)s=s||n,o=o||i,a=a||r,n===d&&s===m||(t.blendEquationSeparate(k[n],k[s]),d=n,m=s),i===p&&r===f&&o===g&&a===y||(t.blendFuncSeparate(F[i],F[r],F[o],F[a]),p=i,f=r,g=o,y=a),u=e,_=null;else if(e!==u||l!==_){if(100===d&&100===m||(t.blendEquation(32774),d=100,m=100),l)switch(e){case 1:t.blendFuncSeparate(1,771,1,771);break;case 2:t.blendFunc(1,1);break;case 3:t.blendFuncSeparate(0,0,769,771);break;case 4:t.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}else switch(e){case 1:t.blendFuncSeparate(770,771,1,771);break;case 2:t.blendFunc(770,1);break;case 3:t.blendFunc(0,769);break;case 4:t.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}p=null,f=null,g=null,y=null,u=e,_=l}}else h&&(j(3042),h=!1)}function G(e){b!==e&&(t.frontFace(e?2304:2305),b=e)}function V(e){0!==e?(N(2884),e!==v&&t.cullFace(1===e?1029:2===e?1028:1032)):j(2884),v=e}function B(e,n,i){e?(N(32823),T===n&&x===i||(t.polygonOffset(n,i),T=n,x=i)):j(32823)}function z(e){void 0===e&&(e=33984+w-1),O!==e&&(t.activeTexture(e),O=e)}return{buffers:{color:r,depth:s,stencil:a},enable:N,disable:j,useProgram:function(e){return c!==e&&(t.useProgram(e),c=e,!0)},setBlending:U,setMaterial:function(t,e){t.side===o?j(2884):N(2884);let n=1===t.side;e&&(n=!n),G(n),1===t.blending&&!1===t.transparent?U(0):U(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha),s.setFunc(t.depthFunc),s.setTest(t.depthTest),s.setMask(t.depthWrite),r.setMask(t.colorWrite);const i=t.stencilWrite;a.setTest(i),i&&(a.setMask(t.stencilWriteMask),a.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),a.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),B(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)},setFlipSided:G,setCullFace:V,setLineWidth:function(e){e!==S&&(E&&t.lineWidth(e),S=e)},setPolygonOffset:B,setScissorTest:function(t){t?N(3089):j(3089)},activeTexture:z,bindTexture:function(e,n){null===O&&z();let i=A[O];void 0===i&&(i={type:void 0,texture:void 0},A[O]=i),i.type===e&&i.texture===n||(t.bindTexture(e,n||P[e]),i.type=e,i.texture=n)},unbindTexture:function(){const e=A[O];void 0!==e&&void 0!==e.type&&(t.bindTexture(e.type,null),e.type=void 0,e.texture=void 0)},compressedTexImage2D:function(){try{t.compressedTexImage2D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage2D:function(){try{t.texImage2D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage3D:function(){try{t.texImage3D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},scissor:function(e){!1===I.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),I.copy(e))},viewport:function(e){!1===R.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),R.copy(e))},reset:function(){l={},O=null,A={},c=null,h=null,u=null,d=null,p=null,f=null,m=null,g=null,y=null,_=!1,b=null,v=null,S=null,T=null,x=null,r.reset(),s.reset(),a.reset()}}}function dr(t,e,n,i,r,s,o){const y=r.isWebGL2,_=r.maxTextures,b=r.maxCubemapSize,v=r.maxTextureSize,S=r.maxSamples,T=new WeakMap;let x,w=!1;try{w="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(Y){}function E(t,e){return w?new OffscreenCanvas(t,e):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function M(t,e,n,i){let r=1;if((t.width>i||t.height>i)&&(r=i/Math.max(t.width,t.height)),r<1||!0===e){if("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap){const i=e?C.floorPowerOfTwo:Math.floor,s=i(r*t.width),o=i(r*t.height);void 0===x&&(x=E(s,o));const a=n?E(s,o):x;return a.width=s,a.height=o,a.getContext("2d").drawImage(t,0,0,s,o),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+t.width+"x"+t.height+") to ("+s+"x"+o+")."),a}return"data"in t&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+t.width+"x"+t.height+")."),t}return t}function O(t){return C.isPowerOfTwo(t.width)&&C.isPowerOfTwo(t.height)}function A(t,e){return t.generateMipmaps&&e&&t.minFilter!==h&&t.minFilter!==p}function I(e,n,r,s){t.generateMipmap(e),i.get(n).__maxMipLevel=Math.log(Math.max(r,s))*Math.LOG2E}function R(n,i,r){if(!1===y)return i;if(null!==n){if(void 0!==t[n])return t[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}let s=i;return 6403===i&&(5126===r&&(s=33326),5131===r&&(s=33325),5121===r&&(s=33321)),6407===i&&(5126===r&&(s=34837),5131===r&&(s=34843),5121===r&&(s=32849)),6408===i&&(5126===r&&(s=34836),5131===r&&(s=34842),5121===r&&(s=32856)),33325!==s&&33326!==s&&34842!==s&&34836!==s||e.get("EXT_color_buffer_float"),s}function L(t){return t===h||t===u||t===d?9728:9729}function P(e){const n=e.target;n.removeEventListener("dispose",P),function(e){const n=i.get(e);void 0!==n.__webglInit&&(t.deleteTexture(n.__webglTexture),i.remove(e))}(n),n.isVideoTexture&&T.delete(n),o.memory.textures--}function D(e){const n=e.target;n.removeEventListener("dispose",D),function(e){const n=i.get(e),r=i.get(e.texture);if(e){if(void 0!==r.__webglTexture&&t.deleteTexture(r.__webglTexture),e.depthTexture&&e.depthTexture.dispose(),e.isWebGLCubeRenderTarget)for(let e=0;e<6;e++)t.deleteFramebuffer(n.__webglFramebuffer[e]),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer[e]);else t.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer),n.__webglMultisampledFramebuffer&&t.deleteFramebuffer(n.__webglMultisampledFramebuffer),n.__webglColorRenderbuffer&&t.deleteRenderbuffer(n.__webglColorRenderbuffer),n.__webglDepthRenderbuffer&&t.deleteRenderbuffer(n.__webglDepthRenderbuffer);i.remove(e.texture),i.remove(e)}}(n),o.memory.textures--}let N=0;function j(t,e){const r=i.get(t);if(t.isVideoTexture&&function(t){const e=o.render.frame;T.get(t)!==e&&(T.set(t,e),t.update())}(t),t.version>0&&r.__version!==t.version){const n=t.image;if(void 0===n)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==n.complete)return void B(r,t,e);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(33984+e),n.bindTexture(3553,r.__webglTexture)}function k(e,r){const o=i.get(e);e.version>0&&o.__version!==e.version?function(e,i,r){if(6!==i.image.length)return;V(e,i),n.activeTexture(33984+r),n.bindTexture(34067,e.__webglTexture),t.pixelStorei(37440,i.flipY),t.pixelStorei(37441,i.premultiplyAlpha),t.pixelStorei(3317,i.unpackAlignment);const o=i&&(i.isCompressedTexture||i.image[0].isCompressedTexture),a=i.image[0]&&i.image[0].isDataTexture,l=[];for(let t=0;t<6;t++)l[t]=o||a?a?i.image[t].image:i.image[t]:M(i.image[t],!1,!0,b);const c=l[0],h=O(c)||y,u=s.convert(i.format),d=s.convert(i.type),p=R(i.internalFormat,u,d);let f;if(G(34067,i,h),o){for(let t=0;t<6;t++){f=l[t].mipmaps;for(let e=0;e<f.length;e++){const r=f[e];1023!==i.format&&i.format!==g?null!==u?n.compressedTexImage2D(34069+t,e,p,r.width,r.height,0,r.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+t,e,p,r.width,r.height,0,u,d,r.data)}}e.__maxMipLevel=f.length-1}else{f=i.mipmaps;for(let t=0;t<6;t++)if(a){n.texImage2D(34069+t,0,p,l[t].width,l[t].height,0,u,d,l[t].data);for(let e=0;e<f.length;e++){const i=f[e].image[t].image;n.texImage2D(34069+t,e+1,p,i.width,i.height,0,u,d,i.data)}}else{n.texImage2D(34069+t,0,p,u,d,l[t]);for(let e=0;e<f.length;e++)n.texImage2D(34069+t,e+1,p,u,d,f[e].image[t])}e.__maxMipLevel=f.length}A(i,h)&&I(34067,i,c.width,c.height),e.__version=i.version,i.onUpdate&&i.onUpdate(i)}(o,e,r):(n.activeTexture(33984+r),n.bindTexture(34067,o.__webglTexture))}const F={[a]:10497,[l]:33071,[c]:33648},U={[h]:9728,[u]:9984,[d]:9986,[p]:9729,[f]:9985,[m]:9987};function G(n,s,o){o?(t.texParameteri(n,10242,F[s.wrapS]),t.texParameteri(n,10243,F[s.wrapT]),32879!==n&&35866!==n||t.texParameteri(n,32882,F[s.wrapR]),t.texParameteri(n,10240,U[s.magFilter]),t.texParameteri(n,10241,U[s.minFilter])):(t.texParameteri(n,10242,33071),t.texParameteri(n,10243,33071),32879!==n&&35866!==n||t.texParameteri(n,32882,33071),s.wrapS===l&&s.wrapT===l||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(n,10240,L(s.magFilter)),t.texParameteri(n,10241,L(s.minFilter)),s.minFilter!==h&&s.minFilter!==p&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));const a=e.get("EXT_texture_filter_anisotropic");if(a){if(1015===s.type&&null===e.get("OES_texture_float_linear"))return;if(1016===s.type&&null===(y||e.get("OES_texture_half_float_linear")))return;(s.anisotropy>1||i.get(s).__currentAnisotropy)&&(t.texParameterf(n,a.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(s.anisotropy,r.getMaxAnisotropy())),i.get(s).__currentAnisotropy=s.anisotropy)}}function V(e,n){void 0===e.__webglInit&&(e.__webglInit=!0,n.addEventListener("dispose",P),e.__webglTexture=t.createTexture(),o.memory.textures++)}function B(e,i,r){let o=3553;i.isDataTexture2DArray&&(o=35866),i.isDataTexture3D&&(o=32879),V(e,i),n.activeTexture(33984+r),n.bindTexture(o,e.__webglTexture),t.pixelStorei(37440,i.flipY),t.pixelStorei(37441,i.premultiplyAlpha),t.pixelStorei(3317,i.unpackAlignment);const a=function(t){return!y&&(t.wrapS!==l||t.wrapT!==l||t.minFilter!==h&&t.minFilter!==p)}(i)&&!1===O(i.image),c=M(i.image,a,!1,v),u=O(c)||y,d=s.convert(i.format);let f,m=s.convert(i.type),_=R(i.internalFormat,d,m);G(o,i,u);const b=i.mipmaps;if(i.isDepthTexture)_=6402,y?_=1015===i.type?36012:1014===i.type?33190:1020===i.type?35056:33189:1015===i.type&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),1026===i.format&&6402===_&&1012!==i.type&&1014!==i.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),i.type=1012,m=s.convert(i.type)),1027===i.format&&6402===_&&(_=34041,1020!==i.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),i.type=1020,m=s.convert(i.type))),n.texImage2D(3553,0,_,c.width,c.height,0,d,m,null);else if(i.isDataTexture)if(b.length>0&&u){for(let t=0,e=b.length;t<e;t++)f=b[t],n.texImage2D(3553,t,_,f.width,f.height,0,d,m,f.data);i.generateMipmaps=!1,e.__maxMipLevel=b.length-1}else n.texImage2D(3553,0,_,c.width,c.height,0,d,m,c.data),e.__maxMipLevel=0;else if(i.isCompressedTexture){for(let t=0,e=b.length;t<e;t++)f=b[t],1023!==i.format&&i.format!==g?null!==d?n.compressedTexImage2D(3553,t,_,f.width,f.height,0,f.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,t,_,f.width,f.height,0,d,m,f.data);e.__maxMipLevel=b.length-1}else if(i.isDataTexture2DArray)n.texImage3D(35866,0,_,c.width,c.height,c.depth,0,d,m,c.data),e.__maxMipLevel=0;else if(i.isDataTexture3D)n.texImage3D(32879,0,_,c.width,c.height,c.depth,0,d,m,c.data),e.__maxMipLevel=0;else if(b.length>0&&u){for(let t=0,e=b.length;t<e;t++)f=b[t],n.texImage2D(3553,t,_,d,m,f);i.generateMipmaps=!1,e.__maxMipLevel=b.length-1}else n.texImage2D(3553,0,_,d,m,c),e.__maxMipLevel=0;A(i,u)&&I(o,i,c.width,c.height),e.__version=i.version,i.onUpdate&&i.onUpdate(i)}function z(e,r,o,a){const l=s.convert(r.texture.format),c=s.convert(r.texture.type),h=R(r.texture.internalFormat,l,c);n.texImage2D(a,0,h,r.width,r.height,0,l,c,null),t.bindFramebuffer(36160,e),t.framebufferTexture2D(36160,o,a,i.get(r.texture).__webglTexture,0),t.bindFramebuffer(36160,null)}function H(e,n,i){if(t.bindRenderbuffer(36161,e),n.depthBuffer&&!n.stencilBuffer){let r=33189;if(i){const e=n.depthTexture;e&&e.isDepthTexture&&(1015===e.type?r=36012:1014===e.type&&(r=33190));const i=X(n);t.renderbufferStorageMultisample(36161,i,r,n.width,n.height)}else t.renderbufferStorage(36161,r,n.width,n.height);t.framebufferRenderbuffer(36160,36096,36161,e)}else if(n.depthBuffer&&n.stencilBuffer){if(i){const e=X(n);t.renderbufferStorageMultisample(36161,e,35056,n.width,n.height)}else t.renderbufferStorage(36161,34041,n.width,n.height);t.framebufferRenderbuffer(36160,33306,36161,e)}else{const e=s.convert(n.texture.format),r=s.convert(n.texture.type),o=R(n.texture.internalFormat,e,r);if(i){const e=X(n);t.renderbufferStorageMultisample(36161,e,o,n.width,n.height)}else t.renderbufferStorage(36161,o,n.width,n.height)}t.bindRenderbuffer(36161,null)}function X(t){return y&&t.isWebGLMultisampleRenderTarget?Math.min(S,t.samples):0}let q=!1,W=!1;this.allocateTextureUnit=function(){const t=N;return t>=_&&console.warn("THREE.WebGLTextures: Trying to use "+t+" texture units while this GPU supports only "+_),N+=1,t},this.resetTextureUnits=function(){N=0},this.setTexture2D=j,this.setTexture2DArray=function(t,e){const r=i.get(t);t.version>0&&r.__version!==t.version?B(r,t,e):(n.activeTexture(33984+e),n.bindTexture(35866,r.__webglTexture))},this.setTexture3D=function(t,e){const r=i.get(t);t.version>0&&r.__version!==t.version?B(r,t,e):(n.activeTexture(33984+e),n.bindTexture(32879,r.__webglTexture))},this.setTextureCube=k,this.setupRenderTarget=function(e){const r=i.get(e),a=i.get(e.texture);e.addEventListener("dispose",D),a.__webglTexture=t.createTexture(),o.memory.textures++;const l=!0===e.isWebGLCubeRenderTarget,c=!0===e.isWebGLMultisampleRenderTarget,h=O(e)||y;if(!y||e.texture.format!==g||1015!==e.texture.type&&1016!==e.texture.type||(e.texture.format=1023,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),l){r.__webglFramebuffer=[];for(let e=0;e<6;e++)r.__webglFramebuffer[e]=t.createFramebuffer()}else if(r.__webglFramebuffer=t.createFramebuffer(),c)if(y){r.__webglMultisampledFramebuffer=t.createFramebuffer(),r.__webglColorRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(36161,r.__webglColorRenderbuffer);const n=s.convert(e.texture.format),i=s.convert(e.texture.type),o=R(e.texture.internalFormat,n,i),a=X(e);t.renderbufferStorageMultisample(36161,a,o,e.width,e.height),t.bindFramebuffer(36160,r.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064,36161,r.__webglColorRenderbuffer),t.bindRenderbuffer(36161,null),e.depthBuffer&&(r.__webglDepthRenderbuffer=t.createRenderbuffer(),H(r.__webglDepthRenderbuffer,e,!0)),t.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(l){n.bindTexture(34067,a.__webglTexture),G(34067,e.texture,h);for(let t=0;t<6;t++)z(r.__webglFramebuffer[t],e,36064,34069+t);A(e.texture,h)&&I(34067,e.texture,e.width,e.height),n.bindTexture(34067,null)}else n.bindTexture(3553,a.__webglTexture),G(3553,e.texture,h),z(r.__webglFramebuffer,e,36064,3553),A(e.texture,h)&&I(3553,e.texture,e.width,e.height),n.bindTexture(3553,null);e.depthBuffer&&function(e){const n=i.get(e),r=!0===e.isWebGLCubeRenderTarget;if(e.depthTexture){if(r)throw new Error("target.depthTexture not supported in Cube render targets");!function(e,n){if(n&&n.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,e),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");i.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),j(n.depthTexture,0);const r=i.get(n.depthTexture).__webglTexture;if(1026===n.depthTexture.format)t.framebufferTexture2D(36160,36096,3553,r,0);else{if(1027!==n.depthTexture.format)throw new Error("Unknown depthTexture format");t.framebufferTexture2D(36160,33306,3553,r,0)}}(n.__webglFramebuffer,e)}else if(r){n.__webglDepthbuffer=[];for(let i=0;i<6;i++)t.bindFramebuffer(36160,n.__webglFramebuffer[i]),n.__webglDepthbuffer[i]=t.createRenderbuffer(),H(n.__webglDepthbuffer[i],e,!1)}else t.bindFramebuffer(36160,n.__webglFramebuffer),n.__webglDepthbuffer=t.createRenderbuffer(),H(n.__webglDepthbuffer,e,!1);t.bindFramebuffer(36160,null)}(e)},this.updateRenderTargetMipmap=function(t){const e=t.texture;if(A(e,O(t)||y)){const r=t.isWebGLCubeRenderTarget?34067:3553,s=i.get(e).__webglTexture;n.bindTexture(r,s),I(r,e,t.width,t.height),n.bindTexture(r,null)}},this.updateMultisampleRenderTarget=function(e){if(e.isWebGLMultisampleRenderTarget)if(y){const n=i.get(e);t.bindFramebuffer(36008,n.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,n.__webglFramebuffer);const r=e.width,s=e.height;let o=16384;e.depthBuffer&&(o|=256),e.stencilBuffer&&(o|=1024),t.blitFramebuffer(0,0,r,s,0,0,r,s,o,9728),t.bindFramebuffer(36160,n.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(t,e){t&&t.isWebGLRenderTarget&&(!1===q&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),q=!0),t=t.texture),j(t,e)},this.safeSetTextureCube=function(t,e){t&&t.isWebGLCubeRenderTarget&&(!1===W&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),W=!0),t=t.texture),k(t,e)}}function pr(t,e,n){const i=n.isWebGL2;return{convert:function(t){let n;if(1009===t)return 5121;if(1017===t)return 32819;if(1018===t)return 32820;if(1019===t)return 33635;if(1010===t)return 5120;if(1011===t)return 5122;if(1012===t)return 5123;if(1013===t)return 5124;if(1014===t)return 5125;if(1015===t)return 5126;if(1016===t)return i?5131:(n=e.get("OES_texture_half_float"),null!==n?n.HALF_FLOAT_OES:null);if(1021===t)return 6406;if(t===g)return 6407;if(1023===t)return 6408;if(1024===t)return 6409;if(1025===t)return 6410;if(1026===t)return 6402;if(1027===t)return 34041;if(1028===t)return 6403;if(1029===t)return 36244;if(1030===t)return 33319;if(1031===t)return 33320;if(1032===t)return 36248;if(1033===t)return 36249;if(33776===t||33777===t||33778===t||33779===t){if(n=e.get("WEBGL_compressed_texture_s3tc"),null===n)return null;if(33776===t)return n.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===t)return n.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===t)return n.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===t)return n.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===t||35841===t||35842===t||35843===t){if(n=e.get("WEBGL_compressed_texture_pvrtc"),null===n)return null;if(35840===t)return n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===t)return n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===t)return n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===t)return n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===t)return n=e.get("WEBGL_compressed_texture_etc1"),null!==n?n.COMPRESSED_RGB_ETC1_WEBGL:null;if((37492===t||37496===t)&&(n=e.get("WEBGL_compressed_texture_etc"),null!==n)){if(37492===t)return n.COMPRESSED_RGB8_ETC2;if(37496===t)return n.COMPRESSED_RGBA8_ETC2_EAC}return 37808===t||37809===t||37810===t||37811===t||37812===t||37813===t||37814===t||37815===t||37816===t||37817===t||37818===t||37819===t||37820===t||37821===t||37840===t||37841===t||37842===t||37843===t||37844===t||37845===t||37846===t||37847===t||37848===t||37849===t||37850===t||37851===t||37852===t||37853===t?(n=e.get("WEBGL_compressed_texture_astc"),null!==n?t:null):36492===t?(n=e.get("EXT_texture_compression_bptc"),null!==n?t:null):1020===t?i?34042:(n=e.get("WEBGL_depth_texture"),null!==n?n.UNSIGNED_INT_24_8_WEBGL:null):void 0}}}function fr(t=[]){sn.call(this),this.cameras=t}function mr(){jt.call(this),this.type="Group"}function gr(){this._targetRay=null,this._grip=null,this._hand=null}function yr(t,e){const n=this;let i=null,r=1,s=null,o="local-floor",a=null;const l=[],c=new Map,h=new sn;h.layers.enable(1),h.viewport=new D;const u=new sn;u.layers.enable(2),u.viewport=new D;const d=[h,u],p=new fr;p.layers.enable(1),p.layers.enable(2);let f=null,m=null;function g(t){const e=c.get(t.inputSource);e&&e.dispatchEvent({type:t.type,data:t.inputSource})}function y(){c.forEach(function(t,e){t.disconnect(e)}),c.clear(),f=null,m=null,t.setFramebuffer(null),t.setRenderTarget(t.getRenderTarget()),x.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function _(t){const e=i.inputSources;for(let n=0;n<l.length;n++)c.set(e[n],l[n]);for(let n=0;n<t.removed.length;n++){const e=t.removed[n],i=c.get(e);i&&(i.dispatchEvent({type:"disconnected",data:e}),c.delete(e))}for(let n=0;n<t.added.length;n++){const e=t.added[n],i=c.get(e);i&&i.dispatchEvent({type:"connected",data:e})}}this.enabled=!1,this.isPresenting=!1,this.getController=function(t){let e=l[t];return void 0===e&&(e=new gr,l[t]=e),e.getTargetRaySpace()},this.getControllerGrip=function(t){let e=l[t];return void 0===e&&(e=new gr,l[t]=e),e.getGripSpace()},this.getHand=function(t){let e=l[t];return void 0===e&&(e=new gr,l[t]=e),e.getHandSpace()},this.setFramebufferScaleFactor=function(t){r=t,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(t){o=t,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return s},this.getSession=function(){return i},this.setSession=async function(t){if(i=t,null!==i){i.addEventListener("select",g),i.addEventListener("selectstart",g),i.addEventListener("selectend",g),i.addEventListener("squeeze",g),i.addEventListener("squeezestart",g),i.addEventListener("squeezeend",g),i.addEventListener("end",y),i.addEventListener("inputsourceschange",_);const t=e.getContextAttributes();!0!==t.xrCompatible&&await e.makeXRCompatible();const a=new XRWebGLLayer(i,e,{antialias:t.antialias,alpha:t.alpha,depth:t.depth,stencil:t.stencil,framebufferScaleFactor:r});i.updateRenderState({baseLayer:a}),s=await i.requestReferenceSpace(o),x.setContext(i),x.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}};const b=new k,v=new k;function S(t,e){null===e?t.matrixWorld.copy(t.matrix):t.matrixWorld.multiplyMatrices(e.matrixWorld,t.matrix),t.matrixWorldInverse.copy(t.matrixWorld).invert()}this.getCamera=function(t){p.near=u.near=h.near=t.near,p.far=u.far=h.far=t.far,f===p.near&&m===p.far||(i.updateRenderState({depthNear:p.near,depthFar:p.far}),f=p.near,m=p.far);const e=t.parent,n=p.cameras;S(p,e);for(let i=0;i<n.length;i++)S(n[i],e);t.matrixWorld.copy(p.matrixWorld),t.matrix.copy(p.matrix),t.matrix.decompose(t.position,t.quaternion,t.scale);const r=t.children;for(let i=0,s=r.length;i<s;i++)r[i].updateMatrixWorld(!0);return 2===n.length?function(t,e,n){b.setFromMatrixPosition(e.matrixWorld),v.setFromMatrixPosition(n.matrixWorld);const i=b.distanceTo(v),r=e.projectionMatrix.elements,s=n.projectionMatrix.elements,o=r[14]/(r[10]-1),a=r[14]/(r[10]+1),l=(r[9]+1)/r[5],c=(r[9]-1)/r[5],h=(r[8]-1)/r[0],u=(s[8]+1)/s[0],d=o*h,p=o*u,f=i/(-h+u),m=f*-h;e.matrixWorld.decompose(t.position,t.quaternion,t.scale),t.translateX(m),t.translateZ(f),t.matrixWorld.compose(t.position,t.quaternion,t.scale),t.matrixWorldInverse.copy(t.matrixWorld).invert();const g=o+f,y=a+f;t.projectionMatrix.makePerspective(d-m,p+(i-m),l*a/y*g,c*a/y*g,g,y)}(p,h,u):p.projectionMatrix.copy(h.projectionMatrix),p};let T=null;const x=new pn;x.setAnimationLoop(function(e,n){if(a=n.getViewerPose(s),null!==a){const e=a.views,n=i.renderState.baseLayer;t.setFramebuffer(n.framebuffer);let r=!1;e.length!==p.cameras.length&&(p.cameras.length=0,r=!0);for(let t=0;t<e.length;t++){const i=e[t],s=n.getViewport(i),o=d[t];o.matrix.fromArray(i.transform.matrix),o.projectionMatrix.fromArray(i.projectionMatrix),o.viewport.set(s.x,s.y,s.width,s.height),0===t&&p.matrix.copy(o.matrix),!0===r&&p.cameras.push(o)}}const r=i.inputSources;for(let t=0;t<l.length;t++)l[t].update(r[t],n,s);T&&T(e,n)}),this.setAnimationLoop=function(t){T=t},this.dispose=function(){}}function _r(t){function e(e,n){e.opacity.value=n.opacity,n.color&&e.diffuse.value.copy(n.color),n.emissive&&e.emissive.value.copy(n.emissive).multiplyScalar(n.emissiveIntensity),n.map&&(e.map.value=n.map),n.alphaMap&&(e.alphaMap.value=n.alphaMap),n.specularMap&&(e.specularMap.value=n.specularMap);const i=t.get(n).envMap;if(i){e.envMap.value=i,e.flipEnvMap.value=i.isCubeTexture&&i._needsFlipEnvMap?-1:1,e.reflectivity.value=n.reflectivity,e.refractionRatio.value=n.refractionRatio;const r=t.get(i).__maxMipLevel;void 0!==r&&(e.maxMipLevel.value=r)}let r,s;n.lightMap&&(e.lightMap.value=n.lightMap,e.lightMapIntensity.value=n.lightMapIntensity),n.aoMap&&(e.aoMap.value=n.aoMap,e.aoMapIntensity.value=n.aoMapIntensity),n.map?r=n.map:n.specularMap?r=n.specularMap:n.displacementMap?r=n.displacementMap:n.normalMap?r=n.normalMap:n.bumpMap?r=n.bumpMap:n.roughnessMap?r=n.roughnessMap:n.metalnessMap?r=n.metalnessMap:n.alphaMap?r=n.alphaMap:n.emissiveMap?r=n.emissiveMap:n.clearcoatMap?r=n.clearcoatMap:n.clearcoatNormalMap?r=n.clearcoatNormalMap:n.clearcoatRoughnessMap&&(r=n.clearcoatRoughnessMap),void 0!==r&&(r.isWebGLRenderTarget&&(r=r.texture),!0===r.matrixAutoUpdate&&r.updateMatrix(),e.uvTransform.value.copy(r.matrix)),n.aoMap?s=n.aoMap:n.lightMap&&(s=n.lightMap),void 0!==s&&(s.isWebGLRenderTarget&&(s=s.texture),!0===s.matrixAutoUpdate&&s.updateMatrix(),e.uv2Transform.value.copy(s.matrix))}function n(e,n){e.roughness.value=n.roughness,e.metalness.value=n.metalness,n.roughnessMap&&(e.roughnessMap.value=n.roughnessMap),n.metalnessMap&&(e.metalnessMap.value=n.metalnessMap),n.emissiveMap&&(e.emissiveMap.value=n.emissiveMap),n.bumpMap&&(e.bumpMap.value=n.bumpMap,e.bumpScale.value=n.bumpScale,1===n.side&&(e.bumpScale.value*=-1)),n.normalMap&&(e.normalMap.value=n.normalMap,e.normalScale.value.copy(n.normalScale),1===n.side&&e.normalScale.value.negate()),n.displacementMap&&(e.displacementMap.value=n.displacementMap,e.displacementScale.value=n.displacementScale,e.displacementBias.value=n.displacementBias),t.get(n).envMap&&(e.envMapIntensity.value=n.envMapIntensity)}return{refreshFogUniforms:function(t,e){t.fogColor.value.copy(e.color),e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)},refreshMaterialUniforms:function(t,i,r,s){i.isMeshBasicMaterial?e(t,i):i.isMeshLambertMaterial?(e(t,i),function(t,e){e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap)}(t,i)):i.isMeshToonMaterial?(e(t,i),function(t,e){e.gradientMap&&(t.gradientMap.value=e.gradientMap),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,i)):i.isMeshPhongMaterial?(e(t,i),function(t,e){t.specular.value.copy(e.specular),t.shininess.value=Math.max(e.shininess,1e-4),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,i)):i.isMeshStandardMaterial?(e(t,i),i.isMeshPhysicalMaterial?function(t,e){n(t,e),t.reflectivity.value=e.reflectivity,t.clearcoat.value=e.clearcoat,t.clearcoatRoughness.value=e.clearcoatRoughness,e.sheen&&t.sheen.value.copy(e.sheen),e.clearcoatMap&&(t.clearcoatMap.value=e.clearcoatMap),e.clearcoatRoughnessMap&&(t.clearcoatRoughnessMap.value=e.clearcoatRoughnessMap),e.clearcoatNormalMap&&(t.clearcoatNormalScale.value.copy(e.clearcoatNormalScale),t.clearcoatNormalMap.value=e.clearcoatNormalMap,1===e.side&&t.clearcoatNormalScale.value.negate()),t.transmission.value=e.transmission,e.transmissionMap&&(t.transmissionMap.value=e.transmissionMap)}(t,i):n(t,i)):i.isMeshMatcapMaterial?(e(t,i),function(t,e){e.matcap&&(t.matcap.value=e.matcap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,i)):i.isMeshDepthMaterial?(e(t,i),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,i)):i.isMeshDistanceMaterial?(e(t,i),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),t.referencePosition.value.copy(e.referencePosition),t.nearDistance.value=e.nearDistance,t.farDistance.value=e.farDistance}(t,i)):i.isMeshNormalMaterial?(e(t,i),function(t,e){e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,i)):i.isLineBasicMaterial?(function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity}(t,i),i.isLineDashedMaterial&&function(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}(t,i)):i.isPointsMaterial?function(t,e,n,i){let r;t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.size.value=e.size*n,t.scale.value=.5*i,e.map&&(t.map.value=e.map),e.alphaMap&&(t.alphaMap.value=e.alphaMap),e.map?r=e.map:e.alphaMap&&(r=e.alphaMap),void 0!==r&&(!0===r.matrixAutoUpdate&&r.updateMatrix(),t.uvTransform.value.copy(r.matrix))}(t,i,r,s):i.isSpriteMaterial?function(t,e){let n;t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.rotation.value=e.rotation,e.map&&(t.map.value=e.map),e.alphaMap&&(t.alphaMap.value=e.alphaMap),e.map?n=e.map:e.alphaMap&&(n=e.alphaMap),void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),t.uvTransform.value.copy(n.matrix))}(t,i):i.isShadowMaterial?(t.color.value.copy(i.color),t.opacity.value=i.opacity):i.isShaderMaterial&&(i.uniformsNeedUpdate=!1)}}}function br(t){const e=void 0!==(t=t||{}).canvas?t.canvas:function(){const t=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return t.style.display="block",t}(),n=void 0!==t.context?t.context:null,i=void 0!==t.alpha&&t.alpha,r=void 0===t.depth||t.depth,s=void 0===t.stencil||t.stencil,o=void 0!==t.antialias&&t.antialias,a=void 0===t.premultipliedAlpha||t.premultipliedAlpha,l=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,c=void 0!==t.powerPreference?t.powerPreference:"default",h=void 0!==t.failIfMajorPerformanceCaveat&&t.failIfMajorPerformanceCaveat;let u=null,d=null;const p=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=3e3,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingExposure=1,this.maxMorphTargets=8,this.maxMorphNormals=4;const f=this;let m=!1,g=null,y=0,_=0,b=null,v=null,S=-1,T=null;const x=new D,w=new D;let E=null,O=e.width,A=e.height,I=1,R=null,L=null;const P=new D(0,0,O,A),N=new D(0,0,O,A);let j=!1;const F=new dn;let U=!1,G=!1;const V=new ut,B=new k,z={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function H(){return null===b?I:1}let X,q,W,Y,K,Z,J,Q,$,tt,et,nt,it,rt,st,ot,at,lt,ct,ht,dt,pt=n;function ft(t,n){for(let i=0;i<t.length;i++){const r=e.getContext(t[i],n);if(null!==r)return r}return null}try{const t={alpha:i,depth:r,stencil:s,antialias:o,premultipliedAlpha:a,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:h};if(e.addEventListener("webglcontextlost",_t,!1),e.addEventListener("webglcontextrestored",bt,!1),null===pt){const e=["webgl2","webgl","experimental-webgl"];if(!0===f.isWebGL1Renderer&&e.shift(),pt=ft(e,t),null===pt)throw ft(e)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===pt.getShaderPrecisionFormat&&(pt.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(At){throw console.error("THREE.WebGLRenderer: "+At.message),At}function mt(){X=new En(pt),q=new Tn(pt,X,t),X.init(q),ht=new pr(pt,X,q),W=new ur(pt,X,q),W.scissor(w.copy(N).multiplyScalar(I).floor()),W.viewport(x.copy(P).multiplyScalar(I).floor()),Y=new On(pt),K=new Ji,Z=new dr(pt,X,W,K,q,ht,Y),J=new wn(f),Q=new fn(pt,q),dt=new vn(pt,X,Q,q),$=new Cn(pt,Q,Y,dt),tt=new Ln(pt,$,Q,Y),at=new Rn(pt),st=new xn(K),et=new Zi(f,J,X,q,dt,st),nt=new _r(K),it=new er(K),rt=new ar(X,q),ot=new bn(f,J,W,tt,a),lt=new Sn(pt,X,Y,q),ct=new Mn(pt,X,Y,q),Y.programs=et.programs,f.capabilities=q,f.extensions=X,f.properties=K,f.renderLists=it,f.state=W,f.info=Y}mt();const gt=new yr(f,pt);this.xr=gt;const yt=new hr(f,tt,q.maxTextureSize);function _t(t){t.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),m=!0}function bt(){console.log("THREE.WebGLRenderer: Context Restored."),m=!1,mt()}function vt(t){const e=t.target;e.removeEventListener("dispose",vt),function(t){St(t),K.remove(t)}(e)}function St(t){const e=K.get(t).program;void 0!==e&&et.releaseProgram(e)}this.shadowMap=yt,this.getContext=function(){return pt},this.getContextAttributes=function(){return pt.getContextAttributes()},this.forceContextLoss=function(){const t=X.get("WEBGL_lose_context");t&&t.loseContext()},this.forceContextRestore=function(){const t=X.get("WEBGL_lose_context");t&&t.restoreContext()},this.getPixelRatio=function(){return I},this.setPixelRatio=function(t){void 0!==t&&(I=t,this.setSize(O,A,!1))},this.getSize=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),t=new M),t.set(O,A)},this.setSize=function(t,n,i){gt.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(O=t,A=n,e.width=Math.floor(t*I),e.height=Math.floor(n*I),!1!==i&&(e.style.width=t+"px",e.style.height=n+"px"),this.setViewport(0,0,t,n))},this.getDrawingBufferSize=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),t=new M),t.set(O*I,A*I).floor()},this.setDrawingBufferSize=function(t,n,i){O=t,A=n,I=i,e.width=Math.floor(t*i),e.height=Math.floor(n*i),this.setViewport(0,0,t,n)},this.getCurrentViewport=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),t=new D),t.copy(x)},this.getViewport=function(t){return t.copy(P)},this.setViewport=function(t,e,n,i){t.isVector4?P.set(t.x,t.y,t.z,t.w):P.set(t,e,n,i),W.viewport(x.copy(P).multiplyScalar(I).floor())},this.getScissor=function(t){return t.copy(N)},this.setScissor=function(t,e,n,i){t.isVector4?N.set(t.x,t.y,t.z,t.w):N.set(t,e,n,i),W.scissor(w.copy(N).multiplyScalar(I).floor())},this.getScissorTest=function(){return j},this.setScissorTest=function(t){W.setScissorTest(j=t)},this.setOpaqueSort=function(t){R=t},this.setTransparentSort=function(t){L=t},this.getClearColor=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getClearColor() now requires a Color as an argument"),t=new re),t.copy(ot.getClearColor())},this.setClearColor=function(){ot.setClearColor.apply(ot,arguments)},this.getClearAlpha=function(){return ot.getClearAlpha()},this.setClearAlpha=function(){ot.setClearAlpha.apply(ot,arguments)},this.clear=function(t,e,n){let i=0;(void 0===t||t)&&(i|=16384),(void 0===e||e)&&(i|=256),(void 0===n||n)&&(i|=1024),pt.clear(i)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",_t,!1),e.removeEventListener("webglcontextrestored",bt,!1),it.dispose(),rt.dispose(),K.dispose(),J.dispose(),tt.dispose(),dt.dispose(),gt.dispose(),xt.stop()},this.renderBufferImmediate=function(t,e){dt.initAttributes();const n=K.get(t);t.hasPositions&&!n.position&&(n.position=pt.createBuffer()),t.hasNormals&&!n.normal&&(n.normal=pt.createBuffer()),t.hasUvs&&!n.uv&&(n.uv=pt.createBuffer()),t.hasColors&&!n.color&&(n.color=pt.createBuffer());const i=e.getAttributes();t.hasPositions&&(pt.bindBuffer(34962,n.position),pt.bufferData(34962,t.positionArray,35048),dt.enableAttribute(i.position),pt.vertexAttribPointer(i.position,3,5126,!1,0,0)),t.hasNormals&&(pt.bindBuffer(34962,n.normal),pt.bufferData(34962,t.normalArray,35048),dt.enableAttribute(i.normal),pt.vertexAttribPointer(i.normal,3,5126,!1,0,0)),t.hasUvs&&(pt.bindBuffer(34962,n.uv),pt.bufferData(34962,t.uvArray,35048),dt.enableAttribute(i.uv),pt.vertexAttribPointer(i.uv,2,5126,!1,0,0)),t.hasColors&&(pt.bindBuffer(34962,n.color),pt.bufferData(34962,t.colorArray,35048),dt.enableAttribute(i.color),pt.vertexAttribPointer(i.color,3,5126,!1,0,0)),dt.disableUnusedAttributes(),pt.drawArrays(4,0,t.count),t.count=0},this.renderBufferDirect=function(t,e,n,i,r,s){null===e&&(e=z);const o=r.isMesh&&r.matrixWorld.determinant()<0,a=Ot(t,e,i,r);W.setMaterial(i,o);let l=n.index;const c=n.attributes.position;if(null===l){if(void 0===c||0===c.count)return}else if(0===l.count)return;let h,u=1;!0===i.wireframe&&(l=$.getWireframeAttribute(n),u=2),(i.morphTargets||i.morphNormals)&&at.update(r,n,i,a),dt.setup(r,i,a,n,l);let d=lt;null!==l&&(h=Q.get(l),d=ct,d.setIndex(h));const p=null!==l?l.count:c.count,f=n.drawRange.start*u,m=n.drawRange.count*u,g=null!==s?s.start*u:0,y=null!==s?s.count*u:1/0,_=Math.max(f,g),b=Math.min(p,f+m,g+y)-1,v=Math.max(0,b-_+1);if(0!==v){if(r.isMesh)!0===i.wireframe?(W.setLineWidth(i.wireframeLinewidth*H()),d.setMode(1)):d.setMode(4);else if(r.isLine){let t=i.linewidth;void 0===t&&(t=1),W.setLineWidth(t*H()),d.setMode(r.isLineSegments?1:r.isLineLoop?2:3)}else r.isPoints?d.setMode(0):r.isSprite&&d.setMode(4);if(r.isInstancedMesh)d.renderInstances(_,v,r.count);else if(n.isInstancedBufferGeometry){const t=Math.min(n.instanceCount,n._maxInstanceCount);d.renderInstances(_,v,t)}else d.render(_,v)}},this.compile=function(t,e){d=rt.get(t),d.init(),t.traverseVisible(function(t){t.isLight&&t.layers.test(e.layers)&&(d.pushLight(t),t.castShadow&&d.pushShadow(t))}),d.setupLights();const n=new WeakMap;t.traverse(function(e){const i=e.material;if(i)if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];!1===n.has(s)&&(Mt(s,t,e),n.set(s))}else!1===n.has(i)&&(Mt(i,t,e),n.set(i))})};let Tt=null;const xt=new pn;function wt(t,e,n,i){if(!1===t.visible)return;if(t.layers.test(e.layers))if(t.isGroup)n=t.renderOrder;else if(t.isLOD)!0===t.autoUpdate&&t.update(e);else if(t.isLight)d.pushLight(t),t.castShadow&&d.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||F.intersectsSprite(t)){i&&B.setFromMatrixPosition(t.matrixWorld).applyMatrix4(V);const e=tt.update(t),r=t.material;r.visible&&u.push(t,e,r,n,B.z,null)}}else if(t.isImmediateRenderObject)i&&B.setFromMatrixPosition(t.matrixWorld).applyMatrix4(V),u.push(t,null,t.material,n,B.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.frame!==Y.render.frame&&(t.skeleton.update(),t.skeleton.frame=Y.render.frame),!t.frustumCulled||F.intersectsObject(t))){i&&B.setFromMatrixPosition(t.matrixWorld).applyMatrix4(V);const e=tt.update(t),r=t.material;if(Array.isArray(r)){const i=e.groups;for(let s=0,o=i.length;s<o;s++){const o=i[s],a=r[o.materialIndex];a&&a.visible&&u.push(t,e,a,n,B.z,o)}}else r.visible&&u.push(t,e,r,n,B.z,null)}const r=t.children;for(let s=0,o=r.length;s<o;s++)wt(r[s],e,n,i)}function Et(t,e,n){const i=!0===e.isScene?e.overrideMaterial:null;for(let r=0,s=t.length;r<s;r++){const s=t[r],o=s.object,a=s.geometry,l=null===i?s.material:i,c=s.group;if(n.isArrayCamera){const t=n.cameras;for(let n=0,i=t.length;n<i;n++){const i=t[n];o.layers.test(i.layers)&&(W.viewport(x.copy(i.viewport)),d.setupLightsView(i),Ct(o,e,i,a,l,c))}}else Ct(o,e,n,a,l,c)}}function Ct(t,e,n,i,r,s){if(t.onBeforeRender(f,e,n,i,r,s),t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),t.isImmediateRenderObject){const i=Ot(n,e,r,t);W.setMaterial(r),dt.reset(),function(t,e){t.render(function(t){f.renderBufferImmediate(t,e)})}(t,i)}else f.renderBufferDirect(n,e,i,r,t,s);t.onAfterRender(f,e,n,i,r,s)}function Mt(t,e,n){!0!==e.isScene&&(e=z);const i=K.get(t),r=d.state.lights,s=r.state.version,o=et.getParameters(t,r.state,d.state.shadowsArray,e,n),a=et.getProgramCacheKey(o);let l=i.program,c=!0;if(i.environment=t.isMeshStandardMaterial?e.environment:null,i.fog=e.fog,i.envMap=J.get(t.envMap||i.environment),void 0===l)t.addEventListener("dispose",vt);else if(l.cacheKey!==a)St(t);else if(i.lightsStateVersion!==s)c=!1;else{if(void 0!==o.shaderID)return;c=!1}c&&(o.uniforms=et.getUniforms(t),t.onBeforeCompile(o,f),l=et.acquireProgram(o,a),i.program=l,i.uniforms=o.uniforms,i.outputEncoding=o.outputEncoding);const h=i.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(i.numClippingPlanes=st.numPlanes,i.numIntersection=st.numIntersection,h.clippingPlanes=st.uniform),i.needsLights=function(t){return t.isMeshLambertMaterial||t.isMeshToonMaterial||t.isMeshPhongMaterial||t.isMeshStandardMaterial||t.isShadowMaterial||t.isShaderMaterial&&!0===t.lights}(t),i.lightsStateVersion=s,i.needsLights&&(h.ambientLightColor.value=r.state.ambient,h.lightProbe.value=r.state.probe,h.directionalLights.value=r.state.directional,h.directionalLightShadows.value=r.state.directionalShadow,h.spotLights.value=r.state.spot,h.spotLightShadows.value=r.state.spotShadow,h.rectAreaLights.value=r.state.rectArea,h.ltc_1.value=r.state.rectAreaLTC1,h.ltc_2.value=r.state.rectAreaLTC2,h.pointLights.value=r.state.point,h.pointLightShadows.value=r.state.pointShadow,h.hemisphereLights.value=r.state.hemi,h.directionalShadowMap.value=r.state.directionalShadowMap,h.directionalShadowMatrix.value=r.state.directionalShadowMatrix,h.spotShadowMap.value=r.state.spotShadowMap,h.spotShadowMatrix.value=r.state.spotShadowMatrix,h.pointShadowMap.value=r.state.pointShadowMap,h.pointShadowMatrix.value=r.state.pointShadowMatrix);const u=i.program.getUniforms(),p=Ai.seqWithValue(u.seq,h);i.uniformsList=p}function Ot(t,e,n,i){!0!==e.isScene&&(e=z),Z.resetTextureUnits();const r=e.fog,s=n.isMeshStandardMaterial?e.environment:null,o=null===b?f.outputEncoding:b.texture.encoding,a=J.get(n.envMap||s),l=K.get(n),c=d.state.lights;!0!==U||!0!==G&&t===T||st.setState(n,t,t===T&&n.id===S),n.version===l.__version?n.fog&&l.fog!==r||l.environment!==s||l.needsLights&&l.lightsStateVersion!==c.state.version?Mt(n,e,i):void 0===l.numClippingPlanes||l.numClippingPlanes===st.numPlanes&&l.numIntersection===st.numIntersection?(l.outputEncoding!==o||l.envMap!==a)&&Mt(n,e,i):Mt(n,e,i):(Mt(n,e,i),l.__version=n.version);let h=!1,u=!1,p=!1;const m=l.program,g=m.getUniforms(),y=l.uniforms;if(W.useProgram(m.program)&&(h=!0,u=!0,p=!0),n.id!==S&&(S=n.id,u=!0),h||T!==t){if(g.setValue(pt,"projectionMatrix",t.projectionMatrix),q.logarithmicDepthBuffer&&g.setValue(pt,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),T!==t&&(T=t,u=!0,p=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshStandardMaterial||n.envMap){const e=g.map.cameraPosition;void 0!==e&&e.setValue(pt,B.setFromMatrixPosition(t.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial)&&g.setValue(pt,"isOrthographic",!0===t.isOrthographicCamera),(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.isShadowMaterial||n.skinning)&&g.setValue(pt,"viewMatrix",t.matrixWorldInverse)}if(n.skinning){g.setOptional(pt,i,"bindMatrix"),g.setOptional(pt,i,"bindMatrixInverse");const t=i.skeleton;if(t){const e=t.bones;if(q.floatVertexTextures){if(null===t.boneTexture){let n=Math.sqrt(4*e.length);n=C.ceilPowerOfTwo(n),n=Math.max(n,4);const i=new Float32Array(n*n*4);i.set(t.boneMatrices);const r=new cn(i,n,n,1023,1015);t.boneMatrices=i,t.boneTexture=r,t.boneTextureSize=n}g.setValue(pt,"boneTexture",t.boneTexture,Z),g.setValue(pt,"boneTextureSize",t.boneTextureSize)}else g.setOptional(pt,t,"boneMatrices")}}var _,v;return(u||l.receiveShadow!==i.receiveShadow)&&(l.receiveShadow=i.receiveShadow,g.setValue(pt,"receiveShadow",i.receiveShadow)),u&&(g.setValue(pt,"toneMappingExposure",f.toneMappingExposure),l.needsLights&&((_=y).ambientLightColor.needsUpdate=v=p,_.lightProbe.needsUpdate=v,_.directionalLights.needsUpdate=v,_.directionalLightShadows.needsUpdate=v,_.pointLights.needsUpdate=v,_.pointLightShadows.needsUpdate=v,_.spotLights.needsUpdate=v,_.spotLightShadows.needsUpdate=v,_.rectAreaLights.needsUpdate=v,_.hemisphereLights.needsUpdate=v),r&&n.fog&&nt.refreshFogUniforms(y,r),nt.refreshMaterialUniforms(y,n,I,A),Ai.upload(pt,l.uniformsList,y,Z)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(Ai.upload(pt,l.uniformsList,y,Z),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&g.setValue(pt,"center",i.center),g.setValue(pt,"modelViewMatrix",i.modelViewMatrix),g.setValue(pt,"normalMatrix",i.normalMatrix),g.setValue(pt,"modelMatrix",i.matrixWorld),m}xt.setAnimationLoop(function(t){gt.isPresenting||Tt&&Tt(t)}),"undefined"!=typeof window&&xt.setContext(window),this.setAnimationLoop=function(t){Tt=t,gt.setAnimationLoop(t),null===t?xt.stop():xt.start()},this.render=function(t,e){let n,i;if(void 0!==arguments[2]&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),n=arguments[2]),void 0!==arguments[3]&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),i=arguments[3]),void 0!==e&&!0!==e.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===m)return;dt.resetDefaultState(),S=-1,T=null,!0===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),!0===gt.enabled&&!0===gt.isPresenting&&(e=gt.getCamera(e)),!0===t.isScene&&t.onBeforeRender(f,t,e,n||b),d=rt.get(t,p.length),d.init(),p.push(d),V.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),F.setFromProjectionMatrix(V),G=this.localClippingEnabled,U=st.init(this.clippingPlanes,G,e),u=it.get(t,e),u.init(),wt(t,e,0,f.sortObjects),u.finish(),!0===f.sortObjects&&u.sort(R,L),!0===U&&st.beginShadows();const r=d.state.shadowsArray;yt.render(r,t,e),d.setupLights(),d.setupLightsView(e),!0===U&&st.endShadows(),!0===this.info.autoReset&&this.info.reset(),void 0!==n&&this.setRenderTarget(n),ot.render(u,t,e,i);const s=u.opaque,o=u.transparent;s.length>0&&Et(s,t,e),o.length>0&&Et(o,t,e),!0===t.isScene&&t.onAfterRender(f,t,e),null!==b&&(Z.updateRenderTargetMipmap(b),Z.updateMultisampleRenderTarget(b)),W.buffers.depth.setTest(!0),W.buffers.depth.setMask(!0),W.buffers.color.setMask(!0),W.setPolygonOffset(!1),p.pop(),d=p.length>0?p[p.length-1]:null,u=null},this.setFramebuffer=function(t){g!==t&&null===b&&pt.bindFramebuffer(36160,t),g=t},this.getActiveCubeFace=function(){return y},this.getActiveMipmapLevel=function(){return _},this.getRenderList=function(){return u},this.setRenderList=function(t){u=t},this.getRenderTarget=function(){return b},this.setRenderTarget=function(t,e=0,n=0){b=t,y=e,_=n,t&&void 0===K.get(t).__webglFramebuffer&&Z.setupRenderTarget(t);let i=g,r=!1;if(t){const n=K.get(t).__webglFramebuffer;t.isWebGLCubeRenderTarget?(i=n[e],r=!0):i=t.isWebGLMultisampleRenderTarget?K.get(t).__webglMultisampledFramebuffer:n,x.copy(t.viewport),w.copy(t.scissor),E=t.scissorTest}else x.copy(P).multiplyScalar(I).floor(),w.copy(N).multiplyScalar(I).floor(),E=j;if(v!==i&&(pt.bindFramebuffer(36160,i),v=i),W.viewport(x),W.scissor(w),W.setScissorTest(E),r){const i=K.get(t.texture);pt.framebufferTexture2D(36160,36064,34069+e,i.__webglTexture,n)}},this.readRenderTargetPixels=function(t,e,n,i,r,s,o){if(!t||!t.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let a=K.get(t).__webglFramebuffer;if(t.isWebGLCubeRenderTarget&&void 0!==o&&(a=a[o]),a){let o=!1;a!==v&&(pt.bindFramebuffer(36160,a),o=!0);try{const a=t.texture,l=a.format,c=a.type;if(1023!==l&&ht.convert(l)!==pt.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const h=1016===c&&(X.has("EXT_color_buffer_half_float")||q.isWebGL2&&X.has("EXT_color_buffer_float"));if(!(1009===c||ht.convert(c)===pt.getParameter(35738)||1015===c&&(q.isWebGL2||X.has("OES_texture_float")||X.has("WEBGL_color_buffer_float"))||h))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===pt.checkFramebufferStatus(36160)?e>=0&&e<=t.width-i&&n>=0&&n<=t.height-r&&pt.readPixels(e,n,i,r,ht.convert(l),ht.convert(c),s):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{o&&pt.bindFramebuffer(36160,v)}}},this.copyFramebufferToTexture=function(t,e,n=0){const i=Math.pow(2,-n),r=Math.floor(e.image.width*i),s=Math.floor(e.image.height*i),o=ht.convert(e.format);Z.setTexture2D(e,0),pt.copyTexImage2D(3553,n,o,t.x,t.y,r,s,0),W.unbindTexture()},this.copyTextureToTexture=function(t,e,n,i=0){const r=e.image.width,s=e.image.height,o=ht.convert(n.format),a=ht.convert(n.type);Z.setTexture2D(n,0),pt.pixelStorei(37440,n.flipY),pt.pixelStorei(37441,n.premultiplyAlpha),pt.pixelStorei(3317,n.unpackAlignment),e.isDataTexture?pt.texSubImage2D(3553,i,t.x,t.y,r,s,o,a,e.image.data):e.isCompressedTexture?pt.compressedTexSubImage2D(3553,i,t.x,t.y,e.mipmaps[0].width,e.mipmaps[0].height,o,e.mipmaps[0].data):pt.texSubImage2D(3553,i,t.x,t.y,o,a,e.image),0===i&&n.generateMipmaps&&pt.generateMipmap(3553),W.unbindTexture()},this.initTexture=function(t){Z.setTexture2D(t,0),W.unbindTexture()},this.resetState=function(){W.reset(),dt.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function vr(t){br.call(this,t)}(lr.prototype=Object.create(ae.prototype)).constructor=lr,lr.prototype.isMeshDepthMaterial=!0,lr.prototype.copy=function(t){return ae.prototype.copy.call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},(cr.prototype=Object.create(ae.prototype)).constructor=cr,cr.prototype.isMeshDistanceMaterial=!0,cr.prototype.copy=function(t){return ae.prototype.copy.call(this,t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this},fr.prototype=Object.assign(Object.create(sn.prototype),{constructor:fr,isArrayCamera:!0}),mr.prototype=Object.assign(Object.create(jt.prototype),{constructor:mr,isGroup:!0}),Object.assign(gr.prototype,{constructor:gr,getHandSpace:function(){return null===this._hand&&(this._hand=new mr,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand},getTargetRaySpace:function(){return null===this._targetRay&&(this._targetRay=new mr,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return null===this._grip&&(this._grip=new mr,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(t){return null!==this._targetRay&&this._targetRay.dispatchEvent(t),null!==this._grip&&this._grip.dispatchEvent(t),null!==this._hand&&this._hand.dispatchEvent(t),this},disconnect:function(t){return this.dispatchEvent({type:"disconnected",data:t}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this},update:function(t,e,n){let i=null,r=null,s=null;const o=this._targetRay,a=this._grip,l=this._hand;if(t&&"visible-blurred"!==e.session.visibilityState)if(l&&t.hand){s=!0;for(const s of t.hand.values()){const t=e.getJointPose(s,n);if(void 0===l.joints[s.jointName]){const t=new mr;t.matrixAutoUpdate=!1,t.visible=!1,l.joints[s.jointName]=t,l.add(t)}const i=l.joints[s.jointName];null!==t&&(i.matrix.fromArray(t.transform.matrix),i.matrix.decompose(i.position,i.rotation,i.scale),i.jointRadius=t.radius),i.visible=null!==t}const i=l.joints["index-finger-tip"].position.distanceTo(l.joints["thumb-tip"].position),r=.02,o=.005;l.inputState.pinching&&i>r+o?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!l.inputState.pinching&&i<=r-o&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else null!==o&&(i=e.getPose(t.targetRaySpace,n),null!==i&&(o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale))),null!==a&&t.gripSpace&&(r=e.getPose(t.gripSpace,n),null!==r&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale)));return null!==o&&(o.visible=null!==i),null!==a&&(a.visible=null!==r),null!==l&&(l.visible=null!==s),this}}),Object.assign(yr.prototype,x.prototype),vr.prototype=Object.assign(Object.create(br.prototype),{constructor:vr,isWebGL1Renderer:!0});class Sr extends jt{constructor(){super(),Object.defineProperty(this,"isScene",{value:!0}),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,e){return super.copy(t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.environment&&(this.environment=t.environment.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const e=super.toJSON(t);return null!==this.background&&(e.object.background=this.background.toJSON(t)),null!==this.environment&&(e.object.environment=this.environment.toJSON(t)),null!==this.fog&&(e.object.fog=this.fog.toJSON()),e}}function Tr(t,e){this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=C.generateUUID()}Object.defineProperty(Tr.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(Tr.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(t){return this.usage=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this},copyAt:function(t,e,n){t*=this.stride,n*=e.stride;for(let i=0,r=this.stride;i<r;i++)this.array[t+i]=e.array[n+i];return this},set:function(t,e=0){return this.array.set(t,e),this},clone:function(t){void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=C.generateUUID()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const e=new Tr(new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),this.stride);return e.setUsage(this.usage),e},onUpload:function(t){return this.onUploadCallback=t,this},toJSON:function(t){return void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=C.generateUUID()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}});const xr=new k;function wr(t,e,n,i){this.name="",this.data=t,this.itemSize=e,this.offset=n,this.normalized=!0===i}function Er(t){ae.call(this),this.type="SpriteMaterial",this.color=new re(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(t)}let Cr;Object.defineProperties(wr.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}},needsUpdate:{set:function(t){this.data.needsUpdate=t}}}),Object.assign(wr.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(t){for(let e=0,n=this.data.count;e<n;e++)xr.x=this.getX(e),xr.y=this.getY(e),xr.z=this.getZ(e),xr.applyMatrix4(t),this.setXYZ(e,xr.x,xr.y,xr.z);return this},setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,n){return this.data.array[(t=t*this.data.stride+this.offset)+0]=e,this.data.array[t+1]=n,this},setXYZ:function(t,e,n,i){return this.data.array[(t=t*this.data.stride+this.offset)+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=i,this},setXYZW:function(t,e,n,i,r){return this.data.array[(t=t*this.data.stride+this.offset)+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=i,this.data.array[t+3]=r,this},clone:function(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let e=0;e<this.count;e++){const n=e*this.data.stride+this.offset;for(let e=0;e<this.itemSize;e++)t.push(this.data.array[n+e])}return new ue(new this.array.constructor(t),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new wr(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)},toJSON:function(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let e=0;e<this.count;e++){const n=e*this.data.stride+this.offset;for(let e=0;e<this.itemSize;e++)t.push(this.data.array[n+e])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}),(Er.prototype=Object.create(ae.prototype)).constructor=Er,Er.prototype.isSpriteMaterial=!0,Er.prototype.copy=function(t){return ae.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this};const Mr=new k,Or=new k,Ar=new k,Ir=new M,Rr=new M,Lr=new ut,Pr=new k,Dr=new k,Nr=new k,jr=new M,kr=new M,Fr=new M;function Ur(t){if(jt.call(this),this.type="Sprite",void 0===Cr){Cr=new Le;const t=new Tr(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);Cr.setIndex([0,1,2,0,2,3]),Cr.setAttribute("position",new wr(t,3,0,!1)),Cr.setAttribute("uv",new wr(t,2,3,!1))}this.geometry=Cr,this.material=void 0!==t?t:new Er,this.center=new M(.5,.5)}function Gr(t,e,n,i,r,s){Ir.subVectors(t,n).addScalar(.5).multiply(i),void 0!==r?(Rr.x=s*Ir.x-r*Ir.y,Rr.y=r*Ir.x+s*Ir.y):Rr.copy(Ir),t.copy(e),t.x+=Rr.x,t.y+=Rr.y,t.applyMatrix4(Lr)}Ur.prototype=Object.assign(Object.create(jt.prototype),{constructor:Ur,isSprite:!0,raycast:function(t,e){null===t.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Or.setFromMatrixScale(this.matrixWorld),Lr.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),Ar.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&Or.multiplyScalar(-Ar.z);const n=this.material.rotation;let i,r;0!==n&&(r=Math.cos(n),i=Math.sin(n));const s=this.center;Gr(Pr.set(-.5,-.5,0),Ar,s,Or,i,r),Gr(Dr.set(.5,-.5,0),Ar,s,Or,i,r),Gr(Nr.set(.5,.5,0),Ar,s,Or,i,r),jr.set(0,0),kr.set(1,0),Fr.set(1,1);let o=t.ray.intersectTriangle(Pr,Dr,Nr,!1,Mr);if(null===o&&(Gr(Dr.set(-.5,.5,0),Ar,s,Or,i,r),kr.set(0,1),o=t.ray.intersectTriangle(Pr,Nr,Dr,!1,Mr),null===o))return;const a=t.ray.origin.distanceTo(Mr);a<t.near||a>t.far||e.push({distance:a,point:Mr.clone(),uv:Jt.getUV(Mr,Pr,Dr,Nr,jr,kr,Fr,new M),face:null,object:this})},copy:function(t){return jt.prototype.copy.call(this,t),void 0!==t.center&&this.center.copy(t.center),this.material=t.material,this}});const Vr=new k,Br=new k;function zr(){jt.call(this),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}zr.prototype=Object.assign(Object.create(jt.prototype),{constructor:zr,isLOD:!0,copy:function(t){jt.prototype.copy.call(this,t,!1);const e=t.levels;for(let n=0,i=e.length;n<i;n++){const t=e[n];this.addLevel(t.object.clone(),t.distance)}return this.autoUpdate=t.autoUpdate,this},addLevel:function(t,e=0){e=Math.abs(e);const n=this.levels;let i;for(i=0;i<n.length&&!(e<n[i].distance);i++);return n.splice(i,0,{distance:e,object:t}),this.add(t),this},getCurrentLevel:function(){return this._currentLevel},getObjectForDistance:function(t){const e=this.levels;if(e.length>0){let n,i;for(n=1,i=e.length;n<i&&!(t<e[n].distance);n++);return e[n-1].object}return null},raycast:function(t,e){if(this.levels.length>0){Vr.setFromMatrixPosition(this.matrixWorld);const n=t.ray.origin.distanceTo(Vr);this.getObjectForDistance(n).raycast(t,e)}},update:function(t){const e=this.levels;if(e.length>1){Vr.setFromMatrixPosition(t.matrixWorld),Br.setFromMatrixPosition(this.matrixWorld);const n=Vr.distanceTo(Br)/t.zoom;let i,r;for(e[0].object.visible=!0,i=1,r=e.length;i<r&&n>=e[i].distance;i++)e[i-1].object.visible=!1,e[i].object.visible=!0;for(this._currentLevel=i-1;i<r;i++)e[i].object.visible=!1}},toJSON:function(t){const e=jt.prototype.toJSON.call(this,t);!1===this.autoUpdate&&(e.object.autoUpdate=!1),e.object.levels=[];const n=this.levels;for(let i=0,r=n.length;i<r;i++){const t=n[i];e.object.levels.push({object:t.object.uuid,distance:t.distance})}return e}});const Hr=new k,Xr=new D,qr=new D,Wr=new k,Yr=new ut;function Kr(t,e){t&&t.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),Ze.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new ut,this.bindMatrixInverse=new ut}function Zr(){jt.call(this),this.type="Bone"}Kr.prototype=Object.assign(Object.create(Ze.prototype),{constructor:Kr,isSkinnedMesh:!0,copy:function(t){return Ze.prototype.copy.call(this,t),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,this},bind:function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.copy(e).invert()},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){const t=new D,e=this.geometry.attributes.skinWeight;for(let n=0,i=e.count;n<i;n++){t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.w=e.getW(n);const i=1/t.manhattanLength();i!==1/0?t.multiplyScalar(i):t.set(1,0,0,0),e.setXYZW(n,t.x,t.y,t.z,t.w)}},updateMatrixWorld:function(t){Ze.prototype.updateMatrixWorld.call(this,t),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},boneTransform:function(t,e){const n=this.skeleton,i=this.geometry;Xr.fromBufferAttribute(i.attributes.skinIndex,t),qr.fromBufferAttribute(i.attributes.skinWeight,t),Hr.fromBufferAttribute(i.attributes.position,t).applyMatrix4(this.bindMatrix),e.set(0,0,0);for(let r=0;r<4;r++){const t=qr.getComponent(r);if(0!==t){const i=Xr.getComponent(r);Yr.multiplyMatrices(n.bones[i].matrixWorld,n.boneInverses[i]),e.addScaledVector(Wr.copy(Hr).applyMatrix4(Yr),t)}}return e.applyMatrix4(this.bindMatrixInverse)}}),Zr.prototype=Object.assign(Object.create(jt.prototype),{constructor:Zr,isBone:!0});const Jr=new ut,Qr=new ut;function $r(t=[],e=[]){this.uuid=C.generateUUID(),this.bones=t.slice(0),this.boneInverses=e,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}Object.assign($r.prototype,{init:function(){const t=this.bones,e=this.boneInverses;if(this.boneMatrices=new Float32Array(16*t.length),0===e.length)this.calculateInverses();else if(t.length!==e.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let t=0,e=this.bones.length;t<e;t++)this.boneInverses.push(new ut)}},calculateInverses:function(){this.boneInverses.length=0;for(let t=0,e=this.bones.length;t<e;t++){const e=new ut;this.bones[t]&&e.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(e)}},pose:function(){for(let t=0,e=this.bones.length;t<e;t++){const e=this.bones[t];e&&e.matrixWorld.copy(this.boneInverses[t]).invert()}for(let t=0,e=this.bones.length;t<e;t++){const e=this.bones[t];e&&(e.parent&&e.parent.isBone?(e.matrix.copy(e.parent.matrixWorld).invert(),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))}},update:function(){const t=this.bones,e=this.boneInverses,n=this.boneMatrices,i=this.boneTexture;for(let r=0,s=t.length;r<s;r++)Jr.multiplyMatrices(t[r]?t[r].matrixWorld:Qr,e[r]),Jr.toArray(n,16*r);null!==i&&(i.needsUpdate=!0)},clone:function(){return new $r(this.bones,this.boneInverses)},getBoneByName:function(t){for(let e=0,n=this.bones.length;e<n;e++){const n=this.bones[e];if(n.name===t)return n}},dispose:function(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)},fromJSON:function(t,e){this.uuid=t.uuid;for(let n=0,i=t.bones.length;n<i;n++){const i=t.bones[n];let r=e[i];void 0===r&&(console.warn("THREE.Skeleton: No bone found with UUID:",i),r=new Zr),this.bones.push(r),this.boneInverses.push((new ut).fromArray(t.boneInverses[n]))}return this.init(),this},toJSON:function(){const t={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};t.uuid=this.uuid;const e=this.bones,n=this.boneInverses;for(let i=0,r=e.length;i<r;i++)t.bones.push(e[i].uuid),t.boneInverses.push(n[i].toArray());return t}});const ts=new ut,es=new ut,ns=[],is=new Ze;function rs(t,e,n){Ze.call(this,t,e),this.instanceMatrix=new ue(new Float32Array(16*n),16),this.instanceColor=null,this.count=n,this.frustumCulled=!1}function ss(t){ae.call(this),this.type="LineBasicMaterial",this.color=new re(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.morphTargets=!1,this.setValues(t)}rs.prototype=Object.assign(Object.create(Ze.prototype),{constructor:rs,isInstancedMesh:!0,copy:function(t){return Ze.prototype.copy.call(this,t),this.instanceMatrix.copy(t.instanceMatrix),null!==t.instanceColor&&(this.instanceColor=t.instanceColor.clone()),this.count=t.count,this},getColorAt:function(t,e){e.fromArray(this.instanceColor.array,3*t)},getMatrixAt:function(t,e){e.fromArray(this.instanceMatrix.array,16*t)},raycast:function(t,e){const n=this.matrixWorld,i=this.count;if(is.geometry=this.geometry,is.material=this.material,void 0!==is.material)for(let r=0;r<i;r++){this.getMatrixAt(r,ts),es.multiplyMatrices(n,ts),is.matrixWorld=es,is.raycast(t,ns);for(let t=0,n=ns.length;t<n;t++){const n=ns[t];n.instanceId=r,n.object=this,e.push(n)}ns.length=0}},setColorAt:function(t,e){null===this.instanceColor&&(this.instanceColor=new ue(new Float32Array(3*this.count),3)),e.toArray(this.instanceColor.array,3*t)},setMatrixAt:function(t,e){e.toArray(this.instanceMatrix.array,16*t)},updateMorphTargets:function(){},dispose:function(){this.dispatchEvent({type:"dispose"})}}),(ss.prototype=Object.create(ae.prototype)).constructor=ss,ss.prototype.isLineBasicMaterial=!0,ss.prototype.copy=function(t){return ae.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.morphTargets=t.morphTargets,this};const os=new k,as=new k,ls=new ut,cs=new ht,hs=new nt;function us(t=new Le,e=new ss){jt.call(this),this.type="Line",this.geometry=t,this.material=e,this.updateMorphTargets()}us.prototype=Object.assign(Object.create(jt.prototype),{constructor:us,isLine:!0,copy:function(t){return jt.prototype.copy.call(this,t),this.material=t.material,this.geometry=t.geometry,this},computeLineDistances:function(){const t=this.geometry;if(t.isBufferGeometry)if(null===t.index){const e=t.attributes.position,n=[0];for(let t=1,i=e.count;t<i;t++)os.fromBufferAttribute(e,t-1),as.fromBufferAttribute(e,t),n[t]=n[t-1],n[t]+=os.distanceTo(as);t.setAttribute("lineDistance",new ve(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else t.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this},raycast:function(t,e){const n=this.geometry,i=this.matrixWorld,r=t.params.Line.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),hs.copy(n.boundingSphere),hs.applyMatrix4(i),hs.radius+=r,!1===t.ray.intersectsSphere(hs))return;ls.copy(i).invert(),cs.copy(t.ray).applyMatrix4(ls);const s=r/((this.scale.x+this.scale.y+this.scale.z)/3),o=s*s,a=new k,l=new k,c=new k,h=new k,u=this.isLineSegments?2:1;if(n.isBufferGeometry){const i=n.index,r=n.attributes.position;if(null!==i){const n=i.array;for(let i=0,s=n.length-1;i<s;i+=u){const s=n[i+1];if(a.fromBufferAttribute(r,n[i]),l.fromBufferAttribute(r,s),cs.distanceSqToSegment(a,l,h,c)>o)continue;h.applyMatrix4(this.matrixWorld);const u=t.ray.origin.distanceTo(h);u<t.near||u>t.far||e.push({distance:u,point:c.clone().applyMatrix4(this.matrixWorld),index:i,face:null,faceIndex:null,object:this})}}else for(let n=0,s=r.count-1;n<s;n+=u){if(a.fromBufferAttribute(r,n),l.fromBufferAttribute(r,n+1),cs.distanceSqToSegment(a,l,h,c)>o)continue;h.applyMatrix4(this.matrixWorld);const i=t.ray.origin.distanceTo(h);i<t.near||i>t.far||e.push({distance:i,point:c.clone().applyMatrix4(this.matrixWorld),index:n,face:null,faceIndex:null,object:this})}}else n.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")},updateMorphTargets:function(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,n=Object.keys(e);if(n.length>0){const t=e[n[0]];if(void 0!==t){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,n=t.length;e<n;e++){const n=t[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}}}else{const e=t.morphTargets;void 0!==e&&e.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});const ds=new k,ps=new k;function fs(t,e){us.call(this,t,e),this.type="LineSegments"}function ms(t,e){us.call(this,t,e),this.type="LineLoop"}function gs(t){ae.call(this),this.type="PointsMaterial",this.color=new re(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(t)}fs.prototype=Object.assign(Object.create(us.prototype),{constructor:fs,isLineSegments:!0,computeLineDistances:function(){const t=this.geometry;if(t.isBufferGeometry)if(null===t.index){const e=t.attributes.position,n=[];for(let t=0,i=e.count;t<i;t+=2)ds.fromBufferAttribute(e,t),ps.fromBufferAttribute(e,t+1),n[t]=0===t?0:n[t-1],n[t+1]=n[t]+ds.distanceTo(ps);t.setAttribute("lineDistance",new ve(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else t.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}),ms.prototype=Object.assign(Object.create(us.prototype),{constructor:ms,isLineLoop:!0}),(gs.prototype=Object.create(ae.prototype)).constructor=gs,gs.prototype.isPointsMaterial=!0,gs.prototype.copy=function(t){return ae.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.morphTargets=t.morphTargets,this};const ys=new ut,_s=new ht,bs=new nt,vs=new k;function Ss(t=new Le,e=new gs){jt.call(this),this.type="Points",this.geometry=t,this.material=e,this.updateMorphTargets()}function Ts(t,e,n,i,r,s,o){const a=_s.distanceSqToPoint(t);if(a<n){const n=new k;_s.closestPointToPoint(t,n),n.applyMatrix4(i);const l=r.ray.origin.distanceTo(n);if(l<r.near||l>r.far)return;s.push({distance:l,distanceToRay:Math.sqrt(a),point:n,index:e,face:null,object:o})}}function xs(t,e,n,i,r,s,o,a,l){L.call(this,t,e,n,i,r,s,o,a,l),this.format=void 0!==o?o:g,this.minFilter=void 0!==s?s:p,this.magFilter=void 0!==r?r:p,this.generateMipmaps=!1;const c=this;"requestVideoFrameCallback"in t&&t.requestVideoFrameCallback(function e(){c.needsUpdate=!0,t.requestVideoFrameCallback(e)})}function ws(t,e,n,i,r,s,o,a,l,c,h,u){L.call(this,null,s,o,a,l,c,i,r,h,u),this.image={width:e,height:n},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}function Es(t,e,n,i,r,s,o,a,l){L.call(this,t,e,n,i,r,s,o,a,l),this.needsUpdate=!0}function Cs(t,e,n,i,r,s,o,a,l,c){if(1026!==(c=void 0!==c?c:1026)&&1027!==c)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&1026===c&&(n=1012),void 0===n&&1027===c&&(n=1020),L.call(this,null,i,r,s,o,a,c,n,l),this.image={width:t,height:e},this.magFilter=void 0!==o?o:h,this.minFilter=void 0!==a?a:h,this.flipY=!1,this.generateMipmaps=!1}function Ms(t,e,n,i,r){let s,o;if(r===function(t,e,n,i){let r=0;for(let s=e,o=n-i;s<n;s+=i)r+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return r}(t,e,n,i)>0)for(s=e;s<n;s+=i)o=Ys(s,t[s],t[s+1],o);else for(s=n-i;s>=e;s-=i)o=Ys(s,t[s],t[s+1],o);return o&&Bs(o,o.next)&&(Ks(o),o=o.next),o}function Os(t,e){if(!t)return t;e||(e=t);let n,i=t;do{if(n=!1,i.steiner||!Bs(i,i.next)&&0!==Vs(i.prev,i,i.next))i=i.next;else{if(Ks(i),i=e=i.prev,i===i.next)break;n=!0}}while(n||i!==e);return e}function As(t,e,n,i,r,s,o){if(!t)return;!o&&s&&function(t,e,n,i){let r=t;do{null===r.z&&(r.z=ks(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,function(t){let e,n,i,r,s,o,a,l,c=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,i=n,a=0,e=0;e<c&&(a++,i=i.nextZ,i);e++);for(l=c;a>0||l>0&&i;)0!==a&&(0===l||!i||n.z<=i.z)?(r=n,n=n.nextZ,a--):(r=i,i=i.nextZ,l--),s?s.nextZ=r:t=r,r.prevZ=s,s=r;n=i}s.nextZ=null,c*=2}while(o>1)}(r)}(t,i,r,s);let a,l,c=t;for(;t.prev!==t.next;)if(a=t.prev,l=t.next,s?Rs(t,i,r,s):Is(t))e.push(a.i/n),e.push(t.i/n),e.push(l.i/n),Ks(t),t=l.next,c=l.next;else if((t=l)===c){o?1===o?As(t=Ls(Os(t),e,n),e,n,i,r,s,2):2===o&&Ps(t,e,n,i,r,s):As(Os(t),e,n,i,r,s,1);break}}function Is(t){const e=t.prev,n=t,i=t.next;if(Vs(e,n,i)>=0)return!1;let r=t.next.next;for(;r!==t.prev;){if(Us(e.x,e.y,n.x,n.y,i.x,i.y,r.x,r.y)&&Vs(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function Rs(t,e,n,i){const r=t.prev,s=t,o=t.next;if(Vs(r,s,o)>=0)return!1;const a=r.x>s.x?r.x>o.x?r.x:o.x:s.x>o.x?s.x:o.x,l=r.y>s.y?r.y>o.y?r.y:o.y:s.y>o.y?s.y:o.y,c=ks(r.x<s.x?r.x<o.x?r.x:o.x:s.x<o.x?s.x:o.x,r.y<s.y?r.y<o.y?r.y:o.y:s.y<o.y?s.y:o.y,e,n,i),h=ks(a,l,e,n,i);let u=t.prevZ,d=t.nextZ;for(;u&&u.z>=c&&d&&d.z<=h;){if(u!==t.prev&&u!==t.next&&Us(r.x,r.y,s.x,s.y,o.x,o.y,u.x,u.y)&&Vs(u.prev,u,u.next)>=0)return!1;if(u=u.prevZ,d!==t.prev&&d!==t.next&&Us(r.x,r.y,s.x,s.y,o.x,o.y,d.x,d.y)&&Vs(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(;u&&u.z>=c;){if(u!==t.prev&&u!==t.next&&Us(r.x,r.y,s.x,s.y,o.x,o.y,u.x,u.y)&&Vs(u.prev,u,u.next)>=0)return!1;u=u.prevZ}for(;d&&d.z<=h;){if(d!==t.prev&&d!==t.next&&Us(r.x,r.y,s.x,s.y,o.x,o.y,d.x,d.y)&&Vs(d.prev,d,d.next)>=0)return!1;d=d.nextZ}return!0}function Ls(t,e,n){let i=t;do{const r=i.prev,s=i.next.next;!Bs(r,s)&&zs(r,i,i.next,s)&&qs(r,s)&&qs(s,r)&&(e.push(r.i/n),e.push(i.i/n),e.push(s.i/n),Ks(i),Ks(i.next),i=t=s),i=i.next}while(i!==t);return Os(i)}function Ps(t,e,n,i,r,s){let o=t;do{let t=o.next.next;for(;t!==o.prev;){if(o.i!==t.i&&Gs(o,t)){let a=Ws(o,t);return o=Os(o,o.next),a=Os(a,a.next),As(o,e,n,i,r,s),void As(a,e,n,i,r,s)}t=t.next}o=o.next}while(o!==t)}function Ds(t,e){return t.x-e.x}function Ns(t,e){if(e=function(t,e){let n=e;const i=t.x,r=t.y;let s,o=-1/0;do{if(r<=n.y&&r>=n.next.y&&n.next.y!==n.y){const t=n.x+(r-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(t<=i&&t>o){if(o=t,t===i){if(r===n.y)return n;if(r===n.next.y)return n.next}s=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!s)return null;if(i===o)return s;const a=s,l=s.x,c=s.y;let h,u=1/0;n=s;do{i>=n.x&&n.x>=l&&i!==n.x&&Us(r<c?i:o,r,l,c,r<c?o:i,r,n.x,n.y)&&(h=Math.abs(r-n.y)/(i-n.x),qs(n,t)&&(h<u||h===u&&(n.x>s.x||n.x===s.x&&js(s,n)))&&(s=n,u=h)),n=n.next}while(n!==a);return s}(t,e)){const n=Ws(e,t);Os(e,e.next),Os(n,n.next)}}function js(t,e){return Vs(t.prev,t,e.prev)<0&&Vs(e.next,t,t.next)<0}function ks(t,e,n,i,r){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*r)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*r)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Fs(t){let e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function Us(t,e,n,i,r,s,o,a){return(r-o)*(e-a)-(t-o)*(s-a)>=0&&(t-o)*(i-a)-(n-o)*(e-a)>=0&&(n-o)*(s-a)-(r-o)*(i-a)>=0}function Gs(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&zs(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&(qs(t,e)&&qs(e,t)&&function(t,e){let n=t,i=!1;const r=(t.x+e.x)/2,s=(t.y+e.y)/2;do{n.y>s!=n.next.y>s&&n.next.y!==n.y&&r<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==t);return i}(t,e)&&(Vs(t.prev,t,e.prev)||Vs(t,e.prev,e))||Bs(t,e)&&Vs(t.prev,t,t.next)>0&&Vs(e.prev,e,e.next)>0)}function Vs(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Bs(t,e){return t.x===e.x&&t.y===e.y}function zs(t,e,n,i){const r=Xs(Vs(t,e,n)),s=Xs(Vs(t,e,i)),o=Xs(Vs(n,i,t)),a=Xs(Vs(n,i,e));return r!==s&&o!==a||!(0!==r||!Hs(t,n,e))||!(0!==s||!Hs(t,i,e))||!(0!==o||!Hs(n,t,i))||!(0!==a||!Hs(n,e,i))}function Hs(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Xs(t){return t>0?1:t<0?-1:0}function qs(t,e){return Vs(t.prev,t,t.next)<0?Vs(t,e,t.next)>=0&&Vs(t,t.prev,e)>=0:Vs(t,e,t.prev)<0||Vs(t,t.next,e)<0}function Ws(t,e){const n=new Zs(t.i,t.x,t.y),i=new Zs(e.i,e.x,e.y),r=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,s.next=i,i.prev=s,i}function Ys(t,e,n,i){const r=new Zs(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Ks(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Zs(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}Ss.prototype=Object.assign(Object.create(jt.prototype),{constructor:Ss,isPoints:!0,copy:function(t){return jt.prototype.copy.call(this,t),this.material=t.material,this.geometry=t.geometry,this},raycast:function(t,e){const n=this.geometry,i=this.matrixWorld,r=t.params.Points.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),bs.copy(n.boundingSphere),bs.applyMatrix4(i),bs.radius+=r,!1===t.ray.intersectsSphere(bs))return;ys.copy(i).invert(),_s.copy(t.ray).applyMatrix4(ys);const s=r/((this.scale.x+this.scale.y+this.scale.z)/3),o=s*s;if(n.isBufferGeometry){const r=n.index,s=n.attributes.position;if(null!==r){const n=r.array;for(let r=0,a=n.length;r<a;r++){const a=n[r];vs.fromBufferAttribute(s,a),Ts(vs,a,o,i,t,e,this)}}else for(let n=0,a=s.count;n<a;n++)vs.fromBufferAttribute(s,n),Ts(vs,n,o,i,t,e,this)}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")},updateMorphTargets:function(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,n=Object.keys(e);if(n.length>0){const t=e[n[0]];if(void 0!==t){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,n=t.length;e<n;e++){const n=t[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}}}else{const e=t.morphTargets;void 0!==e&&e.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}),xs.prototype=Object.assign(Object.create(L.prototype),{constructor:xs,clone:function(){return new this.constructor(this.image).copy(this)},isVideoTexture:!0,update:function(){const t=this.image;0=="requestVideoFrameCallback"in t&&t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),(ws.prototype=Object.create(L.prototype)).constructor=ws,ws.prototype.isCompressedTexture=!0,(Es.prototype=Object.create(L.prototype)).constructor=Es,Es.prototype.isCanvasTexture=!0,(Cs.prototype=Object.create(L.prototype)).constructor=Cs,Cs.prototype.isDepthTexture=!0,new k,new k,new k,new Jt;const Js={area:function(t){const e=t.length;let n=0;for(let i=e-1,r=0;r<e;i=r++)n+=t[i].x*t[r].y-t[r].x*t[i].y;return.5*n},isClockWise:function(t){return Js.area(t)<0},triangulateShape:function(t,e){const n=[],i=[],r=[];Qs(t),$s(n,t);let s=t.length;e.forEach(Qs);for(let a=0;a<e.length;a++)i.push(s),s+=e[a].length,$s(n,e[a]);const o=function(t,e,n){n=n||2;const i=e&&e.length,r=i?e[0]*n:t.length;let s=Ms(t,0,r,n,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,h,u,d,p;if(i&&(s=function(t,e,n,i){const r=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*i,l=s<o-1?e[s+1]*i:t.length,c=Ms(t,a,l,i,!1),c===c.next&&(c.steiner=!0),r.push(Fs(c));for(r.sort(Ds),s=0;s<r.length;s++)Ns(r[s],n),n=Os(n,n.next);return n}(t,e,s,n)),t.length>80*n){a=c=t[0],l=h=t[1];for(let e=n;e<r;e+=n)u=t[e],d=t[e+1],u<a&&(a=u),d<l&&(l=d),u>c&&(c=u),d>h&&(h=d);p=Math.max(c-a,h-l),p=0!==p?1/p:0}return As(s,o,n,a,l,p),o}(n,i);for(let a=0;a<o.length;a+=3)r.push(o.slice(a,a+3));return r}};function Qs(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function $s(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class to extends Le{constructor(t,e){super(),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];const n=this,i=[],r=[];for(let o=0,a=t.length;o<a;o++)s(t[o]);function s(t){const s=[],o=void 0!==e.curveSegments?e.curveSegments:12,a=void 0!==e.steps?e.steps:1;let l=void 0!==e.depth?e.depth:100,c=void 0===e.bevelEnabled||e.bevelEnabled,h=void 0!==e.bevelThickness?e.bevelThickness:6,u=void 0!==e.bevelSize?e.bevelSize:h-2,d=void 0!==e.bevelOffset?e.bevelOffset:0,p=void 0!==e.bevelSegments?e.bevelSegments:3;const f=e.extrudePath,m=void 0!==e.UVGenerator?e.UVGenerator:eo;void 0!==e.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),l=e.amount);let g,y,_,b,v,S=!1;f&&(g=f.getSpacedPoints(a),S=!0,c=!1,y=f.computeFrenetFrames(a,!1),_=new k,b=new k,v=new k),c||(p=0,h=0,u=0,d=0);const T=t.extractPoints(o);let x=T.shape;const w=T.holes;if(!Js.isClockWise(x)){x=x.reverse();for(let t=0,e=w.length;t<e;t++){const e=w[t];Js.isClockWise(e)&&(w[t]=e.reverse())}}const E=Js.triangulateShape(x,w),C=x;for(let e=0,n=w.length;e<n;e++)x=x.concat(w[e]);function O(t,e,n){return e||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().multiplyScalar(n).add(t)}const A=x.length,I=E.length;function R(t,e,n){let i,r,s;const o=t.x-e.x,a=t.y-e.y,l=n.x-t.x,c=n.y-t.y,h=o*o+a*a;if(Math.abs(o*c-a*l)>Number.EPSILON){const u=Math.sqrt(h),d=Math.sqrt(l*l+c*c),p=e.x-a/u,f=e.y+o/u,m=((n.x-c/d-p)*c-(n.y+l/d-f)*l)/(o*c-a*l);i=p+o*m-t.x,r=f+a*m-t.y;const g=i*i+r*r;if(g<=2)return new M(i,r);s=Math.sqrt(g/2)}else{let t=!1;o>Number.EPSILON?l>Number.EPSILON&&(t=!0):o<-Number.EPSILON?l<-Number.EPSILON&&(t=!0):Math.sign(a)===Math.sign(c)&&(t=!0),t?(i=-a,r=o,s=Math.sqrt(h)):(i=o,r=a,s=Math.sqrt(h/2))}return new M(i/s,r/s)}const L=[];for(let e=0,n=C.length,i=n-1,r=e+1;e<n;e++,i++,r++)i===n&&(i=0),r===n&&(r=0),L[e]=R(C[e],C[i],C[r]);const P=[];let D,N=L.concat();for(let e=0,n=w.length;e<n;e++){const t=w[e];D=[];for(let e=0,n=t.length,i=n-1,r=e+1;e<n;e++,i++,r++)i===n&&(i=0),r===n&&(r=0),D[e]=R(t[e],t[i],t[r]);P.push(D),N=N.concat(D)}for(let e=0;e<p;e++){const t=e/p,n=h*Math.cos(t*Math.PI/2),i=u*Math.sin(t*Math.PI/2)+d;for(let e=0,r=C.length;e<r;e++){const t=O(C[e],L[e],i);U(t.x,t.y,-n)}for(let e=0,r=w.length;e<r;e++){const t=w[e];D=P[e];for(let e=0,r=t.length;e<r;e++){const r=O(t[e],D[e],i);U(r.x,r.y,-n)}}}const j=u+d;for(let e=0;e<A;e++){const t=c?O(x[e],N[e],j):x[e];S?(b.copy(y.normals[0]).multiplyScalar(t.x),_.copy(y.binormals[0]).multiplyScalar(t.y),v.copy(g[0]).add(b).add(_),U(v.x,v.y,v.z)):U(t.x,t.y,0)}for(let e=1;e<=a;e++)for(let t=0;t<A;t++){const n=c?O(x[t],N[t],j):x[t];S?(b.copy(y.normals[e]).multiplyScalar(n.x),_.copy(y.binormals[e]).multiplyScalar(n.y),v.copy(g[e]).add(b).add(_),U(v.x,v.y,v.z)):U(n.x,n.y,l/a*e)}for(let e=p-1;e>=0;e--){const t=e/p,n=h*Math.cos(t*Math.PI/2),i=u*Math.sin(t*Math.PI/2)+d;for(let e=0,r=C.length;e<r;e++){const t=O(C[e],L[e],i);U(t.x,t.y,l+n)}for(let e=0,r=w.length;e<r;e++){const t=w[e];D=P[e];for(let e=0,r=t.length;e<r;e++){const r=O(t[e],D[e],i);S?U(r.x,r.y+g[a-1].y,g[a-1].x+n):U(r.x,r.y,l+n)}}}function F(t,e){let n=t.length;for(;--n>=0;){const i=n;let r=n-1;r<0&&(r=t.length-1);for(let t=0,n=a+2*p;t<n;t++){const n=A*t,s=A*(t+1);V(e+i+n,e+r+n,e+r+s,e+i+s)}}}function U(t,e,n){s.push(t),s.push(e),s.push(n)}function G(t,e,r){B(t),B(e),B(r);const s=i.length/3,o=m.generateTopUV(n,i,s-3,s-2,s-1);z(o[0]),z(o[1]),z(o[2])}function V(t,e,r,s){B(t),B(e),B(s),B(e),B(r),B(s);const o=i.length/3,a=m.generateSideWallUV(n,i,o-6,o-3,o-2,o-1);z(a[0]),z(a[1]),z(a[3]),z(a[1]),z(a[2]),z(a[3])}function B(t){i.push(s[3*t+0]),i.push(s[3*t+1]),i.push(s[3*t+2])}function z(t){r.push(t.x),r.push(t.y)}!function(){const t=i.length/3;if(c){let t=0,e=A*t;for(let n=0;n<I;n++){const t=E[n];G(t[2]+e,t[1]+e,t[0]+e)}t=a+2*p,e=A*t;for(let n=0;n<I;n++){const t=E[n];G(t[0]+e,t[1]+e,t[2]+e)}}else{for(let t=0;t<I;t++){const e=E[t];G(e[2],e[1],e[0])}for(let t=0;t<I;t++){const e=E[t];G(e[0]+A*a,e[1]+A*a,e[2]+A*a)}}n.addGroup(t,i.length/3-t,0)}(),function(){const t=i.length/3;let e=0;F(C,e),e+=C.length;for(let n=0,i=w.length;n<i;n++){const t=w[n];F(t,e),e+=t.length}n.addGroup(t,i.length/3-t,1)}()}this.setAttribute("position",new ve(i,3)),this.setAttribute("uv",new ve(r,2)),this.computeVertexNormals()}toJSON(){const t=Le.prototype.toJSON.call(this);return function(t,e,n){if(n.shapes=[],Array.isArray(t))for(let i=0,r=t.length;i<r;i++)n.shapes.push(t[i].uuid);else n.shapes.push(t.uuid);return void 0!==e.extrudePath&&(n.options.extrudePath=e.extrudePath.toJSON()),n}(this.parameters.shapes,this.parameters.options,t)}}const eo={generateTopUV:function(t,e,n,i,r){const s=e[3*i],o=e[3*i+1],a=e[3*r],l=e[3*r+1];return[new M(e[3*n],e[3*n+1]),new M(s,o),new M(a,l)]},generateSideWallUV:function(t,e,n,i,r,s){const o=e[3*n],a=e[3*n+1],l=e[3*n+2],c=e[3*i],h=e[3*i+1],u=e[3*i+2],d=e[3*r],p=e[3*r+1],f=e[3*r+2],m=e[3*s],g=e[3*s+1],y=e[3*s+2];return Math.abs(a-h)<.01?[new M(o,1-l),new M(c,1-u),new M(d,1-f),new M(m,1-y)]:[new M(a,1-l),new M(h,1-u),new M(p,1-f),new M(g,1-y)]}};function no(t,e,n){Le.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:n};const i=[],r=[],s=[],o=[],a=1e-5,l=new k,c=new k,h=new k,u=new k,d=new k;t.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");const p=e+1;for(let f=0;f<=n;f++){const i=f/n;for(let n=0;n<=e;n++){const p=n/e;t(p,i,c),r.push(c.x,c.y,c.z),p-a>=0?(t(p-a,i,h),u.subVectors(c,h)):(t(p+a,i,h),u.subVectors(h,c)),i-a>=0?(t(p,i-a,h),d.subVectors(c,h)):(t(p,i+a,h),d.subVectors(h,c)),l.crossVectors(u,d).normalize(),s.push(l.x,l.y,l.z),o.push(p,i)}}for(let f=0;f<n;f++)for(let t=0;t<e;t++){const e=f*p+t+1,n=(f+1)*p+t+1,r=(f+1)*p+t;i.push(f*p+t,e,r),i.push(e,n,r)}this.setIndex(i),this.setAttribute("position",new ve(r,3)),this.setAttribute("normal",new ve(s,3)),this.setAttribute("uv",new ve(o,2))}(no.prototype=Object.create(Le.prototype)).constructor=no;class io extends Le{constructor(t,e=12){super(),this.type="ShapeGeometry",this.parameters={shapes:t,curveSegments:e};const n=[],i=[],r=[],s=[];let o=0,a=0;if(!1===Array.isArray(t))l(t);else for(let c=0;c<t.length;c++)l(t[c]),this.addGroup(o,a,c),o+=a,a=0;function l(t){const o=i.length/3,l=t.extractPoints(e);let c=l.shape;const h=l.holes;!1===Js.isClockWise(c)&&(c=c.reverse());for(let e=0,n=h.length;e<n;e++){const t=h[e];!0===Js.isClockWise(t)&&(h[e]=t.reverse())}const u=Js.triangulateShape(c,h);for(let e=0,n=h.length;e<n;e++)c=c.concat(h[e]);for(let e=0,n=c.length;e<n;e++){const t=c[e];i.push(t.x,t.y,0),r.push(0,0,1),s.push(t.x,t.y)}for(let e=0,i=u.length;e<i;e++){const t=u[e];n.push(t[0]+o,t[1]+o,t[2]+o),a+=3}}this.setIndex(n),this.setAttribute("position",new ve(i,3)),this.setAttribute("normal",new ve(r,3)),this.setAttribute("uv",new ve(s,2))}toJSON(){const t=Le.prototype.toJSON.call(this);return function(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,i=t.length;n<i;n++)e.shapes.push(t[n].uuid);else e.shapes.push(t.uuid);return e}(this.parameters.shapes,t)}}function ro(t){ae.call(this),this.type="ShadowMaterial",this.color=new re(0),this.transparent=!0,this.setValues(t)}function so(t){nn.call(this,t),this.type="RawShaderMaterial"}function oo(t){ae.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new re(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new re(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=T,this.normalScale=new M(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.vertexTangents=!1,this.setValues(t)}function ao(t){oo.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new M(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,Object.defineProperty(this,"ior",{get:function(){return(1+.4*this.reflectivity)/(1-.4*this.reflectivity)},set:function(t){this.reflectivity=C.clamp(2.5*(t-1)/(t+1),0,1)}}),this.sheen=null,this.transmission=0,this.transmissionMap=null,this.setValues(t)}function lo(t){ae.call(this),this.type="MeshPhongMaterial",this.color=new re(16777215),this.specular=new re(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new re(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=T,this.normalScale=new M(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function co(t){ae.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new re(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new re(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=T,this.normalScale=new M(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function ho(t){ae.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=T,this.normalScale=new M(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function uo(t){ae.call(this),this.type="MeshLambertMaterial",this.color=new re(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new re(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function po(t){ae.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new re(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=T,this.normalScale=new M(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function fo(t){ss.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}(ro.prototype=Object.create(ae.prototype)).constructor=ro,ro.prototype.isShadowMaterial=!0,ro.prototype.copy=function(t){return ae.prototype.copy.call(this,t),this.color.copy(t.color),this},(so.prototype=Object.create(nn.prototype)).constructor=so,so.prototype.isRawShaderMaterial=!0,(oo.prototype=Object.create(ae.prototype)).constructor=oo,oo.prototype.isMeshStandardMaterial=!0,oo.prototype.copy=function(t){return ae.prototype.copy.call(this,t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.vertexTangents=t.vertexTangents,this},(ao.prototype=Object.create(oo.prototype)).constructor=ao,ao.prototype.isMeshPhysicalMaterial=!0,ao.prototype.copy=function(t){return oo.prototype.copy.call(this,t),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.reflectivity=t.reflectivity,this.sheen=t.sheen?(this.sheen||new re).copy(t.sheen):null,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this},(lo.prototype=Object.create(ae.prototype)).constructor=lo,lo.prototype.isMeshPhongMaterial=!0,lo.prototype.copy=function(t){return ae.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},(co.prototype=Object.create(ae.prototype)).constructor=co,co.prototype.isMeshToonMaterial=!0,co.prototype.copy=function(t){return ae.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.gradientMap=t.gradientMap,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},(ho.prototype=Object.create(ae.prototype)).constructor=ho,ho.prototype.isMeshNormalMaterial=!0,ho.prototype.copy=function(t){return ae.prototype.copy.call(this,t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},(uo.prototype=Object.create(ae.prototype)).constructor=uo,uo.prototype.isMeshLambertMaterial=!0,uo.prototype.copy=function(t){return ae.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},(po.prototype=Object.create(ae.prototype)).constructor=po,po.prototype.isMeshMatcapMaterial=!0,po.prototype.copy=function(t){return ae.prototype.copy.call(this,t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},(fo.prototype=Object.create(ss.prototype)).constructor=fo,fo.prototype.isLineDashedMaterial=!0,fo.prototype.copy=function(t){return ss.prototype.copy.call(this,t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this};var mo=Object.freeze({__proto__:null,ShadowMaterial:ro,SpriteMaterial:Er,RawShaderMaterial:so,ShaderMaterial:nn,PointsMaterial:gs,MeshPhysicalMaterial:ao,MeshStandardMaterial:oo,MeshPhongMaterial:lo,MeshToonMaterial:co,MeshNormalMaterial:ho,MeshLambertMaterial:uo,MeshDepthMaterial:lr,MeshDistanceMaterial:cr,MeshBasicMaterial:le,MeshMatcapMaterial:po,LineDashedMaterial:fo,LineBasicMaterial:ss,Material:ae});const go={arraySlice:function(t,e,n){return go.isTypedArray(t)?new t.constructor(t.subarray(e,void 0!==n?n:t.length)):t.slice(e,n)},convertArray:function(t,e,n){return!t||!n&&t.constructor===e?t:"number"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){const e=t.length,n=new Array(e);for(let i=0;i!==e;++i)n[i]=i;return n.sort(function(e,n){return t[e]-t[n]}),n},sortedArray:function(t,e,n){const i=t.length,r=new t.constructor(i);for(let s=0,o=0;o!==i;++s){const i=n[s]*e;for(let n=0;n!==e;++n)r[o++]=t[i+n]}return r},flattenJSON:function(t,e,n,i){let r=1,s=t[0];for(;void 0!==s&&void 0===s[i];)s=t[r++];if(void 0===s)return;let o=s[i];if(void 0!==o)if(Array.isArray(o))do{o=s[i],void 0!==o&&(e.push(s.time),n.push.apply(n,o)),s=t[r++]}while(void 0!==s);else if(void 0!==o.toArray)do{o=s[i],void 0!==o&&(e.push(s.time),o.toArray(n,n.length)),s=t[r++]}while(void 0!==s);else do{o=s[i],void 0!==o&&(e.push(s.time),n.push(o)),s=t[r++]}while(void 0!==s)},subclip:function(t,e,n,i,r=30){const s=t.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const t=s.tracks[l],e=t.getValueSize(),a=[],c=[];for(let s=0;s<t.times.length;++s){const o=t.times[s]*r;if(!(o<n||o>=i)){a.push(t.times[s]);for(let n=0;n<e;++n)c.push(t.values[s*e+n])}}0!==a.length&&(t.times=go.convertArray(a,t.times.constructor),t.values=go.convertArray(c,t.values.constructor),o.push(t))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s},makeClipAdditive:function(t,e=0,n=t,i=30){i<=0&&(i=30);const r=n.tracks.length,s=e/i;for(let o=0;o<r;++o){const e=n.tracks[o],i=e.ValueTypeName;if("bool"===i||"string"===i)continue;const r=t.tracks.find(function(t){return t.name===e.name&&t.ValueTypeName===i});if(void 0===r)continue;let a=0;const l=e.getValueSize();e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(a=l/3);let c=0;const h=r.getValueSize();r.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=h/3);const u=e.times.length-1;let d;if(s<=e.times[0])d=go.arraySlice(e.values,a,l-a);else if(s>=e.times[u]){const t=u*l+a;d=go.arraySlice(e.values,t,t+l-a)}else{const t=e.createInterpolant(),n=a,i=l-a;t.evaluate(s),d=go.arraySlice(t.resultBuffer,n,i)}"quaternion"===i&&(new j).fromArray(d).normalize().conjugate().toArray(d);const p=r.times.length;for(let t=0;t<p;++t){const e=t*h+c;if("quaternion"===i)j.multiplyQuaternionsFlat(r.values,e,d,0,r.values,e);else{const t=h-2*c;for(let n=0;n<t;++n)r.values[e+n]-=d[n]}}}return t.blendMode=2501,t}};function yo(t,e,n,i){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new e.constructor(n),this.sampleValues=e,this.valueSize=n}function _o(t,e,n,i){yo.call(this,t,e,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function bo(t,e,n,i){yo.call(this,t,e,n,i)}function vo(t,e,n,i){yo.call(this,t,e,n,i)}function So(t,e,n,i){if(void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=go.convertArray(e,this.TimeBufferType),this.values=go.convertArray(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}function To(t,e,n){So.call(this,t,e,n)}function xo(t,e,n,i){So.call(this,t,e,n,i)}function wo(t,e,n,i){So.call(this,t,e,n,i)}function Eo(t,e,n,i){yo.call(this,t,e,n,i)}function Co(t,e,n,i){So.call(this,t,e,n,i)}function Mo(t,e,n,i){So.call(this,t,e,n,i)}function Oo(t,e,n,i){So.call(this,t,e,n,i)}function Ao(t,e=-1,n,i=2500){this.name=t,this.tracks=n,this.duration=e,this.blendMode=i,this.uuid=C.generateUUID(),this.duration<0&&this.resetDuration()}function Io(t){if(void 0===t.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return wo;case"vector":case"vector2":case"vector3":case"vector4":return Oo;case"color":return xo;case"quaternion":return Co;case"bool":case"boolean":return To;case"string":return Mo}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}(t.type);if(void 0===t.times){const e=[],n=[];go.flattenJSON(t.keys,e,n,"value"),t.times=e,t.values=n}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}Object.assign(yo.prototype,{evaluate:function(t){const e=this.parameterPositions;let n=this._cachedIndex,i=e[n],r=e[n-1];t:{e:{let s;n:{i:if(!(t<i)){for(let s=n+2;;){if(void 0===i){if(t<r)break i;return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,t,r)}if(n===s)break;if(r=i,i=e[++n],t<i)break e}s=e.length;break n}if(t>=r)break t;{const o=e[1];t<o&&(n=2,r=o);for(let s=n-2;;){if(void 0===r)return this._cachedIndex=0,this.beforeStart_(0,t,i);if(n===s)break;if(i=r,r=e[--n-1],t>=r)break e}s=n,n=0}}for(;n<s;){const i=n+s>>>1;t<e[i]?s=i:n=i+1}if(i=e[n],r=e[n-1],void 0===r)return this._cachedIndex=0,this.beforeStart_(0,t,i);if(void 0===i)return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,r,t)}this._cachedIndex=n,this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,t,i)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){const e=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=t*i;for(let s=0;s!==i;++s)e[s]=n[r+s];return e},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(yo.prototype,{beforeStart_:yo.prototype.copySampleValue_,afterEnd_:yo.prototype.copySampleValue_}),_o.prototype=Object.assign(Object.create(yo.prototype),{constructor:_o,DefaultSettings_:{endingStart:2400,endingEnd:2400},intervalChanged_:function(t,e,n){const i=this.parameterPositions;let r=t-2,s=t+1,o=i[r],a=i[s];if(void 0===o)switch(this.getSettings_().endingStart){case 2401:r=t,o=2*e-n;break;case 2402:r=i.length-2,o=e+i[r]-i[r+1];break;default:r=t,o=n}if(void 0===a)switch(this.getSettings_().endingEnd){case 2401:s=t,a=2*n-e;break;case 2402:s=1,a=n+i[1]-i[0];break;default:s=t-1,a=e}const l=.5*(n-e),c=this.valueSize;this._weightPrev=l/(e-o),this._weightNext=l/(a-n),this._offsetPrev=r*c,this._offsetNext=s*c},interpolate_:function(t,e,n,i){const r=this.resultBuffer,s=this.sampleValues,o=this.valueSize,a=t*o,l=a-o,c=this._offsetPrev,h=this._offsetNext,u=this._weightPrev,d=this._weightNext,p=(n-e)/(i-e),f=p*p,m=f*p,g=-u*m+2*u*f-u*p,y=(1+u)*m+(-1.5-2*u)*f+(-.5+u)*p+1,_=(-1-d)*m+(1.5+d)*f+.5*p,b=d*m-d*f;for(let v=0;v!==o;++v)r[v]=g*s[c+v]+y*s[l+v]+_*s[a+v]+b*s[h+v];return r}}),bo.prototype=Object.assign(Object.create(yo.prototype),{constructor:bo,interpolate_:function(t,e,n,i){const r=this.resultBuffer,s=this.sampleValues,o=this.valueSize,a=t*o,l=a-o,c=(n-e)/(i-e),h=1-c;for(let u=0;u!==o;++u)r[u]=s[l+u]*h+s[a+u]*c;return r}}),vo.prototype=Object.assign(Object.create(yo.prototype),{constructor:vo,interpolate_:function(t){return this.copySampleValue_(t-1)}}),Object.assign(So,{toJSON:function(t){const e=t.constructor;let n;if(void 0!==e.toJSON)n=e.toJSON(t);else{n={name:t.name,times:go.convertArray(t.times,Array),values:go.convertArray(t.values,Array)};const e=t.getInterpolation();e!==t.DefaultInterpolation&&(n.interpolation=e)}return n.type=t.ValueTypeName,n}}),Object.assign(So.prototype,{constructor:So,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:_,InterpolantFactoryMethodDiscrete:function(t){return new vo(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new bo(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new _o(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){let e;switch(t){case y:e=this.InterpolantFactoryMethodDiscrete;break;case _:e=this.InterpolantFactoryMethodLinear;break;case 2302:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){const e="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(e);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",e),this}return this.createInterpolant=e,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return y;case this.InterpolantFactoryMethodLinear:return _;case this.InterpolantFactoryMethodSmooth:return 2302}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(0!==t){const e=this.times;for(let n=0,i=e.length;n!==i;++n)e[n]+=t}return this},scale:function(t){if(1!==t){const e=this.times;for(let n=0,i=e.length;n!==i;++n)e[n]*=t}return this},trim:function(t,e){const n=this.times,i=n.length;let r=0,s=i-1;for(;r!==i&&n[r]<t;)++r;for(;-1!==s&&n[s]>e;)--s;if(++s,0!==r||s!==i){r>=s&&(s=Math.max(s,1),r=s-1);const t=this.getValueSize();this.times=go.arraySlice(n,r,s),this.values=go.arraySlice(this.values,r*t,s*t)}return this},validate:function(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const n=this.times,i=this.values,r=n.length;0===r&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let s=null;for(let o=0;o!==r;o++){const e=n[o];if("number"==typeof e&&isNaN(e)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,e),t=!1;break}if(null!==s&&s>e){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,e,s),t=!1;break}s=e}if(void 0!==i&&go.isTypedArray(i))for(let o=0,a=i.length;o!==a;++o){const e=i[o];if(isNaN(e)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,e),t=!1;break}}return t},optimize:function(){const t=go.arraySlice(this.times),e=go.arraySlice(this.values),n=this.getValueSize(),i=2302===this.getInterpolation(),r=t.length-1;let s=1;for(let o=1;o<r;++o){let r=!1;const a=t[o];if(a!==t[o+1]&&(1!==o||a!==t[0]))if(i)r=!0;else{const t=o*n,i=t-n,s=t+n;for(let o=0;o!==n;++o){const n=e[t+o];if(n!==e[i+o]||n!==e[s+o]){r=!0;break}}}if(r){if(o!==s){t[s]=t[o];const i=o*n,r=s*n;for(let t=0;t!==n;++t)e[r+t]=e[i+t]}++s}}if(r>0){t[s]=t[r];for(let t=r*n,i=s*n,o=0;o!==n;++o)e[i+o]=e[t+o];++s}return s!==t.length?(this.times=go.arraySlice(t,0,s),this.values=go.arraySlice(e,0,s*n)):(this.times=t,this.values=e),this},clone:function(){const t=go.arraySlice(this.times,0),e=go.arraySlice(this.values,0),n=new(0,this.constructor)(this.name,t,e);return n.createInterpolant=this.createInterpolant,n}}),To.prototype=Object.assign(Object.create(So.prototype),{constructor:To,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:y,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),xo.prototype=Object.assign(Object.create(So.prototype),{constructor:xo,ValueTypeName:"color"}),wo.prototype=Object.assign(Object.create(So.prototype),{constructor:wo,ValueTypeName:"number"}),Eo.prototype=Object.assign(Object.create(yo.prototype),{constructor:Eo,interpolate_:function(t,e,n,i){const r=this.resultBuffer,s=this.sampleValues,o=this.valueSize,a=(n-e)/(i-e);let l=t*o;for(let c=l+o;l!==c;l+=4)j.slerpFlat(r,0,s,l-o,s,l,a);return r}}),Co.prototype=Object.assign(Object.create(So.prototype),{constructor:Co,ValueTypeName:"quaternion",DefaultInterpolation:_,InterpolantFactoryMethodLinear:function(t){return new Eo(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),Mo.prototype=Object.assign(Object.create(So.prototype),{constructor:Mo,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:y,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Oo.prototype=Object.assign(Object.create(So.prototype),{constructor:Oo,ValueTypeName:"vector"}),Object.assign(Ao,{parse:function(t){const e=[],n=t.tracks,i=1/(t.fps||1);for(let s=0,o=n.length;s!==o;++s)e.push(Io(n[s]).scale(i));const r=new Ao(t.name,t.duration,e,t.blendMode);return r.uuid=t.uuid,r},toJSON:function(t){const e=[],n=t.tracks,i={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode};for(let r=0,s=n.length;r!==s;++r)e.push(So.toJSON(n[r]));return i},CreateFromMorphTargetSequence:function(t,e,n,i){const r=e.length,s=[];for(let o=0;o<r;o++){let t=[],a=[];t.push((o+r-1)%r,o,(o+1)%r),a.push(0,1,0);const l=go.getKeyframeOrder(t);t=go.sortedArray(t,1,l),a=go.sortedArray(a,1,l),i||0!==t[0]||(t.push(r),a.push(a[0])),s.push(new wo(".morphTargetInfluences["+e[o].name+"]",t,a).scale(1/n))}return new Ao(t,-1,s)},findByName:function(t,e){let n=t;if(!Array.isArray(t)){const e=t;n=e.geometry&&e.geometry.animations||e.animations}for(let i=0;i<n.length;i++)if(n[i].name===e)return n[i];return null},CreateClipsFromMorphTargetSequences:function(t,e,n){const i={},r=/^([\w-]*?)([\d]+)$/;for(let o=0,a=t.length;o<a;o++){const e=t[o],n=e.name.match(r);if(n&&n.length>1){const t=n[1];let r=i[t];r||(i[t]=r=[]),r.push(e)}}const s=[];for(const o in i)s.push(Ao.CreateFromMorphTargetSequence(o,i[o],e,n));return s},parseAnimation:function(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(t,e,n,i,r){if(0!==n.length){const s=[],o=[];go.flattenJSON(n,s,o,i),0!==s.length&&r.push(new t(e,s,o))}},i=[],r=t.name||"default",s=t.fps||30,o=t.blendMode;let a=t.length||-1;const l=t.hierarchy||[];for(let c=0;c<l.length;c++){const t=l[c].keys;if(t&&0!==t.length)if(t[0].morphTargets){const e={};let n;for(n=0;n<t.length;n++)if(t[n].morphTargets)for(let i=0;i<t[n].morphTargets.length;i++)e[t[n].morphTargets[i]]=-1;for(const r in e){const e=[],s=[];for(let i=0;i!==t[n].morphTargets.length;++i){const i=t[n];e.push(i.time),s.push(i.morphTarget===r?1:0)}i.push(new wo(".morphTargetInfluence["+r+"]",e,s))}a=e.length*(s||1)}else{const r=".bones["+e[c].name+"]";n(Oo,r+".position",t,"pos",i),n(Co,r+".quaternion",t,"rot",i),n(Oo,r+".scale",t,"scl",i)}}return 0===i.length?null:new Ao(r,a,i,o)}}),Object.assign(Ao.prototype,{resetDuration:function(){let t=0;for(let e=0,n=this.tracks.length;e!==n;++e){const n=this.tracks[e];t=Math.max(t,n.times[n.times.length-1])}return this.duration=t,this},trim:function(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},validate:function(){let t=!0;for(let e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t},optimize:function(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this},clone:function(){const t=[];for(let e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new Ao(this.name,this.duration,t,this.blendMode)},toJSON:function(){return Ao.toJSON(this)}});const Ro={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}},Lo=new function(t,e,n){const i=this;let r,s=!1,o=0,a=0;const l=[];this.onStart=void 0,this.onLoad=void 0,this.onProgress=void 0,this.onError=void 0,this.itemStart=function(t){a++,!1===s&&void 0!==i.onStart&&i.onStart(t,o,a),s=!0},this.itemEnd=function(t){o++,void 0!==i.onProgress&&i.onProgress(t,o,a),o===a&&(s=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(t){void 0!==i.onError&&i.onError(t)},this.resolveURL=function(t){return r?r(t):t},this.setURLModifier=function(t){return r=t,this},this.addHandler=function(t,e){return l.push(t,e),this},this.removeHandler=function(t){const e=l.indexOf(t);return-1!==e&&l.splice(e,2),this},this.getHandler=function(t){for(let e=0,n=l.length;e<n;e+=2){const n=l[e],i=l[e+1];if(n.global&&(n.lastIndex=0),n.test(t))return i}return null}};function Po(t){this.manager=void 0!==t?t:Lo,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}Object.assign(Po.prototype,{load:function(){},loadAsync:function(t,e){const n=this;return new Promise(function(i,r){n.load(t,i,e,r)})},parse:function(){},setCrossOrigin:function(t){return this.crossOrigin=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setPath:function(t){return this.path=t,this},setResourcePath:function(t){return this.resourcePath=t,this},setRequestHeader:function(t){return this.requestHeader=t,this}});const Do={};function No(t){Po.call(this,t)}function jo(t){Po.call(this,t)}function ko(t){Po.call(this,t)}function Fo(t){Po.call(this,t)}function Uo(t){Po.call(this,t)}function Go(t){Po.call(this,t)}function Vo(t){Po.call(this,t)}function Bo(){this.type="Curve",this.arcLengthDivisions=200}function zo(t,e,n,i,r,s,o,a){Bo.call(this),this.type="EllipseCurve",this.aX=t||0,this.aY=e||0,this.xRadius=n||1,this.yRadius=i||1,this.aStartAngle=r||0,this.aEndAngle=s||2*Math.PI,this.aClockwise=o||!1,this.aRotation=a||0}function Ho(t,e,n,i,r,s){zo.call(this,t,e,n,n,i,r,s),this.type="ArcCurve"}function Xo(){let t=0,e=0,n=0,i=0;function r(r,s,o,a){t=r,e=o,n=-3*r+3*s-2*o-a,i=2*r-2*s+o+a}return{initCatmullRom:function(t,e,n,i,s){r(e,n,s*(n-t),s*(i-e))},initNonuniformCatmullRom:function(t,e,n,i,s,o,a){let l=(e-t)/s-(n-t)/(s+o)+(n-e)/o,c=(n-e)/o-(i-e)/(o+a)+(i-n)/a;l*=o,c*=o,r(e,n,l,c)},calc:function(r){const s=r*r;return t+e*r+n*s+i*(s*r)}}}No.prototype=Object.assign(Object.create(Po.prototype),{constructor:No,load:function(t,e,n,i){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const r=this,s=Ro.get(t);if(void 0!==s)return r.manager.itemStart(t),setTimeout(function(){e&&e(s),r.manager.itemEnd(t)},0),s;if(void 0!==Do[t])return void Do[t].push({onLoad:e,onProgress:n,onError:i});const o=t.match(/^data:(.*?)(;base64)?,(.*)$/);let a;if(o){const n=o[1],s=!!o[2];let a=o[3];a=decodeURIComponent(a),s&&(a=atob(a));try{let i;const s=(this.responseType||"").toLowerCase();switch(s){case"arraybuffer":case"blob":const t=new Uint8Array(a.length);for(let n=0;n<a.length;n++)t[n]=a.charCodeAt(n);i="blob"===s?new Blob([t.buffer],{type:n}):t.buffer;break;case"document":const e=new DOMParser;i=e.parseFromString(a,n);break;case"json":i=JSON.parse(a);break;default:i=a}setTimeout(function(){e&&e(i),r.manager.itemEnd(t)},0)}catch(l){setTimeout(function(){i&&i(l),r.manager.itemError(t),r.manager.itemEnd(t)},0)}}else{Do[t]=[],Do[t].push({onLoad:e,onProgress:n,onError:i}),a=new XMLHttpRequest,a.open("GET",t,!0),a.addEventListener("load",function(e){const n=this.response,i=Do[t];if(delete Do[t],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),Ro.add(t,n);for(let t=0,e=i.length;t<e;t++){const e=i[t];e.onLoad&&e.onLoad(n)}r.manager.itemEnd(t)}else{for(let t=0,n=i.length;t<n;t++){const n=i[t];n.onError&&n.onError(e)}r.manager.itemError(t),r.manager.itemEnd(t)}},!1),a.addEventListener("progress",function(e){const n=Do[t];for(let t=0,i=n.length;t<i;t++){const i=n[t];i.onProgress&&i.onProgress(e)}},!1),a.addEventListener("error",function(e){const n=Do[t];delete Do[t];for(let t=0,i=n.length;t<i;t++){const i=n[t];i.onError&&i.onError(e)}r.manager.itemError(t),r.manager.itemEnd(t)},!1),a.addEventListener("abort",function(e){const n=Do[t];delete Do[t];for(let t=0,i=n.length;t<i;t++){const i=n[t];i.onError&&i.onError(e)}r.manager.itemError(t),r.manager.itemEnd(t)},!1),void 0!==this.responseType&&(a.responseType=this.responseType),void 0!==this.withCredentials&&(a.withCredentials=this.withCredentials),a.overrideMimeType&&a.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain");for(const t in this.requestHeader)a.setRequestHeader(t,this.requestHeader[t]);a.send(null)}return r.manager.itemStart(t),a},setResponseType:function(t){return this.responseType=t,this},setMimeType:function(t){return this.mimeType=t,this}}),jo.prototype=Object.assign(Object.create(Po.prototype),{constructor:jo,load:function(t,e,n,i){const r=this,s=new No(r.manager);s.setPath(r.path),s.setRequestHeader(r.requestHeader),s.setWithCredentials(r.withCredentials),s.load(t,function(n){try{e(r.parse(JSON.parse(n)))}catch(s){i?i(s):console.error(s),r.manager.itemError(t)}},n,i)},parse:function(t){const e=[];for(let n=0;n<t.length;n++){const i=Ao.parse(t[n]);e.push(i)}return e}}),ko.prototype=Object.assign(Object.create(Po.prototype),{constructor:ko,load:function(t,e,n,i){const r=this,s=[],o=new ws,a=new No(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(r.withCredentials);let l=0;function c(c){a.load(t[c],function(t){const n=r.parse(t,!0);s[c]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},l+=1,6===l&&(1===n.mipmapCount&&(o.minFilter=p),o.image=s,o.format=n.format,o.needsUpdate=!0,e&&e(o))},n,i)}if(Array.isArray(t))for(let h=0,u=t.length;h<u;++h)c(h);else a.load(t,function(t){const n=r.parse(t,!0);if(n.isCubemap){const t=n.mipmaps.length/n.mipmapCount;for(let e=0;e<t;e++){s[e]={mipmaps:[]};for(let t=0;t<n.mipmapCount;t++)s[e].mipmaps.push(n.mipmaps[e*n.mipmapCount+t]),s[e].format=n.format,s[e].width=n.width,s[e].height=n.height}o.image=s}else o.image.width=n.width,o.image.height=n.height,o.mipmaps=n.mipmaps;1===n.mipmapCount&&(o.minFilter=p),o.format=n.format,o.needsUpdate=!0,e&&e(o)},n,i);return o}}),Fo.prototype=Object.assign(Object.create(Po.prototype),{constructor:Fo,load:function(t,e,n,i){void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const r=this,s=Ro.get(t);if(void 0!==s)return r.manager.itemStart(t),setTimeout(function(){e&&e(s),r.manager.itemEnd(t)},0),s;const o=document.createElementNS("http://www.w3.org/1999/xhtml","img");function a(){o.removeEventListener("load",a,!1),o.removeEventListener("error",l,!1),Ro.add(t,this),e&&e(this),r.manager.itemEnd(t)}function l(e){o.removeEventListener("load",a,!1),o.removeEventListener("error",l,!1),i&&i(e),r.manager.itemError(t),r.manager.itemEnd(t)}return o.addEventListener("load",a,!1),o.addEventListener("error",l,!1),"data:"!==t.substr(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),r.manager.itemStart(t),o.src=t,o}}),Uo.prototype=Object.assign(Object.create(Po.prototype),{constructor:Uo,load:function(t,e,n,i){const r=new an,s=new Fo(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let o=0;function a(n){s.load(t[n],function(t){r.images[n]=t,o++,6===o&&(r.needsUpdate=!0,e&&e(r))},void 0,i)}for(let l=0;l<t.length;++l)a(l);return r}}),Go.prototype=Object.assign(Object.create(Po.prototype),{constructor:Go,load:function(t,e,n,i){const r=this,s=new cn,o=new No(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(r.withCredentials),o.load(t,function(t){const n=r.parse(t);n&&(void 0!==n.image?s.image=n.image:void 0!==n.data&&(s.image.width=n.width,s.image.height=n.height,s.image.data=n.data),s.wrapS=void 0!==n.wrapS?n.wrapS:l,s.wrapT=void 0!==n.wrapT?n.wrapT:l,s.magFilter=void 0!==n.magFilter?n.magFilter:p,s.minFilter=void 0!==n.minFilter?n.minFilter:p,s.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.encoding&&(s.encoding=n.encoding),void 0!==n.flipY&&(s.flipY=n.flipY),void 0!==n.format&&(s.format=n.format),void 0!==n.type&&(s.type=n.type),void 0!==n.mipmaps&&(s.mipmaps=n.mipmaps,s.minFilter=m),1===n.mipmapCount&&(s.minFilter=p),s.needsUpdate=!0,e&&e(s,n))},n,i),s}}),Vo.prototype=Object.assign(Object.create(Po.prototype),{constructor:Vo,load:function(t,e,n,i){const r=new L,s=new Fo(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(t,function(n){r.image=n;const i=t.search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/);r.format=i?g:1023,r.needsUpdate=!0,void 0!==e&&e(r)},n,i),r}}),Object.assign(Bo.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(t,e){const n=this.getUtoTmapping(t);return this.getPoint(n,e)},getPoints:function(t=5){const e=[];for(let n=0;n<=t;n++)e.push(this.getPoint(n/t));return e},getSpacedPoints:function(t=5){const e=[];for(let n=0;n<=t;n++)e.push(this.getPointAt(n/t));return e},getLength:function(){const t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(void 0===t&&(t=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const e=[];let n,i=this.getPoint(0),r=0;e.push(0);for(let s=1;s<=t;s++)n=this.getPoint(s/t),r+=n.distanceTo(i),e.push(r),i=n;return this.cacheArcLengths=e,e},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){const n=this.getLengths();let i=0;const r=n.length;let s;s=e||t*n[r-1];let o,a=0,l=r-1;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),o=n[i]-s,o<0)a=i+1;else{if(!(o>0)){l=i;break}l=i-1}if(i=l,n[i]===s)return i/(r-1);const c=n[i];return(i+(s-c)/(n[i+1]-c))/(r-1)},getTangent:function(t,e){let n=t-1e-4,i=t+1e-4;n<0&&(n=0),i>1&&(i=1);const r=this.getPoint(n),s=this.getPoint(i),o=e||(r.isVector2?new M:new k);return o.copy(s).sub(r).normalize(),o},getTangentAt:function(t,e){const n=this.getUtoTmapping(t);return this.getTangent(n,e)},computeFrenetFrames:function(t,e){const n=new k,i=[],r=[],s=[],o=new k,a=new ut;for(let d=0;d<=t;d++)i[d]=this.getTangentAt(d/t,new k),i[d].normalize();r[0]=new k,s[0]=new k;let l=Number.MAX_VALUE;const c=Math.abs(i[0].x),h=Math.abs(i[0].y),u=Math.abs(i[0].z);c<=l&&(l=c,n.set(1,0,0)),h<=l&&(l=h,n.set(0,1,0)),u<=l&&n.set(0,0,1),o.crossVectors(i[0],n).normalize(),r[0].crossVectors(i[0],o),s[0].crossVectors(i[0],r[0]);for(let d=1;d<=t;d++){if(r[d]=r[d-1].clone(),s[d]=s[d-1].clone(),o.crossVectors(i[d-1],i[d]),o.length()>Number.EPSILON){o.normalize();const t=Math.acos(C.clamp(i[d-1].dot(i[d]),-1,1));r[d].applyMatrix4(a.makeRotationAxis(o,t))}s[d].crossVectors(i[d],r[d])}if(!0===e){let e=Math.acos(C.clamp(r[0].dot(r[t]),-1,1));e/=t,i[0].dot(o.crossVectors(r[0],r[t]))>0&&(e=-e);for(let n=1;n<=t;n++)r[n].applyMatrix4(a.makeRotationAxis(i[n],e*n)),s[n].crossVectors(i[n],r[n])}return{tangents:i,normals:r,binormals:s}},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this},toJSON:function(){const t={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t},fromJSON:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}),(zo.prototype=Object.create(Bo.prototype)).constructor=zo,zo.prototype.isEllipseCurve=!0,zo.prototype.getPoint=function(t,e){const n=e||new M,i=2*Math.PI;let r=this.aEndAngle-this.aStartAngle;const s=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=i;for(;r>i;)r-=i;r<Number.EPSILON&&(r=s?0:i),!0!==this.aClockwise||s||(r===i?r=-i:r-=i);const o=this.aStartAngle+t*r;let a=this.aX+this.xRadius*Math.cos(o),l=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){const t=Math.cos(this.aRotation),e=Math.sin(this.aRotation),n=a-this.aX,i=l-this.aY;a=n*t-i*e+this.aX,l=n*e+i*t+this.aY}return n.set(a,l)},zo.prototype.copy=function(t){return Bo.prototype.copy.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},zo.prototype.toJSON=function(){const t=Bo.prototype.toJSON.call(this);return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t},zo.prototype.fromJSON=function(t){return Bo.prototype.fromJSON.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},(Ho.prototype=Object.create(zo.prototype)).constructor=Ho,Ho.prototype.isArcCurve=!0;const qo=new k,Wo=new Xo,Yo=new Xo,Ko=new Xo;function Zo(t=[],e=!1,n="centripetal",i=.5){Bo.call(this),this.type="CatmullRomCurve3",this.points=t,this.closed=e,this.curveType=n,this.tension=i}function Jo(t,e,n,i,r){const s=.5*(i-e),o=.5*(r-n),a=t*t;return(2*n-2*i+s+o)*(t*a)+(-3*n+3*i-2*s-o)*a+s*t+n}function Qo(t,e,n,i){return function(t,e){const n=1-t;return n*n*e}(t,e)+function(t,e){return 2*(1-t)*t*e}(t,n)+function(t,e){return t*t*e}(t,i)}function $o(t,e,n,i,r){return function(t,e){const n=1-t;return n*n*n*e}(t,e)+function(t,e){const n=1-t;return 3*n*n*t*e}(t,n)+function(t,e){return 3*(1-t)*t*t*e}(t,i)+function(t,e){return t*t*t*e}(t,r)}function ta(t=new M,e=new M,n=new M,i=new M){Bo.call(this),this.type="CubicBezierCurve",this.v0=t,this.v1=e,this.v2=n,this.v3=i}function ea(t=new k,e=new k,n=new k,i=new k){Bo.call(this),this.type="CubicBezierCurve3",this.v0=t,this.v1=e,this.v2=n,this.v3=i}function na(t=new M,e=new M){Bo.call(this),this.type="LineCurve",this.v1=t,this.v2=e}function ia(t=new k,e=new k){Bo.call(this),this.type="LineCurve3",this.v1=t,this.v2=e}function ra(t=new M,e=new M,n=new M){Bo.call(this),this.type="QuadraticBezierCurve",this.v0=t,this.v1=e,this.v2=n}function sa(t=new k,e=new k,n=new k){Bo.call(this),this.type="QuadraticBezierCurve3",this.v0=t,this.v1=e,this.v2=n}function oa(t=[]){Bo.call(this),this.type="SplineCurve",this.points=t}(Zo.prototype=Object.create(Bo.prototype)).constructor=Zo,Zo.prototype.isCatmullRomCurve3=!0,Zo.prototype.getPoint=function(t,e=new k){const n=e,i=this.points,r=i.length,s=(r-(this.closed?0:1))*t;let o,a,l=Math.floor(s),c=s-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/r)+1)*r:0===c&&l===r-1&&(l=r-2,c=1),this.closed||l>0?o=i[(l-1)%r]:(qo.subVectors(i[0],i[1]).add(i[0]),o=qo);const h=i[l%r],u=i[(l+1)%r];if(this.closed||l+2<r?a=i[(l+2)%r]:(qo.subVectors(i[r-1],i[r-2]).add(i[r-1]),a=qo),"centripetal"===this.curveType||"chordal"===this.curveType){const t="chordal"===this.curveType?.5:.25;let e=Math.pow(o.distanceToSquared(h),t),n=Math.pow(h.distanceToSquared(u),t),i=Math.pow(u.distanceToSquared(a),t);n<1e-4&&(n=1),e<1e-4&&(e=n),i<1e-4&&(i=n),Wo.initNonuniformCatmullRom(o.x,h.x,u.x,a.x,e,n,i),Yo.initNonuniformCatmullRom(o.y,h.y,u.y,a.y,e,n,i),Ko.initNonuniformCatmullRom(o.z,h.z,u.z,a.z,e,n,i)}else"catmullrom"===this.curveType&&(Wo.initCatmullRom(o.x,h.x,u.x,a.x,this.tension),Yo.initCatmullRom(o.y,h.y,u.y,a.y,this.tension),Ko.initCatmullRom(o.z,h.z,u.z,a.z,this.tension));return n.set(Wo.calc(c),Yo.calc(c),Ko.calc(c)),n},Zo.prototype.copy=function(t){Bo.prototype.copy.call(this,t),this.points=[];for(let e=0,n=t.points.length;e<n;e++)this.points.push(t.points[e].clone());return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},Zo.prototype.toJSON=function(){const t=Bo.prototype.toJSON.call(this);t.points=[];for(let e=0,n=this.points.length;e<n;e++)t.points.push(this.points[e].toArray());return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t},Zo.prototype.fromJSON=function(t){Bo.prototype.fromJSON.call(this,t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const n=t.points[e];this.points.push((new k).fromArray(n))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},(ta.prototype=Object.create(Bo.prototype)).constructor=ta,ta.prototype.isCubicBezierCurve=!0,ta.prototype.getPoint=function(t,e=new M){const n=e,i=this.v0,r=this.v1,s=this.v2,o=this.v3;return n.set($o(t,i.x,r.x,s.x,o.x),$o(t,i.y,r.y,s.y,o.y)),n},ta.prototype.copy=function(t){return Bo.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},ta.prototype.toJSON=function(){const t=Bo.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},ta.prototype.fromJSON=function(t){return Bo.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},(ea.prototype=Object.create(Bo.prototype)).constructor=ea,ea.prototype.isCubicBezierCurve3=!0,ea.prototype.getPoint=function(t,e=new k){const n=e,i=this.v0,r=this.v1,s=this.v2,o=this.v3;return n.set($o(t,i.x,r.x,s.x,o.x),$o(t,i.y,r.y,s.y,o.y),$o(t,i.z,r.z,s.z,o.z)),n},ea.prototype.copy=function(t){return Bo.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},ea.prototype.toJSON=function(){const t=Bo.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},ea.prototype.fromJSON=function(t){return Bo.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},(na.prototype=Object.create(Bo.prototype)).constructor=na,na.prototype.isLineCurve=!0,na.prototype.getPoint=function(t,e=new M){const n=e;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n},na.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},na.prototype.getTangent=function(t,e){const n=e||new M;return n.copy(this.v2).sub(this.v1).normalize(),n},na.prototype.copy=function(t){return Bo.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},na.prototype.toJSON=function(){const t=Bo.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},na.prototype.fromJSON=function(t){return Bo.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},(ia.prototype=Object.create(Bo.prototype)).constructor=ia,ia.prototype.isLineCurve3=!0,ia.prototype.getPoint=function(t,e=new k){const n=e;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n},ia.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},ia.prototype.copy=function(t){return Bo.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},ia.prototype.toJSON=function(){const t=Bo.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},ia.prototype.fromJSON=function(t){return Bo.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},(ra.prototype=Object.create(Bo.prototype)).constructor=ra,ra.prototype.isQuadraticBezierCurve=!0,ra.prototype.getPoint=function(t,e=new M){const n=e,i=this.v0,r=this.v1,s=this.v2;return n.set(Qo(t,i.x,r.x,s.x),Qo(t,i.y,r.y,s.y)),n},ra.prototype.copy=function(t){return Bo.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},ra.prototype.toJSON=function(){const t=Bo.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},ra.prototype.fromJSON=function(t){return Bo.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},(sa.prototype=Object.create(Bo.prototype)).constructor=sa,sa.prototype.isQuadraticBezierCurve3=!0,sa.prototype.getPoint=function(t,e=new k){const n=e,i=this.v0,r=this.v1,s=this.v2;return n.set(Qo(t,i.x,r.x,s.x),Qo(t,i.y,r.y,s.y),Qo(t,i.z,r.z,s.z)),n},sa.prototype.copy=function(t){return Bo.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},sa.prototype.toJSON=function(){const t=Bo.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},sa.prototype.fromJSON=function(t){return Bo.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},(oa.prototype=Object.create(Bo.prototype)).constructor=oa,oa.prototype.isSplineCurve=!0,oa.prototype.getPoint=function(t,e=new M){const n=e,i=this.points,r=(i.length-1)*t,s=Math.floor(r),o=r-s,a=i[0===s?s:s-1],l=i[s],c=i[s>i.length-2?i.length-1:s+1],h=i[s>i.length-3?i.length-1:s+2];return n.set(Jo(o,a.x,l.x,c.x,h.x),Jo(o,a.y,l.y,c.y,h.y)),n},oa.prototype.copy=function(t){Bo.prototype.copy.call(this,t),this.points=[];for(let e=0,n=t.points.length;e<n;e++)this.points.push(t.points[e].clone());return this},oa.prototype.toJSON=function(){const t=Bo.prototype.toJSON.call(this);t.points=[];for(let e=0,n=this.points.length;e<n;e++)t.points.push(this.points[e].toArray());return t},oa.prototype.fromJSON=function(t){Bo.prototype.fromJSON.call(this,t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const n=t.points[e];this.points.push((new M).fromArray(n))}return this};var aa=Object.freeze({__proto__:null,ArcCurve:Ho,CatmullRomCurve3:Zo,CubicBezierCurve:ta,CubicBezierCurve3:ea,EllipseCurve:zo,LineCurve:na,LineCurve3:ia,QuadraticBezierCurve:ra,QuadraticBezierCurve3:sa,SplineCurve:oa});function la(){Bo.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function ca(t){la.call(this),this.type="Path",this.currentPoint=new M,t&&this.setFromPoints(t)}function ha(t){ca.call(this,t),this.uuid=C.generateUUID(),this.type="Shape",this.holes=[]}function ua(t,e=1){jt.call(this),this.type="Light",this.color=new re(t),this.intensity=e}function da(t,e,n){ua.call(this,t,n),this.type="HemisphereLight",this.position.copy(jt.DefaultUp),this.updateMatrix(),this.groundColor=new re(e)}function pa(t){this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new M(512,512),this.map=null,this.mapPass=null,this.matrix=new ut,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new dn,this._frameExtents=new M(1,1),this._viewportCount=1,this._viewports=[new D(0,0,1,1)]}function fa(){pa.call(this,new sn(50,1,.5,500)),this.focus=1}function ma(t,e,n,i,r,s){ua.call(this,t,e),this.type="SpotLight",this.position.copy(jt.DefaultUp),this.updateMatrix(),this.target=new jt,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(t){this.intensity=t/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==i?i:Math.PI/3,this.penumbra=void 0!==r?r:0,this.decay=void 0!==s?s:1,this.shadow=new fa}function ga(){pa.call(this,new sn(90,1,.5,500)),this._frameExtents=new M(4,2),this._viewportCount=6,this._viewports=[new D(2,1,1,1),new D(0,1,1,1),new D(3,1,1,1),new D(1,1,1,1),new D(3,0,1,1),new D(1,0,1,1)],this._cubeDirections=[new k(1,0,0),new k(-1,0,0),new k(0,0,1),new k(0,0,-1),new k(0,1,0),new k(0,-1,0)],this._cubeUps=[new k(0,1,0),new k(0,1,0),new k(0,1,0),new k(0,1,0),new k(0,0,1),new k(0,0,-1)]}function ya(t,e,n,i){ua.call(this,t,e),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==i?i:1,this.shadow=new ga}function _a(t=-1,e=1,n=1,i=-1,r=.1,s=2e3){rn.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=n,this.bottom=i,this.near=r,this.far=s,this.updateProjectionMatrix()}function ba(){pa.call(this,new _a(-5,5,5,-5,.5,500))}function va(t,e){ua.call(this,t,e),this.type="DirectionalLight",this.position.copy(jt.DefaultUp),this.updateMatrix(),this.target=new jt,this.shadow=new ba}function Sa(t,e){ua.call(this,t,e),this.type="AmbientLight"}function Ta(t,e,n,i){ua.call(this,t,e),this.type="RectAreaLight",this.width=void 0!==n?n:10,this.height=void 0!==i?i:10}la.prototype=Object.assign(Object.create(Bo.prototype),{constructor:la,add:function(t){this.curves.push(t)},closePath:function(){const t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new na(e,t))},getPoint:function(t){const e=t*this.getLength(),n=this.getCurveLengths();let i=0;for(;i<n.length;){if(n[i]>=e){const t=n[i]-e,r=this.curves[i],s=r.getLength();return r.getPointAt(0===s?0:1-t/s)}i++}return null},getLength:function(){const t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const t=[];let e=0;for(let n=0,i=this.curves.length;n<i;n++)e+=this.curves[n].getLength(),t.push(e);return this.cacheLengths=t,t},getSpacedPoints:function(t=40){const e=[];for(let n=0;n<=t;n++)e.push(this.getPoint(n/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(t=12){const e=[];let n;for(let i=0,r=this.curves;i<r.length;i++){const s=r[i],o=s.getPoints(s&&s.isEllipseCurve?2*t:s&&(s.isLineCurve||s.isLineCurve3)?1:s&&s.isSplineCurve?t*s.points.length:t);for(let t=0;t<o.length;t++){const i=o[t];n&&n.equals(i)||(e.push(i),n=i)}}return this.autoClose&&e.length>1&&!e[e.length-1].equals(e[0])&&e.push(e[0]),e},copy:function(t){Bo.prototype.copy.call(this,t),this.curves=[];for(let e=0,n=t.curves.length;e<n;e++)this.curves.push(t.curves[e].clone());return this.autoClose=t.autoClose,this},toJSON:function(){const t=Bo.prototype.toJSON.call(this);t.autoClose=this.autoClose,t.curves=[];for(let e=0,n=this.curves.length;e<n;e++)t.curves.push(this.curves[e].toJSON());return t},fromJSON:function(t){Bo.prototype.fromJSON.call(this,t),this.autoClose=t.autoClose,this.curves=[];for(let e=0,n=t.curves.length;e<n;e++){const n=t.curves[e];this.curves.push((new aa[n.type]).fromJSON(n))}return this}}),ca.prototype=Object.assign(Object.create(la.prototype),{constructor:ca,setFromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(let e=1,n=t.length;e<n;e++)this.lineTo(t[e].x,t[e].y);return this},moveTo:function(t,e){return this.currentPoint.set(t,e),this},lineTo:function(t,e){const n=new na(this.currentPoint.clone(),new M(t,e));return this.curves.push(n),this.currentPoint.set(t,e),this},quadraticCurveTo:function(t,e,n,i){const r=new ra(this.currentPoint.clone(),new M(t,e),new M(n,i));return this.curves.push(r),this.currentPoint.set(n,i),this},bezierCurveTo:function(t,e,n,i,r,s){const o=new ta(this.currentPoint.clone(),new M(t,e),new M(n,i),new M(r,s));return this.curves.push(o),this.currentPoint.set(r,s),this},splineThru:function(t){const e=new oa([this.currentPoint.clone()].concat(t));return this.curves.push(e),this.currentPoint.copy(t[t.length-1]),this},arc:function(t,e,n,i,r,s){return this.absarc(t+this.currentPoint.x,e+this.currentPoint.y,n,i,r,s),this},absarc:function(t,e,n,i,r,s){return this.absellipse(t,e,n,n,i,r,s),this},ellipse:function(t,e,n,i,r,s,o,a){return this.absellipse(t+this.currentPoint.x,e+this.currentPoint.y,n,i,r,s,o,a),this},absellipse:function(t,e,n,i,r,s,o,a){const l=new zo(t,e,n,i,r,s,o,a);if(this.curves.length>0){const t=l.getPoint(0);t.equals(this.currentPoint)||this.lineTo(t.x,t.y)}this.curves.push(l);const c=l.getPoint(1);return this.currentPoint.copy(c),this},copy:function(t){return la.prototype.copy.call(this,t),this.currentPoint.copy(t.currentPoint),this},toJSON:function(){const t=la.prototype.toJSON.call(this);return t.currentPoint=this.currentPoint.toArray(),t},fromJSON:function(t){return la.prototype.fromJSON.call(this,t),this.currentPoint.fromArray(t.currentPoint),this}}),ha.prototype=Object.assign(Object.create(ca.prototype),{constructor:ha,getPointsHoles:function(t){const e=[];for(let n=0,i=this.holes.length;n<i;n++)e[n]=this.holes[n].getPoints(t);return e},extractPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},copy:function(t){ca.prototype.copy.call(this,t),this.holes=[];for(let e=0,n=t.holes.length;e<n;e++)this.holes.push(t.holes[e].clone());return this},toJSON:function(){const t=ca.prototype.toJSON.call(this);t.uuid=this.uuid,t.holes=[];for(let e=0,n=this.holes.length;e<n;e++)t.holes.push(this.holes[e].toJSON());return t},fromJSON:function(t){ca.prototype.fromJSON.call(this,t),this.uuid=t.uuid,this.holes=[];for(let e=0,n=t.holes.length;e<n;e++){const n=t.holes[e];this.holes.push((new ca).fromJSON(n))}return this}}),ua.prototype=Object.assign(Object.create(jt.prototype),{constructor:ua,isLight:!0,copy:function(t){return jt.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){const e=jt.prototype.toJSON.call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}),da.prototype=Object.assign(Object.create(ua.prototype),{constructor:da,isHemisphereLight:!0,copy:function(t){return ua.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}),Object.assign(pa.prototype,{_projScreenMatrix:new ut,_lightPositionWorld:new k,_lookTarget:new k,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(t){const e=this.camera,n=this.matrix,i=this._projScreenMatrix,r=this._lookTarget,s=this._lightPositionWorld;s.setFromMatrixPosition(t.matrixWorld),e.position.copy(s),r.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(r),e.updateMatrixWorld(),i.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(i),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(e.projectionMatrix),n.multiply(e.matrixWorldInverse)},getViewport:function(t){return this._viewports[t]},getFrameExtents:function(){return this._frameExtents},copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){const t={};return 0!==this.bias&&(t.bias=this.bias),0!==this.normalBias&&(t.normalBias=this.normalBias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}),fa.prototype=Object.assign(Object.create(pa.prototype),{constructor:fa,isSpotLightShadow:!0,updateMatrices:function(t){const e=this.camera,n=2*C.RAD2DEG*t.angle*this.focus,i=this.mapSize.width/this.mapSize.height,r=t.distance||e.far;n===e.fov&&i===e.aspect&&r===e.far||(e.fov=n,e.aspect=i,e.far=r,e.updateProjectionMatrix()),pa.prototype.updateMatrices.call(this,t)}}),ma.prototype=Object.assign(Object.create(ua.prototype),{constructor:ma,isSpotLight:!0,copy:function(t){return ua.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),ga.prototype=Object.assign(Object.create(pa.prototype),{constructor:ga,isPointLightShadow:!0,updateMatrices:function(t,e=0){const n=this.camera,i=this.matrix,r=this._lightPositionWorld,s=this._lookTarget,o=this._projScreenMatrix;r.setFromMatrixPosition(t.matrixWorld),n.position.copy(r),s.copy(n.position),s.add(this._cubeDirections[e]),n.up.copy(this._cubeUps[e]),n.lookAt(s),n.updateMatrixWorld(),i.makeTranslation(-r.x,-r.y,-r.z),o.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(o)}}),ya.prototype=Object.assign(Object.create(ua.prototype),{constructor:ya,isPointLight:!0,copy:function(t){return ua.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}),_a.prototype=Object.assign(Object.create(rn.prototype),{constructor:_a,isOrthographicCamera:!0,copy:function(t,e){return rn.prototype.copy.call(this,t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this},setViewOffset:function(t,e,n,i,r,s){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=s,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let r=n-t,s=n+t,o=i+e,a=i-e;if(null!==this.view&&this.view.enabled){const t=(this.right-this.left)/this.view.fullWidth/this.zoom,e=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=t*this.view.offsetX,s=r+t*this.view.width,o-=e*this.view.offsetY,a=o-e*this.view.height}this.projectionMatrix.makeOrthographic(r,s,o,a,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()},toJSON:function(t){const e=jt.prototype.toJSON.call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}),ba.prototype=Object.assign(Object.create(pa.prototype),{constructor:ba,isDirectionalLightShadow:!0,updateMatrices:function(t){pa.prototype.updateMatrices.call(this,t)}}),va.prototype=Object.assign(Object.create(ua.prototype),{constructor:va,isDirectionalLight:!0,copy:function(t){return ua.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),Sa.prototype=Object.assign(Object.create(ua.prototype),{constructor:Sa,isAmbientLight:!0}),Ta.prototype=Object.assign(Object.create(ua.prototype),{constructor:Ta,isRectAreaLight:!0,copy:function(t){return ua.prototype.copy.call(this,t),this.width=t.width,this.height=t.height,this},toJSON:function(t){const e=ua.prototype.toJSON.call(this,t);return e.object.width=this.width,e.object.height=this.height,e}});class xa{constructor(){Object.defineProperty(this,"isSphericalHarmonics3",{value:!0}),this.coefficients=[];for(let t=0;t<9;t++)this.coefficients.push(new k)}set(t){for(let e=0;e<9;e++)this.coefficients[e].copy(t[e]);return this}zero(){for(let t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this}getAt(t,e){const n=t.x,i=t.y,r=t.z,s=this.coefficients;return e.copy(s[0]).multiplyScalar(.282095),e.addScaledVector(s[1],.488603*i),e.addScaledVector(s[2],.488603*r),e.addScaledVector(s[3],.488603*n),e.addScaledVector(s[4],n*i*1.092548),e.addScaledVector(s[5],i*r*1.092548),e.addScaledVector(s[6],.315392*(3*r*r-1)),e.addScaledVector(s[7],n*r*1.092548),e.addScaledVector(s[8],.546274*(n*n-i*i)),e}getIrradianceAt(t,e){const n=t.x,i=t.y,r=t.z,s=this.coefficients;return e.copy(s[0]).multiplyScalar(.886227),e.addScaledVector(s[1],1.023328*i),e.addScaledVector(s[2],1.023328*r),e.addScaledVector(s[3],1.023328*n),e.addScaledVector(s[4],.858086*n*i),e.addScaledVector(s[5],.858086*i*r),e.addScaledVector(s[6],.743125*r*r-.247708),e.addScaledVector(s[7],.858086*n*r),e.addScaledVector(s[8],.429043*(n*n-i*i)),e}add(t){for(let e=0;e<9;e++)this.coefficients[e].add(t.coefficients[e]);return this}addScaledSH(t,e){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(t.coefficients[n],e);return this}scale(t){for(let e=0;e<9;e++)this.coefficients[e].multiplyScalar(t);return this}lerp(t,e){for(let n=0;n<9;n++)this.coefficients[n].lerp(t.coefficients[n],e);return this}equals(t){for(let e=0;e<9;e++)if(!this.coefficients[e].equals(t.coefficients[e]))return!1;return!0}copy(t){return this.set(t.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(t,e=0){const n=this.coefficients;for(let i=0;i<9;i++)n[i].fromArray(t,e+3*i);return this}toArray(t=[],e=0){const n=this.coefficients;for(let i=0;i<9;i++)n[i].toArray(t,e+3*i);return t}static getBasisAt(t,e){const n=t.x,i=t.y,r=t.z;e[0]=.282095,e[1]=.488603*i,e[2]=.488603*r,e[3]=.488603*n,e[4]=1.092548*n*i,e[5]=1.092548*i*r,e[6]=.315392*(3*r*r-1),e[7]=1.092548*n*r,e[8]=.546274*(n*n-i*i)}}function wa(t,e){ua.call(this,void 0,e),this.type="LightProbe",this.sh=void 0!==t?t:new xa}function Ea(t){Po.call(this,t),this.textures={}}wa.prototype=Object.assign(Object.create(ua.prototype),{constructor:wa,isLightProbe:!0,copy:function(t){return ua.prototype.copy.call(this,t),this.sh.copy(t.sh),this},fromJSON:function(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this},toJSON:function(t){const e=ua.prototype.toJSON.call(this,t);return e.object.sh=this.sh.toArray(),e}}),Ea.prototype=Object.assign(Object.create(Po.prototype),{constructor:Ea,load:function(t,e,n,i){const r=this,s=new No(r.manager);s.setPath(r.path),s.setRequestHeader(r.requestHeader),s.setWithCredentials(r.withCredentials),s.load(t,function(n){try{e(r.parse(JSON.parse(n)))}catch(s){i?i(s):console.error(s),r.manager.itemError(t)}},n,i)},parse:function(t){const e=this.textures;function n(t){return void 0===e[t]&&console.warn("THREE.MaterialLoader: Undefined texture",t),e[t]}const i=new mo[t.type];if(void 0!==t.uuid&&(i.uuid=t.uuid),void 0!==t.name&&(i.name=t.name),void 0!==t.color&&void 0!==i.color&&i.color.setHex(t.color),void 0!==t.roughness&&(i.roughness=t.roughness),void 0!==t.metalness&&(i.metalness=t.metalness),void 0!==t.sheen&&(i.sheen=(new re).setHex(t.sheen)),void 0!==t.emissive&&void 0!==i.emissive&&i.emissive.setHex(t.emissive),void 0!==t.specular&&void 0!==i.specular&&i.specular.setHex(t.specular),void 0!==t.shininess&&(i.shininess=t.shininess),void 0!==t.clearcoat&&(i.clearcoat=t.clearcoat),void 0!==t.clearcoatRoughness&&(i.clearcoatRoughness=t.clearcoatRoughness),void 0!==t.fog&&(i.fog=t.fog),void 0!==t.flatShading&&(i.flatShading=t.flatShading),void 0!==t.blending&&(i.blending=t.blending),void 0!==t.combine&&(i.combine=t.combine),void 0!==t.side&&(i.side=t.side),void 0!==t.opacity&&(i.opacity=t.opacity),void 0!==t.transparent&&(i.transparent=t.transparent),void 0!==t.alphaTest&&(i.alphaTest=t.alphaTest),void 0!==t.depthTest&&(i.depthTest=t.depthTest),void 0!==t.depthWrite&&(i.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(i.colorWrite=t.colorWrite),void 0!==t.stencilWrite&&(i.stencilWrite=t.stencilWrite),void 0!==t.stencilWriteMask&&(i.stencilWriteMask=t.stencilWriteMask),void 0!==t.stencilFunc&&(i.stencilFunc=t.stencilFunc),void 0!==t.stencilRef&&(i.stencilRef=t.stencilRef),void 0!==t.stencilFuncMask&&(i.stencilFuncMask=t.stencilFuncMask),void 0!==t.stencilFail&&(i.stencilFail=t.stencilFail),void 0!==t.stencilZFail&&(i.stencilZFail=t.stencilZFail),void 0!==t.stencilZPass&&(i.stencilZPass=t.stencilZPass),void 0!==t.wireframe&&(i.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(i.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(i.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(i.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.rotation&&(i.rotation=t.rotation),1!==t.linewidth&&(i.linewidth=t.linewidth),void 0!==t.dashSize&&(i.dashSize=t.dashSize),void 0!==t.gapSize&&(i.gapSize=t.gapSize),void 0!==t.scale&&(i.scale=t.scale),void 0!==t.polygonOffset&&(i.polygonOffset=t.polygonOffset),void 0!==t.polygonOffsetFactor&&(i.polygonOffsetFactor=t.polygonOffsetFactor),void 0!==t.polygonOffsetUnits&&(i.polygonOffsetUnits=t.polygonOffsetUnits),void 0!==t.skinning&&(i.skinning=t.skinning),void 0!==t.morphTargets&&(i.morphTargets=t.morphTargets),void 0!==t.morphNormals&&(i.morphNormals=t.morphNormals),void 0!==t.dithering&&(i.dithering=t.dithering),void 0!==t.vertexTangents&&(i.vertexTangents=t.vertexTangents),void 0!==t.visible&&(i.visible=t.visible),void 0!==t.toneMapped&&(i.toneMapped=t.toneMapped),void 0!==t.userData&&(i.userData=t.userData),void 0!==t.vertexColors&&(i.vertexColors="number"==typeof t.vertexColors?t.vertexColors>0:t.vertexColors),void 0!==t.uniforms)for(const r in t.uniforms){const e=t.uniforms[r];switch(i.uniforms[r]={},e.type){case"t":i.uniforms[r].value=n(e.value);break;case"c":i.uniforms[r].value=(new re).setHex(e.value);break;case"v2":i.uniforms[r].value=(new M).fromArray(e.value);break;case"v3":i.uniforms[r].value=(new k).fromArray(e.value);break;case"v4":i.uniforms[r].value=(new D).fromArray(e.value);break;case"m3":i.uniforms[r].value=(new O).fromArray(e.value);break;case"m4":i.uniforms[r].value=(new ut).fromArray(e.value);break;default:i.uniforms[r].value=e.value}}if(void 0!==t.defines&&(i.defines=t.defines),void 0!==t.vertexShader&&(i.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(i.fragmentShader=t.fragmentShader),void 0!==t.extensions)for(const r in t.extensions)i.extensions[r]=t.extensions[r];if(void 0!==t.shading&&(i.flatShading=1===t.shading),void 0!==t.size&&(i.size=t.size),void 0!==t.sizeAttenuation&&(i.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(i.map=n(t.map)),void 0!==t.matcap&&(i.matcap=n(t.matcap)),void 0!==t.alphaMap&&(i.alphaMap=n(t.alphaMap)),void 0!==t.bumpMap&&(i.bumpMap=n(t.bumpMap)),void 0!==t.bumpScale&&(i.bumpScale=t.bumpScale),void 0!==t.normalMap&&(i.normalMap=n(t.normalMap)),void 0!==t.normalMapType&&(i.normalMapType=t.normalMapType),void 0!==t.normalScale){let e=t.normalScale;!1===Array.isArray(e)&&(e=[e,e]),i.normalScale=(new M).fromArray(e)}return void 0!==t.displacementMap&&(i.displacementMap=n(t.displacementMap)),void 0!==t.displacementScale&&(i.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(i.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(i.roughnessMap=n(t.roughnessMap)),void 0!==t.metalnessMap&&(i.metalnessMap=n(t.metalnessMap)),void 0!==t.emissiveMap&&(i.emissiveMap=n(t.emissiveMap)),void 0!==t.emissiveIntensity&&(i.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(i.specularMap=n(t.specularMap)),void 0!==t.envMap&&(i.envMap=n(t.envMap)),void 0!==t.envMapIntensity&&(i.envMapIntensity=t.envMapIntensity),void 0!==t.reflectivity&&(i.reflectivity=t.reflectivity),void 0!==t.refractionRatio&&(i.refractionRatio=t.refractionRatio),void 0!==t.lightMap&&(i.lightMap=n(t.lightMap)),void 0!==t.lightMapIntensity&&(i.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(i.aoMap=n(t.aoMap)),void 0!==t.aoMapIntensity&&(i.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(i.gradientMap=n(t.gradientMap)),void 0!==t.clearcoatMap&&(i.clearcoatMap=n(t.clearcoatMap)),void 0!==t.clearcoatRoughnessMap&&(i.clearcoatRoughnessMap=n(t.clearcoatRoughnessMap)),void 0!==t.clearcoatNormalMap&&(i.clearcoatNormalMap=n(t.clearcoatNormalMap)),void 0!==t.clearcoatNormalScale&&(i.clearcoatNormalScale=(new M).fromArray(t.clearcoatNormalScale)),void 0!==t.transmission&&(i.transmission=t.transmission),void 0!==t.transmissionMap&&(i.transmissionMap=n(t.transmissionMap)),i},setTextures:function(t){return this.textures=t,this}});const Ca={decodeText:function(t){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(t);let e="";for(let i=0,r=t.length;i<r;i++)e+=String.fromCharCode(t[i]);try{return decodeURIComponent(escape(e))}catch(n){return e}},extractUrlBase:function(t){const e=t.lastIndexOf("/");return-1===e?"./":t.substr(0,e+1)}};function Ma(){Le.call(this),this.type="InstancedBufferGeometry",this.instanceCount=1/0}function Oa(t,e,n,i){"number"==typeof n&&(i=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),ue.call(this,t,e,n),this.meshPerAttribute=i||1}function Aa(t){Po.call(this,t)}function Ia(t){"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),Po.call(this,t),this.options={premultiplyAlpha:"none"}}function Ra(){this.type="ShapePath",this.color=new re,this.subPaths=[],this.currentPath=null}Ma.prototype=Object.assign(Object.create(Le.prototype),{constructor:Ma,isInstancedBufferGeometry:!0,copy:function(t){return Le.prototype.copy.call(this,t),this.instanceCount=t.instanceCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){const t=Le.prototype.toJSON.call(this);return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}}),Oa.prototype=Object.assign(Object.create(ue.prototype),{constructor:Oa,isInstancedBufferAttribute:!0,copy:function(t){return ue.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},toJSON:function(){const t=ue.prototype.toJSON.call(this);return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}),Aa.prototype=Object.assign(Object.create(Po.prototype),{constructor:Aa,load:function(t,e,n,i){const r=this,s=new No(r.manager);s.setPath(r.path),s.setRequestHeader(r.requestHeader),s.setWithCredentials(r.withCredentials),s.load(t,function(n){try{e(r.parse(JSON.parse(n)))}catch(s){i?i(s):console.error(s),r.manager.itemError(t)}},n,i)},parse:function(t){const e={},n={};function i(t,i){if(void 0!==e[i])return e[i];const r=t.interleavedBuffers[i],s=function(t,e){if(void 0!==n[e])return n[e];const i=new Uint32Array(t.arrayBuffers[e]).buffer;return n[e]=i,i}(t,r.buffer),o=new Tr(we(r.type,s),r.stride);return o.uuid=r.uuid,e[i]=o,o}const r=t.isInstancedBufferGeometry?new Ma:new Le,s=t.data.index;if(void 0!==s){const t=we(s.type,s.array);r.setIndex(new ue(t,1))}const o=t.data.attributes;for(const h in o){const e=o[h];let n;if(e.isInterleavedBufferAttribute)n=new wr(i(t.data,e.data),e.itemSize,e.offset,e.normalized);else{const t=we(e.type,e.array);n=new(e.isInstancedBufferAttribute?Oa:ue)(t,e.itemSize,e.normalized)}void 0!==e.name&&(n.name=e.name),r.setAttribute(h,n)}const a=t.data.morphAttributes;if(a)for(const h in a){const e=a[h],n=[];for(let r=0,s=e.length;r<s;r++){const s=e[r];let o;o=s.isInterleavedBufferAttribute?new wr(i(t.data,s.data),s.itemSize,s.offset,s.normalized):new ue(we(s.type,s.array),s.itemSize,s.normalized),void 0!==s.name&&(o.name=s.name),n.push(o)}r.morphAttributes[h]=n}t.data.morphTargetsRelative&&(r.morphTargetsRelative=!0);const l=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==l)for(let h=0,u=l.length;h!==u;++h){const t=l[h];r.addGroup(t.start,t.count,t.materialIndex)}const c=t.data.boundingSphere;if(void 0!==c){const t=new k;void 0!==c.center&&t.fromArray(c.center),r.boundingSphere=new nt(t,c.radius)}return t.name&&(r.name=t.name),t.userData&&(r.userData=t.userData),r}}),Ia.prototype=Object.assign(Object.create(Po.prototype),{constructor:Ia,isImageBitmapLoader:!0,setOptions:function(t){return this.options=t,this},load:function(t,e,n,i){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const r=this,s=Ro.get(t);if(void 0!==s)return r.manager.itemStart(t),setTimeout(function(){e&&e(s),r.manager.itemEnd(t)},0),s;const o={};o.credentials="anonymous"===this.crossOrigin?"same-origin":"include",fetch(t,o).then(function(t){return t.blob()}).then(function(t){return createImageBitmap(t,r.options)}).then(function(n){Ro.add(t,n),e&&e(n),r.manager.itemEnd(t)}).catch(function(e){i&&i(e),r.manager.itemError(t),r.manager.itemEnd(t)}),r.manager.itemStart(t)}}),Object.assign(Ra.prototype,{moveTo:function(t,e){return this.currentPath=new ca,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e),this},lineTo:function(t,e){return this.currentPath.lineTo(t,e),this},quadraticCurveTo:function(t,e,n,i){return this.currentPath.quadraticCurveTo(t,e,n,i),this},bezierCurveTo:function(t,e,n,i,r,s){return this.currentPath.bezierCurveTo(t,e,n,i,r,s),this},splineThru:function(t){return this.currentPath.splineThru(t),this},toShapes:function(t,e){function n(t){const e=[];for(let n=0,i=t.length;n<i;n++){const i=t[n],r=new ha;r.curves=i.curves,e.push(r)}return e}function i(t,e){const n=e.length;let i=!1;for(let r=n-1,s=0;s<n;r=s++){let n=e[r],o=e[s],a=o.x-n.x,l=o.y-n.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(n=e[s],a=-a,o=e[r],l=-l),t.y<n.y||t.y>o.y)continue;if(t.y===n.y){if(t.x===n.x)return!0}else{const e=l*(t.x-n.x)-a*(t.y-n.y);if(0===e)return!0;if(e<0)continue;i=!i}}else{if(t.y!==n.y)continue;if(o.x<=t.x&&t.x<=n.x||n.x<=t.x&&t.x<=o.x)return!0}}return i}const r=Js.isClockWise,s=this.subPaths;if(0===s.length)return[];if(!0===e)return n(s);let o,a,l;const c=[];if(1===s.length)return a=s[0],l=new ha,l.curves=a.curves,c.push(l),c;let h=!r(s[0].getPoints());h=t?!h:h;const u=[],d=[];let p,f,m=[],g=0;d[g]=void 0,m[g]=[];for(let y=0,_=s.length;y<_;y++)a=s[y],p=a.getPoints(),o=r(p),o=t?!o:o,o?(!h&&d[g]&&g++,d[g]={s:new ha,p},d[g].s.curves=a.curves,h&&g++,m[g]=[]):m[g].push({h:a,p:p[0]});if(!d[0])return n(s);if(d.length>1){let t=!1;const e=[];for(let n=0,i=d.length;n<i;n++)u[n]=[];for(let n=0,r=d.length;n<r;n++){const r=m[n];for(let s=0;s<r.length;s++){const o=r[s];let a=!0;for(let r=0;r<d.length;r++)i(o.p,d[r].p)&&(n!==r&&e.push({froms:n,tos:r,hole:s}),a?(a=!1,u[r].push(o)):t=!0);a&&u[n].push(o)}}e.length>0&&(t||(m=u))}for(let y=0,_=d.length;y<_;y++){l=d[y].s,c.push(l),f=m[y];for(let t=0,e=f.length;t<e;t++)l.holes.push(f[t].h)}return c}});class La{constructor(t){Object.defineProperty(this,"isFont",{value:!0}),this.type="Font",this.data=t}generateShapes(t,e=100){const n=[],i=function(t,e,n){const i=Array.from?Array.from(t):String(t).split(""),r=e/n.resolution,s=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*r,o=[];let a=0,l=0;for(let c=0;c<i.length;c++){const t=i[c];if("\n"===t)a=0,l-=s;else{const e=Pa(t,r,a,l,n);a+=e.offsetX,o.push(e.path)}}return o}(t,e,this.data);for(let r=0,s=i.length;r<s;r++)Array.prototype.push.apply(n,i[r].toShapes());return n}}function Pa(t,e,n,i,r){const s=r.glyphs[t]||r.glyphs["?"];if(!s)return void console.error('THREE.Font: character "'+t+'" does not exists in font family '+r.familyName+".");const o=new Ra;let a,l,c,h,u,d,p,f;if(s.o){const t=s._cachedOutline||(s._cachedOutline=s.o.split(" "));for(let r=0,s=t.length;r<s;)switch(t[r++]){case"m":a=t[r++]*e+n,l=t[r++]*e+i,o.moveTo(a,l);break;case"l":a=t[r++]*e+n,l=t[r++]*e+i,o.lineTo(a,l);break;case"q":c=t[r++]*e+n,h=t[r++]*e+i,u=t[r++]*e+n,d=t[r++]*e+i,o.quadraticCurveTo(u,d,c,h);break;case"b":c=t[r++]*e+n,h=t[r++]*e+i,u=t[r++]*e+n,d=t[r++]*e+i,p=t[r++]*e+n,f=t[r++]*e+i,o.bezierCurveTo(u,d,p,f,c,h)}}return{offsetX:s.ha*e,path:o}}function Da(t){Po.call(this,t)}let Na;function ja(t){Po.call(this,t)}function ka(t,e,n){wa.call(this,void 0,n);const i=(new re).set(t),r=(new re).set(e),s=new k(i.r,i.g,i.b),o=new k(r.r,r.g,r.b),a=Math.sqrt(Math.PI),l=a*Math.sqrt(.75);this.sh.coefficients[0].copy(s).add(o).multiplyScalar(a),this.sh.coefficients[1].copy(s).sub(o).multiplyScalar(l)}function Fa(t,e){wa.call(this,void 0,e);const n=(new re).set(t);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}Da.prototype=Object.assign(Object.create(Po.prototype),{constructor:Da,load:function(t,e,n,i){const r=this,s=new No(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(r.withCredentials),s.load(t,function(t){let n;try{n=JSON.parse(t)}catch(s){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(t.substring(65,t.length-2))}const i=r.parse(n);e&&e(i)},n,i)},parse:function(t){return new La(t)}}),ja.prototype=Object.assign(Object.create(Po.prototype),{constructor:ja,load:function(t,e,n,i){const r=this,s=new No(r.manager);s.setResponseType("arraybuffer"),s.setPath(r.path),s.setRequestHeader(r.requestHeader),s.setWithCredentials(r.withCredentials),s.load(t,function(n){try{const t=n.slice(0);(void 0===Na&&(Na=new(window.AudioContext||window.webkitAudioContext)),Na).decodeAudioData(t,function(t){e(t)})}catch(s){i?i(s):console.error(s),r.manager.itemError(t)}},n,i)}}),ka.prototype=Object.assign(Object.create(wa.prototype),{constructor:ka,isHemisphereLightProbe:!0,copy:function(t){return wa.prototype.copy.call(this,t),this},toJSON:function(t){return wa.prototype.toJSON.call(this,t)}}),Fa.prototype=Object.assign(Object.create(wa.prototype),{constructor:Fa,isAmbientLightProbe:!0,copy:function(t){return wa.prototype.copy.call(this,t),this},toJSON:function(t){return wa.prototype.toJSON.call(this,t)}});const Ua=new ut,Ga=new ut;function Va(t,e,n){let i,r,s;switch(this.binding=t,this.valueSize=n,e){case"quaternion":i=this._slerp,r=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":i=this._select,r=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(5*n);break;default:i=this._lerp,r=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=r,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}Object.assign((function(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new sn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new sn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}).prototype,{update:function(t){const e=this._cache;if(e.focus!==t.focus||e.fov!==t.fov||e.aspect!==t.aspect*this.aspect||e.near!==t.near||e.far!==t.far||e.zoom!==t.zoom||e.eyeSep!==this.eyeSep){e.focus=t.focus,e.fov=t.fov,e.aspect=t.aspect*this.aspect,e.near=t.near,e.far=t.far,e.zoom=t.zoom,e.eyeSep=this.eyeSep;const n=t.projectionMatrix.clone(),i=e.eyeSep/2,r=i*e.near/e.focus,s=e.near*Math.tan(C.DEG2RAD*e.fov*.5)/e.zoom;let o,a;Ga.elements[12]=-i,Ua.elements[12]=i,o=-s*e.aspect+r,a=s*e.aspect+r,n.elements[0]=2*e.near/(a-o),n.elements[8]=(a+o)/(a-o),this.cameraL.projectionMatrix.copy(n),o=-s*e.aspect-r,a=s*e.aspect-r,n.elements[0]=2*e.near/(a-o),n.elements[8]=(a+o)/(a-o),this.cameraR.projectionMatrix.copy(n)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(Ga),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(Ua)}}),Object.assign(Va.prototype,{accumulate:function(t,e){const n=this.buffer,i=this.valueSize,r=t*i+i;let s=this.cumulativeWeight;if(0===s){for(let t=0;t!==i;++t)n[r+t]=n[t];s=e}else s+=e,this._mixBufferRegion(n,r,0,e/s,i);this.cumulativeWeight=s},accumulateAdditive:function(t){const e=this.buffer,n=this.valueSize,i=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(e,i,0,t,n),this.cumulativeWeightAdditive+=t},apply:function(t){const e=this.valueSize,n=this.buffer,i=t*e+e,r=this.cumulativeWeight,s=this.cumulativeWeightAdditive,o=this.binding;this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1&&this._mixBufferRegion(n,i,e*this._origIndex,1-r,e),s>0&&this._mixBufferRegionAdditive(n,i,this._addIndex*e,1,e);for(let a=e,l=e+e;a!==l;++a)if(n[a]!==n[a+e]){o.setValue(n,i);break}},saveOriginalState:function(){const t=this.buffer,e=this.valueSize,n=e*this._origIndex;this.binding.getValue(t,n);for(let i=e,r=n;i!==r;++i)t[i]=t[n+i%e];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0},restoreOriginalState:function(){this.binding.setValue(this.buffer,3*this.valueSize)},_setAdditiveIdentityNumeric:function(){const t=this._addIndex*this.valueSize,e=t+this.valueSize;for(let n=t;n<e;n++)this.buffer[n]=0},_setAdditiveIdentityQuaternion:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1},_setAdditiveIdentityOther:function(){const t=this._origIndex*this.valueSize,e=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[e+n]=this.buffer[t+n]},_select:function(t,e,n,i,r){if(i>=.5)for(let s=0;s!==r;++s)t[e+s]=t[n+s]},_slerp:function(t,e,n,i){j.slerpFlat(t,e,t,e,t,n,i)},_slerpAdditive:function(t,e,n,i,r){const s=this._workIndex*r;j.multiplyQuaternionsFlat(t,s,t,e,t,n),j.slerpFlat(t,e,t,e,t,s,i)},_lerp:function(t,e,n,i,r){const s=1-i;for(let o=0;o!==r;++o){const r=e+o;t[r]=t[r]*s+t[n+o]*i}},_lerpAdditive:function(t,e,n,i,r){for(let s=0;s!==r;++s){const r=e+s;t[r]=t[r]+t[n+s]*i}}});const Ba=new RegExp("[\\[\\]\\.:\\/]","g"),za="[^"+"\\[\\]\\.:\\/".replace("\\.","")+"]",Ha=/((?:WC+[\/:])*)/.source.replace("WC","[^\\[\\]\\.:\\/]"),Xa=/(WCOD+)?/.source.replace("WCOD",za),qa=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC","[^\\[\\]\\.:\\/]"),Wa=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC","[^\\[\\]\\.:\\/]"),Ya=new RegExp("^"+Ha+Xa+qa+Wa+"$"),Ka=["material","materials","bones"];function Za(t,e,n){const i=n||Ja.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,i)}function Ja(t,e,n){this.path=e,this.parsedPath=n||Ja.parseTrackName(e),this.node=Ja.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}Object.assign(Za.prototype,{getValue:function(t,e){this.bind();const n=this._bindings[this._targetGroup.nCachedObjects_];void 0!==n&&n.getValue(t,e)},setValue:function(t,e){const n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(t,e)},bind:function(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()},unbind:function(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}}),Object.assign(Ja,{Composite:Za,create:function(t,e,n){return t&&t.isAnimationObjectGroup?new Ja.Composite(t,e,n):new Ja(t,e,n)},sanitizeNodeName:function(t){return t.replace(/\s/g,"_").replace(Ba,"")},parseTrackName:function(t){const e=Ya.exec(t);if(!e)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const n={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==i&&-1!==i){const t=n.nodeName.substring(i+1);-1!==Ka.indexOf(t)&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=t)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return n},findNode:function(t,e){if(!e||""===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){const n=t.skeleton.getBoneByName(e);if(void 0!==n)return n}if(t.children){const n=function(t){for(let i=0;i<t.length;i++){const r=t[i];if(r.name===e||r.uuid===e)return r;const s=n(r.children);if(s)return s}return null},i=n(t.children);if(i)return i}return null}}),Object.assign(Ja.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,e){t[e]=this.node[this.propertyName]},function(t,e){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)t[e++]=n[i]},function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]},function(t,e){this.resolvedProperty.toArray(t,e)}],SetterByBindingTypeAndVersioning:[[function(t,e){this.targetObject[this.propertyName]=t[e]},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=t[e++]},function(t,e){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=t[e++];this.targetObject.needsUpdate=!0},function(t,e){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty.fromArray(t,e)},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(t,e){this.bind(),this.getValue(t,e)},setValue:function(t,e){this.bind(),this.setValue(t,e)},bind:function(){let t=this.node;const e=this.parsedPath,n=e.objectName,i=e.propertyName;let r=e.propertyIndex;if(t||(t=Ja.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(n){let i=e.objectIndex;switch(n){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(let e=0;e<t.length;e++)if(t[e].name===i){i=e;break}break;default:if(void 0===t[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[n]}if(void 0!==i){if(void 0===t[i])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[i]}}const s=t[i];if(void 0===s)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+e.nodeName+"."+i+" but it wasn't found.",t);let o=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?o=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(o=this.Versioning.MatrixWorldNeedsUpdate);let a=this.BindingType.Direct;if(void 0!==r){if("morphTargetInfluences"===i){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[r]&&(r=t.morphTargetDictionary[r])}a=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=r}else void 0!==s.fromArray&&void 0!==s.toArray?(a=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(a=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[a],this.setValue=this.SetterByBindingTypeAndVersioning[a][o]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(Ja.prototype,{_getValue_unbound:Ja.prototype.getValue,_setValue_unbound:Ja.prototype.setValue}),Object.assign((function(){this.uuid=C.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const t={};this._indicesByUUID=t;for(let n=0,i=arguments.length;n!==i;++n)t[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const e=this;this.stats={objects:{get total(){return e._objects.length},get inUse(){return this.total-e.nCachedObjects_}},get bindingsPerObject(){return e._bindings.length}}}).prototype,{isAnimationObjectGroup:!0,add:function(){const t=this._objects,e=this._indicesByUUID,n=this._paths,i=this._parsedPaths,r=this._bindings,s=r.length;let o,a=t.length,l=this.nCachedObjects_;for(let c=0,h=arguments.length;c!==h;++c){const h=arguments[c],u=h.uuid;let d=e[u];if(void 0===d){d=a++,e[u]=d,t.push(h);for(let t=0,e=s;t!==e;++t)r[t].push(new Ja(h,n[t],i[t]))}else if(d<l){o=t[d];const a=--l,c=t[a];e[c.uuid]=d,t[d]=c,e[u]=a,t[a]=h;for(let t=0,e=s;t!==e;++t){const e=r[t];let s=e[d];e[d]=e[a],void 0===s&&(s=new Ja(h,n[t],i[t])),e[a]=s}}else t[d]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=l},remove:function(){const t=this._objects,e=this._indicesByUUID,n=this._bindings,i=n.length;let r=this.nCachedObjects_;for(let s=0,o=arguments.length;s!==o;++s){const o=arguments[s],a=o.uuid,l=e[a];if(void 0!==l&&l>=r){const s=r++,c=t[s];e[c.uuid]=l,t[l]=c,e[a]=s,t[s]=o;for(let t=0,e=i;t!==e;++t){const e=n[t],i=e[l];e[l]=e[s],e[s]=i}}}this.nCachedObjects_=r},uncache:function(){const t=this._objects,e=this._indicesByUUID,n=this._bindings,i=n.length;let r=this.nCachedObjects_,s=t.length;for(let o=0,a=arguments.length;o!==a;++o){const a=arguments[o].uuid,l=e[a];if(void 0!==l)if(delete e[a],l<r){const o=--r,a=t[o],c=--s,h=t[c];e[a.uuid]=l,t[l]=a,e[h.uuid]=o,t[o]=h,t.pop();for(let t=0,e=i;t!==e;++t){const e=n[t],i=e[c];e[l]=e[o],e[o]=i,e.pop()}}else{const r=--s,o=t[r];r>0&&(e[o.uuid]=l),t[l]=o,t.pop();for(let t=0,e=i;t!==e;++t){const e=n[t];e[l]=e[r],e.pop()}}}this.nCachedObjects_=r},subscribe_:function(t,e){const n=this._bindingsIndicesByPath;let i=n[t];const r=this._bindings;if(void 0!==i)return r[i];const s=this._paths,o=this._parsedPaths,a=this._objects,l=this.nCachedObjects_,c=new Array(a.length);i=r.length,n[t]=i,s.push(t),o.push(e),r.push(c);for(let h=l,u=a.length;h!==u;++h)c[h]=new Ja(a[h],t,e);return c},unsubscribe_:function(t){const e=this._bindingsIndicesByPath,n=e[t];if(void 0!==n){const i=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length-1,a=s[o];e[t[o]]=n,s[n]=a,s.pop(),r[n]=r[o],r.pop(),i[n]=i[o],i.pop()}}});class Qa{constructor(t,e,n=null,i=e.blendMode){this._mixer=t,this._clip=e,this._localRoot=n,this.blendMode=i;const r=e.tracks,s=r.length,o=new Array(s),a={endingStart:2400,endingEnd:2400};for(let l=0;l!==s;++l){const t=r[l].createInterpolant(null);o[l]=t,t.settings=a}this._interpolantSettings=a,this._interpolants=o,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(t){return this._startTime=t,this}setLoop(t,e){return this.loop=t,this.repetitions=e,this}setEffectiveWeight(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(t){return this._scheduleFading(t,0,1)}fadeOut(t){return this._scheduleFading(t,1,0)}crossFadeFrom(t,e,n){if(t.fadeOut(e),this.fadeIn(e),n){const n=this._clip.duration,i=t._clip.duration,r=n/i;t.warp(1,i/n,e),this.warp(r,1,e)}return this}crossFadeTo(t,e,n){return t.crossFadeFrom(this,e,n)}stopFading(){const t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}setEffectiveTimeScale(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(t){return this.timeScale=this._clip.duration/t,this.stopWarping()}syncWith(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}halt(t){return this.warp(this._effectiveTimeScale,0,t)}warp(t,e,n){const i=this._mixer,r=i.time,s=this.timeScale;let o=this._timeScaleInterpolant;null===o&&(o=i._lendControlInterpolant(),this._timeScaleInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=r,a[1]=r+n,l[0]=t/s,l[1]=e/s,this}stopWarping(){const t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(t,e,n,i){if(!this.enabled)return void this._updateWeight(t);const r=this._startTime;if(null!==r){const i=(t-r)*n;if(i<0||0===n)return;this._startTime=null,e=n*i}e*=this._updateTimeScale(t);const s=this._updateTime(e),o=this._updateWeight(t);if(o>0){const t=this._interpolants,e=this._propertyBindings;switch(this.blendMode){case 2501:for(let n=0,i=t.length;n!==i;++n)t[n].evaluate(s),e[n].accumulateAdditive(o);break;case 2500:default:for(let n=0,r=t.length;n!==r;++n)t[n].evaluate(s),e[n].accumulate(i,o)}}}_updateWeight(t){let e=0;if(this.enabled){e=this.weight;const n=this._weightInterpolant;if(null!==n){const i=n.evaluate(t)[0];e*=i,t>n.parameterPositions[1]&&(this.stopFading(),0===i&&(this.enabled=!1))}}return this._effectiveWeight=e,e}_updateTimeScale(t){let e=0;if(!this.paused){e=this.timeScale;const n=this._timeScaleInterpolant;null!==n&&(e*=n.evaluate(t)[0],t>n.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e))}return this._effectiveTimeScale=e,e}_updateTime(t){const e=this._clip.duration,n=this.loop;let i=this.time+t,r=this._loopCount;const s=2202===n;if(0===t)return-1===r?i:s&&1==(1&r)?e-i:i;if(2200===n){-1===r&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(i>=e)i=e;else{if(!(i<0)){this.time=i;break t}i=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(-1===r&&(t>=0?(r=0,this._setEndings(!0,0===this.repetitions,s)):this._setEndings(0===this.repetitions,!0,s)),i>=e||i<0){const n=Math.floor(i/e);i-=e*n,r+=Math.abs(n);const o=this.repetitions-r;if(o<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=t>0?e:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(1===o){const e=t<0;this._setEndings(e,!e,s)}else this._setEndings(!1,!1,s);this._loopCount=r,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:n})}}else this.time=i;if(s&&1==(1&r))return e-i}return i}_setEndings(t,e,n){const i=this._interpolantSettings;n?(i.endingStart=2401,i.endingEnd=2401):(i.endingStart=t?this.zeroSlopeAtStart?2401:2400:2402,i.endingEnd=e?this.zeroSlopeAtEnd?2401:2400:2402)}_scheduleFading(t,e,n){const i=this._mixer,r=i.time;let s=this._weightInterpolant;null===s&&(s=i._lendControlInterpolant(),this._weightInterpolant=s);const o=s.parameterPositions,a=s.sampleValues;return o[0]=r,a[0]=e,o[1]=r+t,a[1]=n,this}}function $a(t){this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}$a.prototype=Object.assign(Object.create(x.prototype),{constructor:$a,_bindAction:function(t,e){const n=t._localRoot||this._root,i=t._clip.tracks,r=i.length,s=t._propertyBindings,o=t._interpolants,a=n.uuid,l=this._bindingsByRootAndName;let c=l[a];void 0===c&&(c={},l[a]=c);for(let h=0;h!==r;++h){const t=i[h],r=t.name;let l=c[r];if(void 0!==l)s[h]=l;else{if(l=s[h],void 0!==l){null===l._cacheIndex&&(++l.referenceCount,this._addInactiveBinding(l,a,r));continue}l=new Va(Ja.create(n,r,e&&e._propertyBindings[h].binding.parsedPath),t.ValueTypeName,t.getValueSize()),++l.referenceCount,this._addInactiveBinding(l,a,r),s[h]=l}o[h].resultBuffer=l.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){const e=(t._localRoot||this._root).uuid,n=t._clip.uuid,i=this._actionsByClip[n];this._bindAction(t,i&&i.knownActions[0]),this._addInactiveAction(t,n,e)}const e=t._propertyBindings;for(let t=0,n=e.length;t!==n;++t){const n=e[t];0==n.useCount++&&(this._lendBinding(n),n.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){const e=t._propertyBindings;for(let t=0,n=e.length;t!==n;++t){const n=e[t];0==--n.useCount&&(n.restoreOriginalState(),this._takeBackBinding(n))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){const e=t._cacheIndex;return null!==e&&e<this._nActiveActions},_addInactiveAction:function(t,e,n){const i=this._actions,r=this._actionsByClip;let s=r[e];if(void 0===s)s={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,r[e]=s;else{const e=s.knownActions;t._byClipCacheIndex=e.length,e.push(t)}t._cacheIndex=i.length,i.push(t),s.actionByRoot[n]=t},_removeInactiveAction:function(t){const e=this._actions,n=e[e.length-1],i=t._cacheIndex;n._cacheIndex=i,e[i]=n,e.pop(),t._cacheIndex=null;const r=t._clip.uuid,s=this._actionsByClip,o=s[r],a=o.knownActions,l=a[a.length-1],c=t._byClipCacheIndex;l._byClipCacheIndex=c,a[c]=l,a.pop(),t._byClipCacheIndex=null,delete o.actionByRoot[(t._localRoot||this._root).uuid],0===a.length&&delete s[r],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){const e=t._propertyBindings;for(let n=0,i=e.length;n!==i;++n){const t=e[n];0==--t.referenceCount&&this._removeInactiveBinding(t)}},_lendAction:function(t){const e=this._actions,n=t._cacheIndex,i=this._nActiveActions++,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r},_takeBackAction:function(t){const e=this._actions,n=t._cacheIndex,i=--this._nActiveActions,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r},_addInactiveBinding:function(t,e,n){const i=this._bindingsByRootAndName,r=this._bindings;let s=i[e];void 0===s&&(s={},i[e]=s),s[n]=t,t._cacheIndex=r.length,r.push(t)},_removeInactiveBinding:function(t){const e=this._bindings,n=t.binding,i=n.rootNode.uuid,r=n.path,s=this._bindingsByRootAndName,o=s[i],a=e[e.length-1],l=t._cacheIndex;a._cacheIndex=l,e[l]=a,e.pop(),delete o[r],0===Object.keys(o).length&&delete s[i]},_lendBinding:function(t){const e=this._bindings,n=t._cacheIndex,i=this._nActiveBindings++,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r},_takeBackBinding:function(t){const e=this._bindings,n=t._cacheIndex,i=--this._nActiveBindings,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r},_lendControlInterpolant:function(){const t=this._controlInterpolants,e=this._nActiveControlInterpolants++;let n=t[e];return void 0===n&&(n=new bo(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=e,t[e]=n),n},_takeBackControlInterpolant:function(t){const e=this._controlInterpolants,n=t.__cacheIndex,i=--this._nActiveControlInterpolants,r=e[i];t.__cacheIndex=i,e[i]=t,r.__cacheIndex=n,e[n]=r},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(t,e,n){const i=e||this._root,r=i.uuid;let s="string"==typeof t?Ao.findByName(i,t):t;const o=null!==s?s.uuid:t,a=this._actionsByClip[o];let l=null;if(void 0===n&&(n=null!==s?s.blendMode:2500),void 0!==a){const t=a.actionByRoot[r];if(void 0!==t&&t.blendMode===n)return t;l=a.knownActions[0],null===s&&(s=l._clip)}if(null===s)return null;const c=new Qa(this,s,e,n);return this._bindAction(c,l),this._addInactiveAction(c,o,r),c},existingAction:function(t,e){const n=e||this._root,i=n.uuid,r="string"==typeof t?Ao.findByName(n,t):t,s=this._actionsByClip[r?r.uuid:t];return void 0!==s&&s.actionByRoot[i]||null},stopAllAction:function(){const t=this._actions;for(let e=this._nActiveActions-1;e>=0;--e)t[e].stop();return this},update:function(t){const e=this._actions,n=this._nActiveActions,i=this.time+=t*=this.timeScale,r=Math.sign(t),s=this._accuIndex^=1;for(let l=0;l!==n;++l)e[l]._update(i,t,r,s);const o=this._bindings,a=this._nActiveBindings;for(let l=0;l!==a;++l)o[l].apply(s);return this},setTime:function(t){this.time=0;for(let e=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(t)},getRoot:function(){return this._root},uncacheClip:function(t){const e=this._actions,n=t.uuid,i=this._actionsByClip,r=i[n];if(void 0!==r){const t=r.knownActions;for(let n=0,i=t.length;n!==i;++n){const i=t[n];this._deactivateAction(i);const r=i._cacheIndex,s=e[e.length-1];i._cacheIndex=null,i._byClipCacheIndex=null,s._cacheIndex=r,e[r]=s,e.pop(),this._removeInactiveBindingsForAction(i)}delete i[n]}},uncacheRoot:function(t){const e=t.uuid,n=this._actionsByClip;for(const r in n){const t=n[r].actionByRoot[e];void 0!==t&&(this._deactivateAction(t),this._removeInactiveAction(t))}const i=this._bindingsByRootAndName[e];if(void 0!==i)for(const r in i){const t=i[r];t.restoreOriginalState(),this._removeInactiveBinding(t)}},uncacheAction:function(t,e){const n=this.existingAction(t,e);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}});class tl{constructor(t){"string"==typeof t&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}clone(){return new tl(void 0===this.value.clone?this.value:this.value.clone())}}function el(t,e,n){Tr.call(this,t,e),this.meshPerAttribute=n||1}function nl(t,e,n,i,r){this.buffer=t,this.type=e,this.itemSize=n,this.elementSize=i,this.count=r,this.version=0}function il(t,e,n,i){this.ray=new ht(t,e),this.near=n||0,this.far=i||1/0,this.camera=null,this.layers=new Tt,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function rl(t,e){return t.distance-e.distance}function sl(t,e,n,i){if(t.layers.test(e.layers)&&t.raycast(e,n),!0===i){const i=t.children;for(let t=0,r=i.length;t<r;t++)sl(i[t],e,n,!0)}}el.prototype=Object.assign(Object.create(Tr.prototype),{constructor:el,isInstancedInterleavedBuffer:!0,copy:function(t){return Tr.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},clone:function(t){const e=Tr.prototype.clone.call(this,t);return e.meshPerAttribute=this.meshPerAttribute,e},toJSON:function(t){const e=Tr.prototype.toJSON.call(this,t);return e.isInstancedInterleavedBuffer=!0,e.meshPerAttribute=this.meshPerAttribute,e}}),Object.defineProperty(nl.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(nl.prototype,{isGLBufferAttribute:!0,setBuffer:function(t){return this.buffer=t,this},setType:function(t,e){return this.type=t,this.elementSize=e,this},setItemSize:function(t){return this.itemSize=t,this},setCount:function(t){return this.count=t,this}}),Object.assign(il.prototype,{set:function(t,e){this.ray.set(t,e)},setFromCamera:function(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e&&e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):console.error("THREE.Raycaster: Unsupported camera type: "+e.type)},intersectObject:function(t,e,n){const i=n||[];return sl(t,this,i,e),i.sort(rl),i},intersectObjects:function(t,e,n){const i=n||[];if(!1===Array.isArray(t))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),i;for(let r=0,s=t.length;r<s;r++)sl(t[r],this,i,e);return i.sort(rl),i}});class ol{constructor(t=1,e=0,n=0){return this.radius=t,this.phi=e,this.theta=n,this}set(t,e,n){return this.radius=t,this.phi=e,this.theta=n,this}clone(){return(new this.constructor).copy(this)}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,n){return this.radius=Math.sqrt(t*t+e*e+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,n),this.phi=Math.acos(C.clamp(e/this.radius,-1,1))),this}}const al=new M;function ll(t){jt.call(this),this.material=t,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}(ll.prototype=Object.create(jt.prototype)).constructor=ll,ll.prototype.isImmediateRenderObject=!0;const cl=new k,hl=new ut,ul=new ut;function dl(t){const e=[];t&&t.isBone&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,dl(t.children[n]));return e}const pl=new Float32Array(1),fl=(new Int32Array(pl.buffer),Math.pow(2,8),new le({side:1,depthWrite:!1,depthTest:!1}));function ml(t){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),Zo.call(this,t),this.type="catmullrom"}new Ze(new Qe,fl),Math.sqrt(5),Bo.create=function(t,e){return console.log("THREE.Curve.create() has been deprecated"),t.prototype=Object.create(Bo.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},Object.assign(ca.prototype,{fromPoints:function(t){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(t)}}),Object.create(Zo.prototype),Object.create(Zo.prototype),ml.prototype=Object.create(Zo.prototype),Object.assign(ml.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),class extends fs{constructor(t=10,e=10,n=4473924,i=8947848){n=new re(n),i=new re(i);const r=e/2,s=t/e,o=t/2,a=[],l=[];for(let h=0,u=0,d=-o;h<=e;h++,d+=s){a.push(-o,0,d,o,0,d),a.push(d,0,-o,d,0,o);const t=h===r?n:i;t.toArray(l,u),u+=3,t.toArray(l,u),u+=3,t.toArray(l,u),u+=3,t.toArray(l,u),u+=3}const c=new Le;c.setAttribute("position",new ve(a,3)),c.setAttribute("color",new ve(l,3)),super(c,new ss({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}}.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},class extends fs{constructor(t){const e=dl(t),n=new Le,i=[],r=[],s=new re(0,0,1),o=new re(0,1,0);for(let a=0;a<e.length;a++){const t=e[a];t.parent&&t.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),r.push(s.r,s.g,s.b),r.push(o.r,o.g,o.b))}n.setAttribute("position",new ve(i,3)),n.setAttribute("color",new ve(r,3)),super(n,new ss({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(t){const e=this.bones,n=this.geometry,i=n.getAttribute("position");ul.copy(this.root.matrixWorld).invert();for(let r=0,s=0;r<e.length;r++){const t=e[r];t.parent&&t.parent.isBone&&(hl.multiplyMatrices(ul,t.matrixWorld),cl.setFromMatrixPosition(hl),i.setXYZ(s,cl.x,cl.y,cl.z),hl.multiplyMatrices(ul,t.parent.matrixWorld),cl.setFromMatrixPosition(hl),i.setXYZ(s+1,cl.x,cl.y,cl.z),s+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(t)}}.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(Po.prototype,{extractUrlBase:function(t){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Ca.extractUrlBase(t)}}),Po.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Object.assign(class{constructor(t,e){Object.defineProperty(this,"isBox2",{value:!0}),this.min=void 0!==t?t:new M(1/0,1/0),this.max=void 0!==e?e:new M(-1/0,-1/0)}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromPoints(t){this.makeEmpty();for(let e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const n=al.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(t){return void 0===t&&(console.warn("THREE.Box2: .getCenter() target is now required"),t=new M),this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return void 0===t&&(console.warn("THREE.Box2: .getSize() target is now required"),t=new M),this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y}getParameter(t,e){return void 0===e&&(console.warn("THREE.Box2: .getParameter() target is now required"),e=new M),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)}clampPoint(t,e){return void 0===e&&(console.warn("THREE.Box2: .clampPoint() target is now required"),e=new M),e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return al.copy(t).clamp(this.min,this.max).sub(t).length()}intersect(t){return this.min.max(t.min),this.max.min(t.max),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}.prototype,{center:function(t){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},size:function(t){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign(G.prototype,{center:function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionSphere:function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},size:function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign(nt.prototype,{empty:function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()}}),dn.prototype.setFromMatrix=function(t){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(t)},Object.assign(C,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(t){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),C.floorPowerOfTwo(t)},nextPowerOfTwo:function(t){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),C.ceilPowerOfTwo(t)}}),Object.assign(O.prototype,{flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},multiplyVector3:function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute:function(t){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},getInverse:function(t){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(t).invert()}}),Object.assign(ut.prototype,{extractPosition:function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new k).setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector4:function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},crossVector:function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(t){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(t,e,n,i,r,s){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(t,e,i,n,r,s)},getInverse:function(t){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(t).invert()}}),Gt.prototype.isIntersectionLine=function(t){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(t)},Object.assign(j.prototype,{multiplyVector3:function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)},inverse:function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()}}),Object.assign(ht.prototype,{isIntersectionBox:function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionPlane:function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)},isIntersectionSphere:function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)}}),Object.assign(Jt.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(t,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(t,e)},midpoint:function(t){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(t)},normal:function(t){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(t)},plane:function(t){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(t)}}),Object.assign(Jt,{barycoordFromPoint:function(t,e,n,i,r){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Jt.getBarycoord(t,e,n,i,r)},normal:function(t,e,n,i){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Jt.getNormal(t,e,n,i)}}),Object.assign(ha.prototype,{extractAllPoints:function(t){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(t)},extrude:function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new to(this,t)},makeGeometry:function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new io(this,t)}}),Object.assign(M.prototype,{fromAttribute:function(t,e,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},distanceToManhattan:function(t){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(k.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)},applyProjection:function(t){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(t)},fromAttribute:function(t,e,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},distanceToManhattan:function(t){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(D.prototype,{fromAttribute:function(t,e,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(jt.prototype,{getChildByName:function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},applyMatrix:function(t){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)}}),Object.defineProperties(jt.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.assign(Ze.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}),Object.defineProperties(Ze.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),0},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Object.defineProperties(zr.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty($r.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),Kr.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(Bo.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(t){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=t}}),sn.prototype.setLens=function(t,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},Object.defineProperties(ua.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}}),Object.defineProperties(ue.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),35048===this.usage},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(35048)}}}),Object.assign(ue.prototype,{setDynamic:function(t){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===t?35048:35044),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(Le.prototype,{addIndex:function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)},addAttribute:function(t,e){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),e&&e.isBufferAttribute||e&&e.isInterleavedBufferAttribute?"index"===t?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(t,e):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(t,new ue(arguments[1],arguments[2])))},addDrawCall:function(t,e,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(t){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(t)},applyMatrix:function(t){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)}}),Object.defineProperties(Le.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(Ma.prototype,{maxInstancedCount:{get:function(){return console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount},set:function(t){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount=t}}}),Object.defineProperties(il.prototype,{linePrecision:{get:function(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set:function(t){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=t}}}),Object.defineProperties(Tr.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),35048===this.usage},set:function(t){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(t)}}}),Object.assign(Tr.prototype,{setDynamic:function(t){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===t?35048:35044),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(to.prototype,{getArrays:function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")}}),Object.assign(Sr.prototype,{dispose:function(){console.error("THREE.Scene: .dispose() has been removed.")}}),Object.defineProperties(tl.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(ae.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new re}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===t}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(t){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=t}}}),Object.defineProperties(lo.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(ao.prototype,{transparency:{get:function(){return console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission},set:function(t){console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission=t}}}),Object.defineProperties(nn.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}}),Object.assign(br.prototype,{clearTarget:function(t,e,n,i){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(t),this.clear(e,n,i)},animate:function(t){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(t)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}}),Object.defineProperties(br.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(t){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===t?S:3e3}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}}),Object.defineProperties(hr.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(N.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}}),Object.defineProperties(class extends jt{constructor(t){super(),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this}setMediaElementSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this}setMediaStreamSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(t),this.connect(),this}setBuffer(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this}play(t=0){if(!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");this._startedAt=this.context.currentTime+t;const e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.onended=this.onEnded.bind(this),e.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}stop(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(t){return t||(t=[]),!0===this._connected?(this.disconnect(),this.filters=t.slice(),this.connect()):this.filters=t.slice(),this}setDetune(t){if(this.detune=t,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(t){return this.setFilters(t?[t]:[])}setPlaybackRate(t){if(!1!==this.hasPlaybackControl)return this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(t){if(!1!==this.hasPlaybackControl)return this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}setLoopStart(t){return this.loopStart=t,this}setLoopEnd(t){return this.loopEnd=t,this}getVolume(){return this.gain.gain.value}setVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}}.prototype,{load:{value:function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const e=this;return(new ja).load(t,function(t){e.setBuffer(t)}),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}}),on.prototype.updateCubeMap=function(t,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(t,e)},on.prototype.clear=function(t,e,n,i){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(t,e,n,i)},I.crossOrigin=void 0,I.loadTexture=function(t,e,n,i){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const r=new Vo;r.setCrossOrigin(this.crossOrigin);const s=r.load(t,n,void 0,i);return e&&(s.mapping=e),s},I.loadTextureCube=function(t,e,n,i){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const r=new Uo;r.setCrossOrigin(this.crossOrigin);const s=r.load(t,n,void 0,i);return e&&(s.mapping=e),s},I.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},I.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"125"}})),"undefined"!=typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="125")},WpFC:function(t,e,n){"use strict";var i=n("jnTo"),r=n("9CgO"),s=n("e4iU"),o=n("orbG");e.a=class extends i.a{constructor(t){const e=t||{};super({element:document.createElement("div"),render:e.render,target:e.target});const n=void 0!==e.className?e.className:"ol-rotate",i=void 0!==e.label?e.label:"\u21e7",o=void 0!==e.compassClassName?e.compassClassName:"ol-compass";this.label_=null,"string"==typeof i?(this.label_=document.createElement("span"),this.label_.className=o,this.label_.textContent=i):(this.label_=i,this.label_.classList.add(o));const a=e.tipLabel?e.tipLabel:"Reset rotation",l=document.createElement("button");l.className=n+"-reset",l.setAttribute("type","button"),l.title=a,l.appendChild(this.label_),l.addEventListener(r.a.CLICK,this.handleClick_.bind(this),!1);const c=this.element;c.className=n+" "+s.e+" "+s.b,c.appendChild(l),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=void 0!==e.duration?e.duration:250,this.autoHide_=void 0===e.autoHide||e.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(s.c)}handleClick_(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const t=this.getMap().getView();if(!t)return;const e=t.getRotation();void 0!==e&&(this.duration_>0&&e%(2*Math.PI)!=0?t.animate({rotation:0,duration:this.duration_,easing:o.b}):t.setRotation(0))}render(t){const e=t.frameState;if(!e)return;const n=e.viewState.rotation;if(n!=this.rotation_){const t="rotate("+n+"rad)";if(this.autoHide_){const t=this.element.classList.contains(s.c);t||0!==n?t&&0!==n&&this.element.classList.remove(s.c):this.element.classList.add(s.c)}this.label_.style.transform=t}this.rotation_=n}}},X69f:function(t,e,n){"use strict";n.d(e,"a",function(){return El}),n.d(e,"b",function(){return Va}),n.d(e,"c",function(){return us}),n.d(e,"d",function(){return ds}),n.d(e,"e",function(){return hs}),n.d(e,"f",function(){return is}),n.d(e,"g",function(){return ma}),n.d(e,"h",function(){return Jo}),n.d(e,"i",function(){return Bo}),n.d(e,"j",function(){return Sa}),n.d(e,"k",function(){return ca}),n.d(e,"l",function(){return ss}),n.d(e,"m",function(){return Qa}),n.d(e,"n",function(){return rr}),n.d(e,"o",function(){return fs}),n.d(e,"p",function(){return ws}),n.d(e,"q",function(){return Ts}),n.d(e,"r",function(){return ts}),n.d(e,"s",function(){return os}),n.d(e,"t",function(){return Wa}),n.d(e,"u",function(){return $a}),n.d(e,"v",function(){return Ns}),n.d(e,"w",function(){return Ds}),n.d(e,"x",function(){return Rs}),n.d(e,"y",function(){return Is}),n.d(e,"z",function(){return Ko}),n.d(e,"A",function(){return gl}),n.d(e,"B",function(){return ol}),n.d(e,"C",function(){return ll}),n.d(e,"D",function(){return cl}),n.d(e,"E",function(){return hl}),n.d(e,"F",function(){return Ka}),n.d(e,"G",function(){return Ja}),n.d(e,"H",function(){return Do}),n.d(e,"I",function(){return Ea}),n.d(e,"J",function(){return Ca}),n.d(e,"K",function(){return Ia}),n.d(e,"L",function(){return Oa}),n.d(e,"M",function(){return Lo}),n.d(e,"N",function(){return ko});var i=n("8Y7J");class r{constructor(t,e){this.fn=t,this.subscriptions=e}unsubscribe(){const t=this.subscriptions.indexOf(this);-1!==t&&this.subscriptions.splice(t,1)}}function s(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(t){return e.apply(this,arguments)};case 2:return function(t,n){return e.apply(this,arguments)};case 3:return function(t,n,i){return e.apply(this,arguments)};case 4:return function(t,n,i,r){return e.apply(this,arguments)};case 5:return function(t,n,i,r,s){return e.apply(this,arguments)};case 6:return function(t,n,i,r,s,o){return e.apply(this,arguments)};case 7:return function(t,n,i,r,s,o,a){return e.apply(this,arguments)};case 8:return function(t,n,i,r,s,o,a,l){return e.apply(this,arguments)};case 9:return function(t,n,i,r,s,o,a,l,c){return e.apply(this,arguments)};case 10:return function(t,n,i,r,s,o,a,l,c,h){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function o(t){return null!=t&&"object"==typeof t&&!0===t["@@functional/placeholder"]}function a(t){return function e(n){return 0===arguments.length||o(n)?e:t.apply(this,arguments)}}function l(t){return function e(n,i){switch(arguments.length){case 0:return e;case 1:return o(n)?e:a(function(e){return t(n,e)});default:return o(n)&&o(i)?e:o(n)?a(function(e){return t(e,i)}):o(i)?a(function(e){return t(n,e)}):t(n,i)}}}function c(t,e,n){return function(){for(var i=[],r=0,a=t,l=0;l<e.length||r<arguments.length;){var h;l<e.length&&(!o(e[l])||r>=arguments.length)?h=e[l]:(h=arguments[r],r+=1),i[l]=h,o(h)||(a-=1),l+=1}return a<=0?n.apply(this,i):s(a,c(t,i,n))}}var h=l(function(t,e){return 1===t?a(e):s(t,c(t,[],e))}),u=a(function(t){return null==t}),d=Number.isInteger||function(t){return t<<0===t};function p(t){return"[object String]"===Object.prototype.toString.call(t)}var f=l(function(t,e){var n=t<0?e.length+t:t;return p(e)?e.charAt(n):e[n]}),m=l(function(t,e){return t.map(function(t){for(var n,i=e,r=0;r<t.length;){if(null==i)return;i=d(n=t[r])?f(n,i):i[n],r+=1}return i})}),g=l(function(t,e){return m([t],e)[0]});const y=h(2,(t,e)=>void 0!==g(t,e)),_=y({"@@functional/placeholder":!0},window);function b(t=window){return!u(t)}function v(t,e){return Object.prototype.hasOwnProperty.call(e,t)}var S=l(function(t,e){if(0===t.length||u(e))return!1;for(var n=e,i=0;i<t.length;){if(u(n)||!v(t[i],n))return!1;n=n[t[i]],i+=1}return!0}),T=l(function(t,e){return S([t],e)});const x=new class{constructor(){this.subscriptions=[]}subscribe(t){const e=new r(t,this.subscriptions);return this.subscriptions.push(e),e}emit(t){this.subscriptions.forEach(e=>e.fn(t))}toEventObservable(){return this}},w=new Proxy({unknown:{outline:'<circle class="cds-internal-dot-3" cx="31.1" cy="18" r="2.9"/><circle class="cds-internal-dot-2" cx="18" cy="18" r="2.9"/><circle class="cds-internal-dot-1" cx="4.9" cy="18" r="2.9"/>'}},{set:(t,e,n)=>(x.emit(e),t[e]=n,!0)});let E=(()=>{class t{static get registry(){return w}static addIcons(...t){!function(t,e){t.forEach(t=>{!function(t,e){const[n]=t;(function(t,e){return T(t,e)})(n,e)||function(t,e){const[n,i]=t;e[n]=i}(t,e)}(t,e)})}(t,w)}static addAliases(...t){t.forEach(t=>{var e,n;(n=w)[(e=t)[0]]&&e[1].forEach(t=>{!function(t,e,n){y([t],n)&&Object.defineProperty(n,e,{get:()=>n[t],enumerable:!0,configurable:!0})}(e[0],t,n)})})}static getIconNameFromShape(t){return t[0]}}return t.iconUpdates=x.toEventObservable(),t})();const C=["ellipsis-horizontal",{outline:'<circle cx="31.1" cy="18" r="2.9"/><circle cx="18" cy="18" r="2.9"/><circle cx="4.9" cy="18" r="2.9"/>',outlineBadged:'<circle cx="31.1" cy="18" r="2.9"/><circle cx="18" cy="18" r="2.9"/><circle cx="4.9" cy="18" r="2.9"/>'}],M=["exclamation-circle",{outline:'<path d="M18,6A12,12,0,1,0,30,18,12,12,0,0,0,18,6Zm0,22A10,10,0,1,1,28,18,10,10,0,0,1,18,28Z"/><path d="M18,20.07a1.3,1.3,0,0,1-1.3-1.3v-6a1.3,1.3,0,1,1,2.6,0v6A1.3,1.3,0,0,1,18,20.07Z"/><circle cx="17.95" cy="23.02" r="1.5"/>',solid:'<path d="M18,6A12,12,0,1,0,30,18,12,12,0,0,0,18,6Zm-1.49,6a1.49,1.49,0,0,1,3,0v6.89a1.49,1.49,0,1,1-3,0ZM18,25.5a1.72,1.72,0,1,1,1.72-1.72A1.72,1.72,0,0,1,18,25.5Z"/>'}],O=["check-circle",{outline:'<path d="M18,6A12,12,0,1,0,30,18,12,12,0,0,0,18,6Zm0,22A10,10,0,1,1,28,18,10,10,0,0,1,18,28Z"/><path d="M16.34,23.74l-5-5a1,1,0,0,1,1.41-1.41l3.59,3.59,6.78-6.78a1,1,0,0,1,1.41,1.41Z"/>',solid:'<path d="M30,18A12,12,0,1,1,18,6,12,12,0,0,1,30,18Zm-4.77-2.16a1.4,1.4,0,0,0-2-2l-6.77,6.77L13,17.16a1.4,1.4,0,0,0-2,2l5.45,5.45Z"/>'}],A=["angle",{outline:'<path d="M29.52,22.52,18,10.6,6.48,22.52a1.7,1.7,0,0,0,2.45,2.36L18,15.49l9.08,9.39a1.7,1.7,0,0,0,2.45-2.36Z"/>'}],I=["event",{outline:'<path d="M16.17,25.86,10.81,20.5a1,1,0,0,1,1.41-1.41L16.17,23l8.64-8.64a1,1,0,0,1,1.41,1.41Z"/><path d="M32.25,6H29V8h3V30H4V8H7V6H3.75A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V7.81A1.78,1.78,0,0,0,32.25,6Z"/><path d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"/><path d="M26,10a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V9A1,1,0,0,0,26,10Z"/><rect x="13" y="6" width="10" height="2"/>',outlineAlerted:'<path d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"/><path d="M10.81,20.5l5.36,5.36L26.22,15.81a1,1,0,0,0,.23-.41H23.8L16.17,23l-3.94-3.94a1,1,0,0,0-1.41,1.41Z"/><polygon points="21.29 6 13 6 13 8 20.14 8 21.29 6"/><path d="M33.68,15.4H32V30H4V8H7V6H3.75A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V15.38Z"/>',outlineBadged:'<path d="M10.81,20.5l5.36,5.36L26.22,15.81a1,1,0,0,0-1.41-1.41L16.17,23l-3.94-3.94a1,1,0,0,0-1.41,1.41Z"/><path d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"/><path d="M32,13.22V30H4V8H7V6H3.75A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V12.34A7.45,7.45,0,0,1,32,13.22Z"/><path d="M22.5,6H13V8h9.78A7.49,7.49,0,0,1,22.5,6Z"/>',solid:'<path d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"/><path d="M26,10a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V9A1,1,0,0,0,26,10Z"/><path d="M32.25,6h-4V9a2.2,2.2,0,0,1-4.4,0V6H12.2V9A2.2,2.2,0,0,1,7.8,9V6h-4A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V7.81A1.78,1.78,0,0,0,32.25,6ZM25.94,16.58l-9.67,9.67L11,20.94A1.36,1.36,0,0,1,12.9,19l3.38,3.38L24,14.66a1.36,1.36,0,1,1,1.93,1.93Z"/>',solidAlerted:'<path d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"/><path d="M33.68,15.4H26.3a1.34,1.34,0,0,1-.36,1.18l-9.67,9.67L11,20.94A1.36,1.36,0,0,1,12.9,19l3.38,3.38,7-7h-1A3.68,3.68,0,0,1,19,9.89L21.29,6H12.2V9A2.2,2.2,0,0,1,7.8,9V6h-4A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V15.38Z"/>',solidBadged:'<path d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"/><path d="M30,13.5A7.5,7.5,0,0,1,22.5,6H12.2V9A2.2,2.2,0,0,1,7.8,9V6h-4A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V12.34A7.45,7.45,0,0,1,30,13.5Zm-4.06,3.08-9.67,9.67L11,20.94A1.36,1.36,0,0,1,12.9,19l3.38,3.38L24,14.66a1.36,1.36,0,1,1,1.93,1.93Z"/>'}],R=["calendar",{outline:'<path d="M32.25,6H29V8h3V30H4V8H7V6H3.75A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V7.81A1.78,1.78,0,0,0,32.25,6Z"/><rect x="8" y="14" width="2" height="2"/><rect x="14" y="14" width="2" height="2"/><rect x="20" y="14" width="2" height="2"/><rect x="26" y="14" width="2" height="2"/><rect x="8" y="19" width="2" height="2"/><rect x="14" y="19" width="2" height="2"/><rect x="20" y="19" width="2" height="2"/><rect x="26" y="19" width="2" height="2"/><rect x="8" y="24" width="2" height="2"/><rect" x="14" y="24" width="2" height="2"/><rect x="20" y="24" width="2" height="2"/><rect x="26" y="24" width="2" height="2"/><path d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"/><path d="M26,10a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V9A1,1,0,0,0,26,10Z"/><rect x="13" y="6" width="10" height="2"/>',outlineAlerted:'<path d="M33.68,15.4H32V30H4V8H7V6H3.75A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V15.38Z"/><rect x="8" y="14" width="2" height="2"/><rect x="14" y="14" width="2" height="2"/><rect x="8" y="19" width="2" height="2"/><rect x="14" y="19" width="2" height="2"/><rect x="20" y="19" width="2" height="2"/><rect x="26" y="19" width="2" height="2"/><rect x="8" y="24" width="2" height="2"/><rect x="14" y="24" width="2" height="2"/><rect x="20" y="24" width="2" height="2"/><rect x="26" y="24" width="2" height="2"/><path d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"/><polygon points="21.29 6 13 6 13 8 20.14 8 21.29 6"/>',outlineBadged:'<path d="M32,13.22V30H4V8H7V6H3.75A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V12.34A7.45,7.45,0,0,1,32,13.22Z"/><rect x="8" y="14" width="2" height="2"/><rect x="14" y="14" width="2" height="2"/><rect x="20" y="14" width="2" height="2"/><rect x="26" y="14" width="2" height="2"/><rect x="8" y="19" width="2" height="2"/><rect x="14" y="19" width="2" height="2"/><rect x="20" y="19" width="2" height="2"/><rect x="26" y="19" width="2" height="2"/><rect x="8" y="24" width="2" height="2"/><rect x="14" y="24" width="2" height="2"/><rect x="20" y="24" width="2" height="2"/><rect x="26" y="24" width="2" height="2"/><path d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"/><path d="M22.5,6H13V8h9.78A7.49,7.49,0,0,1,22.5,6Z"/>',solid:'<path d="M32.25,6h-4V9a2.2,2.2,0,1,1-4.4,0V6H12.2V9A2.2,2.2,0,0,1,7.8,9V6h-4A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V7.81A1.78,1.78,0,0,0,32.25,6ZM10,26H8V24h2Zm0-5H8V19h2Zm0-5H8V14h2Zm6,10H14V24h2Zm0-5H14V19h2Zm0-5H14V14h2Zm6,10H20V24h2Zm0-5H20V19h2Zm0-5H20V14h2Zm6,10H26V24h2Zm0-5H26V19h2Zm0-5H26V14h2Z"/><path d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"/><path d="M26,10a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V9A1,1,0,0,0,26,10Z"/>',solidAlerted:'<path d="M33.68,15.4H22.23A3.68,3.68,0,0,1,19,9.89L21.29,6H12.2V9A2.2,2.2,0,0,1,7.8,9V6h-4A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V15.38ZM10,26H8V24h2Zm0-5H8V19h2Zm0-5H8V14h2Zm6,10H14V24h2Zm0-5H14V19h2Zm0-5H14V14h2Zm6,10H20V24h2Zm0-5H20V19h2Zm6,5H26V24h2Zm0-5H26V19h2Z"/><path d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"/>',solidBadged:'<path d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"/><path d="M30,13.5A7.5,7.5,0,0,1,22.5,6H12.2V9A2.2,2.2,0,0,1,7.8,9V6h-4A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V12.34A7.45,7.45,0,0,1,30,13.5ZM10,26H8V24h2Zm0-5H8V19h2Zm0-5H8V14h2Zm6,10H14V24h2Zm0-5H14V19h2Zm0-5H14V14h2Zm6,10H20V24h2Zm0-5H20V19h2Zm0-5H20V14h2Zm6,10H26V24h2Zm0-5H26V19h2Zm0-5H26V14h2Z"/>'}],L=["eye-hide",{outline:'<path d="M25.19,20.4A6.78,6.78,0,0,0,25.62,18a6.86,6.86,0,0,0-6.86-6.86,6.79,6.79,0,0,0-2.37.43L18,13.23a4.78,4.78,0,0,1,.74-.06A4.87,4.87,0,0,1,23.62,18a4.79,4.79,0,0,1-.06.74Z"/><path d="M34.29,17.53c-3.37-6.23-9.28-10-15.82-10a16.82,16.82,0,0,0-5.24.85L14.84,10a14.78,14.78,0,0,1,3.63-.47c5.63,0,10.75,3.14,13.8,8.43a17.75,17.75,0,0,1-4.37,5.1l1.42,1.42a19.93,19.93,0,0,0,5-6l.26-.48Z"/><path d="M4.87,5.78l4.46,4.46a19.52,19.52,0,0,0-6.69,7.29L2.38,18l.26.48c3.37,6.23,9.28,10,15.82,10a16.93,16.93,0,0,0,7.37-1.69l5,5,1.75-1.5-26-26Zm9.75,9.75,6.65,6.65a4.81,4.81,0,0,1-2.5.72A4.87,4.87,0,0,1,13.9,18,4.81,4.81,0,0,1,14.62,15.53Zm-1.45-1.45a6.85,6.85,0,0,0,9.55,9.55l1.6,1.6a14.91,14.91,0,0,1-5.86,1.2c-5.63,0-10.75-3.14-13.8-8.43a17.29,17.29,0,0,1,6.12-6.3Z"/>',solid:'<path d="M18.37,11.17A6.79,6.79,0,0,0,16,11.6l8.8,8.8A6.78,6.78,0,0,0,25.23,18,6.86,6.86,0,0,0,18.37,11.17Z"/><path d="M34.29,17.53c-3.37-6.23-9.28-10-15.82-10a16.82,16.82,0,0,0-5.24.85L14.84,10a14.78,14.78,0,0,1,3.63-.47c5.63,0,10.75,3.14,13.8,8.43a17.75,17.75,0,0,1-4.37,5.1l1.42,1.42a19.93,19.93,0,0,0,5-6l.26-.48Z"/><path d="M4.87,5.78l4.46,4.46a19.52,19.52,0,0,0-6.69,7.29L2.38,18l.26.48c3.37,6.23,9.28,10,15.82,10a16.93,16.93,0,0,0,7.37-1.69l5,5,1.75-1.5-26-26Zm8.3,8.3a6.85,6.85,0,0,0,9.55,9.55l1.6,1.6a14.91,14.91,0,0,1-5.86,1.2c-5.63,0-10.75-3.14-13.8-8.43a17.29,17.29,0,0,1,6.12-6.3Z"/>'}],P=["eye",{outline:'<path d="M33.62,17.53c-3.37-6.23-9.28-10-15.82-10S5.34,11.3,2,17.53L1.72,18l.26.48c3.37,6.23,9.28,10,15.82,10s12.46-3.72,15.82-10l.26-.48ZM17.8,26.43C12.17,26.43,7,23.29,4,18c3-5.29,8.17-8.43,13.8-8.43S28.54,12.72,31.59,18C28.54,23.29,23.42,26.43,17.8,26.43Z"/><path d="M18.09,11.17A6.86,6.86,0,1,0,25,18,6.86,6.86,0,0,0,18.09,11.17Zm0,11.72A4.86,4.86,0,1,1,23,18,4.87,4.87,0,0,1,18.09,22.89Z"/>',solid:'<path d="M33.62,17.53c-3.37-6.23-9.28-10-15.82-10S5.34,11.3,2,17.53L1.72,18l.26.48c3.37,6.23,9.28,10,15.82,10s12.46-3.72,15.82-10l.26-.48ZM17.8,26.43C12.17,26.43,7,23.29,4,18c3-5.29,8.17-8.43,13.8-8.43S28.54,12.72,31.59,18C28.54,23.29,23.42,26.43,17.8,26.43Z"/><circle cx="18.09" cy="18.03" r="6.86"/>'}],D=["window-close",{outline:'<path d="M19.41,18l7.29-7.29a1,1,0,0,0-1.41-1.41L18,16.59,10.71,9.29a1,1,0,0,0-1.41,1.41L16.59,18,9.29,25.29a1,1,0,1,0,1.41,1.41L18,19.41l7.29,7.29a1,1,0,0,0,1.41-1.41Z"/>'}],N=["ellipsis-vertical",{outline:'<circle cx="18" cy="4.9" r="2.9"/><circle cx="18" cy="18" r="2.9"/><circle cx="18" cy="31.1" r="2.9"/>',outlineBadged:'<circle cx="18" cy="4.9" r="2.9"/><circle cx="18" cy="18" r="2.9"/><circle cx="18" cy="31.1" r="2.9"/>'}],j=["view-columns",{outline:'<path d="M31,5H5A2,2,0,0,0,3,7V29a2,2,0,0,0,2,2H31a2,2,0,0,0,2-2V7A2,2,0,0,0,31,5ZM13,29H5V7h8Zm10,0H15V7h8Z"/>'}],k=["arrow",{outline:'<path d="M27.66,15.61,18,6,8.34,15.61A1,1,0,1,0,9.75,17L17,9.81V28.94a1,1,0,1,0,2,0V9.81L26.25,17a1,1,0,0,0,1.41-1.42Z"/>'}],F=["times",{outline:'<path d="M19.41,18l8.29-8.29a1,1,0,0,0-1.41-1.41L18,16.59,9.71,8.29A1,1,0,0,0,8.29,9.71L16.59,18,8.29,26.29a1,1,0,1,0,1.41,1.41L18,19.41l8.29,8.29a1,1,0,0,0,1.41-1.41Z"/>'}],U=["step-forward-2",{outline:'<path d="M7.08,6.52a1.68,1.68,0,0,0,0,2.4L16.51,18,7.12,27.08a1.7,1.7,0,0,0,2.36,2.44h0L21.4,18,9.48,6.47A1.69,1.69,0,0,0,7.08,6.52Z"/><path d="M26.49,5a1.7,1.7,0,0,0-1.7,1.7V29.3a1.7,1.7,0,0,0,3.4,0V6.7A1.7,1.7,0,0,0,26.49,5Z"/>'}],G=["angle-double",{outline:'<path d="M29,19.41a1,1,0,0,1-.71-.29L18,8.83,7.71,19.12a1,1,0,0,1-1.41-1.41L18,6,29.71,17.71A1,1,0,0,1,29,19.41Z"/><path d="M29,30.41a1,1,0,0,1-.71-.29L18,19.83,7.71,30.12a1,1,0,0,1-1.41-1.41L18,17,29.71,28.71A1,1,0,0,1,29,30.41Z"/>'}],V=["filter-grid-circle",{outline:'<path d="M15,25.86l2,1V20.27a1,1,0,0,0-.29-.7L10.23,13H25.79l-6.47,6.57a1,1,0,0,0-.29.7L19,28l2,1V20.68L27.58,14A1.46,1.46,0,0,0,28,13V12a1,1,0,0,0-1-1H9a1,1,0,0,0-1,1v1a1.46,1.46,0,0,0,.42,1L15,20.68Z"/><path d="M18,2A16,16,0,1,0,34,18,16,16,0,0,0,18,2Zm0,30A14,14,0,1,1,32,18,14,14,0,0,1,18,32Z"/>',solid:'<path d="M18,2A16,16,0,1,0,34,18,16,16,0,0,0,18,2Zm0,30A14,14,0,1,1,32,18,14,14,0,0,1,18,32Z"/><path d="M8,11v1.12a.5.5,0,0,0,.15.35l7.28,7.36a.5.5,0,0,1,.15.35v6.89a.5.5,0,0,0,.28.45l3.95,1.41a.5.5,0,0,0,.72-.45l0-8.39a.54.54,0,0,1,.18-.35l7.12-7.25a.5.5,0,0,0,.15-.35V11Z"/>'}],B=["filter-grid",{outline:'<path d="M15,25.86l2,1V20.27a1,1,0,0,0-.29-.7L10.23,13H25.79l-6.47,6.57a1,1,0,0,0-.29.7L19,28l2,1V20.68L27.58,14A1.46,1.46,0,0,0,28,13V12a1,1,0,0,0-1-1H9a1,1,0,0,0-1,1v1a1.46,1.46,0,0,0,.42,1L15,20.68Z"/>',solid:'<path d="M8,11v1.12a.5.5,0,0,0,.15.35l7.28,7.36a.5.5,0,0,1,.15.35v6.89a.5.5,0,0,0,.28.45l3.95,1.41a.5.5,0,0,0,.72-.45l0-8.39a.54.54,0,0,1,.18-.35l7.12-7.25a.5.5,0,0,0,.15-.35V11Z"/>'}],z=["info-circle",{outline:'<circle cx="17.93" cy="11.9" r="1.4"/><path d="M21,23H19V15H16a1,1,0,0,0,0,2h1v6H15a1,1,0,1,0,0,2h6a1,1,0,0,0,0-2Z"/><path d="M18,6A12,12,0,1,0,30,18,12,12,0,0,0,18,6Zm0,22A10,10,0,1,1,28,18,10,10,0,0,1,18,28Z"/>',solid:'<path d="M18,6A12,12,0,1,0,30,18,12,12,0,0,0,18,6Zm-2,5.15a2,2,0,1,1,2,2A2,2,0,0,1,15.9,11.15ZM23,24a1,1,0,0,1-1,1H15a1,1,0,1,1,0-2h2V17H16a1,1,0,0,1,0-2h4v8h2A1,1,0,0,1,23,24Z"/>'}],H=["exclamation-triangle",{outline:'<path d="M18,21.32a1.3,1.3,0,0,0,1.3-1.3V14a1.3,1.3,0,1,0-2.6,0v6A1.3,1.3,0,0,0,18,21.32Z"/><circle cx="17.95" cy="24.27" r="1.5"/><path d="M30.33,25.54,20.59,7.6a3,3,0,0,0-5.27,0L5.57,25.54A3,3,0,0,0,8.21,30H27.69a3,3,0,0,0,2.64-4.43Zm-1.78,1.94a1,1,0,0,1-.86.49H8.21a1,1,0,0,1-.88-1.48L17.07,8.55a1,1,0,0,1,1.76,0l9.74,17.94A1,1,0,0,1,28.55,27.48Z"/>',solid:'<path d="M30.33,25.54,20.59,7.6a3,3,0,0,0-5.27,0L5.57,25.54A3,3,0,0,0,8.21,30H27.69a3,3,0,0,0,2.64-4.43ZM16.46,12.74a1.49,1.49,0,0,1,3,0v6.89a1.49,1.49,0,1,1-3,0ZM18,26.25a1.72,1.72,0,1,1,1.72-1.72A1.72,1.72,0,0,1,18,26.25Z"/>'}],X=["error-standard",{outline:'<circle cx="18" cy="26.06" r="1.33"/><path d="M18,22.61a1,1,0,0,1-1-1v-12a1,1,0,1,1,2,0v12A1,1,0,0,1,18,22.61Z"/><path d="M18,34A16,16,0,1,1,34,18,16,16,0,0,1,18,34ZM18,4A14,14,0,1,0,32,18,14,14,0,0,0,18,4Z"/>',solid:'<path d="M18,2.1a16,16,0,1,0,16,16A16,16,0,0,0,18,2.1ZM16.6,8.8a1.4,1.4,0,0,1,2.8,0v12a1.4,1.4,0,0,1-2.8,0ZM18,28.6a1.8,1.8,0,1,1,1.8-1.8A1.8,1.8,0,0,1,18,28.6Z"/>'}],q=["circle",{outline:'<path d="M18,34A16,16,0,1,1,34,18,16,16,0,0,1,18,34ZM18,4A14,14,0,1,0,32,18,14,14,0,0,0,18,4Z"/>',solid:'<path d="M18,34A16,16,0,1,1,34,18,16,16,0,0,1,18,34Z"/>'}],W=["dot-circle",{outline:'<path d="M18,11a7,7,0,1,1-7,7,7,7,0,0,1,7-7"/><path d="M18,34A16,16,0,1,1,34,18,16,16,0,0,1,18,34ZM18,4A14,14,0,1,0,32,18,14,14,0,0,0,18,4Z"/>'}],Y=["success-standard",{outline:'<path d="M18,2A16,16,0,1,0,34,18,16,16,0,0,0,18,2Zm0,30A14,14,0,1,1,32,18,14,14,0,0,1,18,32Z"/><path d="M28,12.1a1,1,0,0,0-1.41,0L15.49,23.15l-6-6A1,1,0,0,0,8,18.53L15.49,26,28,13.52A1,1,0,0,0,28,12.1Z"/>',solid:'<path d="M18,2A16,16,0,1,0,34,18,16,16,0,0,0,18,2ZM28.45,12.63,15.31,25.76,7.55,18a1.4,1.4,0,0,1,2-2l5.78,5.78L26.47,10.65a1.4,1.4,0,1,1,2,2Z"/>'}];var K=n("SVse"),Z=n("XNiG"),J=n("xgIS"),Q=n("2Vo4"),$=n("LRne"),tt=n("jtHE"),et=n("7+OI"),nt=n("itXk"),it=n("HDdC"),rt=n("pLZG"),st=n("7o/Q"),ot=n("D0XW");function at(t,e=ot.a){return n=>n.lift(new lt(t,e))}class lt{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new ct(t,this.dueTime,this.scheduler))}}class ct extends st.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(ht,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function ht(t){t.debouncedNext()}n("SxV6"),n("eIep");var ut=n("IzEk"),dt=n("lJxs"),pt=(n("JX91"),n("vkgz"),n("/uUt"),n("GS7A")),ft=n("s7LF");let mt,gt,yt,_t;function bt(t=!0){if(!t||!mt){const t=document&&document.querySelector("[ng-version]");mt=t?`${t.getAttribute("ng-version")}`:void 0}return mt}function vt(t=!0){var e,n,i;return t&&mt||(gt=null===(i=null===(n=null===(e=window)||void 0===e?void 0:e.angular)||void 0===n?void 0:n.version)||void 0===i?void 0:i.full),gt}function St(t=!0){var e,n,i;return t&&yt||(yt=(null===(i=null===(n=null===(e=window)||void 0===e?void 0:e.CDS)||void 0===n?void 0:n._react)||void 0===i?void 0:i.version)?window.CDS._react.version:document.querySelector("[data-reactroot], [data-reactid]")?"unknown version":void 0),yt}function Tt(t=!0){if(!t||!_t){const t=document.querySelectorAll("*");let e;for(let n=0;n<t.length;n++)if(t[n].__vue__){e=t[n];break}_t=e?"unknown version":void 0}return _t}var xt=l(function(t,e){return null!=e&&e.constructor===t||e instanceof t}),wt=Object.prototype.toString,Et=function(){return"[object Arguments]"===wt.call(arguments)?function(t){return"[object Arguments]"===wt.call(t)}:function(t){return v("callee",t)}}(),Ct=Array.isArray||function(t){return null!=t&&t.length>=0&&"[object Array]"===Object.prototype.toString.call(t)},Mt=a(function(t){return null!=t&&"function"==typeof t["fantasy-land/empty"]?t["fantasy-land/empty"]():null!=t&&null!=t.constructor&&"function"==typeof t.constructor["fantasy-land/empty"]?t.constructor["fantasy-land/empty"]():null!=t&&"function"==typeof t.empty?t.empty():null!=t&&null!=t.constructor&&"function"==typeof t.constructor.empty?t.constructor.empty():Ct(t)?[]:p(t)?"":function(t){return"[object Object]"===Object.prototype.toString.call(t)}(t)?{}:Et(t)?function(){return arguments}():void 0});function Ot(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function At(t,e,n){for(var i=0,r=n.length;i<r;){if(t(e,n[i]))return!0;i+=1}return!1}var It="function"==typeof Object.is?Object.is:function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e},Rt=!{toString:null}.propertyIsEnumerable("toString"),Lt=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],Pt=function(){return arguments.propertyIsEnumerable("length")}(),Dt=function(t,e){for(var n=0;n<t.length;){if(t[n]===e)return!0;n+=1}return!1},Nt=a("function"!=typeof Object.keys||Pt?function(t){if(Object(t)!==t)return[];var e,n,i=[],r=Pt&&Et(t);for(e in t)!v(e,t)||r&&"length"===e||(i[i.length]=e);if(Rt)for(n=Lt.length-1;n>=0;)v(e=Lt[n],t)&&!Dt(i,e)&&(i[i.length]=e),n-=1;return i}:function(t){return Object(t)!==t?[]:Object.keys(t)}),jt=a(function(t){return null===t?"Null":void 0===t?"Undefined":Object.prototype.toString.call(t).slice(8,-1)});function kt(t,e,n,i){var r=Ot(t);function s(t,e){return Ft(t,e,n.slice(),i.slice())}return!At(function(t,e){return!At(s,e,t)},Ot(e),r)}function Ft(t,e,n,i){if(It(t,e))return!0;var r,s=jt(t);if(s!==jt(e))return!1;if(null==t||null==e)return!1;if("function"==typeof t["fantasy-land/equals"]||"function"==typeof e["fantasy-land/equals"])return"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e)&&"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t);if("function"==typeof t.equals||"function"==typeof e.equals)return"function"==typeof t.equals&&t.equals(e)&&"function"==typeof e.equals&&e.equals(t);switch(s){case"Arguments":case"Array":case"Object":if("function"==typeof t.constructor&&"Promise"===(null==(r=String(t.constructor).match(/^function (\w*)/))?"":r[1]))return t===e;break;case"Boolean":case"Number":case"String":if(typeof t!=typeof e||!It(t.valueOf(),e.valueOf()))return!1;break;case"Date":if(!It(t.valueOf(),e.valueOf()))return!1;break;case"Error":return t.name===e.name&&t.message===e.message;case"RegExp":if(t.source!==e.source||t.global!==e.global||t.ignoreCase!==e.ignoreCase||t.multiline!==e.multiline||t.sticky!==e.sticky||t.unicode!==e.unicode)return!1}for(var o=n.length-1;o>=0;){if(n[o]===t)return i[o]===e;o-=1}switch(s){case"Map":return t.size===e.size&&kt(t.entries(),e.entries(),n.concat([t]),i.concat([e]));case"Set":return t.size===e.size&&kt(t.values(),e.values(),n.concat([t]),i.concat([e]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var a=Nt(t);if(a.length!==Nt(e).length)return!1;var l=n.concat([t]),c=i.concat([e]);for(o=a.length-1;o>=0;){var h=a[o];if(!v(h,e)||!Ft(e[h],t[h],l,c))return!1;o-=1}return!0}var Ut=l(function(t,e){return Ft(t,e,[],[])}),Gt=a(function(t){return null!=t&&Ut(t,Mt(t))});function Vt(t){return u(t)||Gt(t)}function Bt(t,e){return t!==e}function zt(t){return t.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function Ht(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Xt=new class{constructor(){if(this.supports={js:!0,flexGap:qt()},!document.body.hasAttribute("cds-supports")||"no-js"===document.body.getAttribute("cds-supports")){const t=zt(Object.keys(this.supports).reduce((t,e)=>`${t} ${this.supports[e]?e:`no-${e}`}`,"")).trim();document.body.setAttribute("cds-supports",t)}}};function qt(){const t=document.createElement("div");t.style.display="flex",t.style.flexDirection="column",t.style.rowGap="1px",t.appendChild(document.createElement("div")),t.appendChild(document.createElement("div")),document.body.appendChild(t);const e=1===t.scrollHeight;return t.parentNode.removeChild(t),e}class Wt{static log(...t){Kt()&&Yt()&&console.log(...t)}static warn(...t){Kt()&&Yt()&&console.warn(...t)}static error(...t){Kt()&&Yt()&&console.error(...t)}}function Yt(){return!_(["jasmine"])}function Kt(){return!window.CDS.environment.production}function Zt(){return{versions:window.CDS._version,environment:window.CDS.environment,userAgent:navigator.userAgent,supports:window.CDS._supports,angularVersion:bt(!1),angularJSVersion:vt(!1),reactVersion:St(!1),vueVersion:Tt(!1),loadedElements:window.CDS._loadedElements}}function Jt(){console.log(JSON.stringify(Zt(),null,2))}const Qt=h(3,(t,e,n)=>{!function(t,e){return e||(e=window&&window.customElements),!e||!!e.get(t)}(t)||window.location.href.includes("localhost:6006")?(n.define(t,function(t){return Xt.supports.flexGap?t:class extends t{connectedCallback(){super.connectedCallback(),this.setAttribute("_nfg","")}}}(e)),b()&&(window.CDS=window.CDS||{_version:[],_loadedElements:[],_react:{version:void 0},_supports:Xt.supports,environment:{production:!1},getVersion:Zt,logVersion:Jt},window.CDS._version.indexOf("5.1.1")<0&&window.CDS._version.push("5.1.1"),document.querySelector("body").setAttribute("cds-version",window.CDS._version[0]),window.CDS._version.length>1&&Wt.warn("Running more than one version of Clarity can cause unexpected issues. Please ensure only one version is loaded.")),window.CDS._loadedElements.some(e=>e===t)||window.CDS._loadedElements.push(t)):Wt.warn(`${t} has already been registered`)});var $t=n("mrSG"),te=n("tFPJ"),ee=n("4yuk");function ne(t,e){const{element:{content:n},parts:i}=t,r=document.createTreeWalker(n,133,null,!1);let s=re(i),o=i[s],a=-1,l=0;const c=[];let h=null;for(;r.nextNode();){a++;const t=r.currentNode;for(t.previousSibling===h&&(h=null),e.has(t)&&(c.push(t),null===h&&(h=t)),null!==h&&l++;void 0!==o&&o.index===a;)o.index=null!==h?-1:o.index-l,s=re(i,s),o=i[s]}c.forEach(t=>t.parentNode.removeChild(t))}const ie=t=>{let e=11===t.nodeType?0:1;const n=document.createTreeWalker(t,133,null,!1);for(;n.nextNode();)e++;return e},re=(t,e=-1)=>{for(let n=e+1;n<t.length;n++){const e=t[n];if(Object(ee.d)(e))return n}return-1};var se=n("wmha"),oe=n("PqmH"),ae=n("6unr"),le=n("AaG5");const ce=(t,e)=>`${t}--${e}`;let he=!0;void 0===window.ShadyCSS?he=!1:void 0===window.ShadyCSS.prepareTemplateDom&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),he=!1);const ue=t=>e=>{const n=ce(e.type,t);let i=oe.a.get(n);void 0===i&&(i={stringsArray:new WeakMap,keyString:new Map},oe.a.set(n,i));let r=i.stringsArray.get(e.strings);if(void 0!==r)return r;const s=e.strings.join(ee.f);if(r=i.keyString.get(s),void 0===r){const n=e.getTemplateElement();he&&window.ShadyCSS.prepareTemplateDom(n,t),r=new ee.a(e,n),i.keyString.set(s,r)}return i.stringsArray.set(e.strings,r),r},de=["html","svg"],pe=new Set,fe=(t,e,n)=>{if(!n||"object"!=typeof n||!n.scopeName)throw new Error("The `scopeName` option is required.");const i=n.scopeName,r=se.a.has(e),s=he&&11===e.nodeType&&!!e.host,o=s&&!pe.has(i),a=o?document.createDocumentFragment():e;if(Object(se.b)(t,a,Object.assign({templateFactory:ue(i)},n)),o){const t=se.a.get(a);se.a.delete(a),((t,e,n)=>{pe.add(t);const i=n?n.element:document.createElement("template"),r=e.querySelectorAll("style"),{length:s}=r;if(0===s)return void window.ShadyCSS.prepareTemplateStyles(i,t);const o=document.createElement("style");for(let c=0;c<s;c++){const t=r[c];t.parentNode.removeChild(t),o.textContent+=t.textContent}(t=>{de.forEach(e=>{const n=oe.a.get(ce(e,t));void 0!==n&&n.keyString.forEach(t=>{const{element:{content:e}}=t,n=new Set;Array.from(e.querySelectorAll("style")).forEach(t=>{n.add(t)}),ne(t,n)})})})(t);const a=i.content;n?function(t,e,n=null){const{element:{content:i},parts:r}=t;if(null==n)return void i.appendChild(e);const s=document.createTreeWalker(i,133,null,!1);let o=re(r),a=0,l=-1;for(;s.nextNode();)for(l++,s.currentNode===n&&(a=ie(e),n.parentNode.insertBefore(e,n));-1!==o&&r[o].index===l;){if(a>0){for(;-1!==o;)r[o].index+=a,o=re(r,o);return}o=re(r,o)}}(n,o,a.firstChild):a.insertBefore(o,a.firstChild),window.ShadyCSS.prepareTemplateStyles(i,t);const l=a.querySelector("style");if(window.ShadyCSS.nativeShadow&&null!==l)e.insertBefore(l.cloneNode(!0),e.firstChild);else if(n){a.insertBefore(o,a.firstChild);const t=new Set;t.add(o),ne(n,t)}})(i,a,t.value instanceof ae.a?t.value.template:void 0),Object(te.b)(e,e.firstChild),e.appendChild(a),se.a.set(e,t)}!r&&s&&window.ShadyCSS.styleElement(e.host)};window.JSCompiler_renameProperty=(t,e)=>t;const me={toAttribute(t,e){switch(e){case Boolean:return t?"":null;case Object:case Array:return null==t?t:JSON.stringify(t)}return t},fromAttribute(t,e){switch(e){case Boolean:return null!==t;case Number:return null===t?null:Number(t);case Object:case Array:return JSON.parse(t)}return t}},ge=(t,e)=>e!==t&&(e==e||t==t),ye={attribute:!0,type:String,converter:me,reflect:!1,hasChanged:ge};class _e extends HTMLElement{constructor(){super(),this.initialize()}static get observedAttributes(){this.finalize();const t=[];return this._classProperties.forEach((e,n)=>{const i=this._attributeNameForProperty(n,e);void 0!==i&&(this._attributeToPropertyMap.set(i,n),t.push(i))}),t}static _ensureClassProperties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;const t=Object.getPrototypeOf(this)._classProperties;void 0!==t&&t.forEach((t,e)=>this._classProperties.set(e,t))}}static createProperty(t,e=ye){if(this._ensureClassProperties(),this._classProperties.set(t,e),e.noAccessor||this.prototype.hasOwnProperty(t))return;const n="symbol"==typeof t?Symbol():`__${t}`,i=this.getPropertyDescriptor(t,n,e);void 0!==i&&Object.defineProperty(this.prototype,t,i)}static getPropertyDescriptor(t,e,n){return{get(){return this[e]},set(i){const r=this[t];this[e]=i,this.requestUpdateInternal(t,r,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this._classProperties&&this._classProperties.get(t)||ye}static finalize(){const t=Object.getPrototypeOf(this);if(t.hasOwnProperty("finalized")||t.finalize(),this.finalized=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){const t=this.properties,e=[...Object.getOwnPropertyNames(t),..."function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t):[]];for(const n of e)this.createProperty(n,t[n])}}static _attributeNameForProperty(t,e){const n=e.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof t?t.toLowerCase():void 0}static _valueHasChanged(t,e,n=ge){return n(t,e)}static _propertyValueFromAttribute(t,e){const n=e.converter||me,i="function"==typeof n?n:n.fromAttribute;return i?i(t,e.type):t}static _propertyValueToAttribute(t,e){if(void 0===e.reflect)return;const n=e.converter;return(n&&n.toAttribute||me.toAttribute)(t,e.type)}initialize(){this._updateState=0,this._updatePromise=new Promise(t=>this._enableUpdatingResolver=t),this._changedProperties=new Map,this._saveInstanceProperties(),this.requestUpdateInternal()}_saveInstanceProperties(){this.constructor._classProperties.forEach((t,e)=>{if(this.hasOwnProperty(e)){const t=this[e];delete this[e],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(e,t)}})}_applyInstanceProperties(){this._instanceProperties.forEach((t,e)=>this[e]=t),this._instanceProperties=void 0}connectedCallback(){this.enableUpdating()}enableUpdating(){void 0!==this._enableUpdatingResolver&&(this._enableUpdatingResolver(),this._enableUpdatingResolver=void 0)}disconnectedCallback(){}attributeChangedCallback(t,e,n){e!==n&&this._attributeToProperty(t,n)}_propertyToAttribute(t,e,n=ye){const i=this.constructor,r=i._attributeNameForProperty(t,n);if(void 0!==r){const t=i._propertyValueToAttribute(e,n);if(void 0===t)return;this._updateState=8|this._updateState,null==t?this.removeAttribute(r):this.setAttribute(r,t),this._updateState=-9&this._updateState}}_attributeToProperty(t,e){if(8&this._updateState)return;const n=this.constructor,i=n._attributeToPropertyMap.get(t);if(void 0!==i){const t=n.getPropertyOptions(i);this._updateState=16|this._updateState,this[i]=n._propertyValueFromAttribute(e,t),this._updateState=-17&this._updateState}}requestUpdateInternal(t,e,n){let i=!0;if(void 0!==t){const r=this.constructor;n=n||r.getPropertyOptions(t),r._valueHasChanged(this[t],e,n.hasChanged)?(this._changedProperties.has(t)||this._changedProperties.set(t,e),!0!==n.reflect||16&this._updateState||(void 0===this._reflectingProperties&&(this._reflectingProperties=new Map),this._reflectingProperties.set(t,n))):i=!1}!this._hasRequestedUpdate&&i&&(this._updatePromise=this._enqueueUpdate())}requestUpdate(t,e){return this.requestUpdateInternal(t,e),this.updateComplete}async _enqueueUpdate(){this._updateState=4|this._updateState;try{await this._updatePromise}catch(e){}const t=this.performUpdate();return null!=t&&await t,!this._hasRequestedUpdate}get _hasRequestedUpdate(){return 4&this._updateState}get hasUpdated(){return 1&this._updateState}performUpdate(){if(!this._hasRequestedUpdate)return;this._instanceProperties&&this._applyInstanceProperties();let t=!1;const e=this._changedProperties;try{t=this.shouldUpdate(e),t?this.update(e):this._markUpdated()}catch(n){throw t=!1,this._markUpdated(),n}t&&(1&this._updateState||(this._updateState=1|this._updateState,this.firstUpdated(e)),this.updated(e))}_markUpdated(){this._changedProperties=new Map,this._updateState=-5&this._updateState}get updateComplete(){return this._getUpdateComplete()}_getUpdateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._updatePromise}shouldUpdate(t){return!0}update(t){void 0!==this._reflectingProperties&&this._reflectingProperties.size>0&&(this._reflectingProperties.forEach((t,e)=>this._propertyToAttribute(e,this[e],t)),this._reflectingProperties=void 0),this._markUpdated()}updated(t){}firstUpdated(t){}}_e.finalized=!0;const be=(t,e)=>"method"===e.kind&&e.descriptor&&!("value"in e.descriptor)?Object.assign(Object.assign({},e),{finisher(n){n.createProperty(e.key,t)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},initializer(){"function"==typeof e.initializer&&(this[e.key]=e.initializer.call(this))},finisher(n){n.createProperty(e.key,t)}};function ve(t){return(e,n)=>void 0!==n?((t,e,n)=>{e.constructor.createProperty(n,t)})(t,e,n):be(t,e)}Element;const Se=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Te=Symbol();class xe{constructor(t,e){if(e!==Te)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t}get styleSheet(){return void 0===this._styleSheet&&(Se?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}toString(){return this.cssText}}const we=(t,...e)=>{const n=e.reduce((e,n,i)=>e+(t=>{if(t instanceof xe)return t.cssText;if("number"==typeof t)return t;throw new Error(`Value passed to 'css' function must be a 'css' function result: ${t}. Use 'unsafeCSS' to pass non-literal values, but\n            take care to ensure page security.`)})(n)+t[i+1],t[0]);return new xe(n,Te)};(window.litElementVersions||(window.litElementVersions=[])).push("2.5.1");const Ee={};let Ce=(()=>{class t extends _e{static getStyles(){return this.styles}static _getUniqueStyles(){if(this.hasOwnProperty(JSCompiler_renameProperty("_styles",this)))return;const t=this.getStyles();if(Array.isArray(t)){const e=(t,n)=>t.reduceRight((t,n)=>Array.isArray(n)?e(n,t):(t.add(n),t),n),n=e(t,new Set),i=[];n.forEach(t=>i.unshift(t)),this._styles=i}else this._styles=void 0===t?[]:[t];this._styles=this._styles.map(t=>{if(t instanceof CSSStyleSheet&&!Se){const e=Array.prototype.slice.call(t.cssRules).reduce((t,e)=>t+e.cssText,"");return new xe(String(e),Te)}return t})}initialize(){super.initialize(),this.constructor._getUniqueStyles(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}createRenderRoot(){return this.attachShadow(this.constructor.shadowRootOptions)}adoptStyles(){const t=this.constructor._styles;0!==t.length&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow?Se?this.renderRoot.adoptedStyleSheets=t.map(t=>t instanceof CSSStyleSheet?t:t.styleSheet):this._needsShimAdoptedStyleSheets=!0:window.ShadyCSS.ScopingShim.prepareAdoptedCssText(t.map(t=>t.cssText),this.localName))}connectedCallback(){super.connectedCallback(),this.hasUpdated&&void 0!==window.ShadyCSS&&window.ShadyCSS.styleElement(this)}update(t){const e=this.render();super.update(t),e!==Ee&&this.constructor.render(e,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach(t=>{const e=document.createElement("style");e.textContent=t.cssText,this.renderRoot.appendChild(e)}))}render(){return Ee}}return t.finalized=!0,t.render=fe,t.shadowRootOptions={mode:"open"},t})();const Me=we`:root,:host{--cxxs: var(--cds-global-layout-space-xxs, .125rem);--cxs: var(--cds-global-layout-space-xs, .25rem);--csm: var(--cds-global-layout-space-sm, .375rem);--cmd: var(--cds-global-layout-space-md, .75rem);--clg: var(--cds-global-layout-space-lg, 1.5rem);--cxl: var(--cds-global-layout-space-xl, 3rem);--cxxl: var(--cds-global-layout-space-xxl, 6rem)}[cds-layout~='wrap:none']{flex-wrap:nowrap !important}[cds-layout*='align:stretch']{flex-grow:1 !important}[cds-layout*='align:shrink']{flex-shrink:1 !important;flex-grow:0 !important}[cds-layout~='horizontal']{display:flex;flex-direction:row;flex-wrap:wrap;justify-items:flex-start;align-items:flex-start;width:100%;margin:0;min-height:0}[cds-layout~='horizontal']>[cds-layout~='horizontal'],[cds-layout~='horizontal']>[cds-layout~='vertical'],[cds-layout~='horizontal']>[cds-text]{width:initial !important}[cds-layout~='horizontal'][cds-layout*='align:top']{align-items:flex-start}[cds-layout~='horizontal'][cds-layout*='align:right']{justify-content:flex-end}[cds-layout~='horizontal'][cds-layout*='align:vertical-center']{align-items:center;align-content:center}[cds-layout~='horizontal'][cds-layout*='align:horizontal-center']{justify-content:center}[cds-layout~='horizontal'][cds-layout*='align:center']{align-items:center;align-content:center;justify-content:center}[cds-layout~='horizontal'][cds-layout*='order:reverse']{flex-direction:row-reverse}[cds-layout~='horizontal'][cds-layout*='align:horizontal-stretch']{justify-content:stretch;flex-grow:1}[cds-layout~='horizontal'][cds-layout*='align:horizontal-stretch']>*{flex-grow:1}[cds-layout~='horizontal'][cds-layout*='align:stretch']{align-items:stretch;align-content:stretch;flex-grow:1}[cds-layout~='horizontal'][cds-layout*='align:stretch']>*{flex-grow:1}[cds-layout~='horizontal']>[cds-layout*='align:center'],[cds-layout~='horizontal']>[cds-layout*='align:vertical-center']{align-self:center}[cds-layout~='horizontal']>[cds-layout*='align:center'],[cds-layout~='horizontal']>[cds-layout*='align:horizontal-center']{margin-left:auto !important;margin-right:auto !important}[cds-layout~='horizontal']>[cds-layout*='align:top']{align-self:flex-start}[cds-layout~='horizontal']>[cds-layout*='align:right']{margin-left:auto !important}[cds-layout~='vertical']{width:100%;display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start}[cds-layout~='vertical'][cds-layout*='align:top']{justify-content:flex-start}[cds-layout~='vertical'][cds-layout*='align:right']{align-items:flex-end}[cds-layout~='vertical'][cds-layout*='align:vertical-center']{justify-content:center}[cds-layout~='vertical'][cds-layout*='align:horizontal-center']{align-items:center}[cds-layout~='vertical'][cds-layout*='align:center']{align-items:center;justify-content:center}[cds-layout~='vertical'][cds-layout*='order:reverse']{flex-direction:column-reverse}[cds-layout~='vertical'][cds-layout*='align:horizontal-stretch']{align-items:stretch}[cds-layout~='vertical'][cds-layout*='align:stretch']{align-items:stretch;justify-content:stretch}[cds-layout~='vertical'][cds-layout*='align:stretch']>*{flex-grow:1}[cds-layout~='vertical']>[cds-layout*='align:center'],[cds-layout~='vertical']>[cds-layout*='align:vertical-center']{margin-top:auto;margin-bottom:auto}[cds-layout~='vertical']>[cds-layout*='align:center'],[cds-layout~='vertical']>[cds-layout*='align:horizontal-center']{align-self:center}[cds-layout~='vertical']>[cds-layout*='align:top']{margin-bottom:auto !important}[cds-layout~='vertical']>[cds-layout*='align:right']{margin-left:auto}[cds-layout~='display:screen-reader-only']{position:absolute !important;clip:rect(1px, 1px, 1px, 1px);clip-path:inset(50%);padding:0;border:0;height:1px;width:1px;overflow:hidden;white-space:nowrap;top:0;left:0;display:block !important}[cds-layout*='gap:none']{gap:0}[cds-layout*='gap:xs']{gap:var(--cxs)}[cds-layout*='gap:sm']{gap:var(--csm)}[cds-layout*='gap:md']{gap:var(--cmd)}[cds-layout*='gap:lg']{gap:var(--clg)}[cds-layout~='p:none']{padding:0 !important}[cds-layout~='p:xs']{padding:var(--cxs) !important}[cds-layout~='p:sm']{padding:var(--csm) !important}[cds-layout~='p:md']{padding:var(--cmd) !important}[cds-layout~='m:md']{margin:var(--cmd) !important}[cds-layout~='p:lg']{padding:var(--clg) !important}[cds-layout~='p-y:xs']{padding-top:var(--cxs) !important;padding-bottom:var(--cxs) !important}[cds-layout~='p-x:lg']{padding-left:var(--clg) !important;padding-right:var(--clg) !important}[cds-layout~='p-l:md']{padding-left:var(--cmd) !important}[cds-layout~='p-t:lg']{padding-top:var(--clg) !important}[cds-layout~='p-b:lg']{padding-bottom:var(--clg) !important}@media (min-width: 62rem){[cds-layout*='gap@md:lg']{gap:var(--clg)}[cds-layout~='p@md:lg']{padding:var(--clg) !important}[cds-layout~='m@md:xl']{margin:var(--cxl) !important}}[cds-layout~='fill']{width:100% !important}*,*:before,*:after,:host{box-sizing:border-box}[cds-layout~='vertical'][cds-layout*='align:stretch']>::slotted(*){flex-grow:1}[cds-layout~='vertical'] ::slotted([cds-layout*='align:center']),[cds-layout~='vertical'] ::slotted([cds-layout*='align:vertical-center']){margin-top:auto;margin-bottom:auto}[cds-layout~='vertical'] ::slotted([cds-layout*='align:center']),[cds-layout~='vertical'] ::slotted([cds-layout*='align:horizontal-center']){align-self:center}[cds-layout~='vertical'] ::slotted([cds-layout*='align:top']){margin-bottom:auto !important}[cds-layout~='vertical'] ::slotted([cds-layout*='align:bottom']){margin-top:auto !important}[cds-layout~='vertical'] ::slotted([cds-layout*='align:right']){margin-left:auto}[cds-layout~='vertical'] ::slotted([cds-layout*='align:left']){margin-right:auto}@media (min-width: 36rem){[cds-layout~='vertical'] ::slotted([cds-layout*='align@xs:center']),[cds-layout~='vertical'] ::slotted([cds-layout*='align@xs:vertical-center']){margin-top:auto;margin-bottom:auto}[cds-layout~='vertical'] ::slotted([cds-layout*='align@xs:center']),[cds-layout~='vertical'] ::slotted([cds-layout*='align@xs:horizontal-center']){align-self:center}[cds-layout~='vertical'] ::slotted([cds-layout*='align@xs:top']){margin-bottom:auto !important}[cds-layout~='vertical'] ::slotted([cds-layout*='align@xs:bottom']){margin-top:auto !important}[cds-layout~='vertical'] ::slotted([cds-layout*='align@xs:right']){margin-left:auto}[cds-layout~='vertical'] ::slotted([cds-layout*='align@xs:left']){margin-right:auto}}@media (min-width: 48rem){[cds-layout~='vertical'] ::slotted([cds-layout*='align@sm:center']),[cds-layout~='vertical'] ::slotted([cds-layout*='align@sm:vertical-center']){margin-top:auto;margin-bottom:auto}[cds-layout~='vertical'] ::slotted([cds-layout*='align@sm:center']),[cds-layout~='vertical'] ::slotted([cds-layout*='align@sm:horizontal-center']){align-self:center}[cds-layout~='vertical'] ::slotted([cds-layout*='align@sm:top']){margin-bottom:auto !important}[cds-layout~='vertical'] ::slotted([cds-layout*='align@sm:bottom']){margin-top:auto !important}[cds-layout~='vertical'] ::slotted([cds-layout*='align@sm:right']){margin-left:auto}[cds-layout~='vertical'] ::slotted([cds-layout*='align@sm:left']){margin-right:auto}}@media (min-width: 62rem){[cds-layout~='vertical'] ::slotted([cds-layout*='align@md:center']),[cds-layout~='vertical'] ::slotted([cds-layout*='align@md:vertical-center']){margin-top:auto;margin-bottom:auto}[cds-layout~='vertical'] ::slotted([cds-layout*='align@md:center']),[cds-layout~='vertical'] ::slotted([cds-layout*='align@md:horizontal-center']){align-self:center}[cds-layout~='vertical'] ::slotted([cds-layout*='align@md:top']){margin-bottom:auto !important}[cds-layout~='vertical'] ::slotted([cds-layout*='align@md:bottom']){margin-top:auto !important}[cds-layout~='vertical'] ::slotted([cds-layout*='align@md:right']){margin-left:auto}[cds-layout~='vertical'] ::slotted([cds-layout*='align@md:left']){margin-right:auto}}@media (min-width: 75rem){[cds-layout~='vertical'] ::slotted([cds-layout*='align@lg:center']),[cds-layout~='vertical'] ::slotted([cds-layout*='align@lg:vertical-center']){margin-top:auto;margin-bottom:auto}[cds-layout~='vertical'] ::slotted([cds-layout*='align@lg:center']),[cds-layout~='vertical'] ::slotted([cds-layout*='align@lg:horizontal-center']){align-self:center}[cds-layout~='vertical'] ::slotted([cds-layout*='align@lg:top']){margin-bottom:auto !important}[cds-layout~='vertical'] ::slotted([cds-layout*='align@lg:bottom']){margin-top:auto !important}[cds-layout~='vertical'] ::slotted([cds-layout*='align@lg:right']){margin-left:auto}[cds-layout~='vertical'] ::slotted([cds-layout*='align@lg:left']){margin-right:auto}}@media (min-width: 90rem){[cds-layout~='vertical'] ::slotted([cds-layout*='align@xl:center']),[cds-layout~='vertical'] ::slotted([cds-layout*='align@xl:vertical-center']){margin-top:auto;margin-bottom:auto}[cds-layout~='vertical'] ::slotted([cds-layout*='align@xl:center']),[cds-layout~='vertical'] ::slotted([cds-layout*='align@xl:horizontal-center']){align-self:center}[cds-layout~='vertical'] ::slotted([cds-layout*='align@xl:top']){margin-bottom:auto !important}[cds-layout~='vertical'] ::slotted([cds-layout*='align@xl:bottom']){margin-top:auto !important}[cds-layout~='vertical'] ::slotted([cds-layout*='align@xl:right']){margin-left:auto}[cds-layout~='vertical'] ::slotted([cds-layout*='align@xl:left']){margin-right:auto}}[cds-layout~='horizontal'][cds-layout*='align:horizontal-stretch']>::slotted(*){flex-grow:1}[cds-layout~='horizontal'][cds-layout*='align:stretch']>::slotted(*){flex-grow:1}[cds-layout~='horizontal'] ::slotted([cds-layout*='align:center']),[cds-layout~='horizontal'] ::slotted([cds-layout*='align:vertical-center']){align-self:center}[cds-layout~='horizontal'] ::slotted([cds-layout*='align:center']),[cds-layout~='horizontal'] ::slotted([cds-layout*='align:horizontal-center']){margin-left:auto !important;margin-right:auto !important}[cds-layout~='horizontal'] ::slotted([cds-layout*='align:top']){align-self:flex-start}[cds-layout~='horizontal'] ::slotted([cds-layout*='align:bottom']){align-self:flex-end}[cds-layout~='horizontal'] ::slotted([cds-layout*='align:right']){margin-left:auto !important}[cds-layout~='horizontal'] ::slotted([cds-layout*='align:left']){margin-right:auto !important}@media (min-width: 36rem){[cds-layout~='horizontal'] ::slotted([cds-layout*='align@xs:center']),[cds-layout~='horizontal'] ::slotted([cds-layout*='align@xs:vertical-center']){align-self:center}[cds-layout~='horizontal'] ::slotted([cds-layout*='align@xs:center']),[cds-layout~='horizontal'] ::slotted([cds-layout*='align@xs:horizontal-center']){margin-left:auto !important;margin-right:auto !important}[cds-layout~='horizontal'] ::slotted([cds-layout*='align@xs:top']){align-self:flex-start}[cds-layout~='horizontal'] ::slotted([cds-layout*='align@xs:bottom']){align-self:flex-end}[cds-layout~='horizontal'] ::slotted([cds-layout*='align@xs:right']){margin-left:auto !important}[cds-layout~='horizontal'] ::slotted([cds-layout*='align@xs:left']){margin-right:auto !important}}@media (min-width: 48rem){[cds-layout~='horizontal'] ::slotted([cds-layout*='align@sm:center']),[cds-layout~='horizontal'] ::slotted([cds-layout*='align@sm:vertical-center']){align-self:center}[cds-layout~='horizontal'] ::slotted([cds-layout*='align@sm:center']),[cds-layout~='horizontal'] ::slotted([cds-layout*='align@sm:horizontal-center']){margin-left:auto !important;margin-right:auto !important}[cds-layout~='horizontal'] ::slotted([cds-layout*='align@sm:top']){align-self:flex-start}[cds-layout~='horizontal'] ::slotted([cds-layout*='align@sm:bottom']){align-self:flex-end}[cds-layout~='horizontal'] ::slotted([cds-layout*='align@sm:right']){margin-left:auto !important}[cds-layout~='horizontal'] ::slotted([cds-layout*='align@sm:left']){margin-right:auto !important}}@media (min-width: 62rem){[cds-layout~='horizontal'] ::slotted([cds-layout*='align@md:center']),[cds-layout~='horizontal'] ::slotted([cds-layout*='align@md:vertical-center']){align-self:center}[cds-layout~='horizontal'] ::slotted([cds-layout*='align@md:center']),[cds-layout~='horizontal'] ::slotted([cds-layout*='align@md:horizontal-center']){margin-left:auto !important;margin-right:auto !important}[cds-layout~='horizontal'] ::slotted([cds-layout*='align@md:top']){align-self:flex-start}[cds-layout~='horizontal'] ::slotted([cds-layout*='align@md:bottom']){align-self:flex-end}[cds-layout~='horizontal'] ::slotted([cds-layout*='align@md:right']){margin-left:auto !important}[cds-layout~='horizontal'] ::slotted([cds-layout*='align@md:left']){margin-right:auto !important}}@media (min-width: 75rem){[cds-layout~='horizontal'] ::slotted([cds-layout*='align@lg:center']),[cds-layout~='horizontal'] ::slotted([cds-layout*='align@lg:vertical-center']){align-self:center}[cds-layout~='horizontal'] ::slotted([cds-layout*='align@lg:center']),[cds-layout~='horizontal'] ::slotted([cds-layout*='align@lg:horizontal-center']){margin-left:auto !important;margin-right:auto !important}[cds-layout~='horizontal'] ::slotted([cds-layout*='align@lg:top']){align-self:flex-start}[cds-layout~='horizontal'] ::slotted([cds-layout*='align@lg:bottom']){align-self:flex-end}[cds-layout~='horizontal'] ::slotted([cds-layout*='align@lg:right']){margin-left:auto !important}[cds-layout~='horizontal'] ::slotted([cds-layout*='align@lg:left']){margin-right:auto !important}}@media (min-width: 90rem){[cds-layout~='horizontal'] ::slotted([cds-layout*='align@xl:center']),[cds-layout~='horizontal'] ::slotted([cds-layout*='align@xl:vertical-center']){align-self:center}[cds-layout~='horizontal'] ::slotted([cds-layout*='align@xl:center']),[cds-layout~='horizontal'] ::slotted([cds-layout*='align@xl:horizontal-center']){margin-left:auto !important;margin-right:auto !important}[cds-layout~='horizontal'] ::slotted([cds-layout*='align@xl:top']){align-self:flex-start}[cds-layout~='horizontal'] ::slotted([cds-layout*='align@xl:bottom']){align-self:flex-end}[cds-layout~='horizontal'] ::slotted([cds-layout*='align@xl:right']){margin-left:auto !important}[cds-layout~='horizontal'] ::slotted([cds-layout*='align@xl:left']){margin-right:auto !important}}[cds-text]{font-family:var(--cds-global-typography-font-family, "Clarity City", "Avenir Next", sans-serif);margin-top:0;margin-bottom:0}[cds-text][cds-layout~='vertical']::before,[cds-text][cds-layout~='vertical']::after,[cds-text][cds-layout~='horizontal']::before,[cds-text][cds-layout~='horizontal']::after{display:none}[cds-text*='display'],[cds-text*='title'],[cds-text*='section']{font-family:var(--cds-global-typography-header-font-family, "Clarity City", "Avenir Next", sans-serif);color:var(--cds-global-typography-color-400, var(--cds-global-color-construction-900, #21333b))}[cds-text*='body'],[cds-text*='message'],[cds-text*='secondary']{color:var(--cds-global-typography-color-500, var(--cds-global-color-black, #000))}[cds-text*='inline']{width:auto !important;display:inline-block !important}[cds-text*='display']{font-size:var(--cds-global-typography-display-font-size, 2rem);font-weight:var(--cds-global-typography-display-font-weight, 400);line-height:var(--cds-global-typography-display-line-height, 1.1em);letter-spacing:var(--cds-global-typography-display-letter-spacing, -0.0125em)}[cds-text*='display']::before{content:'';display:block;height:0;width:0;margin-bottom:calc(((var(--cds-global-typography-top-gap-height, 0.1475em) + calc((var(--cds-global-typography-display-line-height, 1.1em) - 1em) / 2)) * -1) + .037em)}[cds-text*='display']::after{content:'';display:block;height:0;width:0;margin-top:calc( (((1em - var(--cds-global-typography-top-gap-height, 0.1475em) - var(--cds-global-typography-ascender-height, 0.1703em) - var(--cds-global-typography-x-height, 0.517em)) + calc((var(--cds-global-typography-display-line-height, 1.1em) - 1em) / 2)) * -1) - .044em)}[cds-text*='title']{font-size:var(--cds-global-typography-title-font-size, 1.2rem);font-weight:var(--cds-global-typography-title-font-weight, 400);line-height:var(--cds-global-typography-title-line-height, 1.16667em);letter-spacing:var(--cds-global-typography-title-letter-spacing, -0.00833em)}[cds-text*='title']::before{content:'';display:block;height:0;width:0;margin-bottom:calc(((var(--cds-global-typography-top-gap-height, 0.1475em) + calc((var(--cds-global-typography-title-line-height, 1.16667em) - 1em) / 2)) * -1) + .037em)}[cds-text*='title']::after{content:'';display:block;height:0;width:0;margin-top:calc( (((1em - var(--cds-global-typography-top-gap-height, 0.1475em) - var(--cds-global-typography-ascender-height, 0.1703em) - var(--cds-global-typography-x-height, 0.517em)) + calc((var(--cds-global-typography-title-line-height, 1.16667em) - 1em) / 2)) * -1) - .044em)}[cds-text*='section']{font-size:var(--cds-global-typography-section-font-size, 1rem);font-weight:var(--cds-global-typography-section-font-weight, 400);line-height:var(--cds-global-typography-section-line-height, 1.2em);letter-spacing:var(--cds-global-typography-section-letter-spacing, -0.01em)}[cds-text*='section']::before{content:'';display:block;height:0;width:0;margin-bottom:calc(((var(--cds-global-typography-top-gap-height, 0.1475em) + calc((var(--cds-global-typography-section-line-height, 1.2em) - 1em) / 2)) * -1) + .037em)}[cds-text*='section']::after{content:'';display:block;height:0;width:0;margin-top:calc( (((1em - var(--cds-global-typography-top-gap-height, 0.1475em) - var(--cds-global-typography-ascender-height, 0.1703em) - var(--cds-global-typography-x-height, 0.517em)) + calc((var(--cds-global-typography-section-line-height, 1.2em) - 1em) / 2)) * -1) - .044em)}[cds-text*='body']{font-weight:var(--cds-global-typography-body-font-weight, 400);font-size:var(--cds-global-typography-body-font-size, 0.7rem);letter-spacing:var(--cds-global-typography-body-letter-spacing, -0.01429em);line-height:var(--cds-global-typography-body-line-height, 1.42857em)}[cds-text*='body']::before{content:'';display:block;height:0;width:0;margin-bottom:calc(((var(--cds-global-typography-top-gap-height, 0.1475em) + calc((var(--cds-global-typography-body-line-height, 1.42857em) - 1em) / 2)) * -1) + .1em)}[cds-text*='body']::after{content:'';display:block;height:0;width:0;margin-top:calc( (((1em - var(--cds-global-typography-top-gap-height, 0.1475em) - var(--cds-global-typography-ascender-height, 0.1703em) - var(--cds-global-typography-x-height, 0.517em)) + calc((var(--cds-global-typography-body-line-height, 1.42857em) - 1em) / 2)) * -1) - .044em)}[cds-text*='message']{font-size:var(--cds-global-typography-message-font-size, 0.8rem);font-weight:var(--cds-global-typography-message-font-weight, 20rem);line-height:var(--cds-global-typography-message-line-height, 1.25em);letter-spacing:var(--cds-global-typography-message-letter-spacing, -0.0125em)}[cds-text*='message']::before{content:'';display:block;height:0;width:0;margin-bottom:calc(((var(--cds-global-typography-top-gap-height, 0.1475em) + calc((var(--cds-global-typography-message-line-height, 1.25em) - 1em) / 2)) * -1) + .037em)}[cds-text*='message']::after{content:'';display:block;height:0;width:0;margin-top:calc( (((1em - var(--cds-global-typography-top-gap-height, 0.1475em) - var(--cds-global-typography-ascender-height, 0.1703em) - var(--cds-global-typography-x-height, 0.517em)) + calc((var(--cds-global-typography-message-line-height, 1.25em) - 1em) / 2)) * -1) - .044em)}[cds-text*='secondary']{font-size:var(--cds-global-typography-secondary-font-size, 0.65rem);font-weight:var(--cds-global-typography-secondary-font-weight, 400);line-height:var(--cds-global-typography-secondary-line-height, 1.23077em);letter-spacing:var(--cds-global-typography-secondary-letter-spacing, -0.00769em)}[cds-text*='secondary']::before{content:'';display:block;height:0;width:0;margin-bottom:calc(((var(--cds-global-typography-top-gap-height, 0.1475em) + calc((var(--cds-global-typography-secondary-line-height, 1.23077em) - 1em) / 2)) * -1) + .037em)}[cds-text*='secondary']::after{content:'';display:block;height:0;width:0;margin-top:calc( (((1em - var(--cds-global-typography-top-gap-height, 0.1475em) - var(--cds-global-typography-ascender-height, 0.1703em) - var(--cds-global-typography-x-height, 0.517em)) + calc((var(--cds-global-typography-secondary-line-height, 1.23077em) - 1em) / 2)) * -1) - .044em)}[cds-text~='link']{color:var(--cds-global-typography-link-color, var(--cds-global-color-blue-800, #00608a)) !important;text-decoration:underline !important;line-height:inherit !important;font-size:inherit !important}[cds-text~='link']:hover{color:var(--cds-global-typography-link-color-hover, var(--cds-global-color-blue-900, #004b6b)) !important}[cds-text~='link']:visited:not([cds-text~='static']){color:var(--cds-global-typography-link-color-visited, var(--cds-global-color-lavender-600, #3b40ce)) !important}[cds-text~='link']:visited:not([cds-text~='static']):hover{color:var(--cds-global-typography-link-color-visited-hover, var(--cds-global-color-lavender-700, #2429c2)) !important}[cds-divider]{display:block;height:var(--cds-alias-object-border-width-100, 0.05rem);overflow:hidden;box-shadow:var(--cds-alias-object-border-color, var(--cds-global-color-construction-200, #cbd4d8)) 0 0 0 var(--cds-alias-object-border-width-100, 0.05rem) inset}[cds-text~='light']{font-weight:var(--cds-global-typography-font-weight-light, 400) !important}[cds-text~='left']{text-align:left !important}[cds-text~='right']{text-align:right !important}[cds-text~='center']{text-align:center !important}[cds-text~='lhe']{padding:0.05px 0}[cds-text~='lhe']::before{content:'';margin-top:-0.124em;display:block;height:0}[cds-text~='lhe']::after{content:'';margin-bottom:-0.221em;display:block;height:0}[cds-text*='h2']{font-family:var(--cds-global-typography-header-font-family, "Clarity City", "Avenir Next", sans-serif);font-size:1.4rem;font-weight:200;color:#333;line-height:1.7143em;letter-spacing:-.01786em}[cds-text*='h2']::before{content:'';display:block;height:0;width:0;margin-bottom:calc(((var(--cds-global-typography-top-gap-height, 0.1475em) + calc((1.7143em - 1em) / 2)) * -1) + .037em)}[cds-text*='h2']::after{content:'';display:block;height:0;width:0;margin-top:calc( (((1em - var(--cds-global-typography-top-gap-height, 0.1475em) - var(--cds-global-typography-ascender-height, 0.1703em) - var(--cds-global-typography-x-height, 0.517em)) + calc((1.7143em - 1em) / 2)) * -1) - .044em)}[cds-text*='h3']{font-family:var(--cds-global-typography-header-font-family, "Clarity City", "Avenir Next", sans-serif);font-size:1.1rem;font-weight:200;color:#333;line-height:1.0909em;letter-spacing:-.01364em}[cds-text*='h3']::before{content:'';display:block;height:0;width:0;margin-bottom:calc(((var(--cds-global-typography-top-gap-height, 0.1475em) + calc((1.0909em - 1em) / 2)) * -1) + .037em)}[cds-text*='h3']::after{content:'';display:block;height:0;width:0;margin-top:calc( (((1em - var(--cds-global-typography-top-gap-height, 0.1475em) - var(--cds-global-typography-ascender-height, 0.1703em) - var(--cds-global-typography-x-height, 0.517em)) + calc((1.0909em - 1em) / 2)) * -1) - .044em)}:host([_nfg]) [cds-layout~='horizontal'][cds-layout*='gap:none']{width:calc(100% + 0);margin-bottom:calc(0 * -1) !important;margin-right:calc(0 * -1) !important}:host([_nfg]) [cds-layout~='horizontal'][cds-layout*='gap:none']>*,:host([_nfg]) [cds-layout~='horizontal'][cds-layout*='gap:none']>::slotted(*){margin-top:0;margin-left:0;top:calc(-1 * 0) !important;left:calc(-1 * 0) !important;position:relative !important}:host([_nfg]) [cds-layout~='horizontal'][cds-layout*='gap:xs']{width:calc(100% + var(--cxs));margin-bottom:calc(var(--cxs) * -1) !important;margin-right:calc(var(--cxs) * -1) !important}:host([_nfg]) [cds-layout~='horizontal'][cds-layout*='gap:xs']>*,:host([_nfg]) [cds-layout~='horizontal'][cds-layout*='gap:xs']>::slotted(*){margin-top:var(--cxs);margin-left:var(--cxs);top:calc(-1 * var(--cxs)) !important;left:calc(-1 * var(--cxs)) !important;position:relative !important}:host([_nfg]) [cds-layout~='horizontal'][cds-layout*='gap:sm']{width:calc(100% + var(--csm));margin-bottom:calc(var(--csm) * -1) !important;margin-right:calc(var(--csm) * -1) !important}:host([_nfg]) [cds-layout~='horizontal'][cds-layout*='gap:sm']>*,:host([_nfg]) [cds-layout~='horizontal'][cds-layout*='gap:sm']>::slotted(*){margin-top:var(--csm);margin-left:var(--csm);top:calc(-1 * var(--csm)) !important;left:calc(-1 * var(--csm)) !important;position:relative !important}:host([_nfg]) [cds-layout~='horizontal'][cds-layout*='gap:md']{width:calc(100% + var(--cmd));margin-bottom:calc(var(--cmd) * -1) !important;margin-right:calc(var(--cmd) * -1) !important}:host([_nfg]) [cds-layout~='horizontal'][cds-layout*='gap:md']>*,:host([_nfg]) [cds-layout~='horizontal'][cds-layout*='gap:md']>::slotted(*){margin-top:var(--cmd);margin-left:var(--cmd);top:calc(-1 * var(--cmd)) !important;left:calc(-1 * var(--cmd)) !important;position:relative !important}:host([_nfg]) [cds-layout~='horizontal'][cds-layout*='gap:lg']{width:calc(100% + var(--clg));margin-bottom:calc(var(--clg) * -1) !important;margin-right:calc(var(--clg) * -1) !important}:host([_nfg]) [cds-layout~='horizontal'][cds-layout*='gap:lg']>*,:host([_nfg]) [cds-layout~='horizontal'][cds-layout*='gap:lg']>::slotted(*){margin-top:var(--clg);margin-left:var(--clg);top:calc(-1 * var(--clg)) !important;left:calc(-1 * var(--clg)) !important;position:relative !important}:host([_nfg]) [cds-layout~='vertical'][cds-layout*='gap:none']>*,:host([_nfg]) [cds-layout~='vertical'][cds-layout*='gap:none']>::slotted(*){margin-top:0}:host([_nfg]) [cds-layout~='vertical'][cds-layout*='gap:none']>*:first-child,:host([_nfg]) [cds-layout~='vertical'][cds-layout*='gap:none']>::slotted(*:first-child),:host([_nfg]) [cds-layout~='vertical'][cds-layout*='gap:none']>::slotted([slot]:first-of-type){margin-top:0}:host([_nfg]) [cds-layout~='vertical'][cds-layout*='gap:xs']>*,:host([_nfg]) [cds-layout~='vertical'][cds-layout*='gap:xs']>::slotted(*){margin-top:var(--cxs)}:host([_nfg]) [cds-layout~='vertical'][cds-layout*='gap:xs']>*:first-child,:host([_nfg]) [cds-layout~='vertical'][cds-layout*='gap:xs']>::slotted(*:first-child),:host([_nfg]) [cds-layout~='vertical'][cds-layout*='gap:xs']>::slotted([slot]:first-of-type){margin-top:0}:host([_nfg]) [cds-layout~='vertical'][cds-layout*='gap:sm']>*,:host([_nfg]) [cds-layout~='vertical'][cds-layout*='gap:sm']>::slotted(*){margin-top:var(--csm)}:host([_nfg]) [cds-layout~='vertical'][cds-layout*='gap:sm']>*:first-child,:host([_nfg]) [cds-layout~='vertical'][cds-layout*='gap:sm']>::slotted(*:first-child),:host([_nfg]) [cds-layout~='vertical'][cds-layout*='gap:sm']>::slotted([slot]:first-of-type){margin-top:0}:host([_nfg]) [cds-layout~='vertical'][cds-layout*='gap:md']>*,:host([_nfg]) [cds-layout~='vertical'][cds-layout*='gap:md']>::slotted(*){margin-top:var(--cmd)}:host([_nfg]) [cds-layout~='vertical'][cds-layout*='gap:md']>*:first-child,:host([_nfg]) [cds-layout~='vertical'][cds-layout*='gap:md']>::slotted(*:first-child),:host([_nfg]) [cds-layout~='vertical'][cds-layout*='gap:md']>::slotted([slot]:first-of-type){margin-top:0}:host([_nfg]) [cds-layout~='vertical'][cds-layout*='gap:lg']>*,:host([_nfg]) [cds-layout~='vertical'][cds-layout*='gap:lg']>::slotted(*){margin-top:var(--clg)}:host([_nfg]) [cds-layout~='vertical'][cds-layout*='gap:lg']>*:first-child,:host([_nfg]) [cds-layout~='vertical'][cds-layout*='gap:lg']>::slotted(*:first-child),:host([_nfg]) [cds-layout~='vertical'][cds-layout*='gap:lg']>::slotted([slot]:first-of-type){margin-top:0}@media (min-width: 62rem){:host([_nfg]) [cds-layout~='horizontal'][cds-layout*='gap@md:lg']{width:calc(100% + var(--clg));margin-bottom:calc(var(--clg) * -1) !important;margin-right:calc(var(--clg) * -1) !important}:host([_nfg]) [cds-layout~='horizontal'][cds-layout*='gap@md:lg']>*,:host([_nfg]) [cds-layout~='horizontal'][cds-layout*='gap@md:lg']>::slotted(*){margin-top:var(--clg);margin-left:var(--clg);top:calc(-1 * var(--clg)) !important;left:calc(-1 * var(--clg)) !important;position:relative !important}}@media (min-width: 62rem){:host([_nfg]) [cds-layout~='vertical'][cds-layout*='gap@md:lg']>*,:host([_nfg]) [cds-layout~='vertical'][cds-layout*='gap@md:lg']>::slotted(*){margin-top:var(--clg)}:host([_nfg]) [cds-layout~='vertical'][cds-layout*='gap@md:lg']>*:first-child,:host([_nfg]) [cds-layout~='vertical'][cds-layout*='gap@md:lg']>::slotted(*:first-child),:host([_nfg]) [cds-layout~='vertical'][cds-layout*='gap@md:lg']>::slotted([slot]:first-of-type){margin-top:0}}:host{all:initial;display:block;visibility:inherit;font-family:var(--cds-global-typography-font-family, "Clarity City", "Avenir Next", sans-serif);contain:layout;box-sizing:border-box !important;-webkit-appearance:none !important}*,*:before,*:after{box-sizing:inherit !important}slot{font-family:var(--cds-global-typography-font-family, "Clarity City", "Avenir Next", sans-serif);display:contents !important}:host([role='button']),:host([_is-anchor]){cursor:pointer !important}:host([role='button']) ::slotted(*),:host([_is-anchor]) ::slotted(*){cursor:pointer !important}:host([role='button'][disabled]){cursor:not-allowed !important}:host([role='button'][disabled]) ::slotted(*){cursor:not-allowed !important}:host([hidden]){display:none !important}:host([hidden*='false']){display:block !important}:host([tabindex='0']:focus),:host([_focused]) .input{outline:Highlight solid var(--cds-global-space-2, 0.1rem);outline-offset:var(--cds-global-space-1, 0.05rem)}@media (-webkit-min-device-pixel-ratio: 0){:host([tabindex='0']:focus),:host([_focused]) .input{outline-color:-webkit-focus-ring-color}}
`;function Oe(t,...e){return e.forEach(([e,n])=>{t.style[e]=n}),t}function Ae(t){let e=parseInt(document.documentElement.getAttribute("cds-base-font"));if(!e){const t=window.getComputedStyle(document.body,null).getPropertyValue("--cds-global-typography-base-font-size");e=16*parseInt(""!==t?t:"100%")/100,document.documentElement.setAttribute("cds-base-font",`${e}`)}return t/e+"rem"}function Ie(t,e){switch(e?e.type:e){case Array:case Object:return Object.assign({reflect:!1},e);case String:return Object.assign({reflect:!0,attribute:zt(t),converter:{toAttribute:t=>t||null}},e);case Number:return Object.assign({reflect:!0,attribute:zt(t)},e);case Boolean:return Object.assign({reflect:!0,attribute:zt(t),converter:{toAttribute:t=>t?"":null,fromAttribute:t=>"false"!==t&&null!==t}},e);case Date:return Object.assign({reflect:!1,converter:{fromAttribute:t=>new Date(t)}},e);default:return e}}function Re(t){return(e,n)=>(function(t,e,n){const i=t.firstUpdated;t.firstUpdated=function(t){if(n&&n.required&&Vt(this[e])){const t=n.requiredMessage||function(t="warning",e,n){const i=n.toLocaleLowerCase();return`${Ht(t)}: ${e} is required to use ${i} component. Set the JS Property or HTML Attribute.\n\n`+(bt()?`Angular: <${i} [${e}]="..."></${i}>\n`:"")+(Tt()?`Vue: <${i} :${e}="..."></${i}>\n`:"")+(St()?`React: <${r=i,Ht(r.split("-").map((t,e)=>e?t.charAt(0).toUpperCase()+t.slice(1).toLowerCase():t).join(""))} ${e}={...} />\n`:"")+`HTML: <${i} ${zt(e)}="..."></${i}>\n`+`JavaScript: document.querySelector('${i}').${e} = '...';\n\n`;var r}(n.required,e,this.tagName);if("error"===n.required)throw new Error(t);Wt.warn(t,this)}i&&i.apply(this,[t])}}(e,n,t),ve(Ie(n,t))(e,n))}const Le=we`:host{--color: currentColor;display:inline-block;height:var(--cds-global-space-7, 0.8rem);width:var(--cds-global-space-7, 0.8rem);margin:0;vertical-align:middle;fill:var(--color);color:var(--color);contain:strict;cursor:inherit}svg{display:block}:host([size='sm']){height:var(--cds-global-space-7, 0.8rem);width:var(--cds-global-space-7, 0.8rem)}:host([size='md']){height:var(--cds-global-space-9, 1.2rem);width:var(--cds-global-space-9, 1.2rem)}:host([size='lg']){height:var(--cds-global-space-11, 1.8rem);width:var(--cds-global-space-11, 1.8rem)}:host([size='xl']){height:var(--cds-global-space-12, 2.4rem);width:var(--cds-global-space-12, 2.4rem)}:host([size='xxl']){height:calc(var(--cds-global-space-13, 3.6rem) - var(--cds-global-space-5, 0.4rem));width:calc(var(--cds-global-space-13, 3.6rem) - var(--cds-global-space-5, 0.4rem))}:host([status='success']){--color: var(--cds-alias-status-success, var(--cds-global-color-green-700, #42810e))}:host([status='danger']){--color: var(--cds-alias-status-danger, var(--cds-global-color-red-700, #e02200))}:host([status='warning']){--color: var(--cds-alias-status-warning-shade, var(--cds-global-color-ochre-600, #ffa600))}:host([status='info']){--color: var(--cds-alias-status-info-shade, var(--cds-global-color-blue-800, #00608a))}:host([inverse]){--color: var(--cds-global-color-construction-200, #cbd4d8)}:host([direction='up']){transform:rotate(0deg)}:host([direction='down']){transform:rotate(180deg)}:host([direction='right']){transform:rotate(90deg)}:host([direction='left']){transform:rotate(270deg)}:host([flip='horizontal']){transform:scale(-1) rotateX(180deg)}:host([flip='vertical']){transform:scale(-1) rotateY(180deg)}.badge,.alert{fill:var(--badge-color, var(--cds-alias-status-danger, var(--cds-global-color-red-700, #e02200)))}:host([badge='success']){--badge-color: var(--cds-alias-status-success, var(--cds-global-color-green-700, #42810e))}:host([badge='danger']){--badge-color: var(--cds-alias-status-danger, var(--cds-global-color-red-700, #e02200))}:host([badge*='warning']){--badge-color: var(--cds-alias-status-warning-shade, var(--cds-global-color-ochre-600, #ffa600))}:host([badge='inherit']){--badge-color: currentColor}:host([badge='info']){--badge-color: var(--cds-alias-status-info, var(--cds-global-color-blue-700, #0079ad))}:host([badge='inherit-triangle']){--badge-color: currentColor}:host([badge][inverse]){--badge-color: var(--cds-alias-status-danger, var(--cds-global-color-red-700, #e02200))}:host([badge='success'][inverse]){--badge-color: var(--cds-alias-status-success, var(--cds-global-color-green-700, #42810e))}:host([badge*='warning'][inverse]){--badge-color: var(--cds-alias-status-warning-shade, var(--cds-global-color-ochre-600, #ffa600))}:host([badge*='inherit'][inverse]){--badge-color: currentColor}:host([badge='info'][inverse]){--badge-color: var(--cds-alias-status-info, var(--cds-global-color-blue-700, #0079ad))}.cds-internal-dot-1{animation:fadeInAndOut 1.8s ease-in 0s infinite}.cds-internal-dot-2{animation:fadeInAndOut 1.8s ease-out 0.422s infinite}.cds-internal-dot-3{animation:fadeInAndOut 1.8s ease-out 0.675s infinite}@keyframes fadeInAndOut{0%{opacity:0}75%{opacity:1}100%{opacity:0}}@media (prefers-reduced-motion){.cds-internal-dot-1{animation:none}.cds-internal-dot-2{animation:none}.cds-internal-dot-3{animation:none}}
`;function Pe(t){return t.badge&&("inherit-triangle"===t.badge||"warning-triangle"===t.badge)}var De;De=(()=>{class t extends Ce{constructor(){super(...arguments),this._shape="unknown",this.solid=!1,this.inverse=!1}static get styles(){return[Me,Le]}get shape(){return this._shape}set shape(t){if(function(t,e){return!Vt(t)&&Bt(t,e)}(t,this._shape)){const e=this._shape;this._shape=t,this.requestUpdate("shape",e)}}get size(){return this._size}set size(t){if(function(t,e){return function(t){return xt(String,t)||u(t)}(t)&&Bt(t,e)}(t,this._size)){const e=this._size;this._size=t,function(t,e){let n="";switch(function(t){return u(t)||""===t?"value-is-nil":function(t){return["xxs","xs","sm","md","lg","xl","xxl"].indexOf(t)>-1}(t)?"value-is-string":!isNaN(parseInt(t,10))&&t.match(/^[0-9 ]+$/)?"value-is-numeric":"bad-value"}(e)){case"value-is-numeric":return n=Ae(parseInt(e)),void Oe(t,["width",n],["height",n]);case"value-is-string":case"value-is-nil":Oe(t,["width",""],["height",""])}}(this,t),this.requestUpdate("size",e)}}updated(t){if(t.has("innerOffset")&&this.innerOffset>0){const t=Ae(this.innerOffset),e=`calc(100% + ${2*Number(t.replace("rem",""))}rem)`;this.svg.style.width=e,this.svg.style.height=e,this.svg.style.margin=`-${t} 0 0 -${t}`}}connectedCallback(){super.connectedCallback(),this.subscription=E.iconUpdates.subscribe(t=>{t===this.shape&&this.requestUpdate()})}disconnectedCallback(){super.disconnectedCallback(),this.subscription.unsubscribe()}render(){return xt(String,E.registry[this.shape])?le.a`<span .innerHTML="${E.registry[this.shape]}"></span>`:le.b`<svg .innerHTML="${function(t){var e,n,i,r,s;const o=null!==(e=E.registry[t.shape])&&void 0!==e?e:E.registry.unknown;let a=t.solid&&o.solid?o.solid:o.outline;return t.badge&&!Pe(t)&&(a=t.solid?null!==(n=o.solidBadged)&&void 0!==n?n:a:null!==(i=o.outlineBadged)&&void 0!==i?i:a),Pe(t)&&(a=t.solid?null!==(r=o.solidAlerted)&&void 0!==r?r:a:null!==(s=o.outlineAlerted)&&void 0!==s?s:a),a}(this)+function(t){let e="";return t.badge&&Pe(t)?e='<path d="M26.85 1.14L21.13 11a1.28 1.28 0 001.1 2h11.45a1.28 1.28 0 001.1-2l-5.72-9.86a1.28 1.28 0 00-2.21 0z" class="alert" />':t.badge&&(e='<circle cx="30" cy="6" r="5" class="badge" />'),e}(this)}" viewBox="0 0 36 36" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"></svg>`}}var e;return Object($t.b)([Re({type:String})],t.prototype,"shape",null),Object($t.b)([Re({type:String})],t.prototype,"size",null),Object($t.b)([Re({type:String})],t.prototype,"direction",void 0),Object($t.b)([Re({type:String})],t.prototype,"flip",void 0),Object($t.b)([Re({type:Boolean})],t.prototype,"solid",void 0),Object($t.b)([Re({type:String})],t.prototype,"status",void 0),Object($t.b)([Re({type:Boolean})],t.prototype,"inverse",void 0),Object($t.b)([Re({type:String})],t.prototype,"badge",void 0),Object($t.b)([(e={type:Number},(t,n)=>{const i=Ie(n,e);return i&&(i.reflect=!!(null==e?void 0:e.reflect)&&e.reflect,i.reflect&&!(null==e?void 0:e.attribute)&&(i.attribute=`_${zt(n)}`)),ve(i)(t,n)})],t.prototype,"innerOffset",void 0),Object($t.b)([(t,e)=>{const n={get(){return this.renderRoot.querySelector("svg")},enumerable:!0,configurable:!0};return void 0!==e?((t,e,n)=>{Object.defineProperty(e,n,t)})(n,t,e):((t,e)=>({kind:"method",placement:"prototype",key:e.key,descriptor:t}))(n,t)}],t.prototype,"svg",void 0),t})(),b()&&_(["customElements"])&&Qt("cds-icon",De,window.customElements);const Ne=["*"];function je(t,e){1&t&&i.Lb(0,"label")}const ke=[[["","clrCheckbox",""],["","clrToggle",""]],[["label"]]],Fe=["[clrCheckbox],[clrToggle]","label"];function Ue(t,e){1&t&&i.Lb(0,"label")}function Ge(t,e){1&t&&i.dc(0,2,["*ngIf","showHelper"])}function Ve(t,e){1&t&&i.Lb(0,"cds-icon",5)}function Be(t,e){1&t&&i.Lb(0,"cds-icon",6)}function ze(t,e){1&t&&i.dc(0,3,["*ngIf","showInvalid"])}function He(t,e){1&t&&i.dc(0,4,["*ngIf","showValid"])}const Xe=[[["label"]],[["clr-checkbox-wrapper"],["clr-toggle-wrapper"]],[["clr-control-helper"]],[["clr-control-error"]],[["clr-control-success"]]],qe=["label","clr-checkbox-wrapper,clr-toggle-wrapper","clr-control-helper","clr-control-error","clr-control-success"];function We(t,e){1&t&&i.Lb(0,"label")}function Ye(t,e){1&t&&i.Lb(0,"cds-icon",5)}function Ke(t,e){1&t&&i.Lb(0,"cds-icon",6)}function Ze(t,e){1&t&&i.dc(0,2,["*ngIf","showHelper"])}function Je(t,e){1&t&&i.dc(0,3,["*ngIf","showInvalid"])}function Qe(t,e){1&t&&i.dc(0,4,["*ngIf","showValid"])}const $e=[[["label"]],[["","clrInput",""]],[["clr-control-helper"]],[["clr-control-error"]],[["clr-control-success"]]],tn=["label","[clrInput]","clr-control-helper","clr-control-error","clr-control-success"];function en(t,e){1&t&&i.Lb(0,"label")}const nn=[[["","clrRadio",""]],[["label"]]],rn=["[clrRadio]","label"];function sn(t,e){1&t&&i.Lb(0,"label")}function on(t,e){1&t&&i.Lb(0,"cds-icon",5)}function an(t,e){1&t&&i.Lb(0,"cds-icon",6)}function ln(t,e){1&t&&i.dc(0,2,["*ngIf","showHelper"])}function cn(t,e){1&t&&i.dc(0,3,["*ngIf","showInvalid"])}function hn(t,e){1&t&&i.dc(0,4,["*ngIf","showValid"])}const un=[[["label"]],[["","clrSelect",""]],[["clr-control-helper"]],[["clr-control-error"]],[["clr-control-success"]]],dn=["label","[clrSelect]","clr-control-helper","clr-control-error","clr-control-success"];function pn(t,e){1&t&&i.Lb(0,"label")}function fn(t,e){if(1&t&&i.Lb(0,"span",6),2&t){const t=i.Zb();i.tc("width",t.getRangeProgressFillWidth())}}function mn(t,e){1&t&&i.Lb(0,"cds-icon",7)}function gn(t,e){1&t&&i.Lb(0,"cds-icon",8)}function yn(t,e){1&t&&i.dc(0,2,["*ngIf","showHelper"])}function _n(t,e){1&t&&i.dc(0,3,["*ngIf","showInvalid"])}function bn(t,e){1&t&&i.dc(0,4,["*ngIf","showValid"])}const vn=[[["label"]],[["","clrRange",""]],[["clr-control-helper"]],[["clr-control-error"]],[["clr-control-success"]]],Sn=["label","[clrRange]","clr-control-helper","clr-control-error","clr-control-success"],Tn=["anchor"];function xn(t,e){if(1&t&&(i.Qb(0,"div",4),i.Qb(1,"div",5),i.Qb(2,"button",6),i.Lb(3,"cds-icon",7),i.Pb(),i.Pb(),i.dc(4),i.Pb()),2&t){const t=i.Zb();i.fc("id",t.popoverId),i.zb(3),i.Ab("title",t.commonStrings.keys.close)}}const wn=["input"],En=["input_low"],Cn=["columnPortal"];function Mn(t,e){1&t&&i.dc(0)}function On(t,e){1&t&&i.Mb(0)}function An(t,e){if(1&t&&i.Lb(0,"cds-icon",10),2&t){const t=i.Zb(2);i.Ab("direction",t.sortDirection)}}function In(t,e){if(1&t){const t=i.Rb();i.Qb(0,"button",7),i.Xb("click",function(){return i.pc(t),i.Zb().sort()}),i.wc(1,On,1,0,"ng-container",8),i.wc(2,An,1,1,"cds-icon",9),i.Pb()}if(2&t){const t=i.Zb(),e=i.lc(6);i.zb(1),i.fc("ngTemplateOutlet",e),i.zb(1),i.fc("ngIf",t.sortDirection)}}function Rn(t,e){if(1&t){const t=i.Rb();i.Qb(0,"clr-dg-string-filter",11),i.Xb("clrFilterValueChange",function(e){return i.pc(t),i.Zb().filterValue=e}),i.Pb()}if(2&t){const t=i.Zb();i.fc("clrDgStringFilter",t.registered)("clrFilterValue",t.filterValue)}}function Ln(t,e){if(1&t){const t=i.Rb();i.Qb(0,"clr-dg-numeric-filter",12),i.Xb("clrFilterValueChange",function(e){return i.pc(t),i.Zb().filterValue=e}),i.Pb()}if(2&t){const t=i.Zb();i.fc("clrDgNumericFilter",t.registered)("clrFilterValue",t.filterValue)}}function Pn(t,e){1&t&&i.dc(0,1)}function Dn(t,e){1&t&&i.Mb(0)}function Nn(t,e){if(1&t&&(i.Qb(0,"span",13),i.wc(1,Dn,1,0,"ng-container",8),i.Pb()),2&t){i.Zb();const t=i.lc(6);i.zb(1),i.fc("ngTemplateOutlet",t)}}function jn(t,e){1&t&&i.Lb(0,"clr-dg-column-separator")}const kn=[[["clr-dg-filter"],["clr-dg-string-filter"],["clr-dg-numeric-filter"]],"*"],Fn=["clr-dg-filter, clr-dg-string-filter, clr-dg-numeric-filter","*"];function Un(t,e){1&t&&i.Lb(0,"div",4)}function Gn(t,e){1&t&&i.dc(0,0,["*ngIf","emptyDatagrid"])}function Vn(t,e){if(1&t&&(i.Ob(0),i.Qb(1,"button",1),i.Lb(2,"cds-icon",2),i.Pb(),i.Nb()),2&t){const t=i.Zb();i.zb(2),i.Ab("title",t.commonStrings.keys.info)}}const Bn=["cellPortal"];function zn(t,e){1&t&&i.dc(0)}const Hn=["rowPortal"];function Xn(t,e){1&t&&i.dc(0)}const qn=["detailButton"],Wn=["stickyCells"],Yn=["scrollableCells"],Kn=["calculatedCells"];function Zn(t,e){}function Jn(t,e){if(1&t&&(i.Qb(0,"clr-expandable-animation",7),i.wc(1,Zn,0,0,"ng-template",8),i.Pb()),2&t){const t=i.Zb(2),e=i.lc(6);i.fc("clrExpandTrigger",t.expandAnimationTrigger),i.zb(1),i.fc("ngTemplateOutlet",e)}}function Qn(t,e){}function $n(t,e){if(1&t&&i.wc(0,Qn,0,0,"ng-template",8),2&t){i.Zb(2);const t=i.lc(6);i.fc("ngTemplateOutlet",t)}}function ti(t,e){if(1&t&&(i.Qb(0,"label",6),i.wc(1,Jn,2,2,"clr-expandable-animation",1),i.wc(2,$n,1,1,void 0,2),i.Pb()),2&t){const t=i.Zb();i.zb(1),i.fc("ngIf",t.expand.expandable),i.zb(1),i.fc("ngIf",!t.expand.expandable)}}function ei(t,e){}function ni(t,e){if(1&t&&(i.Qb(0,"clr-expandable-animation",7),i.wc(1,ei,0,0,"ng-template",8),i.Pb()),2&t){const t=i.Zb(),e=i.lc(6);i.fc("clrExpandTrigger",t.expandAnimationTrigger),i.zb(1),i.fc("ngTemplateOutlet",e)}}function ii(t,e){}function ri(t,e){if(1&t&&i.wc(0,ii,0,0,"ng-template",8),2&t){i.Zb();const t=i.lc(6);i.fc("ngTemplateOutlet",t)}}function si(t,e){1&t&&i.dc(0)}const oi=function(t){return{"clr-form-control-disabled":t}};function ai(t,e){if(1&t){const t=i.Rb();i.Qb(0,"div",19),i.Qb(1,"div",20),i.Qb(2,"input",21),i.Xb("ngModelChange",function(e){return i.pc(t),i.Zb(2).toggle(e)}),i.Pb(),i.Qb(3,"label",22),i.Qb(4,"span",23),i.yc(5),i.Pb(),i.Pb(),i.Pb(),i.Pb()}if(2&t){const t=i.Zb(2);i.fc("ngClass",i.jc(8,oi,!t.clrDgSelectable)),i.zb(2),i.fc("ngModel",t.selected)("id",t.checkboxId),i.Ab("disabled",!t.clrDgSelectable||null)("aria-disabled",!t.clrDgSelectable||null)("aria-label",t.commonStrings.keys.select),i.zb(1),i.fc("for",t.checkboxId),i.zb(2),i.zc(t.commonStrings.keys.select)}}function li(t,e){if(1&t){const t=i.Rb();i.Qb(0,"div",19),i.Qb(1,"input",24),i.Xb("ngModelChange",function(e){return i.pc(t),i.Zb(2).selection.currentSingle=e}),i.Pb(),i.Pb()}if(2&t){const t=i.Zb(2);i.fc("ngClass",i.jc(9,oi,!t.clrDgSelectable)),i.zb(1),i.fc("id",t.radioId)("name",t.selection.id+"-radio")("value",t.item)("ngModel",t.selection.currentSingle)("checked",t.selection.currentSingle===t.item),i.Ab("disabled",!t.clrDgSelectable||null)("aria-disabled",!t.clrDgSelectable||null)("aria-label",t.commonStrings.keys.select)}}function ci(t,e){1&t&&(i.Qb(0,"div",25),i.dc(1,2),i.Pb())}function hi(t,e){if(1&t){const t=i.Rb();i.Qb(0,"button",29),i.Xb("click",function(){return i.pc(t),i.Zb(4).toggleExpand()}),i.Lb(1,"cds-icon",30),i.Pb()}if(2&t){const t=i.Zb(4);i.Ab("aria-expanded",t.expand.expanded)("aria-label",t.expand.expanded?t.clrDgDetailCloseLabel:t.clrDgDetailOpenLabel)("aria-controls",t.expandableId),i.zb(1),i.Ab("direction",t.expand.expanded?"down":"right")("title",t.expand.expanded?t.commonStrings.keys.collapse:t.commonStrings.keys.expand)}}function ui(t,e){if(1&t&&(i.Qb(0,"clr-spinner",31),i.yc(1),i.Pb()),2&t){const t=i.Zb(4);i.zb(1),i.zc(t.commonStrings.keys.loading)}}function di(t,e){if(1&t&&(i.Ob(0),i.wc(1,hi,2,5,"button",27),i.wc(2,ui,2,1,"clr-spinner",28),i.Nb()),2&t){const t=i.Zb(3);i.zb(1),i.fc("ngIf",!t.expand.loading),i.zb(1),i.fc("ngIf",t.expand.loading)}}function pi(t,e){if(1&t&&(i.Qb(0,"div",26),i.wc(1,di,3,2,"ng-container",2),i.Pb()),2&t){const t=i.Zb(2);i.zb(1),i.fc("ngIf",t.expand.expandable)}}function fi(t,e){if(1&t){const t=i.Rb();i.Qb(0,"div",32),i.Qb(1,"button",33,34),i.Xb("click",function(){i.pc(t);const e=i.lc(2),n=i.Zb(2);return n.detailService.toggle(n.item,e)}),i.Lb(3,"cds-icon",35),i.Pb(),i.Pb()}if(2&t){const t=i.Zb(2);i.zb(1),i.Cb("is-open",t.detailService.isRowOpen(t.item)),i.Ab("aria-label",t.detailService.isOpen?t.clrDgDetailCloseLabel:t.clrDgDetailOpenLabel)("aria-expanded",t.detailService.isOpen)("aria-controls",t.detailService.id),i.zb(2),i.Ab("direction",t.detailService.isRowOpen(t.item)?"left":"right")("title",t.detailService.isRowOpen(t.item)?t.commonStrings.keys.close:t.commonStrings.keys.open)}}function mi(t,e){}function gi(t,e){if(1&t&&i.wc(0,mi,0,0,"ng-template",8),2&t){i.Zb(2);const t=i.lc(4);i.fc("ngTemplateOutlet",t)}}function yi(t,e){}function _i(t,e){if(1&t&&i.wc(0,yi,0,0,"ng-template",8),2&t){i.Zb(2);const t=i.lc(4);i.fc("ngTemplateOutlet",t)}}const bi=function(t){return{"is-replaced":t}};function vi(t,e){if(1&t&&(i.Qb(0,"div",9),i.Qb(1,"div",10),i.Ob(2,null,11),i.wc(4,ai,6,10,"div",12),i.wc(5,li,2,11,"div",12),i.wc(6,ci,2,0,"div",13),i.wc(7,pi,2,1,"div",14),i.wc(8,fi,4,7,"div",15),i.Nb(),i.Pb(),i.Qb(9,"div",16),i.Qb(10,"div",17),i.dc(11,1),i.Mb(12,null,18),i.Pb(),i.wc(14,gi,1,1,void 0,2),i.wc(15,_i,1,1,void 0,2),i.Pb(),i.Pb()),2&t){const t=i.Zb();i.Cb("datagrid-row-detail-open",t.detailService.isRowOpen(t.item)),i.fc("id",t.id),i.zb(4),i.fc("ngIf",t.selection.selectionType===t.SELECTION_TYPE.Multi),i.zb(1),i.fc("ngIf",t.selection.selectionType===t.SELECTION_TYPE.Single),i.zb(1),i.fc("ngIf",t.rowActionService.hasActionableRow),i.zb(1),i.fc("ngIf",t.globalExpandable.hasExpandableRow),i.zb(1),i.fc("ngIf",t.detailService.enabled),i.zb(1),i.fc("ngClass",i.jc(11,bi,t.replaced&&t.expanded)),i.zb(5),i.fc("ngIf",t.replaced&&!t.expand.loading),i.zb(1),i.fc("ngIf",!t.replaced&&!t.expand.loading)}}const Si=[[["clr-dg-row-detail"]],[["clr-dg-cell"]],[["clr-dg-action-overflow"]]],Ti=["clr-dg-row-detail","clr-dg-cell","clr-dg-action-overflow"],xi=["scrollableColumns"],wi=["datagridTable"],Ei=["projectedDisplayColumns"],Ci=["projectedCalculationColumns"],Mi=["displayedRows"],Oi=["calculationRows"];function Ai(t,e){if(1&t){const t=i.Rb();i.Qb(0,"div",23),i.Qb(1,"div",24),i.Qb(2,"input",25),i.Xb("ngModelChange",function(e){return i.pc(t),i.Zb().allSelected=e}),i.Pb(),i.Qb(3,"label",26),i.Qb(4,"span",27),i.yc(5),i.Pb(),i.Pb(),i.Pb(),i.Lb(6,"div",28),i.Pb()}if(2&t){const t=i.Zb();i.zb(2),i.fc("id",t.selectAllId)("ngModel",t.allSelected),i.Ab("aria-label",t.commonStrings.keys.selectAll),i.zb(1),i.fc("for",t.selectAllId),i.zb(2),i.zc(t.commonStrings.keys.selectAll)}}function Ii(t,e){if(1&t&&(i.Qb(0,"div",23),i.Lb(1,"div",28),i.Pb()),2&t){const t=i.Zb();i.Ab("aria-label",t.clrDgSingleSelectionAriaLabel)}}function Ri(t,e){if(1&t&&(i.Qb(0,"div",29),i.Lb(1,"div",28),i.Pb()),2&t){const t=i.Zb();i.Ab("aria-label",t.clrDgSingleActionableAriaLabel)}}function Li(t,e){if(1&t&&(i.Qb(0,"div",30),i.Lb(1,"div",28),i.Pb()),2&t){const t=i.Zb();i.Ab("aria-label",t.clrDetailExpandableAriaLabel)}}function Pi(t,e){1&t&&i.Lb(0,"clr-dg-placeholder")}function Di(t,e){1&t&&(i.Qb(0,"div",31),i.Qb(1,"clr-spinner",32),i.yc(2,"Loading"),i.Pb(),i.Pb())}const Ni=[[["clr-dg-action-bar"]],[["clr-dg-placeholder"]],[["clr-dg-footer"]],[["","clrIfDetail",""],["clr-dg-detail"]]],ji=["clr-dg-action-bar","clr-dg-placeholder","clr-dg-footer","[clrIfDetail],clr-dg-detail"],ki=["resizeTracker"],Fi=["columnHandle"],Ui=["allSelected"];function Gi(t,e){if(1&t&&(i.Ob(0),i.yc(1),i.Nb()),2&t){const t=i.Zb(2);i.zb(1),i.zc(t.commonStrings.keys.showColumns)}}function Vi(t,e){}function Bi(t,e){if(1&t){const t=i.Rb();i.Qb(0,"li"),i.Qb(1,"clr-checkbox-wrapper"),i.Qb(2,"input",14),i.Xb("ngModelChange",function(n){i.pc(t);const r=e.$implicit;return i.Zb(2).toggleColumnState(r,!n)}),i.Pb(),i.Qb(3,"label"),i.wc(4,Vi,0,0,"ng-template",15),i.Pb(),i.Pb(),i.Pb()}if(2&t){const t=e.$implicit,n=i.Zb(2);i.zb(2),i.fc("disabled",n.hasOnlyOneVisibleColumn&&!t.hidden)("ngModel",!t.hidden),i.zb(2),i.fc("ngTemplateOutlet",t.titleTemplateRef)}}function zi(t,e){if(1&t){const t=i.Rb();i.Qb(0,"clr-dg-column-toggle-button",16),i.Xb("clrAllSelected",function(){return i.pc(t),i.Zb(2).allColumnsSelected()}),i.yc(1),i.Pb()}if(2&t){const t=i.Zb(2);i.zb(1),i.Ac(" ",t.commonStrings.keys.selectAll," ")}}function Hi(t,e){if(1&t&&(i.Qb(0,"div",3),i.Qb(1,"div",4),i.Qb(2,"div",5,6),i.yc(4),i.Pb(),i.wc(5,Gi,2,1,"ng-container",7),i.dc(6),i.Qb(7,"button",8),i.Lb(8,"cds-icon",9),i.Pb(),i.Pb(),i.Qb(9,"ul",10),i.wc(10,Bi,5,3,"li",11),i.Pb(),i.Qb(11,"div",12),i.dc(12,1),i.wc(13,zi,2,1,"clr-dg-column-toggle-button",13),i.Pb(),i.Pb()),2&t){const t=i.Zb();i.fc("id",t.popoverId),i.Ab("aria-label",t.commonStrings.keys.showColumnsMenuDescription),i.zb(4),i.zc(t.commonStrings.keys.allColumnsSelected),i.zb(1),i.fc("ngIf",!t.customToggleTitle),i.zb(2),i.Ab("aria-label",t.commonStrings.keys.close)("title",t.commonStrings.keys.close),i.zb(1),i.Ab("title",t.commonStrings.keys.close),i.zb(2),i.fc("ngForOf",t.hideableColumnStates)("ngForTrackBy",t.trackByFn),i.zb(3),i.fc("ngIf",!t.customToggleButton)}}const Xi=[[["clr-dg-column-toggle-title"]],[["clr-dg-column-toggle-button"]]],qi=["clr-dg-column-toggle-title","clr-dg-column-toggle-button"];function Wi(t,e){if(1&t&&(i.Ob(0),i.Qb(1,"div",1),i.Qb(2,"clr-checkbox-wrapper",2),i.Lb(3,"input",3),i.Qb(4,"label"),i.yc(5),i.Pb(),i.Pb(),i.Pb(),i.Nb()),2&t){const t=i.Zb();i.zb(5),i.zc(t.selection.current.length)}}function Yi(t,e){1&t&&i.Lb(0,"clr-dg-column-toggle")}function Ki(t,e){if(1&t&&(i.Ob(0),i.dc(1,1),i.wc(2,Yi,1,0,"clr-dg-column-toggle",0),i.Qb(3,"div",4),i.dc(4,2),i.Pb(),i.Nb()),2&t){const t=i.Zb();i.zb(2),i.fc("ngIf",t.hasHideableColumns&&!t.toggle)}}const Zi=[[["clr-dg-pagination"]],[["clr-dg-column-toggle"]],"*"],Ji=["clr-dg-pagination","clr-dg-column-toggle","*"];function Qi(t,e){if(1&t){const t=i.Rb();i.Qb(0,"button",3),i.Xb("click",function(){i.pc(t);const e=i.Zb();return e.toggleNav(e.responsiveNavCodes.NAV_LEVEL_1)}),i.Lb(1,"span"),i.Pb()}if(2&t){const t=i.Zb();i.Ab("aria-label",t.openNavLevel!==t.responsiveNavCodes.NAV_LEVEL_1?t.commonStrings.keys.open:t.commonStrings.keys.close)}}function $i(t,e){if(1&t){const t=i.Rb();i.Qb(0,"button",4),i.Xb("click",function(){i.pc(t);const e=i.Zb();return e.toggleNav(e.responsiveNavCodes.NAV_LEVEL_2)}),i.Lb(1,"span"),i.Pb()}if(2&t){const t=i.Zb();i.Ab("aria-label",t.openNavLevel!==t.responsiveNavCodes.NAV_LEVEL_2?t.commonStrings.keys.open:t.commonStrings.keys.close)}}function tr(t,e){if(1&t){const t=i.Rb();i.Qb(0,"button",3),i.Xb("click",function(){return i.pc(t),i.Zb().toggleByButton()}),i.Lb(1,"cds-icon",4),i.Pb()}if(2&t){const t=i.Zb();i.Cb("on-collapse",t.collapsed),i.Ab("aria-expanded",t.ariaExpanded)("aria-label",t.commonStrings.keys.verticalNavToggle),i.zb(1),i.Ab("direction",t.collapsed?"right":"left")("title",t.collapsed?t.commonStrings.keys.expand:t.commonStrings.keys.collapse)}}function er(t,e){if(1&t){const t=i.Rb();i.Qb(0,"button",5),i.Xb("click",function(){return i.pc(t),i.Zb().collapsed=!1}),i.Pb()}if(2&t){const t=i.Zb();i.Ab("aria-label",t.commonStrings.keys.verticalNavToggle)}}const nr=[[["","clrVerticalNavLink",""]],[["","clrVerticalNavIcon",""]],"*",[["","clrIfExpanded",""],["clr-vertical-nav-group-children"]]],ir=["[clrVerticalNavLink]","[clrVerticalNavIcon]","*","[clrIfExpanded], clr-vertical-nav-group-children"];let rr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Fb({type:t,selectors:[["clr-icon"]]}),t})(),sr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Fb({type:t,selectors:[["cds-icon"]]}),t})(),or=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({imports:[[K.c]]}),t})();var ar=function(t){return t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Backspace="Backspace",t.Tab="TAB",t.Enter="Enter",t.Escape="Escape",t.Space="Space",t.Home="Home",t.End="End",t}({}),lr=function(t){return t.ArrowUp="Up",t.ArrowDown="Down",t.ArrowRight="Right",t.ArrowLeft="Left",t.Space="Spacebar",t.Escape="Esc",t.Home="Home",t.End="End",t.Enter="Enter",t.Tab="Tab",t}({});function cr(t){return t===ar.ArrowUp||t===lr.ArrowUp?ar.ArrowUp:t===ar.ArrowDown||t===lr.ArrowDown?ar.ArrowDown:t===ar.ArrowRight||t===lr.ArrowRight?ar.ArrowRight:t===ar.ArrowLeft||t===lr.ArrowLeft?ar.ArrowLeft:t===ar.Space||t===lr.Space?ar.Space:t===ar.Escape||t===lr.Escape?ar.Escape:t}let hr=(()=>{class t{constructor(){this._open=!1,this._openChange=new Z.a,this._openEventChange=new Z.a,this._popoverAligned=new Z.a}get openChange(){return this._openChange.asObservable()}set openEvent(t){this._openEvent=t,this._openEventChange.next(t)}get openEvent(){return this._openEvent}getEventChange(){return this._openEventChange.asObservable()}set open(t){this._open!==(t=!!t)&&(this._open=t,this._openChange.next(t))}get open(){return this._open}get originalEvent(){return this._openEvent}toggleWithEvent(t){(function(t){const e=cr(t.key);e!==ar.ArrowUp&&e!==ar.ArrowDown&&e!==ar.ArrowLeft&&e!==ar.ArrowRight||t.preventDefault()})(t),this.openEvent=t,this.open=!this.open}get popoverAligned(){return this._popoverAligned.asObservable()}popoverAlignedEmit(t){this._popoverAligned.next(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})(),ur=(()=>{class t{constructor(t,e,n){this.renderer=t,this.smartOpenService=e,this.document=n,this.outsideClickClose=!0,this.scrollToClose=!0,this.subscriptions=[],this.subscriptions.push(e.openChange.subscribe(t=>{t?(this.addEscapeListener(),this.addClickListener(),this.addScrollListener()):this.removeAllEventListeners()}),e.getEventChange().subscribe(t=>{this.ignoredEvent=t}))}addScrollListener(){this.scrollToClose&&(this.documentScroller=Object(J.a)(this.document,"scroll",{capture:!0}),this.scrollSubscription=this.documentScroller.pipe(Object(rt.a)(this.testForSmartPopoverContentContainer)).subscribe(()=>{this.smartOpenService.open=!1,this.setAnchorFocus()}))}removeScrollListener(){this.documentScroller&&(this.scrollSubscription.unsubscribe(),delete this.documentScroller)}testForSmartPopoverContentContainer(t){let e=t.target;for(;e.classList&&"body"!==e.parentElement.localName;)e=e.parentElement;return!!e.classList&&!e.classList.contains("clr-popover-content")}addClickListener(){this.outsideClickClose&&(this.documentClickListener=this.renderer.listen(this.document,"click",t=>{t===this.ignoredEvent?delete this.ignoredEvent:(this.smartOpenService.open=!1,t.target.focus())}))}removeClickListener(){this.outsideClickClose&&(delete this.ignoredEvent,this.documentClickListener&&(this.documentClickListener(),delete this.documentClickListener))}addEscapeListener(){this.escapeListener=this.renderer.listen(this.document,"keydown.escape",()=>{this.smartOpenService.open=!1,this.setAnchorFocus()})}removeEscapeListener(){this.escapeListener&&(this.escapeListener(),delete this.escapeListener)}set anchorButtonRef(t){this._anchorButtonRef=t}get anchorButtonRef(){return this._anchorButtonRef}set closeButtonRef(t){this._closeButtonRef=t}get closeButtonRef(){return this._closeButtonRef}setCloseFocus(){this._closeButtonRef.nativeElement.focus()}setAnchorFocus(){this.anchorButtonRef.nativeElement.focus()}set contentRef(t){this._contentRef=t}get contentRef(){return this._contentRef}removeAllEventListeners(){this.removeScrollListener(),this.removeClickListener(),this.removeEscapeListener()}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe()),this.removeAllEventListeners()}}return t.\u0275fac=function(e){return new(e||t)(i.Ub(i.E),i.Ub(hr),i.Ub(K.d))},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})();var dr=function(t){return t[t.BOTTOM=0]="BOTTOM",t[t.LEFT=1]="LEFT",t[t.RIGHT=2]="RIGHT",t[t.TOP=3]="TOP",t}({}),pr=function(t){return t[t.START=0]="START",t[t.CENTER=.5]="CENTER",t[t.END=1]="END",t}({});const fr=t=>Object.assign(Object.assign({},t),{side:-1*t.side}),mr=(t,e)=>{const n=t.content+(e?.5:-.5);return n<0||n>1?t:Object.assign(Object.assign({},t),{content:n})};function gr(t,e,n){return i=>e(t(i),n)}function yr(t,e,n){let i=e.left,r=e.top;switch(t.axis+t.side){case-1:i+=_r(t,e,n),r-=n.height;break;case 1:i+=_r(t,e,n),r+=e.height;break;case 0:i-=n.width,r+=br(t,e,n);break;case 2:i+=e.width,r+=br(t,e,n)}return{xOffset:i,yOffset:r}}function _r(t,e,n){let i=0;switch(t.anchor){case pr.START:break;case pr.CENTER:i+=e.width/2;break;case pr.END:i+=e.width}switch(t.content){case pr.START:break;case pr.CENTER:i-=n.width/2;break;case pr.END:i-=n.width}return i}function br(t,e,n){let i=0;switch(t.anchor){case pr.START:break;case pr.CENTER:i+=e.height/2;break;case pr.END:i+=e.height}switch(t.content){case pr.START:break;case pr.CENTER:i-=n.height/2;break;case pr.END:i-=n.height}return i}var vr=function(t){return t[t.VERTICAL=0]="VERTICAL",t[t.HORIZONTAL=1]="HORIZONTAL",t}({});let Sr=(()=>{class t{constructor(t,e){this.eventService=t,this.platformId=e,this._shouldRealign=new Z.a,this.shouldRealign=this._shouldRealign.asObservable()}realign(){this._shouldRealign.next()}set position(t){this._position=t}get position(){return this._position}alignContent(t){if(!Object(K.A)(this.platformId))return{xOffset:0,yOffset:0};this.currentAnchorCoords=this.eventService.anchorButtonRef.nativeElement.getBoundingClientRect(),this.currentContentCoords=t.getBoundingClientRect(),this.contentOffsets=yr(this.position,this.currentAnchorCoords,this.currentContentCoords);const e=function(t,e){const n=[],i=t.yOffset+e.height,r=t.xOffset,s=t.xOffset+e.width;return t.yOffset>=0||n.push(dr.TOP),r>=0||n.push(dr.LEFT),i<=(window.innerHeight||document.documentElement.clientHeight)||n.push(dr.BOTTOM),s<=(window.innerWidth||document.documentElement.clientWidth)||n.push(dr.RIGHT),n}(this.contentOffsets,this.currentContentCoords),n=e.reduce((t,e)=>t+e,0);return 1===e.length&&this.position.axis===vr.VERTICAL?this.handleVerticalAxisOneViolation(n):1===e.length&&this.position.axis===vr.HORIZONTAL?this.handleHorizontalAxisOneViolation(n):2===e.length&&this.position.axis===vr.VERTICAL?this.handleVerticalAxisTwoViolations(n):2===e.length&&this.position.axis===vr.HORIZONTAL&&this.handleHorizontalAxisTwoViolations(n),this.contentOffsets}handleVerticalAxisOneViolation(t){switch(t){case 0:case 3:this.contentOffsets=yr(fr(this.position),this.currentAnchorCoords,this.currentContentCoords);break;case 1:this.contentOffsets=yr(mr(this.position),this.currentAnchorCoords,this.currentContentCoords);break;case 2:this.contentOffsets=yr(mr(this.position,!0),this.currentAnchorCoords,this.currentContentCoords)}}handleVerticalAxisTwoViolations(t){switch(t){case 5:{const t=gr(fr,mr,!0);this.contentOffsets=yr(t(this.position),this.currentAnchorCoords,this.currentContentCoords);break}case 4:{const t=gr(fr,mr,!1);this.contentOffsets=yr(t(this.position),this.currentAnchorCoords,this.currentContentCoords);break}case 3:break;case 2:{const t=gr(fr,mr,!0);this.contentOffsets=yr(t(this.position),this.currentAnchorCoords,this.currentContentCoords);break}case 1:{const t=gr(fr,mr,!1);this.contentOffsets=yr(t(this.position),this.currentAnchorCoords,this.currentContentCoords);break}}}handleHorizontalAxisOneViolation(t){switch(t){case 1:case 2:this.contentOffsets=yr(fr(this.position),this.currentAnchorCoords,this.currentContentCoords);break;case 0:this.contentOffsets=yr(mr(this.position,!0),this.currentAnchorCoords,this.currentContentCoords);break;case 3:this.contentOffsets=yr(mr(this.position),this.currentAnchorCoords,this.currentContentCoords)}}handleHorizontalAxisTwoViolations(t){switch(t){case 5:case 4:{const t=gr(fr,mr,!1);this.contentOffsets=yr(t(this.position),this.currentAnchorCoords,this.currentContentCoords);break}case 3:break;case 2:case 1:{const t=gr(fr,mr,!0);this.contentOffsets=yr(t(this.position),this.currentAnchorCoords,this.currentContentCoords);break}}}}return t.\u0275fac=function(e){return new(e||t)(i.Ub(ur),i.Ub(i.C))},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})(),Tr=(()=>{class t{constructor(t,e,n,r,s,o,a){this.document=t,this.container=e,this.template=n,this.renderer=r,this.smartPositionService=s,this.smartEventsService=o,this.smartOpenService=a,this.subscriptions=[],this.shouldRealign=!1,this.checkCollector=new i.n}set open(t){this.smartOpenService.open=!!t}set contentAt(t){this.smartPositionService.position=t}set outsideClickClose(t){this.smartEventsService.outsideClickClose=!!t}set scrollToClose(t){this.smartEventsService.scrollToClose=!!t}ngAfterViewInit(){this.subscriptions.push(this.smartOpenService.openChange.subscribe(t=>{t?this.addContent():this.removeContent()}),this.smartPositionService.shouldRealign.subscribe(()=>{this.shouldRealign=!0,this.view&&this.renderer.setStyle(this.view.rootNodes[0],"opacity","0")}),this.checkCollector.pipe(at(0)).subscribe(()=>{this.alignContent(),this.shouldRealign=!1,this.view&&this.renderer.setStyle(this.view.rootNodes[0],"opacity","1")}))}ngOnDestroy(){this.removeContent(),this.subscriptions.forEach(t=>t.unsubscribe())}removeContent(){this.view&&(this.view.rootNodes.forEach(t=>this.renderer.removeChild(this.document.body,t)),this.container.clear(),delete this.view)}addContent(){this.view=this.container.createEmbeddedView(this.template),this.smartEventsService.contentRef=this.view.rootNodes[0],this.renderer.addClass(this.view.rootNodes[0],"clr-popover-content"),this.renderer.setStyle(this.view.rootNodes[0],"top","0px"),this.renderer.setStyle(this.view.rootNodes[0],"left","0px"),this.renderer.setStyle(this.view.rootNodes[0],"opacity","0"),this.renderer.listen(this.view.rootNodes[0],"click",t=>{this.smartOpenService.openEvent=t}),this.view.rootNodes.forEach(t=>{this.renderer.appendChild(this.document.body,t)}),this.shouldRealign=!0}ngAfterContentChecked(){this.smartOpenService.open&&this.view&&this.shouldRealign&&this.checkCollector.emit()}alignContent(){if(!this.view)return;const t=this.smartPositionService.alignContent(this.view.rootNodes[0]);this.renderer.setStyle(this.view.rootNodes[0],"top",`${t.yOffset}px`),this.renderer.setStyle(this.view.rootNodes[0],"left",`${t.xOffset}px`),this.smartOpenService.popoverAlignedEmit(this.view.rootNodes[0])}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(K.d),i.Kb(i.P),i.Kb(i.L),i.Kb(i.E),i.Kb(Sr),i.Kb(ur),i.Kb(hr))},t.\u0275dir=i.Fb({type:t,selectors:[["","clrPopoverContent",""]],inputs:{open:["clrPopoverContent","open"],contentAt:["clrPopoverContentAt","contentAt"],outsideClickClose:["clrPopoverContentOutsideClickToClose","outsideClickClose"],scrollToClose:["clrPopoverContentScrollToClose","scrollToClose"]}}),t})(),xr=(()=>{class t{constructor(t){this.smartOpenService=t,this.subscriptions=[],this.openCloseChange=new i.n,this.subscriptions.push(this.smartOpenService.openChange.subscribe(t=>{this.openCloseChange.next(t)}))}handleClick(t){this.smartOpenService.toggleWithEvent(t)}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(hr))},t.\u0275dir=i.Fb({type:t,selectors:[["","clrPopoverOpenCloseButton",""]],hostVars:2,hostBindings:function(t,e){1&t&&i.Xb("click",function(t){return e.handleClick(t)}),2&t&&i.Cb("clr-smart-open-close",!0)},outputs:{openCloseChange:"clrPopoverOpenCloseChange"}}),t})(),wr=(()=>{class t{constructor(t,e,n){this.elementRef=t,this.smartEventsService=e,this.smartOpenService=n,this.subscriptions=[],this.closeChange=new i.n,this.subscriptions.push(n.openChange.pipe(Object(rt.a)(t=>!t)).subscribe(()=>{this.closeChange.next()}))}handleClick(t){this.smartOpenService.toggleWithEvent(t),this.smartEventsService.setAnchorFocus()}ngAfterViewInit(){this.smartEventsService.closeButtonRef=this.elementRef,this.smartEventsService.setCloseFocus()}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(i.l),i.Kb(ur),i.Kb(hr))},t.\u0275dir=i.Fb({type:t,selectors:[["","clrPopoverCloseButton",""]],hostVars:2,hostBindings:function(t,e){1&t&&i.Xb("click",function(t){return e.handleClick(t)}),2&t&&i.Cb("clr-smart-close-button",!0)},outputs:{closeChange:"clrPopoverOnCloseChange"}}),t})(),Er=(()=>{class t{constructor(t,e){t.anchorButtonRef=e}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(ur),i.Kb(i.l))},t.\u0275dir=i.Fb({type:t,selectors:[["","clrPopoverAnchor",""]],hostVars:2,hostBindings:function(t,e){2&t&&i.Cb("clr-anchor",!0)}}),t})(),Cr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({imports:[[]]}),t})();class Mr{}var Or=function(t){return t[t.DEFAULT=0]="DEFAULT",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.ERROR=3]="ERROR",t}({});const Ar={open:"Open",close:"Close",show:"Show",hide:"Hide",expand:"Expand",collapse:"Collapse",more:"More",select:"Select",selectAll:"Select All",previous:"Previous",next:"Next",current:"Jump to current",info:"Info",success:"Success",warning:"Warning",danger:"Error",rowActions:"Available actions",pickColumns:"Show or hide columns",showColumns:"Show Columns",sortColumn:"Sort Column",firstPage:"First Page",lastPage:"Last Page",nextPage:"Next Page",previousPage:"Previous Page",currentPage:"Current Page",totalPages:"Total Pages",filterItems:"Filter items",minValue:"Min value",maxValue:"Max value",modalContentStart:"Beginning of Modal Content",modalContentEnd:"End of Modal Content",showColumnsMenuDescription:"Show or hide columns menu",allColumnsSelected:"All columns selected",signpostToggle:"Signpost Toggle",signpostClose:"Signpost Close",loading:"Loading",detailPaneStart:"Start of row details",detailPaneEnd:"End of row details",singleSelectionAriaLabel:"Single selection header",singleActionableAriaLabel:"Single actionable header",detailExpandableAriaLabel:"Toggle more row content",datagridFilterAriaLabel:"Toggle column filter",columnSeparatorAriaLabel:"Column resize handle",columnSeparatorDescription:"Not necessary to use this button",alertCloseButtonAriaLabel:"Close alert",datepickerToggle:"Toggle datepicker",datepickerPreviousMonth:"Previous month",datepickerCurrentMonth:"Current month",datepickerNextMonth:"Next month",datepickerPreviousDecade:"Previous decade",datepickerNextDecade:"Next decade",datepickerCurrentDecade:"Current decade",datepickerSelectMonthText:"Select month, the current month is {CALENDAR_MONTH}",datepickerSelectYearText:"Select year, the current year is {CALENDAR_YEAR}",stackViewChanged:"Value changed.",verticalNavGroupToggle:"Toggle vertical navigation group",verticalNavToggle:"Toggle vertical navigation",timelineStepNotStarted:"Not started",timelineStepCurrent:"Current",timelineStepSuccess:"Completed",timelineStepError:"Error",timelineStepProcessing:"In progress",comboboxDelete:"Delete selected option",comboboxSearching:'Searching for matches for "{INPUT}"',comboboxSelection:"Selection",comboboxSelected:"Selected",comboboxNoResults:"No results",comboboxOpen:"Show options",dategridExpandableBeginningOf:"Beginning of",dategridExpandableEndOf:"End of",dategridExpandableRowContent:"Expandable row content",dategridExpandableRowsHelperText:"Screen reader table commands may not work for viewing expanded content, please use your screen reader's browse mode to read the content exposed by this button"};let Ir=(()=>{class t{constructor(){this._strings=Ar}localize(t){this._strings=Object.assign(Object.assign({},this._strings),t)}get keys(){return this._strings}parse(t,e={}){const n=Object.keys(e);let i=t;return n.length&&n.forEach(t=>{i=i.replace(`{${t}}`,e[t])}),i}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Gb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Rr=0;const Lr=new i.r("UNIQUE_ID"),Pr={provide:Lr,useFactory:function(){return"clr-id-"+Rr++}};var Dr=function(t){return t[t.BEFORE=-1]="BEFORE",t[t.AFTER=1]="AFTER",t}({});let Nr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({imports:[[K.c,or,Cr]]}),t})(),jr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({imports:[[K.c]]}),t})(),kr=(()=>{class t{constructor(){E.addIcons(C)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({imports:[jr,Nr]}),t})(),Fr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Eb({type:t,selectors:[["ng-component"]],decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})(),Ur=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({}),t})();class Gr{constructor(t,e,n=0){if(this.injector=e.injector,!this.injector.get(t,null)){const r=this.injector.get(i.j),s=this.injector.get(i.l);e.createComponent(r.resolveComponentFactory(Fr));const o=r.resolveComponentFactory(t),a=[];a[n]=[s.nativeElement];const l=e.createComponent(o,void 0,void 0,a);e.remove(0),l.instance._dynamic=!0,this.injector=l.injector}}get(t,e){return this.injector.get(t,e)}}let Vr=0,Br=(()=>{class t{constructor(){this._id="clr-form-control-"+ ++Vr,this._idChange=new Q.a(this._id)}get id(){return this._id}set id(t){this._id=t,this._idChange.next(t)}get idChange(){return this._idChange.asObservable()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})(),zr=(()=>{class t{constructor(){this._controlChanges=new Z.a,this._helpers=new Z.a}get controlChanges(){return this._controlChanges.asObservable()}setControl(t){this._controlChanges.next(t)}get helpersChange(){return this._helpers.asObservable()}setHelpers(t){this._helpers.next(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})();var Hr=function(t){return t.VERTICAL="vertical",t.HORIZONTAL="horizontal",t.COMPACT="compact",t}({});let Xr=(()=>{class t{constructor(){this.minLabelSize=1,this.maxLabelSize=12,this.layout=Hr.HORIZONTAL,this.layoutValues=Object.keys(Hr).map(t=>Hr[t]),this._labelSize=2}set labelSize(t){this.labelSizeIsValid(t)&&(this._labelSize=t)}get labelSize(){return this._labelSize}isVertical(){return this.layout===Hr.VERTICAL}isHorizontal(){return this.layout===Hr.HORIZONTAL}isCompact(){return this.layout===Hr.COMPACT}get layoutClass(){return`clr-form-${this.layout}`}isValid(t){return this.layoutValues.indexOf(t)>-1}labelSizeIsValid(t){return Number.isInteger(t)&&t>=this.minLabelSize&&t<=this.maxLabelSize}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})();var qr=function(t){return t.NONE="NONE",t.VALID="VALID",t.INVALID="INVALID",t}({});let Wr=(()=>{class t{constructor(t){this.ngControlService=t,this.subscriptions=[],this._statusChanges=new Q.a(qr.NONE),this.subscriptions.push(this.ngControlService.controlChanges.subscribe(t=>{t&&(this.control=t,this.subscriptions.push(this.control.statusChanges.subscribe(()=>{this.triggerStatusChange()})))}))}get statusChanges(){return this._statusChanges.asObservable()}triggerStatusChange(){if(this.control){const t=qr[this.control.status];this._statusChanges.next(this.control.touched&&["VALID","INVALID"].includes(t)?t:qr.NONE)}}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(i.Ub(zr))},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})(),Yr=(()=>{class t{constructor(t){this.layoutService=t,this.className=""}controlClass(t=qr.NONE,e=!1,n=""){const i=[this.className,n];switch(t){case qr.VALID:i.push("clr-success");break;case qr.INVALID:i.push("clr-error")}return e&&this.layoutService&&-1===this.className.indexOf("clr-col")&&i.push(`clr-col-md-${this.layoutService.maxLabelSize-this.layoutService.labelSize} clr-col-12`),i.join(" ").trim()}initControlClass(t,e){e&&e.className&&(this.className=e.className,e.className.split(" ").forEach(n=>{n.startsWith("clr-col")&&t.removeClass(e,n)}))}}return t.\u0275fac=function(e){return new(e||t)(i.Ub(Xr,8))},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})(),Kr=(()=>{class t{constructor(){this._touched=new Z.a}get touchedChange(){return this._touched.asObservable()}markAsTouched(){this._touched.next()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})(),Zr=0,Jr=(()=>{class t{constructor(){this._id="clr-form-container-"+ ++Zr,this._idChange=new Q.a(this._id)}get id(){return this._id}set id(t){this._id=t,this._idChange.next(t)}get idChange(){return this._idChange.asObservable()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})(),Qr=(()=>{class t{constructor(t,e){this.controlIdService=t,this.containerIdService=e,this.controlIdSuffix="abstract"}get id(){return this.containerIdService?`${this.containerIdService.id}-${this.controlIdSuffix}`:this.controlIdService?`${this.controlIdService.id}-${this.controlIdSuffix}`:null}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(Br,8),i.Kb(Jr,8))},t.\u0275dir=i.Fb({type:t}),t})(),$r=(()=>{class t{constructor(t,e,n,i,r,s){this.vcr=t,this.wrapperType=e,this.ngControl=i,this.subscriptions=[],this.index=0,this.renderer=r,this.el=s;try{this.ngControlService=n.get(zr),this.ifControlStateService=n.get(Wr),this.controlClassService=n.get(Yr),this.markControlService=n.get(Kr)}catch(o){}this.controlClassService&&this.controlClassService.initControlClass(r,s.nativeElement),this.markControlService&&this.subscriptions.push(this.markControlService.touchedChange.subscribe(()=>{this.markAsTouched()})),this.ngControlService&&this.subscriptions.push(this.ngControlService.helpersChange.subscribe(t=>{this.setAriaDescribedBy(t)}))}get id(){return this._id}set id(t){this._id=t,this.controlIdService&&(this.controlIdService.id=t)}triggerValidation(){this.ifControlStateService&&(this.ngControl&&!this.ngControl.touched&&this.markAsTouched(),this.ifControlStateService.triggerStatusChange())}markAsTouched(){this.ngControl.control.markAsTouched(),this.ngControl.control.updateValueAndValidity()}getProviderFromContainer(t,e){try{return this._containerInjector.get(t,e)}catch(n){return e}}ngOnInit(){this._containerInjector=new Gr(this.wrapperType,this.vcr,this.index),this.controlIdService=this._containerInjector.get(Br);try{this.containerIdService=this._containerInjector.get(Jr)}catch(t){}this._id?this.controlIdService.id=this._id:this._id=this.controlIdService.id,this.ngControlService&&this.ngControlService.setControl(this.ngControl)}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}setAriaDescribedBy(t){if(t.show){const e=this.getAriaDescribedById(t);if(null!==e)return void this.renderer.setAttribute(this.el.nativeElement,"aria-describedby",e)}this.renderer.removeAttribute(this.el.nativeElement,"aria-describedby")}getAriaDescribedById(t){let e="helper";return t.showInvalid?e="error":t.showValid&&(e="success"),this.containerIdService?this.containerIdService.id.concat("-",e):this.controlIdService?this.controlIdService.id.concat("-",e):null}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(i.P),i.Kb(i.N),i.Kb(i.s),i.Kb(ft.i),i.Kb(i.E),i.Kb(i.l))},t.\u0275dir=i.Fb({type:t,hostVars:1,hostBindings:function(t,e){1&t&&i.Xb("blur",function(){return e.triggerValidation()}),2&t&&i.Tb("id",e.id)},inputs:{id:"id"}}),t})(),ts=(()=>{class t{constructor(t,e,n,i,r){this.controlIdService=t,this.layoutService=e,this.ngControlService=n,this.renderer=i,this.el=r,this.subscriptions=[],this.enableGrid=!0}get labelText(){return this.el.nativeElement&&this.el.nativeElement.textContent}ngOnInit(){(this.controlIdService||this.ngControlService)&&this.renderer.addClass(this.el.nativeElement,"clr-control-label"),this.enableGrid&&this.layoutService&&!this.layoutService.isVertical()&&this.el.nativeElement&&this.el.nativeElement.className.indexOf("clr-col")<0&&(this.renderer.addClass(this.el.nativeElement,"clr-col-12"),this.renderer.addClass(this.el.nativeElement,`clr-col-md-${this.layoutService.labelSize}`)),this.controlIdService&&!this.forAttr&&this.subscriptions.push(this.controlIdService.idChange.subscribe(t=>this.forAttr=t))}disableGrid(){this.enableGrid=!1}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(Br,8),i.Kb(Xr,8),i.Kb(zr,8),i.Kb(i.E),i.Kb(i.l))},t.\u0275dir=i.Fb({type:t,selectors:[["label"]],hostVars:1,hostBindings:function(t,e){2&t&&i.Ab("for",e.forAttr)},inputs:{forAttr:["for","forAttr"]}}),t})(),es=(()=>{class t extends Qr{constructor(t,e){super(t,e),this.controlIdService=t,this.containerIdService=e,this.controlIdSuffix="success"}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(Br,8),i.Kb(Jr,8))},t.\u0275cmp=i.Eb({type:t,selectors:[["clr-control-success"]],hostVars:3,hostBindings:function(t,e){2&t&&(i.Ab("id",e.id),i.Cb("clr-subtext",!0))},features:[i.wb],ngContentSelectors:Ne,decls:1,vars:0,template:function(t,e){1&t&&(i.ec(),i.dc(0))},encapsulation:2}),t})(),ns=(()=>{class t extends Qr{constructor(t,e){super(t,e),this.controlIdService=t,this.containerIdService=e,this.controlIdSuffix="error"}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(Br,8),i.Kb(Jr,8))},t.\u0275cmp=i.Eb({type:t,selectors:[["clr-control-error"]],hostVars:3,hostBindings:function(t,e){2&t&&(i.Ab("id",e.id),i.Cb("clr-subtext",!0))},features:[i.wb],ngContentSelectors:Ne,decls:1,vars:0,template:function(t,e){1&t&&(i.ec(),i.dc(0))},encapsulation:2}),t})(),is=(()=>{class t extends Qr{constructor(t,e){super(t,e),this.controlIdService=t,this.containerIdService=e,this.controlIdSuffix="helper"}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(Br,8),i.Kb(Jr,8))},t.\u0275cmp=i.Eb({type:t,selectors:[["clr-control-helper"]],hostVars:3,hostBindings:function(t,e){2&t&&(i.Ab("id",e.id),i.Cb("clr-subtext",!0))},features:[i.wb],ngContentSelectors:Ne,decls:1,vars:0,template:function(t,e){1&t&&(i.ec(),i.dc(0))},encapsulation:2}),t})(),rs=(()=>{class t{constructor(t,e,n,i){this.ifControlStateService=t,this.layoutService=e,this.controlClassService=n,this.ngControlService=i,this.subscriptions=[],this._dynamic=!1,this.subscriptions.push(this.ifControlStateService.statusChanges.subscribe(t=>{this.state=t,this.updateHelpers()})),this.subscriptions.push(this.ngControlService.controlChanges.subscribe(t=>{this.control=t}))}get showHelper(){return 0!=!!this.controlHelperComponent&&(!!this.controlHelperComponent&&this.state===qr.NONE||0==!!this.controlSuccessComponent&&this.state===qr.VALID||0==!!this.controlErrorComponent&&this.state===qr.INVALID)}get showValid(){return this.state===qr.VALID&&!!this.controlSuccessComponent}get showInvalid(){return this.state===qr.INVALID&&!!this.controlErrorComponent}ngAfterContentInit(){this.updateHelpers()}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}controlClass(){return this.controlClassService.controlClass(this.controlSuccessComponent||this.state!==qr.VALID?this.state:qr.NONE,this.addGrid())}addGrid(){return this.layoutService&&!this.layoutService.isVertical()}updateHelpers(){this.ngControlService&&this.ngControlService.setHelpers({show:this.showInvalid||this.showHelper||this.showValid,showInvalid:this.showInvalid,showHelper:this.showHelper,showValid:this.showValid})}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(Wr),i.Kb(Xr,8),i.Kb(Yr),i.Kb(zr))},t.\u0275dir=i.Fb({type:t,contentQueries:function(t,e,n){if(1&t&&(i.Db(n,ts,1),i.Db(n,es,1),i.Db(n,ns,1),i.Db(n,is,1)),2&t){let t;i.kc(t=i.Yb())&&(e.label=t.first),i.kc(t=i.Yb())&&(e.controlSuccessComponent=t.first),i.kc(t=i.Yb())&&(e.controlErrorComponent=t.first),i.kc(t=i.Yb())&&(e.controlHelperComponent=t.first)}}}),t})(),ss=(()=>{class t{constructor(t,e){this.layoutService=t,this.markControlService=e}set labelSize(t){const e=parseInt(t,10)||2;this.layoutService.labelSize=e}markAsTouched(){this.markControlService.markAsTouched()}onFormSubmit(){this.markAsTouched()}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(Xr),i.Kb(Kr))},t.\u0275dir=i.Fb({type:t,selectors:[["","clrForm",""]],contentQueries:function(t,e,n){if(1&t&&i.Db(n,ts,1),2&t){let t;i.kc(t=i.Yb())&&(e.labels=t)}},hostVars:6,hostBindings:function(t,e){1&t&&i.Xb("submit",function(){return e.onFormSubmit()}),2&t&&i.Cb("clr-form",!0)("clr-form-horizontal",e.layoutService.isHorizontal())("clr-form-compact",e.layoutService.isCompact())},inputs:{labelSize:["clrLabelSize","labelSize"]},features:[i.yb([Xr,Kr])]}),t})(),os=(()=>{class t{constructor(t){this.layoutService=t}ngOnInit(){this.layout&&this.layoutService.isValid(this.layout)&&(this.layoutService.layout=this.layout)}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(Xr))},t.\u0275dir=i.Fb({type:t,selectors:[["","clrForm","","clrLayout",""]],inputs:{layout:["clrLayout","layout"]}}),t})(),as=(()=>{class t{constructor(){E.addIcons(M,O)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({imports:[[K.c,or]]}),t})();const ls=new i.r("IS_TOGGLE"),cs={provide:ls,useFactory:function(){return new Q.a(!1)}};let hs=(()=>{class t{constructor(t){this._dynamic=!1,this.toggle=!1,this.subscriptions=[],this.subscriptions.push(t.subscribe(t=>{this.toggle=t}))}ngOnInit(){this.label&&this.label.disableGrid()}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(ls))},t.\u0275cmp=i.Eb({type:t,selectors:[["clr-checkbox-wrapper"],["clr-toggle-wrapper"]],contentQueries:function(t,e,n){if(1&t&&i.Db(n,ts,3),2&t){let t;i.kc(t=i.Yb())&&(e.label=t.first)}},hostVars:4,hostBindings:function(t,e){2&t&&i.Cb("clr-checkbox-wrapper",!e.toggle)("clr-toggle-wrapper",e.toggle)},features:[i.yb([Br,cs])],ngContentSelectors:Fe,decls:3,vars:1,consts:[[4,"ngIf"]],template:function(t,e){1&t&&(i.ec(ke),i.dc(0),i.dc(1,1),i.wc(2,je,1,0,"label",0)),2&t&&(i.zb(2),i.fc("ngIf",!e.label))},directives:[K.n,ts],encapsulation:2}),t})(),us=(()=>{class t extends $r{constructor(t,e,n,i,r,s){super(t,hs,e,n,i,r),this.toggle=s}ngOnInit(){super.ngOnInit();const t=this.getProviderFromContainer(ls,null);t&&null!==this.toggle&&t.next(!0)}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(i.P),i.Kb(i.s),i.Kb(ft.i,10),i.Kb(i.E),i.Kb(i.l),i.Vb("clrToggle"))},t.\u0275dir=i.Fb({type:t,selectors:[["","clrCheckbox",""],["","clrToggle",""]],features:[i.wb]}),t})(),ds=(()=>{class t extends rs{constructor(t,e,n,i){super(i,t,e,n),this.layoutService=t,this.controlClassService=e,this.ngControlService=n,this.ifControlStateService=i,this.inline=!1}set clrInline(t){this.inline="string"==typeof t?"false"!==t:!!t}get clrInline(){return this.inline}ngAfterContentInit(){this.setAriaRoles()}setAriaRoles(){this.role=this.checkboxes.length?"group":null}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(Xr,8),i.Kb(Yr),i.Kb(zr),i.Kb(Wr))},t.\u0275cmp=i.Eb({type:t,selectors:[["clr-checkbox-container"],["clr-toggle-container"]],contentQueries:function(t,e,n){if(1&t&&i.Db(n,us,1),2&t){let t;i.kc(t=i.Yb())&&(e.checkboxes=t)}},hostVars:7,hostBindings:function(t,e){2&t&&(i.Ab("role",e.role),i.Cb("clr-form-control",!0)("clr-form-control-disabled",null==e.control?null:e.control.disabled)("clr-row",e.addGrid()))},inputs:{clrInline:"clrInline"},features:[i.yb([Wr,zr,Yr,Jr]),i.wb],ngContentSelectors:qe,decls:10,vars:9,consts:[[4,"ngIf"],[1,"clr-control-container",3,"ngClass"],[1,"clr-subtext-wrapper"],["class","clr-validate-icon","status","danger","shape","exclamation-circle","aria-hidden","true",4,"ngIf"],["class","clr-validate-icon","status","success","shape","check-circle","aria-hidden","true",4,"ngIf"],["status","danger","shape","exclamation-circle","aria-hidden","true",1,"clr-validate-icon"],["status","success","shape","check-circle","aria-hidden","true",1,"clr-validate-icon"]],template:function(t,e){1&t&&(i.ec(Xe),i.dc(0),i.wc(1,Ue,1,0,"label",0),i.Qb(2,"div",1),i.dc(3,1),i.Qb(4,"div",2),i.wc(5,Ge,1,0,"ng-content",0),i.wc(6,Ve,1,0,"cds-icon",3),i.wc(7,Be,1,0,"cds-icon",4),i.wc(8,ze,1,0,"ng-content",0),i.wc(9,He,1,0,"ng-content",0),i.Pb(),i.Pb()),2&t&&(i.zb(1),i.fc("ngIf",!e.label&&e.addGrid()),i.zb(1),i.Cb("clr-control-inline",e.clrInline),i.fc("ngClass",e.controlClass()),i.zb(3),i.fc("ngIf",e.showHelper),i.zb(1),i.fc("ngIf",e.showInvalid),i.zb(1),i.fc("ngIf",e.showValid),i.zb(1),i.fc("ngIf",e.showInvalid),i.zb(1),i.fc("ngIf",e.showValid))},directives:[K.n,K.l,ts,sr],encapsulation:2}),t})(),ps=(()=>{class t{constructor(){E.addIcons(M,O)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({imports:[[K.c,or,as,Ur],as]}),t})();new i.r("IF_ACTIVE_ID");let fs=(()=>{class t{constructor(t,e,n){this.toggleService=t,this.template=e,this.container=n,this.openChange=new i.n(!1),this.subscription=this.toggleService.openChange.subscribe(t=>{this.updateView(t),this.openChange.emit(t)})}set open(t){this.toggleService.open=t}get open(){return this.toggleService.open}updateView(t){t?this.container.createEmbeddedView(this.template):this.container.clear()}ngOnDestroy(){this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(hr),i.Kb(i.L),i.Kb(i.P))},t.\u0275dir=i.Fb({type:t,selectors:[["","clrIfOpen",""]],inputs:{open:["clrIfOpen","open"]},outputs:{openChange:"clrIfOpenChange"}}),t})(),ms=(()=>{class t{constructor(){this.expandable=0,this._loading=!1,this._expanded=!1,this._expandChange=new Z.a}get loading(){return this._loading}set loading(t){(t=!!t)!==this._loading&&(this._loading=t)}get expanded(){return this._expanded}set expanded(t){(t=!!t)!==this._expanded&&(this._expanded=t,this._expandChange.next(t))}toggle(){this.expanded=!this._expanded}get expandChange(){return this._expandChange.asObservable()}loadingStateChange(t){switch(t){case Or.LOADING:this.loading=!0;break;default:this.loading=!1}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})(),gs=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({imports:[[K.c]]}),t})(),ys=(()=>{class t{constructor(){this._previousFocusTraps=[]}get current(){return this._current}set current(t){this._previousFocusTraps.push(this._current),this._current=t}get nbFocusTrappers(){return this._previousFocusTraps.length}activatePreviousTrapper(){this._current=this._previousFocusTraps.pop()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Gb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),_s=(()=>{class t{constructor(t,e,n,i,r){this.el=t,this.injector=e,this.focusTrapsTracker=n,this.renderer=i,this.platformId=r,this.localFocusEscaped=!1,this._config={strict:!0},this.document=this.injector.get(K.d),this.focusTrapsTracker.current=this}set config(t){this._config=Object.assign(this._config,""===t?{}:t)}onFocusIn(t){const e=this.el.nativeElement;this.focusTrapsTracker.current!==this||!Object(K.A)(this.platformId)||this.localFocusEscaped||e.contains(t.target)||(t.target===this.topReboundEl&&e.contains(t.relatedTarget)?(this.focusLastFocusable(),this.focusTrapElIfOutside()):t.target===this.bottomReboundEl&&e.contains(t.relatedTarget)?(this.focusFirstFocusable(),this.focusTrapElIfOutside()):this._config.strict?this.el.nativeElement.focus():this.localFocusEscaped=!0)}createFocusableOffScreenEl(){const t=this.document.createElement("span");return this.renderer.setAttribute(t,"tabindex","0"),this.renderer.addClass(t,"offscreen-focus-rebounder"),t}addReboundEls(){if(Object(K.A)(this.platformId)){this.topReboundEl=this.createFocusableOffScreenEl(),this.bottomReboundEl=this.createFocusableOffScreenEl();const t=this.el.nativeElement;this.renderer.insertBefore(t.parentElement,this.topReboundEl,t),t.nextSibling?this.renderer.insertBefore(t.parentNode,this.bottomReboundEl,t.nextSibling):this.renderer.appendChild(t.parentNode,this.bottomReboundEl)}}removeReboundEls(){Object(K.A)(this.platformId)&&this.topReboundEl&&this.bottomReboundEl&&(this.parentElement.removeChild(this.topReboundEl),this.parentElement.removeChild(this.bottomReboundEl),delete this.topReboundEl,delete this.bottomReboundEl)}setPreviousFocus(){this.previousActiveElement&&this.previousActiveElement.focus&&this.previousActiveElement.focus()}ngOnInit(){Object(K.A)(this.platformId)&&(this.renderer.setAttribute(this.el.nativeElement,"tabindex","-1"),this.el.nativeElement.focus())}ngAfterViewInit(){Object(K.A)(this.platformId)&&(this.previousActiveElement=this.document.activeElement,this.parentElement=this.el.nativeElement.parentElement),this.addReboundEls()}get potentiallyFocusableEls(){return[...this.el.nativeElement.querySelectorAll('[href]:not([tabindex="-1"]), button:not([disabled]):not([tabindex="-1"]), input:not([disabled]):not([tabindex="-1"]), select:not([disabled]):not([tabindex="-1"]), textarea:not([disabled]):not([tabindex="-1"]), [contenteditable="true"]:not([tabindex="-1"]), [tabindex]:not([tabindex="-1"]) ')]}focusFirstFocusable(){for(let t=0;t<this.potentiallyFocusableEls.length&&(this.firstFocusableEl=this.focusElement(this.potentiallyFocusableEls[t]),!this.firstFocusableEl);t++);}focusLastFocusable(){for(let t=this.potentiallyFocusableEls.length-1;t>=0&&(this.lastFocusableEl=this.focusElement(this.potentiallyFocusableEls[t]),!this.lastFocusableEl);t--);}focusTrapElIfOutside(){this.el.nativeElement.contains(document.activeElement)||this.el.nativeElement.focus()}focusElement(t){if(t&&t.focus&&(t.focus(),document.activeElement===t))return t}ngOnDestroy(){this.removeReboundEls(),this.setPreviousFocus(),this.focusTrapsTracker.activatePreviousTrapper()}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(i.l),i.Kb(i.s),i.Kb(ys),i.Kb(i.E),i.Kb(i.C))},t.\u0275dir=i.Fb({type:t,selectors:[["","clrFocusTrap",""]],hostBindings:function(t,e){1&t&&i.Xb("focusin",function(t){return e.onFocusIn(t)},!1,i.nc)},inputs:{config:["clrFocusTrap","config"]}}),t})(),bs=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({imports:[[K.c]]}),t})();function vs(t){return null!==t&&("string"==typeof t?t.length>=0:"boolean"==typeof t&&t)}let Ss=(()=>{class t{constructor(){E.addIcons(M,O,A,I,R)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({imports:[[K.c,Ur,gs,Cr,or,bs,as]]}),t})(),Ts=(()=>{class t extends rs{}return t.\u0275fac=function(e){return xs(e||t)},t.\u0275cmp=i.Eb({type:t,selectors:[["clr-input-container"]],hostVars:6,hostBindings:function(t,e){2&t&&i.Cb("clr-form-control",!0)("clr-form-control-disabled",null==e.control?null:e.control.disabled)("clr-row",e.addGrid())},features:[i.yb([Wr,zr,Br,Yr]),i.wb],ngContentSelectors:tn,decls:10,vars:7,consts:[[4,"ngIf"],[1,"clr-control-container",3,"ngClass"],[1,"clr-input-wrapper"],["class","clr-validate-icon","shape","exclamation-circle","aria-hidden","true",4,"ngIf"],["class","clr-validate-icon","shape","check-circle","status","success","aria-hidden","true",4,"ngIf"],["shape","exclamation-circle","aria-hidden","true",1,"clr-validate-icon"],["shape","check-circle","status","success","aria-hidden","true",1,"clr-validate-icon"]],template:function(t,e){1&t&&(i.ec($e),i.dc(0),i.wc(1,We,1,0,"label",0),i.Qb(2,"div",1),i.Qb(3,"div",2),i.dc(4,1),i.wc(5,Ye,1,0,"cds-icon",3),i.wc(6,Ke,1,0,"cds-icon",4),i.Pb(),i.wc(7,Ze,1,0,"ng-content",0),i.wc(8,Je,1,0,"ng-content",0),i.wc(9,Qe,1,0,"ng-content",0),i.Pb()),2&t&&(i.zb(1),i.fc("ngIf",!e.label&&e.addGrid()),i.zb(1),i.fc("ngClass",e.controlClass()),i.zb(3),i.fc("ngIf",e.showInvalid),i.zb(1),i.fc("ngIf",e.showValid),i.zb(1),i.fc("ngIf",e.showHelper),i.zb(1),i.fc("ngIf",e.showInvalid),i.zb(1),i.fc("ngIf",e.showValid))},directives:[K.n,K.l,ts,sr],encapsulation:2}),t})();const xs=i.Sb(Ts);let ws=(()=>{class t extends $r{constructor(t,e,n,i,r){super(t,Ts,e,n,i,r),this.index=1}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(i.P),i.Kb(i.s),i.Kb(ft.i,10),i.Kb(i.E),i.Kb(i.l))},t.\u0275dir=i.Fb({type:t,selectors:[["","clrInput",""]],hostVars:2,hostBindings:function(t,e){2&t&&i.Cb("clr-input",!0)},features:[i.wb]}),t})(),Es=(()=>{class t{constructor(){E.addIcons(M,O)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({imports:[[K.c,ft.h,or,as],as]}),t})();new i.r(void 0);let Cs=(()=>{class t{constructor(){E.addIcons(L,P,M,O)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({imports:[[K.c,ft.h,or,as],as]}),t})(),Ms=(()=>{class t{constructor(){this._dynamic=!1}ngOnInit(){this.label&&this.label.disableGrid()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Eb({type:t,selectors:[["clr-radio-wrapper"]],contentQueries:function(t,e,n){if(1&t&&i.Db(n,ts,3),2&t){let t;i.kc(t=i.Yb())&&(e.label=t.first)}},hostVars:2,hostBindings:function(t,e){2&t&&i.Cb("clr-radio-wrapper",!0)},features:[i.yb([Br])],ngContentSelectors:rn,decls:3,vars:1,consts:[[4,"ngIf"]],template:function(t,e){1&t&&(i.ec(nn),i.dc(0),i.dc(1,1),i.wc(2,en,1,0,"label",0)),2&t&&(i.zb(2),i.fc("ngIf",!e.label))},directives:[K.n,ts],encapsulation:2}),t})(),Os=(()=>{class t extends $r{constructor(t,e,n,i,r){super(t,Ms,e,n,i,r)}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(i.P),i.Kb(i.s),i.Kb(ft.i,10),i.Kb(i.E),i.Kb(i.l))},t.\u0275dir=i.Fb({type:t,selectors:[["","clrRadio",""]],features:[i.wb]}),t})(),As=(()=>{class t{constructor(){E.addIcons(M,O)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({imports:[[K.c,as,Ur,or],as]}),t})(),Is=(()=>{class t extends rs{constructor(t,e,n,i){super(i,t,e,n),this.layoutService=t,this.controlClassService=e,this.ngControlService=n,this.ifControlStateService=i,this.multi=!1}ngOnInit(){this.subscriptions.push(this.ngControlService.controlChanges.subscribe(t=>{t&&(this.multi=t.valueAccessor instanceof ft.u,this.control=t)}))}wrapperClass(){return this.multi?"clr-multiselect-wrapper":"clr-select-wrapper"}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(Xr,8),i.Kb(Yr),i.Kb(zr),i.Kb(Wr))},t.\u0275cmp=i.Eb({type:t,selectors:[["clr-select-container"]],contentQueries:function(t,e,n){if(1&t&&i.Db(n,ft.u,1),2&t){let t;i.kc(t=i.Yb())&&(e.multiple=t.first)}},hostVars:6,hostBindings:function(t,e){2&t&&i.Cb("clr-form-control",!0)("clr-form-control-disabled",null==e.control?null:e.control.disabled)("clr-row",e.addGrid())},features:[i.yb([Wr,zr,Br,Yr]),i.wb],ngContentSelectors:dn,decls:10,vars:8,consts:[[4,"ngIf"],[1,"clr-control-container",3,"ngClass"],[3,"ngClass"],["class","clr-validate-icon","status","danger","shape","exclamation-circle","aria-hidden","true",4,"ngIf"],["class","clr-validate-icon","shape","check-circle","status","success","aria-hidden","true",4,"ngIf"],["status","danger","shape","exclamation-circle","aria-hidden","true",1,"clr-validate-icon"],["shape","check-circle","status","success","aria-hidden","true",1,"clr-validate-icon"]],template:function(t,e){1&t&&(i.ec(un),i.dc(0),i.wc(1,sn,1,0,"label",0),i.Qb(2,"div",1),i.Qb(3,"div",2),i.dc(4,1),i.wc(5,on,1,0,"cds-icon",3),i.wc(6,an,1,0,"cds-icon",4),i.Pb(),i.wc(7,ln,1,0,"ng-content",0),i.wc(8,cn,1,0,"ng-content",0),i.wc(9,hn,1,0,"ng-content",0),i.Pb()),2&t&&(i.zb(1),i.fc("ngIf",!e.label&&e.addGrid()),i.zb(1),i.fc("ngClass",e.controlClass()),i.zb(1),i.fc("ngClass",e.wrapperClass()),i.zb(2),i.fc("ngIf",e.showInvalid),i.zb(1),i.fc("ngIf",e.showValid),i.zb(1),i.fc("ngIf",e.showHelper),i.zb(1),i.fc("ngIf",e.showInvalid),i.zb(1),i.fc("ngIf",e.showValid))},directives:[K.n,K.l,ts,sr],encapsulation:2}),t})(),Rs=(()=>{class t extends $r{constructor(t,e,n,i,r){super(t,Is,e,n,i,r),this.index=1}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(i.P),i.Kb(i.s),i.Kb(ft.i,10),i.Kb(i.E),i.Kb(i.l))},t.\u0275dir=i.Fb({type:t,selectors:[["","clrSelect",""]],hostVars:2,hostBindings:function(t,e){2&t&&i.Cb("clr-select",!0)},features:[i.wb]}),t})(),Ls=(()=>{class t{constructor(){E.addIcons(M,O)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({imports:[[K.c,ft.h,or,as],as]}),t})(),Ps=(()=>{class t{constructor(){E.addIcons(M,O)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({imports:[[K.c,ft.h,or,as],as]}),t})(),Ds=(()=>{class t extends rs{constructor(t,e,n,i,r,s){super(s,t,e,n),this.renderer=i,this.idService=r,this.ifControlStateService=s,this._hasProgress=!1}set hasProgress(t){const e=!!t;e!==this._hasProgress&&(this._hasProgress=e)}get hasProgress(){return this._hasProgress}getRangeProgressFillWidth(){const t=this.renderer.selectRootElement("[clrRange]#"+this.idService.id),e=+t.min;let n=+t.max;return 0===e&&0===n&&(n=100),100*((this.control&&void 0!==this.control.value?this.control.value:(e+n)/2)-e)/(n-e)*t.offsetWidth/100+"px"}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(Xr,8),i.Kb(Yr),i.Kb(zr),i.Kb(i.E),i.Kb(Br),i.Kb(Wr))},t.\u0275cmp=i.Eb({type:t,selectors:[["clr-range-container"]],hostVars:6,hostBindings:function(t,e){2&t&&i.Cb("clr-form-control",!0)("clr-form-control-disabled",null==e.control?null:e.control.disabled)("clr-row",e.addGrid())},inputs:{hasProgress:["clrRangeHasProgress","hasProgress"]},features:[i.yb([Wr,zr,Br,Yr]),i.wb],ngContentSelectors:Sn,decls:11,vars:10,consts:[[4,"ngIf"],[1,"clr-control-container",3,"ngClass"],[1,"clr-range-wrapper"],["class","fill-input",3,"width",4,"ngIf"],["class","clr-validate-icon","status","danger","shape","exclamation-circle","aria-hidden","true",4,"ngIf"],["class","clr-validate-icon","shape","check-circle","status","success","aria-hidden","true",4,"ngIf"],[1,"fill-input"],["status","danger","shape","exclamation-circle","aria-hidden","true",1,"clr-validate-icon"],["shape","check-circle","status","success","aria-hidden","true",1,"clr-validate-icon"]],template:function(t,e){1&t&&(i.ec(vn),i.dc(0),i.wc(1,pn,1,0,"label",0),i.Qb(2,"div",1),i.Qb(3,"div",2),i.dc(4,1),i.wc(5,fn,1,2,"span",3),i.wc(6,mn,1,0,"cds-icon",4),i.wc(7,gn,1,0,"cds-icon",5),i.Pb(),i.wc(8,yn,1,0,"ng-content",0),i.wc(9,_n,1,0,"ng-content",0),i.wc(10,bn,1,0,"ng-content",0),i.Pb()),2&t&&(i.zb(1),i.fc("ngIf",!e.label&&e.addGrid()),i.zb(1),i.fc("ngClass",e.controlClass()),i.zb(1),i.Cb("progress-fill",e.hasProgress),i.zb(2),i.fc("ngIf",e.hasProgress),i.zb(1),i.fc("ngIf",e.showInvalid),i.zb(1),i.fc("ngIf",e.showValid),i.zb(1),i.fc("ngIf",e.showHelper),i.zb(1),i.fc("ngIf",e.showInvalid),i.zb(1),i.fc("ngIf",e.showValid))},directives:[K.n,K.l,ts,sr],encapsulation:2}),t})(),Ns=(()=>{class t extends $r{constructor(t,e,n,i,r){super(t,Ds,e,n,i,r)}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(i.P),i.Kb(i.s),i.Kb(ft.i,10),i.Kb(i.E),i.Kb(i.l))},t.\u0275dir=i.Fb({type:t,selectors:[["","clrRange",""]],hostVars:2,hostBindings:function(t,e){2&t&&i.Cb("clr-range",!0)},features:[i.wb]}),t})(),js=(()=>{class t{constructor(){E.addIcons(M,O)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({imports:[[K.c,as,Ur,or],as]}),t})(),ks=(()=>{class t{constructor(){E.addIcons(M,O)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({imports:[[K.c,Es,or]]}),t})(),Fs=(()=>{class t{constructor(){this.loading=!1,this._currentInput="",this._inputChanged=new Q.a(""),this.inputChanged=this._inputChanged.asObservable(),this._selectionChanged=new tt.a(1)}get currentInput(){return this._currentInput}set currentInput(t){t||this.multiselectable||this.setSelectionValue(null),this._currentInput=t,this._inputChanged.next(t)}get selectionChanged(){return this._selectionChanged.asObservable()}select(t){t&&!this.selectionModel.containsItem(t)&&(this.selectionModel.select(t),this._selectionChanged.next(this.selectionModel))}toggle(t){t&&(this.selectionModel.containsItem(t)?this.selectionModel.unselect(t):this.selectionModel.select(t),this._selectionChanged.next(this.selectionModel))}unselect(t){t&&this.selectionModel.containsItem(t)&&(this.selectionModel.unselect(t),this._selectionChanged.next(this.selectionModel))}get multiselectable(){return this.selectionModel instanceof class{containsItem(t){return!!this.model&&this.model.includes(t)}select(t){this.addItem(t)}unselect(t){this.removeItem(t)}isEmpty(){return!(this.model&&this.model.length>0)}pop(){let t;return this.model&&this.model.length>0&&(t=this.model[this.model.length-1],this.removeItem(t)),t}toString(t,e=-1){let n="";return this.model&&(e>-1?this.model[e]&&(n+=t&&this.model[e][t]?this.model[e][t]:this.model[e].toString()):this.model.forEach(e=>{n+=t&&e[t]?e[t]:e.toString(),n+=" "})),n.trim()}addItem(t){this.containsItem(t)||(this.model=this.model||[],this.model.push(t))}removeItem(t){if(null==this.model)return;const e=this.model.indexOf(t);e>-1&&this.model.splice(e,1),0===this.model.length&&(this.model=null)}}}setSelectionValue(t){this.selectionModel&&this.selectionModel.model!==t&&(this.selectionModel.model||t)&&(this.selectionModel.model=t,this._selectionChanged.next(this.selectionModel))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})();class Us{}function Gs(t){return[Pr,t,{provide:Us,useExisting:t}]}var Vs=function(t){return t.UP="up",t.DOWN="down",t.LEFT="left",t.RIGHT="right",t}({});class Bs extends class{containsItem(t){return this.model===t}select(t){this.model=t}unselect(t){this.containsItem(t)&&(this.model=null)}isEmpty(){return!this.model}pop(){const t=this.model;return this.model=null,t}toString(t){return this.model?t&&this.model[t]?this.model[t]:this.model.toString():""}}{constructor(){super(...arguments),this._focusChanged=new Q.a(null)}get focusChanged(){return this._focusChanged.asObservable()}select(t){this.model!==t&&(this.model=t,this._focusChanged.next(t))}}Gs((()=>{class t{constructor(t,e,n,i,r){this.id=t,this.toggleService=n,this.selectionService=i,this.platformId=r,this.pseudoFocus=new Bs,this.optionData=[],this.handleFocusSubscription(),this.renderer=e.createRenderer(null,null)}handleFocusSubscription(){this.toggleService.openChange.subscribe(t=>{t||(this.pseudoFocus.model=null)})}get trigger(){return this._trigger}set trigger(t){this._trigger=t,this.addFocusOnBlurListener(t)}get listbox(){return this._listbox}set listbox(t){this._listbox=t,this.addFocusOnBlurListener(t)}get textInput(){return this._textInput}set textInput(t){this._textInput=t,this.renderer.listen(t,"keydown",t=>!this.handleTextInput(t)),this.addFocusOnBlurListener(t)}moveFocusTo(t){let e=this.optionData.findIndex(t=>t.equals(this.pseudoFocus.model));t===Vs.UP?-1===e||0===e?e=this.optionData.length-1:e--:t===Vs.DOWN&&(-1===e||e===this.optionData.length-1?e=0:e++),this.pseudoFocus.select(this.optionData[e]),this.pseudoFocus.model&&this.pseudoFocus.model.el&&this.pseudoFocus.model.el.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}openAndMoveTo(t){this.toggleService.open?this.moveFocusTo(t):(this.toggleService.openChange.pipe(Object(ut.a)(1)).subscribe(e=>{e&&this.moveFocusTo(t)}),this.toggleService.open=!0)}handleTextInput(t){let e=!1;const n=cr(t.key);if(t)switch(n){case ar.Enter:this.toggleService.open&&this.pseudoFocus.model&&(this.selectionService.multiselectable?this.selectionService.toggle(this.pseudoFocus.model.value):this.selectionService.select(this.pseudoFocus.model.value),e=!0);break;case ar.Space:this.toggleService.open||(this.toggleService.open=!0,e=!0);break;case ar.ArrowUp:this.preventViewportScrolling(t),this.openAndMoveTo(Vs.UP),e=!0;break;case ar.ArrowDown:this.preventViewportScrolling(t),this.openAndMoveTo(Vs.DOWN),e=!0;break;default:t.key===ar.Tab||this.selectionService.multiselectable&&t.key===ar.Backspace||t.key===ar.Escape||this.toggleService.open||(this.toggleService.open=!0)}return e}preventViewportScrolling(t){t.preventDefault(),t.stopImmediatePropagation()}focusInput(){this.textInput&&Object(K.A)(this.platformId)&&this.textInput.focus()}addFocusOnBlurListener(t){Object(K.A)(this.platformId)&&this.renderer.listen(t,"blur",t=>{this.focusOutOfComponent(t)&&(this.toggleService.open=!1,this.componentCdRef&&this.componentCdRef.detectChanges())})}focusOutOfComponent(t){const e=t.relatedTarget||document.activeElement;return!(this.textInput.contains(e)||this.trigger.contains(e)||this.listbox.contains(e))}focusFirstActive(){if(this.optionData.length>0)if(this.selectionService.selectionModel.isEmpty())this.pseudoFocus.select(this.optionData[0]);else{let t;t=this.selectionService.multiselectable?this.selectionService.selectionModel.model[0]:this.selectionService.selectionModel.model;const e=this.optionData.find(e=>e.value===t);this.pseudoFocus.select(e)}}addOptionValues(t){this.optionData=t}}return t.\u0275fac=function(e){return new(e||t)(i.Ub(Lr),i.Ub(i.F),i.Ub(hr),i.Ub(Fs),i.Ub(i.C))},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})());const zs=new i.r("POPOVER_HOST_ANCHOR");let Hs=(()=>{class t{constructor(t){this.renderer=t,this._unlistenFuncs=[]}get current(){return this._current}reset(t){this._current=t}listenToArrowKeys(t){this._unlistenFuncs.push(this.renderer.listen(t,"keydown.arrowup",()=>!this.move(Vs.UP))),this._unlistenFuncs.push(this.renderer.listen(t,"keydown.arrowdown",()=>!this.move(Vs.DOWN))),this._unlistenFuncs.push(this.renderer.listen(t,"keydown.arrowleft",()=>!this.move(Vs.LEFT))),this._unlistenFuncs.push(this.renderer.listen(t,"keydown.arrowright",()=>!this.move(Vs.RIGHT)))}registerContainer(t){this.renderer.setAttribute(t,"tabindex","0"),this.listenToArrowKeys(t),this._unlistenFuncs.push(this.renderer.listen(t,"keydown.space",()=>!this.activateCurrent())),this._unlistenFuncs.push(this.renderer.listen(t,"keydown.enter",()=>!this.activateCurrent()))}moveTo(t){void 0!==t&&(this.current&&this.current.blur(),t.focus(),this._current=t)}move(t){let e=!1;if(this.current){const n=this.current[t];n&&(Object(et.a)(n)?n:Object($.a)(n)).subscribe(t=>{t&&(this.moveTo(t),e=!0)})}return e}activateCurrent(){return!(!this.current||!this.current.activate||(this.current.activate(),0))}detachListeners(){this._unlistenFuncs.forEach(t=>t())}}return t.\u0275fac=function(e){return new(e||t)(i.Ub(i.E))},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})();new i.B,new i.J;let Xs=(()=>{class t{get spinnerClass(){return!0}get inlineClass(){return this._inline}set clrInline(t){this._inline=vs(t)}get inverseClass(){return this._inverse}set clrInverse(t){this._inverse=vs(t)}get smallClass(){return this._small}set clrSmall(t){this._small=vs(t)}get mediumClass(){return!this._small&&this._medium}set clrMedium(t){this._medium=vs(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Eb({type:t,selectors:[["clr-spinner"]],hostVars:11,hostBindings:function(t,e){2&t&&(i.Ab("aria-busy",!0),i.Cb("spinner",e.spinnerClass)("spinner-inline",e.inlineClass)("spinner-inverse",e.inverseClass)("spinner-sm",e.smallClass)("spinner-md",e.mediumClass))},inputs:{clrInline:"clrInline",clrInverse:"clrInverse",clrSmall:"clrSmall",clrMedium:"clrMedium"},ngContentSelectors:Ne,decls:1,vars:0,template:function(t,e){1&t&&(i.ec(),i.dc(0))},encapsulation:2}),t})(),qs=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({imports:[[K.c]]}),t})(),Ws=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({imports:[[K.c]]}),t})(),Ys=(()=>{class t{constructor(){E.addIcons(M,O,A,D)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({imports:[[K.c,ft.h,or,Ws,as,gs,Cr,qs],as,gs]}),t})(),Ks=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({imports:[[K.c],as,ps,Ys,Ss,Es,Cs,As,Ls,Ps,js,ks]}),t})(),Zs=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({imports:[[K.c]]}),t})(),Js=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({imports:[[K.c]]}),t})(),Qs=(()=>{class t{userDefinedWidth(t){t.classList.add("datagrid-cell-width-zero");const e=this.clientRect(t).width;return t.classList.remove("datagrid-cell-width-zero"),e}scrollBarWidth(t){return t.offsetWidth-t.clientWidth}scrollWidth(t){return t.scrollWidth||0}computedHeight(t){return parseInt(getComputedStyle(t).getPropertyValue("height"),10)}clientRect(t){const e=t.getBoundingClientRect();return{top:parseInt(e.top,10),bottom:parseInt(e.bottom,10),left:parseInt(e.left,10),right:parseInt(e.right,10),width:parseInt(e.width,10),height:parseInt(e.height,10)}}minWidth(t){return parseInt(getComputedStyle(t).getPropertyValue("min-width"),10)}focus(t){t.focus()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})();class $s{constructor(t){this.dragPosition=t.dragPosition,this.group=t.group,this.dragDataTransfer=t.dragDataTransfer,this.dropPointPosition=t.dropPointPosition}}var to=function(t){return t[t.DRAG_START=0]="DRAG_START",t[t.DRAG_MOVE=1]="DRAG_MOVE",t[t.DRAG_END=2]="DRAG_END",t[t.DRAG_ENTER=3]="DRAG_ENTER",t[t.DRAG_LEAVE=4]="DRAG_LEAVE",t[t.DROP=5]="DROP",t}({});let eo=(()=>{class t{constructor(){this.dragStart=new Z.a,this.dragMove=new Z.a,this.dragEnd=new Z.a,this.drop=new Z.a}get dragStarted(){return this.dragStart.asObservable()}get dragMoved(){return this.dragMove.asObservable()}get dragEnded(){return this.dragEnd.asObservable()}get dropped(){return this.drop.asObservable()}broadcast(t){switch(t.type){case to.DRAG_START:this.dragStart.next(t);break;case to.DRAG_MOVE:this.dragMove.next(t);break;case to.DRAG_END:this.dragEnd.next(t);break;case to.DROP:this.drop.next(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Gb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),no=(()=>{class t{constructor(t,e,n){this.ngZone=t,this.renderer=e,this.eventBus=n,this.listeners=[],this.dragStart=new Z.a,this.dragMove=new Z.a,this.dragEnd=new Z.a,this.hasDragStarted=!1,this.dragStartDelay=0}get dragStarted(){return this.dragStart.asObservable()}get dragMoved(){return this.dragMove.asObservable()}get dragEnded(){return this.dragEnd.asObservable()}get dragStartPosition(){return this.initialPosition}attachDragListeners(t){this.draggableEl=t,this.listeners.push(this.customDragEvent(this.draggableEl,"mousedown","mousemove","mouseup")),this.listeners.push(this.customDragEvent(this.draggableEl,"touchstart","touchmove","touchend"))}detachDragListeners(){this.listeners&&this.listeners.map(t=>t()),this.nestedListeners&&this.nestedListeners.map(t=>t()),this.checkDragStartBoundaryListener&&this.checkDragStartBoundaryListener()}getNativeEventObject(t){return t.hasOwnProperty("changedTouches")?t.changedTouches[0]:t}customDragEvent(t,e,n,i){return this.renderer.listen(t,e,t=>{this.initialPosition={pageX:this.getNativeEventObject(t).pageX,pageY:this.getNativeEventObject(t).pageY},this.nestedListeners=[],this.nestedListeners.push(this.renderer.listen("document","selectstart",t=>{t.preventDefault(),t.stopImmediatePropagation()})),this.ngZone.runOutsideAngular(()=>{this.checkDragStartBoundary(n),this.dragStartDelayTimeout=setTimeout(()=>{this.checkDragStartBoundaryListener&&this.checkDragStartBoundaryListener(),this.hasDragStarted=!0,this.broadcast(t,to.DRAG_START),this.nestedListeners.push(this.renderer.listen("document",n,t=>{t.stopImmediatePropagation(),this.hasDragStarted&&this.broadcast(t,to.DRAG_MOVE)}))},this.dragStartDelay)}),this.nestedListeners.push(this.renderer.listen("document",i,t=>{this.hasDragStarted&&(this.hasDragStarted=!1,this.broadcast(t,to.DRAG_END)),clearTimeout(this.dragStartDelayTimeout),this.nestedListeners.map(t=>t()),this.checkDragStartBoundaryListener&&this.checkDragStartBoundaryListener()}))})}checkDragStartBoundary(t){this.checkDragStartBoundaryListener=this.renderer.listen("document",t,t=>{const e=Math.abs(this.getNativeEventObject(t).pageX-this.initialPosition.pageX),n=Math.abs(this.getNativeEventObject(t).pageY-this.initialPosition.pageY);(e>1||n>1)&&(clearTimeout(this.dragStartDelayTimeout),this.checkDragStartBoundaryListener&&this.checkDragStartBoundaryListener())})}broadcast(t,e){const n=this.generateDragEvent(t,e);switch(n.type){case to.DRAG_START:this.dragStart.next(n);break;case to.DRAG_MOVE:this.dragMove.next(n);break;case to.DRAG_END:this.dragEnd.next(n)}n.ghostElement=this.ghostElement,n.dropPointPosition=this.dropPointPosition,this.eventBus.broadcast(n)}generateDragEvent(t,e){const n=this.getNativeEventObject(t);return{type:e,dragPosition:{pageX:n.pageX,pageY:n.pageY,moveX:n.pageX-this.initialPosition.pageX,moveY:n.pageY-this.initialPosition.pageY},group:this.group,dragDataTransfer:this.dragDataTransfer,ghostElement:this.ghostElement}}}return t.\u0275fac=function(e){return new(e||t)(i.Ub(i.A),i.Ub(i.E),i.Ub(eo))},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})(),io=(()=>{class t{constructor(t){this.domAdapter=t}capture(t,e){this.draggableElClientRect=this.domAdapter.clientRect(t),this.snapshotDragEvent=e}discard(){delete this.draggableElClientRect,delete this.snapshotDragEvent}get hasDraggableState(){return!!this.snapshotDragEvent&&!!this.draggableElClientRect}get clientRect(){return this.draggableElClientRect}get dragEvent(){return this.snapshotDragEvent}}return t.\u0275fac=function(e){return new(e||t)(i.Ub(Qs))},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})(),ro=(()=>{class t{constructor(t,e,n,i,r){if(this.el=t,this.dragEventListener=e,this.draggableSnapshot=n,this.renderer=i,this.ngZone=r,this.subscriptions=[],this.leaveAnimConfig={value:0,params:{top:"0px",left:"0px"}},!this.dragEventListener||!this.draggableSnapshot)throw new Error("The clr-draggable-ghost component can only be used inside of a clrDraggable directive.");this.draggableGhostEl=this.el.nativeElement,this.renderer.addClass(this.draggableGhostEl,"draggable-ghost"),this.dragEventListener.ghostElement=this.draggableGhostEl,this.setDefaultGhostSize(this.draggableGhostEl);const s={top:this.draggableSnapshot.hasDraggableState?this.draggableSnapshot.dragEvent.dragPosition.pageY-this.draggableSnapshot.clientRect.top:0,left:this.draggableSnapshot.hasDraggableState?this.draggableSnapshot.dragEvent.dragPosition.pageX-this.draggableSnapshot.clientRect.left:0};let o=!1;this.subscriptions.push(this.dragEventListener.dragMoved.subscribe(t=>{o||(this.draggableSnapshot.hasDraggableState?this.animateToOnLeave(`${this.draggableSnapshot.clientRect.top}px`,`${this.draggableSnapshot.clientRect.left}px`):this.animateToOnLeave(`${this.dragEventListener.dragStartPosition.pageY}px`,`${this.dragEventListener.dragStartPosition.pageY}px`),o=!0);const e=this.findTopLeftPosition(t.dragPosition,s);this.setPositionStyle(this.draggableGhostEl,e.pageX,e.pageY),this.dragEventListener.dropPointPosition=this.findDropPointPosition(e)}))}setDefaultGhostSize(t){this.draggableSnapshot.hasDraggableState&&this.setSizeStyle(t,this.draggableSnapshot.clientRect.width,this.draggableSnapshot.clientRect.height)}animateToOnLeave(t,e){this.ngZone.run(()=>{this.leaveAnimConfig={value:0,params:{top:t,left:e}}})}findTopLeftPosition(t,e){return{pageX:t.pageX-e.left,pageY:t.pageY-e.top}}findDropPointPosition(t){return this.draggableSnapshot.hasDraggableState?{pageX:t.pageX+this.draggableSnapshot.clientRect.width/2,pageY:t.pageY+this.draggableSnapshot.clientRect.height/2}:t}setSizeStyle(t,e,n){this.renderer.setStyle(t,"width",`${e}px`),this.renderer.setStyle(t,"height",`${n}px`)}setPositionStyle(t,e,n){this.renderer.setStyle(t,"left",`${e}px`),this.renderer.setStyle(t,"top",`${n}px`),this.renderer.setStyle(t,"visibility","visible")}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(i.l),i.Kb(no,8),i.Kb(io,8),i.Kb(i.E),i.Kb(i.A))},t.\u0275cmp=i.Eb({type:t,selectors:[["clr-draggable-ghost"]],hostVars:1,hostBindings:function(t,e){2&t&&i.vc("@leaveAnimation",e.leaveAnimConfig)},ngContentSelectors:Ne,decls:1,vars:0,template:function(t,e){1&t&&(i.ec(),i.dc(0))},encapsulation:2,data:{animation:[Object(pt.k)("leaveAnimation",[Object(pt.j)(":leave",[Object(pt.i)({left:"*",top:"*"}),Object(pt.e)("0.2s ease-in-out",Object(pt.i)({top:"{{top}}",left:"{{left}}"}))])])]}}),t})(),so=(()=>{class t{constructor(t,e,n){if(this.template=t,this.container=e,this.dragEventListener=n,this.subscriptions=[],!this.dragEventListener||!this.container)throw new Error("The *clrIfDragged directive can only be used inside of a clrDraggable directive.");this.subscriptions.push(this.dragEventListener.dragStarted.subscribe(()=>{this.container.createEmbeddedView(this.template)})),this.subscriptions.push(this.dragEventListener.dragEnded.subscribe(()=>{this.container.clear()}))}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(i.L),i.Kb(i.P,12),i.Kb(no,8))},t.\u0275dir=i.Fb({type:t,selectors:[["","clrIfDragged",""]]}),t})(),oo=(()=>{class t{constructor(t,e){this.dragEventListener=t,this.renderer=e}get defaultHandleEl(){return this._defaultHandleEl}set defaultHandleEl(t){this._defaultHandleEl=t,this._customHandleEl||this.makeElementHandle(this._defaultHandleEl)}makeElementHandle(t){this._defaultHandleEl&&this._defaultHandleEl!==t&&this.renderer.removeClass(this._defaultHandleEl,"drag-handle"),this.dragEventListener.attachDragListeners(t),this.renderer.addClass(t,"drag-handle")}get customHandleEl(){return this._customHandleEl}registerCustomHandle(t){this.dragEventListener.detachDragListeners(),this._customHandleEl=t,this.makeElementHandle(this._customHandleEl)}unregisterCustomHandle(){this.dragEventListener.detachDragListeners(),this.renderer.removeClass(this._customHandleEl,"drag-handle"),delete this._customHandleEl,this._defaultHandleEl&&this.makeElementHandle(this._defaultHandleEl)}}return t.\u0275fac=function(e){return new(e||t)(i.Ub(no),i.Ub(i.E))},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})(),ao=(()=>{class t{constructor(t){this.renderer=t}enter(){this.renderer.addClass(document.body,"in-drag")}exit(){this.renderer.removeClass(document.body,"in-drag")}}return t.\u0275fac=function(e){return new(e||t)(i.Ub(i.E))},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})(),lo=(()=>{class t{constructor(t,e,n,r,s,o,a,l){this.el=t,this.dragEventListener=e,this.dragHandleRegistrar=n,this.viewContainerRef=r,this.cfr=s,this.injector=o,this.draggableSnapshot=a,this.globalDragMode=l,this.subscriptions=[],this.dragOn=!1,this.dragStartEmitter=new i.n,this.dragMoveEmitter=new i.n,this.dragEndEmitter=new i.n,this.draggableEl=this.el.nativeElement,this.componentFactory=this.cfr.resolveComponentFactory(ro)}set dataTransfer(t){this.dragEventListener.dragDataTransfer=t}set group(t){this.dragEventListener.group=t}set dragStartDelay(t){"number"==typeof t?this.dragEventListener.dragStartDelay=t:"string"==typeof t&&(this.dragEventListener.dragStartDelay=parseInt(t,10)||0)}createDefaultGhost(t){this.draggableSnapshot.capture(this.draggableEl,t),this.viewContainerRef.createComponent(this.componentFactory,0,this.injector,[[this.draggableEl.cloneNode(!0)]])}destroyDefaultGhost(){this.viewContainerRef.clear(),this.draggableSnapshot.discard()}ngAfterContentInit(){this.dragHandleRegistrar.defaultHandleEl=this.draggableEl,this.subscriptions.push(this.dragEventListener.dragStarted.subscribe(t=>{this.globalDragMode.enter(),this.dragOn=!0,this.customGhost||this.createDefaultGhost(t),this.dragStartEmitter.emit(new $s(t))})),this.subscriptions.push(this.dragEventListener.dragMoved.subscribe(t=>{this.dragMoveEmitter.emit(new $s(t))})),this.subscriptions.push(this.dragEventListener.dragEnded.subscribe(t=>{this.globalDragMode.exit(),this.dragOn=!1,this.customGhost||this.destroyDefaultGhost(),this.dragEndEmitter.emit(new $s(t))}))}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe()),this.dragEventListener.detachDragListeners()}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(i.l),i.Kb(no),i.Kb(oo),i.Kb(i.P),i.Kb(i.j),i.Kb(i.s),i.Kb(io),i.Kb(ao))},t.\u0275dir=i.Fb({type:t,selectors:[["","clrDraggable",""]],contentQueries:function(t,e,n){if(1&t&&i.Db(n,so,1),2&t){let t;i.kc(t=i.Yb())&&(e.customGhost=t.first)}},hostVars:4,hostBindings:function(t,e){2&t&&i.Cb("draggable",!0)("being-dragged",e.dragOn)},inputs:{dataTransfer:["clrDraggable","dataTransfer"],group:["clrGroup","group"],dragStartDelay:["clrDragStartDelay","dragStartDelay"]},outputs:{dragStartEmitter:"clrDragStart",dragMoveEmitter:"clrDragMove",dragEndEmitter:"clrDragEnd"},features:[i.yb([no,oo,io,ao,Qs])]}),t})(),co=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({imports:[[K.c]]}),t})(),ho=(()=>{class t{constructor(t,e){this.element=t,this.domAdapter=e,this.startHeight=0}get expandAnimation(){return{value:this.clrExpandTrigger,params:{startHeight:this.startHeight}}}animationDone(){this.updateStartHeight()}updateStartHeight(){this.startHeight=this.domAdapter.computedHeight(this.element.nativeElement)||0}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(i.l),i.Kb(Qs))},t.\u0275cmp=i.Eb({type:t,selectors:[["clr-expandable-animation"]],hostVars:1,hostBindings:function(t,e){1&t&&i.uc("@expandAnimation.done",function(){return e.animationDone()}),2&t&&i.vc("@expandAnimation",e.expandAnimation)},inputs:{clrExpandTrigger:"clrExpandTrigger"},features:[i.yb([Qs])],ngContentSelectors:Ne,decls:1,vars:0,template:function(t,e){1&t&&(i.ec(),i.dc(0))},styles:["[_nghost-%COMP%] {\n        display: block;\n      }"],data:{animation:[Object(pt.k)("expandAnimation",[Object(pt.j)("true <=> false",[Object(pt.i)({height:"{{startHeight}}px",overflow:"hidden"}),Object(pt.e)("0.2s ease-in-out",Object(pt.i)({height:"*"}))])])]}}),t})(),uo=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({imports:[[K.c]]}),t})();const po={provide:new i.r("FOCUS_ON_VIEW_INIT"),useValue:!0};let fo=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({providers:[po],imports:[[K.c]]}),t})();class mo{}let go=(()=>{class t{constructor(){this._change=new Z.a,this.nbChanges=0}get change(){return this._change.asObservable()}changeStart(){this.nbChanges++}changeDone(){0==--this.nbChanges&&this._change.next()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})(),yo=(()=>{class t{constructor(t){this.stateDebouncer=t,this.preventEmit=!1,this.activated=!1,this._size=0,this._change=new Z.a,this._sizeChange=new Z.a,this._current=1}get size(){return this._size}set size(t){const e=this._size;t!==e&&(this.preventEmit||this.stateDebouncer.changeStart(),this._size=t,this._current=0===t?1:Math.floor(e/t*(this._current-1))+1,this.preventEmit||(this._change.next(this._current),this._sizeChange.next(this._size),this.stateDebouncer.changeDone())),this.preventEmit=!1}get totalItems(){return this._totalItems||0}set totalItems(t){this._totalItems=t,this.current>this.last&&(this.current=this.last)}get last(){return this._last?this._last:this.size>0&&this.totalItems?Math.ceil(this.totalItems/this.size):1}set last(t){this._last=t}get change(){return this._change.asObservable()}get sizeChange(){return this._sizeChange.asObservable()}get current(){return this._current}set current(t){t!==this._current&&(this.stateDebouncer.changeStart(),this._current=t,this._change.next(t),this.stateDebouncer.changeDone())}previous(){this.current>1&&this.current--}next(){this.current<this.last&&this.current++}get firstItem(){return 0===this._totalItems?-1:0===this.size?0:(this.current-1)*this.size}get lastItem(){if(0===this._totalItems)return-1;if(0===this.size)return this.totalItems-1;let t=this.current*this.size-1;return this.totalItems&&(t=Math.min(t,this.totalItems-1)),t}resetPageSize(t=!1){this.preventEmit=t,this.size=0}}return t.\u0275fac=function(e){return new(e||t)(i.Ub(go))},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})(),_o=(()=>{class t{constructor(t,e){this._page=t,this.stateDebouncer=e,this._change=new Z.a,this._all=[]}get change(){return this._change.asObservable()}hasActiveFilters(){for(const{filter:t}of this._all)if(t&&t.isActive())return!0;return!1}getActiveFilters(){const t=[];for(const{filter:e}of this._all)e&&e.isActive()&&t.push(e);return t}add(t){const e=t.changes.subscribe(()=>this.resetPageAndEmitFilterChange([t]));let n=!1;const i=new bo(t,()=>{if(n)return;e.unsubscribe();const i=this._all.findIndex(e=>e.filter===t);i>=0&&this._all.splice(i,1),t.isActive()&&this.resetPageAndEmitFilterChange([]),n=!0});return this._all.push(i),t.isActive()&&this.resetPageAndEmitFilterChange([t]),i}accepts(t){for(const{filter:e}of this._all)if(e&&e.isActive()&&!e.accepts(t))return!1;return!0}resetPageAndEmitFilterChange(t){this.stateDebouncer.changeStart(),this._page.current=1,this._change.next(t),this.stateDebouncer.changeDone()}}return t.\u0275fac=function(e){return new(e||t)(i.Ub(yo),i.Ub(go))},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})();class bo{constructor(t,e){this.filter=t,this.unregister=e}}let vo=(()=>{class t{constructor(t){this.filters=t}get filter(){return this.registered&&this.registered.filter}setFilter(t){this.deleteFilter(),t instanceof bo?this.registered=t:t&&(this.registered=this.filters.add(t))}deleteFilter(){this.registered&&(this.registered.unregister(),delete this.registered)}ngOnDestroy(){this.deleteFilter()}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(_o))},t.\u0275dir=i.Fb({type:t}),t})(),So=(()=>{class t extends vo{constructor(t,e,n,r,s){super(t),this.commonStrings=e,this.smartToggleService=n,this.platformId=r,this.popoverId=s,this.subs=[],this.ariaExpanded=!1,this.smartPosition={axis:vr.VERTICAL,side:Dr.AFTER,anchor:pr.END,content:pr.END},this._open=!1,this.openChange=new i.n(!1),this.subs.push(n.openChange.subscribe(t=>{this.open=t,this.ariaExpanded=t}))}get open(){return this._open}set open(t){this.open!==(t=!!t)&&(this.smartToggleService.open=t,this.openChange.emit(t),!t&&Object(K.A)(this.platformId)&&this.anchor.nativeElement.focus(),this._open=t)}set customFilter(t){this.setFilter(t)}get active(){return!!this.filter&&this.filter.isActive()}ngOnDestroy(){super.ngOnDestroy(),this.subs.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(_o),i.Kb(Ir),i.Kb(hr),i.Kb(i.C),i.Kb(Lr))},t.\u0275cmp=i.Eb({type:t,selectors:[["clr-dg-filter"]],viewQuery:function(t,e){if(1&t&&i.Dc(Tn,1,i.l),2&t){let t;i.kc(t=i.Yb())&&(e.anchor=t.first)}},inputs:{open:["clrDgFilterOpen","open"],customFilter:["clrDgFilter","customFilter"]},outputs:{openChange:"clrDgFilterOpenChange"},features:[i.yb([{provide:mo,useExisting:t},Pr]),i.wb],ngContentSelectors:Ne,decls:4,vars:13,consts:[["type","button","clrPopoverAnchor","","clrPopoverOpenCloseButton","",1,"datagrid-filter-toggle"],["anchor",""],["solid",""],["class","datagrid-filter","clrFocusTrap","",3,"id",4,"clrPopoverContent","clrPopoverContentAt","clrPopoverContentOutsideClickToClose","clrPopoverContentScrollToClose"],["clrFocusTrap","",1,"datagrid-filter",3,"id"],[1,"datagrid-filter-close-wrapper"],["type","button","clrPopoverCloseButton","",1,"close"],["shape","window-close"]],template:function(t,e){1&t&&(i.ec(),i.Qb(0,"button",0,1),i.Lb(2,"cds-icon",2),i.Pb(),i.wc(3,xn,5,2,"div",3)),2&t&&(i.Cb("datagrid-filter-open",e.open)("datagrid-filtered",e.active),i.Ab("aria-label",e.commonStrings.keys.datagridFilterAriaLabel)("aria-expanded",e.ariaExpanded)("aria-controls",e.popoverId),i.zb(2),i.Ab("status",e.active?"info":null)("shape",e.active?"filter-grid-circle":"filter-grid"),i.zb(1),i.fc("clrPopoverContent",e.open)("clrPopoverContentAt",e.smartPosition)("clrPopoverContentOutsideClickToClose",!0)("clrPopoverContentScrollToClose",!0))},directives:[Er,xr,sr,Tr,_s,wr],encapsulation:2}),t})();class To{constructor(t){this.prop=t,t.indexOf(".")>=0&&(this.splitProp=t.split("."))}getPropValue(t){if(this.splitProp){let e=t;for(const t of this.splitProp){if(null==e||void 0===e[t])return;e=e[t]}return e}return t[this.prop]}}class xo{constructor(t,e=!1){this.prop=t,this.exact=e,this.nestedProp=new To(t)}accepts(t,e){const n=this.nestedProp.getPropValue(t);return void 0!==n&&(this.exact?(""+n).toLowerCase()===e:(""+n).toLowerCase().indexOf(e)>=0)}}class wo{constructor(t){this.filterFn=t,this._changes=new Z.a,this._lowerCaseValue="",this._rawValue=""}get changes(){return this._changes.asObservable()}get lowerCaseValue(){return this._lowerCaseValue}get value(){return this._rawValue}set value(t){t||(t=""),t!==this._rawValue&&(this._rawValue=t,this._lowerCaseValue=t.toLowerCase().trim(),this._changes.next(t))}isActive(){return!!this.value}accepts(t){return this.filterFn.accepts(t,this.lowerCaseValue)}get state(){return this.filterFn instanceof xo?{property:this.filterFn.prop,value:this.value}:this}equals(t){return t instanceof wo&&(t.filterFn instanceof xo?this.filterFn instanceof xo&&t.filterFn.prop===this.filterFn.prop&&t.value===this.value:t===this)}}let Eo=(()=>{class t extends vo{constructor(t,e,n,r){super(t),this.domAdapter=e,this.commonStrings=n,this.smartToggleService=r,this.subs=[],this.open=!1,this.filterValueChange=new i.n}set customStringFilter(t){this.setFilter(t instanceof bo?t:new wo(t)),this.initFilterValue&&(this.value=this.initFilterValue,delete this.initFilterValue)}ngAfterViewInit(){this.subs.push(this.smartToggleService.openChange.subscribe(t=>{this.open=t,setTimeout(()=>{this.domAdapter.focus(this.input.nativeElement)})}))}ngOnDestroy(){super.ngOnDestroy(),this.subs.forEach(t=>t.unsubscribe())}get value(){return this.filter.value}set value(t){this.filter&&"string"==typeof t?(t||(t=""),t!==this.filter.value&&(this.filter.value=t,this.filterValueChange.emit(t))):this.initFilterValue=t}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(_o),i.Kb(Qs),i.Kb(Ir),i.Kb(hr))},t.\u0275cmp=i.Eb({type:t,selectors:[["clr-dg-string-filter"]],viewQuery:function(t,e){if(1&t&&(i.Dc(wn,1),i.Dc(So,1)),2&t){let t;i.kc(t=i.Yb())&&(e.input=t.first),i.kc(t=i.Yb())&&(e.filterContainer=t.first)}},inputs:{customStringFilter:["clrDgStringFilter","customStringFilter"],value:["clrFilterValue","value"]},outputs:{filterValueChange:"clrFilterValueChange"},features:[i.yb([{provide:mo,useExisting:t}]),i.wb],decls:3,vars:4,consts:[[3,"clrDgFilter","clrDgFilterOpen","clrDgFilterOpenChange"],["type","text","name","search",1,"clr-input",3,"ngModel","ngModelChange"],["input",""]],template:function(t,e){1&t&&(i.Qb(0,"clr-dg-filter",0),i.Xb("clrDgFilterOpenChange",function(t){return e.open=t}),i.Qb(1,"input",1,2),i.Xb("ngModelChange",function(t){return e.value=t}),i.Pb(),i.Pb()),2&t&&(i.fc("clrDgFilter",e.registered)("clrDgFilterOpen",e.open),i.zb(1),i.fc("ngModel",e.value),i.Ab("aria-label",e.commonStrings.keys.filterItems))},directives:[So,ft.b,ft.j,ft.m],encapsulation:2}),t})();class Co{constructor(t,e=!1){this.prop=t,this.exact=e,this.nestedProp=new To(t)}accepts(t,e,n){const i=this.nestedProp.getPropValue(t);return!(null!==e&&i<e||null!==n&&i>n)}}class Mo{constructor(t){this.filterFn=t,this._changes=new Z.a,this._low=null,this._high=null}get changes(){return this._changes.asObservable()}get value(){return[this._low,this._high]}set value(t){const e=t[0],n=t[1];e===this._low&&n===this._high||(this._low=e,this._high=n,this._changes.next([this._low,this._high]))}get low(){return this._low}set low(t){t!==this._low&&(this._low=t,this._changes.next([this._low,this._high]))}get high(){return this._high}set high(t){t!==this._high&&(this._high=t,this._changes.next([this._low,this._high]))}isActive(){return null!==this._low||null!==this.high}accepts(t){return this.filterFn.accepts(t,this._low,this._high)}get state(){return this.filterFn instanceof Co?{property:this.filterFn.prop,low:this._low,high:this._high}:this}equals(t){return t instanceof Mo&&(t.filterFn instanceof Co?this.filterFn instanceof Co&&t.filterFn.prop===this.filterFn.prop&&t.low===this._low&&t.high===this._high:t===this)}}let Oo=(()=>{class t extends vo{constructor(t,e,n,r){super(t),this.domAdapter=e,this.commonStrings=n,this.popoverToggleService=r,this.subscriptions=[],this.open=!1,this.filterValueChange=new i.n}ngOnDestroy(){this.subscriptions.forEach(t=>{t.unsubscribe()})}set customNumericFilter(t){this.setFilter(t instanceof bo?t:new Mo(t)),this.initFilterValues&&(this.value=this.initFilterValues,delete this.initFilterValues)}ngAfterViewInit(){this.subscriptions.push(this.popoverToggleService.openChange.subscribe(t=>{this.open=t,setTimeout(()=>{this.domAdapter.focus(this.input.nativeElement)})}))}get value(){return[this.filter.low,this.filter.high]}set value(t){this.filter&&Array.isArray(t)?!t||t[0]===this.filter.low&&t[1]===this.filter.high||(this.filter.low="number"==typeof t[0]?t[0]:null,this.filter.high="number"==typeof t[1]?t[1]:null,this.filterValueChange.emit(t)):this.initFilterValues=t}get low(){return"number"==typeof this.filter.low&&isFinite(this.filter.low)?this.filter.low:null}set low(t){"number"==typeof t&&t!==this.filter.low?(this.filter.low=t,this.filterValueChange.emit([this.filter.low,this.filter.high])):"number"!=typeof t&&(this.filter.low=null,this.filterValueChange.emit([this.filter.low,this.filter.high]))}get high(){return"number"==typeof this.filter.high&&isFinite(this.filter.high)?this.filter.high:null}set high(t){"number"==typeof t&&t!==this.filter.high?(this.filter.high=t,this.filterValueChange.emit([this.filter.low,this.filter.high])):"number"!=typeof t&&(this.filter.high=null,this.filterValueChange.emit([this.filter.low,this.filter.high]))}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(_o),i.Kb(Qs),i.Kb(Ir),i.Kb(hr))},t.\u0275cmp=i.Eb({type:t,selectors:[["clr-dg-numeric-filter"]],viewQuery:function(t,e){if(1&t&&(i.Dc(En,1),i.Dc(So,1)),2&t){let t;i.kc(t=i.Yb())&&(e.input=t.first),i.kc(t=i.Yb())&&(e.filterContainer=t.first)}},inputs:{customNumericFilter:["clrDgNumericFilter","customNumericFilter"],value:["clrFilterValue","value"]},outputs:{filterValueChange:"clrFilterValueChange"},features:[i.yb([{provide:mo,useExisting:t}]),i.wb],decls:6,vars:8,consts:[[3,"clrDgFilter","clrDgFilterOpen","clrDgFilterOpenChange"],["type","number","name","low",1,"datagrid-numeric-filter-input",3,"ngModel","placeholder","ngModelChange"],["input_low",""],[1,"datagrid-filter-input-spacer"],["type","number","name","high",1,"datagrid-numeric-filter-input",3,"ngModel","placeholder","ngModelChange"],["input_high",""]],template:function(t,e){1&t&&(i.Qb(0,"clr-dg-filter",0),i.Xb("clrDgFilterOpenChange",function(t){return e.open=t}),i.Qb(1,"input",1,2),i.Xb("ngModelChange",function(t){return e.low=t}),i.Pb(),i.Lb(3,"span",3),i.Qb(4,"input",4,5),i.Xb("ngModelChange",function(t){return e.high=t}),i.Pb(),i.Pb()),2&t&&(i.fc("clrDgFilter",e.registered)("clrDgFilterOpen",e.open),i.zb(1),i.fc("ngModel",e.low)("placeholder",e.commonStrings.keys.minValue),i.Ab("aria-label",e.commonStrings.keys.minValue),i.zb(3),i.fc("ngModel",e.high)("placeholder",e.commonStrings.keys.maxValue),i.Ab("aria-label",e.commonStrings.keys.maxValue))},directives:[So,ft.p,ft.b,ft.j,ft.m],encapsulation:2}),t})(),Ao=(()=>{class t{constructor(){this._chocolate=new Z.a,this.disableChocolateCheck=!1}get chocolate(){return this._chocolate.asObservable()}ngAfterViewChecked(){this.disableChocolateCheck||this._chocolate.next()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Fb({type:t}),t})(),Io=(()=>{class t{constructor(t,e){this.subscription=e.chocolate.subscribe(()=>{this.latestFlavor!==this.flavor&&(e.disableChocolateCheck=!0,t.detectChanges(),e.disableChocolateCheck=!1)})}ngAfterContentChecked(){this.latestFlavor=this.flavor}ngOnDestroy(){this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(i.h),i.Kb(Ao))},t.\u0275dir=i.Fb({type:t}),t})(),Ro=(()=>{class t{constructor(){this.actionableCount=0}register(){this.actionableCount++}unregister(){this.actionableCount--}get hasActionableRow(){return this.actionableCount>0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})(),Lo=(()=>{class t extends Ao{}return t.\u0275fac=function(e){return Po(e||t)},t.\u0275dir=i.Fb({type:t,selectors:[["clr-datagrid"]],features:[i.wb]}),t})();const Po=i.Sb(Lo);let Do=(()=>{class t extends Io{constructor(t,e,n){if(!e)throw new Error("clr-dg-row should only be used inside of a clr-datagrid");super(t,e),this.rowActions=n}get flavor(){return this.rowActions.hasActionableRow}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(i.h),i.Kb(Lo,8),i.Kb(Ro))},t.\u0275dir=i.Fb({type:t,selectors:[["clr-datagrid"],["clr-dg-row"]],features:[i.wb]}),t})(),No=(()=>{class t{constructor(){this.toggleState=!1,this._state=new Q.a(this.toggleState),this._enabled=!1}get enabled(){return this._enabled}set enabled(t){this._enabled=t}get stateChange(){return this._state.asObservable()}close(){this.toggleState=!1,this._state.next(this.toggleState),this.button&&(this.button.focus(),this.button=null)}open(t,e){this.cache=t,this.button=e,this.toggleState=!0,this._state.next(this.toggleState)}toggle(t,e){this.isRowOpen(t)||!t?this.close():this.open(t,e)}get state(){return this.cache}isRowOpen(t){return!(!this.toggleState||this.cache!==t)}get isOpen(){return!0===this.toggleState}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})(),jo=(()=>{class t{constructor(t){this.detailService=t,this.expandableCount=0}register(){this.expandableCount++}unregister(){this.expandableCount--}get hasExpandableRow(){return!this.detailService.enabled&&this.expandableCount>0}}return t.\u0275fac=function(e){return new(e||t)(i.Ub(No))},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})(),ko=(()=>{class t extends Io{constructor(t,e,n){if(!e)throw new Error("clr-dg-row should only be used inside of a clr-datagrid");super(t,e),this.expandableCount=n}get flavor(){return this.expandableCount.hasExpandableRow}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(i.h),i.Kb(Lo,8),i.Kb(jo))},t.\u0275dir=i.Fb({type:t,selectors:[["clr-datagrid"],["clr-dg-row"]],features:[i.wb]}),t})();class Fo{constructor(t){this.prop=t,this.nestedProp=new To(t)}compare(t,e){let n=this.nestedProp.getPropValue(t),i=this.nestedProp.getPropValue(e);return"string"==typeof n&&(n=n.toLowerCase()),"string"==typeof i&&(i=i.toLowerCase()),null==n?null==i?0:1:null==i||n<i?-1:n>i?1:0}}var Uo=function(t){return t[t.UNSORTED=0]="UNSORTED",t[t.ASC=1]="ASC",t[t.DESC=-1]="DESC",t}({});let Go=(()=>{class t{constructor(t){this.stateDebouncer=t,this._reverse=!1,this._change=new Z.a}get comparator(){return this._comparator}set comparator(t){this.stateDebouncer.changeStart(),this._comparator=t,this.emitChange(),this.stateDebouncer.changeDone()}get reverse(){return this._reverse}set reverse(t){this.stateDebouncer.changeStart(),this._reverse=t,this.emitChange(),this.stateDebouncer.changeDone()}emitChange(){this._change.next(this)}get change(){return this._change.asObservable()}toggle(t,e){this.stateDebouncer.changeStart(),this.comparator===t?this._reverse=void 0!==e&&e||!this._reverse:(this._comparator=t,this._reverse=void 0!==e&&e),this.emitChange(),this.stateDebouncer.changeDone()}clear(){this.comparator=null}compare(t,e){return(this.reverse?-1:1)*this.comparator.compare(t,e)}}return t.\u0275fac=function(e){return new(e||t)(i.Ub(go))},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})(),Vo=(()=>{class t{constructor(){this._dynamic=!1}ngAfterViewInit(){this.columnView=this.templateRef.createEmbeddedView(null)}ngOnDestroy(){this.columnView.destroy()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Eb({type:t,selectors:[["dg-wrapped-column"]],viewQuery:function(t,e){if(1&t&&i.Dc(Cn,1),2&t){let t;i.kc(t=i.Yb())&&(e.templateRef=t.first)}},ngContentSelectors:Ne,decls:2,vars:0,consts:[["columnPortal",""]],template:function(t,e){1&t&&(i.ec(),i.wc(0,Mn,1,0,"ng-template",null,0,i.xc))},encapsulation:2}),t})(),Bo=(()=>{class t extends vo{constructor(t,e,n,r,s,o){super(e),this._sort=t,this.vcr=n,this.detailService=r,this.changeDetectorRef=s,this.commonStrings=o,this.showSeparator=!0,this.subscriptions=[],this._colType="string",this._sorted=!1,this.sortedChange=new i.n,this._sortOrder=Uo.UNSORTED,this.sortOrderChange=new i.n,this.customFilter=!1,this.filterValueChange=new i.n,this.subscriptions.push(this.listenForSortingChanges()),this.subscriptions.push(this.listenForDetailPaneChanges())}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}listenForDetailPaneChanges(){return this.detailService.stateChange.subscribe(t=>{this.showSeparator!==!t&&(this.showSeparator=!t,this.changeDetectorRef.markForCheck())})}listenForSortingChanges(){return this._sort.change.subscribe(t=>{this.changeDetectorRef.markForCheck(),this.sortOrder!==Uo.UNSORTED&&t.comparator!==this._sortBy&&(this._sortOrder=Uo.UNSORTED,this.sortOrderChange.emit(this._sortOrder),this.sortIcon=null,this._sortDirection=null),this.sorted&&t.comparator!==this._sortBy&&(this._sorted=!1,this.sortedChange.emit(!1))})}get colType(){return this._colType}set colType(t){this._colType=t}get field(){return this._field}set field(t){"string"==typeof t&&(this._field=t,this._sortBy||(this._sortBy=new Fo(t)))}setupDefaultFilter(t,e){"number"===e?this.setFilter(new Mo(new Co(t))):"string"===e&&this.setFilter(new wo(new xo(t))),this.filter&&this.initFilterValue&&(this.updateFilterValue=this.initFilterValue,delete this.initFilterValue)}ngOnChanges(t){t.colType&&t.colType.currentValue&&t.colType.currentValue!==t.colType.previousValue&&!this.customFilter&&!this.filter&&this.colType&&this.field&&this.setupDefaultFilter(this.field,this.colType),t.field&&t.field.currentValue&&t.field.currentValue!==t.field.previousValue&&!this.customFilter&&this.colType&&this.setupDefaultFilter(this.field,this.colType)}get sortBy(){return this._sortBy}set sortBy(t){"string"==typeof t?this._sortBy=new Fo(t):t?this._sortBy=t:this.field?this._sortBy=new Fo(this.field):delete this._sortBy}get sortable(){return!!this._sortBy}get sorted(){return this._sorted}set sorted(t){!t&&this.sorted?(this._sorted=!1,this._sort.clear()):t&&!this.sorted&&this.sort()}get sortOrder(){return this._sortOrder}set sortOrder(t){if(void 0!==t&&this._sortOrder!==t)switch(t){default:case Uo.UNSORTED:this._sort.clear();break;case Uo.ASC:this.sort(!1);break;case Uo.DESC:this.sort(!0)}}get ariaSort(){switch(this._sortOrder){default:case Uo.UNSORTED:return"none";case Uo.ASC:return"ascending";case Uo.DESC:return"descending"}}get sortDirection(){return this._sortDirection}sort(t){this.sortable&&(this._sort.toggle(this._sortBy,t),this._sortOrder=this._sort.reverse?Uo.DESC:Uo.ASC,this._sortDirection=this._sortOrder===Uo.DESC?"down":"up",this.sortIcon=this._sortOrder===Uo.DESC?"arrow down":"arrow",this.sortOrderChange.emit(this._sortOrder),this._sorted=!0,this.sortedChange.emit(!0))}set projectedFilter(t){t&&(this.deleteFilter(),this.customFilter=!0)}set updateFilterValue(t){this.filter?this.filter instanceof wo?(t&&"string"==typeof t||(t=""),t!==this.filter.value&&(this.filter.value=t)):this.filter instanceof Mo&&(t&&t instanceof Array||(t=[null,null]),2!==t.length||t[0]===this.filter.value[0]&&t[1]===this.filter.value[1]||(this.filter.value=t)):this.initFilterValue=t}get filterValue(){return this.filter instanceof wo||this.filter instanceof Mo?this.filter.value:null}set filterValue(t){(this.filter instanceof wo||this.filter instanceof Mo)&&(this.updateFilterValue=t,this.filterValueChange.emit(this.filter.value))}ngOnInit(){this.wrappedInjector=new Gr(Vo,this.vcr)}get _view(){return this.wrappedInjector.get(Vo,this.vcr).columnView}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(Go),i.Kb(_o),i.Kb(i.P),i.Kb(No),i.Kb(i.h),i.Kb(Ir))},t.\u0275cmp=i.Eb({type:t,selectors:[["clr-dg-column"]],contentQueries:function(t,e,n){if(1&t&&i.Db(n,mo,1),2&t){let t;i.kc(t=i.Yb())&&(e.projectedFilter=t.first)}},hostAttrs:["role","columnheader"],hostVars:3,hostBindings:function(t,e){2&t&&(i.Ab("aria-sort",e.ariaSort),i.Cb("datagrid-column",!0))},inputs:{colType:["clrDgColType","colType"],field:["clrDgField","field"],updateFilterValue:["clrFilterValue","updateFilterValue"],sortBy:["clrDgSortBy","sortBy"],sorted:["clrDgSorted","sorted"],sortOrder:["clrDgSortOrder","sortOrder"]},outputs:{sortedChange:"clrDgSortedChange",sortOrderChange:"clrDgSortOrderChange",filterValueChange:"clrFilterValueChange"},features:[i.yb([Sr,ur,hr]),i.wb,i.xb],ngContentSelectors:Fn,decls:9,vars:5,consts:[[1,"datagrid-column-flex"],["class","datagrid-column-title","type","button",3,"click",4,"ngIf"],[3,"clrDgStringFilter","clrFilterValue","clrFilterValueChange",4,"ngIf"],[3,"clrDgNumericFilter","clrFilterValue","clrFilterValueChange",4,"ngIf"],["columnTitle",""],["class","datagrid-column-title",4,"ngIf"],[4,"ngIf"],["type","button",1,"datagrid-column-title",3,"click"],[4,"ngTemplateOutlet"],["shape","arrow","aria-hidden","true","class","sort-icon",4,"ngIf"],["shape","arrow","aria-hidden","true",1,"sort-icon"],[3,"clrDgStringFilter","clrFilterValue","clrFilterValueChange"],[3,"clrDgNumericFilter","clrFilterValue","clrFilterValueChange"],[1,"datagrid-column-title"]],template:function(t,e){1&t&&(i.ec(kn),i.Qb(0,"div",0),i.wc(1,In,3,2,"button",1),i.dc(2),i.wc(3,Rn,1,2,"clr-dg-string-filter",2),i.wc(4,Ln,1,2,"clr-dg-numeric-filter",3),i.wc(5,Pn,1,0,"ng-template",null,4,i.xc),i.wc(7,Nn,2,1,"span",5),i.wc(8,jn,1,0,"clr-dg-column-separator",6),i.Pb()),2&t&&(i.zb(1),i.fc("ngIf",e.sortable),i.zb(2),i.fc("ngIf",e.field&&!e.customFilter&&"string"==e.colType),i.zb(1),i.fc("ngIf",e.field&&!e.customFilter&&"number"==e.colType),i.zb(3),i.fc("ngIf",!e.sortable),i.zb(1),i.fc("ngIf",e.showSeparator))},directives:function(){return[K.n,K.r,sr,Eo,Oo,ya]},encapsulation:2,changeDetection:0}),t})(),zo=(()=>{class t{constructor(t,e,n){this._filters=t,this._sort=e,this._page=n,this.loading=!1,this.trackBy=(t,e)=>e,this._smart=!1,this._displayed=[],this._change=new Z.a,this._allChanges=new Z.a}destroy(){this._filtersSub&&this._filtersSub.unsubscribe(),this._sortSub&&this._sortSub.unsubscribe(),this._pageSub&&this._pageSub.unsubscribe()}get smart(){return this._smart}smartenUp(){this._smart=!0,this._filtersSub=this._filters.change.subscribe(()=>this._filterItems()),this._sortSub=this._sort.change.subscribe(()=>{this._sort.comparator?this._sortItems():this._filterItems()}),this._pageSub=this._page.change.subscribe(()=>this._changePage())}get all(){return this._all}set all(t){this._all=t,this.emitAllChanges(t),this.smart?this._filterItems():(this._displayed=t,this.emitChange())}refresh(){this.smart&&this._filterItems()}get displayed(){return this._displayed}emitChange(){this._change.next(this.displayed)}get change(){return this._change.asObservable()}emitAllChanges(t){this._allChanges.next(t)}get allChanges(){return this._allChanges.asObservable()}get uninitialized(){return!this._all}_filterItems(){this.uninitialized||(this._filtered=this._filters.hasActiveFilters()?this._all.filter(t=>this._filters.accepts(t)):this._all.slice(),this._page.totalItems=this._filtered.length,this._sortItems())}_sortItems(){this.uninitialized||(this._sort.comparator&&this._filtered.sort((t,e)=>this._sort.compare(t,e)),this._changePage())}_changePage(){this.uninitialized||this._page.activated&&0===this._page.size||(this._displayed=this._page.size>0?this._filtered.slice(this._page.firstItem,this._page.lastItem+1):this._filtered,this.emitChange())}}return t.\u0275fac=function(e){return new(e||t)(i.Ub(_o),i.Ub(Go),i.Ub(yo))},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})(),Ho=(()=>{class t{constructor(t,e,n,i){this.template=t,this.differs=e,this.items=n,this.vcr=i,this.differ=null,this.subscriptions=[],n.smartenUp(),this.iterableProxy=new K.m(this.vcr,this.template,this.differs),this.subscriptions.push(n.change.subscribe(t=>{this.iterableProxy.ngForOf=t,this.iterableProxy.ngDoCheck()}))}set rawItems(t){this._rawItems=t||[]}set trackBy(t){this.items.trackBy=t,this.iterableProxy.ngForTrackBy=t}ngDoCheck(){this.differ||(this.differ=this.differs.find(this._rawItems).create(this.iterableProxy.ngForTrackBy)),this.differ&&this.differ.diff(this._rawItems)&&(this.items.all=this._rawItems)}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(i.L),i.Kb(i.t),i.Kb(zo),i.Kb(i.P))},t.\u0275dir=i.Fb({type:t,selectors:[["","clrDgItems","","clrDgItemsOf",""]],inputs:{rawItems:["clrDgItemsOf","rawItems"],trackBy:["clrDgItemsTrackBy","trackBy"]}}),t})(),Xo=(()=>{class t{constructor(t){this.items=t}get emptyDatagrid(){return!(this.items.loading||this.items.displayed&&0!==this.items.displayed.length)}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(zo))},t.\u0275cmp=i.Eb({type:t,selectors:[["clr-dg-placeholder"]],hostVars:2,hostBindings:function(t,e){2&t&&i.Cb("datagrid-placeholder-container",!0)},ngContentSelectors:Ne,decls:4,vars:4,consts:[["role","row",1,"datagrid-placeholder"],["class","datagrid-placeholder-image",4,"ngIf"],["role","gridcell"],[4,"ngIf"],[1,"datagrid-placeholder-image"]],template:function(t,e){1&t&&(i.ec(),i.Qb(0,"div",0),i.wc(1,Un,1,0,"div",1),i.Qb(2,"span",2),i.wc(3,Gn,1,0,"ng-content",3),i.Pb(),i.Pb()),2&t&&(i.Cb("datagrid-empty",e.emptyDatagrid),i.zb(1),i.fc("ngIf",e.emptyDatagrid),i.zb(2),i.fc("ngIf",e.emptyDatagrid))},directives:[K.n],encapsulation:2}),t})(),qo=(()=>{class t{set triggerEl(t){this._triggerEl=t}focusTrigger(){this._triggerEl&&this._triggerEl.focus()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})(),Wo=(()=>{class t{constructor(){this._id=new Z.a}setId(t){this._id.next(t)}get id(){return this._id.asObservable()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})(),Yo=(()=>{class t{constructor(t,e,n,i,r,s,o){this.toggleService=t,this.el=e,this.commonStrings=n,this.signpostIdService=i,this.signpostFocusManager=r,this.platformId=o,this.subscriptions=[],this.document=s}ngOnInit(){this.signpostFocusManager.triggerEl=this.el.nativeElement,this.subscriptions.push(this.toggleService.openChange.subscribe(t=>{this.ariaExpanded=t;const e=this.isOpen;this.isOpen=t,!this.isOpen&&e&&this.focusOnClose()}),this.signpostIdService.id.subscribe(t=>this.ariaControl=t))}focusOnClose(){Object(K.A)(this.platformId)&&(this.isOpen||this.document.activeElement!==this.document.body||this.signpostFocusManager.focusTrigger())}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}onSignpostTriggerClick(t){this.toggleService.toggleWithEvent(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(hr),i.Kb(i.l),i.Kb(Ir),i.Kb(Wo),i.Kb(qo),i.Kb(K.d),i.Kb(i.C))},t.\u0275dir=i.Fb({type:t,selectors:[["","clrSignpostTrigger",""]],hostAttrs:[1,"signpost-trigger"],hostVars:5,hostBindings:function(t,e){1&t&&i.Xb("click",function(t){return e.onSignpostTriggerClick(t)}),2&t&&(i.Ab("aria-label",e.commonStrings.keys.signpostToggle)("aria-expanded",e.ariaExpanded)("aria-controls",e.ariaControl),i.Cb("active",e.isOpen))}}),t})(),Ko=(()=>{class t{constructor(t){this.commonStrings=t,this.useCustomTrigger=!1}set customTrigger(t){this.useCustomTrigger=!!t}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(Ir))},t.\u0275cmp=i.Eb({type:t,selectors:[["clr-signpost"]],contentQueries:function(t,e,n){if(1&t&&i.Db(n,Yo,1),2&t){let t;i.kc(t=i.Yb())&&(e.customTrigger=t.first)}},hostVars:2,hostBindings:function(t,e){2&t&&i.Cb("signpost",!0)},features:[i.yb([hr,qo,{provide:zs,useExisting:i.l},Wo])],ngContentSelectors:Ne,decls:2,vars:1,consts:[[4,"ngIf"],["type","button","clrSignpostTrigger","",1,"signpost-action","btn","btn-small","btn-link"],["shape","info-circle"]],template:function(t,e){1&t&&(i.ec(),i.wc(0,Vn,3,1,"ng-container",0),i.dc(1)),2&t&&i.fc("ngIf",!e.useCustomTrigger)},directives:[K.n,Yo,sr],encapsulation:2}),t})(),Zo=(()=>{class t{constructor(){this._dynamic=!1}ngAfterViewInit(){this.cellView=this.templateRef.createEmbeddedView(null)}ngOnDestroy(){this.cellView.destroy()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Eb({type:t,selectors:[["dg-wrapped-cell"]],viewQuery:function(t,e){if(1&t&&i.Dc(Bn,1),2&t){let t;i.kc(t=i.Yb())&&(e.templateRef=t.first)}},ngContentSelectors:Ne,decls:2,vars:0,consts:[["cellPortal",""]],template:function(t,e){1&t&&(i.ec(),i.wc(0,zn,1,0,"ng-template",null,0,i.xc))},encapsulation:2}),t})(),Jo=(()=>{class t{constructor(t){this.vcr=t}ngOnInit(){this.wrappedInjector=new Gr(Zo,this.vcr)}get _view(){return this.wrappedInjector.get(Zo,this.vcr).cellView}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(i.P))},t.\u0275cmp=i.Eb({type:t,selectors:[["clr-dg-cell"]],contentQueries:function(t,e,n){if(1&t&&i.Db(n,Ko,0),2&t){let t;i.kc(t=i.Yb())&&(e.signpost=t)}},hostAttrs:["role","gridcell"],hostVars:4,hostBindings:function(t,e){2&t&&i.Cb("datagrid-cell",!0)("datagrid-signpost-trigger",e.signpost.length>0)},ngContentSelectors:Ne,decls:1,vars:0,template:function(t,e){1&t&&(i.ec(),i.dc(0))},encapsulation:2}),t})();var Qo=function(t){return t[t.DISPLAY=0]="DISPLAY",t[t.CALCULATE=1]="CALCULATE",t}({}),$o=function(t){return t[t.ALIGN_COLUMNS=0]="ALIGN_COLUMNS",t[t.CALCULATE_MODE_ON=1]="CALCULATE_MODE_ON",t[t.CALCULATE_MODE_OFF=2]="CALCULATE_MODE_OFF",t[t.CLEAR_WIDTHS=3]="CLEAR_WIDTHS",t[t.COMPUTE_COLUMN_WIDTHS=4]="COMPUTE_COLUMN_WIDTHS",t}({});let ta=(()=>{class t{constructor(){this._renderStep=new Z.a,this.alreadySized=!1}get renderStep(){return this._renderStep.asObservable()}filterRenderSteps(t){return this.renderStep.pipe(Object(rt.a)(e=>t===e))}resize(){this._renderStep.next($o.CALCULATE_MODE_ON),this.alreadySized&&this._renderStep.next($o.CLEAR_WIDTHS),this._renderStep.next($o.COMPUTE_COLUMN_WIDTHS),this._renderStep.next($o.ALIGN_COLUMNS),this.alreadySized=!0,this._renderStep.next($o.CALCULATE_MODE_OFF)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})(),ea=(()=>{class t{constructor(t){this.subscriptions=[],this._view=new Q.a(Qo.DISPLAY),this.subscriptions.push(t.filterRenderSteps($o.CALCULATE_MODE_ON).subscribe(()=>this._view.next(Qo.CALCULATE))),this.subscriptions.push(t.filterRenderSteps($o.CALCULATE_MODE_OFF).subscribe(()=>this._view.next(Qo.DISPLAY)))}get view(){return this._view.asObservable()}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(i.Ub(ta))},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})();var na=function(t){return t[t.None=0]="None",t[t.Single=1]="Single",t[t.Multi=2]="Multi",t}({});let ia=0,ra=(()=>{class t{constructor(t,e,n){this._items=t,this._filters=e,this._zone=n,this.preserveSelection=!1,this.prevSelectionRefs=[],this.lockedRefs=[],this._selectionType=na.None,this.rowSelectionMode=!1,this.subscriptions=[],this.valueCollector=new Z.a,this._change=new Z.a,this.id="clr-dg-selection"+ia++,this.subscriptions.push(this._filters.change.subscribe(()=>{this._selectable&&!this.preserveSelection&&this.clearSelection()})),this.subscriptions.push(this._items.allChanges.subscribe(t=>{const e=[];switch(this.selectionType){case na.None:break;case na.Single:{let n;const i=this._items.trackBy;let r=!1;if(this.currentSingle&&!this.prevSingleSelectionRef&&this._items.all&&this._items.trackBy){const t=this._items.all.findIndex(t=>t===this.currentSingle);this.prevSingleSelectionRef=this._items.trackBy(t,this.currentSingle)}t.forEach((t,s)=>{const o=i(s,t);this.prevSingleSelectionRef===o&&(n=t,r=!0),this.lockedRefs.indexOf(o)>-1&&e.push(o)}),this._items.smart&&!n&&(r=!0),setTimeout(()=>{r&&(this.currentSingle=n)},0);break}case na.Multi:{let n=this.current.slice();const i=this._items.trackBy;let r=!1;this.current.length>0&&this.prevSelectionRefs.length!==this.current.length&&this._items.all&&this._items.trackBy&&(this.prevSelectionRefs=[],this.current.forEach(t=>{const e=this._items.all.findIndex(e=>e===t);this.prevSelectionRefs.push(this._items.trackBy(e,t))})),t.forEach((t,n)=>{const r=i(n,t);this.lockedRefs.indexOf(r)>-1&&e.push(r)}),n.length>0&&(t.forEach((t,e)=>{const s=i(e,t),o=this.prevSelectionRefs.indexOf(s);o>-1&&(n[o]=t,r=!0)}),this._items.smart&&(n=n.filter(e=>t.indexOf(e)>-1),this.current.length!==n.length&&(r=!0)),setTimeout(()=>{r&&(this.current=n)},0));break}}this.lockedRefs=e})),this.subscriptions.push(this.valueCollector.pipe(at(0)).subscribe(()=>this.emitChange()))}clearSelection(){this._current=[],this.prevSelectionRefs=[],this.prevSingleSelectionRef=null,this._currentSingle=null,this.emitChange()}get selectionType(){return this._selectionType}set selectionType(t){t!==this.selectionType&&(this._selectionType=t,t===na.None?delete this.current:this.updateCurrent([],!1))}get _selectable(){return this._selectionType===na.Multi||this._selectionType===na.Single}destroy(){this.subscriptions.forEach(t=>t.unsubscribe())}get currentSingle(){return this._currentSingle}set currentSingle(t){if(t!==this._currentSingle){if(this._currentSingle=t,this._items.all&&this._items.trackBy&&t){const e=this._items.all.findIndex(e=>e===t);this.prevSingleSelectionRef=this._items.trackBy(e,t)}this.emitChange()}}get current(){return this._current}set current(t){this.updateCurrent(t,!0)}updateCurrent(t,e){this._current=t,e&&this.valueCollector.next(t)}emitChange(){this._selectionType===na.Single?this._change.next(this.currentSingle):this._selectionType===na.Multi&&this._change.next(this.current)}get change(){return this._change.asObservable()}isSelected(t){return this._selectionType===na.Single?this.currentSingle===t:this._selectionType===na.Multi&&this.current.indexOf(t)>=0}selectItem(t){if(this.current=this.current.concat(t),this._items.trackBy&&this._items.all){const e=this._items.all.findIndex(e=>e===t);this.prevSelectionRefs.push(this._items.trackBy(e,t))}}deselectItem(t){if(this.current=this.current.slice(0,t).concat(this.current.slice(t+1)),this._items.trackBy&&t<this.prevSelectionRefs.length){const e=this.prevSelectionRefs.splice(t,1);this.lockedRefs=this.lockedRefs.filter(t=>t!==e[0])}}setSelected(t,e){const n=this.current?this.current.indexOf(t):-1;switch(this._selectionType){case na.None:case na.Single:break;case na.Multi:n>=0&&!e?this.deselectItem(n):n<0&&e&&this.selectItem(t)}}isAllSelected(){if(this._selectionType!==na.Multi||!this._items.displayed)return!1;const t=this._items.displayed.filter(t=>!1===this.isLocked(t));return!(t.length<1)&&t.filter(t=>this.current.indexOf(t)>-1).length===t.length}canItBeLocked(){return this._selectionType!==na.None&&Array.isArray(this._items.all)}lockItem(t,e){if(this.canItBeLocked()){const n=this._items.trackBy(this._items.all.findIndex(e=>e===t),t);!0===e?this.lockedRefs.push(n):this.lockedRefs=this.lockedRefs.filter(t=>n!==t)}}isLocked(t){if(this.canItBeLocked()){const e=this._items.trackBy(this._items.all.findIndex(e=>e===t),t);return this.lockedRefs.indexOf(e)>-1}return!1}toggleAll(){this._selectionType!==na.None&&this._selectionType!==na.Single&&(this.isAllSelected()?this._items.displayed.forEach(t=>{const e=this.current.indexOf(t);e>-1&&!1===this.isLocked(t)&&this.deselectItem(e)}):this._items.displayed.forEach(t=>{this.current.indexOf(t)<0&&!1===this.isLocked(t)&&this.selectItem(t)}))}}return t.\u0275fac=function(e){return new(e||t)(i.Ub(zo),i.Ub(_o),i.Ub(i.A))},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})(),sa=(()=>{class t{constructor(){this._dynamic=!1}ngAfterViewInit(){this.rowView=this.templateRef.createEmbeddedView(null)}ngOnDestroy(){this.rowView.destroy()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Eb({type:t,selectors:[["dg-wrapped-row"]],viewQuery:function(t,e){if(1&t&&i.Dc(Hn,1),2&t){let t;i.kc(t=i.Yb())&&(e.templateRef=t.first)}},ngContentSelectors:Ne,decls:2,vars:0,consts:[["rowPortal",""]],template:function(t,e){1&t&&(i.ec(),i.wc(0,Xn,1,0,"ng-template",null,0,i.xc))},encapsulation:2}),t})(),oa=0,aa=(()=>{class t extends ms{constructor(){super(),this.expandableId="",this._replace=new Q.a(!1),this._animate=new Z.a,oa++,this.expandableId="clr-dg-expandable-row-"+oa}get expanded(){return this._expanded}set expanded(t){(t=!!t)!==this._expanded&&(this._expanded=t,this._animate.next(),this._expandChange.next(t))}loadingStateChange(t){super.loadingStateChange(t),t!==Or.LOADING&&this._animate.next()}get replace(){return this._replace.asObservable()}setReplace(t){this._replace.next(t)}get animate(){return this._animate.asObservable()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})(),la=0,ca=(()=>{class t{constructor(t,e,n,r,s,o,a,l,c,h){this.selection=t,this.rowActionService=e,this.globalExpandable=n,this.expand=r,this.detailService=s,this.displayMode=o,this.vcr=a,this.renderer=l,this.el=c,this.commonStrings=h,this.SELECTION_TYPE=na,this.expandAnimationTrigger=!1,this._selected=!1,this.selectedChanged=new i.n(!1),this.expandedChange=new i.n(!1),this._detailOpenLabel="",this._detailCloseLabel="",this.subscriptions=[],this.displayCells=!1,la++,this.id="clr-dg-row"+la,this.radioId="clr-dg-row-rd"+la,this.checkboxId="clr-dg-row-cb"+la,this.expandableId=r.expandableId,this.subscriptions.push(Object(nt.a)(this.expand.replace,this.expand.expandChange).subscribe(([t,e])=>{t&&e?(this.replaced=!0,this.renderer.addClass(this.el.nativeElement,"datagrid-row-replaced")):(this.replaced=!1,this.renderer.removeClass(this.el.nativeElement,"datagrid-row-replaced"))}))}get selected(){return this.selection.selectionType===na.None?this._selected:this.selection.isSelected(this.item)}set selected(t){this.selection.selectionType===na.None?this._selected=t:this.selection.setSelected(this.item,t)}set clrDgSelectable(t){this.selection.lockItem(this.item,!1===t)}get clrDgSelectable(){return!this.selection.isLocked(this.item)}toggle(t=!this.selected){t!==this.selected&&(this.selected=t,this.selectedChanged.emit(t))}get expanded(){return this.expand.expanded}set expanded(t){this.expand.expanded=t}toggleExpand(){this.expand.expandable&&(this.expandAnimation.updateStartHeight(),this.expanded=!this.expanded,this.expandedChange.emit(this.expanded))}set clrDgDetailOpenLabel(t){this._detailOpenLabel=t}get clrDgDetailOpenLabel(){return this._detailOpenLabel?this._detailOpenLabel:this.commonStrings.keys.open}set clrDgDetailCloseLabel(t){this._detailCloseLabel=t}get clrDgDetailCloseLabel(){return this._detailCloseLabel?this._detailCloseLabel:this.commonStrings.keys.close}ngAfterContentInit(){this.dgCells.changes.subscribe(()=>{this.dgCells.forEach(t=>{t._view.destroyed||this._scrollableCells.insert(t._view)})})}ngAfterViewInit(){this.subscriptions.push(this.displayMode.view.subscribe(t=>{for(let e=this._scrollableCells.length;e>0;e--)this._scrollableCells.detach();for(let e=this._calculatedCells.length;e>0;e--)this._calculatedCells.detach();t===Qo.CALCULATE?(this.displayCells=!1,this.dgCells.forEach(t=>{t._view.destroyed||this._calculatedCells.insert(t._view)})):(this.displayCells=!0,this.dgCells.forEach(t=>{t._view.destroyed||this._scrollableCells.insert(t._view)}))}),this.expand.animate.subscribe(()=>{this.expandAnimationTrigger=!this.expandAnimationTrigger}))}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}ngOnInit(){this.wrappedInjector=new Gr(sa,this.vcr),this.selection.lockItem(this.item,!1===this.clrDgSelectable)}get _view(){return this.wrappedInjector.get(sa,this.vcr).rowView}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(ra),i.Kb(Ro),i.Kb(jo),i.Kb(aa),i.Kb(No),i.Kb(ea),i.Kb(i.P),i.Kb(i.E),i.Kb(i.l),i.Kb(Ir))},t.\u0275cmp=i.Eb({type:t,selectors:[["clr-dg-row"]],contentQueries:function(t,e,n){if(1&t&&i.Db(n,Jo,0),2&t){let t;i.kc(t=i.Yb())&&(e.dgCells=t)}},viewQuery:function(t,e){if(1&t&&(i.Dc(ho,1),i.Dc(qn,1),i.Dc(Wn,1,i.P),i.Dc(Yn,1,i.P),i.Dc(Kn,1,i.P)),2&t){let t;i.kc(t=i.Yb())&&(e.expandAnimation=t.first),i.kc(t=i.Yb())&&(e.detailButton=t.first),i.kc(t=i.Yb())&&(e._stickyCells=t.first),i.kc(t=i.Yb())&&(e._scrollableCells=t.first),i.kc(t=i.Yb())&&(e._calculatedCells=t.first)}},hostAttrs:["role","rowgroup"],hostVars:5,hostBindings:function(t,e){2&t&&(i.Ab("aria-owns",e.id),i.Cb("datagrid-row",!0)("datagrid-selected",e.selected))},inputs:{selected:["clrDgSelected","selected"],clrDgSelectable:"clrDgSelectable",expanded:["clrDgExpanded","expanded"],clrDgDetailOpenLabel:"clrDgDetailOpenLabel",clrDgDetailCloseLabel:"clrDgDetailCloseLabel",item:["clrDgItem","item"]},outputs:{selectedChanged:"clrDgSelectedChange",expandedChange:"clrDgExpandedChange"},features:[i.yb([aa,{provide:ms,useExisting:aa},{provide:Mr,useExisting:aa}])],ngContentSelectors:Ti,decls:9,vars:3,consts:[["class","datagrid-row-clickable",4,"ngIf"],[3,"clrExpandTrigger",4,"ngIf"],[4,"ngIf"],["detail",""],["rowContent",""],["calculatedCells",""],[1,"datagrid-row-clickable"],[3,"clrExpandTrigger"],[3,"ngTemplateOutlet"],["role","row",1,"datagrid-row-master","datagrid-row-flex",3,"id"],[1,"datagrid-row-sticky"],["stickyCells",""],["class","datagrid-select datagrid-fixed-column datagrid-cell","role","gridcell",3,"ngClass",4,"ngIf"],["class","datagrid-row-actions datagrid-fixed-column datagrid-cell","role","gridcell",4,"ngIf"],["class","datagrid-expandable-caret datagrid-fixed-column datagrid-cell","role","gridcell",4,"ngIf"],["class","datagrid-detail-caret datagrid-fixed-column datagrid-cell",4,"ngIf"],[1,"datagrid-row-scrollable",3,"ngClass"],[1,"datagrid-scrolling-cells"],["scrollableCells",""],["role","gridcell",1,"datagrid-select","datagrid-fixed-column","datagrid-cell",3,"ngClass"],[1,"clr-checkbox-wrapper"],["type","checkbox",3,"ngModel","id","ngModelChange"],[1,"clr-control-label","clr-col-null",3,"for"],[1,"clr-sr-only"],["type","radio","clrRadio","",3,"id","name","value","ngModel","checked","ngModelChange"],["role","gridcell",1,"datagrid-row-actions","datagrid-fixed-column","datagrid-cell"],["role","gridcell",1,"datagrid-expandable-caret","datagrid-fixed-column","datagrid-cell"],["type","button","class","datagrid-expandable-caret-button",3,"click",4,"ngIf"],["clrSmall","",4,"ngIf"],["type","button",1,"datagrid-expandable-caret-button",3,"click"],["shape","angle",1,"datagrid-expandable-caret-icon"],["clrSmall",""],[1,"datagrid-detail-caret","datagrid-fixed-column","datagrid-cell"],["type","button","aria-haspopup","dialog",1,"datagrid-detail-caret-button",3,"click"],["detailButton",""],["shape","angle-double",1,"datagrid-detail-caret-icon"]],template:function(t,e){1&t&&(i.ec(Si),i.wc(0,ti,3,2,"label",0),i.wc(1,ni,2,2,"clr-expandable-animation",1),i.wc(2,ri,1,1,void 0,2),i.wc(3,si,1,0,"ng-template",null,3,i.xc),i.wc(5,vi,16,13,"ng-template",null,4,i.xc),i.Mb(7,null,5)),2&t&&(i.fc("ngIf",e.selection.rowSelectionMode),i.zb(1),i.fc("ngIf",!e.selection.rowSelectionMode&&e.expand.expandable),i.zb(1),i.fc("ngIf",!e.selection.rowSelectionMode&&!e.expand.expandable))},directives:[K.n,ts,ho,K.r,K.l,ft.a,ft.j,ft.m,ft.q,ft.b,Os,sr,Xs],encapsulation:2}),t})(),ha=(()=>{class t{constructor(t,e,n,i){this.filters=t,this.sort=e,this.page=n,this.debouncer=i,this.change=this.debouncer.change.pipe(Object(dt.a)(()=>this.state))}get state(){const t={};this.page.size>0&&(t.page={from:this.page.firstItem,to:this.page.lastItem,size:this.page.size,current:this.page.current}),this.sort.comparator&&(t.sort=this.sort.comparator instanceof Fo?{by:this.sort.comparator.prop,reverse:this.sort.reverse}:{by:this.sort.comparator,reverse:this.sort.reverse});const e=this.filters.getActiveFilters();if(e.length>0){t.filters=[];for(const n of e)t.filters.push(n.state?n.state:n)}return t}}return t.\u0275fac=function(e){return new(e||t)(i.Ub(_o),i.Ub(Go),i.Ub(yo),i.Ub(go))},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})(),ua=(()=>{class t{constructor(t){this.platformId=t}get tableRef(){return this._tableRef}set tableRef(t){this._tableRef=t}set table(t){Object(K.A)(this.platformId)&&t.nativeElement&&(this.tableRef=t.nativeElement.querySelector(".datagrid-table"))}getColumnDragHeight(){return this.tableRef?`${this.tableRef.clientHeight}px`:null}}return t.\u0275fac=function(e){return new(e||t)(i.Ub(i.C))},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})();var da=function(t){return t[t.WIDTH=0]="WIDTH",t[t.HIDDEN=1]="HIDDEN",t}({});const pa=Object.keys(da).map(t=>da[t]).filter(t=>t===parseInt(t,10));let fa=(()=>{class t{constructor(){this.columns=[],this._cache=[]}cache(){this._cache=this.columns.map(t=>{const e=Object.assign({},t.value);return delete e.changes,e})}hasCache(){return!!this._cache.length}resetToLastCache(){this._cache.forEach((t,e)=>{this.columns[e].next(Object.assign(Object.assign({},t),{changes:pa}))}),this._cache=[]}get columnStates(){return this.columns.map(t=>t.value)}get hasHideableColumns(){return this.columnStates.filter(t=>t.hideable).length>0}emitStateChangeAt(t,e){this.columns[t]&&this.emitStateChange(this.columns[t],e)}emitStateChange(t,e){t.next(Object.assign(Object.assign({},t.value),e))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})(),ma=(()=>{class t{constructor(t,e,n,r,s,o,a,l,c,h,u,d,p){this.organizer=t,this.items=e,this.expandableRows=n,this.selection=r,this.rowActionService=s,this.stateProvider=o,this.displayMode=a,this.renderer=l,this.detailService=c,this.el=u,this.page=d,this.commonStrings=p,this.SELECTION_TYPE=na,this.refresh=new i.n(!1),this.selectedChanged=new i.n(!1),this.singleSelectedChanged=new i.n(!1),this.clrDgSingleSelectionAriaLabel=this.commonStrings.keys.singleSelectionAriaLabel,this.clrDgSingleActionableAriaLabel=this.commonStrings.keys.singleActionableAriaLabel,this.clrDetailExpandableAriaLabel=this.commonStrings.keys.detailExpandableAriaLabel,this.clrDgDisablePageFocus=!1,this._subscriptions=[],this.selectAllId="clr-dg-select-all-"+h,this.detailService.id=h}get loading(){return this.items.loading}set loading(t){this.items.loading=t}dataChanged(){this.items.refresh()}set selected(t){this.selection.selectionType=t?na.Multi:na.None,this.selection.updateCurrent(t,!1)}set singleSelected(t){this.selection.selectionType=na.Single,t?this.selection.currentSingle=t:this.selection.currentSingle&&(this.selection.currentSingle=null)}set clrDgPreserveSelection(t){this.selection.preserveSelection=t}set rowSelectionMode(t){this.selection.rowSelectionMode=t}get allSelected(){return this.selection.isAllSelected()}set allSelected(t){this.selection.toggleAll()}ngAfterContentInit(){this.items.smart||(this.items.all=this.rows.map(t=>t.item)),this._subscriptions.push(this.rows.changes.subscribe(()=>{this.items.smart||(this.items.all=this.rows.map(t=>t.item));for(let t=this._displayedRows.length-1;t>=0;t--)this._displayedRows.get(t).destroyed&&this._displayedRows.remove(t);if(this.rows.forEach(t=>{this._displayedRows.insert(t._view)}),this.detailService.state&&this.detailService.isOpen){const t=this.rows.find((t,e)=>this.items.trackBy(e,t.item)===this.items.trackBy(e,this.detailService.state));t?this.detailService.open(t.item,t.detailButton):this.detailService.close()}}))}ngAfterViewInit(){this.refresh.emit(this.stateProvider.state),this._subscriptions.push(this.stateProvider.change.subscribe(t=>this.refresh.emit(t)),this.selection.change.subscribe(t=>{this.selection.selectionType===na.Single?this.singleSelectedChanged.emit(t):this.selection.selectionType===na.Multi&&this.selectedChanged.emit(t)}),this.page.change.subscribe(()=>{this.clrDgDisablePageFocus||this.datagridTable.nativeElement.focus()}),this.displayMode.view.subscribe(t=>{for(let e=this._projectedDisplayColumns.length;e>0;e--)this._projectedDisplayColumns.detach();for(let e=this._projectedCalculationColumns.length;e>0;e--)this._projectedCalculationColumns.detach();for(let e=this._calculationRows.length;e>0;e--)this._calculationRows.detach();for(let e=this._displayedRows.length;e>0;e--)this._displayedRows.detach();t===Qo.DISPLAY?(this.renderer.removeClass(this.el.nativeElement,"datagrid-calculate-mode"),this.columns.forEach(t=>{this._projectedDisplayColumns.insert(t._view)}),this.rows.forEach(t=>{this._displayedRows.insert(t._view)})):(this.renderer.addClass(this.el.nativeElement,"datagrid-calculate-mode"),this.columns.forEach(t=>{this._projectedCalculationColumns.insert(t._view)}),this.rows.forEach(t=>{this._calculationRows.insert(t._view)}))}))}ngOnDestroy(){this._subscriptions.forEach(t=>t.unsubscribe())}resize(){this.organizer.resize()}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(ta),i.Kb(zo),i.Kb(jo),i.Kb(ra),i.Kb(Ro),i.Kb(ha),i.Kb(ea),i.Kb(i.E),i.Kb(No),i.Kb(Lr),i.Kb(i.l),i.Kb(yo),i.Kb(Ir))},t.\u0275cmp=i.Eb({type:t,selectors:[["clr-datagrid"]],contentQueries:function(t,e,n){if(1&t&&(i.Db(n,Ho,1),i.Db(n,Xo,1),i.Db(n,Bo,0),i.Db(n,ca,0)),2&t){let t;i.kc(t=i.Yb())&&(e.iterator=t.first),i.kc(t=i.Yb())&&(e.placeholder=t.first),i.kc(t=i.Yb())&&(e.columns=t),i.kc(t=i.Yb())&&(e.rows=t)}},viewQuery:function(t,e){if(1&t&&(i.Dc(xi,1,i.P),i.Dc(wi,1,i.l),i.Dc(Ei,1,i.P),i.Dc(Ci,1,i.P),i.Dc(Mi,1,i.P),i.Dc(Oi,1,i.P)),2&t){let t;i.kc(t=i.Yb())&&(e.scrollableColumns=t.first),i.kc(t=i.Yb())&&(e.datagridTable=t.first),i.kc(t=i.Yb())&&(e._projectedDisplayColumns=t.first),i.kc(t=i.Yb())&&(e._projectedCalculationColumns=t.first),i.kc(t=i.Yb())&&(e._displayedRows=t.first),i.kc(t=i.Yb())&&(e._calculationRows=t.first)}},hostVars:4,hostBindings:function(t,e){2&t&&i.Cb("datagrid-host",!0)("datagrid-detail-open",e.detailService.isOpen)},inputs:{clrDgSingleSelectionAriaLabel:"clrDgSingleSelectionAriaLabel",clrDgSingleActionableAriaLabel:"clrDgSingleActionableAriaLabel",clrDetailExpandableAriaLabel:"clrDetailExpandableAriaLabel",clrDgDisablePageFocus:"clrDgDisablePageFocus",loading:["clrDgLoading","loading"],selected:["clrDgSelected","selected"],singleSelected:["clrDgSingleSelected","singleSelected"],clrDgPreserveSelection:"clrDgPreserveSelection",rowSelectionMode:["clrDgRowSelection","rowSelectionMode"]},outputs:{refresh:"clrDgRefresh",selectedChanged:"clrDgSelectedChange",singleSelectedChanged:"clrDgSingleSelectedChange"},features:[i.yb([ra,Go,_o,yo,zo,ta,Ro,jo,go,No,Pr,ha,ua,fa,ea])],ngContentSelectors:ji,decls:32,vars:7,consts:[[1,"datagrid-outer-wrapper"],[1,"datagrid-inner-wrapper"],[1,"datagrid"],["datagrid",""],[1,"datagrid-table-wrapper"],["role","grid","tabindex","-1",1,"datagrid-table"],["datagridTable",""],["role","rowgroup",1,"datagrid-header"],["role","row",1,"datagrid-row"],[1,"datagrid-row-master","datagrid-row-flex"],[1,"datagrid-row-sticky"],["role","columnheader","class","datagrid-column datagrid-select datagrid-fixed-column",4,"ngIf"],["role","columnheader","class","datagrid-column datagrid-row-actions datagrid-fixed-column",4,"ngIf"],["role","columnheader","class","datagrid-column datagrid-expandable-caret datagrid-fixed-column",4,"ngIf"],[1,"datagrid-row-scrollable"],["projectedDisplayColumns",""],["displayedRows",""],[4,"ngIf"],["class","datagrid-spinner",4,"ngIf"],[1,"datagrid-calculation-table"],[1,"datagrid-calculation-header"],["projectedCalculationColumns",""],["calculationRows",""],["role","columnheader",1,"datagrid-column","datagrid-select","datagrid-fixed-column"],[1,"clr-checkbox-wrapper"],["type","checkbox",3,"id","ngModel","ngModelChange"],[1,"clr-control-label","clr-col-null",3,"for"],[1,"clr-sr-only"],[1,"datagrid-column-separator"],["role","columnheader",1,"datagrid-column","datagrid-row-actions","datagrid-fixed-column"],["role","columnheader",1,"datagrid-column","datagrid-expandable-caret","datagrid-fixed-column"],[1,"datagrid-spinner"],["clrMedium",""]],template:function(t,e){1&t&&(i.ec(Ni),i.dc(0),i.Qb(1,"div",0),i.Qb(2,"div",1),i.Qb(3,"div",2,3),i.Qb(5,"div",4),i.Qb(6,"div",5,6),i.Qb(8,"div",7),i.Qb(9,"div",8),i.Qb(10,"div",9),i.Qb(11,"div",10),i.wc(12,Ai,7,5,"div",11),i.wc(13,Ii,2,1,"div",11),i.wc(14,Ri,2,1,"div",12),i.wc(15,Li,2,1,"div",13),i.Pb(),i.Qb(16,"div",14),i.Mb(17,null,15),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Mb(19,null,16),i.dc(21,1),i.wc(22,Pi,1,0,"clr-dg-placeholder",17),i.Pb(),i.Pb(),i.Pb(),i.dc(23,2),i.wc(24,Di,3,0,"div",18),i.Pb(),i.dc(25,3),i.Pb(),i.Qb(26,"div",19),i.Qb(27,"div",20),i.Mb(28,null,21),i.Pb(),i.Mb(30,null,22),i.Pb()),2&t&&(i.zb(3),i.Ab("aria-hidden",!!e.detailService.isOpen||null),i.zb(9),i.fc("ngIf",e.selection.selectionType===e.SELECTION_TYPE.Multi),i.zb(1),i.fc("ngIf",e.selection.selectionType===e.SELECTION_TYPE.Single),i.zb(1),i.fc("ngIf",e.rowActionService.hasActionableRow),i.zb(1),i.fc("ngIf",e.expandableRows.hasExpandableRow||e.detailService.enabled),i.zb(7),i.fc("ngIf",!e.placeholder),i.zb(2),i.fc("ngIf",e.loading))},directives:[K.n,ft.a,ft.j,ft.m,ts,Xo,Xs],encapsulation:2}),t})(),ga=(()=>{class t{constructor(t,e,n){this.el=t,this.domAdapter=e,this.organizer=n,this._resizedBy=0}get resizedBy(){return this._resizedBy}get minColumnWidth(){return this.domAdapter.minWidth(this.el.nativeElement)||96}get maxResizeRange(){return this.widthBeforeResize-this.minColumnWidth}startResize(){this._resizedBy=0,this.isWithinMaxResizeRange=!0,this.widthBeforeResize=this.domAdapter.clientRect(this.el.nativeElement).width}endResize(){this.organizer.resize()}get widthAfterResize(){return this.widthBeforeResize+this._resizedBy}calculateResize(t){t<-this.maxResizeRange?(this._resizedBy=-this.maxResizeRange,this.isWithinMaxResizeRange=!1):(this._resizedBy=t,this.isWithinMaxResizeRange=!0)}}return t.\u0275fac=function(e){return new(e||t)(i.Ub(i.l),i.Ub(Qs),i.Ub(ta))},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})(),ya=(()=>{class t{constructor(t,e,n,i,r,s,o){this.columnResizerService=t,this.renderer=e,this.ngZone=n,this.tableSizeService=i,this.commonString=r,this.document=s,this.columnSeparatorId=o,this.resizeStartedOnKeyDown=!1,this.unlisteners=[]}get resizeTrackerEl(){return this.resizeTrackerRef.nativeElement}get columnHandleEl(){return this.columnHandleRef.nativeElement}ngAfterViewInit(){this.ngZone.runOutsideAngular(()=>{this.unlisteners.push(this.renderer.listen(this.columnHandleEl,"keydown",t=>{this.showTrackerOnFirstKeyDown(t),this.moveTrackerOnKeyDown(t)})),this.unlisteners.push(this.renderer.listen(this.columnHandleEl,"keyup",t=>{this.hideTrackerOnKeyUp(t)}))})}get descriptionId(){return`${this.columnSeparatorId}-aria-describedby`}showTracker(){this.columnResizerService.startResize();const t=this.tableSizeService.getColumnDragHeight();this.renderer.setStyle(this.resizeTrackerEl,"height",t),this.renderer.setStyle(this.resizeTrackerEl,"display","block")}moveTracker(t){this.columnResizerService.calculateResize(t),this.renderer.setStyle(this.resizeTrackerEl,"transform",`translateX(${this.columnResizerService.resizedBy}px)`),this.renderer.setStyle(this.document.body,"cursor","col-resize"),this.redFlagTracker()}hideTracker(){this.columnResizerService.endResize(),this.renderer.setStyle(this.resizeTrackerEl,"display","none"),this.renderer.setStyle(this.resizeTrackerEl,"transform","translateX(0px)"),this.renderer.setStyle(this.document.body,"cursor","auto")}showTrackerOnFirstKeyDown(t){this.resizeStartedOnKeyDown||!this.isArrowLeftKeyEvent(t)&&!this.isArrowRightKeyEvent(t)||(this.resizeStartedOnKeyDown=!0,this.renderer.addClass(this.resizeTrackerEl,"on-arrow-key-resize"),this.showTracker())}moveTrackerOnKeyDown(t){this.isArrowLeftKeyEvent(t)?this.moveTracker(this.columnResizerService.resizedBy-12):this.isArrowRightKeyEvent(t)&&this.moveTracker(this.columnResizerService.resizedBy+12)}hideTrackerOnKeyUp(t){this.resizeStartedOnKeyDown&&(this.isArrowLeftKeyEvent(t)||this.isArrowRightKeyEvent(t))&&(this.resizeStartedOnKeyDown=!1,this.renderer.removeClass(this.resizeTrackerEl,"on-arrow-key-resize"),this.hideTracker(),this.columnHandleEl.focus())}redFlagTracker(){this.isWithinMaxResizeRange!==this.columnResizerService.isWithinMaxResizeRange&&(this.isWithinMaxResizeRange=this.columnResizerService.isWithinMaxResizeRange,this.isWithinMaxResizeRange?this.renderer.removeClass(this.resizeTrackerEl,"exceeded-max"):this.renderer.addClass(this.resizeTrackerEl,"exceeded-max"))}isArrowLeftKeyEvent(t){return t.key===ar.ArrowLeft||t.key===lr.ArrowLeft}isArrowRightKeyEvent(t){return t.key===ar.ArrowRight||t.key===lr.ArrowRight}ngOnDestroy(){this.unlisteners.forEach(t=>t())}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(ga),i.Kb(i.E),i.Kb(i.A),i.Kb(ua),i.Kb(Ir),i.Kb(K.d),i.Kb(Lr))},t.\u0275cmp=i.Eb({type:t,selectors:[["clr-dg-column-separator"]],viewQuery:function(t,e){if(1&t&&(i.Dc(ki,1),i.Dc(Fi,1)),2&t){let t;i.kc(t=i.Yb())&&(e.resizeTrackerRef=t.first),i.kc(t=i.Yb())&&(e.columnHandleRef=t.first)}},hostVars:2,hostBindings:function(t,e){2&t&&i.Cb("datagrid-column-separator",!0)},features:[i.yb([Pr])],decls:6,vars:5,consts:[["type","button","clrDraggable","",1,"datagrid-column-handle",3,"clrGroup","clrDragStart","clrDragMove","clrDragEnd"],["columnHandle",""],[1,"clr-sr-only"],[1,"datagrid-column-resize-tracker"],["resizeTracker",""]],template:function(t,e){1&t&&(i.Qb(0,"button",0,1),i.Xb("clrDragStart",function(){return e.showTracker()})("clrDragMove",function(t){return e.moveTracker(t.dragPosition.moveX)})("clrDragEnd",function(){return e.hideTracker()}),i.Pb(),i.Qb(2,"span",2),i.yc(3),i.Pb(),i.Lb(4,"div",3,4)),2&t&&(i.fc("clrGroup",e.columnSeparatorId),i.Ab("aria-label",e.commonString.keys.columnSeparatorAriaLabel)("aria-describedby",e.descriptionId),i.zb(2),i.Ab("id",e.descriptionId),i.zb(1),i.Ac(" ",e.commonString.keys.columnSeparatorDescription," "))},directives:[lo],encapsulation:2}),t})(),_a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Eb({type:t,selectors:[["clr-dg-column-toggle-title"]],ngContentSelectors:Ne,decls:1,vars:0,template:function(t,e){1&t&&(i.ec(),i.dc(0))},encapsulation:2}),t})(),ba=(()=>{class t{constructor(t){this.columnsService=t,this.allSelected=new i.n}get clrAllSelected(){return this.allSelected.asObservable()}hideableColumns(){return this.columnsService.columns.filter(t=>t.value.hideable)}get allHideablesVisible(){return 0===this.hideableColumns().filter(t=>t.value.hidden).length}selectAll(){this.hideableColumns().forEach(t=>this.columnsService.emitStateChange(t,{hidden:!1,changes:[da.HIDDEN]})),this.allSelected.next(!0)}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(fa))},t.\u0275cmp=i.Eb({type:t,selectors:[["clr-dg-column-toggle-button"]],outputs:{clrAllSelected:"clrAllSelected"},ngContentSelectors:Ne,decls:2,vars:1,consts:[["type","button",1,"btn","btn-sm","btn-link","switch-button",3,"disabled","click"]],template:function(t,e){1&t&&(i.ec(),i.Qb(0,"button",0),i.Xb("click",function(){return e.selectAll()}),i.dc(1),i.Pb()),2&t&&i.fc("disabled",e.allHideablesVisible)},encapsulation:2}),t})(),va=(()=>{class t{constructor(t,e,n,i,r,s){this.commonStrings=t,this.columnsService=e,this.columnSwitchId=n,this.platformId=i,this.zone=r,this.popoverId=s,this.smartPosition={axis:vr.VERTICAL,side:Dr.BEFORE,anchor:pr.START,content:pr.START}}get allColumnsVisible(){return this._allColumnsVisible}set allColumnsVisible(t){this._allColumnsVisible=t}get hideableColumnStates(){return this.columnsService.columns.filter(t=>t.value.hideable).map(t=>t.value)}get hasOnlyOneVisibleColumn(){return 0==this.columnsService.columns.length-this.hideableColumnStates.length&&1===this.hideableColumnStates.filter(t=>!t.hidden).length}toggleColumnState(t,e){const n=this.columnsService.columns.filter(e=>e.value===t)[0];this.columnsService.emitStateChange(n,{hidden:e,changes:[da.HIDDEN]})}toggleSwitchPanel(){this.openState=!this.openState}allColumnsSelected(){this.allSelectedElement.nativeElement.focus()}trackByFn(t){return t}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(Ir),i.Kb(fa),i.Kb(Lr),i.Kb(i.C),i.Kb(i.A),i.Kb(Lr))},t.\u0275cmp=i.Eb({type:t,selectors:[["clr-dg-column-toggle"]],contentQueries:function(t,e,n){if(1&t&&(i.Db(n,_a,1),i.Db(n,ba,1)),2&t){let t;i.kc(t=i.Yb())&&(e.customToggleTitle=t.first),i.kc(t=i.Yb())&&(e.customToggleButton=t.first)}},viewQuery:function(t,e){if(1&t&&i.Dc(Ui,1,i.l),2&t){let t;i.kc(t=i.Yb())&&(e.allSelectedElement=t.first)}},hostVars:4,hostBindings:function(t,e){2&t&&i.Cb("column-switch-wrapper",!0)("active",e.openState)},features:[i.yb([Pr,ur,Sr,hr])],ngContentSelectors:qi,decls:3,vars:8,consts:[["role","button","type","button","clrPopoverAnchor","","clrPopoverOpenCloseButton","",1,"btn","btn-sm","btn-link","column-toggle--action"],["shape","view-columns","aria-hidden","true"],["class","column-switch","role","dialog","clrFocusTrap","",3,"id",4,"clrPopoverContent","clrPopoverContentAt","clrPopoverContentOutsideClickToClose","clrPopoverContentScrollToClose"],["role","dialog","clrFocusTrap","",1,"column-switch",3,"id"],[1,"switch-header"],["tabindex","-1",1,"clr-sr-only"],["allSelected",""],[4,"ngIf"],["clrPopoverCloseButton","","type","button",1,"btn","btn-sm","btn-link","toggle-switch-close-button"],["shape","window-close","aria-hidden","true"],[1,"switch-content","list-unstyled"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"switch-footer"],[3,"clrAllSelected",4,"ngIf"],["clrCheckbox","","type","checkbox",3,"disabled","ngModel","ngModelChange"],[3,"ngTemplateOutlet"],[3,"clrAllSelected"]],template:function(t,e){1&t&&(i.ec(Xi),i.Qb(0,"button",0),i.Lb(1,"cds-icon",1),i.Pb(),i.wc(2,Hi,14,10,"div",2)),2&t&&(i.Ab("aria-controls",e.popoverId)("aria-owns",e.popoverId)("title",e.commonStrings.keys.pickColumns),i.zb(1),i.Ab("title",e.commonStrings.keys.pickColumns),i.zb(1),i.fc("clrPopoverContent",e.openState)("clrPopoverContentAt",e.smartPosition)("clrPopoverContentOutsideClickToClose",!0)("clrPopoverContentScrollToClose",!0))},directives:function(){return[Er,xr,sr,Tr,_s,K.n,wr,K.m,wa,hs,ft.a,us,ft.j,ft.m,ts,K.r,ba]},encapsulation:2}),t})(),Sa=(()=>{class t{constructor(t,e,n){this.selection=t,this.detailService=e,this.columnsService=n,this.SELECTION_TYPE=na}get hasHideableColumns(){return this.columnsService.hasHideableColumns}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(ra),i.Kb(No),i.Kb(fa))},t.\u0275cmp=i.Eb({type:t,selectors:[["clr-dg-footer"]],contentQueries:function(t,e,n){if(1&t&&i.Db(n,va,1),2&t){let t;i.kc(t=i.Yb())&&(e.toggle=t.first)}},hostVars:2,hostBindings:function(t,e){2&t&&i.Cb("datagrid-footer",!0)},ngContentSelectors:Ji,decls:3,vars:2,consts:[[4,"ngIf"],[1,"clr-form-control-disabled"],[1,"datagrid-footer-select"],["clrCheckbox","","type","checkbox","checked","checked","disabled",""],[1,"datagrid-footer-description"]],template:function(t,e){1&t&&(i.ec(Zi),i.wc(0,Wi,6,1,"ng-container",0),i.wc(1,Ki,5,1,"ng-container",0),i.dc(2)),2&t&&(i.fc("ngIf",e.selection.selectionType===e.SELECTION_TYPE.Multi&&e.selection.current.length>0),i.zb(1),i.fc("ngIf",!e.detailService.isOpen))},directives:[K.n,hs,us,ts,va],encapsulation:2}),t})();const Ta=new i.r("COLUMN_STATE"),xa={provide:Ta,useFactory:function(){return new Q.a({changes:[]})}};let wa=(()=>{class t{constructor(t){this._items=t}set trackBy(t){this._items&&(this._items.trackBy=t)}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(zo,8))},t.\u0275dir=i.Fb({type:t,selectors:[["","ngForTrackBy",""]],inputs:{trackBy:["ngForTrackBy","trackBy"]}}),t})(),Ea=(()=>{class t{constructor(t,e,n){this.el=t,this.renderer=e,this.subscriptions=[],this.subscriptions.push(n.filterRenderSteps($o.CLEAR_WIDTHS).subscribe(()=>this.clearWidth()))}set columnState(t){this.stateSubscription&&this.stateSubscription.unsubscribe(),this.runAllChanges=pa,this.stateSubscription=t.subscribe(t=>this.stateChanges(t))}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe()),this.stateSubscription&&this.stateSubscription.unsubscribe()}stateChanges(t){this.runAllChanges&&(t.changes=this.runAllChanges,delete this.runAllChanges),t.changes&&t.changes.length&&t.changes.forEach(e=>{switch(e){case da.WIDTH:this.setWidth(t);break;case da.HIDDEN:this.setHidden(t)}})}clearWidth(){this.renderer.removeClass(this.el.nativeElement,"datagrid-fixed-width"),this.renderer.setStyle(this.el.nativeElement,"width",null)}setWidth(t){t.strictWidth?this.renderer.addClass(this.el.nativeElement,"datagrid-fixed-width"):this.renderer.removeClass(this.el.nativeElement,"datagrid-fixed-width"),this.renderer.setStyle(this.el.nativeElement,"width",t.width+"px")}setHidden(t){t.hidden?this.renderer.addClass(this.el.nativeElement,"datagrid-hidden-column"):this.renderer.removeClass(this.el.nativeElement,"datagrid-hidden-column")}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(i.l),i.Kb(i.E),i.Kb(ta))},t.\u0275dir=i.Fb({type:t,selectors:[["clr-dg-cell"]]}),t})(),Ca=(()=>{class t{constructor(t,e,n,r,s,o,a){this.el=t,this.renderer=e,this.organizer=n,this.domAdapter=r,this.columnResizerService=s,this.columnsService=o,this.columnState=a,this.resizeEmitter=new i.n,this.widthSet=!1,this.autoSet=!1,this.subscriptions=[],this.subscriptions.push(this.organizer.filterRenderSteps($o.CLEAR_WIDTHS).subscribe(()=>this.clearWidth())),this.subscriptions.push(a.subscribe(t=>this.stateChanges(t)))}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}stateChanges(t){t.changes&&t.changes.length&&t.changes.forEach(e=>{switch(e){case da.WIDTH:this.setWidth(t);break;case da.HIDDEN:this.setHidden(t)}})}clearWidth(){this.widthSet&&!this.columnResizerService.resizedBy&&this.renderer.setStyle(this.el.nativeElement,"width",null),this.autoSet&&this.renderer.removeClass(this.el.nativeElement,"datagrid-fixed-width")}detectStrictWidth(){return this.columnResizerService.resizedBy?this.columnResizerService.widthAfterResize:this.autoSet?0:this.domAdapter.userDefinedWidth(this.el.nativeElement)}computeWidth(t){let e=t;return e||(e=this.domAdapter.scrollWidth(this.el.nativeElement)),e}getColumnWidthState(){const t=this.detectStrictWidth();return{width:this.computeWidth(t),strictWidth:t}}setColumnState(t){this.columnsService.columns[t]=this.columnState}setWidth(t){t.strictWidth?(this.columnResizerService.resizedBy&&(this.resizeEmitter.emit(t.width),this.renderer.setStyle(this.el.nativeElement,"width",t.width+"px"),this.widthSet=!1),this.renderer.addClass(this.el.nativeElement,"datagrid-fixed-width"),this.autoSet=!1):(this.renderer.removeClass(this.el.nativeElement,"datagrid-fixed-width"),this.renderer.setStyle(this.el.nativeElement,"width",t.width+"px"),this.widthSet=!0,this.autoSet=!0)}setHidden(t){t.hidden?this.renderer.addClass(this.el.nativeElement,"datagrid-hidden-column"):this.renderer.removeClass(this.el.nativeElement,"datagrid-hidden-column")}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(i.l),i.Kb(i.E),i.Kb(ta),i.Kb(Qs),i.Kb(ga),i.Kb(fa),i.Kb(Ta))},t.\u0275dir=i.Fb({type:t,selectors:[["clr-dg-column"]],outputs:{resizeEmitter:"clrDgColumnResize"},features:[i.yb([ga,xa])]}),t})(),Ma=(()=>{class t{userDefinedWidth(t){return 0}scrollBarWidth(t){return 0}scrollWidth(t){return 0}computedHeight(t){return 0}clientRect(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}minWidth(t){return 0}focus(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})(),Oa=(()=>{class t{constructor(t){this.columnsService=t,this.subscriptions=[]}ngAfterContentInit(){this.setColumnState(),this.subscriptions.push(this.cells.changes.subscribe(()=>{this.setColumnState()}))}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}setColumnState(){this.cells.length===this.columnsService.columns.length&&this.cells.forEach((t,e)=>{this.columnsService.columns[e]&&(t.columnState=this.columnsService.columns[e])})}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(fa))},t.\u0275dir=i.Fb({type:t,selectors:[["clr-dg-row"],["clr-dg-row-detail"]],contentQueries:function(t,e,n){if(1&t&&i.Db(n,Ea,0),2&t){let t;i.kc(t=i.Yb())&&(e.cells=t)}}}),t})();const Aa=t=>Object(K.A)(t)?new Qs:new Ma;let Ia=(()=>{class t{constructor(t,e,n,i,r,s,o,a,l){this.organizer=t,this.items=e,this.page=n,this.domAdapter=i,this.el=r,this.renderer=s,this.detailService=o,this.tableSizeService=a,this.columnsService=l,this._heightSet=!1,this.subscriptions=[],this.columnsSizesStable=!1,this.shouldStabilizeColumns=!0,this.subscriptions.push(this.organizer.filterRenderSteps($o.COMPUTE_COLUMN_WIDTHS).subscribe(()=>this.computeHeadersWidth())),this.subscriptions.push(this.page.sizeChange.subscribe(()=>{this._heightSet&&this.resetDatagridHeight()})),this.subscriptions.push(this.detailService.stateChange.subscribe(t=>this.toggleDetailPane(t))),this.subscriptions.push(this.items.change.subscribe(()=>this.shouldStabilizeColumns=!0))}ngAfterContentInit(){this.setupColumns(),this.subscriptions.push(this.headers.changes.subscribe(()=>{this.setupColumns(),this.columnsSizesStable=!1,this.stabilizeColumns()}))}ngAfterViewInit(){this.tableSizeService.table=this.el}ngAfterViewChecked(){this.shouldStabilizeColumns&&this.stabilizeColumns(),this.shouldComputeHeight()&&setTimeout(()=>{this.computeDatagridHeight()})}setupColumns(){this.headers.forEach((t,e)=>t.setColumnState(e)),this.columnsService.columns.splice(this.headers.length),this.rows.forEach(t=>t.setColumnState())}shouldComputeHeight(){return!this._heightSet&&this.page.size>0&&this.items.displayed.length===this.page.size}toggleDetailPane(t){this.headers&&(t&&!this.columnsService.hasCache()?(this.columnsService.cache(),this.headers.forEach((e,n)=>{n>0&&this.columnsService.emitStateChangeAt(n,{changes:[da.HIDDEN],hidden:t})})):t||this.columnsService.resetToLastCache())}computeDatagridHeight(){const t=this.domAdapter.clientRect(this.el.nativeElement).height;this.renderer.setStyle(this.el.nativeElement,"height",t+"px"),this._heightSet=!0}resetDatagridHeight(){this.renderer.setStyle(this.el.nativeElement,"height",""),this._heightSet=!1}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}computeHeadersWidth(){const t=this.headers.length;let e=!0;this.headers.forEach((n,i)=>{const r=Object.assign({changes:[da.WIDTH]},n.getColumnWidthState());r.strictWidth||(e=!1),t===i+1&&e&&(r.strictWidth=0),this.columnsService.emitStateChangeAt(i,r)})}stabilizeColumns(){this.shouldStabilizeColumns=!1,this.columnsSizesStable||this.items.displayed.length>0&&(this.organizer.resize(),this.columnsSizesStable=!0)}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(ta),i.Kb(zo),i.Kb(yo),i.Kb(Qs),i.Kb(i.l),i.Kb(i.E),i.Kb(No),i.Kb(ua),i.Kb(fa))},t.\u0275dir=i.Fb({type:t,selectors:[["clr-datagrid"]],contentQueries:function(t,e,n){if(1&t&&(i.Db(n,Ca,0),i.Db(n,Oa,1)),2&t){let t;i.kc(t=i.Yb())&&(e.headers=t),i.kc(t=i.Yb())&&(e.rows=t)}},features:[i.yb([{provide:Qs,useFactory:Aa,deps:[i.C]}])]}),t})(),Ra=(()=>{class t{constructor(){E.addIcons(N,j,D,k,F,U,G,V,B)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({imports:[[K.c,or,Ks,ft.h,Zs,gs,Js,uo,co,qs,Cr,bs,fo]]}),t})(),La=(()=>{class t{constructor(){E.addIcons(A)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({imports:[[K.c,ft.h,or,uo]]}),t})();new i.B,new i.J;let Pa=(()=>{class t{constructor(){E.addIcons(A)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({imports:[[K.c,or,Zs]]}),t})(),Da=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({imports:[Ra,La,Pa]}),t})();class Na{static linkParent(t,e,n){t.forEach(t=>t[n]=e)}static linkVertical(t,e=!0){t.forEach((e,n)=>{n>0&&(e.up=t[n-1]),n<t.length-1&&(e.down=t[n+1])}),e&&t.length>1&&(t[0].up=t[t.length-1],t[t.length-1].down=t[0])}}function ja(t,e,n){return it.a.create(i=>{e(i);const r=t.subscribe(i);return()=>{r.unsubscribe(),n&&n(i)}})}Gs((()=>{class t{constructor(t,e,n,i,r,s){this.id=t,this.renderer=e,this.parent=n,this.toggleService=i,this.focusService=r,this.platformId=s,this._unlistenFuncs=[],this.focusBackOnTrigger=!1,this.resetChildren(),this.moveToFirstItemWhenOpen(),this.parent||this.handleRootFocus()}moveToFirstItemWhenOpen(){this.toggleService.openChange.subscribe(t=>{t&&this.toggleService.originalEvent&&setTimeout(()=>{this.focusService.moveTo(this),this.focusService.move(this.parent?Vs.RIGHT:Vs.DOWN)})})}handleRootFocus(){this.toggleService.openChange.subscribe(t=>{t||(this.focusService.reset(this),this.focusBackOnTrigger&&this.focus()),this.focusBackOnTrigger=t})}get trigger(){return this._trigger}set trigger(t){this._trigger=t,this.parent?this._unlistenFuncs.push(this.renderer.listen(t,"keydown.arrowright",t=>this.toggleService.toggleWithEvent(t))):(this._unlistenFuncs.push(this.renderer.listen(t,"keydown.arrowup",t=>this.toggleService.toggleWithEvent(t))),this._unlistenFuncs.push(this.renderer.listen(t,"keydown.arrowdown",t=>this.toggleService.toggleWithEvent(t))),this.focusService.listenToArrowKeys(t))}get container(){return this._container}set container(t){this._container=t,this._unlistenFuncs.push(this.renderer.listen(t,"keydown.tab",t=>this.toggleService.toggleWithEvent(t))),this.parent?this._unlistenFuncs.push(this.renderer.listen(t,"keydown.esc",t=>{this.focusService.move(Vs.LEFT),t.stopPropagation()})):(this.focusService.registerContainer(t),this._unlistenFuncs.push(this.renderer.listen(t,"keydown.esc",t=>this.toggleService.toggleWithEvent(t))),this._unlistenFuncs.push(this.renderer.listen(t,"blur",e=>{this.children.pipe(Object(ut.a)(1)).subscribe(t=>t.forEach(t=>t.blur()));const n=e.relatedTarget||document.activeElement;n&&Object(K.A)(this.platformId)&&(t.contains(n)||n===this.trigger)||(this.focusBackOnTrigger=!1,this.toggleService.open=!1)})))}focus(){this.trigger&&Object(K.A)(this.platformId)&&this.trigger.focus()}blur(){this.trigger&&Object(K.A)(this.platformId)&&this.trigger.blur()}activate(){Object(K.A)(this.platformId)&&this.trigger.click()}openAndGetChildren(){return ja(this.children,()=>this.toggleService.open=!0)}closeAndGetThis(){return ja(Object($.a)(this),()=>this.toggleService.open=!1)}resetChildren(){this.children=new tt.a(1),this.parent?this.right=this.openAndGetChildren().pipe(Object(dt.a)(t=>t[0])):(this.down=this.openAndGetChildren().pipe(Object(dt.a)(t=>t[0])),this.up=this.openAndGetChildren().pipe(Object(dt.a)(t=>t[t.length-1])))}addChildren(t){Na.linkVertical(t),this.parent&&Na.linkParent(t,this.closeAndGetThis(),Vs.LEFT),this.children.next(t)}ngOnDestroy(){this._unlistenFuncs.forEach(t=>t()),this.focusService.detachListeners()}}return t.\u0275fac=function(e){return new(e||t)(i.Ub(Lr),i.Ub(i.E),i.Ub(t,12),i.Ub(hr),i.Ub(Hs),i.Ub(i.C))},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})()),new i.B,new i.J;var ka=function(t){return t[t.RIGHT_CENTER=0]="RIGHT_CENTER",t[t.RIGHT_TOP=1]="RIGHT_TOP",t[t.RIGHT_BOTTOM=2]="RIGHT_BOTTOM",t[t.TOP_CENTER=3]="TOP_CENTER",t[t.TOP_RIGHT=4]="TOP_RIGHT",t[t.TOP_LEFT=5]="TOP_LEFT",t[t.BOTTOM_CENTER=6]="BOTTOM_CENTER",t[t.BOTTOM_RIGHT=7]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=8]="BOTTOM_LEFT",t[t.LEFT_CENTER=9]="LEFT_CENTER",t[t.LEFT_TOP=10]="LEFT_TOP",t[t.LEFT_BOTTOM=11]="LEFT_BOTTOM",t}({});class Fa{constructor(t){this.element=t,this.scrollableElements=[],this.boundOnScrollListener=this.emitScrollEvent.bind(this),t.style.position="absolute",t.style.top=0,t.style.bottom="auto",t.style.left=0,t.style.right="auto"}anchor(t,e,n,{offsetX:i=0,offsetY:r=0,useAnchorParent:s=!1}={}){this.addScrollEventListeners(t),s&&(t=t.parentNode),t.style.position="static";const o=t.getBoundingClientRect(),a=this.element.getBoundingClientRect();let l=o.left-a.left+i,c=o.top-a.top+r;switch(e){case ka.LEFT_TOP:case ka.TOP_LEFT:break;case ka.TOP_CENTER:l+=o.width/2;break;case ka.TOP_RIGHT:case ka.RIGHT_TOP:l+=o.width;break;case ka.LEFT_BOTTOM:case ka.BOTTOM_LEFT:c+=o.height;break;case ka.BOTTOM_CENTER:c+=o.height,l+=o.width/2;break;case ka.BOTTOM_RIGHT:case ka.RIGHT_BOTTOM:c+=o.height,l+=o.width;break;case ka.LEFT_CENTER:c+=o.height/2;break;case ka.RIGHT_CENTER:c+=o.height/2,l+=o.width}switch(n){case ka.LEFT_TOP:case ka.TOP_LEFT:break;case ka.TOP_CENTER:l-=a.width/2;break;case ka.TOP_RIGHT:case ka.RIGHT_TOP:l-=a.width;break;case ka.LEFT_BOTTOM:case ka.BOTTOM_LEFT:c-=a.height;break;case ka.BOTTOM_CENTER:c-=a.height,l-=a.width/2;break;case ka.BOTTOM_RIGHT:case ka.RIGHT_BOTTOM:c-=a.height,l-=a.width;break;case ka.LEFT_CENTER:c-=a.height/2;break;case ka.RIGHT_CENTER:c-=a.height/2,l-=a.width}const h=getComputedStyle(this.element),u=parseInt(h.marginLeft,10),d=parseInt(h.marginRight,10),p=parseInt(h.marginTop,10),f=parseInt(h.marginBottom,10);switch(e){case ka.LEFT_TOP:case ka.TOP_LEFT:case ka.TOP_RIGHT:case ka.RIGHT_TOP:n!==ka.BOTTOM_RIGHT&&n!==ka.RIGHT_BOTTOM||(c-=f,l-=d),n!==ka.BOTTOM_LEFT&&n!==ka.LEFT_BOTTOM||(c-=p,l+=u),n!==ka.TOP_LEFT&&n!==ka.LEFT_TOP||(c+=p,l+=u),n!==ka.TOP_RIGHT&&n!==ka.RIGHT_TOP||(c+=p,l-=d);break;case ka.LEFT_BOTTOM:case ka.BOTTOM_LEFT:case ka.BOTTOM_RIGHT:case ka.RIGHT_BOTTOM:n!==ka.BOTTOM_LEFT&&n!==ka.LEFT_BOTTOM||(c-=f,l+=u),n!==ka.BOTTOM_RIGHT&&n!==ka.RIGHT_BOTTOM||(c-=f,l-=d),n!==ka.TOP_LEFT&&n!==ka.LEFT_TOP||(c+=p,l+=u),n!==ka.TOP_RIGHT&&n!==ka.RIGHT_TOP||(c+=p,l-=d);break;case ka.TOP_CENTER:c-=f,l+=u,l-=d;break;case ka.BOTTOM_CENTER:c+=p,l+=u,l-=d;break;case ka.LEFT_CENTER:c+=p,c-=f,l-=d;break;case ka.RIGHT_CENTER:c+=p,c-=f,l+=u}return this.element.style.transform=`translateX(${Math.round(l)}px) translateY(${Math.round(c)}px)`,this._scroll.asObservable()}release(){this.element.style.transform="",this.removeScrollEventListeners()}isPositioned(t){const e=getComputedStyle(t).position;return"relative"===e||"absolute"===e||"fixed"===e}emitScrollEvent(){this._scroll.next()}addScrollEventListeners(t){this._scroll=new Z.a;const e=t;let n=t;for(;n&&n!==document&&(this.scrolls(n)&&(n.addEventListener("scroll",this.boundOnScrollListener),this.scrollableElements.push(n)),n===e||!this.isPositioned(n));)n=n.parentNode}removeScrollEventListeners(){for(const t of this.scrollableElements)t.removeEventListener("scroll",this.boundOnScrollListener);this.scrollableElements.length=0,this._scroll&&(this._scroll.complete(),delete this._scroll)}scrolls(t){const e=getComputedStyle(t);return"scroll"===e.overflowX||"auto"===e.overflowX||"scroll"===e.overflowY||"auto"===e.overflowY}}let Ua=(()=>{class t{constructor(t,e){this.parentHost=e,this.updateAnchor=!1,this.popoverOptions={},this.closeOnOutsideClick=!1,this.el=t.get(i.l),this.toggleService=t.get(hr),this.renderer=t.get(i.E),this.anchorElem=e.nativeElement,this.popoverInstance=new Fa(this.el.nativeElement),this.subscription=this.toggleService.openChange.subscribe(t=>{t?(this.anchor(),this.attachESCListener()):(this.release(),this.detachESCListener())}),this.toggleService.open&&(this.anchor(),this.attachESCListener())}anchor(){this.updateAnchor=!0,this.ignore=this.toggleService.originalEvent}release(){this.detachOutsideClickListener(),this.popoverInstance.release()}ngAfterViewChecked(){this.updateAnchor&&(this.updateAnchor=!1,this.popoverInstance.anchor(this.anchorElem,this.anchorPoint,this.popoverPoint,this.popoverOptions).subscribe(()=>{this.toggleService.open=!1}),this.attachOutsideClickListener())}ngOnDestroy(){this.release(),this.detachESCListener(),this.subscription.unsubscribe()}get isOffScreen(){return!this.toggleService.open}attachESCListener(){this.popoverOptions.ignoreGlobalESCListener||(this.documentESCListener=this.renderer.listen("document","keydown",t=>{t&&t.key&&("Escape"!==t.key&&"Esc"!==t.key||(this.toggleService.open=!1))}))}detachESCListener(){this.documentESCListener&&(this.documentESCListener(),delete this.documentESCListener)}attachOutsideClickListener(){this.closeOnOutsideClick&&(this.hostClickListener=this.renderer.listen(this.el.nativeElement,"click",t=>this.ignore=t),this.ignoredElement&&(this.ignoredElementClickListener=this.renderer.listen(this.ignoredElement,"click",t=>this.ignore=t)),this.documentClickListener=this.renderer.listen("document","click",t=>{t===this.ignore?delete this.ignore:this.toggleService.open=!1}))}detachOutsideClickListener(){this.closeOnOutsideClick&&(this.hostClickListener&&(this.hostClickListener(),delete this.hostClickListener),this.ignoredElementClickListener&&(this.ignoredElementClickListener(),delete this.ignoredElementClickListener),this.documentClickListener&&(this.documentClickListener(),delete this.documentClickListener))}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(i.s),i.Kb(i.l,4))},t.\u0275dir=i.Fb({type:t,hostVars:2,hostBindings:function(t,e){2&t&&i.Cb("is-off-screen",e.isOffScreen)}}),t})(),Ga=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({imports:[[K.c],gs,or]}),t})(),Va=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Fb({type:t,selectors:[["",8,"alert-text"]]}),t})(),Ba=(()=>{class t{constructor(){E.addIcons(O,z,M,H,D)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({imports:[[K.c,or,Ga]]}),t})(),za=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({imports:[Ba]}),t})(),Ha=(()=>{class t{}return t.NAV_LEVEL_1=1,t.NAV_LEVEL_2=2,t.NAV_CLOSE_ALL="NAV_CLOSE_ALL",t.NAV_OPEN="NAV_OPEN",t.NAV_CLOSE="NAV_CLOSE",t.NAV_TOGGLE="NAV_TOGGLE",t.NAV_CLASS_HAMBURGER_MENU="open-hamburger-menu",t.NAV_CLASS_OVERFLOW_MENU="open-overflow-menu",t.NAV_CLASS_TRIGGER_1="header-hamburger-trigger",t.NAV_CLASS_TRIGGER_2="header-overflow-trigger",t.NAV_CLASS_LEVEL_1="clr-nav-level-1",t.NAV_CLASS_LEVEL_2="clr-nav-level-2",t})();class Xa{constructor(t,e){this._controlCode=t,this._navLevel=e}get controlCode(){return this._controlCode}get navLevel(){return this._navLevel}}let qa=(()=>{class t{constructor(){this.responsiveNavList=[],this.registerNavSubject=new tt.a,this.controlNavSubject=new Z.a,this.closeAllNavs()}get registeredNavs(){return this.registerNavSubject.asObservable()}get navControl(){return this.controlNavSubject.asObservable()}registerNav(t){t&&!this.isNavRegistered(t)&&(this.responsiveNavList.push(t),this.registerNavSubject.next(this.responsiveNavList))}isNavRegistered(t){return this.responsiveNavList.indexOf(t)>-1&&(console.error("Multiple clr-nav-level "+t+" attributes found. Please make sure that only one exists"),!0)}unregisterNav(t){const e=this.responsiveNavList.indexOf(t);e>-1&&(this.responsiveNavList.splice(e,1),this.registerNavSubject.next(this.responsiveNavList))}sendControlMessage(t,e){const n=new Xa(t,e);this.controlNavSubject.next(n)}closeAllNavs(){const t=new Xa(Ha.NAV_CLOSE_ALL,-999);this.controlNavSubject.next(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Gb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Wa=(()=>{class t{constructor(t,e){this.elRef=t,this.responsiveNavService=e}ngOnInit(){this._classList=this.elRef.nativeElement.classList,this._subscription=this.responsiveNavService.navControl.subscribe({next:t=>{this.processMessage(t)}})}processMessage(t){let e=Ha.NAV_CLASS_HAMBURGER_MENU;t.controlCode===Ha.NAV_CLOSE_ALL?(this._classList.remove(Ha.NAV_CLASS_HAMBURGER_MENU),this._classList.remove(Ha.NAV_CLASS_OVERFLOW_MENU)):t.navLevel===Ha.NAV_LEVEL_1?this.controlNav(t.controlCode,e):t.navLevel===Ha.NAV_LEVEL_2&&(e=Ha.NAV_CLASS_OVERFLOW_MENU,this.controlNav(t.controlCode,e))}controlNav(t,e){t===Ha.NAV_OPEN?this._classList.add(e):t===Ha.NAV_CLOSE?this._classList.remove(e):t===Ha.NAV_TOGGLE&&this._classList.toggle(e)}ngOnDestroy(){this._subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(i.l),i.Kb(qa))},t.\u0275dir=i.Fb({type:t,selectors:[["clr-main-container"]],hostVars:2,hostBindings:function(t,e){2&t&&i.Cb("main-container",!0)}}),t})(),Ya=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({imports:[[K.c,or]]}),t})(),Ka=(()=>{class t extends Ao{}return t.\u0275fac=function(e){return Za(e||t)},t.\u0275dir=i.Fb({type:t,selectors:[["clr-main-container"]],features:[i.wb]}),t})();const Za=i.Sb(Ka);let Ja=(()=>{class t extends Io{constructor(t,e,n){if(!e)throw new Error("clr-header should only be used inside of a clr-main-container");super(t,e),this.responsiveNavService=n}get flavor(){return this.responsiveNavService.responsiveNavList.reduce((t,e)=>t+e,0)}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(i.h),i.Kb(Ka,8),i.Kb(qa))},t.\u0275dir=i.Fb({type:t,selectors:[["clr-header"]],features:[i.wb]}),t})(),Qa=(()=>{class t{constructor(t,e){this.responsiveNavService=t,this.commonStrings=e,this.isNavLevel1OnPage=!1,this.isNavLevel2OnPage=!1,this.openNavLevel=null,this.responsiveNavCodes=Ha,this._subscription=this.responsiveNavService.registeredNavs.subscribe({next:t=>{this.initializeNavTriggers(t)}})}resetNavTriggers(){this.isNavLevel1OnPage=!1,this.isNavLevel2OnPage=!1}initializeNavTriggers(t){this.resetNavTriggers(),t.length>2?console.error("More than 2 Nav Levels detected."):t.forEach(t=>{t===Ha.NAV_LEVEL_1?this.isNavLevel1OnPage=!0:t===Ha.NAV_LEVEL_2&&(this.isNavLevel2OnPage=!0)})}closeOpenNav(){this.responsiveNavService.closeAllNavs()}toggleNav(t){this.openNavLevel=this.openNavLevel===t?null:t,this.responsiveNavService.sendControlMessage(Ha.NAV_TOGGLE,t)}ngOnDestroy(){this._subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(qa),i.Kb(Ir))},t.\u0275cmp=i.Eb({type:t,selectors:[["clr-header"]],hostVars:2,hostBindings:function(t,e){2&t&&i.Cb("header",!0)},ngContentSelectors:Ne,decls:4,vars:2,consts:[["type","button","class","header-hamburger-trigger",3,"click",4,"ngIf"],["type","button","class","header-overflow-trigger",3,"click",4,"ngIf"],[1,"header-backdrop",3,"click"],["type","button",1,"header-hamburger-trigger",3,"click"],["type","button",1,"header-overflow-trigger",3,"click"]],template:function(t,e){1&t&&(i.ec(),i.wc(0,Qi,2,1,"button",0),i.dc(1),i.wc(2,$i,2,1,"button",1),i.Qb(3,"div",2),i.Xb("click",function(){return e.closeOpenNav()}),i.Pb()),2&t&&(i.fc("ngIf",e.isNavLevel1OnPage),i.zb(2),i.fc("ngIf",e.isNavLevel2OnPage))},directives:[K.n],encapsulation:2}),t})(),$a=(()=>{class t{constructor(t,e){this.responsiveNavService=t,this.elementRef=e}ngOnInit(){this.level===Ha.NAV_LEVEL_1||this.level===Ha.NAV_LEVEL_2?(this.responsiveNavService.registerNav(this.level),this.addNavClass(this.level)):console.error("Nav Level can only be 1 or 2")}addNavClass(t){const e=this.elementRef.nativeElement.classList;t===Ha.NAV_LEVEL_1?e.add(Ha.NAV_CLASS_LEVEL_1):t===Ha.NAV_LEVEL_2&&e.add(Ha.NAV_CLASS_LEVEL_2)}get level(){return this._level}get responsiveNavCodes(){return Ha}open(){this.responsiveNavService.sendControlMessage(Ha.NAV_OPEN,this.level)}close(){this.responsiveNavService.sendControlMessage(Ha.NAV_CLOSE,this.level)}onMouseClick(t){let e=t;const n=this.elementRef.nativeElement;for(;e;){if(e===n)return;if(e.classList.contains("nav-link"))return void this.close();e=e.parentNode}}ngOnDestroy(){this.responsiveNavService.unregisterNav(this.level)}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(qa),i.Kb(i.l))},t.\u0275dir=i.Fb({type:t,selectors:[["","clr-nav-level",""]],hostBindings:function(t,e){1&t&&i.Xb("click",function(t){return e.onMouseClick(t.target)})},inputs:{_level:["clr-nav-level","_level"]}}),t})(),tl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({imports:[[K.c,or,Ga]]}),t})(),el=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({imports:[[K.c]]}),t})();new i.r("TABS_ID");let nl=(()=>{class t{constructor(){E.addIcons(C)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({imports:[[K.c,gs,or,el,Ws],gs]}),t})(),il=(()=>{class t{constructor(){this.navGroupCount=0}registerNavGroup(){this.navGroupCount++}unregisterNavGroup(){this.navGroupCount--}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})(),rl=(()=>{class t{constructor(){this._icons=0}get hasIcons(){return this._icons>0}registerIcon(){this._icons++}unregisterIcon(){this._icons--}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})(),sl=(()=>{class t{constructor(){this._animateOnCollapsed=new Z.a,this._collapsedChanged=new Z.a,this._collapsed=!1,this._collapsible=!1}get animateOnCollapsed(){return this._animateOnCollapsed.asObservable()}get collapsedChanged(){return this._collapsedChanged.asObservable()}get collapsed(){return this._collapsed}set collapsed(t){t=!!t,this.collapsible&&this._collapsed!==t&&this.updateCollapseBehavior(t)}get collapsible(){return this._collapsible}set collapsible(t){this._collapsible!==(t=!!t)&&(!t&&this.collapsed&&this.updateCollapseBehavior(!1),this._collapsible=t)}updateCollapseBehavior(t){this._animateOnCollapsed.next(t),this._collapsed=t,this._collapsedChanged.next(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})(),ol=(()=>{class t{constructor(t,e,n,r){this._navService=t,this._navIconService=e,this._navGroupRegistrationService=n,this.commonStrings=r,this._collapsedChanged=new i.n(!0),this._sub=this._navService.collapsedChanged.subscribe(t=>{this._collapsedChanged.emit(t)})}get collapsible(){return this._navService.collapsible}set collapsible(t){this._navService.collapsible=t}get collapsed(){return this._navService.collapsed}set collapsed(t){this._navService.collapsed=t}get hasNavGroups(){return this._navGroupRegistrationService.navGroupCount>0}get hasIcons(){return this._navIconService.hasIcons}get ariaExpanded(){return this.collapsible?this.collapsed?"false":"true":null}toggleByButton(){this.collapsed=!this.collapsed}ngOnDestroy(){this._sub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(sl),i.Kb(rl),i.Kb(il),i.Kb(Ir))},t.\u0275cmp=i.Eb({type:t,selectors:[["clr-vertical-nav"]],hostAttrs:[1,"clr-vertical-nav"],hostVars:6,hostBindings:function(t,e){2&t&&i.Cb("is-collapsed",e.collapsed)("has-nav-groups",e.hasNavGroups)("has-icons",e.hasIcons)},inputs:{collapsible:["clrVerticalNavCollapsible","collapsible"],collapsed:["clrVerticalNavCollapsed","collapsed"]},outputs:{_collapsedChanged:"clrVerticalNavCollapsedChange"},features:[i.yb([sl,rl,il])],ngContentSelectors:Ne,decls:4,vars:2,consts:[["type","button","class","nav-trigger",3,"on-collapse","click",4,"ngIf"],[1,"nav-content"],["class","nav-btn","aria-hidden","true","tabindex","-1",3,"click",4,"ngIf"],["type","button",1,"nav-trigger",3,"click"],["shape","angle-double",1,"nav-trigger-icon"],["aria-hidden","true","tabindex","-1",1,"nav-btn",3,"click"]],template:function(t,e){1&t&&(i.ec(),i.wc(0,tr,2,6,"button",0),i.Qb(1,"div",1),i.dc(2),i.wc(3,er,1,1,"button",2),i.Pb()),2&t&&(i.fc("ngIf",e.collapsible),i.zb(3),i.fc("ngIf",e.collapsible&&e.collapsed))},directives:[K.n,sr],encapsulation:2}),t})(),al=(()=>{class t{constructor(){this._expandChange=new Z.a}get expandChange(){return this._expandChange.asObservable()}expand(){this._expandChange.next(!0)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})(),ll=(()=>{class t{constructor(t,e,n,r,s){this._itemExpand=t,this._navGroupRegistrationService=e,this._navGroupService=n,this._navService=r,this.commonStrings=s,this.wasExpanded=!1,this.expandedChange=new i.n(!0),this._subscriptions=[],this._expandAnimationState="collapsed",this._navGroupRegistrationService.registerNavGroup(),this._subscriptions.push(this._itemExpand.expandChange.subscribe(t=>{t&&"collapsed"===this.expandAnimationState?(this._navService.collapsed&&(this._navService.collapsed=!1),this.expandAnimationState="expanded"):t||"expanded"!==this.expandAnimationState||(this.expandAnimationState="collapsed")})),this._subscriptions.push(this._navService.animateOnCollapsed.subscribe(t=>{t&&this.expanded?(this.wasExpanded=!0,this.expandAnimationState="collapsed"):!t&&this.wasExpanded&&(this.expandGroup(),this.wasExpanded=!1)})),this._subscriptions.push(this._navGroupService.expandChange.subscribe(t=>{t&&!this.expanded&&this.expandGroup()}))}get expanded(){return this._itemExpand.expanded}set expanded(t){this._itemExpand.expanded!==t&&(this._itemExpand.expanded=t,this.expandedChange.emit(t))}set userExpandedInput(t){this.expanded!==(t=!!t)&&this.toggleExpand()}expandGroup(){this.expanded=!0,this.expandAnimationState="expanded"}collapseGroup(){this.expandAnimationState="collapsed"}expandAnimationDone(t){"collapsed"===t.toState&&(this.expanded=!1)}get expandAnimationState(){return this._expandAnimationState}set expandAnimationState(t){t!==this._expandAnimationState&&(this._expandAnimationState=t)}toggleExpand(){this.expanded?this.collapseGroup():(this._navService.collapsed&&(this._navService.collapsed=!1),this.expandGroup())}ngAfterContentInit(){this._navService.collapsed&&this.expanded&&(this.wasExpanded=!0,this.expandAnimationState="collapsed")}ngOnDestroy(){this._subscriptions.forEach(t=>t.unsubscribe()),this._navGroupRegistrationService.unregisterNavGroup()}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(ms),i.Kb(il),i.Kb(al),i.Kb(sl),i.Kb(Ir))},t.\u0275cmp=i.Eb({type:t,selectors:[["clr-vertical-nav-group"]],hostAttrs:[1,"nav-group"],hostVars:2,hostBindings:function(t,e){2&t&&i.Cb("is-expanded",e.expanded)},inputs:{userExpandedInput:["clrVerticalNavGroupExpanded","userExpandedInput"]},outputs:{expandedChange:"clrVerticalNavGroupExpandedChange"},features:[i.yb([ms,al])],ngContentSelectors:ir,decls:9,vars:5,consts:[[1,"nav-group-content"],["type","button",1,"nav-group-trigger",3,"click"],[1,"nav-group-text"],["shape","angle",1,"nav-group-trigger-icon"],[1,"nav-group-children"]],template:function(t,e){1&t&&(i.ec(nr),i.Qb(0,"div",0),i.dc(1),i.Qb(2,"button",1),i.Xb("click",function(){return e.toggleExpand()}),i.dc(3,1),i.Qb(4,"div",2),i.dc(5,2),i.Pb(),i.Lb(6,"cds-icon",3),i.Pb(),i.Pb(),i.Qb(7,"div",4),i.Xb("@clrExpand.done",function(t){return e.expandAnimationDone(t)}),i.dc(8,3),i.Pb()),2&t&&(i.zb(2),i.Ab("aria-expanded",e.expanded)("aria-label",e.commonStrings.keys.verticalNavGroupToggle),i.zb(4),i.Ab("direction",e.expanded?"down":"right")("title",e.expanded?e.commonStrings.keys.collapse:e.commonStrings.keys.expand),i.zb(1),i.fc("@clrExpand",e.expandAnimationState))},directives:[sr],encapsulation:2,data:{animation:[Object(pt.k)("clrExpand",[Object(pt.h)("expanded",Object(pt.i)({height:"*"})),Object(pt.h)("collapsed",Object(pt.i)({height:0,"overflow-y":"hidden",visibility:"hidden"})),Object(pt.j)("expanded <=> collapsed",Object(pt.e)("0.2s ease-in-out"))])]}}),t})(),cl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Eb({type:t,selectors:[["clr-vertical-nav-group-children"]],ngContentSelectors:Ne,decls:1,vars:0,template:function(t,e){1&t&&(i.ec(),i.dc(0))},encapsulation:2}),t})(),hl=(()=>{class t{constructor(t){this._verticalNavIconService=t,this._verticalNavIconService.registerIcon()}ngOnDestroy(){this._verticalNavIconService.unregisterIcon()}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(rl))},t.\u0275dir=i.Fb({type:t,selectors:[["","clrVerticalNavIcon",""]],hostAttrs:[1,"nav-icon"]}),t})(),ul=(()=>{class t{constructor(){E.addIcons(A,G)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({imports:[[K.c,or,gs,fo],gs,or,fo]}),t})(),dl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({imports:[Ya,tl,nl,ul]}),t})(),pl=(()=>{class t{constructor(){E.addIcons(D)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({imports:[[K.c,or,bs,fo],or,fo]}),t})();const fl={"top-left":{anchorPoint:ka.TOP_CENTER,popoverPoint:ka.BOTTOM_RIGHT,offsetY:-10,offsetX:0},"top-middle":{anchorPoint:ka.TOP_CENTER,popoverPoint:ka.BOTTOM_CENTER,offsetY:-10,offsetX:0},"top-right":{anchorPoint:ka.TOP_CENTER,popoverPoint:ka.BOTTOM_LEFT,offsetY:-10,offsetX:0},"right-top":{anchorPoint:ka.RIGHT_CENTER,popoverPoint:ka.LEFT_BOTTOM,offsetY:2,offsetX:14},"right-middle":{anchorPoint:ka.RIGHT_CENTER,popoverPoint:ka.LEFT_CENTER,offsetY:6,offsetX:14},"right-bottom":{anchorPoint:ka.RIGHT_CENTER,popoverPoint:ka.LEFT_TOP,offsetY:-1,offsetX:14},"bottom-right":{anchorPoint:ka.BOTTOM_CENTER,popoverPoint:ka.TOP_LEFT,offsetY:9,offsetX:-1},"bottom-middle":{anchorPoint:ka.BOTTOM_CENTER,popoverPoint:ka.TOP_CENTER,offsetY:9,offsetX:12},"bottom-left":{anchorPoint:ka.BOTTOM_CENTER,popoverPoint:ka.TOP_RIGHT,offsetY:9,offsetX:0},"left-bottom":{anchorPoint:ka.LEFT_CENTER,popoverPoint:ka.RIGHT_TOP,offsetY:0,offsetX:-14},"left-middle":{anchorPoint:ka.LEFT_CENTER,popoverPoint:ka.RIGHT_CENTER,offsetY:4,offsetX:-14},"left-top":{anchorPoint:ka.LEFT_CENTER,popoverPoint:ka.RIGHT_BOTTOM,offsetY:0,offsetX:-14},default:{anchorPoint:ka.RIGHT_CENTER,popoverPoint:ka.LEFT_CENTER,offsetY:6,offsetX:14}},ml=["top-left","top-middle","top-right","right-top","right-middle","right-bottom","bottom-right","bottom-middle","bottom-left","left-bottom","left-middle","left-top"];let gl=(()=>{class t extends Ua{constructor(t,e,n,i,r,s,o,a){if(super(t,e),this.commonStrings=n,this.signpostContentId=i,this.signpostIdService=r,this.signpostFocusManager=s,this.platformId=o,!e)throw new Error("clr-signpost-content should only be used inside of a clr-signpost");this.position="right-middle",this.closeOnOutsideClick=!0,this.signpostIdService.setId(i),this.document=a}close(){this.toggleService.open=!1}get position(){return this._position}set position(t){this.renderer.removeClass(this.el.nativeElement,this.position),this._position=t&&ml.indexOf(t)>-1?t:"right-middle",this.renderer.addClass(this.el.nativeElement,this.position);const e=fl[this.position];this.anchorPoint=e.anchorPoint,this.popoverPoint=e.popoverPoint,this.popoverOptions.offsetY=e.offsetY,this.popoverOptions.offsetX=e.offsetX}ngOnDestroy(){Object(K.A)(this.platformId)&&this.el.nativeElement.contains(this.document.activeElement)&&this.signpostFocusManager.focusTrigger()}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(i.s),i.Kb(zs,8),i.Kb(Ir),i.Kb(Lr),i.Kb(Wo),i.Kb(qo),i.Kb(i.C),i.Kb(K.d))},t.\u0275cmp=i.Eb({type:t,selectors:[["clr-signpost-content"]],hostVars:3,hostBindings:function(t,e){2&t&&(i.Tb("id",e.signpostContentId),i.Cb("signpost-content",!0))},inputs:{position:["clrPosition","position"]},features:[i.yb([Pr]),i.wb],ngContentSelectors:Ne,decls:7,vars:3,consts:[[1,"signpost-wrap"],[1,"popover-pointer"],[1,"signpost-content-header"],["type","button",1,"signpost-action","close",3,"click"],["shape","window-close"],[1,"signpost-content-body"]],template:function(t,e){1&t&&(i.ec(),i.Qb(0,"div",0),i.Lb(1,"div",1),i.Qb(2,"div",2),i.Qb(3,"button",3),i.Xb("click",function(){return e.close()}),i.Lb(4,"cds-icon",4),i.Pb(),i.Pb(),i.Qb(5,"div",5),i.dc(6),i.Pb(),i.Pb()),2&t&&(i.zb(3),i.Ab("aria-label",e.commonStrings.keys.signpostClose)("aria-controls",e.signpostContentId),i.zb(1),i.Ab("title",e.commonStrings.keys.close))},directives:[sr],encapsulation:2}),t})(),yl=(()=>{class t{constructor(){E.addIcons(D,z)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({imports:[[K.c,or,fo],gs]}),t})(),_l=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({imports:[[K.c],gs,or]}),t})(),bl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({imports:[Ga,yl,_l]}),t})(),vl=(()=>{class t{constructor(){E.addIcons(X)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({imports:[[K.c,pl,Ba]]}),t})();Object(pt.k)("skipInitialRender",[Object(pt.j)(":enter",[])]),Object(pt.k)("toggle",[Object(pt.j)("void => *",[Object(pt.i)({display:"block",height:0}),Object(pt.e)("0.2s ease-in-out",Object(pt.i)({height:"*"}))])]),Object(pt.k)("skipInitialRender",[Object(pt.j)(":enter",[])]),Object(pt.k)("toggle",[Object(pt.j)("void => *",[Object(pt.i)({display:"block",height:0}),Object(pt.e)("0.2s ease-in-out",Object(pt.i)({height:"*"}))]),Object(pt.j)("* => void",[Object(pt.i)({display:"block"}),Object(pt.e)("0.2s ease-in-out",Object(pt.i)({height:0,display:"none"}))])]);let Sl=(()=>{class t{constructor(){E.addIcons(A,M,O)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({imports:[[K.c,or]]}),t})(),Tl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({imports:[[K.c,or,Sl],Sl]}),t})(),xl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({imports:[[K.c]]}),t})(),wl=(()=>{class t{constructor(){E.addIcons(q,W,X,Y)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({imports:[[K.c,or,qs],or,qs]}),t})(),El=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({imports:[za,Da,or,pl,Zs,gs,bs,fo,kr,Ks,dl,bl,vl,co,Tl,qs,xl,Cr,wl]}),t})()},X87I:function(t,e,n){"use strict";var i=n("wRPv"),r=n("aBeY"),s=n("AjuZ"),o=n("kuFe"),a=n("hKKC"),l=n("VvGk"),c=n("8pO4"),h=n("oWEL"),u=n("kacL"),d=n("L3Wi"),p=n("2lJZ"),f=n("DPnj"),m=n("90bG");class g extends s.a{constructor(t,e){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===e||Array.isArray(t[0])?this.setCoordinates(t,e):this.setFlatCoordinates(e,t)}appendCoordinate(t){this.flatCoordinates?Object(h.c)(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()}clone(){const t=new g(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,e,n,i){return i<Object(a.f)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(o.e)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(o.d)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,n,i))}forEachSegment(t){return Object(u.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinateAtM(t,e){if(this.layout!=i.a.XYM&&this.layout!=i.a.XYZM)return null;const n=void 0!==e&&e;return Object(p.b)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n)}getCoordinates(){return Object(d.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(t,e){return Object(p.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,this.stride)}getLength(){return Object(m.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(t){const e=[];return e.length=Object(c.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new g(e,i.a.XY)}getType(){return r.a.LINE_STRING}intersectsExtent(t){return Object(f.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(l.b)(this.flatCoordinates,0,t,this.stride),this.changed()}}e.a=g},XDbj:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("sVev"),r=n("7o/Q");function s(t=l){return e=>e.lift(new o(t))}class o{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new a(t,this.errorFactory))}}class a extends r.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function l(){return new i.a}},XEES:function(t,e,n){"use strict";var i=n("7MqJ"),r=n("oY2l"),s=n("Bpkx"),o=(n("XheB"),n("BFJ5"));n("Znq9"),n("oWEL"),e.a=class extends i.a{constructor(t){const e=void 0!==t.requestEncoding?t.requestEncoding:"KVP",n=t.tileGrid;let i=t.urls;void 0===i&&void 0!==t.url&&(i=Object(o.c)(t.url)),super({attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,imageSmoothing:t.imageSmoothing,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:t.tileClass,tileGrid:n,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,urls:i,wrapX:void 0!==t.wrapX&&t.wrapX,transition:t.transition}),this.version_=void 0!==t.version?t.version:"1.0.0",this.format_=void 0!==t.format?t.format:"image/jpeg",this.dimensions_=void 0!==t.dimensions?t.dimensions:{},this.layer_=t.layer,this.matrixSet_=t.matrixSet,this.style_=t.style,this.requestEncoding_=e,this.setKey(this.getKeyForDimensions_()),i&&i.length>0&&(this.tileUrlFunction=Object(o.b)(i.map(this.createFromWMTSTemplate.bind(this))))}setUrls(t){this.urls=t;const e=t.join("\n");this.setTileUrlFunction(Object(o.b)(t.map(this.createFromWMTSTemplate.bind(this))),e)}getDimensions(){return this.dimensions_}getFormat(){return this.format_}getLayer(){return this.layer_}getMatrixSet(){return this.matrixSet_}getRequestEncoding(){return this.requestEncoding_}getStyle(){return this.style_}getVersion(){return this.version_}getKeyForDimensions_(){let t=0;const e=[];for(const n in this.dimensions_)e[t++]=n+"-"+this.dimensions_[n];return e.join("/")}updateDimensions(t){Object(s.a)(this.dimensions_,t),this.setKey(this.getKeyForDimensions_())}createFromWMTSTemplate(t){const e=this.requestEncoding_,n={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};"KVP"==e&&Object(s.a)(n,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_}),t="KVP"==e?Object(r.a)(t,n):t.replace(/\{(\w+?)\}/g,function(t,e){return e.toLowerCase()in n?n[e.toLowerCase()]:t});const i=this.tileGrid,o=this.dimensions_;return function(n,a,l){if(n){const a={TileMatrix:i.getMatrixId(n[0]),TileCol:n[1],TileRow:n[2]};Object(s.a)(a,o);let l=t;return l="KVP"==e?Object(r.a)(l,a):l.replace(/\{(\w+?)\}/g,function(t,e){return a[e]}),l}}}}},XI78:function(t,e,n){"use strict";n.d(e,"a",function(){return u}),n.d(e,"d",function(){return p}),n.d(e,"b",function(){return f}),n.d(e,"e",function(){return m}),n.d(e,"c",function(){return _});var i=n("eByC"),r=n("tFPJ"),s=n("1VLE"),o=n("6unr"),a=n("GMCd"),l=n("4yuk");const c=t=>null===t||!("object"==typeof t||"function"==typeof t),h=t=>Array.isArray(t)||!(!t||!t[Symbol.iterator]);class u{constructor(t,e,n){this.dirty=!0,this.element=t,this.name=e,this.strings=n,this.parts=[];for(let i=0;i<n.length-1;i++)this.parts[i]=this._createPart()}_createPart(){return new d(this)}_getValue(){const t=this.strings,e=t.length-1,n=this.parts;if(1===e&&""===t[0]&&""===t[1]){const t=n[0].value;if("symbol"==typeof t)return String(t);if("string"==typeof t||!h(t))return t}let i="";for(let r=0;r<e;r++){i+=t[r];const e=n[r];if(void 0!==e){const t=e.value;if(c(t)||!h(t))i+="string"==typeof t?t:String(t);else for(const e of t)i+="string"==typeof e?e:String(e)}}return i+=t[e],i}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class d{constructor(t){this.value=void 0,this.committer=t}setValue(t){t===s.a||c(t)&&t===this.value||(this.value=t,Object(i.a)(t)||(this.committer.dirty=!0))}commit(){for(;Object(i.a)(this.value);){const t=this.value;this.value=s.a,t(this)}this.value!==s.a&&this.committer.commit()}}class p{constructor(t){this.value=void 0,this.__pendingValue=void 0,this.options=t}appendInto(t){this.startNode=t.appendChild(Object(l.c)()),this.endNode=t.appendChild(Object(l.c)())}insertAfterNode(t){this.startNode=t,this.endNode=t.nextSibling}appendIntoPart(t){t.__insert(this.startNode=Object(l.c)()),t.__insert(this.endNode=Object(l.c)())}insertAfterPart(t){t.__insert(this.startNode=Object(l.c)()),this.endNode=t.endNode,t.endNode=this.startNode}setValue(t){this.__pendingValue=t}commit(){if(null===this.startNode.parentNode)return;for(;Object(i.a)(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=s.a,t(this)}const t=this.__pendingValue;t!==s.a&&(c(t)?t!==this.value&&this.__commitText(t):t instanceof a.b?this.__commitTemplateResult(t):t instanceof Node?this.__commitNode(t):h(t)?this.__commitIterable(t):t===s.b?(this.value=s.b,this.clear()):this.__commitText(t))}__insert(t){this.endNode.parentNode.insertBefore(t,this.endNode)}__commitNode(t){this.value!==t&&(this.clear(),this.__insert(t),this.value=t)}__commitText(t){const e=this.startNode.nextSibling,n="string"==typeof(t=null==t?"":t)?t:String(t);e===this.endNode.previousSibling&&3===e.nodeType?e.data=n:this.__commitNode(document.createTextNode(n)),this.value=t}__commitTemplateResult(t){const e=this.options.templateFactory(t);if(this.value instanceof o.a&&this.value.template===e)this.value.update(t.values);else{const n=new o.a(e,t.processor,this.options),i=n._clone();n.update(t.values),this.__commitNode(i),this.value=n}}__commitIterable(t){Array.isArray(this.value)||(this.value=[],this.clear());const e=this.value;let n,i=0;for(const r of t)n=e[i],void 0===n&&(n=new p(this.options),e.push(n),0===i?n.appendIntoPart(this):n.insertAfterPart(e[i-1])),n.setValue(r),n.commit(),i++;i<e.length&&(e.length=i,this.clear(n&&n.endNode))}clear(t=this.startNode){Object(r.b)(this.startNode.parentNode,t.nextSibling,this.endNode)}}class f{constructor(t,e,n){if(this.value=void 0,this.__pendingValue=void 0,2!==n.length||""!==n[0]||""!==n[1])throw new Error("Boolean attributes can only contain a single expression");this.element=t,this.name=e,this.strings=n}setValue(t){this.__pendingValue=t}commit(){for(;Object(i.a)(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=s.a,t(this)}if(this.__pendingValue===s.a)return;const t=!!this.__pendingValue;this.value!==t&&(t?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=t),this.__pendingValue=s.a}}class m extends u{constructor(t,e,n){super(t,e,n),this.single=2===n.length&&""===n[0]&&""===n[1]}_createPart(){return new g(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class g extends d{}let y=!1;(()=>{try{const t={get capture(){return y=!0,!1}};window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){}})();class _{constructor(t,e,n){this.value=void 0,this.__pendingValue=void 0,this.element=t,this.eventName=e,this.eventContext=n,this.__boundHandleEvent=t=>this.handleEvent(t)}setValue(t){this.__pendingValue=t}commit(){for(;Object(i.a)(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=s.a,t(this)}if(this.__pendingValue===s.a)return;const t=this.__pendingValue,e=this.value,n=null==t||null!=e&&(t.capture!==e.capture||t.once!==e.once||t.passive!==e.passive),r=null!=t&&(null==e||n);n&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),r&&(this.__options=b(t),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=t,this.__pendingValue=s.a}handleEvent(t){"function"==typeof this.value?this.value.call(this.eventContext||this.element,t):this.value.handleEvent(t)}}const b=t=>t&&(y?{capture:t.capture,passive:t.passive,once:t.once}:t.capture)},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return h});var i=n("HDdC"),r=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),l=n("2QA8");class c extends r.a{constructor(t){super(t),this.destination=t}}let h=(()=>{class t extends i.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[l.a](){return new c(this)}lift(t){const e=new u(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,i=e.slice();for(let r=0;r<n;r++)i[r].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,i=e.slice();for(let r=0;r<n;r++)i[r].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let i=0;i<e;i++)n[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new i.a;return t.source=this,t}}return t.create=(t,e)=>new u(t,e),t})();class u extends h{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XWL2:function(t,e,n){"use strict";var i=n("RGpb"),r=n("9CgO"),s=n("0Fwh"),o=n("2I+J"),a=n("orbG");e.a=class extends i.a{constructor(t,e,n){super();const i=n||{};this.tileCoord=t,this.state=e,this.interimTile=null,this.hifi=!0,this.key="",this.transition_=void 0===i.transition?250:i.transition,this.transitionStarts_={}}changed(){this.dispatchEvent(r.a.CHANGE)}release(){}getKey(){return this.key+"/"+this.tileCoord}getInterimTile(){if(!this.interimTile)return this;let t=this.interimTile;do{if(t.getState()==s.a.LOADED)return this.transition_=0,t;t=t.interimTile}while(t);return this}refreshInterimChain(){if(!this.interimTile)return;let t=this.interimTile,e=this;do{if(t.getState()==s.a.LOADED){t.interimTile=null;break}t.getState()==s.a.LOADING?e=t:t.getState()==s.a.IDLE?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(t){if(this.state!==s.a.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()}load(){Object(o.b)()}getAlpha(t,e){if(!this.transition_)return 1;let n=this.transitionStarts_[t];if(n){if(-1===n)return 1}else n=e,this.transitionStarts_[t]=n;const i=e-n+1e3/60;return i>=this.transition_?1:Object(a.a)(i/this.transition_)}inTransition(t){return!!this.transition_&&-1!==this.transitionStarts_[t]}endTransition(t){this.transition_&&(this.transitionStarts_[t]=-1)}}},XdCU:function(t,e,n){"use strict";var i=n("jnTo"),r=n("G7/A"),s=n("e4iU"),o=n("Znq9"),a=n("i3ci"),l=n("bwl8");const c=[1,2,5];e.a=class extends i.a{constructor(t){const e=t||{},n=void 0!==e.className?e.className:e.bar?"ol-scale-bar":"ol-scale-line";super({element:document.createElement("div"),render:e.render,target:e.target}),this.innerElement_=document.createElement("div"),this.innerElement_.className=n+"-inner",this.element.className=n+" "+s.e,this.element.appendChild(this.innerElement_),this.viewState_=null,this.minWidth_=void 0!==e.minWidth?e.minWidth:64,this.renderedVisible_=!1,this.renderedWidth_=void 0,this.renderedHTML_="",this.addEventListener(Object(l.b)("units"),this.handleUnitsChanged_),this.setUnits(e.units||"metric"),this.scaleBar_=e.bar||!1,this.scaleBarSteps_=e.steps||4,this.scaleBarText_=e.text||!1,this.dpi_=e.dpi||void 0}getUnits(){return this.get("units")}handleUnitsChanged_(){this.updateElement_()}setUnits(t){this.set("units",t)}setDpi(t){this.dpi_=t}updateElement_(){const t=this.viewState_;if(!t)return void(this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1));const e=t.center,n=t.projection,i=this.getUnits(),s="degrees"==i?r.b.DEGREES:r.b.METERS;let l=Object(o.j)(n,t.resolution,e,s);const h=this.minWidth_*(this.dpi_||90.7142857142857)/90.7142857142857;let u=h*l,d="";if("degrees"==i){const t=r.a[r.b.DEGREES];u*=t,u<t/60?(d="\u2033",l*=3600):u<t?(d="\u2032",l*=60):d="\xb0"}else"imperial"==i?u<.9144?(d="in",l/=.0254):u<1609.344?(d="ft",l/=.3048):(d="mi",l/=1609.344):"nautical"==i?(l/=1852,d="nm"):"metric"==i?u<.001?(d="\u03bcm",l*=1e6):u<1?(d="mm",l*=1e3):u<1e3?d="m":(d="km",l/=1e3):"us"==i?u<.9144?(d="in",l*=39.37):u<1609.344?(d="ft",l/=.30480061):(d="mi",l/=1609.3472):Object(a.a)(!1,33);let p,f,m,g,y=3*Math.floor(Math.log(h*l)/Math.log(10));for(;;){m=Math.floor(y/3);const t=Math.pow(10,m);if(p=c[(y%3+3)%3]*t,f=Math.round(p/l),isNaN(f))return this.element.style.display="none",void(this.renderedVisible_=!1);if(f>=h)break;++y}g=this.scaleBar_?this.createScaleBar(f,p,d):p.toFixed(m<0?-m:0)+" "+d,this.renderedHTML_!=g&&(this.innerElement_.innerHTML=g,this.renderedHTML_=g),this.renderedWidth_!=f&&(this.innerElement_.style.width=f+"px",this.renderedWidth_=f),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}createScaleBar(t,e,n){const i="1 : "+Math.round(this.getScaleForResolution()).toLocaleString(),r=[],s=t/this.scaleBarSteps_;let o,a="#ffffff";for(let l=0;l<this.scaleBarSteps_;l++)0===l&&r.push(this.createMarker("absolute",l)),r.push('<div><div class="ol-scale-singlebar" style="width: '+s+"px;background-color: "+a+';"></div>'+this.createMarker("relative",l)+(l%2==0||2===this.scaleBarSteps_?this.createStepText(l,t,!1,e,n):"")+"</div>"),l===this.scaleBarSteps_-1&&r.push(this.createStepText(l+1,t,!0,e,n)),a="#ffffff"===a?"#000000":"#ffffff";return o=this.scaleBarText_?'<div class="ol-scale-text" style="width: '+t+'px;">'+i+"</div>":"",'<div style="display: flex;">'+o+r.join("")+"</div>"}createMarker(t,e){return'<div class="ol-scale-step-marker" style="position: '+t+";top: "+("absolute"===t?3:-10)+'px;"></div>'}createStepText(t,e,n,i,r){const s=0===t?0:Math.round(i/this.scaleBarSteps_*t*100)/100;return'<div class="ol-scale-step-text" style="margin-left: '+(0===t?-3:e/this.scaleBarSteps_*-1)+"px;text-align: "+(0===t?"left":"center")+"; min-width: "+(0===t?0:e/this.scaleBarSteps_*2)+"px;left: "+(n?e+"px":"unset")+';">'+s+(0===t?"":" "+r)+"</div>"}getScaleForResolution(){const t=Object(o.j)(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center),e=this.dpi_||90.7142857142857,n=this.viewState_.projection.getMetersPerUnit();return parseFloat(t.toString())*n*(1e3/25.4)*e}render(t){const e=t.frameState;this.viewState_=e?e.viewState:null,this.updateElement_()}}},XheB:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("Fnjr"),r=n("oWEL"),s=n("Znq9");class o extends i.a{constructor(t){super({extent:t.extent,origin:t.origin,origins:t.origins,resolutions:t.resolutions,tileSize:t.tileSize,tileSizes:t.tileSizes,sizes:t.sizes}),this.matrixIds_=t.matrixIds}getMatrixId(t){return this.matrixIds_[t]}getMatrixIds(){return this.matrixIds_}}function a(t,e,n){const i=[],a=[],l=[],c=[],h=[],u=void 0!==n?n:[],d=t.SupportedCRS,p=Object(s.i)(d),f=p.getMetersPerUnit(),m="ne"==p.getAxisOrientation().substr(0,2);return t.TileMatrix.sort(function(t,e){return e.ScaleDenominator-t.ScaleDenominator}),t.TileMatrix.forEach(function(e){let n;if(n=!(u.length>0)||Object(r.d)(u,function(n){return e.Identifier==n.TileMatrix||-1===e.Identifier.indexOf(":")&&t.Identifier+":"+e.Identifier===n.TileMatrix}),n){a.push(e.Identifier);const t=28e-5*e.ScaleDenominator/f,n=e.TileWidth,r=e.TileHeight;l.push(m?[e.TopLeftCorner[1],e.TopLeftCorner[0]]:e.TopLeftCorner),i.push(t),c.push(n==r?n:[n,r]),h.push([e.MatrixWidth,e.MatrixHeight])}}),new o({extent:e,origins:l,resolutions:i,matrixIds:a,tileSizes:c,sizes:h})}e.b=o},XoHu:function(t,e,n){"use strict";function i(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return i})},Y5Xb:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return s}),n.d(e,"c",function(){return o}),n.d(e,"d",function(){return a});var i=n("hKKC");function r(t,e,n,r,o){return!Object(i.u)(o,function(i){return!s(t,e,n,r,i[0],i[1])})}function s(t,e,n,i,r,s){let o=0,a=t[n-i],l=t[n-i+1];for(;e<n;e+=i){const n=t[e],i=t[e+1];l<=s?i>s&&(n-a)*(s-l)-(r-a)*(i-l)>0&&o++:i<=s&&(n-a)*(s-l)-(r-a)*(i-l)<0&&o--,a=n,l=i}return 0!==o}function o(t,e,n,i,r,o){if(0===n.length)return!1;if(!s(t,e,n[0],i,r,o))return!1;for(let a=1,l=n.length;a<l;++a)if(s(t,n[a-1],n[a],i,r,o))return!1;return!0}function a(t,e,n,i,r,s){if(0===n.length)return!1;for(let a=0,l=n.length;a<l;++a){const l=n[a];if(o(t,e,l,i,r,s))return!0;e=l[l.length-1]}return!1}},Y7HM:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("DH7j");function r(t){return!Object(i.a)(t)&&t-parseFloat(t)+1>=0}},YakL:function(t,e,n){var i,r;void 0===(r="function"==typeof(i=function(){return{OWS_1_1_0:{n:"OWS_1_1_0",dens:"http://www.opengis.net/ows/1.1",dans:"http://www.w3.org/1999/xlink",deps:["XLink_1_0"],tis:[{ln:"OperationsMetadata",tn:null,ps:[{n:"operation",rq:!0,mno:2,col:!0,en:"Operation",ti:".Operation"},{n:"parameter",mno:0,col:!0,en:"Parameter",ti:".DomainType"},{n:"constraint",mno:0,col:!0,en:"Constraint",ti:".DomainType"},{n:"extendedCapabilities",en:"ExtendedCapabilities",ti:"AnyType"}]},{ln:"IdentificationType",bti:".BasicIdentificationType",ps:[{n:"boundingBox",mno:0,col:!0,mx:!1,dom:!1,en:"BoundingBox",ti:".BoundingBoxType",t:"er"},{n:"outputFormat",mno:0,col:!0,en:"OutputFormat"},{n:"availableCRS",mno:0,col:!0,mx:!1,dom:!1,en:"AvailableCRS",t:"er"}]},{ln:"ResponsiblePartySubsetType",ps:[{n:"individualName",en:"IndividualName"},{n:"positionName",en:"PositionName"},{n:"contactInfo",en:"ContactInfo",ti:".ContactType"},{n:"role",en:"Role",ti:".CodeType"}]},{ln:"AnyValue",tn:null},{ln:"DomainType",bti:".UnNamedDomainType",ps:[{n:"name",rq:!0,an:{lp:"name"},t:"a"}]},{ln:"AcceptVersionsType",ps:[{n:"version",rq:!0,col:!0,en:"Version"}]},{ln:"DCP",tn:null,ps:[{n:"http",rq:!0,en:"HTTP",ti:".HTTP"}]},{ln:"ManifestType",bti:".BasicIdentificationType",ps:[{n:"referenceGroup",rq:!0,col:!0,en:"ReferenceGroup",ti:".ReferenceGroupType"}]},{ln:"ExceptionType",ps:[{n:"exceptionText",mno:0,col:!0,en:"ExceptionText"},{n:"exceptionCode",rq:!0,an:{lp:"exceptionCode"},t:"a"},{n:"locator",an:{lp:"locator"},t:"a"}]},{ln:"RequestMethodType",bti:".OnlineResourceType",ps:[{n:"constraint",mno:0,col:!0,en:"Constraint",ti:".DomainType"}]},{ln:"SectionsType",ps:[{n:"section",mno:0,col:!0,en:"Section"}]},{ln:"UnNamedDomainType",ps:[{n:"allowedValues",rq:!0,en:"AllowedValues",ti:".AllowedValues"},{n:"anyValue",rq:!0,en:"AnyValue",ti:".AnyValue"},{n:"noValues",rq:!0,en:"NoValues",ti:".NoValues"},{n:"valuesReference",rq:!0,en:"ValuesReference",ti:".ValuesReference"},{n:"defaultValue",en:"DefaultValue",ti:".ValueType"},{n:"meaning",en:"Meaning",ti:".DomainMetadataType"},{n:"dataType",en:"DataType",ti:".DomainMetadataType"},{n:"uom",rq:!0,en:"UOM",ti:".DomainMetadataType"},{n:"referenceSystem",rq:!0,en:"ReferenceSystem",ti:".DomainMetadataType"},{n:"metadata",mno:0,col:!0,en:"Metadata",ti:".MetadataType"}]},{ln:"HTTP",tn:null,ps:[{n:"getOrPost",rq:!0,col:!0,mx:!1,dom:!1,etis:[{en:"Post",ti:".RequestMethodType"},{en:"Get",ti:".RequestMethodType"}],t:"ers"}]},{ln:"ServiceReferenceType",bti:".ReferenceType",ps:[{n:"requestMessage",rq:!0,en:"RequestMessage",ti:"AnyType"},{n:"requestMessageReference",rq:!0,en:"RequestMessageReference"}]},{ln:"KeywordsType",ps:[{n:"keyword",rq:!0,col:!0,en:"Keyword",ti:".LanguageStringType"},{n:"type",en:"Type",ti:".CodeType"}]},{ln:"AllowedValues",tn:null,ps:[{n:"valueOrRange",rq:!0,col:!0,etis:[{en:"Value",ti:".ValueType"},{en:"Range",ti:".RangeType"}],t:"es"}]},{ln:"TelephoneType",ps:[{n:"voice",mno:0,col:!0,en:"Voice"},{n:"facsimile",mno:0,col:!0,en:"Facsimile"}]},{ln:"ReferenceType",bti:".AbstractReferenceBaseType",ps:[{n:"identifier",en:"Identifier",ti:".CodeType"},{n:"_abstract",mno:0,col:!0,en:"Abstract",ti:".LanguageStringType"},{n:"format",en:"Format"},{n:"metadata",mno:0,col:!0,en:"Metadata",ti:".MetadataType"}]},{ln:"ExceptionReport",tn:null,ps:[{n:"exception",rq:!0,col:!0,en:"Exception",ti:".ExceptionType"},{n:"version",rq:!0,an:{lp:"version"},t:"a"},{n:"lang",an:{lp:"lang",ns:"http://www.w3.org/XML/1998/namespace"},t:"a"}]},{ln:"GetResourceByIdType",ps:[{n:"resourceID",mno:0,col:!0,en:"ResourceID"},{n:"outputFormat",en:"OutputFormat"},{n:"service",rq:!0,an:{lp:"service"},t:"a"},{n:"version",rq:!0,an:{lp:"version"},t:"a"}]},{ln:"RangeType",ps:[{n:"minimumValue",en:"MinimumValue",ti:".ValueType"},{n:"maximumValue",en:"MaximumValue",ti:".ValueType"},{n:"spacing",en:"Spacing",ti:".ValueType"},{n:"rangeClosure",ti:{t:"l"},an:{lp:"rangeClosure",ns:"http://www.opengis.net/ows/1.1"},t:"a"}]},{ln:"LanguageStringType",ps:[{n:"value",t:"v"},{n:"lang",an:{lp:"lang",ns:"http://www.w3.org/XML/1998/namespace"},t:"a"}]},{ln:"DescriptionType",ps:[{n:"title",mno:0,col:!0,en:"Title",ti:".LanguageStringType"},{n:"_abstract",mno:0,col:!0,en:"Abstract",ti:".LanguageStringType"},{n:"keywords",mno:0,col:!0,en:"Keywords",ti:".KeywordsType"}]},{ln:"BoundingBoxType",ps:[{n:"lowerCorner",rq:!0,en:"LowerCorner",ti:{t:"l",bti:"Double"}},{n:"upperCorner",rq:!0,en:"UpperCorner",ti:{t:"l",bti:"Double"}},{n:"crs",an:{lp:"crs"},t:"a"},{n:"dimensions",ti:"PositiveInteger",an:{lp:"dimensions"},t:"a"}]},{ln:"ContentsBaseType",ps:[{n:"datasetDescriptionSummary",mno:0,col:!0,mx:!1,dom:!1,en:"DatasetDescriptionSummary",ti:".DatasetDescriptionSummaryBaseType",t:"er"},{n:"otherSource",mno:0,col:!0,mx:!1,dom:!1,en:"OtherSource",ti:".MetadataType",t:"er"}]},{ln:"BasicIdentificationType",bti:".DescriptionType",ps:[{n:"identifier",en:"Identifier",ti:".CodeType"},{n:"metadata",mno:0,col:!0,en:"Metadata",ti:".MetadataType"}]},{ln:"ReferenceGroupType",bti:".BasicIdentificationType",ps:[{n:"abstractReferenceBase",rq:!0,col:!0,mx:!1,dom:!1,en:"AbstractReferenceBase",ti:".AbstractReferenceBaseType",t:"er"}]},{ln:"ResponsiblePartyType",ps:[{n:"individualName",en:"IndividualName"},{n:"organisationName",en:"OrganisationName"},{n:"positionName",en:"PositionName"},{n:"contactInfo",en:"ContactInfo",ti:".ContactType"},{n:"role",rq:!0,en:"Role",ti:".CodeType"}]},{ln:"ValuesReference",tn:null,ps:[{n:"value",t:"v"},{n:"reference",rq:!0,an:{lp:"reference",ns:"http://www.opengis.net/ows/1.1"},t:"a"}]},{ln:"DatasetDescriptionSummaryBaseType",bti:".DescriptionType",ps:[{n:"wgs84BoundingBox",mno:0,col:!0,en:"WGS84BoundingBox",ti:".WGS84BoundingBoxType"},{n:"identifier",rq:!0,en:"Identifier",ti:".CodeType"},{n:"boundingBox",mno:0,col:!0,mx:!1,dom:!1,en:"BoundingBox",ti:".BoundingBoxType",t:"er"},{n:"metadata",mno:0,col:!0,en:"Metadata",ti:".MetadataType"},{n:"datasetDescriptionSummary",mno:0,col:!0,mx:!1,dom:!1,en:"DatasetDescriptionSummary",ti:".DatasetDescriptionSummaryBaseType",t:"er"}]},{ln:"ServiceIdentification",tn:null,bti:".DescriptionType",ps:[{n:"serviceType",rq:!0,en:"ServiceType",ti:".CodeType"},{n:"serviceTypeVersion",rq:!0,col:!0,en:"ServiceTypeVersion"},{n:"profile",mno:0,col:!0,en:"Profile"},{n:"fees",en:"Fees"},{n:"accessConstraints",mno:0,col:!0,en:"AccessConstraints"}]},{ln:"AcceptFormatsType",ps:[{n:"outputFormat",mno:0,col:!0,en:"OutputFormat"}]},{ln:"NoValues",tn:null},{ln:"Operation",tn:null,ps:[{n:"dcp",rq:!0,col:!0,en:"DCP",ti:".DCP"},{n:"parameter",mno:0,col:!0,en:"Parameter",ti:".DomainType"},{n:"constraint",mno:0,col:!0,en:"Constraint",ti:".DomainType"},{n:"metadata",mno:0,col:!0,en:"Metadata",ti:".MetadataType"},{n:"name",rq:!0,an:{lp:"name"},t:"a"}]},{ln:"AbstractReferenceBaseType",ps:[{n:"type",an:{lp:"type",ns:"http://www.opengis.net/ows/1.1"},t:"a"},{n:"href",rq:!0,t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"AddressType",ps:[{n:"deliveryPoint",mno:0,col:!0,en:"DeliveryPoint"},{n:"city",en:"City"},{n:"administrativeArea",en:"AdministrativeArea"},{n:"postalCode",en:"PostalCode"},{n:"country",en:"Country"},{n:"electronicMailAddress",mno:0,col:!0,en:"ElectronicMailAddress"}]},{ln:"ValueType",ps:[{n:"value",t:"v"}]},{ln:"MetadataType",ps:[{n:"abstractMetaData",en:"AbstractMetaData",ti:"AnyType"},{n:"about",an:{lp:"about"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"OnlineResourceType",ps:[{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"DomainMetadataType",ps:[{n:"value",t:"v"},{n:"reference",an:{lp:"reference",ns:"http://www.opengis.net/ows/1.1"},t:"a"}]},{ln:"WGS84BoundingBoxType",bti:".BoundingBoxType"},{ln:"ContactType",ps:[{n:"phone",en:"Phone",ti:".TelephoneType"},{n:"address",en:"Address",ti:".AddressType"},{n:"onlineResource",en:"OnlineResource",ti:".OnlineResourceType"},{n:"hoursOfService",en:"HoursOfService"},{n:"contactInstructions",en:"ContactInstructions"}]},{ln:"CapabilitiesBaseType",ps:[{n:"serviceIdentification",en:"ServiceIdentification",ti:".ServiceIdentification"},{n:"serviceProvider",en:"ServiceProvider",ti:".ServiceProvider"},{n:"operationsMetadata",en:"OperationsMetadata",ti:".OperationsMetadata"},{n:"version",rq:!0,an:{lp:"version"},t:"a"},{n:"updateSequence",an:{lp:"updateSequence"},t:"a"}]},{ln:"ServiceProvider",tn:null,ps:[{n:"providerName",rq:!0,en:"ProviderName"},{n:"providerSite",en:"ProviderSite",ti:".OnlineResourceType"},{n:"serviceContact",rq:!0,en:"ServiceContact",ti:".ResponsiblePartySubsetType"}]},{ln:"CodeType",ps:[{n:"value",t:"v"},{n:"codeSpace",an:{lp:"codeSpace"},t:"a"}]},{ln:"GetCapabilitiesType",ps:[{n:"acceptVersions",en:"AcceptVersions",ti:".AcceptVersionsType"},{n:"sections",en:"Sections",ti:".SectionsType"},{n:"acceptFormats",en:"AcceptFormats",ti:".AcceptFormatsType"},{n:"updateSequence",an:{lp:"updateSequence"},t:"a"}]}],eis:[{en:"Metadata",ti:".MetadataType"},{en:"DCP",ti:".DCP"},{en:"AbstractReferenceBase",ti:".AbstractReferenceBaseType"},{en:"Language",ti:"Language"},{en:"Role",ti:".CodeType"},{en:"GetResourceByID",ti:".GetResourceByIdType"},{en:"Meaning",ti:".DomainMetadataType"},{en:"AvailableCRS"},{en:"OperationResponse",ti:".ManifestType"},{en:"OutputFormat"},{en:"MaximumValue",ti:".ValueType"},{en:"Range",ti:".RangeType"},{en:"OrganisationName"},{en:"IndividualName"},{en:"Post",ti:".RequestMethodType",sc:".HTTP"},{en:"Resource",ti:"AnyType"},{en:"NoValues",ti:".NoValues"},{en:"ServiceReference",ti:".ServiceReferenceType",sh:"Reference"},{en:"DatasetDescriptionSummaryExtension",ti:".DatasetDescriptionSummaryBaseType",sh:"DatasetDescriptionSummary"},{en:"InputData",ti:".ManifestType"},{en:"ServiceIdentification",ti:".ServiceIdentification"},{en:"AccessConstraints"},{en:"ContactInfo",ti:".ContactType"},{en:"ExceptionReport",ti:".ExceptionReport"},{en:"Operation",ti:".Operation"},{en:"Title",ti:".LanguageStringType"},{en:"ReferenceSystem",ti:".DomainMetadataType"},{en:"Exception",ti:".ExceptionType"},{en:"Value",ti:".ValueType"},{en:"Keywords",ti:".KeywordsType"},{en:"Get",ti:".RequestMethodType",sc:".HTTP"},{en:"DatasetDescriptionSummary",ti:".DatasetDescriptionSummaryBaseType"},{en:"PositionName"},{en:"AllowedValues",ti:".AllowedValues"},{en:"Manifest",ti:".ManifestType"},{en:"Identifier",ti:".CodeType"},{en:"AbstractMetaData",ti:"AnyType"},{en:"AnyValue",ti:".AnyValue"},{en:"ServiceProvider",ti:".ServiceProvider"},{en:"DefaultValue",ti:".ValueType"},{en:"OtherSourceExtension",ti:".MetadataType",sh:"OtherSource"},{en:"OperationsMetadata",ti:".OperationsMetadata"},{en:"Fees"},{en:"BoundingBox",ti:".BoundingBoxType"},{en:"DataType",ti:".DomainMetadataType"},{en:"Abstract",ti:".LanguageStringType"},{en:"Spacing",ti:".ValueType"},{en:"GetCapabilities",ti:".GetCapabilitiesType"},{en:"HTTP",ti:".HTTP"},{en:"UOM",ti:".DomainMetadataType"},{en:"OtherSource",ti:".MetadataType"},{en:"WGS84BoundingBox",ti:".WGS84BoundingBoxType",sh:"BoundingBox"},{en:"MinimumValue",ti:".ValueType"},{en:"Reference",ti:".ReferenceType",sh:"AbstractReferenceBase"},{en:"ReferenceGroup",ti:".ReferenceGroupType"},{en:"ExtendedCapabilities",ti:"AnyType"},{en:"PointOfContact",ti:".ResponsiblePartyType"},{en:"ValuesReference",ti:".ValuesReference"},{en:"SupportedCRS",sh:"AvailableCRS"}]}}})?i.apply(e,[]):i)||(t.exports=r)},YcCt:function(t,e,n){"use strict";function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,n,r){n=n||"=";var s={};if("string"!=typeof t||0===t.length)return s;var o=/\+/g;t=t.split(e=e||"&");var a=1e3;r&&"number"==typeof r.maxKeys&&(a=r.maxKeys);var l=t.length;a>0&&l>a&&(l=a);for(var c=0;c<l;++c){var h,u,d,p,f=t[c].replace(o,"%20"),m=f.indexOf(n);m>=0?(h=f.substr(0,m),u=f.substr(m+1)):(h=f,u=""),d=decodeURIComponent(h),p=decodeURIComponent(u),i(s,d)?Array.isArray(s[d])?s[d].push(p):s[d]=[s[d],p]:s[d]=p}return s}},Yjhu:function(t,e,n){"use strict";var i=n("jnTo"),r=n("9CgO"),s=n("e4iU"),o=n("orbG");e.a=class extends i.a{constructor(t){const e=t||{};super({element:document.createElement("div"),target:e.target});const n=void 0!==e.className?e.className:"ol-zoom",i=void 0!==e.delta?e.delta:1,o=void 0!==e.zoomInClassName?e.zoomInClassName:n+"-in",a=void 0!==e.zoomOutClassName?e.zoomOutClassName:n+"-out",l=void 0!==e.zoomInLabel?e.zoomInLabel:"+",c=void 0!==e.zoomOutLabel?e.zoomOutLabel:"\u2212",h=void 0!==e.zoomInTipLabel?e.zoomInTipLabel:"Zoom in",u=void 0!==e.zoomOutTipLabel?e.zoomOutTipLabel:"Zoom out",d=document.createElement("button");d.className=o,d.setAttribute("type","button"),d.title=h,d.appendChild("string"==typeof l?document.createTextNode(l):l),d.addEventListener(r.a.CLICK,this.handleClick_.bind(this,i),!1);const p=document.createElement("button");p.className=a,p.setAttribute("type","button"),p.title=u,p.appendChild("string"==typeof c?document.createTextNode(c):c),p.addEventListener(r.a.CLICK,this.handleClick_.bind(this,-i),!1);const f=this.element;f.className=n+" "+s.e+" "+s.b,f.appendChild(d),f.appendChild(p),this.duration_=void 0!==e.duration?e.duration:250}handleClick_(t,e){e.preventDefault(),this.zoomByDelta_(t)}zoomByDelta_(t){const e=this.getMap().getView();if(!e)return;const n=e.getZoom();if(void 0!==n){const i=e.getConstrainedZoom(n+t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({zoom:i,duration:this.duration_,easing:o.b})):e.setZoom(i)}}}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("quSY");class r extends i.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},YuTi:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},ZBAF:function(t,e,n){"use strict";e.a={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"}},"ZII/":function(t,e,n){"use strict";var i=n("DwgT"),r=n("n7ez");e.a=class extends i.a{constructor(t){super(t)}createRenderer(){return new r.a(this)}}},ZidN:function(t,e,n){"use strict";n.d(e,"b",function(){return b});var i=n("Gp2b"),r=n("lXae"),s=n("6SrS"),o=n("9CgO"),a=n("5NHM"),l=n("PaPA"),c=n("i907"),h=n("hKKC"),u=n("FHfp"),d=class extends a.a{constructor(t,e,n,i,o,a,u){const d=t.getExtent(),p=e.getExtent(),f=p?Object(h.C)(n,p):n,m=Object(h.y)(f),g=Object(c.b)(t,e,m,i),y=new l.a(t,e,f,d,g*s.b,i),_=a(y.calculateSourceExtent(),g,o),b=_?r.a.IDLE:r.a.EMPTY,v=_?_.getPixelRatio():1;super(n,i,v,b),this.targetProj_=e,this.maxSourceExtent_=d,this.triangulation_=y,this.targetResolution_=i,this.targetExtent_=n,this.sourceImage_=_,this.sourcePixelRatio_=v,this.contextOptions_=u,this.canvas_=null,this.sourceListenerKey_=null}disposeInternal(){this.state==r.a.LOADING&&this.unlistenSource_(),super.disposeInternal()}getImage(){return this.canvas_}getProjection(){return this.targetProj_}reproject_(){const t=this.sourceImage_.getState();if(t==r.a.LOADED){const t=Object(h.F)(this.targetExtent_)/this.targetResolution_,e=Object(h.B)(this.targetExtent_)/this.targetResolution_;this.canvas_=Object(c.c)(t,e,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.contextOptions_)}this.state=t,this.changed()}load(){if(this.state==r.a.IDLE){this.state=r.a.LOADING,this.changed();const t=this.sourceImage_.getState();t==r.a.LOADED||t==r.a.ERROR?this.reproject_():(this.sourceListenerKey_=Object(u.a)(this.sourceImage_,o.a.CHANGE,function(t){const e=this.sourceImage_.getState();e!=r.a.LOADED&&e!=r.a.ERROR||(this.unlistenSource_(),this.reproject_())},this),this.sourceImage_.load())}}unlistenSource_(){Object(u.c)(this.sourceListenerKey_),this.sourceListenerKey_=null}},p=n("AAsu"),f=n("GLbD"),m=n("2I+J"),g=n("Znq9"),y=n("oWEL");class _ extends i.a{constructor(t,e){super(t),this.image=e}}function b(t,e){t.getImage().src=e}e.a=class extends p.a{constructor(t){super({attributions:t.attributions,projection:t.projection,state:t.state}),this.resolutions_=void 0!==t.resolutions?t.resolutions:null,this.reprojectedImage_=null,this.reprojectedRevision_=0,this.contextOptions_=!1===t.imageSmoothing?f.b:void 0}getResolutions(){return this.resolutions_}getContextOptions(){return this.contextOptions_}findNearestResolution(t){if(this.resolutions_){const e=Object(y.h)(this.resolutions_,t,0);t=this.resolutions_[e]}return t}getImage(t,e,n,i){const r=this.getProjection();if(s.a&&r&&i&&!Object(g.f)(r,i)){if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&Object(g.f)(this.reprojectedImage_.getProjection(),i)&&this.reprojectedImage_.getResolution()==e&&Object(h.q)(this.reprojectedImage_.getExtent(),t))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new d(r,i,t,e,n,(function(t,e,n){return this.getImageInternal(t,e,n,r)}).bind(this),this.contextOptions_),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}return r&&(i=r),this.getImageInternal(t,e,n,i)}getImageInternal(t,e,n,i){return Object(m.b)()}handleImageChange(t){const e=t.target;switch(e.getState()){case r.a.LOADING:this.loading=!0,this.dispatchEvent(new _("imageloadstart",e));break;case r.a.LOADED:this.loading=!1,this.dispatchEvent(new _("imageloadend",e));break;case r.a.ERROR:this.loading=!1,this.dispatchEvent(new _("imageloaderror",e))}}}},ZjAA:function(t,e,n){"use strict";function i(t,e,n,i){let r=0,s=t[n-i],o=t[n-i+1];for(;e<n;e+=i){const n=t[e],i=t[e+1];r+=o*n-s*i,s=n,o=i}return r/2}function r(t,e,n,r){let s=0;for(let o=0,a=n.length;o<a;++o){const a=n[o];s+=i(t,e,a,r),e=a}return s}function s(t,e,n,i){let s=0;for(let o=0,a=n.length;o<a;++o){const a=n[o];s+=r(t,e,a,i),e=a[a.length-1]}return s}n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r}),n.d(e,"c",function(){return s})},Znq9:function(t,e,n){"use strict";n.d(e,"n",function(){return E}),n.d(e,"c",function(){return C}),n.d(e,"i",function(){return M}),n.d(e,"j",function(){return O}),n.d(e,"b",function(){return A}),n.d(e,"d",function(){return I}),n.d(e,"a",function(){return L}),n.d(e,"f",function(){return P}),n.d(e,"l",function(){return D}),n.d(e,"k",function(){return N}),n.d(e,"q",function(){return j}),n.d(e,"r",function(){return k}),n.d(e,"m",function(){return F}),n.d(e,"o",function(){return U}),n.d(e,"g",function(){return G}),n.d(e,"p",function(){return V}),n.d(e,"h",function(){return B}),n.d(e,"e",function(){return z});var i=n("G7/A"),r=n("Msoz"),s=n("LV+m");const o=6378137*Math.PI,a=[-o,-o,o,o],l=[-180,-85,180,85],c=6378137*Math.log(Math.tan(Math.PI/2));class h extends r.a{constructor(t){super({code:t,units:i.b.METERS,extent:a,global:!0,worldExtent:l,getPointResolution:function(t,e){return t/Object(s.b)(e[1]/6378137)}})}}const u=[new h("EPSG:3857"),new h("EPSG:102100"),new h("EPSG:102113"),new h("EPSG:900913"),new h("http://www.opengis.net/gml/srs/epsg.xml#3857")],d=[-180,-90,180,90],p=6378137*Math.PI/180;class f extends r.a{constructor(t,e){super({code:t,units:i.b.DEGREES,extent:d,axisOrientation:e,global:!0,metersPerUnit:p,worldExtent:d})}}const m=[new f("CRS:84"),new f("EPSG:4326","neu"),new f("urn:ogc:def:crs:OGC:1.3:CRS84"),new f("urn:ogc:def:crs:OGC:2:84"),new f("http://www.opengis.net/gml/srs/epsg.xml#4326","neu")];let g={};var y,_,b,v=n("E9sE"),S=n("hKKC"),T=n("tZnV"),x=n("rA9B");function w(t,e,n){let i;if(void 0!==e){for(let n=0,i=t.length;n<i;++n)e[n]=t[n];i=e}else i=t.slice();return i}function E(t,e,n){if(void 0!==e&&t!==e){for(let n=0,i=t.length;n<i;++n)e[n]=t[n];t=e}return t}function C(t){!function(t,e){g[t]=e}(t.getCode(),t),Object(v.a)(t,t,w)}function M(t){return"string"==typeof t?g[e=t]||g[e.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null:t||null;var e}function O(t,e,n,r){let s;const o=(t=M(t)).getPointResolutionFunc();if(o){if(s=o(e,n),r&&r!==t.getUnits()){const e=t.getMetersPerUnit();e&&(s=s*e/i.a[r])}}else{const o=t.getUnits();if(o==i.b.DEGREES&&!r||r==i.b.DEGREES)s=e;else{const a=D(t,M("EPSG:4326"));if(a===E&&o!==i.b.DEGREES)s=e*t.getMetersPerUnit();else{let t=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];t=a(t,t,2),s=(Object(T.a)(t.slice(0,2),t.slice(2,4))+Object(T.a)(t.slice(4,6),t.slice(6,8)))/2}const l=r?i.a[r]:t.getMetersPerUnit();void 0!==l&&(s/=l)}}return s}function A(t){!function(t){t.forEach(C)}(t),t.forEach(function(e){t.forEach(function(t){e!==t&&Object(v.a)(e,t,w)})})}function I(t,e){return t?"string"==typeof t?M(t):t:M(e)}function R(t){return function(e,n,i){const r=e.length,s=void 0!==i?i:2,o=void 0!==n?n:new Array(r);for(let a=0;a<r;a+=s){const n=t([e[a],e[a+1]]);o[a]=n[0],o[a+1]=n[1];for(let t=s-1;t>=2;--t)o[a+t]=e[a+t]}return o}}function L(t,e,n,i){const r=M(t),s=M(e);Object(v.a)(r,s,R(n)),Object(v.a)(s,r,R(i))}function P(t,e){if(t===e)return!0;const n=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||D(t,e)===w)&&n}function D(t,e){const n=t.getCode(),i=e.getCode();let r=Object(v.c)(n,i);return r||(r=E),r}function N(t,e){return D(M(t),M(e))}function j(t,e,n){return N(e,n)(t,void 0,t.length)}function k(t,e,n,i){const r=N(e,n);return Object(S.a)(t,r,void 0,i)}function F(){return null}function U(t,e){return t}function G(t,e){return t}function V(t,e){return t}function B(t,e){return t}function z(t,e,n){return function(i){let r,o,a=i[0],l=i[1];if(t.canWrapX()){const e=t.getExtent(),c=Object(S.F)(e);o=Object(x.d)(i,t,c),o&&(a-=o*c),a=Object(s.a)(a,e[0],e[2]),l=Object(s.a)(l,e[1],e[3]),r=n([a,l])}else r=n(i);return o&&e.canWrapX()&&(r[0]+=o*Object(S.F)(e.getExtent())),r}}A(u),A(m),y=u,_=function(t,e,n){const i=t.length,r=n>1?n:2;let s=e;void 0===s&&(s=r>2?t.slice():new Array(i));for(let a=0;a<i;a+=r){s[a]=o*t[a]/180;let e=6378137*Math.log(Math.tan(Math.PI*(+t[a+1]+90)/360));e>c?e=c:e<-c&&(e=-c),s[a+1]=e}return s},b=function(t,e,n){const i=t.length,r=n>1?n:2;let s=e;void 0===s&&(s=r>2?t.slice():new Array(i));for(let a=0;a<i;a+=r)s[a]=180*t[a]/o,s[a+1]=360*Math.atan(Math.exp(t[a+1]/6378137))/Math.PI-90;return s},m.forEach(function(t){y.forEach(function(e){Object(v.a)(t,e,_),Object(v.a)(e,t,b)})})},aBeY:function(t,e,n){"use strict";e.a={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"}},aoLf:function(t,e,n){"use strict";n.d(e,"a",function(){return h}),n.d(e,"b",function(){return u});var i=n("Qz9N"),r=n("aBeY"),s=n("jTA9"),o=n("Qbx7"),a=n("Cw4B"),l=n("hKKC"),c=n("oWEL");function h(t,e,n,h,u,d,p){const f=t[0]/2,m=t[1]/2,g=Object(a.a)(f,m);g.imageSmoothingEnabled=!1;const y=g.canvas,_=new i.a(g,.5,u,null,p),b=n.length,v=Math.floor(16777215/b),S={};for(let i=1;i<=b;++i){const t=n[i-1],e=t.getStyleFunction()||h;if(!h)continue;let c=e(t,d);if(!c)continue;Array.isArray(c)||(c=[c]);const p="#"+("000000"+(i*v).toString(16)).slice(-6);for(let n=0,i=c.length;n<i;++n){const e=c[n],i=e.clone(),h=i.getFill();h&&h.setColor(p);const d=i.getStroke();d&&d.setColor(p),i.setText(void 0);const f=e.getImage();if(f){const t=f.getImageSize();if(!t)continue;const e=document.createElement("canvas");e.width=t[0],e.height=t[1];const n=e.getContext("2d",{alpha:!1});n.fillStyle=p;const r=n.canvas;n.fillRect(0,0,r.width,r.height);const l=t?t[0]:r.width,c=t?t[1]:r.height;Object(a.a)(l,c).drawImage(r,0,0),i.setImage(new o.a({img:r,imgSize:t,anchor:f.getAnchor(),anchorXUnits:s.a.PIXELS,anchorYUnits:s.a.PIXELS,offset:f.getOrigin(),size:f.getSize(),opacity:f.getOpacity(),scale:f.getScale(),rotation:f.getRotation(),rotateWithView:f.getRotateWithView()}))}const m=Number(i.getZIndex());let g=S[m];g||(g={},S[m]=g,g[r.a.POLYGON]=[],g[r.a.CIRCLE]=[],g[r.a.LINE_STRING]=[],g[r.a.POINT]=[]);const y=i.getGeometryFunction()(t);y&&Object(l.G)(u,y.getExtent())&&g[y.getType().replace("Multi","")].push(y,i)}}const T=Object.keys(S).map(Number).sort(c.i);for(let i=0,r=T.length;i<r;++i){const t=S[T[i]];for(const n in t){const i=t[n];for(let t=0,n=i.length;t<n;t+=2){_.setStyle(i[t+1]);for(let n=0,r=e.length;n<r;++n)_.setTransform(e[n]),_.drawGeometry(i[t])}}}return g.getImageData(0,0,y.width,y.height)}function u(t,e,n){const i=[];if(n){const r=4*(Math.round(t[0]/2)+Math.round(t[1]/2)*n.width),s=n.data[r+2]+256*(n.data[r+1]+256*n.data[r]),o=Math.floor(16777215/e.length);s&&s%o==0&&i.push(e[s/o-1])}return i}},avWC:function(t,e,n){"use strict";e.a={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}},aydW:function(t,e,n){"use strict";n.d(e,"c",function(){return r}),n.d(e,"d",function(){return s}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a});var i=n("LV+m");function r(t){return void 0!==t?0:void 0}function s(t){return void 0!==t?t:void 0}function o(t){const e=2*Math.PI/t;return function(t,n){return n?t:void 0!==t?t=Math.floor(t/e+.5)*e:void 0}}function a(t){const e=t||Object(i.j)(5);return function(t,n){return n?t:void 0!==t?Math.abs(t)<=e?0:t:void 0}}},b6O2:function(t,e,n){"use strict";var i=n("JlTo"),r=n("zmPu"),s=n("aBeY"),o=n("mTm8"),a=n("ogOc");const l=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function c(t,e){const n=l.length;for(let r=0;r<n;++r)try{const n=t.getContext(l[r],e);if(n)return n}catch(i){}return null}let h;var u=n("i3ci");function d(t){switch(t){case 34962:return Float32Array;case 34963:return Uint32Array;default:return Float32Array}}var p=class{constructor(t,e){this.array=null,this.type=t,Object(u.a)(34962===t||34963===t,62),this.usage=void 0!==e?e:35044}ofSize(t){this.array=new(d(this.type))(t)}fromArray(t){this.array=d(this.type).from(t)}fromArrayBuffer(t){this.array=new(d(this.type))(t)}getType(){return this.type}getArray(){return this.array}getUsage(){return this.usage}getSize(){return this.array?this.array.length:0}},f=n("PhKu"),m=n("D1oO"),g=n("RuG3"),y=n("BbPW"),_=class{constructor(t){this.gl_=t.webGlContext;const e=this.gl_;this.scaleRatio_=t.scaleRatio||1,this.renderTargetTexture_=e.createTexture(),this.renderTargetTextureSize_=null,this.frameBuffer_=e.createFramebuffer();const n=e.createShader(e.VERTEX_SHADER);e.shaderSource(n,t.vertexShader||"\n  precision mediump float;\n  \n  attribute vec2 a_position;\n  varying vec2 v_texCoord;\n  varying vec2 v_screenCoord;\n  \n  uniform vec2 u_screenSize;\n   \n  void main() {\n    v_texCoord = a_position * 0.5 + 0.5;\n    v_screenCoord = v_texCoord * u_screenSize;\n    gl_Position = vec4(a_position, 0.0, 1.0);\n  }\n"),e.compileShader(n);const i=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(i,t.fragmentShader||"\n  precision mediump float;\n   \n  uniform sampler2D u_image;\n   \n  varying vec2 v_texCoord;\n   \n  void main() {\n    gl_FragColor = texture2D(u_image, v_texCoord);\n  }\n"),e.compileShader(i),this.renderTargetProgram_=e.createProgram(),e.attachShader(this.renderTargetProgram_,n),e.attachShader(this.renderTargetProgram_,i),e.linkProgram(this.renderTargetProgram_),this.renderTargetVerticesBuffer_=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),e.bufferData(e.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,1,-1,1,1,-1,1]),e.STATIC_DRAW),this.renderTargetAttribLocation_=e.getAttribLocation(this.renderTargetProgram_,"a_position"),this.renderTargetUniformLocation_=e.getUniformLocation(this.renderTargetProgram_,"u_screenSize"),this.renderTargetTextureLocation_=e.getUniformLocation(this.renderTargetProgram_,"u_image"),this.uniforms_=[],t.uniforms&&Object.keys(t.uniforms).forEach((function(n){this.uniforms_.push({value:t.uniforms[n],location:e.getUniformLocation(this.renderTargetProgram_,n)})}).bind(this))}getGL(){return this.gl_}init(t){const e=this.getGL(),n=[e.drawingBufferWidth*this.scaleRatio_,e.drawingBufferHeight*this.scaleRatio_];if(e.bindFramebuffer(e.FRAMEBUFFER,this.getFrameBuffer()),e.viewport(0,0,n[0],n[1]),!this.renderTargetTextureSize_||this.renderTargetTextureSize_[0]!==n[0]||this.renderTargetTextureSize_[1]!==n[1]){this.renderTargetTextureSize_=n;const t=0,i=e.RGBA,r=0,s=e.RGBA,o=e.UNSIGNED_BYTE,a=null;e.bindTexture(e.TEXTURE_2D,this.renderTargetTexture_),e.texImage2D(e.TEXTURE_2D,t,i,n[0],n[1],r,s,o,a),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.renderTargetTexture_,0)}}apply(t,e){const n=this.getGL(),i=t.size;n.bindFramebuffer(n.FRAMEBUFFER,e?e.getFrameBuffer():null),n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,this.renderTargetTexture_),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.enable(n.BLEND),n.blendFunc(n.ONE,n.ONE_MINUS_SRC_ALPHA),n.viewport(0,0,n.drawingBufferWidth,n.drawingBufferHeight),n.bindBuffer(n.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),n.useProgram(this.renderTargetProgram_),n.enableVertexAttribArray(this.renderTargetAttribLocation_),n.vertexAttribPointer(this.renderTargetAttribLocation_,2,n.FLOAT,!1,0,0),n.uniform2f(this.renderTargetUniformLocation_,i[0],i[1]),n.uniform1i(this.renderTargetTextureLocation_,0),this.applyUniforms(t),n.drawArrays(n.TRIANGLES,0,6)}getFrameBuffer(){return this.frameBuffer_}applyUniforms(t){const e=this.getGL();let n,i=1;this.uniforms_.forEach(function(r){if(n="function"==typeof r.value?r.value(t):r.value,n instanceof HTMLCanvasElement||n instanceof ImageData)r.texture||(r.texture=e.createTexture()),e.activeTexture(e[`TEXTURE${i}`]),e.bindTexture(e.TEXTURE_2D,r.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),n instanceof ImageData?e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,n.width,n.height,0,e.UNSIGNED_BYTE,new Uint8Array(n.data)):e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n),e.uniform1i(r.location,i++);else if(Array.isArray(n))switch(n.length){case 2:return void e.uniform2f(r.location,n[0],n[1]);case 3:return void e.uniform3f(r.location,n[0],n[1],n[2]);case 4:return void e.uniform4f(r.location,n[0],n[1],n[2],n[3]);default:return}else"number"==typeof n&&e.uniform1f(r.location,n)})}},b=n("Bpkx"),v=n("n2w5");function S(t,e){return t[0]=e[0],t[1]=e[1],t[4]=e[2],t[5]=e[3],t[12]=e[4],t[13]=e[5],t}var T=n("2I+J"),x=n("oWEL");const w={UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123,UNSIGNED_INT:5125,FLOAT:5126};function E(t){switch(t){case w.UNSIGNED_BYTE:return Uint8Array.BYTES_PER_ELEMENT;case w.UNSIGNED_SHORT:return Uint16Array.BYTES_PER_ELEMENT;case w.UNSIGNED_INT:return Uint32Array.BYTES_PER_ELEMENT;case w.FLOAT:default:return Float32Array.BYTES_PER_ELEMENT}}var C=class extends y.a{constructor(t){super();const e=t||{};this.boundHandleWebGLContextLost_=this.handleWebGLContextLost.bind(this),this.boundHandleWebGLContextRestored_=this.handleWebGLContextRestored.bind(this),this.canvas_=document.createElement("canvas"),this.canvas_.style.position="absolute",this.canvas_.style.left="0",this.gl_=c(this.canvas_);const n=this.getGL();if(this.bufferCache_={},this.currentProgram_=null,Object(u.a)(Object(x.f)(function(){if(!h){const t=c(document.createElement("canvas"));t&&(h=t.getSupportedExtensions())}return h}(),"OES_element_index_uint"),63),n.getExtension("OES_element_index_uint"),this.canvas_.addEventListener("webglcontextlost",this.boundHandleWebGLContextLost_),this.canvas_.addEventListener("webglcontextrestored",this.boundHandleWebGLContextRestored_),this.offsetRotateMatrix_=Object(v.c)(),this.offsetScaleMatrix_=Object(v.c)(),this.tmpMat4_=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],this.uniformLocations_={},this.attribLocations_={},this.uniforms_=[],e.uniforms)for(const i in e.uniforms)this.uniforms_.push({name:i,value:e.uniforms[i]});this.postProcessPasses_=e.postProcesses?e.postProcesses.map(function(t){return new _({webGlContext:n,scaleRatio:t.scaleRatio,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader,uniforms:t.uniforms})}):[new _({webGlContext:n})],this.shaderCompileErrors_=null,this.startTime_=Date.now()}bindBuffer(t){const e=this.getGL(),n=Object(T.c)(t);let i=this.bufferCache_[n];i||(i={buffer:t,webGlBuffer:e.createBuffer()},this.bufferCache_[n]=i),e.bindBuffer(t.getType(),i.webGlBuffer)}flushBufferData(t){const e=this.getGL();this.bindBuffer(t),e.bufferData(t.getType(),t.getArray(),t.getUsage())}deleteBuffer(t){const e=this.getGL(),n=Object(T.c)(t),i=this.bufferCache_[n];e.isContextLost()||e.deleteBuffer(i.buffer),delete this.bufferCache_[n]}disposeInternal(){this.canvas_.removeEventListener("webglcontextlost",this.boundHandleWebGLContextLost_),this.canvas_.removeEventListener("webglcontextrestored",this.boundHandleWebGLContextRestored_)}prepareDraw(t){const e=this.getGL(),n=this.getCanvas(),i=t.size,r=t.pixelRatio;n.width=i[0]*r,n.height=i[1]*r,n.style.width=i[0]+"px",n.style.height=i[1]+"px",e.useProgram(this.currentProgram_);for(let s=this.postProcessPasses_.length-1;s>=0;s--)this.postProcessPasses_[s].init(t);e.bindTexture(e.TEXTURE_2D,null),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),e.enable(e.BLEND),e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA),e.useProgram(this.currentProgram_),this.applyFrameState(t),this.applyUniforms(t)}prepareDrawToRenderTarget(t,e,n){const i=this.getGL(),r=e.getSize();i.bindFramebuffer(i.FRAMEBUFFER,e.getFramebuffer()),i.viewport(0,0,r[0],r[1]),i.bindTexture(i.TEXTURE_2D,e.getTexture()),i.clearColor(0,0,0,0),i.clear(i.COLOR_BUFFER_BIT),i.enable(i.BLEND),i.blendFunc(i.ONE,n?i.ZERO:i.ONE_MINUS_SRC_ALPHA),i.useProgram(this.currentProgram_),this.applyFrameState(t),this.applyUniforms(t)}drawElements(t,e){const n=this.getGL();n.drawElements(n.TRIANGLES,e-t,n.UNSIGNED_INT,4*t)}finalizeDraw(t){for(let e=0;e<this.postProcessPasses_.length;e++)this.postProcessPasses_[e].apply(t,this.postProcessPasses_[e+1]||null)}getCanvas(){return this.canvas_}getGL(){return this.gl_}applyFrameState(t){const e=t.size,n=t.viewState.rotation,i=Object(v.g)(this.offsetScaleMatrix_);Object(v.i)(i,2/e[0],2/e[1]);const r=Object(v.g)(this.offsetRotateMatrix_);0!==n&&Object(v.h)(r,-n),this.setUniformMatrixValue("u_offsetScaleMatrix",S(this.tmpMat4_,i)),this.setUniformMatrixValue("u_offsetRotateMatrix",S(this.tmpMat4_,r)),this.setUniformFloatValue("u_time",.001*(Date.now()-this.startTime_)),this.setUniformFloatValue("u_zoom",t.viewState.zoom),this.setUniformFloatValue("u_resolution",t.viewState.resolution)}applyUniforms(t){const e=this.getGL();let n,i=0;this.uniforms_.forEach((function(r){if(n="function"==typeof r.value?r.value(t):r.value,n instanceof HTMLCanvasElement||n instanceof HTMLImageElement||n instanceof ImageData)r.texture||(r.prevValue=void 0,r.texture=e.createTexture()),e.activeTexture(e[`TEXTURE${i}`]),e.bindTexture(e.TEXTURE_2D,r.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),(!(n instanceof HTMLImageElement)||n.complete)&&r.prevValue!==n&&(r.prevValue=n,e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n)),e.uniform1i(this.getUniformLocation(r.name),i++);else if(Array.isArray(n)&&6===n.length)this.setUniformMatrixValue(r.name,S(this.tmpMat4_,n));else if(Array.isArray(n)&&n.length<=4)switch(n.length){case 2:return void e.uniform2f(this.getUniformLocation(r.name),n[0],n[1]);case 3:return void e.uniform3f(this.getUniformLocation(r.name),n[0],n[1],n[2]);case 4:return void e.uniform4f(this.getUniformLocation(r.name),n[0],n[1],n[2],n[3]);default:return}else"number"==typeof n&&e.uniform1f(this.getUniformLocation(r.name),n)}).bind(this))}useProgram(t){return t!=this.currentProgram_&&(this.getGL().useProgram(t),this.currentProgram_=t,this.uniformLocations_={},this.attribLocations_={},!0)}compileShader(t,e){const n=this.getGL(),i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}getProgram(t,e){const n=this.getGL(),i=this.compileShader(t,n.FRAGMENT_SHADER),r=this.compileShader(e,n.VERTEX_SHADER);this.shaderCompileErrors_=null,n.getShaderInfoLog(i)&&(this.shaderCompileErrors_=`Fragment shader compilation failed:\n${n.getShaderInfoLog(i)}`),n.getShaderInfoLog(r)&&(this.shaderCompileErrors_=(this.shaderCompileErrors_||"")+`Vertex shader compilation failed:\n${n.getShaderInfoLog(r)}`);const s=n.createProgram();return n.attachShader(s,i),n.attachShader(s,r),n.linkProgram(s),s}getShaderCompileErrors(){return this.shaderCompileErrors_}getUniformLocation(t){return void 0===this.uniformLocations_[t]&&(this.uniformLocations_[t]=this.getGL().getUniformLocation(this.currentProgram_,t)),this.uniformLocations_[t]}getAttributeLocation(t){return void 0===this.attribLocations_[t]&&(this.attribLocations_[t]=this.getGL().getAttribLocation(this.currentProgram_,t)),this.attribLocations_[t]}makeProjectionTransform(t,e){const n=t.size,i=t.viewState.rotation,r=t.viewState.resolution,s=t.viewState.center;return Object(v.g)(e),Object(v.b)(e,0,0,2/(r*n[0]),2/(r*n[1]),-i,-s[0],-s[1]),e}setUniformFloatValue(t,e){this.getGL().uniform1f(this.getUniformLocation(t),e)}setUniformMatrixValue(t,e){this.getGL().uniformMatrix4fv(this.getUniformLocation(t),!1,e)}enableAttributeArray_(t,e,n,i,r){const s=this.getAttributeLocation(t);s<0||(this.getGL().enableVertexAttribArray(s),this.getGL().vertexAttribPointer(s,e,n,!1,i,r))}enableAttributes(t){const e=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];e+=i.size*E(i.type)}return e}(t);let n=0;for(let i=0;i<t.length;i++){const r=t[i];this.enableAttributeArray_(r.name,r.size,r.type||5126,e,n),n+=r.size*E(r.type)}}handleWebGLContextLost(){Object(b.b)(this.bufferCache_),this.currentProgram_=null}handleWebGLContextRestored(){}createTexture(t,e,n){const i=this.getGL(),r=n||i.createTexture(),s=i.RGBA,o=i.RGBA,a=i.UNSIGNED_BYTE;return i.bindTexture(i.TEXTURE_2D,r),e?i.texImage2D(i.TEXTURE_2D,0,s,o,a,e):i.texImage2D(i.TEXTURE_2D,0,s,t[0],t[1],0,o,a,null),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),r}};function M(t,e){const n=e||[];return n[0]=Math.floor(t/256/256/256)/255,n[1]=Math.floor(t/256/256)%256/255,n[2]=Math.floor(t/256)%256/255,n[3]=t%256/255,n}var O=class extends f.a{constructor(t,e){super(t);const n=e||{};this.helper=new C({postProcesses:n.postProcesses,uniforms:n.uniforms}),void 0!==n.className&&(this.helper.getCanvas().className=n.className)}disposeInternal(){this.helper.dispose(),super.disposeInternal()}getShaderCompileErrors(){return this.helper.getShaderCompileErrors()}dispatchRenderEvent_(t,e){const n=this.getLayer();if(n.hasListener(t)){const i=new m.a(t,null,e,null);n.dispatchEvent(i)}}preRender(t){this.dispatchRenderEvent_(g.a.PRERENDER,t)}postRender(t){this.dispatchRenderEvent_(g.a.POSTRENDER,t)}};const A=new Uint8Array(4);var I=n("hKKC");const R=new Blob(['var e="function"==typeof Object.assign?Object.assign:function(e,n){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1,o=arguments.length;r<o;++r){var i=arguments[r];if(null!=i)for(var f in i)i.hasOwnProperty(f)&&(t[f]=i[f])}return t},n="GENERATE_BUFFERS",t=[],r={vertexPosition:0,indexPosition:0};function o(e,n,t,r,o){e[n+0]=t,e[n+1]=r,e[n+2]=o}function i(e,n,i,f,s,u){var a=3+s,l=e[n+0],v=e[n+1],c=t;c.length=s;for(var g=0;g<c.length;g++)c[g]=e[n+2+g];var b=u?u.vertexPosition:0,h=u?u.indexPosition:0,d=b/a;return o(i,b,l,v,0),c.length&&i.set(c,b+3),o(i,b+=a,l,v,1),c.length&&i.set(c,b+3),o(i,b+=a,l,v,2),c.length&&i.set(c,b+3),o(i,b+=a,l,v,3),c.length&&i.set(c,b+3),b+=a,f[h++]=d,f[h++]=d+1,f[h++]=d+3,f[h++]=d+1,f[h++]=d+2,f[h++]=d+3,r.vertexPosition=b,r.indexPosition=h,r}var f=self;f.onmessage=function(t){var r=t.data;if(r.type===n){for(var o=r.customAttributesCount,s=2+o,u=new Float32Array(r.renderInstructions),a=u.length/s,l=4*a*(o+3),v=new Uint32Array(6*a),c=new Float32Array(l),g=null,b=0;b<u.length;b+=s)g=i(u,b,c,v,o,g);var h=e({vertexBuffer:c.buffer,indexBuffer:v.buffer,renderInstructions:u.buffer},r);f.postMessage(h,[c.buffer,v.buffer,u.buffer])}};'],{type:"application/javascript"}),L=URL.createObjectURL(R);var P=n("FHfp"),D=class extends O{constructor(t,e){const n=e.uniforms||{},i=Object(v.c)();n.u_projectionMatrix=i,super(t,{className:e.className,uniforms:n,postProcesses:e.postProcesses}),this.sourceRevision_=-1,this.verticesBuffer_=new p(34962,35048),this.hitVerticesBuffer_=new p(34962,35048),this.indicesBuffer_=new p(34963,35048),this.program_=this.helper.getProgram(e.fragmentShader,e.vertexShader),this.hitDetectionEnabled_=!(!e.hitFragmentShader||!e.hitVertexShader),this.hitProgram_=this.hitDetectionEnabled_&&this.helper.getProgram(e.hitFragmentShader,e.hitVertexShader);const r=e.attributes?e.attributes.map(function(t){return{name:"a_"+t.name,size:1,type:w.FLOAT}}):[];this.attributes=[{name:"a_position",size:2,type:w.FLOAT},{name:"a_index",size:1,type:w.FLOAT}].concat(r),this.hitDetectionAttributes=[{name:"a_position",size:2,type:w.FLOAT},{name:"a_index",size:1,type:w.FLOAT},{name:"a_hitColor",size:4,type:w.FLOAT},{name:"a_featureUid",size:1,type:w.FLOAT}].concat(r),this.customAttributes=e.attributes?e.attributes:[],this.previousExtent_=Object(I.k)(),this.currentTransform_=i,this.renderTransform_=Object(v.c)(),this.invertRenderTransform_=Object(v.c)(),this.renderInstructions_=new Float32Array(0),this.hitRenderInstructions_=new Float32Array(0),this.hitRenderTarget_=this.hitDetectionEnabled_&&new class{constructor(t,e){this.helper_=t;const n=t.getGL();this.texture_=n.createTexture(),this.framebuffer_=n.createFramebuffer(),this.size_=e||[1,1],this.data_=new Uint8Array(0),this.dataCacheDirty_=!0,this.updateSize_()}setSize(t){Object(x.b)(t,this.size_)||(this.size_[0]=t[0],this.size_[1]=t[1],this.updateSize_())}getSize(){return this.size_}clearCachedData(){this.dataCacheDirty_=!0}readAll(){if(this.dataCacheDirty_){const t=this.size_,e=this.helper_.getGL();e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer_),e.readPixels(0,0,t[0],t[1],e.RGBA,e.UNSIGNED_BYTE,this.data_),this.dataCacheDirty_=!1}return this.data_}readPixel(t,e){if(t<0||e<0||t>this.size_[0]||e>=this.size_[1])return A[0]=0,A[1]=0,A[2]=0,A[3]=0,A;this.readAll();const n=Math.floor(t)+(this.size_[1]-Math.floor(e)-1)*this.size_[0];return A[0]=this.data_[4*n],A[1]=this.data_[4*n+1],A[2]=this.data_[4*n+2],A[3]=this.data_[4*n+3],A}getTexture(){return this.texture_}getFramebuffer(){return this.framebuffer_}updateSize_(){const t=this.size_,e=this.helper_.getGL();this.texture_=this.helper_.createTexture(t,null,this.texture_),e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer_),e.viewport(0,0,t[0],t[1]),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture_,0),this.data_=new Uint8Array(t[0]*t[1]*4)}}(this.helper),this.worker_=new Worker(L),this.worker_.addEventListener("message",(function(t){const e=t.data;if("GENERATE_BUFFERS"===e.type){const n=e.projectionTransform;e.hitDetection?(this.hitVerticesBuffer_.fromArrayBuffer(e.vertexBuffer),this.helper.flushBufferData(this.hitVerticesBuffer_)):(this.verticesBuffer_.fromArrayBuffer(e.vertexBuffer),this.helper.flushBufferData(this.verticesBuffer_)),this.indicesBuffer_.fromArrayBuffer(e.indexBuffer),this.helper.flushBufferData(this.indicesBuffer_),this.renderTransform_=n,Object(v.d)(this.invertRenderTransform_,this.renderTransform_),e.hitDetection?this.hitRenderInstructions_=new Float32Array(t.data.renderInstructions):this.renderInstructions_=new Float32Array(t.data.renderInstructions),this.getLayer().changed()}}).bind(this)),this.featureCache_={},this.featureCount_=0;const s=this.getLayer().getSource();this.sourceListenKeys_=[Object(P.a)(s,o.a.ADDFEATURE,this.handleSourceFeatureAdded_,this),Object(P.a)(s,o.a.CHANGEFEATURE,this.handleSourceFeatureChanged_,this),Object(P.a)(s,o.a.REMOVEFEATURE,this.handleSourceFeatureDelete_,this),Object(P.a)(s,o.a.CLEAR,this.handleSourceFeatureClear_,this)],s.forEachFeature((function(t){this.featureCache_[Object(T.c)(t)]={feature:t,properties:t.getProperties(),geometry:t.getGeometry()},this.featureCount_++}).bind(this))}handleSourceFeatureAdded_(t){const e=t.feature;this.featureCache_[Object(T.c)(e)]={feature:e,properties:e.getProperties(),geometry:e.getGeometry()},this.featureCount_++}handleSourceFeatureChanged_(t){const e=t.feature;this.featureCache_[Object(T.c)(e)]={feature:e,properties:e.getProperties(),geometry:e.getGeometry()}}handleSourceFeatureDelete_(t){const e=t.feature;delete this.featureCache_[Object(T.c)(e)],this.featureCount_--}handleSourceFeatureClear_(){this.featureCache_={},this.featureCount_=0}renderFrame(t){this.preRender(t);const e=this.indicesBuffer_.getSize();this.helper.drawElements(0,e),this.helper.finalizeDraw(t);const n=this.helper.getCanvas(),i=t.layerStatesArray[t.layerIndex].opacity;return i!==parseFloat(n.style.opacity)&&(n.style.opacity=String(i)),this.hitDetectionEnabled_&&(this.renderHitDetection(t),this.hitRenderTarget_.clearCachedData()),this.postRender(t),n}prepareFrame(t){const e=this.getLayer(),n=e.getSource(),i=t.viewState,s=!t.viewHints[a.a.ANIMATING]&&!t.viewHints[a.a.INTERACTING],o=!Object(I.q)(this.previousExtent_,t.extent),l=this.sourceRevision_<n.getRevision();if(l&&(this.sourceRevision_=n.getRevision()),s&&(o||l)){const s=i.projection,o=i.resolution,a=e instanceof r.a?e.getRenderBuffer():0,l=Object(I.d)(t.extent,a*o);n.loadFeatures(l,o,s),this.rebuildBuffers_(t),this.previousExtent_=t.extent.slice()}return this.helper.makeProjectionTransform(t,this.currentTransform_),Object(v.f)(this.currentTransform_,this.invertRenderTransform_),this.helper.useProgram(this.program_),this.helper.prepareDraw(t),this.helper.bindBuffer(this.verticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.attributes),!0}rebuildBuffers_(t){const e=Object(v.c)();this.helper.makeProjectionTransform(t,e);const n=(2+this.customAttributes.length)*this.featureCount_;if(this.renderInstructions_&&this.renderInstructions_.length===n||(this.renderInstructions_=new Float32Array(n)),this.hitDetectionEnabled_){const t=(7+this.customAttributes.length)*this.featureCount_;this.hitRenderInstructions_&&this.hitRenderInstructions_.length===t||(this.hitRenderInstructions_=new Float32Array(t))}let i,r;const o=[],a=[];let l,c=0,h=0;for(const d in this.featureCache_){if(i=this.featureCache_[d],r=i.geometry,!r||r.getType()!==s.a.POINT)continue;let t;o[0]=r.getFlatCoordinates()[0],o[1]=r.getFlatCoordinates()[1],Object(v.a)(e,o),l=M(h+6,a),this.renderInstructions_[c++]=o[0],this.renderInstructions_[c++]=o[1],this.hitDetectionEnabled_&&(this.hitRenderInstructions_[h++]=o[0],this.hitRenderInstructions_[h++]=o[1],this.hitRenderInstructions_[h++]=l[0],this.hitRenderInstructions_[h++]=l[1],this.hitRenderInstructions_[h++]=l[2],this.hitRenderInstructions_[h++]=l[3],this.hitRenderInstructions_[h++]=Number(d));for(let e=0;e<this.customAttributes.length;e++)t=this.customAttributes[e].callback(i.feature,i.properties),this.renderInstructions_[c++]=t,this.hitDetectionEnabled_&&(this.hitRenderInstructions_[h++]=t)}const u={type:"GENERATE_BUFFERS",renderInstructions:this.renderInstructions_.buffer,customAttributesCount:this.customAttributes.length};if(u.projectionTransform=e,this.worker_.postMessage(u,[this.renderInstructions_.buffer]),this.renderInstructions_=null,this.hitDetectionEnabled_){const t={type:"GENERATE_BUFFERS",renderInstructions:this.hitRenderInstructions_.buffer,customAttributesCount:5+this.customAttributes.length};t.projectionTransform=e,t.hitDetection=!0,this.worker_.postMessage(t,[this.hitRenderInstructions_.buffer]),this.hitRenderInstructions_=null}}forEachFeatureAtCoordinate(t,e,n,i,r){if(Object(u.a)(this.hitDetectionEnabled_,66),!this.hitRenderInstructions_)return;const s=Object(v.a)(e.coordinateToPixelTransform,t.slice()),o=this.hitRenderTarget_.readPixel(s[0]/2,s[1]/2),a=function(t){let e=0;return e+=Math.round(256*t[0]*256*256*255),e+=Math.round(256*t[1]*256*255),e+=Math.round(256*t[2]*255),e+=Math.round(255*t[3]),e}([o[0]/255,o[1]/255,o[2]/255,o[3]/255]),l=Math.floor(this.hitRenderInstructions_[a]).toString(),c=this.getLayer().getSource().getFeatureByUid(l);return c?i(c,this.getLayer(),null):void 0}renderHitDetection(t){if(!this.hitVerticesBuffer_.getSize())return;this.hitRenderTarget_.setSize([Math.floor(t.size[0]/2),Math.floor(t.size[1]/2)]),this.helper.useProgram(this.hitProgram_),this.helper.prepareDrawToRenderTarget(t,this.hitRenderTarget_,!0),this.helper.bindBuffer(this.hitVerticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.hitDetectionAttributes);const e=this.indicesBuffer_.getSize();this.helper.drawElements(0,e)}disposeInternal(){this.worker_.terminate(),this.layer_=null,this.sourceListenKeys_.forEach(function(t){Object(P.c)(t)}),this.sourceListenKeys_=null,super.disposeInternal()}},N=n("LV+m"),j=n("Cw4B"),k=n("bwl8");const F=["#00f","#0ff","#0f0","#ff0","#f00"];e.a=class extends i.a{constructor(t){const e=t||{},n=Object(b.a)({},e);delete n.gradient,delete n.radius,delete n.blur,delete n.weight,super(n),this.gradient_=null,this.addEventListener(Object(k.b)("gradient"),this.handleGradientChanged_),this.setGradient(e.gradient?e.gradient:F),this.setBlur(void 0!==e.blur?e.blur:15),this.setRadius(void 0!==e.radius?e.radius:8);const i=e.weight?e.weight:"weight";this.weightFunction_="string"==typeof i?function(t){return t.get(i)}:i,this.setRenderOrder(null)}getBlur(){return this.get("blur")}getGradient(){return this.get("gradient")}getRadius(){return this.get("radius")}handleGradientChanged_(){this.gradient_=function(t){const e=Object(j.a)(1,256),n=e.createLinearGradient(0,0,1,256),i=1/(t.length-1);for(let r=0,s=t.length;r<s;++r)n.addColorStop(r*i,t[r]);return e.fillStyle=n,e.fillRect(0,0,1,256),e.canvas}(this.getGradient())}setBlur(t){this.set("blur",t)}setGradient(t){this.set("gradient",t)}setRadius(t){this.set("radius",t)}createRenderer(){return new D(this,{className:this.getClassName(),attributes:[{name:"weight",callback:(function(t){const e=this.weightFunction_(t);return void 0!==e?Object(N.a)(e,0,1):1}).bind(this)}],vertexShader:"\n        precision mediump float;\n        uniform mat4 u_projectionMatrix;\n        uniform mat4 u_offsetScaleMatrix;\n        uniform float u_size;\n        attribute vec2 a_position;\n        attribute float a_index;\n        attribute float a_weight;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n\n        void main(void) {\n          mat4 offsetMatrix = u_offsetScaleMatrix;\n          float offsetX = a_index == 0.0 || a_index == 3.0 ? -u_size / 2.0 : u_size / 2.0;\n          float offsetY = a_index == 0.0 || a_index == 1.0 ? -u_size / 2.0 : u_size / 2.0;\n          vec4 offsets = offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n          gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n          float u = a_index == 0.0 || a_index == 3.0 ? 0.0 : 1.0;\n          float v = a_index == 0.0 || a_index == 1.0 ? 0.0 : 1.0;\n          v_texCoord = vec2(u, v);\n          v_weight = a_weight;\n        }",fragmentShader:"\n        precision mediump float;\n        uniform float u_blurSlope;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n\n        void main(void) {\n          vec2 texCoord = v_texCoord * 2.0 - vec2(1.0, 1.0);\n          float sqRadius = texCoord.x * texCoord.x + texCoord.y * texCoord.y;\n          float value = (1.0 - sqrt(sqRadius)) * u_blurSlope;\n          float alpha = smoothstep(0.0, 1.0, value) * v_weight;\n          gl_FragColor = vec4(alpha, alpha, alpha, alpha);\n        }",hitVertexShader:"\n        precision mediump float;\n        uniform mat4 u_projectionMatrix;\n        uniform mat4 u_offsetScaleMatrix;\n        uniform float u_size;\n        attribute vec2 a_position;\n        attribute float a_index;\n        attribute float a_weight;\n        attribute vec4 a_hitColor;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n        varying vec4 v_hitColor;\n\n        void main(void) {\n          mat4 offsetMatrix = u_offsetScaleMatrix;\n          float offsetX = a_index == 0.0 || a_index == 3.0 ? -u_size / 2.0 : u_size / 2.0;\n          float offsetY = a_index == 0.0 || a_index == 1.0 ? -u_size / 2.0 : u_size / 2.0;\n          vec4 offsets = offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n          gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n          float u = a_index == 0.0 || a_index == 3.0 ? 0.0 : 1.0;\n          float v = a_index == 0.0 || a_index == 1.0 ? 0.0 : 1.0;\n          v_texCoord = vec2(u, v);\n          v_hitColor = a_hitColor;\n          v_weight = a_weight;\n        }",hitFragmentShader:"\n        precision mediump float;\n        uniform float u_blurSlope;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n        varying vec4 v_hitColor;\n\n        void main(void) {\n          vec2 texCoord = v_texCoord * 2.0 - vec2(1.0, 1.0);\n          float sqRadius = texCoord.x * texCoord.x + texCoord.y * texCoord.y;\n          float value = (1.0 - sqrt(sqRadius)) * u_blurSlope;\n          float alpha = smoothstep(0.0, 1.0, value) * v_weight;\n          if (alpha < 0.05) {\n            discard;\n          }\n\n          gl_FragColor = v_hitColor;\n        }",uniforms:{u_size:(function(){return 2*(this.get("radius")+this.get("blur"))}).bind(this),u_blurSlope:(function(){return this.get("radius")/Math.max(1,this.get("blur"))}).bind(this)},postProcesses:[{fragmentShader:"\n            precision mediump float;\n\n            uniform sampler2D u_image;\n            uniform sampler2D u_gradientTexture;\n\n            varying vec2 v_texCoord;\n\n            void main() {\n              vec4 color = texture2D(u_image, v_texCoord);\n              gl_FragColor.a = color.a;\n              gl_FragColor.rgb = texture2D(u_gradientTexture, vec2(0.5, color.a)).rgb;\n              gl_FragColor.rgb *= gl_FragColor.a;\n            }",uniforms:{u_gradientTexture:(function(){return this.gradient_}).bind(this)}}]})}renderDeclutter(){}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("5+tZ"),r=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(i.a)(r.a,t)}},bOdf:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("5+tZ");function r(t,e){return Object(i.a)(t,e,1)}},bTHf:function(t,e,n){"use strict";e.a={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"}},bdbV:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("+hOz"),r=n("gjiK"),s=n("Bpkx");function o(t){const e=t.length;let n=0,i=0;for(let r=0;r<e;r++)n+=t[r].clientX,i+=t[r].clientY;return[n/e,i/e]}e.b=class extends i.a{constructor(t){const e=t||{};super(e),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.trackedPointers_={},this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(t){return!1}handleDragEvent(t){}handleEvent(t){if(!t.originalEvent)return!0;let e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==r.a.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==r.a.POINTERUP){const e=this.handleUpEvent(t);this.handlingDownUpSequence=e&&this.targetPointers.length>0}}else if(t.type==r.a.POINTERDOWN){const n=this.handleDownEvent(t);this.handlingDownUpSequence=n,e=this.stopDown(n)}else t.type==r.a.POINTERMOVE&&this.handleMoveEvent(t);return!e}handleMoveEvent(t){}handleUpEvent(t){return!1}stopDown(t){return t}updateTrackedPointers_(t){if(function(t){const e=t.type;return e===r.a.POINTERDOWN||e===r.a.POINTERDRAG||e===r.a.POINTERUP}(t)){const e=t.originalEvent,n=e.pointerId.toString();t.type==r.a.POINTERUP?delete this.trackedPointers_[n]:(t.type==r.a.POINTERDOWN||n in this.trackedPointers_)&&(this.trackedPointers_[n]=e),this.targetPointers=Object(s.c)(this.trackedPointers_)}}}},broj:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("hKKC");function r(t,e,n,r){const s=[];let o=Object(i.k)();for(let a=0,l=n.length;a<l;++a){const l=n[a];o=Object(i.p)(t,e,l[0],r),s.push((o[0]+o[2])/2,(o[1]+o[3])/2),e=l[l.length-1]}return s}},bwl8:function(t,e,n){"use strict";n.d(e,"b",function(){return h});var i=n("Gp2b"),r=n("pzRH"),s=n("0o2U"),o=n("Bpkx"),a=n("2I+J");class l extends i.a{constructor(t,e,n){super(t),this.key=e,this.oldValue=n}}const c={};function h(t){return c.hasOwnProperty(t)?c[t]:c[t]="change:"+t}e.a=class extends s.a{constructor(t){super(),Object(a.c)(this),this.values_=null,void 0!==t&&this.setProperties(t)}get(t){let e;return this.values_&&this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object(o.a)({},this.values_)||{}}hasProperties(){return!!this.values_}notify(t,e){let n;n=h(t),this.dispatchEvent(new l(n,t,e)),n=r.a.PROPERTYCHANGE,this.dispatchEvent(new l(n,t,e))}set(t,e,n){const i=this.values_||(this.values_={});if(n)i[t]=e;else{const n=i[t];i[t]=e,n!==e&&this.notify(t,n)}}setProperties(t,e){for(const n in t)this.set(n,t[n],e)}applyProperties(t){t.values_&&Object(o.a)(this.values_||(this.values_={}),t.values_)}unset(t,e){if(this.values_&&t in this.values_){const n=this.values_[t];delete this.values_[t],Object(o.d)(this.values_)&&(this.values_=null),e||this.notify(t,n)}}}},c2HN:function(t,e,n){"use strict";function i(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return i})},c73X:function(t,e,n){"use strict";n.d(e,"b",function(){return a});var i=n("G7/A"),r=n("2I+J"),s=n("Bpkx"),o=n("Znq9");function a(t,e,n){const i=n?Object(o.i)(n.featureProjection):null,r=n?Object(o.i)(n.dataProjection):null;let s;if(s=i&&r&&!Object(o.f)(i,r)?(e?t.clone():t).transform(e?i:r,e?r:i):t,e&&n&&void 0!==n.decimals){const e=Math.pow(10,n.decimals),i=function(t){for(let n=0,i=t.length;n<i;++n)t[n]=Math.round(t[n]*e)/e;return t};s===t&&(s=t.clone()),s.applyTransform(i)}return s}e.a=class{constructor(){this.dataProjection=null,this.defaultFeatureProjection=null}getReadOptions(t,e){let n;if(e){let r=e.dataProjection?Object(o.i)(e.dataProjection):this.readProjection(t);e.extent&&r&&r.getUnits()===i.b.TILE_PIXELS&&(r=Object(o.i)(r),r.setWorldExtent(e.extent)),n={dataProjection:r,featureProjection:e.featureProjection}}return this.adaptOptions(n)}adaptOptions(t){return Object(s.a)({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},t)}getType(){return Object(r.b)()}readFeature(t,e){return Object(r.b)()}readFeatures(t,e){return Object(r.b)()}readGeometry(t,e){return Object(r.b)()}readProjection(t){return Object(r.b)()}writeFeature(t,e){return Object(r.b)()}writeFeatures(t,e){return Object(r.b)()}writeGeometry(t,e){return Object(r.b)()}}},c7WQ:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n("Msoz"),r=n("G7/A"),s=n("Znq9"),o=n("Bpkx"),a=n("E9sE");function l(t){const e=Object.keys(t.defs),n=e.length;let l,c;for(l=0;l<n;++l){const n=e[l];if(!Object(s.i)(n)){const e=t.defs(n);let o=e.units;o||"longlat"!==e.projName||(o=r.b.DEGREES),Object(s.c)(new i.a({code:n,axisOrientation:e.axis,metersPerUnit:e.to_meter,units:o}))}}for(l=0;l<n;++l){const i=e[l],r=Object(s.i)(i);for(c=0;c<n;++c){const n=e[c],l=Object(s.i)(n);if(!Object(a.c)(i,n)){const e=t.defs(i),a=t.defs(n);if(e===a)Object(s.b)([r,l]);else{const n=t(Object(o.a)({},e,{axis:void 0}),Object(o.a)({},a,{axis:void 0}));Object(s.a)(r,l,Object(s.e)(r,l,n.forward),Object(s.e)(l,r,n.inverse))}}}}}},cR4a:function(t,e,n){"use strict";var i=n("rCez"),r=n("RuG3"),s=n("Nr0W"),o=n("fyJ9"),a=n("wRPv"),l=n("X87I"),c=n("wEYg"),h=n("kEUA"),u=n("sOX2"),d=n("OT4/"),p=n("JlTo"),f=n("Dm0N"),m=n("hKKC"),g=n("Bpkx"),y=n("LV+m"),_=n("rA9B"),b=n("Znq9"),v=n("Qz9N"),S=(n("FRHD"),n("n2w5")),T=n("lQ2a");function x(t,e,n){const i=[];let r=t(0),s=t(1),o=e(r),a=e(s);const l=[s,r],c=[a,o],h=[1,0],u={};let d,p,f,m,g,_,b=1e5;for(;--b>0&&h.length>0;)f=h.pop(),r=l.pop(),o=c.pop(),_=f.toString(),_ in u||(i.push(o[0],o[1]),u[_]=!0),m=h.pop(),s=l.pop(),a=c.pop(),g=(f+m)/2,d=t(g),p=e(d),Object(y.h)(p[0],p[1],o[0],o[1],a[0],a[1])<n?(i.push(a[0],a[1]),_=m.toString(),u[_]=!0):(h.push(m,g,g,f),c.push(a,p,p,o),l.push(s,d,d,r));return i}const w=new h.a({color:"rgba(0,0,0,0.2)"}),E=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001];e.a=class extends p.a{constructor(t){const e=t||{},n=Object(g.a)({updateWhileAnimating:!0,updateWhileInteracting:!0,renderBuffer:0},e);delete n.maxLines,delete n.strokeStyle,delete n.targetSize,delete n.showLabels,delete n.lonLabelFormatter,delete n.latLabelFormatter,delete n.lonLabelPosition,delete n.latLabelPosition,delete n.lonLabelStyle,delete n.latLabelStyle,delete n.intervals,super(n),this.projection_=null,this.maxLat_=1/0,this.maxLon_=1/0,this.minLat_=-1/0,this.minLon_=-1/0,this.maxX_=1/0,this.maxY_=1/0,this.minX_=-1/0,this.minY_=-1/0,this.targetSize_=void 0!==e.targetSize?e.targetSize:100,this.maxLines_=void 0!==e.maxLines?e.maxLines:100,this.meridians_=[],this.parallels_=[],this.strokeStyle_=void 0!==e.strokeStyle?e.strokeStyle:w,this.fromLonLatTransform_=void 0,this.toLonLatTransform_=void 0,this.projectionCenterLonLat_=null,this.bottomLeft_=null,this.bottomRight_=null,this.topLeft_=null,this.topRight_=null,this.meridiansLabels_=null,this.parallelsLabels_=null,e.showLabels&&(this.lonLabelFormatter_=null==e.lonLabelFormatter?_.b.bind(this,"EW"):e.lonLabelFormatter,this.latLabelFormatter_=null==e.latLabelFormatter?_.b.bind(this,"NS"):e.latLabelFormatter,this.lonLabelPosition_=null==e.lonLabelPosition?0:e.lonLabelPosition,this.latLabelPosition_=null==e.latLabelPosition?1:e.latLabelPosition,this.lonLabelStyleBase_=new u.b({text:void 0!==e.lonLabelStyle?e.lonLabelStyle.clone():new d.a({font:"12px Calibri,sans-serif",textBaseline:"bottom",fill:new o.a({color:"rgba(0,0,0,1)"}),stroke:new h.a({color:"rgba(255,255,255,1)",width:3})})}),this.lonLabelStyle_=(function(t){const e=t.get("graticule_label");return this.lonLabelStyleBase_.getText().setText(e),this.lonLabelStyleBase_}).bind(this),this.latLabelStyleBase_=new u.b({text:void 0!==e.latLabelStyle?e.latLabelStyle.clone():new d.a({font:"12px Calibri,sans-serif",textAlign:"right",fill:new o.a({color:"rgba(0,0,0,1)"}),stroke:new h.a({color:"rgba(255,255,255,1)",width:3})})}),this.latLabelStyle_=(function(t){const e=t.get("graticule_label");return this.latLabelStyleBase_.getText().setText(e),this.latLabelStyleBase_}).bind(this),this.meridiansLabels_=[],this.parallelsLabels_=[],this.addEventListener(r.a.POSTRENDER,this.drawLabels_.bind(this))),this.intervals_=void 0!==e.intervals?e.intervals:E,this.setSource(new f.a({loader:this.loaderFunction.bind(this),strategy:this.strategyFunction.bind(this),features:new i.a,overlaps:!1,useSpatialIndex:!1,wrapX:e.wrapX})),this.featurePool_=[],this.lineStyle_=new u.b({stroke:this.strokeStyle_}),this.loadedExtent_=null,this.renderedExtent_=null,this.setRenderOrder(null)}strategyFunction(t,e){let n=t.slice();return this.projection_&&this.getSource().getWrapX()&&Object(m.L)(n,this.projection_),this.loadedExtent_&&(Object(m.b)(this.loadedExtent_,n,e)?n=this.loadedExtent_.slice():this.getSource().removeLoadedExtent(this.loadedExtent_)),[n]}loaderFunction(t,e,n){this.loadedExtent_=t;const i=this.getSource(),r=this.getExtent()||[-1/0,-1/0,1/0,1/0],o=Object(m.C)(r,t);if(this.renderedExtent_&&Object(m.q)(this.renderedExtent_,o))return;if(this.renderedExtent_=o,Object(m.I)(o))return;const a=Object(m.y)(o),l=e*e/4;(!this.projection_||!Object(b.f)(this.projection_,n))&&this.updateProjectionInfo_(n),this.createGraticule_(o,a,e,l);let c,h=this.meridians_.length+this.parallels_.length;for(this.meridiansLabels_&&(h+=this.meridians_.length),this.parallelsLabels_&&(h+=this.parallels_.length);h>this.featurePool_.length;)c=new s.a,this.featurePool_.push(c);const u=i.getFeaturesCollection();u.clear();let d,p,f=0;for(d=0,p=this.meridians_.length;d<p;++d)c=this.featurePool_[f++],c.setGeometry(this.meridians_[d]),c.setStyle(this.lineStyle_),u.push(c);for(d=0,p=this.parallels_.length;d<p;++d)c=this.featurePool_[f++],c.setGeometry(this.parallels_[d]),c.setStyle(this.lineStyle_),u.push(c)}addMeridian_(t,e,n,i,r,s){const o=this.getMeridian_(t,e,n,i,s);if(Object(m.G)(o.getExtent(),r)){if(this.meridiansLabels_){const e=this.lonLabelFormatter_(t);s in this.meridiansLabels_?this.meridiansLabels_[s].text=e:this.meridiansLabels_[s]={geom:new c.a([]),text:e}}this.meridians_[s++]=o}return s}addParallel_(t,e,n,i,r,s){const o=this.getParallel_(t,e,n,i,s);if(Object(m.G)(o.getExtent(),r)){if(this.parallelsLabels_){const e=this.latLabelFormatter_(t);s in this.parallelsLabels_?this.parallelsLabels_[s].text=e:this.parallelsLabels_[s]={geom:new c.a([]),text:e}}this.parallels_[s++]=o}return s}drawLabels_(t){const e=t.frameState.viewState.rotation,n=t.frameState.extent,i=Object(m.y)(n);let r=n;if(e){const t=Object(m.F)(n),s=Object(m.B)(n),o=Math.abs(Math.cos(e)),a=Math.abs(Math.sin(e)),l=(a*s-o*t)/(a*a-o*o),c=(a*t-o*s)/(a*a-o*o);r=[i[0]-l/2,i[1]-c/2,i[0]+l/2,i[1]+c/2]}let s=0,o=0,a=this.latLabelPosition_<.5;const l=this.projection_.getExtent(),c=Object(m.F)(l);this.getSource().getWrapX()&&this.projection_.canWrapX()&&!Object(m.h)(l,n)&&(s=Math.floor((n[0]-l[0])/c),o=Math.ceil((n[2]-l[2])/c),a=a!==Math.abs(e)>Math.PI/2);const h=function(t){const e=t.frameState,n=Object(S.f)(t.inversePixelTransform.slice(),e.coordinateToPixelTransform),i=Object(T.b)(e.viewState.resolution,e.pixelRatio);let r;const s=Object(b.m)();return s&&(r=Object(b.l)(s,e.viewState.projection)),new v.a(t.context,e.pixelRatio,e.extent,n,e.viewState.rotation,i,r)}(t);for(let u=s;u<=o;++u){let t,l,d,p,f=this.meridians_.length+this.parallels_.length;if(this.meridiansLabels_)for(l=0,d=this.meridiansLabels_.length;l<d;++l){const s=this.meridians_[l];if(e||0!==u){const t=s.clone();t.translate(u*c,0),t.rotate(-e,i),p=this.getMeridianPoint_(t,r,l),p.rotate(e,i)}else p=this.getMeridianPoint_(s,n,l);t=this.featurePool_[f++],t.setGeometry(p),t.set("graticule_label",this.meridiansLabels_[l].text),h.drawFeature(t,this.lonLabelStyle_(t))}if(this.parallelsLabels_&&(u===s&&a||u===o&&!a))for(l=0,d=this.parallels_.length;l<d;++l){const s=this.parallels_[l];if(e||0!==u){const t=s.clone();t.translate(u*c,0),t.rotate(-e,i),p=this.getParallelPoint_(t,r,l),p.rotate(e,i)}else p=this.getParallelPoint_(s,n,l);t=this.featurePool_[f++],t.setGeometry(p),t.set("graticule_label",this.parallelsLabels_[l].text),h.drawFeature(t,this.latLabelStyle_(t))}}}createGraticule_(t,e,n,i){const r=this.getInterval_(n);if(-1==r)return this.meridians_.length=0,this.parallels_.length=0,this.meridiansLabels_&&(this.meridiansLabels_.length=0),void(this.parallelsLabels_&&(this.parallelsLabels_.length=0));let s=!1;const o=this.projection_.getExtent(),a=Object(m.F)(o);this.getSource().getWrapX()&&this.projection_.canWrapX()&&!Object(m.h)(o,t)&&(Object(m.F)(t)>=a?(t[0]=o[0],t[2]=o[2]):s=!0);const l=[Object(y.a)(e[0],this.minX_,this.maxX_),Object(y.a)(e[1],this.minY_,this.maxY_)],c=this.toLonLatTransform_(l);isNaN(c[1])&&(c[1]=Math.abs(this.maxLat_)>=Math.abs(this.minLat_)?this.maxLat_:this.minLat_);let h=Object(y.a)(c[0],this.minLon_,this.maxLon_),u=Object(y.a)(c[1],this.minLat_,this.maxLat_);const d=this.maxLines_;let p,f,g,_,b=t;s||(b=[Object(y.a)(t[0],this.minX_,this.maxX_),Object(y.a)(t[1],this.minY_,this.maxY_),Object(y.a)(t[2],this.minX_,this.maxX_),Object(y.a)(t[3],this.minY_,this.maxY_)]);const v=Object(m.a)(b,this.toLonLatTransform_,void 0,8);let S=v[3],T=v[2],x=v[1],w=v[0];if(s||(Object(m.g)(b,this.bottomLeft_)&&(w=this.minLon_,x=this.minLat_),Object(m.g)(b,this.bottomRight_)&&(T=this.maxLon_,x=this.minLat_),Object(m.g)(b,this.topLeft_)&&(w=this.minLon_,S=this.maxLat_),Object(m.g)(b,this.topRight_)&&(T=this.maxLon_,S=this.maxLat_),S=Object(y.a)(S,u,this.maxLat_),T=Object(y.a)(T,h,this.maxLon_),x=Object(y.a)(x,this.minLat_,u),w=Object(y.a)(w,this.minLon_,h)),h=Math.floor(h/r)*r,_=Object(y.a)(h,this.minLon_,this.maxLon_),f=this.addMeridian_(_,x,S,i,t,0),p=0,s)for(;(_-=r)>=w&&p++<d;)f=this.addMeridian_(_,x,S,i,t,f);else for(;_!=this.minLon_&&p++<d;)_=Math.max(_-r,this.minLon_),f=this.addMeridian_(_,x,S,i,t,f);if(_=Object(y.a)(h,this.minLon_,this.maxLon_),p=0,s)for(;(_+=r)<=T&&p++<d;)f=this.addMeridian_(_,x,S,i,t,f);else for(;_!=this.maxLon_&&p++<d;)_=Math.min(_+r,this.maxLon_),f=this.addMeridian_(_,x,S,i,t,f);for(this.meridians_.length=f,this.meridiansLabels_&&(this.meridiansLabels_.length=f),u=Math.floor(u/r)*r,g=Object(y.a)(u,this.minLat_,this.maxLat_),f=this.addParallel_(g,w,T,i,t,0),p=0;g!=this.minLat_&&p++<d;)g=Math.max(g-r,this.minLat_),f=this.addParallel_(g,w,T,i,t,f);for(g=Object(y.a)(u,this.minLat_,this.maxLat_),p=0;g!=this.maxLat_&&p++<d;)g=Math.min(g+r,this.maxLat_),f=this.addParallel_(g,w,T,i,t,f);this.parallels_.length=f,this.parallelsLabels_&&(this.parallelsLabels_.length=f)}getInterval_(t){const e=this.projectionCenterLonLat_[0],n=this.projectionCenterLonLat_[1];let i=-1;const r=Math.pow(this.targetSize_*t,2),s=[],o=[];for(let a=0,l=this.intervals_.length;a<l;++a){const t=Object(y.a)(this.intervals_[a]/2,0,90),l=Object(y.a)(n,-90+t,90-t);if(s[0]=e-t,s[1]=l-t,o[0]=e+t,o[1]=l+t,this.fromLonLatTransform_(s,s),this.fromLonLatTransform_(o,o),Math.pow(o[0]-s[0],2)+Math.pow(o[1]-s[1],2)<=r)break;i=this.intervals_[a]}return i}getMeridian_(t,e,n,i,r){const s=function(t,e,n,i,r){const s=Object(b.i)("EPSG:4326");return x(function(i){return[t,e+(n-e)*i]},Object(b.k)(s,i),r)}(t,e,n,this.projection_,i);let o=this.meridians_[r];return o?(o.setFlatCoordinates(a.a.XY,s),o.changed()):(o=new l.a(s,a.a.XY),this.meridians_[r]=o),o}getMeridianPoint_(t,e,n){const i=t.getFlatCoordinates();let r=1,s=i.length-1;i[r]>i[s]&&(r=s,s=1);const o=Math.max(e[1],i[r]),a=Math.min(e[3],i[s]),l=Object(y.a)(e[1]+Math.abs(e[1]-e[3])*this.lonLabelPosition_,o,a),c=this.meridiansLabels_[n].geom;return c.setCoordinates([i[r-1]+(i[s-1]-i[r-1])*(l-i[r])/(i[s]-i[r]),l]),c}getMeridians(){return this.meridians_}getParallel_(t,e,n,i,r){const s=function(t,e,n,i,r){const s=Object(b.i)("EPSG:4326");return x(function(i){return[e+(n-e)*i,t]},Object(b.k)(s,i),r)}(t,e,n,this.projection_,i);let o=this.parallels_[r];return o?(o.setFlatCoordinates(a.a.XY,s),o.changed()):o=new l.a(s,a.a.XY),o}getParallelPoint_(t,e,n){const i=t.getFlatCoordinates();let r=0,s=i.length-2;i[r]>i[s]&&(r=s,s=0);const o=Math.max(e[0],i[r]),a=Math.min(e[2],i[s]),l=Object(y.a)(e[0]+Math.abs(e[0]-e[2])*this.latLabelPosition_,o,a),c=this.parallelsLabels_[n].geom;return c.setCoordinates([l,i[r+1]+(i[s+1]-i[r+1])*(l-i[r])/(i[s]-i[r])]),c}getParallels(){return this.parallels_}updateProjectionInfo_(t){const e=Object(b.i)("EPSG:4326"),n=t.getWorldExtent();this.maxLat_=n[3],this.maxLon_=n[2],this.minLat_=n[1],this.minLon_=n[0];const i=Object(b.k)(t,e);if(this.minLon_<this.maxLon_)this.toLonLatTransform_=i;else{const t=this.minLon_+this.maxLon_/2;this.maxLon_+=360,this.toLonLatTransform_=function(e,n,r){const s=r||2,o=i(e,n,s);for(let i=0,a=o.length;i<a;i+=s)o[i]<t&&(o[i]+=360);return o}}this.fromLonLatTransform_=Object(b.k)(e,t);const r=Object(m.a)([this.minLon_,this.minLat_,this.maxLon_,this.maxLat_],this.fromLonLatTransform_,void 0,8);this.minX_=r[0],this.maxX_=r[2],this.minY_=r[1],this.maxY_=r[3],this.bottomLeft_=this.fromLonLatTransform_([this.minLon_,this.minLat_]),this.bottomRight_=this.fromLonLatTransform_([this.maxLon_,this.minLat_]),this.topLeft_=this.fromLonLatTransform_([this.minLon_,this.maxLat_]),this.topRight_=this.fromLonLatTransform_([this.maxLon_,this.maxLat_]),this.projectionCenterLonLat_=this.toLonLatTransform_(Object(m.y)(t.getExtent())),isNaN(this.projectionCenterLonLat_[1])&&(this.projectionCenterLonLat_[1]=Math.abs(this.maxLat_)>=Math.abs(this.minLat_)?this.maxLat_:this.minLat_),this.projection_=t}}},cRRe:function(t,e,n){"use strict";var i=n("BbPW"),r=n("6Xq6"),s=n("2I+J"),o=n("n2w5"),a=n("hKKC"),l=n("FQWF"),c=n("U1NS"),h=n("rA9B");function u(t,e){l.a.expire()}var d=class extends i.a{constructor(t){super(),this.map_=t}dispatchRenderEvent(t,e){Object(s.b)()}calculateMatrices2D(t){const e=t.viewState,n=t.coordinateToPixelTransform,i=t.pixelToCoordinateTransform;Object(o.b)(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),Object(o.d)(i,n)}forEachFeatureAtCoordinate(t,e,n,i,r,s,o,l){let u;const d=e.viewState;function p(t,e,n,i){return r.call(s,e,t?n:null,i)}const f=d.projection,m=Object(h.h)(t.slice(),f),g=[[0,0]];if(f.canWrapX()&&i){const t=f.getExtent(),e=Object(a.F)(t);g.push([-e,0],[e,0])}const y=e.layerStatesArray,_=y.length,b=[],v=[];for(let a=0;a<g.length;a++)for(let i=_-1;i>=0;--i){const r=y[i],s=r.layer;if(s.hasRenderer()&&Object(c.b)(r,d)&&o.call(l,s)){const i=s.getRenderer(),o=s.getSource();if(i&&o){const s=o.getWrapX()?m:t,l=p.bind(null,r.managed);v[0]=s[0]+g[a][0],v[1]=s[1]+g[a][1],u=i.forEachFeatureAtCoordinate(v,e,n,l,b)}if(u)return u}}if(0===b.length)return;const S=1/b.length;return b.forEach((t,e)=>t.distanceSq+=e*S),b.sort((t,e)=>t.distanceSq-e.distanceSq),b.some(t=>u=t.callback(t.feature,t.layer,t.geometry)),u}forEachLayerAtPixel(t,e,n,i,r){return Object(s.b)()}hasFeatureAtCoordinate(t,e,n,i,s,o){return void 0!==this.forEachFeatureAtCoordinate(t,e,n,i,r.b,this,s,o)}getMap(){return this.map_}renderFrame(t){Object(s.b)()}scheduleExpireIconCache(t){l.a.canExpireCache()&&t.postRenderFunctions.push(u)}},p=n("pzRH"),f=n("D1oO"),m=n("RuG3"),g=n("De+T"),y=n("e4iU"),_=n("4cD7"),b=n("FHfp"),v=n("Cw4B");e.a=class extends d{constructor(t){super(t),this.fontChangeListenerKey_=Object(b.a)(_.a,p.a.PROPERTYCHANGE,t.redrawText.bind(t)),this.element_=document.createElement("div");const e=this.element_.style;e.position="absolute",e.width="100%",e.height="100%",e.zIndex="0",this.element_.className=y.e+" ol-layers";const n=t.getViewport();n.insertBefore(this.element_,n.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(t,e){const n=this.getMap();if(n.hasListener(t)){const i=new f.a(t,void 0,e);n.dispatchEvent(i)}}disposeInternal(){Object(b.c)(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),super.disposeInternal()}renderFrame(t){if(!t)return void(this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1));this.calculateMatrices2D(t),this.dispatchRenderEvent(m.a.PRECOMPOSE,t);const e=t.layerStatesArray.sort(function(t,e){return t.zIndex-e.zIndex}),n=t.viewState;this.children_.length=0;const i=[];let r=null;for(let s=0,o=e.length;s<o;++s){const o=e[s];if(t.layerIndex=s,!Object(c.b)(o,n)||o.sourceState!=g.a.READY&&o.sourceState!=g.a.UNDEFINED)continue;const a=o.layer,l=a.render(t,r);l&&(l!==r&&(this.children_.push(l),r=l),"getDeclutter"in a&&i.push(a))}for(let s=i.length-1;s>=0;--s)i[s].renderDeclutter(t);Object(v.f)(this.element_,this.children_),this.dispatchRenderEvent(m.a.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)}forEachLayerAtPixel(t,e,n,i,r){const s=e.viewState,o=e.layerStatesArray;for(let a=o.length-1;a>=0;--a){const l=o[a],h=l.layer;if(h.hasRenderer()&&Object(c.b)(l,s)&&r(h)){const r=h.getRenderer().getDataAtPixel(t,e,n);if(r){const t=i(h,r);if(t)return t}}}}}},cUpR:function(t,e,n){"use strict";n.d(e,"a",function(){return D}),n.d(e,"b",function(){return L}),n.d(e,"c",function(){return S});var i=n("SVse"),r=n("8Y7J");class s extends i.B{constructor(){super()}supportsDOMEvents(){return!0}}class o extends s{static makeCurrent(){Object(i.F)(new o)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=l||(l=document.querySelector("base"),l)?l.getAttribute("href"):null;return null==e?null:(n=e,a||(a=document.createElement("a")),a.setAttribute("href",n),"/"===a.pathname.charAt(0)?a.pathname:"/"+a.pathname);var n}resetBaseElement(){l=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return Object(i.E)(document.cookie,t)}}let a,l=null;const c=new r.r("TRANSITION_ID"),h=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=Object(i.D)();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[c,i.d,r.s],multi:!0}];class u{static init(){Object(r.W)(new u)}addToWindow(t){r.nb.getAngularTestability=(e,n=!0)=>{const i=t.findTestabilityInTree(e,n);if(null==i)throw new Error("Could not find testability for element.");return i},r.nb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.nb.getAllAngularRootElements=()=>t.getAllRootElements(),r.nb.frameworkStabilizers||(r.nb.frameworkStabilizers=[]),r.nb.frameworkStabilizers.push(t=>{const e=r.nb.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(s)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?Object(i.D)().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const d=new r.r("EventManagerPlugins");let p=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let i=0;i<n.length;i++){const e=n[i];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(d),r.Ub(r.A))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class f{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=Object(i.D)().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let m=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),g=(()=>{class t extends m{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>Object(i.D)().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(i.d))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const y={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},_=/%COMP%/g;function b(t,e,n){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?b(t,r,n):(r=r.replace(_,t),n.push(r))}return n}function v(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let S=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new T(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.Q.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new x(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.Q.ShadowDom:return new w(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=b(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(p),r.Ub(g),r.Ub(r.c))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class T{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(y[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,i){if(i){e=i+":"+e;const r=y[i];r?t.setAttributeNS(r,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const i=y[n];i?t.removeAttributeNS(i,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.G.DashCase|r.G.Important)?t.style.setProperty(e,n,i&r.G.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.G.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,v(n)):this.eventManager.addEventListener(t,e,v(n))}}class x extends T{constructor(t,e,n,i){super(t),this.component=n;const r=b(i+"-"+n.id,n.styles,[]);e.addStyles(r),this.contentAttr="_ngcontent-%COMP%".replace(_,i+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(_,i+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class w extends T{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const r=b(i.id,i.styles,[]);for(let s=0;s<r.length;s++){const t=document.createElement("style");t.textContent=r[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let E=(()=>{class t extends f{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(i.d))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const C=["alt","control","meta","shift"],M={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},O={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},A={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let I=(()=>{class t extends f{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const s=t.parseEventName(n),o=t.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Object(i.D)().onAndCancel(e,s.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),i=n.shift();if(0===n.length||"keydown"!==i&&"keyup"!==i)return null;const r=t._normalizeKey(n.pop());let s="";if(C.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=r,0!=n.length||0===r.length)return null;const o={};return o.domEventName=i,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&O.hasOwnProperty(e)&&(e=O[e]))}return M[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),C.forEach(i=>{i!=n&&(0,A[i])(t)&&(e+=i+".")}),e+=n,e}static eventCallback(e,n,i){return r=>{t.getEventFullKey(r)===e&&i.runGuarded(()=>n(r))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(i.d))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const R=[{provide:r.C,useValue:i.C},{provide:r.D,useValue:function(){o.makeCurrent(),u.init()},multi:!0},{provide:i.d,useFactory:function(){return Object(r.tb)(document),document},deps:[]}],L=Object(r.R)(r.V,"browser",R),P=[[],{provide:r.Y,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:d,useClass:E,multi:!0,deps:[i.d,r.A,r.C]},{provide:d,useClass:I,multi:!0,deps:[i.d]},[],{provide:S,useClass:S,deps:[p,g,r.c]},{provide:r.F,useExisting:S},{provide:m,useExisting:g},{provide:g,useClass:g,deps:[i.d]},{provide:r.M,useClass:r.M,deps:[r.A]},{provide:p,useClass:p,deps:[d,r.A]},[]];let D=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:c,useExisting:r.c},h]}}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(t,12))},t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({providers:P,imports:[i.c,r.f]}),t})();"undefined"!=typeof window&&window},ci6y:function(t,e,n){"use strict";var i=n("bwl8"),r=n("aBeY"),s=n("G7/A"),o=n("ogOc"),a=n("j7T1"),l=n("1rej"),c=n("Znq9"),h=n("6Xq6"),u=n("rA9B"),d=n("i3ci"),p=n("Bpkx"),f=n("LV+m");function m(t,e,n){return function(i,r,s,o,a){if(i){const l=e?0:s[0]*r,c=e?0:s[1]*r,h=a?a[0]:0,u=a?a[1]:0;let d=t[0]+l/2+h,p=t[2]-l/2+h,m=t[1]+c/2+u,g=t[3]-c/2+u;d>p&&(d=(p+d)/2,p=d),m>g&&(m=(g+m)/2,g=m);let y=Object(f.a)(i[0],d,p),_=Object(f.a)(i[1],m,g);const b=30*r;return o&&n&&(y+=-b*Math.log(1+Math.max(0,d-i[0])/b)+b*Math.log(1+Math.max(0,i[0]-p)/b),_+=-b*Math.log(1+Math.max(0,m-i[1])/b)+b*Math.log(1+Math.max(0,i[1]-g)/b)),[y,_]}}}function g(t){return t}var y=n("hKKC"),_=n("oWEL");function b(t,e,n,i){const r=Object(y.F)(e)/n[0],s=Object(y.B)(e)/n[1];return i?Math.min(t,Math.max(r,s)):Math.min(t,Math.min(r,s))}function v(t,e,n){let i=Math.min(t,e);return i*=Math.log(1+50*Math.max(0,t/e-1))/50+1,n&&(i=Math.max(i,n),i/=Math.log(1+50*Math.max(0,n/t-1))/50+1),Object(f.a)(i,n/2,2*e)}function S(t,e,n,i,r){return function(s,o,a,l){if(void 0!==s){const o=i?b(t,i,a,r):t;return(void 0===n||n)&&l?v(s,o,e):Object(f.a)(s,e,o)}}}var T=n("aydW"),x=n("orbG"),w=n("gOFd");function E(t,e){setTimeout(function(){t(e)},0)}function C(t){return!(t.sourceCenter&&t.targetCenter&&!Object(u.c)(t.sourceCenter,t.targetCenter))&&t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation}function M(t,e,n,i,r){const s=Math.cos(-r);let o=Math.sin(-r),a=t[0]*s-t[1]*o,l=t[1]*s+t[0]*o;return a+=(e[0]/2-n[0])*i,l+=(n[1]-e[1]/2)*i,o=-o,[a*s-l*o,l*s+a*o]}e.a=class extends i.a{constructor(t){super();const e=Object(p.a)({},t);this.hints_=[0,0],this.animations_=[],this.projection_=Object(c.d)(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.cancelAnchor_=void 0,e.center&&(e.center=Object(c.g)(e.center,this.projection_)),e.extent&&(e.extent=Object(c.h)(e.extent,this.projection_)),this.applyOptions_(e)}applyOptions_(t){const e=function(t){let e,n,i,r=void 0!==t.minZoom?t.minZoom:0,o=void 0!==t.maxZoom?t.maxZoom:28;const a=void 0!==t.zoomFactor?t.zoomFactor:2,h=void 0!==t.multiWorld&&t.multiWorld,u=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint,d=void 0!==t.showFullExtent&&t.showFullExtent,p=Object(c.d)(t.projection,"EPSG:3857"),m=p.getExtent();let g=t.constrainOnlyCenter,T=t.extent;if(h||T||!p.isGlobal()||(g=!1,T=m),void 0!==t.resolutions){const s=t.resolutions;n=s[r],i=void 0!==s[o]?s[o]:s[s.length-1],e=t.constrainResolution?function(t,e,n,i){return function(r,s,o,a){if(void 0!==r){const l=t[0],c=t[t.length-1],h=n?b(l,n,o,i):l;if(a)return void 0===e||e?v(r,h,c):Object(f.a)(r,c,h);const u=Math.min(h,r),d=Math.floor(Object(_.h)(t,u,s));return t[d]>h&&d<t.length-1?t[d+1]:t[d]}}}(s,u,!g&&T,d):S(n,i,u,!g&&T,d)}else{const c=(m?Math.max(Object(y.F)(m),Object(y.B)(m)):360*s.a[s.b.DEGREES]/p.getMetersPerUnit())/l.b/Math.pow(2,0),h=c/Math.pow(2,28);n=t.maxResolution,void 0!==n?r=0:n=c/Math.pow(a,r),i=t.minResolution,void 0===i&&(i=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(a,o):c/Math.pow(a,o):h),o=r+Math.floor(Math.log(n/i)/Math.log(a)),i=n/Math.pow(a,o-r),e=t.constrainResolution?function(t,e,n,i,r,s){return function(o,a,l,c){if(void 0!==o){const h=r?b(e,r,l,s):e,u=void 0!==n?n:0;if(c)return void 0===i||i?v(o,h,u):Object(f.a)(o,u,h);const d=1e-9,p=Math.ceil(Math.log(e/h)/Math.log(t)-d),m=-a*(.5-d)+.5,g=Math.min(h,o),y=Math.floor(Math.log(e/g)/Math.log(t)+m),_=Math.max(p,y),S=e/Math.pow(t,_);return Object(f.a)(S,u,h)}}}(a,n,i,u,!g&&T,d):S(n,i,u,!g&&T,d)}return{constraint:e,maxResolution:n,minResolution:i,minZoom:r,zoomFactor:a}}(t);this.maxResolution_=e.maxResolution,this.minResolution_=e.minResolution,this.zoomFactor_=e.zoomFactor,this.resolutions_=t.resolutions,this.padding=t.padding,this.minZoom_=e.minZoom;const n=function(t){if(void 0!==t.extent)return m(t.extent,t.constrainOnlyCenter,void 0===t.smoothExtentConstraint||t.smoothExtentConstraint);const e=Object(c.d)(t.projection,"EPSG:3857");if(!0!==t.multiWorld&&e.isGlobal()){const t=e.getExtent().slice();return t[0]=-1/0,t[2]=1/0,m(t,!1,!1)}return g}(t),i=e.constraint,r=function(t){if(void 0===t.enableRotation||t.enableRotation){const e=t.constrainRotation;return void 0===e||!0===e?Object(T.b)():!1===e?T.d:"number"==typeof e?Object(T.a)(e):T.d}return T.c}(t);this.constraints_={center:n,resolution:i,rotation:r},this.setRotation(void 0!==t.rotation?t.rotation:0),this.setCenterInternal(void 0!==t.center?t.center:null),void 0!==t.resolution?this.setResolution(t.resolution):void 0!==t.zoom&&this.setZoom(t.zoom),this.setProperties({}),this.options_=t}getUpdatedOptions_(t){const e=Object(p.a)({},this.options_);return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenterInternal(),e.rotation=this.getRotation(),Object(p.a)({},e,t)}animate(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const e=new Array(arguments.length);for(let n=0;n<e.length;++n){let t=arguments[n];t.center&&(t=Object(p.a)({},t),t.center=Object(c.g)(t.center,this.getProjection())),t.anchor&&(t=Object(p.a)({},t),t.anchor=Object(c.g)(t.anchor,this.getProjection())),e[n]=t}this.animateInternal.apply(this,e)}animateInternal(t){let e,n=arguments.length;if(n>1&&"function"==typeof arguments[n-1]&&(e=arguments[n-1],--n),!this.isDef()){const t=arguments[n-1];return t.center&&this.setCenterInternal(t.center),void 0!==t.zoom&&this.setZoom(t.zoom),void 0!==t.rotation&&this.setRotation(t.rotation),void(e&&E(e,!0))}let i=Date.now(),r=this.targetCenter_.slice(),s=this.targetResolution_,a=this.targetRotation_;const l=[];for(let o=0;o<n;++o){const t=arguments[o],n={start:i,complete:!1,anchor:t.anchor,duration:void 0!==t.duration?t.duration:1e3,easing:t.easing||x.c,callback:e};if(t.center&&(n.sourceCenter=r,n.targetCenter=t.center.slice(),r=n.targetCenter),void 0!==t.zoom?(n.sourceResolution=s,n.targetResolution=this.getResolutionForZoom(t.zoom),s=n.targetResolution):t.resolution&&(n.sourceResolution=s,n.targetResolution=t.resolution,s=n.targetResolution),void 0!==t.rotation){n.sourceRotation=a;const e=Object(f.e)(t.rotation-a+Math.PI,2*Math.PI)-Math.PI;n.targetRotation=a+e,a=n.targetRotation}C(n)?n.complete=!0:i+=n.duration,l.push(n)}this.animations_.push(l),this.setHint(o.a.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[o.a.ANIMATING]>0}getInteracting(){return this.hints_[o.a.INTERACTING]>0}cancelAnimations(){let t;this.setHint(o.a.ANIMATING,-this.hints_[o.a.ANIMATING]);for(let e=0,n=this.animations_.length;e<n;++e){const n=this.animations_[e];if(n[0].callback&&E(n[0].callback,!1),!t)for(let e=0,i=n.length;e<i;++e){const i=n[e];if(!i.complete){t=i.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t}updateAnimations_(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const t=Date.now();let e=!1;for(let n=this.animations_.length-1;n>=0;--n){const i=this.animations_[n];let r=!0;for(let n=0,s=i.length;n<s;++n){const s=i[n];if(s.complete)continue;const o=t-s.start;let a=s.duration>0?o/s.duration:1;a>=1?(s.complete=!0,a=1):r=!1;const l=s.easing(a);if(s.sourceCenter){const t=s.sourceCenter[0],e=s.sourceCenter[1];this.targetCenter_=[t+l*(s.targetCenter[0]-t),e+l*(s.targetCenter[1]-e)]}if(s.sourceResolution&&s.targetResolution){const t=1===l?s.targetResolution:s.sourceResolution+l*(s.targetResolution-s.sourceResolution);if(s.anchor){const e=this.getViewportSize_(this.getRotation()),n=this.constraints_.resolution(t,0,e,!0);this.targetCenter_=this.calculateCenterZoom(n,s.anchor)}this.targetResolution_=t,this.applyTargetState_(!0)}if(void 0!==s.sourceRotation&&void 0!==s.targetRotation){const t=1===l?Object(f.e)(s.targetRotation+Math.PI,2*Math.PI)-Math.PI:s.sourceRotation+l*(s.targetRotation-s.sourceRotation);if(s.anchor){const e=this.constraints_.rotation(t,!0);this.targetCenter_=this.calculateCenterRotate(e,s.anchor)}this.targetRotation_=t}if(this.applyTargetState_(!0),e=!0,!s.complete)break}if(r){this.animations_[n]=null,this.setHint(o.a.ANIMATING,-1);const t=i[0].callback;t&&E(t,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(t,e){let n;const i=this.getCenterInternal();return void 0!==i&&(n=[i[0]-e[0],i[1]-e[1]],Object(u.e)(n,t-this.getRotation()),Object(u.a)(n,e)),n}calculateCenterZoom(t,e){let n;const i=this.getCenterInternal(),r=this.getResolution();return void 0!==i&&void 0!==r&&(n=[e[0]-t*(e[0]-i[0])/r,e[1]-t*(e[1]-i[1])/r]),n}getViewportSize_(t){const e=this.viewportSize_;if(t){const n=e[0],i=e[1];return[Math.abs(n*Math.cos(t))+Math.abs(i*Math.sin(t)),Math.abs(n*Math.sin(t))+Math.abs(i*Math.cos(t))]}return e}setViewportSize(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const t=this.getCenterInternal();return t?Object(c.o)(t,this.getProjection()):t}getCenterInternal(){return this.get(a.a.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.options_.constrainResolution}getHints(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()}calculateExtent(t){const e=this.calculateExtentInternal(t);return Object(c.p)(e,this.getProjection())}calculateExtentInternal(t){const e=t||this.getViewportSize_(),n=this.getCenterInternal();Object(d.a)(n,1);const i=this.getResolution();Object(d.a)(void 0!==i,2);const r=this.getRotation();return Object(d.a)(void 0!==r,3),Object(y.A)(n,i,r,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))}setConstrainResolution(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))}getProjection(){return this.projection_}getResolution(){return this.get(a.a.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(t,e){return this.getResolutionForExtentInternal(Object(c.h)(t,this.getProjection()),e)}getResolutionForExtentInternal(t,e){const n=e||this.getViewportSize_(),i=Object(y.F)(t)/n[0],r=Object(y.B)(t)/n[1];return Math.max(i,r)}getResolutionForValueFunction(t){const e=t||2,n=this.getConstrainedResolution(this.maxResolution_),i=Math.log(n/this.minResolution_)/Math.log(e);return function(t){return n/Math.pow(e,t*i)}}getRotation(){return this.get(a.a.ROTATION)}getValueForResolutionFunction(t){const e=Math.log(t||2),n=this.getConstrainedResolution(this.maxResolution_),i=Math.log(n/this.minResolution_)/e;return function(t){return Math.log(n/t)/e/i}}getViewportSizeMinusPadding_(t){let e=this.getViewportSize_(t);const n=this.padding;return n&&(e=[e[0]-n[1]-n[3],e[1]-n[0]-n[2]]),e}getState(){const t=this.getProjection(),e=this.getResolution(),n=this.getRotation();let i=this.getCenterInternal();const r=this.padding;if(r){const t=this.getViewportSizeMinusPadding_();i=M(i,this.getViewportSize_(),[t[0]/2+r[3],t[1]/2+r[0]],e,n)}return{center:i.slice(0),projection:void 0!==t?t:null,resolution:e,rotation:n,zoom:this.getZoom()}}getZoom(){let t;const e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t}getZoomForResolution(t){let e,n,i=this.minZoom_||0;if(this.resolutions_){const r=Object(_.h)(this.resolutions_,t,1);i=r,e=this.resolutions_[r],n=r==this.resolutions_.length-1?2:e/this.resolutions_[r+1]}else e=this.maxResolution_,n=this.zoomFactor_;return i+Math.log(e/t)/Math.log(n)}getResolutionForZoom(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;const e=Object(f.a)(Math.floor(t),0,this.resolutions_.length-2);return this.resolutions_[e]/Math.pow(this.resolutions_[e]/this.resolutions_[e+1],Object(f.a)(t-e,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)}fit(t,e){let n;if(Object(d.a)(Array.isArray(t)||"function"==typeof t.getSimplifiedGeometry,24),Array.isArray(t)){Object(d.a)(!Object(y.I)(t),25);const e=Object(c.h)(t,this.getProjection());n=Object(w.b)(e)}else if(t.getType()===r.a.CIRCLE){const e=Object(c.h)(t.getExtent(),this.getProjection());n=Object(w.b)(e),n.rotate(this.getRotation(),Object(y.y)(e))}else{const e=Object(c.m)();n=e?t.clone().transform(e,this.getProjection()):t}this.fitInternal(n,e)}fitInternal(t,e){const n=e||{};let i=n.size;i||(i=this.getViewportSizeMinusPadding_());const r=void 0!==n.padding?n.padding:[0,0,0,0],s=void 0!==n.nearest&&n.nearest;let o;o=void 0!==n.minResolution?n.minResolution:void 0!==n.maxZoom?this.getResolutionForZoom(n.maxZoom):0;const a=t.getFlatCoordinates(),l=this.getRotation(),c=Math.cos(-l);let u=Math.sin(-l),d=1/0,p=1/0,f=-1/0,m=-1/0;const g=t.getStride();for(let h=0,T=a.length;h<T;h+=g){const t=a[h]*c-a[h+1]*u,e=a[h]*u+a[h+1]*c;d=Math.min(d,t),p=Math.min(p,e),f=Math.max(f,t),m=Math.max(m,e)}let y=this.getResolutionForExtentInternal([d,p,f,m],[i[0]-r[1]-r[3],i[1]-r[0]-r[2]]);y=isNaN(y)?o:Math.max(y,o),y=this.getConstrainedResolution(y,s?0:1),u=-u;let _=(d+f)/2,b=(p+m)/2;_+=(r[1]-r[3])/2*y,b+=(r[0]-r[2])/2*y;const v=this.getConstrainedCenter([_*c-b*u,b*c+_*u],y),S=n.callback?n.callback:h.c;void 0!==n.duration?this.animateInternal({resolution:y,center:v,duration:n.duration,easing:n.easing},S):(this.targetResolution_=y,this.targetCenter_=v,this.applyTargetState_(!1,!0),E(S,!0))}centerOn(t,e,n){this.centerOnInternal(Object(c.g)(t,this.getProjection()),e,n)}centerOnInternal(t,e,n){this.setCenterInternal(M(t,e,n,this.getResolution(),this.getRotation()))}calculateCenterShift(t,e,n,i){let r;const s=this.padding;if(s&&t){const o=this.getViewportSizeMinusPadding_(-n),a=M(t,i,[o[0]/2+s[3],o[1]/2+s[0]],e,n);r=[t[0]-a[0],t[1]-a[1]]}return r}isDef(){return!!this.getCenterInternal()&&void 0!==this.getResolution()}adjustCenter(t){const e=Object(c.o)(this.targetCenter_,this.getProjection());this.setCenter([e[0]+t[0],e[1]+t[1]])}adjustCenterInternal(t){const e=this.targetCenter_;this.setCenterInternal([e[0]+t[0],e[1]+t[1]])}adjustResolution(t,e){const n=e&&Object(c.g)(e,this.getProjection());this.adjustResolutionInternal(t,n)}adjustResolutionInternal(t,e){const n=this.getAnimating()||this.getInteracting(),i=this.getViewportSize_(this.getRotation()),r=this.constraints_.resolution(this.targetResolution_*t,0,i,n);e&&(this.targetCenter_=this.calculateCenterZoom(r,e)),this.targetResolution_*=t,this.applyTargetState_()}adjustZoom(t,e){this.adjustResolution(Math.pow(this.zoomFactor_,-t),e)}adjustRotation(t,e){e&&(e=Object(c.g)(e,this.getProjection())),this.adjustRotationInternal(t,e)}adjustRotationInternal(t,e){const n=this.getAnimating()||this.getInteracting(),i=this.constraints_.rotation(this.targetRotation_+t,n);e&&(this.targetCenter_=this.calculateCenterRotate(i,e)),this.targetRotation_+=t,this.applyTargetState_()}setCenter(t){this.setCenterInternal(Object(c.g)(t,this.getProjection()))}setCenterInternal(t){this.targetCenter_=t,this.applyTargetState_()}setHint(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]}setResolution(t){this.targetResolution_=t,this.applyTargetState_()}setRotation(t){this.targetRotation_=t,this.applyTargetState_()}setZoom(t){this.setResolution(this.getResolutionForZoom(t))}applyTargetState_(t,e){const n=this.getAnimating()||this.getInteracting()||e,i=this.constraints_.rotation(this.targetRotation_,n),r=this.getViewportSize_(i),s=this.constraints_.resolution(this.targetResolution_,0,r,n),o=this.constraints_.center(this.targetCenter_,s,r,n,this.calculateCenterShift(this.targetCenter_,s,i,r));this.get(a.a.ROTATION)!==i&&this.set(a.a.ROTATION,i),this.get(a.a.RESOLUTION)!==s&&this.set(a.a.RESOLUTION,s),this.get(a.a.CENTER)&&Object(u.c)(this.get(a.a.CENTER),o)||this.set(a.a.CENTER,o),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(t,e,n){const i=void 0!==t?t:200,r=e||0,s=this.constraints_.rotation(this.targetRotation_),o=this.getViewportSize_(s),a=this.constraints_.resolution(this.targetResolution_,r,o),l=this.constraints_.center(this.targetCenter_,a,o,!1,this.calculateCenterShift(this.targetCenter_,a,s,o));if(0===i&&!this.cancelAnchor_)return this.targetResolution_=a,this.targetRotation_=s,this.targetCenter_=l,void this.applyTargetState_();const c=n||(0===i?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,this.getResolution()===a&&this.getRotation()===s&&this.getCenterInternal()&&Object(u.c)(this.getCenterInternal(),l)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:s,center:l,resolution:a,duration:i,easing:x.b,anchor:c}))}beginInteraction(){this.resolveConstraints(0),this.setHint(o.a.INTERACTING,1)}endInteraction(t,e,n){const i=n&&Object(c.g)(n,this.getProjection());this.endInteractionInternal(t,e,i)}endInteractionInternal(t,e,n){this.setHint(o.a.INTERACTING,-1),this.resolveConstraints(t,e,n)}getConstrainedCenter(t,e){const n=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,e||this.getResolution(),n)}getConstrainedZoom(t,e){const n=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(n,e))}getConstrainedResolution(t,e){const n=e||0,i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,n,i)}}},cp0P:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n("HDdC"),r=n("DH7j"),s=n("lJxs"),o=n("XoHu"),a=n("Cfvw");function l(...t){if(1===t.length){const e=t[0];if(Object(r.a)(e))return c(e,null);if(Object(o.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return c(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return c(t=1===t.length&&Object(r.a)(t[0])?t[0]:t,null).pipe(Object(s.a)(t=>e(...t)))}return c(t,null)}function c(t,e){return new i.a(n=>{const i=t.length;if(0===i)return void n.complete();const r=new Array(i);let s=0,o=0;for(let l=0;l<i;l++){const c=Object(a.a)(t[l]);let h=!1;n.add(c.subscribe({next:t=>{h||(h=!0,o++),r[l]=t},error:t=>n.error(t),complete:()=>{s++,s!==i&&h||(o===i&&n.next(e?e.reduce((t,e,n)=>(t[e]=r[n],t),{}):r),n.complete())}}))}})}},dPhe:function(t,e,n){"use strict";var i=n("Gp2b"),r=n("bdbV"),s=n("BbPW"),o=n("gOFd"),a=class extends s.a{constructor(t){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+t,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const t=this.startPixel_,e=this.endPixel_,n=this.element_.style;n.left=Math.min(t[0],e[0])+"px",n.top=Math.min(t[1],e[1])+"px",n.width=Math.abs(e[0]-t[0])+"px",n.height=Math.abs(e[1]-t[1])+"px"}setMap(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const t=this.element_.style;t.left="inherit",t.top="inherit",t.width="inherit",t.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){const t=this.startPixel_,e=this.endPixel_,n=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new o.a([n])}getGeometry(){return this.geometry_}},l=n("7k3C");class c extends i.a{constructor(t,e,n){super(t),this.coordinate=e,this.mapBrowserEvent=n}}e.a=class extends r.b{constructor(t){super();const e=t||{};this.box_=new a(e.className||"ol-dragbox"),this.minArea_=void 0!==e.minArea?e.minArea:64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition?e.condition:l.e,this.boxEndCondition_=e.boxEndCondition?e.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(t,e,n){const i=n[0]-e[0],r=n[1]-e[1];return i*i+r*r>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new c("boxdrag",t.coordinate,t))}handleUpEvent(t){this.box_.setMap(null);const e=this.boxEndCondition_(t,this.startPixel_,t.pixel);return e&&this.onBoxEnd(t),this.dispatchEvent(new c(e?"boxend":"boxcancel",t.coordinate,t)),!1}handleDownEvent(t){return!!this.condition_(t)&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new c("boxstart",t.coordinate,t)),!0)}onBoxEnd(t){}}},dmYx:function(t,e,n){"use strict";var i=n("zmPu"),r=n("W/Sn"),s=n("siiE"),o=n("n7ez"),a=n("9CgO"),l=n("QBIS"),c=n("0Fwh"),h=n("ogOc"),u=n("n2w5"),d=n("hKKC"),p=n("Bpkx"),f=n("aoLf"),m=n("lQ2a"),g=n("2I+J"),y=n("FHfp"),_=n("dvVV"),b=n("rA9B");const v={image:[l.a.POLYGON,l.a.CIRCLE,l.a.LINE_STRING,l.a.IMAGE,l.a.TEXT],hybrid:[l.a.POLYGON,l.a.LINE_STRING],vector:[]},S={image:[l.a.DEFAULT],hybrid:[l.a.IMAGE,l.a.TEXT,l.a.DEFAULT],vector:[l.a.POLYGON,l.a.CIRCLE,l.a.LINE_STRING,l.a.IMAGE,l.a.TEXT,l.a.DEFAULT]};var T=class extends o.a{constructor(t){super(t),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.dirty_=!1,this.renderedPixelToCoordinateTransform_=null,this.renderTileImageQueue_={},this.tileListenerKeys_={},this.tmpTransform_=Object(u.c)()}prepareTile(t,e,n,i){let r;const s=Object(g.c)(t),o=t.getState();return(o===c.a.LOADED&&t.hifi||o===c.a.ERROR)&&s in this.tileListenerKeys_&&(Object(y.c)(this.tileListenerKeys_[s]),delete this.tileListenerKeys_[s]),o!==c.a.LOADED&&o!==c.a.ERROR||(this.updateExecutorGroup_(t,e,n),this.tileImageNeedsRender_(t,e,n)&&(r=!0,i&&(this.renderTileImageQueue_[s]=t))),r}getTile(t,e,n,i){const r=i.pixelRatio,s=i.viewState,o=s.resolution,l=s.projection,u=this.getLayer(),d=u.getSource().getTile(t,e,n,r,l);if(d.getState()<c.a.LOADED){d.wantedResolution=o;const t=Object(g.c)(d);if(!(t in this.tileListenerKeys_)){const e=Object(y.a)(d,a.a.CHANGE,this.prepareTile.bind(this,d,r,l,!0));this.tileListenerKeys_[t]=e}}else{const t=i.viewHints;(t[h.a.ANIMATING]||t[h.a.INTERACTING])&&d.wantedResolution||(d.wantedResolution=o),this.prepareTile(d,r,l,!1)&&"vector"!==u.getRenderMode()&&this.renderTileImage_(d,i)}return super.getTile(t,e,n,i)}isDrawableTile(t){const e=this.getLayer();return super.isDrawableTile(t)&&("vector"===e.getRenderMode()?Object(g.c)(e)in t.executorGroups:t.hasContext(e))}getTileImage(t){return t.getImage(this.getLayer())}prepareFrame(t){const e=this.getLayer().getRevision();return this.renderedLayerRevision_!=e&&(this.renderedTiles.length=0),this.renderedLayerRevision_=e,super.prepareFrame(t)}updateExecutorGroup_(t,e,n){const i=this.getLayer(),o=i.getRevision(),a=i.getRenderOrder()||null,l=t.wantedResolution,h=t.getReplayState(i);if(!h.dirty&&h.renderedResolution===l&&h.renderedRevision==o&&h.renderedRenderOrder==a&&h.renderedZ===t.sourceZ)return;const u=i.getSource(),p=i.getDeclutter(),f=u.getTileGrid(),y=u.getTileGridForProjection(n).getTileCoordExtent(t.wrappedTileCoord),_=u.getSourceTiles(e,n,t),b=Object(g.c)(i);delete t.hitDetectionImageData[b],t.executorGroups[b]=[],p&&(t.declutterExecutorGroups[b]=[]);for(let g=0,v=_.length;g<v;++g){const n=_[g];if(n.getState()!=c.a.LOADED)continue;const o=f.getTileCoordExtent(n.tileCoord),v=Object(d.C)(y,o),S=Object(d.q)(o,v)?null:Object(d.d)(v,i.getRenderBuffer()*l,this.tmpExtent);h.dirty=!1;const T=new r.a(0,v,l,e),x=p?new r.a(0,v,l,e):void 0,w=Object(m.b)(l,e),E=function(t){let e;const n=t.getStyleFunction()||i.getStyleFunction();if(n&&(e=n(t,l)),e){const n=this.renderFeature(t,w,e,T,x);this.dirty_=this.dirty_||n,h.dirty=h.dirty||n}},C=n.getFeatures();a&&a!==h.renderedRenderOrder&&C.sort(a);for(let t=0,e=C.length;t<e;++t){const e=C[t];S&&!Object(d.G)(S,e.getGeometry().getExtent())||E.call(this,e)}const M=T.finish(),O="vector"!==i.getRenderMode()&&p&&1===_.length?null:v,A=new s.a(O,l,e,u.getOverlaps(),M,i.getRenderBuffer());if(t.executorGroups[b].push(A),x){const n=new s.a(O,l,e,u.getOverlaps(),x.finish(),i.getRenderBuffer());t.declutterExecutorGroups[b].push(n)}}h.renderedRevision=o,h.renderedZ=t.sourceZ,h.renderedRenderOrder=a,h.renderedResolution=l}forEachFeatureAtCoordinate(t,e,n,i,r){const s=e.viewState.resolution,o=e.viewState.rotation;n=null==n?0:n;const a=this.getLayer(),l=a.getSource().getTileGridForProjection(e.viewState.projection),c=Object(d.c)([t]);Object(d.d)(c,s*n,c);const h={},u=function(t,e,n){let s=t.getId();void 0===s&&(s=Object(g.c)(t));const o=h[s];if(o){if(!0!==o&&n<o.distanceSq){if(0===n)return h[s]=!0,r.splice(r.lastIndexOf(o),1),i(t,a,e);o.geometry=e,o.distanceSq=n}}else{if(0===n)return h[s]=!0,i(t,a,e);r.push(h[s]={feature:t,layer:a,geometry:e,distanceSq:n,callback:i})}},p=this.renderedTiles;let f;for(let m=0,y=p.length;!f&&m<y;++m){const i=p[m],r=l.getTileCoordExtent(i.wrappedTileCoord);if(!Object(d.G)(r,c))continue;const h=Object(g.c)(a),y=[i.executorGroups[h]],_=i.declutterExecutorGroups[h];_&&y.push(_),y.some(i=>{const r=i===_?e.declutterTree.all().map(t=>t.value):null;for(let e=0,a=i.length;e<a;++e)if(f=i[e].forEachFeatureAtCoordinate(t,s,o,n,u,r),f)return!0})}return f}getFeatures(t){return new Promise((function(e,n){const i=this.getLayer(),r=Object(g.c)(i),s=i.getSource(),o=this.renderedProjection,a=o.getExtent(),l=this.renderedResolution,h=s.getTileGridForProjection(o),p=Object(u.a)(this.renderedPixelToCoordinateTransform_,t.slice()),m=h.getTileCoordForCoordAndResolution(p,l);let y;for(let t=0,u=this.renderedTiles.length;t<u;++t)if(m.toString()===this.renderedTiles[t].tileCoord.toString()){if(y=this.renderedTiles[t],y.getState()===c.a.LOADED&&y.hifi){const t=h.getTileCoordExtent(y.tileCoord);s.getWrapX()&&o.canWrapX()&&!Object(d.h)(a,t)&&Object(b.h)(p,o);break}y=void 0}if(!y||y.loadingSourceTiles>0)return void e([]);const v=h.getTileCoordExtent(y.wrappedTileCoord),S=Object(d.D)(v),T=[(p[0]-S[0])/l,(S[1]-p[1])/l],x=y.getSourceTiles().reduce(function(t,e){return t.concat(e.getFeatures())},[]);let w=y.hitDetectionImageData[r];if(!w&&!this.animatingOrInteracting_){const t=Object(_.d)(h.getTileSize(h.getZForResolution(l))),e=[t[0]/2,t[1]/2],n=this.renderedRotation_,s=[this.getRenderTransform(h.getTileCoordCenter(y.wrappedTileCoord),l,0,.5,e[0],e[1],0)];w=Object(f.a)(t,s,x,i.getStyleFunction(),h.getTileCoordExtent(y.wrappedTileCoord),y.getReplayState(i).renderedResolution,n),y.hitDetectionImageData[r]=w}e(Object(f.b)(T,x,w))}).bind(this))}handleFontsChanged(){Object(p.b)(this.renderTileImageQueue_);const t=this.getLayer();t.getVisible()&&void 0!==this.renderedLayerRevision_&&t.changed()}handleStyleImageChange_(t){this.renderIfReadyAndVisible()}renderDeclutter(t){const e=t.viewHints,n=!(e[h.a.ANIMATING]||e[h.a.INTERACTING]),i=this.renderedTiles;for(let r=0,s=i.length;r<s;++r){const e=i[r],s=e.declutterExecutorGroups[Object(g.c)(this.getLayer())];if(s)for(let i=s.length-1;i>=0;--i)s[i].execute(this.context,1,this.getTileRenderTransform(e,t),t.viewState.rotation,n,void 0,t.declutterTree)}}getTileRenderTransform(t,e){const n=e.pixelRatio,i=e.viewState,r=i.center,s=i.resolution,o=i.rotation,a=e.size,l=Math.round(a[0]*n),c=Math.round(a[1]*n),h=this.getLayer().getSource().getTileGridForProjection(e.viewState.projection),d=t.tileCoord,p=h.getTileCoordExtent(t.wrappedTileCoord),f=h.getTileCoordExtent(d,this.tmpExtent)[0]-p[0];return Object(u.f)(Object(u.i)(this.inversePixelTransform.slice(),1/n,1/n),this.getRenderTransform(r,s,o,n,l,c,f))}renderFrame(t,e){const n=t.viewHints,i=!(n[h.a.ANIMATING]||n[h.a.INTERACTING]);this.renderQueuedTileImages_(i,t),super.renderFrame(t,e),this.renderedPixelToCoordinateTransform_=t.pixelToCoordinateTransform.slice(),this.renderedRotation_=t.viewState.rotation;const r=this.getLayer(),s=r.getRenderMode();if("image"===s)return this.container;const o=r.getSource(),a=t.usedTiles[Object(g.c)(o)];for(const h in this.renderTileImageQueue_)a&&h in a||delete this.renderTileImageQueue_[h];const l=this.context,c=S[s],u=t.viewState.rotation,d=this.renderedTiles,p=[],f=[];for(let h=d.length-1;h>=0;--h){const e=d[h],n=this.getTileRenderTransform(e,t),s=e.executorGroups[Object(g.c)(r)];let o=!1;for(let t=0,r=s.length;t<r;++t){const r=s[t];if(!r.hasExecutors(c))continue;const a=e.tileCoord[0];let h;if(!o&&(h=r.getClipCoords(n),h)){l.save();for(let t=0,e=p.length;t<e;++t){const e=p[t];a<f[t]&&(l.beginPath(),l.moveTo(h[0],h[1]),l.lineTo(h[2],h[3]),l.lineTo(h[4],h[5]),l.lineTo(h[6],h[7]),l.moveTo(e[6],e[7]),l.lineTo(e[4],e[5]),l.lineTo(e[2],e[3]),l.lineTo(e[0],e[1]),l.clip())}}r.execute(l,1,n,u,i,c),!o&&h&&(l.restore(),p.push(h),f.push(a),o=!0)}}return this.container}renderQueuedTileImages_(t,e){for(const n in this.renderTileImageQueue_){if(!t&&Date.now()-e.time>8){e.animate=!0;break}const i=this.renderTileImageQueue_[n];delete this.renderTileImageQueue_[n],this.renderTileImage_(i,e)}}renderFeature(t,e,n,i,r){if(!n)return!1;let s=!1;if(Array.isArray(n))for(let o=0,a=n.length;o<a;++o)s=Object(m.d)(i,t,n[o],e,this.boundHandleStyleImageChange_,void 0,r)||s;else s=Object(m.d)(i,t,n,e,this.boundHandleStyleImageChange_,void 0,r);return s}tileImageNeedsRender_(t,e,n){const i=this.getLayer(),r=t.getReplayState(i),s=i.getRevision();return r.renderedTileResolution!==t.wantedResolution||r.renderedTileRevision!==s||r.renderedTileZ!==t.sourceZ}renderTileImage_(t,e){const n=this.getLayer(),i=t.getReplayState(n),r=n.getRevision(),s=t.executorGroups[Object(g.c)(n)];i.renderedTileRevision=r,i.renderedTileZ=t.sourceZ;const o=t.wrappedTileCoord,a=o[0],l=n.getSource();let c=e.pixelRatio;const h=e.viewState.projection,d=l.getTileGridForProjection(h),p=d.getResolution(t.tileCoord[0]),f=e.pixelRatio/t.wantedResolution*p,m=d.getResolution(a),y=t.getContext(n);c=Math.round(Math.max(c,f/c));const _=l.getTilePixelSize(a,c,h);y.canvas.width=_[0],y.canvas.height=_[1];const b=c/f;if(1!==b){const t=Object(u.g)(this.tmpTransform_);Object(u.i)(t,b,b),y.setTransform.apply(y,t)}const S=d.getTileCoordExtent(o,this.tmpExtent),T=f/m,x=Object(u.g)(this.tmpTransform_);Object(u.i)(x,T,-T),Object(u.l)(x,-S[0],-S[3]);for(let u=0,g=s.length;u<g;++u)s[u].execute(y,b,x,0,!0,v[n.getRenderMode()]);i.renderedTileResolution=t.wantedResolution}},x=n("ZBAF"),w=n("i3ci");e.a=class extends i.a{constructor(t){const e=t||{},n=Object(p.a)({},e);delete n.preload,delete n.useInterimTilesOnError,super(n);const i=e.renderMode||"hybrid";Object(w.a)(null==i||"image"==i||"hybrid"==i||"vector"==i,28),this.renderMode_=i,this.setPreload(e.preload?e.preload:0),this.setUseInterimTilesOnError(void 0===e.useInterimTilesOnError||e.useInterimTilesOnError)}createRenderer(){return new T(this)}getFeatures(t){return super.getFeatures(t)}getRenderMode(){return this.renderMode_}getPreload(){return this.get(x.a.PRELOAD)}getUseInterimTilesOnError(){return this.get(x.a.USE_INTERIM_TILES_ON_ERROR)}setPreload(t){this.set(x.a.PRELOAD,t)}setUseInterimTilesOnError(t){this.set(x.a.USE_INTERIM_TILES_ON_ERROR,t)}}},dmaU:function(t,e,n){(function(t){var e=function(t,e,n){var i={singleFile:!0,Util:{}};return i.Util.extend=function(t,e){if(t=t||{},e){for(var n in e){var i=e[n];void 0!==i&&(t[n]=i)}!("undefined"!=typeof window&&null!==window&&"function"==typeof window.Event&&e instanceof window.Event)&&e.hasOwnProperty&&e.hasOwnProperty("toString")&&(t.toString=e.toString)}return t},i.Class=function(){for(var t,e,n,r=function(){this.initialize.apply(this,arguments)},s={},o=function(){},a=0,l=arguments.length;a<l;++a)"function"==typeof(n=arguments[a])?(0===a&&l>1&&(e=n.prototype.initialize,n.prototype.initialize=o,s=new n,void 0===e?delete n.prototype.initialize:n.prototype.initialize=e),t=n.prototype):t=n,i.Util.extend(s,t);return r.prototype=s,r},i.XML={XMLNS_NS:"http://www.w3.org/2000/xmlns/",XMLNS_P:"xmlns"},i.DOM={isDomImplementationAvailable:function(){return void 0!==t||!("undefined"==typeof document||!i.Util.Type.exists(document.implementation)||!i.Util.Type.isFunction(document.implementation.createDocument))},createDocument:function(){if(void 0!==t)return(new t.DOMImplementation).createDocument();if("undefined"!=typeof document&&i.Util.Type.exists(document.implementation)&&i.Util.Type.isFunction(document.implementation.createDocument))return document.implementation.createDocument("","",null);if("undefined"!=typeof ActiveXObject)return new ActiveXObject("MSXML2.DOMDocument");throw new Error("Error created the DOM document.")},serialize:function(e){if(i.Util.Ensure.ensureExists(e),void 0!==t)return(new t.XMLSerializer).serializeToString(e);if(i.Util.Type.exists(XMLSerializer))return(new XMLSerializer).serializeToString(e);if(i.Util.Type.exists(e.xml))return e.xml;throw new Error("Could not serialize the node, neither XMLSerializer nor the [xml] property were found.")},parse:function(e){if(i.Util.Ensure.ensureExists(e),void 0!==t)return(new t.DOMParser).parseFromString(e,"application/xml");if("undefined"!=typeof DOMParser)return(new DOMParser).parseFromString(e,"application/xml");if("undefined"!=typeof ActiveXObject){var n=i.DOM.createDocument("","");return n.loadXML(e),n}var r="data:text/xml;charset=utf-8,"+encodeURIComponent(e),s=new XMLHttpRequest;return s.open("GET",r,!1),s.overrideMimeType&&s.overrideMimeType("text/xml"),s.send(null),s.responseXML},load:function(t,e,n){i.Request.INSTANCE.issue(t,function(t){var n;if(i.Util.Type.exists(t.responseXML)&&i.Util.Type.exists(t.responseXML.documentElement))n=t.responseXML;else{if(!i.Util.Type.isString(t.responseText))throw new Error("Response does not have valid [responseXML] or [responseText].");n=i.DOM.parse(t.responseText)}e(n)},function(e){throw new Error("Could not retrieve XML from URL ["+t+"].")},n)},xlinkFixRequired:null,isXlinkFixRequired:function(){if(null===i.DOM.xlinkFixRequired)if("undefined"==typeof navigator)i.DOM.xlinkFixRequired=!1;else if(navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)){var t=i.DOM.createDocument(),e=t.createElement("test");e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","urn:test"),t.appendChild(e);var n=i.DOM.serialize(t);i.DOM.xlinkFixRequired=-1===n.indexOf("xmlns:xlink")}else i.DOM.xlinkFixRequired=!1;return i.DOM.xlinkFixRequired}},i.Request=i.Class({factories:[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml2.XMLHTTP.6.0")},function(){return new ActiveXObject("Msxml2.XMLHTTP.3.0")},function(){return new ActiveXObject("Microsoft.XMLHTTP")},function(){return void 0!==e?new(0,e.XMLHttpRequest):null}],initialize:function(){},issue:function(t,e,n,r){i.Util.Ensure.ensureString(t),i.Util.Type.exists(e)?i.Util.Ensure.ensureFunction(e):e=function(){},i.Util.Type.exists(n)?i.Util.Ensure.ensureFunction(n):n=function(){},i.Util.Type.exists(r)?i.Util.Ensure.ensureObject(r):r={};var s=this.createTransport(),o=i.Util.Type.isString(r.method)?r.method:"GET",a=!i.Util.Type.isBoolean(r.async)||r.async,l=i.Util.Type.isString(r.proxy)?r.proxy:i.Request.PROXY,c=i.Util.Type.isString(r.user)?r.user:null,h=i.Util.Type.isString(r.password)?r.password:null;if(i.Util.Type.isString(l)&&0===t.indexOf("http")&&(t=l+encodeURIComponent(t)),i.Util.Type.isString(c)?s.open(o,t,a,c,h):s.open(o,t,a),i.Util.Type.isObject(r.headers))for(var u in r.headers)r.headers.hasOwnProperty(u)&&s.setRequestHeader(u,r.headers[u]);var d=i.Util.Type.exists(r.data)?r.data:null;if(a){var p=this;"undefined"!=typeof window?(s.onreadystatechange=function(){p.handleTransport(s,e,n)},window.setTimeout(function(){s.send(d)},0)):(s.onreadystatechange=function(){p.handleTransport(s,e,n)},s.send(d))}else s.send(d),this.handleTransport(s,e,n);return s},handleTransport:function(t,e,n){4==t.readyState&&((!t.status||t.status>=200&&t.status<300)&&e(t),t.status&&(t.status<200||t.status>=300)&&n(t))},createTransport:function(){for(var t=0,e=this.factories.length;t<e;t++)try{var n=this.factories[t]();if(null!==n)return n}catch(i){}throw new Error("Could not create XML HTTP transport.")},CLASS_NAME:"Jsonix.Request"}),i.Request.INSTANCE=new i.Request,i.Request.PROXY=null,i.Schema={},i.Model={},i.Util.Type={exists:function(t){return null!=t},isUndefined:function(t){return void 0===t},isString:function(t){return"string"==typeof t},isBoolean:function(t){return"boolean"==typeof t},isObject:function(t){return"object"==typeof t},isFunction:function(t){return"function"==typeof t},isNumber:function(t){return"number"==typeof t&&!isNaN(t)},isNumberOrNaN:function(t){return t===+t||"[object Number]"===Object.prototype.toString.call(t)},isNaN:function(t){return i.Util.Type.isNumberOrNaN(t)&&isNaN(t)},isArray:function(t){return!(!(t&&t.concat&&t.unshift)||t.callee)},isDate:function(t){return!!(t&&t.getTimezoneOffset&&t.setUTCFullYear)},isRegExp:function(t){return!(!(t&&t.test&&t.exec)||!t.ignoreCase&&!1!==t.ignoreCase)},isNode:function(t){return"object"==typeof Node||"function"==typeof Node?t instanceof Node:t&&"object"==typeof t&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},isEqual:function(t,e,n){var r=i.Util.Type.isFunction(n),s=Object.keys||function(t){if(i.Util.Type.isArray(t))return function(t,e,n){for(var i=slice.call(arguments),r=i.length<=1,s=r?0:i[0],o=i[2]||1,a=Math.max(Math.ceil(((r?i[0]:i[1])-s)/o),0),l=0,c=new Array(a);l<a;)c[l++]=s,s+=o;return c}(0,t.length);var e=[];for(var n in t)t.hasOwnProperty(n)&&(e[e.length]=n);return e};if(t===e)return!0;if(i.Util.Type.isNaN(t)&&i.Util.Type.isNaN(e))return!0;var o=typeof t,a=typeof e;if(o!=a)return r&&n("Types differ ["+o+"], ["+a+"]."),!1;if(t==e)return!0;if(!t&&e||t&&!e)return r&&n("One is falsy, the other is truthy."),!1;if(i.Util.Type.isDate(t)&&i.Util.Type.isDate(e))return t.getTime()===e.getTime();if(i.Util.Type.isNaN(t)&&i.Util.Type.isNaN(e))return!1;if(i.Util.Type.isRegExp(t)&&i.Util.Type.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.ignoreCase===e.ignoreCase&&t.multiline===e.multiline;if(i.Util.Type.isNode(t)&&i.Util.Type.isNode(e)){var l=i.DOM.serialize(t),c=i.DOM.serialize(e);return l===c||(r&&(n("Nodes differ."),n("A="+l),n("B="+c)),!1)}if("object"!==o)return!1;if(i.Util.Type.isArray(t)&&t.length!==e.length)return r&&(n("Lengths differ."),n("A.length="+t.length),n("B.length="+e.length)),!1;var h=s(t),u=s(e);if(h.length!==u.length){r&&n("Different number of properties ["+h.length+"], ["+u.length+"].");for(var d=0;d<h.length;d++)r&&n("A ["+h[d]+"]="+t[h[d]]);for(var p=0;p<u.length;p++)r&&n("B ["+u[p]+"]="+e[u[p]]);return!1}for(var f=0;f<h.length;f++){var m=h[f];if(!(m in e)||!i.Util.Type.isEqual(t[m],e[m],n))return r&&(n("One of the properties differ."),n("Key: ["+m+"]."),n("Left: ["+t[m]+"]."),n("Right: ["+e[m]+"].")),!1}return!0},cloneObject:function(t,e){for(var n in e=e||{},t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},defaultValue:function(){var t=arguments;if(0!==t.length){for(var e=t[t.length-1],n=typeof e,i=0;i<t.length-1;i++){var r=t[i];if(typeof r===n)return r}return e}}},i.Util.NumberUtils={isInteger:function(t){return i.Util.Type.isNumber(t)&&t%1==0}},i.Util.StringUtils={trim:String.prototype.trim?function(t){return i.Util.Ensure.ensureString(t),t.trim()}:function(t){return i.Util.Ensure.ensureString(t),t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},isEmpty:function(t){var e=t.length;if(!e)return!0;for(var n=0;n<e;n++){var i=t[n];if(" "===i);else{if(i>"\r"&&i<"\x85")return!1;if(i<"\xa0"){if(i<"\t")return!1;if(i>"\x85")return!1}else if(i>"\xa0")if(i<"\u2028"){if(i<"\u180e"){if(i<"\u1680")return!1;if(i>"\u1680")return!1}else if(i>"\u180e"){if(i<"\u2000")return!1;if(i>"\u200a")return!1}}else if(i>"\u2029")if(i<"\u205f"){if(i<"\u202f")return!1;if(i>"\u202f")return!1}else if(i>"\u205f"){if(i<"\u3000")return!1;if(i>"\u3000")return!1}}}return!0},isNotBlank:function(t){return i.Util.Type.isString(t)&&!i.Util.StringUtils.isEmpty(t)},whitespaceCharacters:"\t\n\v\f\r \x85\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000",whitespaceCharactersMap:{"\t":!0,"\n":!0,"\v":!0,"\f":!0,"\r":!0," ":!0,"\x85":!0,"\xa0":!0,"\u1680":!0,"\u180e":!0,"\u2000":!0,"\u2001":!0,"\u2002":!0,"\u2003":!0,"\u2004":!0,"\u2005":!0,"\u2006":!0,"\u2007":!0,"\u2008":!0,"\u2009":!0,"\u200a":!0,"\u2028":!0,"\u2029":!0,"\u202f":!0,"\u205f":!0,"\u3000":!0},splitBySeparatorChars:function(t,e){i.Util.Ensure.ensureString(t),i.Util.Ensure.ensureString(e);var n=t.length;if(0===n)return[];if(1===e.length)return t.split(e);for(var r=[],s=1,o=0,a=0,l=!1;o<n;)e.indexOf(t.charAt(o))>=0?(l&&(-1==s++&&(o=n),r.push(t.substring(a,o)),l=!1),a=++o):(l=!0,o++);return l&&r.push(t.substring(a,o)),r}},i.Util.Ensure={ensureBoolean:function(t){if(!i.Util.Type.isBoolean(t))throw new Error("Argument ["+t+"] must be a boolean.")},ensureString:function(t){if(!i.Util.Type.isString(t))throw new Error("Argument ["+t+"] must be a string.")},ensureNumber:function(t){if(!i.Util.Type.isNumber(t))throw new Error("Argument ["+t+"] must be a number.")},ensureNumberOrNaN:function(t){if(!i.Util.Type.isNumberOrNaN(t))throw new Error("Argument ["+t+"] must be a number or NaN.")},ensureInteger:function(t){if(!i.Util.Type.isNumber(t))throw new Error("Argument ["+t+"] must be an integer, but it is not a number.");if(!i.Util.NumberUtils.isInteger(t))throw new Error("Argument ["+t+"] must be an integer.")},ensureDate:function(t){if(!(t instanceof Date))throw new Error("Argument ["+t+"] must be a date.")},ensureObject:function(t){if(!i.Util.Type.isObject(t))throw new Error("Argument ["+t+"] must be an object.")},ensureArray:function(t){if(!i.Util.Type.isArray(t))throw new Error("Argument ["+t+"] must be an array.")},ensureFunction:function(t){if(!i.Util.Type.isFunction(t))throw new Error("Argument ["+t+"] must be a function.")},ensureExists:function(t){if(!i.Util.Type.exists(t))throw new Error("Argument ["+t+"] does not exist.")}},i.XML.QName=i.Class({key:null,namespaceURI:null,localPart:null,prefix:null,string:null,initialize:function(t,e,n){var r,s,o;if(i.Util.Type.exists(e))if(i.Util.Type.exists(n))r=i.Util.Type.exists(t)?t:"",s=e,o=i.Util.Type.exists(n)?n:"";else{r=i.Util.Type.exists(t)?t:"",s=e;var a=e.indexOf(":");a>0&&a<e.length?(o=e.substring(0,a),s=e.substring(a+1)):(o="",s=e)}else r="",s=t,o="";this.namespaceURI=r,this.localPart=s,this.prefix=o,this.key=(""!==r?"{"+r+"}":"")+s,this.string=(""!==r?"{"+r+"}":"")+(""!==o?o+":":"")+s},toString:function(){return this.string},toCanonicalString:function(t){return t&&t.getPrefix(this.namespaceURI,this.prefix),this.prefix+(""===this.prefix?"":":")+this.localPart},clone:function(){return new i.XML.QName(this.namespaceURI,this.localPart,this.prefix)},equals:function(t){return!!t&&this.namespaceURI==t.namespaceURI&&this.localPart==t.localPart},CLASS_NAME:"Jsonix.XML.QName"}),i.XML.QName.fromString=function(t,e,n){var r,s,o=t.indexOf("{"),a=t.lastIndexOf("}");0===o&&a>0&&a<t.length?(r=t.substring(1,a),s=t.substring(a+1)):(r=null,s=t);var l,c,h=s.indexOf(":");return h>0&&h<s.length?(l=s.substring(0,h),c=s.substring(h+1)):(l="",c=s),null===r&&(""===l&&i.Util.Type.isString(n)?r=n:e&&(r=e.getNamespaceURI(l))),i.Util.Type.isString(r)||(r=n||""),new i.XML.QName(r,c,l)},i.XML.QName.fromObject=function(t){if(i.Util.Ensure.ensureObject(t),t instanceof i.XML.QName||i.Util.Type.isString(t.CLASS_NAME)&&"Jsonix.XML.QName"===t.CLASS_NAME)return t;var e=t.localPart||t.lp||null;return i.Util.Ensure.ensureString(e),new i.XML.QName(t.namespaceURI||t.ns||"",e,t.prefix||t.p||"")},i.XML.QName.fromObjectOrString=function(t,e,n){return i.Util.Type.isString(t)?i.XML.QName.fromString(t,e,n):i.XML.QName.fromObject(t)},i.XML.QName.key=function(t,e){if(i.Util.Ensure.ensureString(e),t){var n=e.indexOf(":");return"{"+t+"}"+(n>0&&n<e.length?e.substring(n+1):e)}return e},i.XML.Calendar=i.Class({year:NaN,month:NaN,day:NaN,hour:NaN,minute:NaN,second:NaN,fractionalSecond:NaN,timezone:NaN,date:null,initialize:function(t){i.Util.Ensure.ensureObject(t),i.Util.Type.exists(t.year)?(i.Util.Ensure.ensureInteger(t.year),i.XML.Calendar.validateYear(t.year),this.year=t.year):this.year=NaN,i.Util.Type.exists(t.month)?(i.Util.Ensure.ensureInteger(t.month),i.XML.Calendar.validateMonth(t.month),this.month=t.month):this.month=NaN,i.Util.Type.exists(t.day)?(i.Util.Ensure.ensureInteger(t.day),i.Util.NumberUtils.isInteger(t.year)&&i.Util.NumberUtils.isInteger(t.month)?i.XML.Calendar.validateYearMonthDay(t.year,t.month,t.day):i.Util.NumberUtils.isInteger(t.month)?i.XML.Calendar.validateMonthDay(t.month,t.day):i.XML.Calendar.validateDay(t.day),this.day=t.day):this.day=NaN,i.Util.Type.exists(t.hour)?(i.Util.Ensure.ensureInteger(t.hour),i.XML.Calendar.validateHour(t.hour),this.hour=t.hour):this.hour=NaN,i.Util.Type.exists(t.minute)?(i.Util.Ensure.ensureInteger(t.minute),i.XML.Calendar.validateMinute(t.minute),this.minute=t.minute):this.minute=NaN,i.Util.Type.exists(t.second)?(i.Util.Ensure.ensureInteger(t.second),i.XML.Calendar.validateSecond(t.second),this.second=t.second):this.second=NaN,i.Util.Type.exists(t.fractionalSecond)?(i.Util.Ensure.ensureNumber(t.fractionalSecond),i.XML.Calendar.validateFractionalSecond(t.fractionalSecond),this.fractionalSecond=t.fractionalSecond):this.fractionalSecond=NaN,i.Util.Type.exists(t.timezone)?i.Util.Type.isNaN(t.timezone)?this.timezone=NaN:(i.Util.Ensure.ensureInteger(t.timezone),i.XML.Calendar.validateTimezone(t.timezone),this.timezone=t.timezone):this.timezone=NaN;var e=new Date(0);e.setUTCFullYear(this.year||1970),e.setUTCMonth(this.month-1||0),e.setUTCDate(this.day||1),e.setUTCHours(this.hour||0),e.setUTCMinutes(this.minute||0),e.setUTCSeconds(this.second||0),e.setUTCMilliseconds(1e3*(this.fractionalSecond||0));var n=-6e4*(this.timezone||0);this.date=new Date(e.getTime()+n)},CLASS_NAME:"Jsonix.XML.Calendar"}),i.XML.Calendar.MIN_TIMEZONE=-840,i.XML.Calendar.MAX_TIMEZONE=840,i.XML.Calendar.DAYS_IN_MONTH=[31,29,31,30,31,30,31,31,30,31,30,31],i.XML.Calendar.fromObject=function(t){return i.Util.Ensure.ensureObject(t),i.Util.Type.isString(t.CLASS_NAME)&&"Jsonix.XML.Calendar"===t.CLASS_NAME?t:new i.XML.Calendar(t)},i.XML.Calendar.validateYear=function(t){if(0===t)throw new Error("Invalid year ["+t+"]. Year must not be [0].")},i.XML.Calendar.validateMonth=function(t){if(t<1||t>12)throw new Error("Invalid month ["+t+"]. Month must be in range [1, 12].")},i.XML.Calendar.validateDay=function(t){if(t<1||t>31)throw new Error("Invalid day ["+t+"]. Day must be in range [1, 31].")},i.XML.Calendar.validateMonthDay=function(t,e){if(i.XML.Calendar.validateMonth(t),e<1||e>i.XML.Calendar.DAYS_IN_MONTH[t-1])throw new Error("Invalid day ["+e+"]. Day must be in range [1, "+i.XML.Calendar.DAYS_IN_MONTH[t-1]+"].")},i.XML.Calendar.validateYearMonthDay=function(t,e,n){i.XML.Calendar.validateYear(t),i.XML.Calendar.validateMonthDay(e,n)},i.XML.Calendar.validateHour=function(t){if(t<0||t>23)throw new Error("Invalid hour ["+t+"]. Hour must be in range [0, 23].")},i.XML.Calendar.validateMinute=function(t){if(t<0||t>59)throw new Error("Invalid minute ["+t+"]. Minute must be in range [0, 59].")},i.XML.Calendar.validateSecond=function(t){if(t<0||t>59)throw new Error("Invalid second ["+t+"]. Second must be in range [0, 59].")},i.XML.Calendar.validateFractionalSecond=function(t){if(t<0||t>59)throw new Error("Invalid fractional second ["+t+"]. Fractional second must be in range [0, 1).")},i.XML.Calendar.validateTimezone=function(t){if(t<i.XML.Calendar.MIN_TIMEZONE||t>i.XML.Calendar.MAX_TIMEZONE)throw new Error("Invalid timezone ["+t+"]. Timezone must not be in range ["+i.XML.Calendar.MIN_TIMEZONE+", "+i.XML.Calendar.MAX_TIMEZONE+"].")},i.XML.Input=i.Class({root:null,node:null,attributes:null,eventType:null,pns:null,initialize:function(t){i.Util.Ensure.ensureExists(t),this.root=t;var e={"":""};e[i.XML.XMLNS_P]=i.XML.XMLNS_NS,this.pns=[e]},hasNext:function(){if(null===this.node)return!0;if(this.node===this.root){var t=this.node.nodeType;return!(9===t&&8===this.eventType||1===t&&2===this.eventType)}return!0},next:function(){if(null===this.eventType)return this.enter(this.root);if(7===this.eventType){var t=this.node.documentElement;return t?this.enter(t):this.leave(this.node)}if(1===this.eventType){var e=this.node.firstChild;return e?this.enter(e):this.leave(this.node)}if(2===this.eventType){var n=this.node.nextSibling;return n?this.enter(n):this.leave(this.node)}return this.leave(this.node)},enter:function(t){var e=t.nodeType;if(this.node=t,this.attributes=null,1===e)return this.eventType=1,this.pushNS(t),this.eventType;if(2===e)return this.eventType=10,this.eventType;if(3===e)return this.eventType=i.Util.StringUtils.isEmpty(t.nodeValue)?6:4,this.eventType;if(4===e)return this.eventType=12,this.eventType;if(5===e)return this.eventType=9,this.eventType;if(6===e)return this.eventType=15,this.eventType;if(7===e)return this.eventType=3,this.eventType;if(8===e)return this.eventType=5,this.eventType;if(9===e)return this.eventType=7,this.eventType;if(10===e)return this.eventType=12,this.eventType;if(12===e)return this.eventType=14,this.eventType;throw new Error("Node type ["+e+"] is not supported.")},leave:function(t){if(9===t.nodeType){if(8==this.eventType)throw new Error("Invalid state.");return this.node=t,this.attributes=null,this.eventType=8,this.eventType}if(1===t.nodeType){if(2!=this.eventType)return this.node=t,this.attributes=null,this.eventType=2,this.popNS(),this.eventType;var e=t.nextSibling;if(e)return this.enter(e)}var n=t.nextSibling;if(n)return this.enter(n);var i=t.parentNode;return this.node=i,this.attributes=null,this.eventType=9===i.nodeType?8:2,this.eventType},getName:function(){var t=this.node;return i.Util.Type.isString(t.nodeName)?i.Util.Type.isString(t.namespaceURI)?new i.XML.QName(t.namespaceURI,t.nodeName):new i.XML.QName(t.nodeName):null},getNameKey:function(){var t=this.node;return i.Util.Type.isString(t.nodeName)?i.XML.QName.key(t.namespaceURI,t.nodeName):null},getText:function(){return this.node.nodeValue},nextTag:function(){for(var t=this.next();7===t||4===t||12===t||6===t||3===t||5===t;)t=this.next();if(1!==t&&2!==t)throw new Error("Expected start or end tag.");return t},skipElement:function(){if(this.eventType!==i.XML.Input.START_ELEMENT)throw new Error("Parser must be on START_ELEMENT to skip element.");var t,e=1;do{e+=(t=this.nextTag())===i.XML.Input.START_ELEMENT?1:-1}while(e>0);return t},getElementText:function(){if(1!=this.eventType)throw new Error("Parser must be on START_ELEMENT to read next text.");for(var t=this.next(),e="";2!==t;){if(4===t||12===t||6===t||9===t)e+=this.getText();else if(3!==t&&5!==t)throw 8===t?new Error("Unexpected end of document when reading element text content."):1===t?new Error("Element text content may not contain START_ELEMENT."):new Error("Unexpected event type ["+t+"].");t=this.next()}return e},retrieveElement:function(){var t;if(1===this.eventType)t=this.node;else{if(10!==this.eventType)throw new Error("Element can only be retrieved for START_ELEMENT or ATTRIBUTE nodes.");t=this.node.parentNode}return t},retrieveAttributes:function(){var t;if(this.attributes)t=this.attributes;else if(1===this.eventType)this.attributes=t=this.node.attributes;else{if(10!==this.eventType)throw new Error("Attributes can only be retrieved for START_ELEMENT or ATTRIBUTE nodes.");this.attributes=t=this.node.parentNode.attributes}return t},getAttributeCount:function(){return this.retrieveAttributes().length},getAttributeName:function(t){var e=this.retrieveAttributes();if(t<0||t>=e.length)throw new Error("Invalid attribute index ["+t+"].");var n=e[t];return i.Util.Type.isString(n.namespaceURI)?new i.XML.QName(n.namespaceURI,n.nodeName):new i.XML.QName(n.nodeName)},getAttributeNameKey:function(t){var e=this.retrieveAttributes();if(t<0||t>=e.length)throw new Error("Invalid attribute index ["+t+"].");var n=e[t];return i.XML.QName.key(n.namespaceURI,n.nodeName)},getAttributeValue:function(t){var e=this.retrieveAttributes();if(t<0||t>=e.length)throw new Error("Invalid attribute index ["+t+"].");return e[t].value},getAttributeValueNS:null,getAttributeValueNSViaElement:function(t,e){return this.retrieveElement().getAttributeNS(t,e)},getAttributeValueNSViaAttribute:function(t,e){var n=this.getAttributeNodeNS(t,e);return i.Util.Type.exists(n)?n.nodeValue:null},getAttributeNodeNS:null,getAttributeNodeNSViaElement:function(t,e){return this.retrieveElement().getAttributeNodeNS(t,e)},getAttributeNodeNSViaAttributes:function(t,e){for(var n,i=null,r=this.retrieveAttributes(),s=0,o=r.length;s<o;++s)if((n=r[s]).namespaceURI===t&&(n.prefix?n.prefix+":"+e:e)===n.nodeName){i=n;break}return i},getElement:function(){if(1===this.eventType||2===this.eventType)return this.eventType=2,this.node;throw new Error("Parser must be on START_ELEMENT or END_ELEMENT to return current element.")},pushNS:function(t){var e=this.pns.length-1,n=this.pns[e],r=i.Util.Type.isObject(n)?e:n;this.pns.push(r),e++;var s=!0;if(t.attributes){var o=t.attributes,a=o.length;if(a>0)for(var l=0;l<a;l++){var c=o[l],h=c.nodeName,u=null,d=null,p=!1;"xmlns"===h?(u="",d=c.value,p=!0):"xmlns:"===h.substring(0,6)&&(u=h.substring(6),d=c.value,p=!0),p&&(s&&(r=i.Util.Type.cloneObject(this.pns[r],{}),this.pns[e]=r,s=!1),r[u]=d)}}},popNS:function(){this.pns.pop()},getNamespaceURI:function(t){var e=this.pns[this.pns.length-1];return(e=i.Util.Type.isObject(e)?e:this.pns[e])[t]},CLASS_NAME:"Jsonix.XML.Input"}),i.XML.Input.prototype.getAttributeValueNS=i.DOM.isDomImplementationAvailable()?i.XML.Input.prototype.getAttributeValueNSViaElement:i.XML.Input.prototype.getAttributeValueNSViaAttribute,i.XML.Input.prototype.getAttributeNodeNS=i.DOM.isDomImplementationAvailable()?i.XML.Input.prototype.getAttributeNodeNSViaElement:i.XML.Input.prototype.getAttributeNodeNSViaAttributes,i.XML.Input.START_ELEMENT=1,i.XML.Input.END_ELEMENT=2,i.XML.Input.PROCESSING_INSTRUCTION=3,i.XML.Input.CHARACTERS=4,i.XML.Input.COMMENT=5,i.XML.Input.SPACE=6,i.XML.Input.START_DOCUMENT=7,i.XML.Input.END_DOCUMENT=8,i.XML.Input.ENTITY_REFERENCE=9,i.XML.Input.ATTRIBUTE=10,i.XML.Input.DTD=11,i.XML.Input.CDATA=12,i.XML.Input.NAMESPACE=13,i.XML.Input.NOTATION_DECLARATION=14,i.XML.Input.ENTITY_DECLARATION=15,i.XML.Output=i.Class({document:null,documentElement:null,node:null,nodes:null,nsp:null,pns:null,namespacePrefixIndex:0,xmldom:null,initialize:function(t){this.xmldom="undefined"!=typeof ActiveXObject?new ActiveXObject("Microsoft.XMLDOM"):null,this.nodes=[];var e={"":""};e[i.XML.XMLNS_NS]=i.XML.XMLNS_P,i.Util.Type.isObject(t)&&i.Util.Type.isObject(t.namespacePrefixes)&&i.Util.Type.cloneObject(t.namespacePrefixes,e),this.nsp=[e];var n={"":""};n[i.XML.XMLNS_P]=i.XML.XMLNS_NS,this.pns=[n]},destroy:function(){this.xmldom=null},writeStartDocument:function(){var t=i.DOM.createDocument();return this.document=t,this.push(t)},writeEndDocument:function(){return this.pop()},writeStartElement:function(t){i.Util.Ensure.ensureObject(t);var e=t.localPart||t.lp||null;i.Util.Ensure.ensureString(e);var n,r=t.namespaceURI||t.ns||null,s=i.Util.Type.isString(r)?r:"",o=this.getPrefix(s,t.prefix||t.p),a=o?o+":"+e:e;if(i.Util.Type.isFunction(this.document.createElementNS))n=this.document.createElementNS(s,a);else{if(!this.xmldom)throw new Error("Could not create an element node.");n=this.xmldom.createNode(1,a,s)}return this.peek().appendChild(n),this.push(n),this.declareNamespace(s,o),null===this.documentElement&&(this.documentElement=n,this.declareNamespaces()),n},writeEndElement:function(){return this.pop()},writeCharacters:function(t){var e;if(i.Util.Type.isFunction(this.document.createTextNode))e=this.document.createTextNode(t);else{if(!this.xmldom)throw new Error("Could not create a text node.");e=this.xmldom.createTextNode(t)}return this.peek().appendChild(e),e},writeCdata:function(t){for(var e,n=t.split("]]>"),i=0;i<n.length;i++)i+1<n.length&&(n[i]=n[i]+"]]",n[i+1]=">"+n[i+1]);for(var r=0;r<n.length;r++)e=this.writeCdataWithoutCdend(n[r]);return e},writeCdataWithoutCdend:function(t){var e;if(i.Util.Type.isFunction(this.document.createCDATASection))e=this.document.createCDATASection(t);else{if(!this.xmldom)throw new Error("Could not create a CDATA section node.");e=this.xmldom.createCDATASection(t)}return this.peek().appendChild(e),e},writeAttribute:function(t,e){i.Util.Ensure.ensureString(e),i.Util.Ensure.ensureObject(t);var n=t.localPart||t.lp||null;i.Util.Ensure.ensureString(n);var r=t.namespaceURI||t.ns||null,s=i.Util.Type.isString(r)?r:"",o=this.getPrefix(s,t.prefix||t.p||null),a=o?o+":"+n:n,l=this.peek();if(""===s)l.setAttribute(a,e);else{if(l.setAttributeNS)l.setAttributeNS(s,a,e);else if(this.xmldom){var c=this.document.createNode(2,a,s);c.nodeValue=e,l.setAttributeNode(c)}else{if(s!==i.XML.XMLNS_NS)throw new Error("The [setAttributeNS] method is not implemented");l.setAttribute(a,e)}this.declareNamespace(s,o)}},writeNode:function(t){var e;return e=i.Util.Type.exists(this.document.importNode)?this.document.importNode(t,!0):t,this.peek().appendChild(e),e},push:function(t){return this.nodes.push(t),this.pushNS(),t},peek:function(){return this.nodes[this.nodes.length-1]},pop:function(){return this.popNS(),this.nodes.pop()},pushNS:function(){var t=this.nsp.length-1,e=this.pns.length-1,n=this.nsp[t],r=this.pns[e],s=i.Util.Type.isObject(n)?t:n,o=i.Util.Type.isObject(r)?e:r;this.nsp.push(s),this.pns.push(o)},popNS:function(){this.nsp.pop(),this.pns.pop()},declareNamespaces:function(){var t,e=this.nsp[this.nsp.length-1];for(t in e=i.Util.Type.isNumber(e)?this.nsp[e]:e)e.hasOwnProperty(t)&&this.declareNamespace(t,e[t])},declareNamespace:function(t,e){var n,r=this.pns.length-1,s=this.pns[r];i.Util.Type.isNumber(s)?(n=!0,s=this.pns[s]):n=!1,s[e]!==t&&(this.writeAttribute(""===e?{lp:i.XML.XMLNS_P}:{ns:i.XML.XMLNS_NS,lp:e,p:i.XML.XMLNS_P},t),n&&(s=i.Util.Type.cloneObject(s,{}),this.pns[r]=s),s[e]=t)},getPrefix:function(t,e){var n,r=this.nsp.length-1,s=this.nsp[r];return i.Util.Type.isNumber(s)?(n=!0,s=this.nsp[s]):n=!1,i.Util.Type.isString(e)?e===s[t]||(n&&(s=i.Util.Type.cloneObject(s,{}),this.nsp[r]=s),s[t]=e):i.Util.Type.exists(e=s[t])||(e="p"+this.namespacePrefixIndex++,n&&(s=i.Util.Type.cloneObject(s,{}),this.nsp[r]=s),s[t]=e),e},getNamespaceURI:function(t){var e=this.pns[this.pns.length-1];return(e=i.Util.Type.isObject(e)?e:this.pns[e])[t]},CLASS_NAME:"Jsonix.XML.Output"}),i.Mapping={},i.Mapping.Style=i.Class({marshaller:null,unmarshaller:null,module:null,elementInfo:null,classInfo:null,enumLeafInfo:null,anyAttributePropertyInfo:null,anyElementPropertyInfo:null,attributePropertyInfo:null,elementMapPropertyInfo:null,elementPropertyInfo:null,elementsPropertyInfo:null,elementRefPropertyInfo:null,elementRefsPropertyInfo:null,valuePropertyInfo:null,initialize:function(){},CLASS_NAME:"Jsonix.Mapping.Style"}),i.Mapping.Style.STYLES={},i.Mapping.Styled=i.Class({mappingStyle:null,initialize:function(t){if(i.Util.Type.exists(t))if(i.Util.Ensure.ensureObject(t),i.Util.Type.isString(t.mappingStyle)){var e=i.Mapping.Style.STYLES[t.mappingStyle];if(!e)throw new Error("Mapping style ["+t.mappingStyle+"] is not known.");this.mappingStyle=e}else i.Util.Type.isObject(t.mappingStyle)&&(this.mappingStyle=t.mappingStyle);this.mappingStyle||(this.mappingStyle=i.Mapping.Style.STYLES.standard)},CLASS_NAME:"Jsonix.Mapping.Styled"}),i.Binding={},i.Binding.Marshalls={},i.Binding.Marshalls.Element=i.Class({marshalElement:function(t,e,n,r){var s=this.convertToTypedNamedValue(t,e,n,r),o=s.typeInfo,a=void 0;if(e.supportXsiType&&i.Util.Type.exists(s.value)){var l=e.getTypeInfoByValue(s.value);l&&l.typeName&&(a=l)}var c=a||o;if(!c)throw new Error("Element ["+s.name.key+"] is not known in this context, could not determine its type.");if(n.writeStartElement(s.name),a&&o!==a){var h=i.Schema.XSD.QName.INSTANCE.print(a.typeName,e,n,r);n.writeAttribute(i.Schema.XSI.TYPE_QNAME,h)}i.Util.Type.exists(s.value)&&c.marshal(s.value,e,n,r),n.writeEndElement()},getTypeInfoByElementName:function(t,e,n){var r=e.getElementInfo(t,n);return i.Util.Type.exists(r)?r.typeInfo:void 0}}),i.Binding.Marshalls.Element.AsElementRef=i.Class({convertToTypedNamedValue:function(t,e,n,r){i.Util.Ensure.ensureObject(t);var s=this.convertToNamedValue(t,e,n,r);return{name:s.name,value:s.value,typeInfo:this.getTypeInfoByElementName(s.name,e,r)}},convertToNamedValue:function(t,e,n,r){if(i.Util.Type.exists(t.name)&&!i.Util.Type.isUndefined(t.value))return{name:i.XML.QName.fromObjectOrString(t.name,e),value:i.Util.Type.exists(t.value)?t.value:null};for(var s in t)if(t.hasOwnProperty(s))return{name:i.XML.QName.fromObjectOrString(s,e),value:t[s]};throw new Error("Invalid element value ["+t+"]. Element values must either have {name:'myElementName', value: elementValue} or {myElementName:elementValue} structure.")}}),i.Binding.Unmarshalls={},i.Binding.Unmarshalls.WrapperElement=i.Class({mixed:!1,unmarshalWrapperElement:function(t,e,n,r){for(var s=e.next();s!==i.XML.Input.END_ELEMENT;){if(s===i.XML.Input.START_ELEMENT)this.unmarshalElement(t,e,n,r);else if(!this.mixed||s!==i.XML.Input.CHARACTERS&&s!==i.XML.Input.CDATA&&s!==i.XML.Input.ENTITY_REFERENCE){if(s!==i.XML.Input.SPACE&&s!==i.XML.Input.COMMENT&&s!==i.XML.Input.PROCESSING_INSTRUCTION)throw new Error("Illegal state: unexpected event type ["+s+"].")}else r(e.getText());s=e.next()}}}),i.Binding.Unmarshalls.Element=i.Class({allowTypedObject:!0,allowDom:!1,unmarshalElement:function(t,e,n,r){if(1!=e.eventType)throw new Error("Parser must be on START_ELEMENT to read next element.");var s,o=this.getTypeInfoByInputElement(t,e,n),a=e.getName();if(this.allowTypedObject)if(i.Util.Type.exists(o)){var l=o.unmarshal(t,e,n);s=this.convertFromTypedNamedValue({name:a,value:l,typeInfo:o},t,e,n)}else{if(!this.allowDom)throw new Error("Element ["+a.toString()+"] could not be unmarshalled as is not known in this context and the property does not allow DOM content.");s=e.getElement()}else{if(!this.allowDom)throw new Error("Element ["+a.toString()+"] could not be unmarshalled as the property neither allows typed objects nor DOM as content. This is a sign of invalid mappings, do not use [allowTypedObject : false] and [allowDom : false] at the same time.");s=e.getElement()}r(s)},getTypeInfoByInputElement:function(t,e,n){var r=null;if(t.supportXsiType){var s=e.getAttributeValueNS(i.Schema.XSI.NAMESPACE_URI,i.Schema.XSI.TYPE);if(i.Util.StringUtils.isNotBlank(s)){var o=i.Schema.XSD.QName.INSTANCE.parse(s,t,e,n);r=t.getTypeInfoByTypeNameKey(o.key)}}var a=e.getName();return r||this.getTypeInfoByElementName(a,t,n)},getTypeInfoByElementName:function(t,e,n){var r=e.getElementInfo(t,n);return i.Util.Type.exists(r)?r.typeInfo:void 0}}),i.Binding.Unmarshalls.Element.AsElementRef=i.Class({convertFromTypedNamedValue:function(t,e,n,i){return{name:t.name,value:t.value}}}),i.Binding.Unmarshalls.Element.AsSimplifiedElementRef=i.Class({convertFromTypedNamedValue:function(t,e,n,i){var r={};return r[t.name.toCanonicalString(e)]=t.value,r}}),i.Binding.Marshaller=i.Class(i.Binding.Marshalls.Element,i.Binding.Marshalls.Element.AsElementRef,{context:null,initialize:function(t){i.Util.Ensure.ensureObject(t),this.context=t},marshalString:function(t){var e=this.marshalDocument(t);return i.DOM.serialize(e)},marshalDocument:function(t){var e=new i.XML.Output({namespacePrefixes:this.context.namespacePrefixes}),n=e.writeStartDocument();return this.marshalElement(t,this.context,e,void 0),e.writeEndDocument(),n},CLASS_NAME:"Jsonix.Binding.Marshaller"}),i.Binding.Marshaller.Simplified=i.Class(i.Binding.Marshaller,{CLASS_NAME:"Jsonix.Binding.Marshaller.Simplified"}),i.Binding.Unmarshaller=i.Class(i.Binding.Unmarshalls.Element,i.Binding.Unmarshalls.Element.AsElementRef,{context:null,allowTypedObject:!0,allowDom:!1,initialize:function(t){i.Util.Ensure.ensureObject(t),this.context=t},unmarshalString:function(t){i.Util.Ensure.ensureString(t);var e=i.DOM.parse(t);return this.unmarshalDocument(e)},unmarshalURL:function(t,e,n){i.Util.Ensure.ensureString(t),i.Util.Ensure.ensureFunction(e),i.Util.Type.exists(n)&&i.Util.Ensure.ensureObject(n),that=this,i.DOM.load(t,function(t){e(that.unmarshalDocument(t))},n)},unmarshalFile:function(t,e,r){if(void 0===n)throw new Error("File unmarshalling is only available in environments which support file systems.");i.Util.Ensure.ensureString(t),i.Util.Ensure.ensureFunction(e),i.Util.Type.exists(r)&&i.Util.Ensure.ensureObject(r),that=this,n.readFile(t,r,function(t,n){if(t)throw t;var r=n.toString(),s=i.DOM.parse(r);e(that.unmarshalDocument(s))})},unmarshalDocument:function(t,e){var n=new i.XML.Input(t),r=null;return n.nextTag(),this.unmarshalElement(this.context,n,e,function(t){r=t}),r},CLASS_NAME:"Jsonix.Binding.Unmarshaller"}),i.Binding.Unmarshaller.Simplified=i.Class(i.Binding.Unmarshaller,i.Binding.Unmarshalls.Element.AsSimplifiedElementRef,{CLASS_NAME:"Jsonix.Binding.Unmarshaller.Simplified"}),i.Model.TypeInfo=i.Class({module:null,name:null,baseTypeInfo:null,initialize:function(){},isBasedOn:function(t){for(var e=this;e;){if(t===e)return!0;e=e.baseTypeInfo}return!1},CLASS_NAME:"Jsonix.Model.TypeInfo"}),i.Model.ClassInfo=i.Class(i.Model.TypeInfo,i.Mapping.Styled,{name:null,localName:null,typeName:null,instanceFactory:null,properties:null,propertiesMap:null,structure:null,targetNamespace:"",defaultElementNamespaceURI:"",defaultAttributeNamespaceURI:"",built:!1,initialize:function(t,e){i.Model.TypeInfo.prototype.initialize.apply(this,[]),i.Mapping.Styled.prototype.initialize.apply(this,[e]),i.Util.Ensure.ensureObject(t);var n=t.name||t.n||void 0;i.Util.Ensure.ensureString(n),this.name=n;var r=t.localName||t.ln||null;this.localName=r,this.defaultElementNamespaceURI=t.defaultElementNamespaceURI||t.dens||t.targetNamespace||t.tns||"";var s=t.targetNamespace||t.tns||t.defaultElementNamespaceURI||t.dens||this.defaultElementNamespaceURI;this.targetNamespace=s,this.defaultAttributeNamespaceURI=t.defaultAttributeNamespaceURI||t.dans||"",this.baseTypeInfo=t.baseTypeInfo||t.bti||null;var o=t.instanceFactory||t.inF||void 0;i.Util.Type.exists(o)&&(i.Util.Ensure.ensureFunction(o),this.instanceFactory=o);var a=t.typeName||t.tn||void 0;i.Util.Type.exists(a)?this.typeName=i.Util.Type.isString(a)?new i.XML.QName(this.targetNamespace,a):i.XML.QName.fromObject(a):i.Util.Type.exists(r)&&(this.typeName=new i.XML.QName(s,r)),this.properties=[],this.propertiesMap={};var l=t.propertyInfos||t.ps||[];i.Util.Ensure.ensureArray(l);for(var c=0;c<l.length;c++)this.p(l[c])},getPropertyInfoByName:function(t){return this.propertiesMap[t]},destroy:function(){},build:function(t){if(!this.built){this.baseTypeInfo=t.resolveTypeInfo(this.baseTypeInfo,this.module),i.Util.Type.exists(this.baseTypeInfo)&&this.baseTypeInfo.build(t);for(var e=0;e<this.properties.length;e++)this.properties[e].build(t,this.module);var n={elements:null,attributes:{},anyAttribute:null,value:null,any:null};this.buildStructure(t,n),this.structure=n}},buildStructure:function(t,e){i.Util.Type.exists(this.baseTypeInfo)&&this.baseTypeInfo.buildStructure(t,e);for(var n=0;n<this.properties.length;n++)this.properties[n].buildStructure(t,e)},unmarshal:function(t,e){var n;if(this.build(t),n=this.instanceFactory?new this.instanceFactory:{TYPE_NAME:this.name},1!==e.eventType)throw new Error("Parser must be on START_ELEMENT to read a class info.");if(i.Util.Type.exists(this.structure.attributes)){var r=e.getAttributeCount();if(0!==r)for(var s=0;s<r;s++){var o=e.getAttributeNameKey(s);if(i.Util.Type.exists(this.structure.attributes[o])){var a=e.getAttributeValue(s);i.Util.Type.isString(a)&&this.unmarshalPropertyValue(t,e,this.structure.attributes[o],n,a)}}}if(i.Util.Type.exists(this.structure.anyAttribute)&&this.unmarshalProperty(t,e,this.structure.anyAttribute,n),i.Util.Type.exists(this.structure.elements))for(var l=e.next();l!==i.XML.Input.END_ELEMENT;){if(l===i.XML.Input.START_ELEMENT){var c=e.getNameKey();i.Util.Type.exists(this.structure.elements[c])?this.unmarshalProperty(t,e,this.structure.elements[c],n):i.Util.Type.exists(this.structure.any)?this.unmarshalProperty(t,e,this.structure.any,n):l=e.skipElement()}else if(l===i.XML.Input.CHARACTERS||l===i.XML.Input.CDATA||l===i.XML.Input.ENTITY_REFERENCE)i.Util.Type.exists(this.structure.mixed)&&this.unmarshalProperty(t,e,this.structure.mixed,n);else if(l!==i.XML.Input.SPACE&&l!==i.XML.Input.COMMENT&&l!==i.XML.Input.PROCESSING_INSTRUCTION)throw new Error("Illegal state: unexpected event type ["+l+"].");l=e.next()}else i.Util.Type.exists(this.structure.value)?this.unmarshalProperty(t,e,this.structure.value,n):e.nextTag();if(2!==e.eventType)throw new Error("Illegal state: must be END_ELEMENT.");return n},unmarshalProperty:function(t,e,n,i){var r=n.unmarshal(t,e,this);n.setProperty(i,r)},unmarshalPropertyValue:function(t,e,n,i,r){var s=n.unmarshalValue(r,t,e,this);n.setProperty(i,s)},marshal:function(t,e,n,r){if(this.isMarshallable(t,e,r)){i.Util.Type.exists(this.baseTypeInfo)&&this.baseTypeInfo.marshal(t,e,n);for(var s=0;s<this.properties.length;s++){var o=this.properties[s],a=t[o.name];i.Util.Type.exists(a)&&o.marshal(a,e,n,this)}}else if(this.structure.value)this.structure.value.marshal(t,e,n,this);else{if(1!==this.properties.length)throw new Error("The passed value ["+t+"] is not an object and there is no single suitable property to marshal it.");this.properties[0].marshal(t,e,n,this)}},isMarshallable:function(t,e,n){return this.isInstance(t,e,n)||i.Util.Type.isObject(t)&&!i.Util.Type.isArray(t)},isInstance:function(t,e,n){return this.instanceFactory?t instanceof this.instanceFactory:i.Util.Type.isObject(t)&&i.Util.Type.isString(t.TYPE_NAME)&&t.TYPE_NAME===this.name},b:function(t){return i.Util.Ensure.ensureObject(t),this.baseTypeInfo=t,this},ps:function(){return this},p:function(t){if(i.Util.Ensure.ensureObject(t),t instanceof i.Model.PropertyInfo)this.addProperty(t);else{var e=(t=i.Util.Type.cloneObject(t)).type||t.t||"element";if(!i.Util.Type.isFunction(this.propertyInfoCreators[e]))throw new Error("Unknown property info type ["+e+"].");this.propertyInfoCreators[e].call(this,t)}},aa:function(t){return this.addDefaultNamespaces(t),this.addProperty(new this.mappingStyle.anyAttributePropertyInfo(t,{mappingStyle:this.mappingStyle}))},ae:function(t){return this.addDefaultNamespaces(t),this.addProperty(new this.mappingStyle.anyElementPropertyInfo(t,{mappingStyle:this.mappingStyle}))},a:function(t){return this.addDefaultNamespaces(t),this.addProperty(new this.mappingStyle.attributePropertyInfo(t,{mappingStyle:this.mappingStyle}))},em:function(t){return this.addDefaultNamespaces(t),this.addProperty(new this.mappingStyle.elementMapPropertyInfo(t,{mappingStyle:this.mappingStyle}))},e:function(t){return this.addDefaultNamespaces(t),this.addProperty(new this.mappingStyle.elementPropertyInfo(t,{mappingStyle:this.mappingStyle}))},es:function(t){return this.addDefaultNamespaces(t),this.addProperty(new this.mappingStyle.elementsPropertyInfo(t,{mappingStyle:this.mappingStyle}))},er:function(t){return this.addDefaultNamespaces(t),this.addProperty(new this.mappingStyle.elementRefPropertyInfo(t,{mappingStyle:this.mappingStyle}))},ers:function(t){return this.addDefaultNamespaces(t),this.addProperty(new this.mappingStyle.elementRefsPropertyInfo(t,{mappingStyle:this.mappingStyle}))},v:function(t){return this.addDefaultNamespaces(t),this.addProperty(new this.mappingStyle.valuePropertyInfo(t,{mappingStyle:this.mappingStyle}))},addDefaultNamespaces:function(t){i.Util.Type.isObject(t)&&(i.Util.Type.isString(t.defaultElementNamespaceURI)||(t.defaultElementNamespaceURI=this.defaultElementNamespaceURI),i.Util.Type.isString(t.defaultAttributeNamespaceURI)||(t.defaultAttributeNamespaceURI=this.defaultAttributeNamespaceURI))},addProperty:function(t){return this.properties.push(t),this.propertiesMap[t.name]=t,this},CLASS_NAME:"Jsonix.Model.ClassInfo"}),i.Model.ClassInfo.prototype.propertyInfoCreators={aa:i.Model.ClassInfo.prototype.aa,anyAttribute:i.Model.ClassInfo.prototype.aa,ae:i.Model.ClassInfo.prototype.ae,anyElement:i.Model.ClassInfo.prototype.ae,a:i.Model.ClassInfo.prototype.a,attribute:i.Model.ClassInfo.prototype.a,em:i.Model.ClassInfo.prototype.em,elementMap:i.Model.ClassInfo.prototype.em,e:i.Model.ClassInfo.prototype.e,element:i.Model.ClassInfo.prototype.e,es:i.Model.ClassInfo.prototype.es,elements:i.Model.ClassInfo.prototype.es,er:i.Model.ClassInfo.prototype.er,elementRef:i.Model.ClassInfo.prototype.er,ers:i.Model.ClassInfo.prototype.ers,elementRefs:i.Model.ClassInfo.prototype.ers,v:i.Model.ClassInfo.prototype.v,value:i.Model.ClassInfo.prototype.v},i.Model.EnumLeafInfo=i.Class(i.Model.TypeInfo,{name:null,baseTypeInfo:"String",entries:null,keys:null,values:null,built:!1,initialize:function(t){i.Model.TypeInfo.prototype.initialize.apply(this,[]),i.Util.Ensure.ensureObject(t);var e=t.name||t.n||void 0;i.Util.Ensure.ensureString(e),this.name=e,this.baseTypeInfo=t.baseTypeInfo||t.bti||"String";var n=t.values||t.vs||void 0;if(i.Util.Ensure.ensureExists(n),!i.Util.Type.isObject(n)&&!i.Util.Type.isArray(n))throw new Error("Enum values must be either an array or an object.");this.entries=n},build:function(t){if(!this.built){this.baseTypeInfo=t.resolveTypeInfo(this.baseTypeInfo,this.module),this.baseTypeInfo.build(t);var e,n,r=this.entries,s={},o=[],a=[],l=0;if(i.Util.Type.isArray(r))for(l=0;l<r.length;l++){if(i.Util.Type.isString(n=r[l])){if(e=n,!i.Util.Type.isFunction(this.baseTypeInfo.parse))throw new Error("Enum value is provided as string but the base type ["+this.baseTypeInfo.name+"] of the enum info ["+this.name+"] does not implement the parse method.");n=this.baseTypeInfo.parse(n,t,null,this)}else{if(!this.baseTypeInfo.isInstance(n,t,this))throw new Error("Enum value ["+n+"] is not an instance of the enum base type ["+this.baseTypeInfo.name+"].");if(!i.Util.Type.isFunction(this.baseTypeInfo.print))throw new Error("The base type ["+this.baseTypeInfo.name+"] of the enum info ["+this.name+"] does not implement the print method, unable to produce the enum key as string.");e=this.baseTypeInfo.print(n,t,null,this)}s[e]=n,o[l]=e,a[l]=n}else{if(!i.Util.Type.isObject(r))throw new Error("Enum values must be either an array or an object.");for(e in r)if(r.hasOwnProperty(e)){if(i.Util.Type.isString(n=r[e])){if(!i.Util.Type.isFunction(this.baseTypeInfo.parse))throw new Error("Enum value is provided as string but the base type ["+this.baseTypeInfo.name+"] of the enum info ["+this.name+"] does not implement the parse method.");n=this.baseTypeInfo.parse(n,t,null,this)}else if(!this.baseTypeInfo.isInstance(n,t,this))throw new Error("Enum value ["+n+"] is not an instance of the enum base type ["+this.baseTypeInfo.name+"].");s[e]=n,o[l]=e,a[l]=n,l++}}this.entries=s,this.keys=o,this.values=a,this.built=!0}},unmarshal:function(t,e,n){var i=e.getElementText();return this.parse(i,t,e,n)},marshal:function(t,e,n,r){i.Util.Type.exists(t)&&n.writeCharacters(this.reprint(t,e,n,r))},reprint:function(t,e,n,r){return i.Util.Type.isString(t)&&!this.isInstance(t,e,r)?this.print(this.parse(t,e,null,r),e,n,r):this.print(t,e,n,r)},print:function(t,e,n,i){for(var r=0;r<this.values.length;r++)if(this.values[r]===t)return this.keys[r];throw new Error("Value ["+t+"] is invalid for the enum type ["+this.name+"].")},parse:function(t,e,n,r){if(i.Util.Ensure.ensureString(t),this.entries.hasOwnProperty(t))return this.entries[t];throw new Error("Value ["+t+"] is invalid for the enum type ["+this.name+"].")},isInstance:function(t,e,n){for(var i=0;i<this.values.length;i++)if(this.values[i]===t)return!0;return!1},CLASS_NAME:"Jsonix.Model.EnumLeafInfo"}),i.Model.ElementInfo=i.Class({module:null,elementName:null,typeInfo:null,substitutionHead:null,scope:null,built:!1,initialize:function(t){i.Util.Ensure.ensureObject(t),this.defaultElementNamespaceURI=t.defaultElementNamespaceURI||t.dens||"";var e=t.elementName||t.en||void 0;i.Util.Type.isObject(e)?this.elementName=i.XML.QName.fromObject(e):(i.Util.Ensure.ensureString(e),this.elementName=new i.XML.QName(this.defaultElementNamespaceURI,e)),this.typeInfo=t.typeInfo||t.ti||"String",this.substitutionHead=t.substitutionHead||t.sh||null,this.scope=t.scope||t.sc||null},build:function(t){this.built||(this.typeInfo=t.resolveTypeInfo(this.typeInfo,this.module),this.scope=t.resolveTypeInfo(this.scope,this.module),this.built=!0)},CLASS_NAME:"Jsonix.Model.ElementInfo"}),i.Model.PropertyInfo=i.Class({name:null,collection:!1,targetNamespace:"",defaultElementNamespaceURI:"",defaultAttributeNamespaceURI:"",built:!1,initialize:function(t){i.Util.Ensure.ensureObject(t);var e,n,r=t.name||t.n||void 0;i.Util.Ensure.ensureString(r),this.name=r,this.defaultElementNamespaceURI=t.defaultElementNamespaceURI||t.dens||t.targetNamespace||t.tns||"",this.targetNamespace=t.targetNamespace||t.tns||t.defaultElementNamespaceURI||t.dens||this.defaultElementNamespaceURI,this.defaultAttributeNamespaceURI=t.defaultAttributeNamespaceURI||t.dans||"",this.collection=t.collection||t.col||!1,this.required=t.required||t.rq||!1,this.collection&&(e=i.Util.Type.isNumber(t.minOccurs)?t.minOccurs:i.Util.Type.isNumber(t.mno)?t.mno:1,this.minOccurs=e,n=i.Util.Type.isNumber(t.maxOccurs)?t.maxOccurs:i.Util.Type.isNumber(t.mxo)?t.mxo:null,this.maxOccurs=n)},build:function(t,e){this.built||(this.doBuild(t,e),this.built=!0)},doBuild:function(t,e){throw new Error("Abstract method [doBuild].")},buildStructure:function(t,e){throw new Error("Abstract method [buildStructure].")},setProperty:function(t,e){if(i.Util.Type.exists(e))if(this.collection){i.Util.Ensure.ensureArray(e,"Collection property requires an array value."),i.Util.Type.exists(t[this.name])||(t[this.name]=[]);for(var n=0;n<e.length;n++)t[this.name].push(e[n])}else t[this.name]=e},CLASS_NAME:"Jsonix.Model.PropertyInfo"}),i.Model.AnyAttributePropertyInfo=i.Class(i.Model.PropertyInfo,{initialize:function(t){i.Util.Ensure.ensureObject(t),i.Model.PropertyInfo.prototype.initialize.apply(this,[t])},unmarshal:function(t,e,n){var r=e.getAttributeCount();if(0===r)return null;for(var s={},o=0;o<r;o++){var a=e.getAttributeValue(o);i.Util.Type.isString(a)&&(s[this.convertFromAttributeName(e.getAttributeName(o),t,e,n)]=a)}return s},marshal:function(t,e,n,r){if(i.Util.Type.isObject(t))for(var s in t)if(t.hasOwnProperty(s)){var o=t[s];if(i.Util.Type.isString(o)){var a=this.convertToAttributeName(s,e,n,r);n.writeAttribute(a,o)}}},convertFromAttributeName:function(t,e,n,i){return t.key},convertToAttributeName:function(t,e,n,r){return i.XML.QName.fromObjectOrString(t,e)},doBuild:function(t,e){},buildStructure:function(t,e){i.Util.Ensure.ensureObject(e),e.anyAttribute=this},CLASS_NAME:"Jsonix.Model.AnyAttributePropertyInfo"}),i.Model.AnyAttributePropertyInfo.Simplified=i.Class(i.Model.AnyAttributePropertyInfo,{convertFromAttributeName:function(t,e,n,i){return t.toCanonicalString(e)}}),i.Model.SingleTypePropertyInfo=i.Class(i.Model.PropertyInfo,{typeInfo:"String",initialize:function(t){i.Util.Ensure.ensureObject(t),i.Model.PropertyInfo.prototype.initialize.apply(this,[t]),this.typeInfo=t.typeInfo||t.ti||"String"},doBuild:function(t,e){this.typeInfo=t.resolveTypeInfo(this.typeInfo,e)},unmarshalValue:function(t,e,n,i){return this.parse(t,e,n,i)},parse:function(t,e,n,i){return this.typeInfo.parse(t,e,n,i)},print:function(t,e,n,i){return this.typeInfo.reprint(t,e,n,i)},CLASS_NAME:"Jsonix.Model.SingleTypePropertyInfo"}),i.Model.AttributePropertyInfo=i.Class(i.Model.SingleTypePropertyInfo,{attributeName:null,initialize:function(t){i.Util.Ensure.ensureObject(t),i.Model.SingleTypePropertyInfo.prototype.initialize.apply(this,[t]);var e=t.attributeName||t.an||void 0;this.attributeName=i.Util.Type.isObject(e)?i.XML.QName.fromObject(e):i.Util.Type.isString(e)?new i.XML.QName(this.defaultAttributeNamespaceURI,e):new i.XML.QName(this.defaultAttributeNamespaceURI,this.name)},unmarshal:function(t,e,n){for(var r=e.getAttributeCount(),s=null,o=0;o<r;o++){var a=e.getAttributeNameKey(o);if(this.attributeName.key===a){var l=e.getAttributeValue(o);i.Util.Type.isString(l)&&(s=this.unmarshalValue(l,t,e,n))}}return s},marshal:function(t,e,n,r){i.Util.Type.exists(t)&&n.writeAttribute(this.attributeName,this.print(t,e,n,r))},buildStructure:function(t,e){i.Util.Ensure.ensureObject(e),i.Util.Ensure.ensureObject(e.attributes),e.attributes[this.attributeName.key]=this},CLASS_NAME:"Jsonix.Model.AttributePropertyInfo"}),i.Model.ValuePropertyInfo=i.Class(i.Model.SingleTypePropertyInfo,{initialize:function(t){i.Util.Ensure.ensureObject(t),i.Model.SingleTypePropertyInfo.prototype.initialize.apply(this,[t]),this.asCDATA=t.asCDATA||t.cdata||!1},unmarshal:function(t,e,n){var i=e.getElementText();return this.unmarshalValue(i,t,e,n)},marshal:function(t,e,n,r){i.Util.Type.exists(t)&&(this.asCDATA?n.writeCdata(this.print(t,e,n,r)):n.writeCharacters(this.print(t,e,n,r)))},buildStructure:function(t,e){if(i.Util.Ensure.ensureObject(e),i.Util.Type.exists(e.elements))throw new Error("The structure already defines element mappings, it cannot define a value property.");e.value=this},CLASS_NAME:"Jsonix.Model.ValuePropertyInfo"}),i.Model.AbstractElementsPropertyInfo=i.Class(i.Binding.Unmarshalls.Element,i.Binding.Unmarshalls.WrapperElement,i.Model.PropertyInfo,{wrapperElementName:null,allowDom:!1,allowTypedObject:!0,mixed:!1,initialize:function(t){i.Util.Ensure.ensureObject(t),i.Model.PropertyInfo.prototype.initialize.apply(this,[t]);var e=t.wrapperElementName||t.wen||void 0;this.wrapperElementName=i.Util.Type.isObject(e)?i.XML.QName.fromObject(e):i.Util.Type.isString(e)?new i.XML.QName(this.defaultElementNamespaceURI,e):null},unmarshal:function(t,e,n){var r=null,s=this,o=function(t){if(s.collection)null===r&&(r=[]),r.push(t);else{if(null!==r)throw new Error("Value already set.");r=t}};return i.Util.Type.exists(this.wrapperElementName)?this.unmarshalWrapperElement(t,e,n,o):this.unmarshalElement(t,e,n,o),r},marshal:function(t,e,n,r){if(i.Util.Type.exists(t)){if(i.Util.Type.exists(this.wrapperElementName)&&n.writeStartElement(this.wrapperElementName),this.collection){i.Util.Ensure.ensureArray(t);for(var s=0;s<t.length;s++)this.marshalElement(t[s],e,n,r)}else this.marshalElement(t,e,n,r);i.Util.Type.exists(this.wrapperElementName)&&n.writeEndElement()}},convertFromTypedNamedValue:function(t,e,n,i){return t.value},buildStructure:function(t,e){if(i.Util.Ensure.ensureObject(e),i.Util.Type.exists(e.value))throw new Error("The structure already defines a value property.");i.Util.Type.exists(e.elements)||(e.elements={}),i.Util.Type.exists(this.wrapperElementName)?e.elements[this.wrapperElementName.key]=this:this.buildStructureElements(t,e)},buildStructureElements:function(t,e){throw new Error("Abstract method [buildStructureElements].")},CLASS_NAME:"Jsonix.Model.AbstractElementsPropertyInfo"}),i.Model.ElementPropertyInfo=i.Class(i.Model.AbstractElementsPropertyInfo,i.Binding.Marshalls.Element,{typeInfo:"String",elementName:null,initialize:function(t){i.Util.Ensure.ensureObject(t),i.Model.AbstractElementsPropertyInfo.prototype.initialize.apply(this,[t]);var e=t.typeInfo||t.ti||"String";i.Util.Type.isObject(e)||i.Util.Ensure.ensureString(e),this.typeInfo=e;var n=t.elementName||t.en||void 0;this.elementName=i.Util.Type.isObject(n)?i.XML.QName.fromObject(n):i.Util.Type.isString(n)?new i.XML.QName(this.defaultElementNamespaceURI,n):new i.XML.QName(this.defaultElementNamespaceURI,this.name)},getTypeInfoByElementName:function(t,e,n){return this.typeInfo},convertToTypedNamedValue:function(t,e,n,i){return{name:this.elementName,value:t,typeInfo:this.typeInfo}},doBuild:function(t,e){this.typeInfo=t.resolveTypeInfo(this.typeInfo,e)},buildStructureElements:function(t,e){e.elements[this.elementName.key]=this},CLASS_NAME:"Jsonix.Model.ElementPropertyInfo"}),i.Model.ElementsPropertyInfo=i.Class(i.Model.AbstractElementsPropertyInfo,i.Binding.Marshalls.Element,{elementTypeInfos:null,elementTypeInfosMap:null,initialize:function(t){i.Util.Ensure.ensureObject(t),i.Model.AbstractElementsPropertyInfo.prototype.initialize.apply(this,[t]);var e=t.elementTypeInfos||t.etis||[];i.Util.Ensure.ensureArray(e),this.elementTypeInfos=[];for(var n=0;n<e.length;n++)this.elementTypeInfos[n]=i.Util.Type.cloneObject(e[n])},getTypeInfoByElementName:function(t,e,n){return this.elementTypeInfosMap[t.key]},convertToTypedNamedValue:function(t,e,n,i){for(var r=0;r<this.elementTypeInfos.length;r++){var s=this.elementTypeInfos[r],o=s.typeInfo;if(o.isInstance(t,e,i))return{name:s.elementName,value:t,typeInfo:o}}if(e.supportXsiType){var a=e.getTypeInfoByValue(t);if(a&&a.typeName)for(var l=0;l<this.elementTypeInfos.length;l++){var c=this.elementTypeInfos[l],h=c.typeInfo;if(a.isBasedOn(h))return{name:c.elementName,value:t,typeInfo:h}}}throw new Error("Could not find an element with type info supporting the value ["+t+"].")},doBuild:function(t,e){this.elementTypeInfosMap={};for(var n=0;n<this.elementTypeInfos.length;n++){var r=this.elementTypeInfos[n];i.Util.Ensure.ensureObject(r),r.typeInfo=t.resolveTypeInfo(r.typeInfo||r.ti||"String",e),r.elementName=i.XML.QName.fromObjectOrString(r.elementName||r.en||void 0,t,this.defaultElementNamespaceURI),this.elementTypeInfosMap[r.elementName.key]=r.typeInfo}},buildStructureElements:function(t,e){for(var n=0;n<this.elementTypeInfos.length;n++)e.elements[this.elementTypeInfos[n].elementName.key]=this},CLASS_NAME:"Jsonix.Model.ElementsPropertyInfo"}),i.Model.ElementMapPropertyInfo=i.Class(i.Model.AbstractElementsPropertyInfo,{elementName:null,key:null,value:null,entryTypeInfo:null,initialize:function(t){i.Util.Ensure.ensureObject(t),i.Model.AbstractElementsPropertyInfo.prototype.initialize.apply(this,[t]);var e=t.key||t.k||void 0;i.Util.Ensure.ensureObject(e);var n=t.value||t.v||void 0;i.Util.Ensure.ensureObject(n);var r=t.elementName||t.en||void 0;this.elementName=i.Util.Type.isObject(r)?i.XML.QName.fromObject(r):i.Util.Type.isString(r)?new i.XML.QName(this.defaultElementNamespaceURI,r):new i.XML.QName(this.defaultElementNamespaceURI,this.name),this.entryTypeInfo=new i.Model.ClassInfo({name:"Map<"+e.name+","+n.name+">",propertyInfos:[e,n]})},unmarshal:function(t,e,n){var r=null,s=this,o=function(t){if(i.Util.Type.exists(t))for(var e in i.Util.Ensure.ensureObject(t,"Map property requires an object."),i.Util.Type.exists(r)||(r={}),t)if(t.hasOwnProperty(e)){var n=t[e];if(s.collection)i.Util.Type.exists(r[e])||(r[e]=[]),r[e].push(n);else{if(i.Util.Type.exists(r[e]))throw new Error("Value was already set.");r[e]=n}}};return i.Util.Type.exists(this.wrapperElementName)?this.unmarshalWrapperElement(t,e,n,o):this.unmarshalElement(t,e,n,o),r},getTypeInfoByInputElement:function(t,e,n){return this.entryTypeInfo},convertFromTypedNamedValue:function(t,e,n,r){var s=t.value,o={};return i.Util.Type.isString(s[this.key.name])&&(o[s[this.key.name]]=s[this.value.name]),o},marshal:function(t,e,n,r){i.Util.Type.exists(t)&&(i.Util.Type.exists(this.wrapperElementName)&&n.writeStartElement(this.wrapperElementName),this.marshalElement(t,e,n,r),i.Util.Type.exists(this.wrapperElementName)&&n.writeEndElement())},marshalElement:function(t,e,n,i){if(t)for(var r in t)if(t.hasOwnProperty(r)){var s=t[r];if(this.collection)for(var o=0;o<s.length;o++){var a={};a[this.key.name]=r,a[this.value.name]=s[o],n.writeStartElement(this.elementName),this.entryTypeInfo.marshal(a,e,n,i),n.writeEndElement()}else{var l={};l[this.key.name]=r,l[this.value.name]=s,n.writeStartElement(this.elementName),this.entryTypeInfo.marshal(l,e,n,i),n.writeEndElement()}}},doBuild:function(t,e){this.entryTypeInfo.build(t,e),this.key=this.entryTypeInfo.properties[0],this.value=this.entryTypeInfo.properties[1]},buildStructureElements:function(t,e){e.elements[this.elementName.key]=this},setProperty:function(t,e){if(i.Util.Type.exists(e)){i.Util.Ensure.ensureObject(e,"Map property requires an object."),i.Util.Type.exists(t[this.name])||(t[this.name]={});var n=t[this.name];for(var r in e)if(e.hasOwnProperty(r)){var s=e[r];if(this.collection){i.Util.Type.exists(n[r])||(n[r]=[]);for(var o=0;o<s.length;o++)n[r].push(s[o])}else n[r]=s}}},CLASS_NAME:"Jsonix.Model.ElementMapPropertyInfo"}),i.Model.AbstractElementRefsPropertyInfo=i.Class(i.Binding.Marshalls.Element,i.Binding.Marshalls.Element.AsElementRef,i.Binding.Unmarshalls.Element,i.Binding.Unmarshalls.WrapperElement,i.Binding.Unmarshalls.Element.AsElementRef,i.Model.PropertyInfo,{wrapperElementName:null,allowDom:!0,allowTypedObject:!0,mixed:!0,initialize:function(t){i.Util.Ensure.ensureObject(t,"Mapping must be an object."),i.Model.PropertyInfo.prototype.initialize.apply(this,[t]);var e=t.wrapperElementName||t.wen||void 0;this.wrapperElementName=i.Util.Type.isObject(e)?i.XML.QName.fromObject(e):i.Util.Type.isString(e)?new i.XML.QName(this.defaultElementNamespaceURI,e):null;var n=i.Util.Type.defaultValue(t.allowDom,t.dom,!0),r=i.Util.Type.defaultValue(t.allowTypedObject,t.typed,!0),s=i.Util.Type.defaultValue(t.mixed,t.mx,!0);this.allowDom=n,this.allowTypedObject=r,this.mixed=s},unmarshal:function(t,e,n){var r=null,s=this,o=function(t){if(s.collection)null===r&&(r=[]),r.push(t);else{if(null!==r)throw new Error("Value already set.");r=t}},a=e.eventType;if(a===i.XML.Input.START_ELEMENT)i.Util.Type.exists(this.wrapperElementName)?this.unmarshalWrapperElement(t,e,n,o):this.unmarshalElement(t,e,n,o);else if(!this.mixed||a!==i.XML.Input.CHARACTERS&&a!==i.XML.Input.CDATA&&a!==i.XML.Input.ENTITY_REFERENCE){if(a!==i.XML.Input.SPACE&&a!==i.XML.Input.COMMENT&&a!==i.XML.Input.PROCESSING_INSTRUCTION)throw new Error("Illegal state: unexpected event type ["+a+"].")}else o(e.getText());return r},marshal:function(t,e,n,r){if(i.Util.Type.exists(t)){if(i.Util.Type.exists(this.wrapperElementName)&&n.writeStartElement(this.wrapperElementName),this.collection){i.Util.Ensure.ensureArray(t,"Collection property requires an array value.");for(var s=0;s<t.length;s++)this.marshalItem(t[s],e,n,r)}else this.marshalItem(t,e,n,r);i.Util.Type.exists(this.wrapperElementName)&&n.writeEndElement()}},marshalItem:function(t,e,n,r){if(i.Util.Type.isString(t)){if(!this.mixed)throw new Error("Property is not mixed, can't handle string values.");n.writeCharacters(t)}else if(this.allowDom&&i.Util.Type.exists(t.nodeType))n.writeNode(t);else{if(!i.Util.Type.isObject(t))throw this.mixed?new Error("Unsupported content type, either objects or strings are supported."):new Error("Unsupported content type, only objects are supported.");this.marshalElement(t,e,n,r)}},getTypeInfoByElementName:function(t,e,n){var r=this.getPropertyElementTypeInfo(t,e);if(i.Util.Type.exists(r))return r.typeInfo;var s=e.getElementInfo(t,n);return i.Util.Type.exists(s)?s.typeInfo:void 0},getPropertyElementTypeInfo:function(t,e){throw new Error("Abstract method [getPropertyElementTypeInfo].")},buildStructure:function(t,e){if(i.Util.Ensure.ensureObject(e),i.Util.Type.exists(e.value))throw new Error("The structure already defines a value property.");i.Util.Type.exists(e.elements)||(e.elements={}),i.Util.Type.exists(this.wrapperElementName)?e.elements[this.wrapperElementName.key]=this:this.buildStructureElements(t,e),(this.allowDom||this.allowTypedObject)&&(e.any=this),this.mixed&&!i.Util.Type.exists(this.wrapperElementName)&&(e.mixed=this)},buildStructureElements:function(t,e){throw new Error("Abstract method [buildStructureElements].")},buildStructureElementTypeInfos:function(t,e,n){e.elements[n.elementName.key]=this;var r=t.getSubstitutionMembers(n.elementName);if(i.Util.Type.isArray(r))for(var s=0;s<r.length;s++)this.buildStructureElementTypeInfos(t,e,r[s])},CLASS_NAME:"Jsonix.Model.AbstractElementRefsPropertyInfo"}),i.Model.ElementRefPropertyInfo=i.Class(i.Model.AbstractElementRefsPropertyInfo,{typeInfo:"String",elementName:null,initialize:function(t){i.Util.Ensure.ensureObject(t),i.Model.AbstractElementRefsPropertyInfo.prototype.initialize.apply(this,[t]);var e=t.typeInfo||t.ti||"String";i.Util.Type.isObject(e)||i.Util.Ensure.ensureString(e),this.typeInfo=e;var n=t.elementName||t.en||void 0;this.elementName=i.Util.Type.isObject(n)?i.XML.QName.fromObject(n):i.Util.Type.isString(n)?new i.XML.QName(this.defaultElementNamespaceURI,n):new i.XML.QName(this.defaultElementNamespaceURI,this.name)},getPropertyElementTypeInfo:function(t,e){return i.XML.QName.fromObjectOrString(t,e).key===this.elementName.key?this:null},doBuild:function(t,e){this.typeInfo=t.resolveTypeInfo(this.typeInfo,e)},buildStructureElements:function(t,e){this.buildStructureElementTypeInfos(t,e,this)},CLASS_NAME:"Jsonix.Model.ElementRefPropertyInfo"}),i.Model.ElementRefPropertyInfo.Simplified=i.Class(i.Model.ElementRefPropertyInfo,i.Binding.Unmarshalls.Element.AsSimplifiedElementRef,{CLASS_NAME:"Jsonix.Model.ElementRefPropertyInfo.Simplified"}),i.Model.ElementRefsPropertyInfo=i.Class(i.Model.AbstractElementRefsPropertyInfo,{elementTypeInfos:null,elementTypeInfosMap:null,initialize:function(t){i.Util.Ensure.ensureObject(t),i.Model.AbstractElementRefsPropertyInfo.prototype.initialize.apply(this,[t]);var e=t.elementTypeInfos||t.etis||[];i.Util.Ensure.ensureArray(e),this.elementTypeInfos=[];for(var n=0;n<e.length;n++)this.elementTypeInfos[n]=i.Util.Type.cloneObject(e[n])},getPropertyElementTypeInfo:function(t,e){var n=i.XML.QName.fromObjectOrString(t,e),r=this.elementTypeInfosMap[n.key];return i.Util.Type.exists(r)?{elementName:n,typeInfo:r}:null},doBuild:function(t,e){this.elementTypeInfosMap={};for(var n=0;n<this.elementTypeInfos.length;n++){var r=this.elementTypeInfos[n];i.Util.Ensure.ensureObject(r),r.typeInfo=t.resolveTypeInfo(r.typeInfo||r.ti||"String",e),r.elementName=i.XML.QName.fromObjectOrString(r.elementName||r.en||void 0,t,this.defaultElementNamespaceURI),this.elementTypeInfosMap[r.elementName.key]=r.typeInfo}},buildStructureElements:function(t,e){for(var n=0;n<this.elementTypeInfos.length;n++)this.buildStructureElementTypeInfos(t,e,this.elementTypeInfos[n])},CLASS_NAME:"Jsonix.Model.ElementRefsPropertyInfo"}),i.Model.ElementRefsPropertyInfo.Simplified=i.Class(i.Model.ElementRefsPropertyInfo,i.Binding.Unmarshalls.Element.AsSimplifiedElementRef,{CLASS_NAME:"Jsonix.Model.ElementRefsPropertyInfo.Simplified"}),i.Model.AnyElementPropertyInfo=i.Class(i.Binding.Marshalls.Element,i.Binding.Marshalls.Element.AsElementRef,i.Binding.Unmarshalls.Element,i.Binding.Unmarshalls.Element.AsElementRef,i.Model.PropertyInfo,{allowDom:!0,allowTypedObject:!0,mixed:!0,initialize:function(t){i.Util.Ensure.ensureObject(t),i.Model.PropertyInfo.prototype.initialize.apply(this,[t]);var e=i.Util.Type.defaultValue(t.allowDom,t.dom,!0),n=i.Util.Type.defaultValue(t.allowTypedObject,t.typed,!0),r=i.Util.Type.defaultValue(t.mixed,t.mx,!0);this.allowDom=e,this.allowTypedObject=n,this.mixed=r},unmarshal:function(t,e,n){var r=null,s=this,o=function(t){if(s.collection)null===r&&(r=[]),r.push(t);else{if(null!==r)throw new Error("Value already set.");r=t}},a=e.eventType;if(a===i.XML.Input.START_ELEMENT)this.unmarshalElement(t,e,n,o);else if(!this.mixed||a!==i.XML.Input.CHARACTERS&&a!==i.XML.Input.CDATA&&a!==i.XML.Input.ENTITY_REFERENCE){if(this.mixed&&a===i.XML.Input.SPACE);else if(a!==i.XML.Input.COMMENT&&a!==i.XML.Input.PROCESSING_INSTRUCTION)throw new Error("Illegal state: unexpected event type ["+a+"].")}else o(e.getText());return r},marshal:function(t,e,n,r){if(i.Util.Type.exists(t))if(this.collection){i.Util.Ensure.ensureArray(t);for(var s=0;s<t.length;s++)this.marshalItem(t[s],e,n,r)}else this.marshalItem(t,e,n,r)},marshalItem:function(t,e,n,r){this.mixed&&i.Util.Type.isString(t)?n.writeCharacters(t):this.allowDom&&i.Util.Type.exists(t.nodeType)?n.writeNode(t):this.allowTypedObject&&this.marshalElement(t,e,n,r)},doBuild:function(t,e){},buildStructure:function(t,e){if(i.Util.Ensure.ensureObject(e),i.Util.Type.exists(e.value))throw new Error("The structure already defines a value property.");i.Util.Type.exists(e.elements)||(e.elements={}),(this.allowDom||this.allowTypedObject)&&(e.any=this),this.mixed&&(e.mixed=this)},CLASS_NAME:"Jsonix.Model.AnyElementPropertyInfo"}),i.Model.AnyElementPropertyInfo.Simplified=i.Class(i.Model.AnyElementPropertyInfo,i.Binding.Unmarshalls.Element.AsSimplifiedElementRef,{CLASS_NAME:"Jsonix.Model.AnyElementPropertyInfo.Simplified"}),i.Model.Module=i.Class(i.Mapping.Styled,{name:null,typeInfos:null,elementInfos:null,targetNamespace:"",defaultElementNamespaceURI:"",defaultAttributeNamespaceURI:"",initialize:function(t,e){if(i.Mapping.Styled.prototype.initialize.apply(this,[e]),this.typeInfos=[],this.elementInfos=[],void 0!==t){i.Util.Ensure.ensureObject(t),this.name=t.name||t.n||null,this.defaultElementNamespaceURI=t.defaultElementNamespaceURI||t.dens||t.targetNamespace||t.tns||"",this.targetNamespace=t.targetNamespace||t.tns||t.defaultElementNamespaceURI||t.dens||this.defaultElementNamespaceURI,this.defaultAttributeNamespaceURI=t.defaultAttributeNamespaceURI||t.dans||"";var n=t.typeInfos||t.tis||[];for(var r in this.initializeTypeInfos(n),t)t.hasOwnProperty(r)&&t[r]instanceof this.mappingStyle.classInfo&&this.typeInfos.push(t[r]);this.initializeElementInfos(t.elementInfos||t.eis||[])}},initializeTypeInfos:function(t){var e,n;for(i.Util.Ensure.ensureArray(t),e=0;e<t.length;e++)n=this.createTypeInfo(t[e]),this.typeInfos.push(n)},initializeElementInfos:function(t){var e,n;for(i.Util.Ensure.ensureArray(t),e=0;e<t.length;e++)n=this.createElementInfo(t[e]),this.elementInfos.push(n)},createTypeInfo:function(t){var e;if(i.Util.Ensure.ensureObject(t),t instanceof i.Model.TypeInfo)e=t;else{var n=(t=i.Util.Type.cloneObject(t)).type||t.t||"classInfo";if(!i.Util.Type.isFunction(this.typeInfoCreators[n]))throw new Error("Unknown type info type ["+n+"].");e=this.typeInfoCreators[n].call(this,t)}return e},initializeNames:function(t){var e=t.localName||t.ln||null;if(t.localName=e,t.name=t.name||t.n||null,i.Util.Type.isString(t.name))t.name.length>0&&"."===t.name.charAt(0)&&i.Util.Type.isString(this.name)&&(t.name=this.name+t.name);else{if(!i.Util.Type.isString(e))throw new Error("Neither [name/n] nor [localName/ln] was provided for the class info.");t.name=i.Util.Type.isString(this.name)?this.name+"."+e:e}},createClassInfo:function(t){i.Util.Ensure.ensureObject(t),t.defaultElementNamespaceURI=t.defaultElementNamespaceURI||t.dens||this.defaultElementNamespaceURI,t.targetNamespace=t.targetNamespace||t.tns||this.targetNamespace,t.defaultAttributeNamespaceURI=t.defaultAttributeNamespaceURI||t.dans||this.defaultAttributeNamespaceURI,this.initializeNames(t);var e=new this.mappingStyle.classInfo(t,{mappingStyle:this.mappingStyle});return e.module=this,e},createEnumLeafInfo:function(t){i.Util.Ensure.ensureObject(t),this.initializeNames(t);var e=new this.mappingStyle.enumLeafInfo(t,{mappingStyle:this.mappingStyle});return e.module=this,e},createList:function(t){i.Util.Ensure.ensureObject(t);var e=t.baseTypeInfo||t.typeInfo||t.bti||t.ti||"String",n=t.typeName||t.tn||null;i.Util.Type.exists(n)&&(n=i.Util.Type.isString(n)?new i.XML.QName(this.targetNamespace,n):i.XML.QName.fromObject(n));var r=t.separator||t.sep||" ";i.Util.Ensure.ensureExists(e);var s=new i.Schema.XSD.List(e,n,r);return s.module=this,s},createElementInfo:function(t){i.Util.Ensure.ensureObject(t),(t=i.Util.Type.cloneObject(t)).defaultElementNamespaceURI=t.defaultElementNamespaceURI||t.dens||this.defaultElementNamespaceURI;var e=t.elementName||t.en||void 0;i.Util.Ensure.ensureExists(e);var n=t.typeInfo||t.ti||"String";if(i.Util.Ensure.ensureExists(n),t.typeInfo=n,i.Util.Type.isObject(e))t.elementName=i.XML.QName.fromObject(e);else{if(!i.Util.Type.isString(e))throw new Error("Element info ["+t+"] must provide an element name.");t.elementName=new i.XML.QName(this.defaultElementNamespaceURI,e)}var r=t.substitutionHead||t.sh||null;i.Util.Type.exists(r)&&(i.Util.Type.isObject(r)?t.substitutionHead=i.XML.QName.fromObject(r):(i.Util.Ensure.ensureString(r),t.substitutionHead=new i.XML.QName(this.defaultElementNamespaceURI,r)));var s=new this.mappingStyle.elementInfo(t,{mappingStyle:this.mappingStyle});return s.module=this,s},registerTypeInfos:function(t){for(var e=0;e<this.typeInfos.length;e++)t.registerTypeInfo(this.typeInfos[e],this)},buildTypeInfos:function(t){for(var e=0;e<this.typeInfos.length;e++)this.typeInfos[e].build(t,this)},registerElementInfos:function(t){for(var e=0;e<this.elementInfos.length;e++)t.registerElementInfo(this.elementInfos[e],this)},buildElementInfos:function(t){for(var e=0;e<this.elementInfos.length;e++)this.elementInfos[e].build(t,this)},cs:function(){return this},es:function(){return this},CLASS_NAME:"Jsonix.Model.Module"}),i.Model.Module.prototype.typeInfoCreators={classInfo:i.Model.Module.prototype.createClassInfo,c:i.Model.Module.prototype.createClassInfo,enumInfo:i.Model.Module.prototype.createEnumLeafInfo,enum:i.Model.Module.prototype.createEnumLeafInfo,list:i.Model.Module.prototype.createList,l:i.Model.Module.prototype.createList},i.Mapping.Style.Standard=i.Class(i.Mapping.Style,{marshaller:i.Binding.Marshaller,unmarshaller:i.Binding.Unmarshaller,module:i.Model.Module,elementInfo:i.Model.ElementInfo,classInfo:i.Model.ClassInfo,enumLeafInfo:i.Model.EnumLeafInfo,anyAttributePropertyInfo:i.Model.AnyAttributePropertyInfo,anyElementPropertyInfo:i.Model.AnyElementPropertyInfo,attributePropertyInfo:i.Model.AttributePropertyInfo,elementMapPropertyInfo:i.Model.ElementMapPropertyInfo,elementPropertyInfo:i.Model.ElementPropertyInfo,elementsPropertyInfo:i.Model.ElementsPropertyInfo,elementRefPropertyInfo:i.Model.ElementRefPropertyInfo,elementRefsPropertyInfo:i.Model.ElementRefsPropertyInfo,valuePropertyInfo:i.Model.ValuePropertyInfo,initialize:function(){i.Mapping.Style.prototype.initialize.apply(this)},CLASS_NAME:"Jsonix.Mapping.Style.Standard"}),i.Mapping.Style.STYLES.standard=new i.Mapping.Style.Standard,i.Mapping.Style.Simplified=i.Class(i.Mapping.Style,{marshaller:i.Binding.Marshaller.Simplified,unmarshaller:i.Binding.Unmarshaller.Simplified,module:i.Model.Module,elementInfo:i.Model.ElementInfo,classInfo:i.Model.ClassInfo,enumLeafInfo:i.Model.EnumLeafInfo,anyAttributePropertyInfo:i.Model.AnyAttributePropertyInfo.Simplified,anyElementPropertyInfo:i.Model.AnyElementPropertyInfo.Simplified,attributePropertyInfo:i.Model.AttributePropertyInfo,elementMapPropertyInfo:i.Model.ElementMapPropertyInfo,elementPropertyInfo:i.Model.ElementPropertyInfo,elementsPropertyInfo:i.Model.ElementsPropertyInfo,elementRefPropertyInfo:i.Model.ElementRefPropertyInfo.Simplified,elementRefsPropertyInfo:i.Model.ElementRefsPropertyInfo.Simplified,valuePropertyInfo:i.Model.ValuePropertyInfo,initialize:function(){i.Mapping.Style.prototype.initialize.apply(this)},CLASS_NAME:"Jsonix.Mapping.Style.Simplified"}),i.Mapping.Style.STYLES.simplified=new i.Mapping.Style.Simplified,i.Schema.XSD={},i.Schema.XSD.NAMESPACE_URI="http://www.w3.org/2001/XMLSchema",i.Schema.XSD.PREFIX="xsd",i.Schema.XSD.qname=function(t){return i.Util.Ensure.ensureString(t),new i.XML.QName(i.Schema.XSD.NAMESPACE_URI,t,i.Schema.XSD.PREFIX)},i.Schema.XSD.AnyType=i.Class(i.Model.ClassInfo,{typeName:i.Schema.XSD.qname("anyType"),initialize:function(){i.Model.ClassInfo.prototype.initialize.call(this,{name:"AnyType",propertyInfos:[{type:"anyAttribute",name:"attributes"},{type:"anyElement",name:"content",collection:!0}]})},CLASS_NAME:"Jsonix.Schema.XSD.AnyType"}),i.Schema.XSD.AnyType.INSTANCE=new i.Schema.XSD.AnyType,i.Schema.XSD.AnySimpleType=i.Class(i.Model.TypeInfo,{name:"AnySimpleType",typeName:i.Schema.XSD.qname("anySimpleType"),initialize:function(){i.Model.TypeInfo.prototype.initialize.apply(this,[])},print:function(t,e,n,i){return t},parse:function(t,e,n,i){return t},isInstance:function(t,e,n){return!0},reprint:function(t,e,n,r){return i.Util.Type.isString(t)&&!this.isInstance(t,e,r)?this.print(this.parse(t,e,null,r),e,n,r):this.print(t,e,n,r)},unmarshal:function(t,e,n){var r=e.getElementText();return i.Util.StringUtils.isNotBlank(r)?this.parse(r,t,e,n):null},marshal:function(t,e,n,r){i.Util.Type.exists(t)&&n.writeCharacters(this.reprint(t,e,n,r))},build:function(t,e){},CLASS_NAME:"Jsonix.Schema.XSD.AnySimpleType"}),i.Schema.XSD.AnySimpleType.INSTANCE=new i.Schema.XSD.AnySimpleType,i.Schema.XSD.List=i.Class(i.Schema.XSD.AnySimpleType,{name:null,typeName:null,typeInfo:null,separator:" ",trimmedSeparator:i.Util.StringUtils.whitespaceCharacters,simpleType:!0,built:!1,initialize:function(t,e,n){i.Util.Ensure.ensureExists(t),this.typeInfo=t,i.Util.Type.exists(this.name)||(this.name=t.name+"*"),i.Util.Type.exists(e)&&(this.typeName=e),this.separator=i.Util.Type.isString(n)?n:" ";var r=i.Util.StringUtils.trim(this.separator);this.trimmedSeparator=0===r.length?i.Util.StringUtils.whitespaceCharacters:r},build:function(t){this.built||(this.typeInfo=t.resolveTypeInfo(this.typeInfo,this.module),this.built=!0)},print:function(t,e,n,r){if(!i.Util.Type.exists(t))return null;i.Util.Ensure.ensureArray(t);for(var s="",o=0;o<t.length;o++)o>0&&(s+=this.separator),s+=this.typeInfo.reprint(t[o],e,n,r);return s},parse:function(t,e,n,r){i.Util.Ensure.ensureString(t);for(var s=i.Util.StringUtils.splitBySeparatorChars(t,this.trimmedSeparator),o=[],a=0;a<s.length;a++)o.push(this.typeInfo.parse(i.Util.StringUtils.trim(s[a]),e,n,r));return o},CLASS_NAME:"Jsonix.Schema.XSD.List"}),i.Schema.XSD.String=i.Class(i.Schema.XSD.AnySimpleType,{name:"String",typeName:i.Schema.XSD.qname("string"),unmarshal:function(t,e,n){var i=e.getElementText();return this.parse(i,t,e,n)},print:function(t,e,n,r){return i.Util.Ensure.ensureString(t),t},parse:function(t,e,n,r){return i.Util.Ensure.ensureString(t),t},isInstance:function(t,e,n){return i.Util.Type.isString(t)},CLASS_NAME:"Jsonix.Schema.XSD.String"}),i.Schema.XSD.String.INSTANCE=new i.Schema.XSD.String,i.Schema.XSD.String.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.String.INSTANCE),i.Schema.XSD.Strings=i.Class(i.Schema.XSD.List,{name:"Strings",initialize:function(){i.Schema.XSD.List.prototype.initialize.apply(this,[i.Schema.XSD.String.INSTANCE,i.Schema.XSD.qname("strings")," "])},CLASS_NAME:"Jsonix.Schema.XSD.Strings"}),i.Schema.XSD.Strings.INSTANCE=new i.Schema.XSD.Strings,i.Schema.XSD.NormalizedString=i.Class(i.Schema.XSD.String,{name:"NormalizedString",typeName:i.Schema.XSD.qname("normalizedString"),CLASS_NAME:"Jsonix.Schema.XSD.NormalizedString"}),i.Schema.XSD.NormalizedString.INSTANCE=new i.Schema.XSD.NormalizedString,i.Schema.XSD.NormalizedString.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.NormalizedString.INSTANCE),i.Schema.XSD.Token=i.Class(i.Schema.XSD.NormalizedString,{name:"Token",typeName:i.Schema.XSD.qname("token"),CLASS_NAME:"Jsonix.Schema.XSD.Token"}),i.Schema.XSD.Token.INSTANCE=new i.Schema.XSD.Token,i.Schema.XSD.Token.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.Token.INSTANCE),i.Schema.XSD.Language=i.Class(i.Schema.XSD.Token,{name:"Language",typeName:i.Schema.XSD.qname("language"),CLASS_NAME:"Jsonix.Schema.XSD.Language"}),i.Schema.XSD.Language.INSTANCE=new i.Schema.XSD.Language,i.Schema.XSD.Language.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.Language.INSTANCE),i.Schema.XSD.Name=i.Class(i.Schema.XSD.Token,{name:"Name",typeName:i.Schema.XSD.qname("Name"),CLASS_NAME:"Jsonix.Schema.XSD.Name"}),i.Schema.XSD.Name.INSTANCE=new i.Schema.XSD.Name,i.Schema.XSD.Name.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.Name.INSTANCE),i.Schema.XSD.NCName=i.Class(i.Schema.XSD.Name,{name:"NCName",typeName:i.Schema.XSD.qname("NCName"),CLASS_NAME:"Jsonix.Schema.XSD.NCName"}),i.Schema.XSD.NCName.INSTANCE=new i.Schema.XSD.NCName,i.Schema.XSD.NCName.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.NCName.INSTANCE),i.Schema.XSD.NMToken=i.Class(i.Schema.XSD.Token,{name:"NMToken",typeName:i.Schema.XSD.qname("NMTOKEN"),CLASS_NAME:"Jsonix.Schema.XSD.NMToken"}),i.Schema.XSD.NMToken.INSTANCE=new i.Schema.XSD.NMToken,i.Schema.XSD.NMTokens=i.Class(i.Schema.XSD.List,{name:"NMTokens",initialize:function(){i.Schema.XSD.List.prototype.initialize.apply(this,[i.Schema.XSD.NMToken.INSTANCE,i.Schema.XSD.qname("NMTOKEN")," "])},CLASS_NAME:"Jsonix.Schema.XSD.NMTokens"}),i.Schema.XSD.NMTokens.INSTANCE=new i.Schema.XSD.NMTokens,i.Schema.XSD.Boolean=i.Class(i.Schema.XSD.AnySimpleType,{name:"Boolean",typeName:i.Schema.XSD.qname("boolean"),print:function(t,e,n,r){return i.Util.Ensure.ensureBoolean(t),t?"true":"false"},parse:function(t,e,n,r){if(i.Util.Ensure.ensureString(t),"true"===t||"1"===t)return!0;if("false"===t||"0"===t)return!1;throw new Error("Either [true], [1], [0] or [false] expected as boolean value.")},isInstance:function(t,e,n){return i.Util.Type.isBoolean(t)},CLASS_NAME:"Jsonix.Schema.XSD.Boolean"}),i.Schema.XSD.Boolean.INSTANCE=new i.Schema.XSD.Boolean,i.Schema.XSD.Boolean.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.Boolean.INSTANCE),i.Schema.XSD.Base64Binary=i.Class(i.Schema.XSD.AnySimpleType,{name:"Base64Binary",typeName:i.Schema.XSD.qname("base64Binary"),charToByte:{},byteToChar:[],initialize:function(){i.Schema.XSD.AnySimpleType.prototype.initialize.apply(this);for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e=0;e<t.length;e++){var n=t.charAt(e);t.charCodeAt(e),this.byteToChar[e]=n,this.charToByte[n]=e}},print:function(t,e,n,r){return i.Util.Ensure.ensureArray(t),this.encode(t)},parse:function(t,e,n,r){return i.Util.Ensure.ensureString(t),this.decode(t)},encode:function(t){var e,n,i,r,s,o,a="",l=0,c=t.length;for(l=0;l<c;l+=3)e=255&t[l],l+1<c?(r=this.byteToChar[(3&e)<<4|(n=255&t[l+1])>>4],l+2<c?(s=this.byteToChar[(15&n)<<2|(i=255&t[l+2])>>6],o=this.byteToChar[63&i]):(s=this.byteToChar[(15&n)<<2],o="=")):(r=this.byteToChar[(3&e)<<4],s="=",o="="),a=a+this.byteToChar[e>>2]+r+s+o;return a},decode:function(t){input=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");var e=Math.floor(input.length/4*3);"="===input.charAt(input.length-1)&&e--,"="===input.charAt(input.length-2)&&e--;var n,i,r,s,o,a,l=new Array(e),c=0,h=0;for(c=0;c<e;c+=3)r=this.charToByte[input.charAt(h++)],n=(15&(s=this.charToByte[input.charAt(h++)]))<<4|(o=this.charToByte[input.charAt(h++)])>>2,i=(3&o)<<6|(a=this.charToByte[input.charAt(h++)]),l[c]=r<<2|s>>4,64!=o&&(l[c+1]=n),64!=a&&(l[c+2]=i);return l},isInstance:function(t,e,n){return i.Util.Type.isArray(t)},CLASS_NAME:"Jsonix.Schema.XSD.Base64Binary"}),i.Schema.XSD.Base64Binary.INSTANCE=new i.Schema.XSD.Base64Binary,i.Schema.XSD.Base64Binary.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.Base64Binary.INSTANCE),i.Schema.XSD.HexBinary=i.Class(i.Schema.XSD.AnySimpleType,{name:"HexBinary",typeName:i.Schema.XSD.qname("hexBinary"),charToQuartet:{},byteToDuplet:[],initialize:function(){i.Schema.XSD.AnySimpleType.prototype.initialize.apply(this);var t,e="0123456789ABCDEF".toLowerCase();for(t=0;t<16;t++)this.charToQuartet["0123456789ABCDEF".charAt(t)]=t,t>=10&&(this.charToQuartet[e.charAt(t)]=t);for(t=0;t<256;t++)this.byteToDuplet[t]="0123456789ABCDEF"[t>>4]+"0123456789ABCDEF"[15&t]},print:function(t,e,n,r){return i.Util.Ensure.ensureArray(t),this.encode(t)},parse:function(t,e,n,r){return i.Util.Ensure.ensureString(t),this.decode(t)},encode:function(t){for(var e="",n=0;n<t.length;n++)e+=this.byteToDuplet[255&t[n]];return e},decode:function(t){for(var e=t.replace(/[^A-Fa-f0-9]/g,""),n=e.length>>1,i=new Array(n),r=0;r<n;r++){var s=e.charAt(2*r),o=e.charAt(2*r+1);i[r]=this.charToQuartet[s]<<4|this.charToQuartet[o]}return i},isInstance:function(t,e,n){return i.Util.Type.isArray(t)},CLASS_NAME:"Jsonix.Schema.XSD.HexBinary"}),i.Schema.XSD.HexBinary.INSTANCE=new i.Schema.XSD.HexBinary,i.Schema.XSD.HexBinary.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.HexBinary.INSTANCE),i.Schema.XSD.Number=i.Class(i.Schema.XSD.AnySimpleType,{name:"Number",typeName:i.Schema.XSD.qname("number"),print:function(t,e,n,r){return i.Util.Ensure.ensureNumberOrNaN(t),i.Util.Type.isNaN(t)?"NaN":t===1/0?"INF":t===-1/0?"-INF":String(t)},parse:function(t,e,n,r){if(i.Util.Ensure.ensureString(t),"-INF"===t)return-1/0;if("INF"===t)return 1/0;if("NaN"===t)return NaN;var s=Number(t);return i.Util.Ensure.ensureNumber(s),s},isInstance:function(t,e,n){return i.Util.Type.isNumberOrNaN(t)},CLASS_NAME:"Jsonix.Schema.XSD.Number"}),i.Schema.XSD.Number.INSTANCE=new i.Schema.XSD.Number,i.Schema.XSD.Number.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.Number.INSTANCE),i.Schema.XSD.Float=i.Class(i.Schema.XSD.Number,{name:"Float",typeName:i.Schema.XSD.qname("float"),isInstance:function(t,e,n){return i.Util.Type.isNaN(t)||t===-1/0||t===1/0||i.Util.Type.isNumber(t)&&t>=this.MIN_VALUE&&t<=this.MAX_VALUE},MIN_VALUE:-34028235e31,MAX_VALUE:34028235e31,CLASS_NAME:"Jsonix.Schema.XSD.Float"}),i.Schema.XSD.Float.INSTANCE=new i.Schema.XSD.Float,i.Schema.XSD.Float.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.Float.INSTANCE),i.Schema.XSD.Decimal=i.Class(i.Schema.XSD.AnySimpleType,{name:"Decimal",typeName:i.Schema.XSD.qname("decimal"),print:function(t,e,n,r){return i.Util.Ensure.ensureNumber(t),String(t)},parse:function(t,e,n,r){i.Util.Ensure.ensureString(t);var s=Number(t);return i.Util.Ensure.ensureNumber(s),s},isInstance:function(t,e,n){return i.Util.Type.isNumber(t)},CLASS_NAME:"Jsonix.Schema.XSD.Decimal"}),i.Schema.XSD.Decimal.INSTANCE=new i.Schema.XSD.Decimal,i.Schema.XSD.Decimal.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.Decimal.INSTANCE),i.Schema.XSD.Integer=i.Class(i.Schema.XSD.AnySimpleType,{name:"Integer",typeName:i.Schema.XSD.qname("integer"),print:function(t,e,n,r){return i.Util.Ensure.ensureInteger(t),String(t)},parse:function(t,e,n,r){i.Util.Ensure.ensureString(t);var s=Number(t);return i.Util.Ensure.ensureInteger(s),s},isInstance:function(t,e,n){return i.Util.NumberUtils.isInteger(t)&&t>=this.MIN_VALUE&&t<=this.MAX_VALUE},MIN_VALUE:-0x8000000000000000,MAX_VALUE:0x8000000000000000,CLASS_NAME:"Jsonix.Schema.XSD.Integer"}),i.Schema.XSD.Integer.INSTANCE=new i.Schema.XSD.Integer,i.Schema.XSD.Integer.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.Integer.INSTANCE),i.Schema.XSD.NonPositiveInteger=i.Class(i.Schema.XSD.Integer,{name:"NonPositiveInteger",typeName:i.Schema.XSD.qname("nonPositiveInteger"),MIN_VALUE:-0x8000000000000000,MAX_VALUE:0,CLASS_NAME:"Jsonix.Schema.XSD.NonPositiveInteger"}),i.Schema.XSD.NonPositiveInteger.INSTANCE=new i.Schema.XSD.NonPositiveInteger,i.Schema.XSD.NonPositiveInteger.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.NonPositiveInteger.INSTANCE),i.Schema.XSD.NegativeInteger=i.Class(i.Schema.XSD.NonPositiveInteger,{name:"NegativeInteger",typeName:i.Schema.XSD.qname("negativeInteger"),MIN_VALUE:-0x8000000000000000,MAX_VALUE:-1,CLASS_NAME:"Jsonix.Schema.XSD.NegativeInteger"}),i.Schema.XSD.NegativeInteger.INSTANCE=new i.Schema.XSD.NegativeInteger,i.Schema.XSD.NegativeInteger.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.NegativeInteger.INSTANCE),i.Schema.XSD.Long=i.Class(i.Schema.XSD.Integer,{name:"Long",typeName:i.Schema.XSD.qname("long"),MIN_VALUE:-0x8000000000000000,MAX_VALUE:0x8000000000000000,CLASS_NAME:"Jsonix.Schema.XSD.Long"}),i.Schema.XSD.Long.INSTANCE=new i.Schema.XSD.Long,i.Schema.XSD.Long.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.Long.INSTANCE),i.Schema.XSD.Int=i.Class(i.Schema.XSD.Long,{name:"Int",typeName:i.Schema.XSD.qname("int"),MIN_VALUE:-2147483648,MAX_VALUE:2147483647,CLASS_NAME:"Jsonix.Schema.XSD.Int"}),i.Schema.XSD.Int.INSTANCE=new i.Schema.XSD.Int,i.Schema.XSD.Int.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.Int.INSTANCE),i.Schema.XSD.Short=i.Class(i.Schema.XSD.Int,{name:"Short",typeName:i.Schema.XSD.qname("short"),MIN_VALUE:-32768,MAX_VALUE:32767,CLASS_NAME:"Jsonix.Schema.XSD.Short"}),i.Schema.XSD.Short.INSTANCE=new i.Schema.XSD.Short,i.Schema.XSD.Short.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.Short.INSTANCE),i.Schema.XSD.Byte=i.Class(i.Schema.XSD.Short,{name:"Byte",typeName:i.Schema.XSD.qname("byte"),MIN_VALUE:-128,MAX_VALUE:127,CLASS_NAME:"Jsonix.Schema.XSD.Byte"}),i.Schema.XSD.Byte.INSTANCE=new i.Schema.XSD.Byte,i.Schema.XSD.Byte.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.Byte.INSTANCE),i.Schema.XSD.NonNegativeInteger=i.Class(i.Schema.XSD.Integer,{name:"NonNegativeInteger",typeName:i.Schema.XSD.qname("nonNegativeInteger"),MIN_VALUE:0,MAX_VALUE:0x8000000000000000,CLASS_NAME:"Jsonix.Schema.XSD.NonNegativeInteger"}),i.Schema.XSD.NonNegativeInteger.INSTANCE=new i.Schema.XSD.NonNegativeInteger,i.Schema.XSD.NonNegativeInteger.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.NonNegativeInteger.INSTANCE),i.Schema.XSD.UnsignedLong=i.Class(i.Schema.XSD.NonNegativeInteger,{name:"UnsignedLong",typeName:i.Schema.XSD.qname("unsignedLong"),MIN_VALUE:0,MAX_VALUE:0x10000000000000000,CLASS_NAME:"Jsonix.Schema.XSD.UnsignedLong"}),i.Schema.XSD.UnsignedLong.INSTANCE=new i.Schema.XSD.UnsignedLong,i.Schema.XSD.UnsignedLong.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.UnsignedLong.INSTANCE),i.Schema.XSD.UnsignedInt=i.Class(i.Schema.XSD.UnsignedLong,{name:"UnsignedInt",typeName:i.Schema.XSD.qname("unsignedInt"),MIN_VALUE:0,MAX_VALUE:4294967295,CLASS_NAME:"Jsonix.Schema.XSD.UnsignedInt"}),i.Schema.XSD.UnsignedInt.INSTANCE=new i.Schema.XSD.UnsignedInt,i.Schema.XSD.UnsignedInt.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.UnsignedInt.INSTANCE),i.Schema.XSD.UnsignedShort=i.Class(i.Schema.XSD.UnsignedInt,{name:"UnsignedShort",typeName:i.Schema.XSD.qname("unsignedShort"),MIN_VALUE:0,MAX_VALUE:65535,CLASS_NAME:"Jsonix.Schema.XSD.UnsignedShort"}),i.Schema.XSD.UnsignedShort.INSTANCE=new i.Schema.XSD.UnsignedShort,i.Schema.XSD.UnsignedShort.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.UnsignedShort.INSTANCE),i.Schema.XSD.UnsignedByte=i.Class(i.Schema.XSD.UnsignedShort,{name:"UnsignedByte",typeName:i.Schema.XSD.qname("unsignedByte"),MIN_VALUE:0,MAX_VALUE:255,CLASS_NAME:"Jsonix.Schema.XSD.UnsignedByte"}),i.Schema.XSD.UnsignedByte.INSTANCE=new i.Schema.XSD.UnsignedByte,i.Schema.XSD.UnsignedByte.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.UnsignedByte.INSTANCE),i.Schema.XSD.PositiveInteger=i.Class(i.Schema.XSD.NonNegativeInteger,{name:"PositiveInteger",typeName:i.Schema.XSD.qname("positiveInteger"),MIN_VALUE:1,MAX_VALUE:0x8000000000000000,CLASS_NAME:"Jsonix.Schema.XSD.PositiveInteger"}),i.Schema.XSD.PositiveInteger.INSTANCE=new i.Schema.XSD.PositiveInteger,i.Schema.XSD.PositiveInteger.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.PositiveInteger.INSTANCE),i.Schema.XSD.Double=i.Class(i.Schema.XSD.Number,{name:"Double",typeName:i.Schema.XSD.qname("double"),isInstance:function(t,e,n){return i.Util.Type.isNaN(t)||t===-1/0||t===1/0||i.Util.Type.isNumber(t)&&t>=this.MIN_VALUE&&t<=this.MAX_VALUE},MIN_VALUE:-17976931348623157e292,MAX_VALUE:17976931348623157e292,CLASS_NAME:"Jsonix.Schema.XSD.Double"}),i.Schema.XSD.Double.INSTANCE=new i.Schema.XSD.Double,i.Schema.XSD.Double.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.Double.INSTANCE),i.Schema.XSD.AnyURI=i.Class(i.Schema.XSD.AnySimpleType,{name:"AnyURI",typeName:i.Schema.XSD.qname("anyURI"),print:function(t,e,n,r){return i.Util.Ensure.ensureString(t),t},parse:function(t,e,n,r){return i.Util.Ensure.ensureString(t),t},isInstance:function(t,e,n){return i.Util.Type.isString(t)},CLASS_NAME:"Jsonix.Schema.XSD.AnyURI"}),i.Schema.XSD.AnyURI.INSTANCE=new i.Schema.XSD.AnyURI,i.Schema.XSD.AnyURI.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.AnyURI.INSTANCE),i.Schema.XSD.QName=i.Class(i.Schema.XSD.AnySimpleType,{name:"QName",typeName:i.Schema.XSD.qname("QName"),print:function(t,e,n,r){var s,o=i.XML.QName.fromObject(t),a=o.localPart;return n?(s=n.getPrefix(o.namespaceURI,o.prefix||null),n.declareNamespace(o.namespaceURI,s)):s=o.prefix,s?s+":"+a:a},parse:function(t,e,n,r){var s,o;i.Util.Ensure.ensureString(t);var a=(t=i.Util.StringUtils.trim(t)).indexOf(":");if(-1===a)s="",o=t;else{if(!(a>0&&a<t.length-1))throw new Error("Invalid QName ["+t+"].");s=t.substring(0,a),o=t.substring(a+1)}var l=n||e||null;if(l){var c=l.getNamespaceURI(s);if(i.Util.Type.isString(c))return new i.XML.QName(c,o,s);throw new Error("Prefix ["+s+"] of the QName ["+t+"] is not bound in this context.")}return t},isInstance:function(t,e,n){return t instanceof i.XML.QName||i.Util.Type.isObject(t)&&i.Util.Type.isString(t.localPart||t.lp)},CLASS_NAME:"Jsonix.Schema.XSD.QName"}),i.Schema.XSD.QName.INSTANCE=new i.Schema.XSD.QName,i.Schema.XSD.QName.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.QName.INSTANCE),i.Schema.XSD.Calendar=i.Class(i.Schema.XSD.AnySimpleType,{name:"Calendar",typeName:i.Schema.XSD.qname("calendar"),parse:function(t,e,n,r){if(i.Util.Ensure.ensureString(t),t.match(new RegExp("^"+i.Schema.XSD.Calendar.DATETIME_PATTERN+"$")))return this.parseDateTime(t,e,n,r);if(t.match(new RegExp("^"+i.Schema.XSD.Calendar.DATE_PATTERN+"$")))return this.parseDate(t,e,n,r);if(t.match(new RegExp("^"+i.Schema.XSD.Calendar.TIME_PATTERN+"$")))return this.parseTime(t,e,n,r);if(t.match(new RegExp("^"+i.Schema.XSD.Calendar.GYEAR_MONTH_PATTERN+"$")))return this.parseGYearMonth(t,e,n,r);if(t.match(new RegExp("^"+i.Schema.XSD.Calendar.GYEAR_PATTERN+"$")))return this.parseGYear(t,e,n,r);if(t.match(new RegExp("^"+i.Schema.XSD.Calendar.GMONTH_DAY_PATTERN+"$")))return this.parseGMonthDay(t,e,n,r);if(t.match(new RegExp("^"+i.Schema.XSD.Calendar.GMONTH_PATTERN+"$")))return this.parseGMonth(t,e,n,r);if(t.match(new RegExp("^"+i.Schema.XSD.Calendar.GDAY_PATTERN+"$")))return this.parseGDay(t,e,n,r);throw new Error("Value ["+t+"] does not match xs:dateTime, xs:date, xs:time, xs:gYearMonth, xs:gYear, xs:gMonthDay, xs:gMonth or xs:gDay patterns.")},parseGYearMonth:function(t,e,n,r){var s=new RegExp("^"+i.Schema.XSD.Calendar.GYEAR_MONTH_PATTERN+"$"),o=t.match(s);if(null!==o){var a={year:parseInt(o[1],10),month:parseInt(o[5],10),timezone:this.parseTimezoneString(o[7])};return new i.XML.Calendar(a)}throw new Error("Value ["+t+"] does not match the xs:gYearMonth pattern.")},parseGYear:function(t,e,n,r){var s=new RegExp("^"+i.Schema.XSD.Calendar.GYEAR_PATTERN+"$"),o=t.match(s);if(null!==o){var a={year:parseInt(o[1],10),timezone:this.parseTimezoneString(o[5])};return new i.XML.Calendar(a)}throw new Error("Value ["+t+"] does not match the xs:gYear pattern.")},parseGMonthDay:function(t,e,n,r){var s=new RegExp("^"+i.Schema.XSD.Calendar.GMONTH_DAY_PATTERN+"$"),o=t.match(s);if(null!==o){var a={month:parseInt(o[2],10),day:parseInt(o[3],10),timezone:this.parseTimezoneString(o[5])};return new i.XML.Calendar(a)}throw new Error("Value ["+t+"] does not match the xs:gMonthDay pattern.")},parseGMonth:function(t,e,n,r){var s=new RegExp("^"+i.Schema.XSD.Calendar.GMONTH_PATTERN+"$"),o=t.match(s);if(null!==o){var a={month:parseInt(o[2],10),timezone:this.parseTimezoneString(o[3])};return new i.XML.Calendar(a)}throw new Error("Value ["+t+"] does not match the xs:gMonth pattern.")},parseGDay:function(t,e,n,r){var s=new RegExp("^"+i.Schema.XSD.Calendar.GDAY_PATTERN+"$"),o=t.match(s);if(null!==o){var a={day:parseInt(o[2],10),timezone:this.parseTimezoneString(o[3])};return new i.XML.Calendar(a)}throw new Error("Value ["+t+"] does not match the xs:gDay pattern.")},parseDateTime:function(t,e,n,r){i.Util.Ensure.ensureString(t);var s=new RegExp("^"+i.Schema.XSD.Calendar.DATETIME_PATTERN+"$"),o=t.match(s);if(null!==o){var a={year:parseInt(o[1],10),month:parseInt(o[5],10),day:parseInt(o[7],10),hour:parseInt(o[9],10),minute:parseInt(o[10],10),second:parseInt(o[11],10),fractionalSecond:o[12]?parseFloat(o[12]):0,timezone:this.parseTimezoneString(o[14])};return new i.XML.Calendar(a)}throw new Error("Value ["+t+"] does not match the xs:date pattern.")},parseDate:function(t,e,n,r){i.Util.Ensure.ensureString(t);var s=new RegExp("^"+i.Schema.XSD.Calendar.DATE_PATTERN+"$"),o=t.match(s);if(null!==o){var a={year:parseInt(o[1],10),month:parseInt(o[5],10),day:parseInt(o[7],10),timezone:this.parseTimezoneString(o[9])};return new i.XML.Calendar(a)}throw new Error("Value ["+t+"] does not match the xs:date pattern.")},parseTime:function(t,e,n,r){i.Util.Ensure.ensureString(t);var s=new RegExp("^"+i.Schema.XSD.Calendar.TIME_PATTERN+"$"),o=t.match(s);if(null!==o){var a={hour:parseInt(o[1],10),minute:parseInt(o[2],10),second:parseInt(o[3],10),fractionalSecond:o[4]?parseFloat(o[4]):0,timezone:this.parseTimezoneString(o[6])};return new i.XML.Calendar(a)}throw new Error("Value ["+t+"] does not match the xs:time pattern.")},parseTimezoneString:function(t){if(i.Util.Type.isString(t)){if(""===t)return NaN;if("Z"===t)return 0;if("+14:00"===t)return 840;if("-14:00"===t)return-840;var e=new RegExp("^"+i.Schema.XSD.Calendar.TIMEZONE_PATTERN+"$"),n=t.match(e);if(null!==n)return("+"===n[1]?1:-1)*(60*parseInt(n[4],10)+parseInt(n[5],10));throw new Error("Value ["+t+"] does not match the timezone pattern.")}return NaN},print:function(t,e,n,r){if(i.Util.Ensure.ensureObject(t),i.Util.NumberUtils.isInteger(t.year)&&i.Util.NumberUtils.isInteger(t.month)&&i.Util.NumberUtils.isInteger(t.day)&&i.Util.NumberUtils.isInteger(t.hour)&&i.Util.NumberUtils.isInteger(t.minute)&&i.Util.NumberUtils.isInteger(t.second))return this.printDateTime(t);if(i.Util.NumberUtils.isInteger(t.year)&&i.Util.NumberUtils.isInteger(t.month)&&i.Util.NumberUtils.isInteger(t.day))return this.printDate(t);if(i.Util.NumberUtils.isInteger(t.hour)&&i.Util.NumberUtils.isInteger(t.minute)&&i.Util.NumberUtils.isInteger(t.second))return this.printTime(t);if(i.Util.NumberUtils.isInteger(t.year)&&i.Util.NumberUtils.isInteger(t.month))return this.printGYearMonth(t);if(i.Util.NumberUtils.isInteger(t.month)&&i.Util.NumberUtils.isInteger(t.day))return this.printGMonthDay(t);if(i.Util.NumberUtils.isInteger(t.year))return this.printGYear(t);if(i.Util.NumberUtils.isInteger(t.month))return this.printGMonth(t);if(i.Util.NumberUtils.isInteger(t.day))return this.printGDay(t);throw new Error("Value ["+t+"] is not recognized as dateTime, date or time.")},printDateTime:function(t){i.Util.Ensure.ensureObject(t),i.Util.Ensure.ensureInteger(t.year),i.Util.Ensure.ensureInteger(t.month),i.Util.Ensure.ensureInteger(t.day),i.Util.Ensure.ensureInteger(t.hour),i.Util.Ensure.ensureInteger(t.minute),i.Util.Ensure.ensureNumber(t.second),i.Util.Type.exists(t.fractionalString)&&i.Util.Ensure.ensureNumber(t.fractionalString),i.Util.Type.exists(t.timezone)&&!i.Util.Type.isNaN(t.timezone)&&i.Util.Ensure.ensureInteger(t.timezone);var e=this.printDateString(t);return e+="T",e+=this.printTimeString(t),i.Util.Type.exists(t.timezone)&&(e+=this.printTimezoneString(t.timezone)),e},printDate:function(t){i.Util.Ensure.ensureObject(t),i.Util.Ensure.ensureNumber(t.year),i.Util.Ensure.ensureNumber(t.month),i.Util.Ensure.ensureNumber(t.day),i.Util.Type.exists(t.timezone)&&!i.Util.Type.isNaN(t.timezone)&&i.Util.Ensure.ensureInteger(t.timezone);var e=this.printDateString(t);return i.Util.Type.exists(t.timezone)&&(e+=this.printTimezoneString(t.timezone)),e},printTime:function(t){i.Util.Ensure.ensureObject(t),i.Util.Ensure.ensureNumber(t.hour),i.Util.Ensure.ensureNumber(t.minute),i.Util.Ensure.ensureNumber(t.second),i.Util.Type.exists(t.fractionalString)&&i.Util.Ensure.ensureNumber(t.fractionalString),i.Util.Type.exists(t.timezone)&&!i.Util.Type.isNaN(t.timezone)&&i.Util.Ensure.ensureInteger(t.timezone);var e=this.printTimeString(t);return i.Util.Type.exists(t.timezone)&&(e+=this.printTimezoneString(t.timezone)),e},printDateString:function(t){return i.Util.Ensure.ensureObject(t),i.Util.Ensure.ensureInteger(t.year),i.Util.Ensure.ensureInteger(t.month),i.Util.Ensure.ensureInteger(t.day),(t.year<0?"-"+this.printYear(-t.year):this.printYear(t.year))+"-"+this.printMonth(t.month)+"-"+this.printDay(t.day)},printTimeString:function(t){i.Util.Ensure.ensureObject(t),i.Util.Ensure.ensureInteger(t.hour),i.Util.Ensure.ensureInteger(t.minute),i.Util.Ensure.ensureInteger(t.second),i.Util.Type.exists(t.fractionalSecond)&&i.Util.Ensure.ensureNumber(t.fractionalSecond);var e=this.printHour(t.hour);return e+=":",e+=this.printMinute(t.minute),e+=":",e+=this.printSecond(t.second),i.Util.Type.exists(t.fractionalSecond)&&(e+=this.printFractionalSecond(t.fractionalSecond)),e},printTimezoneString:function(t){if(!i.Util.Type.exists(t)||i.Util.Type.isNaN(t))return"";i.Util.Ensure.ensureInteger(t);var e,n=t<0?-1:t>0?1:0,r=t*n,s=r%60,o=Math.floor(r/60);return 0===n?"Z":(n>0?e="+":n<0&&(e="-"),e+=this.printHour(o),e+=":",e+=this.printMinute(s))},printGDay:function(t,e,n,r){i.Util.Ensure.ensureObject(t);var s=void 0,o=void 0;return t instanceof Date?s=t.getDate():(i.Util.Ensure.ensureInteger(t.day),s=t.day,o=t.timezone),i.XML.Calendar.validateDay(s),i.XML.Calendar.validateTimezone(o),"---"+this.printDay(s)+this.printTimezoneString(o)},printGMonth:function(t,e,n,r){i.Util.Ensure.ensureObject(t);var s=void 0,o=void 0;return t instanceof Date?s=t.getMonth()+1:(i.Util.Ensure.ensureInteger(t.month),s=t.month,o=t.timezone),i.XML.Calendar.validateMonth(s),i.XML.Calendar.validateTimezone(o),"--"+this.printMonth(s)+this.printTimezoneString(o)},printGMonthDay:function(t,e,n,r){i.Util.Ensure.ensureObject(t);var s=void 0,o=void 0,a=void 0;return t instanceof Date?(s=t.getMonth()+1,o=t.getDate()):(i.Util.Ensure.ensureInteger(t.month),i.Util.Ensure.ensureInteger(t.day),s=t.month,o=t.day,a=t.timezone),i.XML.Calendar.validateMonthDay(s,o),i.XML.Calendar.validateTimezone(a),"--"+this.printMonth(s)+"-"+this.printDay(o)+this.printTimezoneString(a)},printGYear:function(t,e,n,r){i.Util.Ensure.ensureObject(t);var s=void 0,o=void 0;return t instanceof Date?s=t.getFullYear():(i.Util.Ensure.ensureInteger(t.year),s=t.year,o=t.timezone),i.XML.Calendar.validateYear(s),i.XML.Calendar.validateTimezone(o),this.printSignedYear(s)+this.printTimezoneString(o)},printGYearMonth:function(t,e,n,r){i.Util.Ensure.ensureObject(t);var s=void 0,o=void 0,a=void 0;return t instanceof Date?(s=t.getFullYear(),o=t.getMonth()+1):(i.Util.Ensure.ensureInteger(t.year),s=t.year,o=t.month,a=t.timezone),i.XML.Calendar.validateYear(s),i.XML.Calendar.validateMonth(o),i.XML.Calendar.validateTimezone(a),this.printSignedYear(s)+"-"+this.printMonth(o)+this.printTimezoneString(a)},printSignedYear:function(t){return t<0?"-"+this.printYear(-1*t):this.printYear(t)},printYear:function(t){return this.printInteger(t,4)},printMonth:function(t){return this.printInteger(t,2)},printDay:function(t){return this.printInteger(t,2)},printHour:function(t){return this.printInteger(t,2)},printMinute:function(t){return this.printInteger(t,2)},printSecond:function(t){return this.printInteger(t,2)},printFractionalSecond:function(t){if(i.Util.Ensure.ensureNumber(t),t<0||t>=1)throw new Error("Fractional second ["+t+"] must be between 0 and 1.");if(0===t)return"";var e=String(t),n=e.indexOf(".");return n<0?"":e.substring(n)},printInteger:function(t,e){if(i.Util.Ensure.ensureInteger(t),i.Util.Ensure.ensureInteger(e),e<=0)throw new Error("Length ["+t+"] must be positive.");if(t<0)throw new Error("Value ["+t+"] must not be negative.");for(var n=String(t),r=n.length;r<e;r++)n="0"+n;return n},isInstance:function(t,e,n){return i.Util.Type.isObject(t)&&(i.Util.NumberUtils.isInteger(t.year)&&i.Util.NumberUtils.isInteger(t.month)&&i.Util.NumberUtils.isInteger(t.day)||i.Util.NumberUtils.isInteger(t.hour)&&i.Util.NumberUtils.isInteger(t.minute)&&i.Util.NumberUtils.isInteger(t.second))},CLASS_NAME:"Jsonix.Schema.XSD.Calendar"}),i.Schema.XSD.Calendar.YEAR_PATTERN="-?([1-9][0-9]*)?((?!(0000))[0-9]{4})",i.Schema.XSD.Calendar.TIMEZONE_PATTERN="Z|([\\-\\+])(((0[0-9]|1[0-3]):([0-5][0-9]))|(14:00))",i.Schema.XSD.Calendar.MONTH_PATTERN="(0[1-9]|1[0-2])",i.Schema.XSD.Calendar.SINGLE_MONTH_PATTERN="\\-\\-"+i.Schema.XSD.Calendar.MONTH_PATTERN,i.Schema.XSD.Calendar.DAY_PATTERN="(0[1-9]|[12][0-9]|3[01])",i.Schema.XSD.Calendar.SINGLE_DAY_PATTERN="\\-\\-\\-"+i.Schema.XSD.Calendar.DAY_PATTERN,i.Schema.XSD.Calendar.GYEAR_PATTERN="("+i.Schema.XSD.Calendar.YEAR_PATTERN+")("+i.Schema.XSD.Calendar.TIMEZONE_PATTERN+")?",i.Schema.XSD.Calendar.GMONTH_PATTERN="("+i.Schema.XSD.Calendar.SINGLE_MONTH_PATTERN+")("+i.Schema.XSD.Calendar.TIMEZONE_PATTERN+")?",i.Schema.XSD.Calendar.GDAY_PATTERN="("+i.Schema.XSD.Calendar.SINGLE_DAY_PATTERN+")("+i.Schema.XSD.Calendar.TIMEZONE_PATTERN+")?",i.Schema.XSD.Calendar.GYEAR_MONTH_PATTERN="("+i.Schema.XSD.Calendar.YEAR_PATTERN+")-("+i.Schema.XSD.Calendar.DAY_PATTERN+")("+i.Schema.XSD.Calendar.TIMEZONE_PATTERN+")?",i.Schema.XSD.Calendar.GMONTH_DAY_PATTERN="("+i.Schema.XSD.Calendar.SINGLE_MONTH_PATTERN+")-("+i.Schema.XSD.Calendar.DAY_PATTERN+")("+i.Schema.XSD.Calendar.TIMEZONE_PATTERN+")?",i.Schema.XSD.Calendar.DATE_PART_PATTERN="("+i.Schema.XSD.Calendar.YEAR_PATTERN+")-("+i.Schema.XSD.Calendar.MONTH_PATTERN+")-("+i.Schema.XSD.Calendar.DAY_PATTERN+")",i.Schema.XSD.Calendar.TIME_PART_PATTERN="([0-1][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])(\\.([0-9]+))?",i.Schema.XSD.Calendar.TIME_PATTERN=i.Schema.XSD.Calendar.TIME_PART_PATTERN+"("+i.Schema.XSD.Calendar.TIMEZONE_PATTERN+")?",i.Schema.XSD.Calendar.DATE_PATTERN=i.Schema.XSD.Calendar.DATE_PART_PATTERN+"("+i.Schema.XSD.Calendar.TIMEZONE_PATTERN+")?",i.Schema.XSD.Calendar.DATETIME_PATTERN=i.Schema.XSD.Calendar.DATE_PART_PATTERN+"T"+i.Schema.XSD.Calendar.TIME_PART_PATTERN+"("+i.Schema.XSD.Calendar.TIMEZONE_PATTERN+")?",i.Schema.XSD.Calendar.INSTANCE=new i.Schema.XSD.Calendar,i.Schema.XSD.Calendar.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.Calendar.INSTANCE),i.Schema.XSD.Duration=i.Class(i.Schema.XSD.AnySimpleType,{name:"Duration",typeName:i.Schema.XSD.qname("duration"),isInstance:function(t,e,n){return i.Util.Type.isObject(t)&&((!i.Util.Type.exists(t.sign)||-1===t.sign||1===t.sign)(i.Util.NumberUtils.isInteger(t.years)&&t.years>=0)||i.Util.NumberUtils.isInteger(t.months)&&t.months>=0||i.Util.NumberUtils.isInteger(t.days)&&t.days>=0||i.Util.NumberUtils.isInteger(t.hours)&&t.hours>=0||i.Util.NumberUtils.isInteger(t.minutes)&&t.minutes>=0||i.Util.Type.isNumber(t.seconds)&&t.seconds>=0)},validate:function(t){if(i.Util.Ensure.ensureObject(t),i.Util.Type.exists(t.sign)&&1!==t.sign&&-1!==t.sign)throw new Error("Sign of the duration ["+t.sign+"] must be either [1] or [-1].");var e=!0,n=function(t,e){if(i.Util.Type.exists(t)){if(i.Util.NumberUtils.isInteger(t)&&t>=0)return!0;throw new Error(e.replace("{0}",t))}return!1};if(e=(e=(e=(e=(e=(e=e&&!n(t.years,"Number of years [{0}] must be an unsigned integer."))&&!n(t.months,"Number of months [{0}] must be an unsigned integer."))&&!n(t.days,"Number of days [{0}] must be an unsigned integer."))&&!n(t.hours,"Number of hours [{0}] must be an unsigned integer."))&&!n(t.minutes,"Number of minutes [{0}] must be an unsigned integer."))&&!function(t,e){if(i.Util.Type.exists(t)){if(i.Util.Type.isNumber(t)&&t>=0)return!0;throw new Error("Number of seconds [{0}] must be an unsigned number.".replace("{0}",t))}return!1}(t.seconds))throw new Error("At least one of the components (years, months, days, hours, minutes, seconds) must be set.")},print:function(t,e,n,r){this.validate(t);var s="";return-1===t.sign&&(s+="-"),s+="P",i.Util.Type.exists(t.years)&&(s+=t.years+"Y"),i.Util.Type.exists(t.months)&&(s+=t.months+"M"),i.Util.Type.exists(t.days)&&(s+=t.days+"D"),(i.Util.Type.exists(t.hours)||i.Util.Type.exists(t.minutes)||i.Util.Type.exists(t.seconds))&&(s+="T",i.Util.Type.exists(t.hours)&&(s+=t.hours+"H"),i.Util.Type.exists(t.minutes)&&(s+=t.minutes+"M"),i.Util.Type.exists(t.seconds)&&(s+=t.seconds+"S")),s},parse:function(t,e,n,r){var s=new RegExp("^"+i.Schema.XSD.Duration.PATTERN+"$"),o=t.match(s);if(null!==o){var a={};return o[1]&&(a.sign=-1),o[3]&&(a.years=parseInt(o[3],10)),o[5]&&(a.months=parseInt(o[5],10)),o[7]&&(a.days=parseInt(o[7],10)),o[10]&&(a.hours=parseInt(o[10],10)),o[12]&&(a.minutes=parseInt(o[12],10)),o[14]&&(a.seconds=Number(o[14])),a}throw new Error("Value ["+t+"] does not match the duration pattern.")},CLASS_NAME:"Jsonix.Schema.XSD.Duration"}),i.Schema.XSD.Duration.PATTERN="(-)?P(([0-9]+)Y)?(([0-9]+)M)?(([0-9]+)D)?(T(([0-9]+)H)?(([0-9]+)M)?(([0-9]+(\\.[0-9]+)?)S)?)?",i.Schema.XSD.Duration.INSTANCE=new i.Schema.XSD.Duration,i.Schema.XSD.Duration.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.Duration.INSTANCE),i.Schema.XSD.DateTime=i.Class(i.Schema.XSD.Calendar,{name:"DateTime",typeName:i.Schema.XSD.qname("dateTime"),parse:function(t,e,n,i){return this.parseDateTime(t)},print:function(t,e,n,i){return this.printDateTime(t)},CLASS_NAME:"Jsonix.Schema.XSD.DateTime"}),i.Schema.XSD.DateTime.INSTANCE=new i.Schema.XSD.DateTime,i.Schema.XSD.DateTime.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.DateTime.INSTANCE),i.Schema.XSD.DateTimeAsDate=i.Class(i.Schema.XSD.Calendar,{name:"DateTimeAsDate",typeName:i.Schema.XSD.qname("dateTime"),parse:function(t,e,n,r){var s,o,a=this.parseDateTime(t),l=new Date;l.setFullYear(a.year),l.setMonth(a.month-1),l.setDate(a.day),l.setHours(a.hour),l.setMinutes(a.minute),l.setSeconds(a.second),i.Util.Type.isNumber(a.fractionalSecond)&&l.setMilliseconds(Math.floor(1e3*a.fractionalSecond));var c=-l.getTimezoneOffset();i.Util.NumberUtils.isInteger(a.timezone)?(s=a.timezone,o=!1):(s=c,o=!0);var h=new Date(l.getTime()+6e4*(-s+c));return h.originalTimezone=o?null:a.timezone,h},print:function(t,e,n,r){var s;i.Util.Ensure.ensureDate(t);var o,a=-t.getTimezoneOffset();return null===t.originalTimezone?this.printDateTime(new i.XML.Calendar({year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate(),hour:t.getHours(),minute:t.getMinutes(),second:t.getSeconds(),fractionalSecond:t.getMilliseconds()/1e3})):(i.Util.NumberUtils.isInteger(t.originalTimezone)?(s=t.originalTimezone,o=new Date(t.getTime()-6e4*(-s+a))):(s=a,o=t),this.printDateTime(new i.XML.Calendar({year:o.getFullYear(),month:o.getMonth()+1,day:o.getDate(),hour:o.getHours(),minute:o.getMinutes(),second:o.getSeconds(),fractionalSecond:o.getMilliseconds()/1e3,timezone:s})))},isInstance:function(t,e,n){return i.Util.Type.isDate(t)},CLASS_NAME:"Jsonix.Schema.XSD.DateTimeAsDate"}),i.Schema.XSD.DateTimeAsDate.INSTANCE=new i.Schema.XSD.DateTimeAsDate,i.Schema.XSD.DateTimeAsDate.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.DateTimeAsDate.INSTANCE),i.Schema.XSD.Time=i.Class(i.Schema.XSD.Calendar,{name:"Time",typeName:i.Schema.XSD.qname("time"),parse:function(t,e,n,i){return this.parseTime(t)},print:function(t,e,n,i){return this.printTime(t)},CLASS_NAME:"Jsonix.Schema.XSD.Time"}),i.Schema.XSD.Time.INSTANCE=new i.Schema.XSD.Time,i.Schema.XSD.Time.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.Time.INSTANCE),i.Schema.XSD.TimeAsDate=i.Class(i.Schema.XSD.Calendar,{name:"TimeAsDate",typeName:i.Schema.XSD.qname("time"),parse:function(t,e,n,r){var s,o,a=this.parseTime(t),l=new Date;l.setFullYear(1970),l.setMonth(0),l.setDate(1),l.setHours(a.hour),l.setMinutes(a.minute),l.setSeconds(a.second),i.Util.Type.isNumber(a.fractionalSecond)&&l.setMilliseconds(Math.floor(1e3*a.fractionalSecond));var c=-l.getTimezoneOffset();i.Util.NumberUtils.isInteger(a.timezone)?(s=a.timezone,o=!1):(s=c,o=!0);var h=new Date(l.getTime()+6e4*(-s+c));return h.originalTimezone=o?null:s,h},print:function(t,e,n,r){i.Util.Ensure.ensureDate(t);var s=t.getTime();if(s<=-864e5&&s>=864e5)throw new Error("Invalid time ["+t+"].");if(null===t.originalTimezone)return this.printTime(new i.XML.Calendar({hour:t.getHours(),minute:t.getMinutes(),second:t.getSeconds(),fractionalSecond:t.getMilliseconds()/1e3}));var o,a,l=-t.getTimezoneOffset();i.Util.NumberUtils.isInteger(t.originalTimezone)?(a=t.originalTimezone,o=new Date(t.getTime()-6e4*(-a+l))):(a=l,o=t);var c=o.getTime();if(c>=6e4*-l)return this.printTime(new i.XML.Calendar({hour:o.getHours(),minute:o.getMinutes(),second:o.getSeconds(),fractionalSecond:o.getMilliseconds()/1e3,timezone:a}));var h=Math.ceil(-c/36e5),u=o.getSeconds()+60*o.getMinutes()+3600*o.getHours()+3600*h-60*a;return this.printTime(new i.XML.Calendar({hour:u%86400,minute:u%3600,second:u%60,fractionalSecond:o.getMilliseconds()/1e3,timezone:60*h}))},isInstance:function(t,e,n){return i.Util.Type.isDate(t)&&t.getTime()>-864e5&&t.getTime()<864e5},CLASS_NAME:"Jsonix.Schema.XSD.TimeAsDate"}),i.Schema.XSD.TimeAsDate.INSTANCE=new i.Schema.XSD.TimeAsDate,i.Schema.XSD.TimeAsDate.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.TimeAsDate.INSTANCE),i.Schema.XSD.Date=i.Class(i.Schema.XSD.Calendar,{name:"Date",typeName:i.Schema.XSD.qname("date"),parse:function(t,e,n,i){return this.parseDate(t)},print:function(t,e,n,i){return this.printDate(t)},CLASS_NAME:"Jsonix.Schema.XSD.Date"}),i.Schema.XSD.Date.INSTANCE=new i.Schema.XSD.Date,i.Schema.XSD.Date.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.Date.INSTANCE),i.Schema.XSD.DateAsDate=i.Class(i.Schema.XSD.Calendar,{name:"DateAsDate",typeName:i.Schema.XSD.qname("date"),parse:function(t,e,n,r){var s,o,a=this.parseDate(t),l=new Date;l.setFullYear(a.year),l.setMonth(a.month-1),l.setDate(a.day),l.setHours(0),l.setMinutes(0),l.setSeconds(0),l.setMilliseconds(0),i.Util.Type.isNumber(a.fractionalSecond)&&l.setMilliseconds(Math.floor(1e3*a.fractionalSecond));var c=-l.getTimezoneOffset();i.Util.NumberUtils.isInteger(a.timezone)?(s=a.timezone,o=!1):(s=c,o=!0);var h=new Date(l.getTime()+6e4*(-s+c));return h.originalTimezone=o?null:s,h},print:function(t,e,n,r){i.Util.Ensure.ensureDate(t);var s=new Date(t.getTime());if(s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0),null===t.originalTimezone)return this.printDate(new i.XML.Calendar({year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate()}));if(i.Util.NumberUtils.isInteger(t.originalTimezone)){var o=new Date(t.getTime()-6e4*(-t.originalTimezone-t.getTimezoneOffset()));return this.printDate(new i.XML.Calendar({year:o.getFullYear(),month:o.getMonth()+1,day:o.getDate(),timezone:t.originalTimezone}))}var a=-t.getTime()+s.getTime();if(0===a)return this.printDate(new i.XML.Calendar({year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate()}));var l=a-6e4*t.getTimezoneOffset();if(l>=-432e5)return this.printDate(new i.XML.Calendar({year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate(),timezone:Math.floor(l/6e4)}));var c=new Date(t.getTime()+864e5);return this.printDate(new i.XML.Calendar({year:c.getFullYear(),month:c.getMonth()+1,day:c.getDate(),timezone:Math.floor(l/6e4)+1440}))},isInstance:function(t,e,n){return i.Util.Type.isDate(t)},CLASS_NAME:"Jsonix.Schema.XSD.DateAsDate"}),i.Schema.XSD.DateAsDate.INSTANCE=new i.Schema.XSD.DateAsDate,i.Schema.XSD.DateAsDate.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.DateAsDate.INSTANCE),i.Schema.XSD.GYearMonth=i.Class(i.Schema.XSD.Calendar,{name:"GYearMonth",typeName:i.Schema.XSD.qname("gYearMonth"),CLASS_NAME:"Jsonix.Schema.XSD.GYearMonth",parse:function(t,e,n,i){return this.parseGYearMonth(t,e,n,i)},print:function(t,e,n,i){return this.printGYearMonth(t,e,n,i)}}),i.Schema.XSD.GYearMonth.INSTANCE=new i.Schema.XSD.GYearMonth,i.Schema.XSD.GYearMonth.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.GYearMonth.INSTANCE),i.Schema.XSD.GYear=i.Class(i.Schema.XSD.Calendar,{name:"GYear",typeName:i.Schema.XSD.qname("gYear"),CLASS_NAME:"Jsonix.Schema.XSD.GYear",parse:function(t,e,n,i){return this.parseGYear(t,e,n,i)},print:function(t,e,n,i){return this.printGYear(t,e,n,i)}}),i.Schema.XSD.GYear.INSTANCE=new i.Schema.XSD.GYear,i.Schema.XSD.GYear.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.GYear.INSTANCE),i.Schema.XSD.GMonthDay=i.Class(i.Schema.XSD.Calendar,{name:"GMonthDay",typeName:i.Schema.XSD.qname("gMonthDay"),CLASS_NAME:"Jsonix.Schema.XSD.GMonthDay",parse:function(t,e,n,i){return this.parseGMonthDay(t,e,n,i)},print:function(t,e,n,i){return this.printGMonthDay(t,e,n,i)}}),i.Schema.XSD.GMonthDay.INSTANCE=new i.Schema.XSD.GMonthDay,i.Schema.XSD.GMonthDay.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.GMonthDay.INSTANCE),i.Schema.XSD.GDay=i.Class(i.Schema.XSD.Calendar,{name:"GDay",typeName:i.Schema.XSD.qname("gDay"),CLASS_NAME:"Jsonix.Schema.XSD.GDay",parse:function(t,e,n,i){return this.parseGDay(t,e,n,i)},print:function(t,e,n,i){return this.printGDay(t,e,n,i)}}),i.Schema.XSD.GDay.INSTANCE=new i.Schema.XSD.GDay,i.Schema.XSD.GDay.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.GDay.INSTANCE),i.Schema.XSD.GMonth=i.Class(i.Schema.XSD.Calendar,{name:"GMonth",typeName:i.Schema.XSD.qname("gMonth"),CLASS_NAME:"Jsonix.Schema.XSD.GMonth",parse:function(t,e,n,i){return this.parseGMonth(t,e,n,i)},print:function(t,e,n,i){return this.printGMonth(t,e,n,i)}}),i.Schema.XSD.GMonth.INSTANCE=new i.Schema.XSD.GMonth,i.Schema.XSD.GMonth.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.GMonth.INSTANCE),i.Schema.XSD.ID=i.Class(i.Schema.XSD.String,{name:"ID",typeName:i.Schema.XSD.qname("ID"),CLASS_NAME:"Jsonix.Schema.XSD.ID"}),i.Schema.XSD.ID.INSTANCE=new i.Schema.XSD.ID,i.Schema.XSD.ID.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.ID.INSTANCE),i.Schema.XSD.IDREF=i.Class(i.Schema.XSD.String,{name:"IDREF",typeName:i.Schema.XSD.qname("IDREF"),CLASS_NAME:"Jsonix.Schema.XSD.IDREF"}),i.Schema.XSD.IDREF.INSTANCE=new i.Schema.XSD.IDREF,i.Schema.XSD.IDREF.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.IDREF.INSTANCE),i.Schema.XSD.IDREFS=i.Class(i.Schema.XSD.List,{name:"IDREFS",initialize:function(){i.Schema.XSD.List.prototype.initialize.apply(this,[i.Schema.XSD.IDREF.INSTANCE,i.Schema.XSD.qname("IDREFS")," "])},CLASS_NAME:"Jsonix.Schema.XSD.IDREFS"}),i.Schema.XSD.IDREFS.INSTANCE=new i.Schema.XSD.IDREFS,i.Schema.XSI={},i.Schema.XSI.NAMESPACE_URI="http://www.w3.org/2001/XMLSchema-instance",i.Schema.XSI.PREFIX="xsi",i.Schema.XSI.TYPE="type",i.Schema.XSI.NIL="nil",i.Schema.XSI.qname=function(t){return i.Util.Ensure.ensureString(t),new i.XML.QName(i.Schema.XSI.NAMESPACE_URI,t,i.Schema.XSI.PREFIX)},i.Schema.XSI.TYPE_QNAME=i.Schema.XSI.qname(i.Schema.XSI.TYPE),i.Context=i.Class(i.Mapping.Styled,{modules:[],typeInfos:null,typeNameKeyToTypeInfo:null,elementInfos:null,options:null,substitutionMembersMap:null,scopedElementInfosMap:null,supportXsiType:!0,initialize:function(t,e){for(var n in i.Mapping.Styled.prototype.initialize.apply(this,[e]),this.modules=[],this.elementInfos=[],this.typeInfos={},this.typeNameKeyToTypeInfo={},this.registerBuiltinTypeInfos(),this.namespacePrefixes={},this.prefixNamespaces={},this.substitutionMembersMap={},this.scopedElementInfosMap={},i.Util.Type.exists(e)&&(i.Util.Ensure.ensureObject(e),i.Util.Type.isObject(e.namespacePrefixes)&&(this.namespacePrefixes=i.Util.Type.cloneObject(e.namespacePrefixes,{})),i.Util.Type.isBoolean(e.supportXsiType)&&(this.supportXsiType=e.supportXsiType)),this.namespacePrefixes)this.namespacePrefixes.hasOwnProperty(n)&&(p=this.namespacePrefixes[n],this.prefixNamespaces[p]=n);var r,s;if(i.Util.Type.exists(t))for(i.Util.Ensure.ensureArray(t),r=0;r<t.length;r++)s=this.createModule(t[r]),this.modules[r]=s;this.processModules()},createModule:function(t){var e;return t instanceof this.mappingStyle.module?e=t:(t=i.Util.Type.cloneObject(t),e=new this.mappingStyle.module(t,{mappingStyle:this.mappingStyle})),e},registerBuiltinTypeInfos:function(){for(var t=0;t<this.builtinTypeInfos.length;t++)this.registerTypeInfo(this.builtinTypeInfos[t])},processModules:function(){var t;for(t=0;t<this.modules.length;t++)this.modules[t].registerTypeInfos(this);for(t=0;t<this.modules.length;t++)this.modules[t].registerElementInfos(this);for(t=0;t<this.modules.length;t++)this.modules[t].buildTypeInfos(this);for(t=0;t<this.modules.length;t++)this.modules[t].buildElementInfos(this)},registerTypeInfo:function(t){i.Util.Ensure.ensureObject(t);var e=t.name||t.n||null;i.Util.Ensure.ensureString(e),this.typeInfos[e]=t,t.typeName&&t.typeName.key&&(this.typeNameKeyToTypeInfo[t.typeName.key]=t)},resolveTypeInfo:function(t,e){if(i.Util.Type.exists(t)){if(t instanceof i.Model.TypeInfo)return t;if(i.Util.Type.isString(t)){var n;if(t.length>0&&"."===t.charAt(0)){var r=e.name||e.n||void 0;i.Util.Ensure.ensureObject(e,"Type info mapping can only be resolved if module is provided."),i.Util.Ensure.ensureString(r,"Type info mapping can only be resolved if module name is provided."),n=r+t}else n=t;if(this.typeInfos[n])return this.typeInfos[n];throw new Error("Type info ["+n+"] is not known in this context.")}i.Util.Ensure.ensureObject(e,"Type info mapping can only be resolved if module is provided.");var s=e.createTypeInfo(t);return s.build(this,e),s}return null},registerElementInfo:function(t,e){if(i.Util.Ensure.ensureObject(t),this.elementInfos.push(t),i.Util.Type.exists(t.substitutionHead)){var n=t.substitutionHead.key,r=this.substitutionMembersMap[n];i.Util.Type.isArray(r)||(this.substitutionMembersMap[n]=r=[]),r.push(t)}var s;s=i.Util.Type.exists(t.scope)?this.resolveTypeInfo(t.scope,e).name:"##global";var o=this.scopedElementInfosMap[s];i.Util.Type.isObject(o)||(this.scopedElementInfosMap[s]=o={}),o[t.elementName.key]=t},getTypeInfoByValue:function(t){if(i.Util.Type.exists(t)&&i.Util.Type.isObject(t)){var e=t.TYPE_NAME;if(i.Util.Type.isString(e)){var n=this.getTypeInfoByName(e);if(n)return n}}},getTypeInfoByName:function(t){return this.typeInfos[t]},getTypeInfoByTypeName:function(t){var e=i.XML.QName.fromObjectOrString(t,this);return this.typeNameKeyToTypeInfo[e.key]},getTypeInfoByTypeNameKey:function(t){return this.typeNameKeyToTypeInfo[t]},getElementInfo:function(t,e){if(i.Util.Type.exists(e)){var n=this.scopedElementInfosMap[e.name];if(i.Util.Type.exists(n)){var r=n[t.key];if(i.Util.Type.exists(r))return r}}var s=this.scopedElementInfosMap["##global"];if(i.Util.Type.exists(s)){var o=s[t.key];if(i.Util.Type.exists(o))return o}return null},getSubstitutionMembers:function(t){return this.substitutionMembersMap[i.XML.QName.fromObject(t).key]},createMarshaller:function(){return new this.mappingStyle.marshaller(this)},createUnmarshaller:function(){return new this.mappingStyle.unmarshaller(this)},getNamespaceURI:function(t){return i.Util.Ensure.ensureString(t),this.prefixNamespaces[t]},getPrefix:function(t,e){i.Util.Ensure.ensureString(t);var n=this.namespacePrefixes[t];return i.Util.Type.isString(n)?n:e},builtinTypeInfos:[i.Schema.XSD.AnyType.INSTANCE,i.Schema.XSD.AnySimpleType.INSTANCE,i.Schema.XSD.AnyURI.INSTANCE,i.Schema.XSD.Base64Binary.INSTANCE,i.Schema.XSD.Boolean.INSTANCE,i.Schema.XSD.Byte.INSTANCE,i.Schema.XSD.Calendar.INSTANCE,i.Schema.XSD.DateAsDate.INSTANCE,i.Schema.XSD.Date.INSTANCE,i.Schema.XSD.DateTimeAsDate.INSTANCE,i.Schema.XSD.DateTime.INSTANCE,i.Schema.XSD.Decimal.INSTANCE,i.Schema.XSD.Double.INSTANCE,i.Schema.XSD.Duration.INSTANCE,i.Schema.XSD.Float.INSTANCE,i.Schema.XSD.GDay.INSTANCE,i.Schema.XSD.GMonth.INSTANCE,i.Schema.XSD.GMonthDay.INSTANCE,i.Schema.XSD.GYear.INSTANCE,i.Schema.XSD.GYearMonth.INSTANCE,i.Schema.XSD.HexBinary.INSTANCE,i.Schema.XSD.ID.INSTANCE,i.Schema.XSD.IDREF.INSTANCE,i.Schema.XSD.IDREFS.INSTANCE,i.Schema.XSD.Int.INSTANCE,i.Schema.XSD.Integer.INSTANCE,i.Schema.XSD.Language.INSTANCE,i.Schema.XSD.Long.INSTANCE,i.Schema.XSD.Name.INSTANCE,i.Schema.XSD.NCName.INSTANCE,i.Schema.XSD.NegativeInteger.INSTANCE,i.Schema.XSD.NMToken.INSTANCE,i.Schema.XSD.NMTokens.INSTANCE,i.Schema.XSD.NonNegativeInteger.INSTANCE,i.Schema.XSD.NonPositiveInteger.INSTANCE,i.Schema.XSD.NormalizedString.INSTANCE,i.Schema.XSD.Number.INSTANCE,i.Schema.XSD.PositiveInteger.INSTANCE,i.Schema.XSD.QName.INSTANCE,i.Schema.XSD.Short.INSTANCE,i.Schema.XSD.String.INSTANCE,i.Schema.XSD.Strings.INSTANCE,i.Schema.XSD.TimeAsDate.INSTANCE,i.Schema.XSD.Time.INSTANCE,i.Schema.XSD.Token.INSTANCE,i.Schema.XSD.UnsignedByte.INSTANCE,i.Schema.XSD.UnsignedInt.INSTANCE,i.Schema.XSD.UnsignedLong.INSTANCE,i.Schema.XSD.UnsignedShort.INSTANCE],CLASS_NAME:"Jsonix.Context"}),{Jsonix:i}};if("function"!=typeof i)if("undefined"!=typeof window||process.browser)t.exports=e();else{var i=n("B9Yq")(t);i(["xmldom","xmlhttprequest","fs"],e)}else i([],e)}).call(this,n("YuTi")(t))},dvVV:function(t,e,n){"use strict";function i(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]+2*e,n[1]=t[1]+2*e,n}function r(t){return t[0]>0&&t[1]>0}function s(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n}function o(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:(e[0]=t,e[1]=t),e)}n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r}),n.d(e,"c",function(){return s}),n.d(e,"d",function(){return o})},e4iU:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"d",function(){return r}),n.d(e,"e",function(){return s}),n.d(e,"f",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"a",function(){return l}),n.d(e,"g",function(){return u});const i="ol-hidden",r="ol-selectable",s="ol-unselectable",o="ol-unsupported",a="ol-control",l="ol-collapsed",c=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),h=["style","variant","weight","size","lineHeight","family"],u=function(t){const e=t.match(c);if(!e)return null;const n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let i=0,r=h.length;i<r;++i){const t=e[i+1];void 0!==t&&(n[h[i]]=t)}return n.families=n.family.split(/,\s?/),n}},eByC:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const i=new WeakMap,r=t=>"function"==typeof t&&i.has(t)},eGOI:function(t,e,n){"use strict";var i=n("c73X"),r=n("o5qb"),s=n("wRPv"),o=n("aBeY"),a=n("X87I"),l=n("2cyL"),c=n("W74l"),h=n("7tkq"),u=n("eRUA"),d=n.n(u),p=n("wEYg"),f=n("gOFd"),m=n("Msoz"),g=n("Lz6x"),y=n("G7/A"),_=n("i3ci"),b=n("Znq9"),v=n("iB0p");function S(t,e,n){if(3===t){const t={keys:[],values:[],features:[]},i=n.readVarint()+n.pos;n.readFields(T,t,i),t.length=t.features.length,t.length&&(e[t.name]=t)}}function T(t,e,n){if(15===t)e.version=n.readVarint();else if(1===t)e.name=n.readString();else if(5===t)e.extent=n.readVarint();else if(2===t)e.features.push(n.pos);else if(3===t)e.keys.push(n.readString());else if(4===t){let i=null;const r=n.readVarint()+n.pos;for(;n.pos<r;)i=1==(t=n.readVarint()>>3)?n.readString():2===t?n.readFloat():3===t?n.readDouble():4===t?n.readVarint64():5===t?n.readVarint():6===t?n.readSVarint():7===t?n.readBoolean():null;e.values.push(i)}}function x(t,e,n){if(1==t)e.id=n.readVarint();else if(2==t){const t=n.readVarint()+n.pos;for(;n.pos<t;){const t=e.layer.keys[n.readVarint()],i=e.layer.values[n.readVarint()];e.properties[t]=i}}else 3==t?e.type=n.readVarint():4==t&&(e.geometry=n.pos)}function w(t,e,n){t.pos=e.features[n];const i=t.readVarint()+t.pos,r={layer:e,type:0,properties:{}};return t.readFields(x,r,i),r}e.a=class extends i.a{constructor(t){super();const e=t||{};this.dataProjection=new m.a({code:"",units:y.b.TILE_PIXELS}),this.featureClass_=e.featureClass?e.featureClass:g.a,this.geometryName_=e.geometryName,this.layerName_=e.layerName?e.layerName:"layer",this.layers_=e.layers?e.layers:null,this.idProperty_=e.idProperty}readRawGeometry_(t,e,n,i){t.pos=e.geometry;const r=t.readVarint()+t.pos;let s=1,o=0,a=0,l=0,c=0,h=0;for(;t.pos<r;){if(!o){const e=t.readVarint();s=7&e,o=e>>3}o--,1===s||2===s?(a+=t.readSVarint(),l+=t.readSVarint(),1===s&&c>h&&(i.push(c),h=c),n.push(a,l),c+=2):7===s?c>h&&(n.push(n[h],n[h+1]),c+=2):Object(_.a)(!1,59)}c>h&&(i.push(c),h=c)}createFeature_(t,e,n){const r=e.type;if(0===r)return null;let u;const d=e.properties;let m;this.idProperty_?(m=d[this.idProperty_],delete d[this.idProperty_]):m=e.id,d[this.layerName_]=e.layer.name;const y=[],_=[];this.readRawGeometry_(t,e,y,_);const b=function(t,e){let n;return 1===t?n=1===e?o.a.POINT:o.a.MULTI_POINT:2===t?n=1===e?o.a.LINE_STRING:o.a.MULTI_LINE_STRING:3===t&&(n=o.a.POLYGON),n}(r,_.length);if(this.featureClass_===g.a)u=new this.featureClass_(b,y,_,d,m),u.transform(n.dataProjection);else{let t;if(b==o.a.POLYGON){const e=[];let n=0,i=0;for(let t=0,r=_.length;t<r;++t){const r=_[t];if(Object(v.a)(y,n,r,2)){if(0===e.length)continue;e[e.length-1].push(_[i])}else e.push(_.slice(i,t+1));i=t+1,n=r}t=e.length>1?new h.a(y,s.a.XY,e):new f.a(y,s.a.XY,_)}else t=b===o.a.POINT?new p.a(y,s.a.XY):b===o.a.LINE_STRING?new a.a(y,s.a.XY):b===o.a.POLYGON?new f.a(y,s.a.XY,_):b===o.a.MULTI_POINT?new c.a(y,s.a.XY):b===o.a.MULTI_LINE_STRING?new l.a(y,s.a.XY,_):null;u=new(0,this.featureClass_),this.geometryName_&&u.setGeometryName(this.geometryName_);const e=Object(i.b)(t,!1,n);u.setGeometry(e),u.setId(m),u.setProperties(d,!0)}return u}getType(){return r.a.ARRAY_BUFFER}readFeatures(t,e){const n=this.layers_,i=this.adaptOptions(e),r=Object(b.i)(i.dataProjection);r.setWorldExtent(i.extent),i.dataProjection=r;const s=new d.a(t),o=s.readFields(S,{}),a=[];for(const l in o){if(n&&-1==n.indexOf(l))continue;const t=o[l];r.setExtent(t?[0,0,t.extent,t.extent]:null);for(let e=0,n=t.length;e<n;++e){const n=w(s,t,e);a.push(this.createFeature_(s,n,i))}}return a}readProjection(t){return this.dataProjection}setLayers(t){this.layers_=t}}},eIep:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("lJxs"),r=n("Cfvw"),s=n("zx2A");function o(t,e){return"function"==typeof e?n=>n.pipe(o((n,s)=>Object(r.a)(t(n,s)).pipe(Object(i.a)((t,i)=>e(n,t,s,i))))):e=>e.lift(new a(t))}class a{constructor(t){this.project=t}call(t,e){return e.subscribe(new l(t,this.project))}}class l extends s.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new s.a(this),i=this.destination;i.add(n),this.innerSubscription=Object(s.c)(t,n),this.innerSubscription!==n&&i.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}},eRUA:function(t,e,n){"use strict";t.exports=r;var i=n("kVK+");function r(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}r.Varint=0,r.Fixed64=1,r.Bytes=2,r.Fixed32=5;var s="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function o(t){return t.type===r.Bytes?t.readVarint()+t.pos:t.pos+1}function a(t,e,n){return n?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function l(t,e,n){var i=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));n.realloc(i);for(var r=n.pos-1;r>=t;r--)n.buf[r+i]=n.buf[r]}function c(t,e){for(var n=0;n<t.length;n++)e.writeVarint(t[n])}function h(t,e){for(var n=0;n<t.length;n++)e.writeSVarint(t[n])}function u(t,e){for(var n=0;n<t.length;n++)e.writeFloat(t[n])}function d(t,e){for(var n=0;n<t.length;n++)e.writeDouble(t[n])}function p(t,e){for(var n=0;n<t.length;n++)e.writeBoolean(t[n])}function f(t,e){for(var n=0;n<t.length;n++)e.writeFixed32(t[n])}function m(t,e){for(var n=0;n<t.length;n++)e.writeSFixed32(t[n])}function g(t,e){for(var n=0;n<t.length;n++)e.writeFixed64(t[n])}function y(t,e){for(var n=0;n<t.length;n++)e.writeSFixed64(t[n])}function _(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function b(t,e,n){t[n]=e,t[n+1]=e>>>8,t[n+2]=e>>>16,t[n+3]=e>>>24}function v(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}r.prototype={destroy:function(){this.buf=null},readFields:function(t,e,n){for(n=n||this.length;this.pos<n;){var i=this.readVarint(),r=i>>3,s=this.pos;this.type=7&i,t(r,e,this),this.pos===s&&this.skip(i)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=_(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=v(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=_(this.buf,this.pos)+4294967296*_(this.buf,this.pos+4);return this.pos+=8,t},readSFixed64:function(){var t=_(this.buf,this.pos)+4294967296*v(this.buf,this.pos+4);return this.pos+=8,t},readFloat:function(){var t=i.read(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=i.read(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,n,i=this.buf;return e=127&(n=i[this.pos++]),n<128?e:(e|=(127&(n=i[this.pos++]))<<7,n<128?e:(e|=(127&(n=i[this.pos++]))<<14,n<128?e:(e|=(127&(n=i[this.pos++]))<<21,n<128?e:function(t,e,n){var i,r,s=n.buf;if(i=(112&(r=s[n.pos++]))>>4,r<128)return a(t,i,e);if(i|=(127&(r=s[n.pos++]))<<3,r<128)return a(t,i,e);if(i|=(127&(r=s[n.pos++]))<<10,r<128)return a(t,i,e);if(i|=(127&(r=s[n.pos++]))<<17,r<128)return a(t,i,e);if(i|=(127&(r=s[n.pos++]))<<24,r<128)return a(t,i,e);if(i|=(1&(r=s[n.pos++]))<<31,r<128)return a(t,i,e);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(n=i[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=this.pos;return this.pos=t,t-e>=12&&s?function(t,e,n){return s.decode(t.subarray(e,n))}(this.buf,e,t):function(t,e,n){for(var i="",r=e;r<n;){var s,o,a,l=t[r],c=null,h=l>239?4:l>223?3:l>191?2:1;if(r+h>n)break;1===h?l<128&&(c=l):2===h?128==(192&(s=t[r+1]))&&(c=(31&l)<<6|63&s)<=127&&(c=null):3===h?(o=t[r+2],128==(192&(s=t[r+1]))&&128==(192&o)&&((c=(15&l)<<12|(63&s)<<6|63&o)<=2047||c>=55296&&c<=57343)&&(c=null)):4===h&&(o=t[r+2],a=t[r+3],128==(192&(s=t[r+1]))&&128==(192&o)&&128==(192&a)&&((c=(15&l)<<18|(63&s)<<12|(63&o)<<6|63&a)<=65535||c>=1114112)&&(c=null)),null===c?(c=65533,h=1):c>65535&&(c-=65536,i+=String.fromCharCode(c>>>10&1023|55296),c=56320|1023&c),i+=String.fromCharCode(c),r+=h}return i}(this.buf,e,t)},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){if(this.type!==r.Bytes)return t.push(this.readVarint(e));var n=o(this);for(t=t||[];this.pos<n;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){if(this.type!==r.Bytes)return t.push(this.readSVarint());var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==r.Bytes)return t.push(this.readBoolean());var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==r.Bytes)return t.push(this.readFloat());var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==r.Bytes)return t.push(this.readDouble());var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==r.Bytes)return t.push(this.readFixed32());var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==r.Bytes)return t.push(this.readSFixed32());var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==r.Bytes)return t.push(this.readFixed64());var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==r.Bytes)return t.push(this.readSFixed64());var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===r.Varint)for(;this.buf[this.pos++]>127;);else if(e===r.Bytes)this.pos=this.readVarint()+this.pos;else if(e===r.Fixed32)this.pos+=4;else{if(e!==r.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var n=new Uint8Array(e);n.set(this.buf),this.buf=n,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),b(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),b(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),b(this.buf,-1&t,this.pos),b(this.buf,Math.floor(2.3283064365386963e-10*t),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),b(this.buf,-1&t,this.pos),b(this.buf,Math.floor(2.3283064365386963e-10*t),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(t,e){var n,i;if(t>=0?(n=t%4294967296|0,i=t/4294967296|0):(i=~(-t/4294967296),4294967295^(n=~(-t%4294967296))?n=n+1|0:(n=0,i=i+1|0)),t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),function(t,e,n){n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,n.buf[n.pos]=127&(t>>>=7)}(n,0,e),function(t,e){var n=(7&t)<<4;e.buf[e.pos++]|=n|((t>>>=3)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t)))))}(i,e)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(t,e,n){for(var i,r,s=0;s<e.length;s++){if((i=e.charCodeAt(s))>55295&&i<57344){if(!r){i>56319||s+1===e.length?(t[n++]=239,t[n++]=191,t[n++]=189):r=i;continue}if(i<56320){t[n++]=239,t[n++]=191,t[n++]=189,r=i;continue}i=r-55296<<10|i-56320|65536,r=null}else r&&(t[n++]=239,t[n++]=191,t[n++]=189,r=null);i<128?t[n++]=i:(i<2048?t[n++]=i>>6|192:(i<65536?t[n++]=i>>12|224:(t[n++]=i>>18|240,t[n++]=i>>12&63|128),t[n++]=i>>6&63|128),t[n++]=63&i|128)}return n}(this.buf,t,this.pos);var n=this.pos-e;n>=128&&l(e,n,this),this.pos=e-1,this.writeVarint(n),this.pos+=n},writeFloat:function(t){this.realloc(4),i.write(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),i.write(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var n=0;n<e;n++)this.buf[this.pos++]=t[n]},writeRawMessage:function(t,e){this.pos++;var n=this.pos;t(e,this);var i=this.pos-n;i>=128&&l(n,i,this),this.pos=n-1,this.writeVarint(i),this.pos+=i},writeMessage:function(t,e,n){this.writeTag(t,r.Bytes),this.writeRawMessage(e,n)},writePackedVarint:function(t,e){e.length&&this.writeMessage(t,c,e)},writePackedSVarint:function(t,e){e.length&&this.writeMessage(t,h,e)},writePackedBoolean:function(t,e){e.length&&this.writeMessage(t,p,e)},writePackedFloat:function(t,e){e.length&&this.writeMessage(t,u,e)},writePackedDouble:function(t,e){e.length&&this.writeMessage(t,d,e)},writePackedFixed32:function(t,e){e.length&&this.writeMessage(t,f,e)},writePackedSFixed32:function(t,e){e.length&&this.writeMessage(t,m,e)},writePackedFixed64:function(t,e){e.length&&this.writeMessage(t,g,e)},writePackedSFixed64:function(t,e){e.length&&this.writeMessage(t,y,e)},writeBytesField:function(t,e){this.writeTag(t,r.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,r.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,r.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,r.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,r.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,r.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,r.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,r.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,r.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,r.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}}},eW8D:function(t,e,n){var i,r;void 0===(r="function"==typeof(i=function(){return{SMIL_2_0_Language:{n:"SMIL_2_0_Language",dens:"http://www.w3.org/2001/SMIL20/Language",deps:["SMIL_2_0"],tis:[{ln:"AnimateColorType",tn:"animateColorType",bti:"SMIL_2_0.AnimateColorPrototype",ps:[{n:"otherAttributes",t:"aa"},{n:"any",mno:0,col:!0,mx:!1,t:"ae"},{n:"syncBehaviorDefault",an:{lp:"syncBehaviorDefault"},t:"a"},{n:"syncToleranceDefault",an:{lp:"syncToleranceDefault"},t:"a"},{n:"min",an:{lp:"min"},t:"a"},{n:"max",an:{lp:"max"},t:"a"},{n:"begin",an:{lp:"begin"},t:"a"},{n:"end",an:{lp:"end"},t:"a"},{n:"repeatDur",an:{lp:"repeatDur"},t:"a"},{n:"repeatCount",ti:"Decimal",an:{lp:"repeatCount"},t:"a"},{n:"dur",an:{lp:"dur"},t:"a"},{n:"repeat",ti:"NonNegativeInteger",an:{lp:"repeat"},t:"a"},{n:"fillDefault",an:{lp:"fillDefault"},t:"a"},{n:"restart",an:{lp:"restart"},t:"a"},{n:"restartDefault",an:{lp:"restartDefault"},t:"a"},{n:"syncBehavior",an:{lp:"syncBehavior"},t:"a"},{n:"syncTolerance",an:{lp:"syncTolerance"},t:"a"},{n:"fill",an:{lp:"fill"},t:"a"},{n:"skipContent",ti:"Boolean",an:{lp:"skip-content"},t:"a"},{n:"alt",an:{lp:"alt"},t:"a"},{n:"longdesc",an:{lp:"longdesc"},t:"a"},{n:"id",ti:"ID",an:{lp:"id"},t:"a"},{n:"clazz",an:{lp:"class"},t:"a"},{n:"lang",an:{lp:"lang",ns:"http://www.w3.org/XML/1998/namespace"},t:"a"},{n:"targetElement",ti:"IDREF",an:{lp:"targetElement"},t:"a"},{n:"calcMode",an:{lp:"calcMode"},t:"a"}]},{ln:"SetType",tn:"setType",bti:"SMIL_2_0.SetPrototype",ps:[{n:"otherAttributes",t:"aa"},{n:"any",mno:0,col:!0,mx:!1,t:"ae"},{n:"targetElement",ti:"IDREF",an:{lp:"targetElement"},t:"a"},{n:"skipContent",ti:"Boolean",an:{lp:"skip-content"},t:"a"},{n:"alt",an:{lp:"alt"},t:"a"},{n:"longdesc",an:{lp:"longdesc"},t:"a"},{n:"id",ti:"ID",an:{lp:"id"},t:"a"},{n:"clazz",an:{lp:"class"},t:"a"},{n:"lang",an:{lp:"lang",ns:"http://www.w3.org/XML/1998/namespace"},t:"a"},{n:"syncBehaviorDefault",an:{lp:"syncBehaviorDefault"},t:"a"},{n:"syncToleranceDefault",an:{lp:"syncToleranceDefault"},t:"a"},{n:"min",an:{lp:"min"},t:"a"},{n:"max",an:{lp:"max"},t:"a"},{n:"begin",an:{lp:"begin"},t:"a"},{n:"end",an:{lp:"end"},t:"a"},{n:"repeatDur",an:{lp:"repeatDur"},t:"a"},{n:"repeatCount",ti:"Decimal",an:{lp:"repeatCount"},t:"a"},{n:"dur",an:{lp:"dur"},t:"a"},{n:"repeat",ti:"NonNegativeInteger",an:{lp:"repeat"},t:"a"},{n:"fillDefault",an:{lp:"fillDefault"},t:"a"},{n:"restart",an:{lp:"restart"},t:"a"},{n:"restartDefault",an:{lp:"restartDefault"},t:"a"},{n:"syncBehavior",an:{lp:"syncBehavior"},t:"a"},{n:"syncTolerance",an:{lp:"syncTolerance"},t:"a"},{n:"fill",an:{lp:"fill"},t:"a"}]},{ln:"AnimateType",tn:"animateType",bti:"SMIL_2_0.AnimatePrototype",ps:[{n:"otherAttributes",t:"aa"},{n:"any",mno:0,col:!0,mx:!1,t:"ae"},{n:"skipContent",ti:"Boolean",an:{lp:"skip-content"},t:"a"},{n:"calcMode",an:{lp:"calcMode"},t:"a"},{n:"alt",an:{lp:"alt"},t:"a"},{n:"longdesc",an:{lp:"longdesc"},t:"a"},{n:"id",ti:"ID",an:{lp:"id"},t:"a"},{n:"clazz",an:{lp:"class"},t:"a"},{n:"lang",an:{lp:"lang",ns:"http://www.w3.org/XML/1998/namespace"},t:"a"},{n:"targetElement",ti:"IDREF",an:{lp:"targetElement"},t:"a"},{n:"syncBehaviorDefault",an:{lp:"syncBehaviorDefault"},t:"a"},{n:"syncToleranceDefault",an:{lp:"syncToleranceDefault"},t:"a"},{n:"min",an:{lp:"min"},t:"a"},{n:"max",an:{lp:"max"},t:"a"},{n:"begin",an:{lp:"begin"},t:"a"},{n:"end",an:{lp:"end"},t:"a"},{n:"repeatDur",an:{lp:"repeatDur"},t:"a"},{n:"repeatCount",ti:"Decimal",an:{lp:"repeatCount"},t:"a"},{n:"dur",an:{lp:"dur"},t:"a"},{n:"repeat",ti:"NonNegativeInteger",an:{lp:"repeat"},t:"a"},{n:"fillDefault",an:{lp:"fillDefault"},t:"a"},{n:"restart",an:{lp:"restart"},t:"a"},{n:"restartDefault",an:{lp:"restartDefault"},t:"a"},{n:"syncBehavior",an:{lp:"syncBehavior"},t:"a"},{n:"syncTolerance",an:{lp:"syncTolerance"},t:"a"},{n:"fill",an:{lp:"fill"},t:"a"}]},{ln:"AnimateMotionType",tn:"animateMotionType",bti:"SMIL_2_0.AnimateMotionPrototype",ps:[{n:"otherAttributes",t:"aa"},{n:"any",mno:0,col:!0,mx:!1,t:"ae"},{n:"targetElement",ti:"IDREF",an:{lp:"targetElement"},t:"a"},{n:"alt",an:{lp:"alt"},t:"a"},{n:"longdesc",an:{lp:"longdesc"},t:"a"},{n:"id",ti:"ID",an:{lp:"id"},t:"a"},{n:"clazz",an:{lp:"class"},t:"a"},{n:"lang",an:{lp:"lang",ns:"http://www.w3.org/XML/1998/namespace"},t:"a"},{n:"skipContent",ti:"Boolean",an:{lp:"skip-content"},t:"a"},{n:"calcMode",an:{lp:"calcMode"},t:"a"},{n:"syncBehaviorDefault",an:{lp:"syncBehaviorDefault"},t:"a"},{n:"syncToleranceDefault",an:{lp:"syncToleranceDefault"},t:"a"},{n:"min",an:{lp:"min"},t:"a"},{n:"max",an:{lp:"max"},t:"a"},{n:"begin",an:{lp:"begin"},t:"a"},{n:"end",an:{lp:"end"},t:"a"},{n:"repeatDur",an:{lp:"repeatDur"},t:"a"},{n:"repeatCount",ti:"Decimal",an:{lp:"repeatCount"},t:"a"},{n:"dur",an:{lp:"dur"},t:"a"},{n:"repeat",ti:"NonNegativeInteger",an:{lp:"repeat"},t:"a"},{n:"fillDefault",an:{lp:"fillDefault"},t:"a"},{n:"restart",an:{lp:"restart"},t:"a"},{n:"restartDefault",an:{lp:"restartDefault"},t:"a"},{n:"syncBehavior",an:{lp:"syncBehavior"},t:"a"},{n:"syncTolerance",an:{lp:"syncTolerance"},t:"a"},{n:"fill",an:{lp:"fill"},t:"a"}]}],eis:[{en:"animate",ti:".AnimateType"},{en:"animateMotion",ti:".AnimateMotionType"},{en:"animateColor",ti:".AnimateColorType"},{en:"set",ti:".SetType"}]}}})?i.apply(e,[]):i)||(t.exports=r)},fyJ9:function(t,e,n){"use strict";class i{constructor(t){const e=t||{};this.color_=void 0!==e.color?e.color:null}clone(){const t=this.getColor();return new i({color:Array.isArray(t)?t.slice():t||void 0})}getColor(){return this.color_}setColor(t){this.color_=t}}e.a=i},g38P:function(t,e,n){"use strict";e.a=class{drawCustom(t,e,n){}drawGeometry(t){}setStyle(t){}drawCircle(t,e){}drawFeature(t,e){}drawGeometryCollection(t,e){}drawLineString(t,e){}drawMultiLineString(t,e){}drawMultiPoint(t,e){}drawMultiPolygon(t,e){}drawPoint(t,e){}drawPolygon(t,e){}drawText(t,e){}setFillStrokeStyle(t,e){}setImageStyle(t,e){}setTextStyle(t,e){}}},"gB+7":function(t,e,n){"use strict";var i=n("W/Sn"),r=n("uMsb"),s=n("siiE"),o=n("ogOc"),a=n("n2w5"),l=n("hKKC"),c=n("aoLf"),h=n("lQ2a"),u=n("Znq9"),d=n("2I+J"),p=n("rA9B");e.a=class extends r.a{constructor(t){super(t),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.dirty_=!1,this.hitDetectionImageData_=null,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=Object(l.k)(),this.renderedCenter_=null,this.renderedProjection_=null,this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.declutterExecutorGroup=null,this.clipping=!0}useContainer(t,e,n){n<1&&(t=null),super.useContainer(t,e,n)}renderWorlds(t,e,n){const i=e.extent,r=e.viewState,s=r.center,a=r.resolution,c=r.projection,h=r.rotation,u=c.getExtent(),d=this.getLayer().getSource(),p=e.pixelRatio,f=e.viewHints,m=!(f[o.a.ANIMATING]||f[o.a.INTERACTING]),g=this.context,y=Math.round(e.size[0]*p),_=Math.round(e.size[1]*p),b=d.getWrapX()&&c.canWrapX(),v=b?Object(l.F)(u):null,S=b?Math.ceil((i[2]-u[2])/v)+1:1;let T=b?Math.floor((i[0]-u[0])/v):0;do{const e=this.getRenderTransform(s,a,h,p,y,_,T*v);t.execute(g,1,e,h,m,void 0,n)}while(++T<S)}renderDeclutter(t){this.declutterExecutorGroup&&this.renderWorlds(this.declutterExecutorGroup,t,t.declutterTree)}renderFrame(t,e){const n=t.pixelRatio,i=t.layerStatesArray[t.layerIndex];Object(a.e)(this.pixelTransform,1/n,1/n),Object(a.d)(this.inversePixelTransform,this.pixelTransform);const r=Object(a.k)(this.pixelTransform);this.useContainer(e,r,i.opacity);const s=this.context,o=s.canvas,c=this.replayGroup_,h=this.declutterExecutorGroup;if((!c||c.isEmpty())&&(!h||h.isEmpty()))return!this.containerReused&&o.width>0&&(o.width=0),this.container;const d=Math.round(t.size[0]*n),p=Math.round(t.size[1]*n);o.width!=d||o.height!=p?(o.width=d,o.height=p,o.style.transform!==r&&(o.style.transform=r)):this.containerReused||s.clearRect(0,0,d,p),this.preRender(s,t);const f=t.viewState,m=f.projection;let g=!1;if(i.extent&&this.clipping){const e=Object(u.h)(i.extent,m);g=!Object(l.h)(e,t.extent)&&Object(l.G)(e,t.extent),g&&this.clipUnrotated(s,t,e)}this.renderWorlds(c,t),g&&s.restore(),this.postRender(s,t);const y=i.opacity,_=this.container;return y!==parseFloat(_.style.opacity)&&(_.style.opacity=1===y?"":String(y)),this.renderedRotation_!==f.rotation&&(this.renderedRotation_=f.rotation,this.hitDetectionImageData_=null),this.container}getFeatures(t){return new Promise((function(e){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const t=[this.context.canvas.width,this.context.canvas.height];Object(a.a)(this.pixelTransform,t);const e=this.renderedCenter_,n=this.renderedResolution_,i=this.renderedRotation_,r=this.renderedProjection_,s=this.renderedExtent_,o=this.getLayer(),h=[],u=t[0]/2,d=t[1]/2;h.push(this.getRenderTransform(e,n,i,.5,u,d,0).slice());const p=o.getSource(),f=r.getExtent();if(p.getWrapX()&&r.canWrapX()&&!Object(l.h)(f,s)){let t=s[0];const r=Object(l.F)(f);let o,a=0;for(;t<f[0];)--a,o=r*a,h.push(this.getRenderTransform(e,n,i,.5,u,d,o).slice()),t+=r;for(a=0,t=s[2];t>f[2];)++a,o=r*a,h.push(this.getRenderTransform(e,n,i,.5,u,d,o).slice()),t-=r}this.hitDetectionImageData_=Object(c.a)(t,h,this.renderedFeatures_,o.getStyleFunction(),s,n,i)}e(Object(c.b)(t,this.renderedFeatures_,this.hitDetectionImageData_))}).bind(this))}forEachFeatureAtCoordinate(t,e,n,i,r){if(!this.replayGroup_)return;const s=e.viewState.resolution,o=e.viewState.rotation,a=this.getLayer(),l={},c=function(t,e,n){const s=Object(d.c)(t),o=l[s];if(o){if(!0!==o&&n<o.distanceSq){if(0===n)return l[s]=!0,r.splice(r.lastIndexOf(o),1),i(t,a,e);o.geometry=e,o.distanceSq=n}}else{if(0===n)return l[s]=!0,i(t,a,e);r.push(l[s]={feature:t,layer:a,geometry:e,distanceSq:n,callback:i})}};let h;const u=[this.replayGroup_];return this.declutterExecutorGroup&&u.push(this.declutterExecutorGroup),u.some(i=>h=i.forEachFeatureAtCoordinate(t,s,o,n,c,i===this.declutterExecutorGroup?e.declutterTree.all().map(t=>t.value):null)),h}handleFontsChanged(){const t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()}handleStyleImageChange_(t){this.renderIfReadyAndVisible()}prepareFrame(t){const e=this.getLayer(),n=e.getSource();if(!n)return!1;const r=t.viewHints[o.a.ANIMATING],a=t.viewHints[o.a.INTERACTING],c=e.getUpdateWhileAnimating(),d=e.getUpdateWhileInteracting();if(!this.dirty_&&!c&&r||!d&&a)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const f=t.extent,m=t.viewState,g=m.projection,y=m.resolution,_=t.pixelRatio,b=e.getRevision(),v=e.getRenderBuffer();let S=e.getRenderOrder();void 0===S&&(S=h.a);const T=m.center.slice(),x=Object(l.d)(f,v*y),w=[x.slice()],E=g.getExtent();if(n.getWrapX()&&g.canWrapX()&&!Object(l.h)(E,t.extent)){const t=Object(l.F)(E),e=Math.max(Object(l.F)(x)/2,t);x[0]=E[0]-e,x[2]=E[2]+e,Object(p.h)(T,g);const n=Object(l.L)(w[0],g);n[0]<E[0]&&n[2]<E[2]?w.push([n[0]+t,n[1],n[2]+t,n[3]]):n[0]>E[0]&&n[2]>E[2]&&w.push([n[0]-t,n[1],n[2]-t,n[3]])}if(!this.dirty_&&this.renderedResolution_==y&&this.renderedRevision_==b&&this.renderedRenderOrder_==S&&Object(l.h)(this.renderedExtent_,x))return this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;const C=new i.a(Object(h.c)(y,_),x,y,_);let M;this.getLayer().getDeclutter()&&(M=new i.a(Object(h.c)(y,_),x,y,_));const O=Object(u.m)();let A;if(O){for(let t=0,e=w.length;t<e;++t)n.loadFeatures(Object(u.p)(w[t],g),y,O);A=Object(u.l)(O,g)}else for(let i=0,s=w.length;i<s;++i)n.loadFeatures(w[i],y,g);const I=Object(h.b)(y,_),R=(function(t){let n;const i=t.getStyleFunction()||e.getStyleFunction();if(i&&(n=i(t,y)),n){const e=this.renderFeature(t,I,n,C,A,M);this.dirty_=this.dirty_||e}}).bind(this),L=Object(u.p)(x,g),P=n.getFeaturesInExtent(L);S&&P.sort(S);for(let i=0,s=P.length;i<s;++i)R(P[i]);this.renderedFeatures_=P;const D=C.finish(),N=new s.a(x,y,_,n.getOverlaps(),D,e.getRenderBuffer());return M&&(this.declutterExecutorGroup=new s.a(x,y,_,n.getOverlaps(),M.finish(),e.getRenderBuffer())),this.renderedResolution_=y,this.renderedRevision_=b,this.renderedRenderOrder_=S,this.renderedExtent_=x,this.renderedCenter_=T,this.renderedProjection_=g,this.replayGroup_=N,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(t,e,n,i,r,s){if(!n)return!1;let o=!1;if(Array.isArray(n))for(let a=0,l=n.length;a<l;++a)o=Object(h.d)(i,t,n[a],e,this.boundHandleStyleImageChange_,r,s)||o;else o=Object(h.d)(i,t,n,e,this.boundHandleStyleImageChange_,r,s);return o}}},gOFd:function(t,e,n){"use strict";n.d(e,"b",function(){return S});var i=n("wRPv"),r=n("aBeY"),s=n("AjuZ"),o=n("kuFe"),a=n("hKKC"),l=n("VvGk"),c=n("8pO4"),h=n("L3Wi"),u=n("ZjAA");class d extends s.a{constructor(t,e){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===e||Array.isArray(t[0])?this.setCoordinates(t,e):this.setFlatCoordinates(e,t)}clone(){return new d(this.flatCoordinates.slice(),this.layout)}closestPointXY(t,e,n,i){return i<Object(a.f)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(o.e)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(o.d)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,n,i))}getArea(){return Object(u.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return Object(h.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(t){const e=[];return e.length=Object(c.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new d(e,i.a.XY)}getType(){return r.a.LINEAR_RING}intersectsExtent(t){return!1}setCoordinates(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(l.b)(this.flatCoordinates,0,t,this.stride),this.changed()}}var p=d,f=n("wEYg"),m=n("oWEL"),g=n("1Ggo"),y=n("DPnj"),_=n("iB0p"),b=n("Y5Xb");n("LV+m"),n("tZnV");class v extends s.a{constructor(t,e,n){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,void 0!==e&&n?(this.setFlatCoordinates(e,t),this.ends_=n):this.setCoordinates(t,e)}appendLinearRing(t){this.flatCoordinates?Object(m.c)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const t=new v(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,e,n,i){return i<Object(a.f)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(o.a)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(o.b)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,n,i))}containsXY(t,e){return Object(b.c)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)}getArea(){return Object(u.b)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(t){let e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),Object(_.d)(e,0,this.ends_,this.stride,t)):e=this.flatCoordinates,Object(h.b)(e,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const t=Object(a.y)(this.getExtent());this.flatInteriorPoint_=Object(g.a)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new f.a(this.getFlatInteriorPoint(),i.a.XYM)}getLinearRingCount(){return this.ends_.length}getLinearRing(t){return t<0||this.ends_.length<=t?null:new p(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLinearRings(){const t=this.layout,e=this.flatCoordinates,n=this.ends_,i=[];let r=0;for(let s=0,o=n.length;s<o;++s){const o=n[s],a=new p(e.slice(r,o),t);i.push(a),r=o}return i}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const t=this.flatCoordinates;Object(_.b)(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Object(_.d)(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){const e=[],n=[];return e.length=Object(c.c)(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),e,0,n),new v(e,i.a.XY,n)}getType(){return r.a.POLYGON}intersectsExtent(t){return Object(y.c)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);const n=Object(l.c)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()}}function S(t){const e=t[0],n=t[1],r=t[2],s=t[3],o=[e,n,e,s,r,s,r,n,e,n];return new v(o,i.a.XY,[o.length])}e.a=v},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("2fFW"),r=n("NJ4a");const s={closed:!0,next(t){},error(t){if(i.a.useDeprecatedSynchronousErrorHandling)throw t;Object(r.a)(t)},complete(){}}},gayD:function(t,e,n){"use strict";var i=n("6XL4"),r=n("ZidN"),s=n("hKKC");e.a=class extends r.a{constructor(t){const e=t||{};super({attributions:e.attributions,imageSmoothing:e.imageSmoothing,projection:e.projection,resolutions:e.resolutions,state:e.state}),this.canvasFunction_=e.canvasFunction,this.canvas_=null,this.renderedRevision_=0,this.ratio_=void 0!==e.ratio?e.ratio:1.5}getImageInternal(t,e,n,r){e=this.findNearestResolution(e);let o=this.canvas_;if(o&&this.renderedRevision_==this.getRevision()&&o.getResolution()==e&&o.getPixelRatio()==n&&Object(s.h)(o.getExtent(),t))return o;t=t.slice(),Object(s.K)(t,this.ratio_);const a=Object(s.F)(t)/e,l=Object(s.B)(t)/e,c=this.canvasFunction_.call(this,t,e,n,[a*n,l*n],r);return c&&(o=new i.a(t,e,n,c)),this.canvas_=o,this.renderedRevision_=this.getRevision(),o}}},giCN:function(t,e,n){"use strict";var i=n("9CgO"),r=n("tvip"),s=n("aBeY"),o=n("hKKC"),a=n("FHfp");class l extends r.a{constructor(t){super(),this.geometries_=t||null,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(a.c),this.changeEventsKeys_.length=0}listenGeometriesChange_(){if(this.geometries_)for(let t=0,e=this.geometries_.length;t<e;++t)this.changeEventsKeys_.push(Object(a.a)(this.geometries_[t],i.a.CHANGE,this.changed,this))}clone(){const t=new l(null);return t.setGeometries(this.geometries_),t.applyProperties(this),t}closestPointXY(t,e,n,i){if(i<Object(o.f)(this.getExtent(),t,e))return i;const r=this.geometries_;for(let s=0,o=r.length;s<o;++s)i=r[s].closestPointXY(t,e,n,i);return i}containsXY(t,e){const n=this.geometries_;for(let i=0,r=n.length;i<r;++i)if(n[i].containsXY(t,e))return!0;return!1}computeExtent(t){Object(o.m)(t);const e=this.geometries_;for(let n=0,i=e.length;n<i;++n)Object(o.r)(t,e[n].getExtent());return t}getGeometries(){return c(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let t=[];const e=this.geometries_;for(let n=0,i=e.length;n<i;++n)e[n].getType()===this.getType()?t=t.concat(e[n].getGeometriesArrayRecursive()):t.push(e[n]);return t}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const e=[],n=this.geometries_;let i=!1;for(let r=0,s=n.length;r<s;++r){const s=n[r],o=s.getSimplifiedGeometry(t);e.push(o),o!==s&&(i=!0)}if(i){const t=new l(null);return t.setGeometriesArray(e),t}return this.simplifiedGeometryMaxMinSquaredTolerance=t,this}getType(){return s.a.GEOMETRY_COLLECTION}intersectsExtent(t){const e=this.geometries_;for(let n=0,i=e.length;n<i;++n)if(e[n].intersectsExtent(t))return!0;return!1}isEmpty(){return 0===this.geometries_.length}rotate(t,e){const n=this.geometries_;for(let i=0,r=n.length;i<r;++i)n[i].rotate(t,e);this.changed()}scale(t,e,n){let i=n;i||(i=Object(o.y)(this.getExtent()));const r=this.geometries_;for(let s=0,o=r.length;s<o;++s)r[s].scale(t,e,i);this.changed()}setGeometries(t){this.setGeometriesArray(c(t))}setGeometriesArray(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()}applyTransform(t){const e=this.geometries_;for(let n=0,i=e.length;n<i;++n)e[n].applyTransform(t);this.changed()}translate(t,e){const n=this.geometries_;for(let i=0,r=n.length;i<r;++i)n[i].translate(t,e);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function c(t){const e=[];for(let n=0,i=t.length;n<i;++n)e.push(t[n].clone());return e}e.a=l},gjiK:function(t,e,n){"use strict";var i=n("9CgO");e.a={SINGLECLICK:"singleclick",CLICK:i.a.CLICK,DBLCLICK:i.a.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}},hKKC:function(t,e,n){"use strict";n.d(e,"c",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"e",function(){return l}),n.d(e,"f",function(){return c}),n.d(e,"g",function(){return h}),n.d(e,"h",function(){return u}),n.d(e,"i",function(){return d}),n.d(e,"j",function(){return p}),n.d(e,"k",function(){return f}),n.d(e,"l",function(){return m}),n.d(e,"m",function(){return g}),n.d(e,"n",function(){return y}),n.d(e,"o",function(){return _}),n.d(e,"p",function(){return b}),n.d(e,"q",function(){return v}),n.d(e,"b",function(){return S}),n.d(e,"r",function(){return T}),n.d(e,"s",function(){return x}),n.d(e,"t",function(){return w}),n.d(e,"u",function(){return C}),n.d(e,"v",function(){return M}),n.d(e,"w",function(){return O}),n.d(e,"x",function(){return A}),n.d(e,"y",function(){return I}),n.d(e,"z",function(){return R}),n.d(e,"A",function(){return L}),n.d(e,"B",function(){return P}),n.d(e,"C",function(){return D}),n.d(e,"D",function(){return N}),n.d(e,"E",function(){return j}),n.d(e,"F",function(){return k}),n.d(e,"G",function(){return F}),n.d(e,"I",function(){return U}),n.d(e,"J",function(){return G}),n.d(e,"K",function(){return V}),n.d(e,"H",function(){return B}),n.d(e,"a",function(){return z}),n.d(e,"L",function(){return H});var i=n("iSA6"),r=n("rb/e"),s=n("i3ci");function o(t){const e=[1/0,1/0,-1/0,-1/0];for(let n=0,i=t.length;n<i;++n)x(e,t[n]);return e}function a(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function l(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function c(t,e,n){let i,r;return i=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0,r=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0,i*i+r*r}function h(t,e){return d(t,e[0],e[1])}function u(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function d(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function p(t,e){const n=e[0],i=e[1];let s=r.a.UNKNOWN;return n<t[0]?s|=r.a.LEFT:n>t[2]&&(s|=r.a.RIGHT),i<t[1]?s|=r.a.BELOW:i>t[3]&&(s|=r.a.ABOVE),s===r.a.UNKNOWN&&(s=r.a.INTERSECTING),s}function f(){return[1/0,1/0,-1/0,-1/0]}function m(t,e,n,i,r){return r?(r[0]=t,r[1]=e,r[2]=n,r[3]=i,r):[t,e,n,i]}function g(t){return m(1/0,1/0,-1/0,-1/0,t)}function y(t,e){const n=t[0],i=t[1];return m(n,i,n,i,e)}function _(t,e){return function(t,e){for(let n=0,i=e.length;n<i;++n)x(t,e[n]);return t}(g(e),t)}function b(t,e,n,i,r){return w(g(r),t,e,n,i)}function v(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function S(t,e,n){return Math.abs(t[0]-e[0])<n&&Math.abs(t[2]-e[2])<n&&Math.abs(t[1]-e[1])<n&&Math.abs(t[3]-e[3])<n}function T(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function x(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function w(t,e,n,i,r){for(;n<i;n+=r)E(t,e[n],e[n+1]);return t}function E(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function C(t,e){let n;return n=e(O(t)),n||(n=e(A(t)),n||(n=e(j(t)),n||(n=e(N(t)),n||!1)))}function M(t){let e=0;return U(t)||(e=k(t)*P(t)),e}function O(t){return[t[0],t[1]]}function A(t){return[t[2],t[1]]}function I(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function R(t,e){let n;return e===i.a.BOTTOM_LEFT?n=O(t):e===i.a.BOTTOM_RIGHT?n=A(t):e===i.a.TOP_LEFT?n=N(t):e===i.a.TOP_RIGHT?n=j(t):Object(s.a)(!1,13),n}function L(t,e,n,i,r){const s=e*i[0]/2,o=e*i[1]/2,a=Math.cos(n),l=Math.sin(n),c=s*a,h=s*l,u=o*a,d=o*l,p=t[0],f=t[1],g=p-c+d,y=p-c-d,_=p+c-d,b=p+c+d,v=f-h-u,S=f-h+u,T=f+h+u,x=f+h-u;return m(Math.min(g,y,_,b),Math.min(v,S,T,x),Math.max(g,y,_,b),Math.max(v,S,T,x),r)}function P(t){return t[3]-t[1]}function D(t,e,n){const i=n||[1/0,1/0,-1/0,-1/0];return F(t,e)?(i[0]=t[0]>e[0]?t[0]:e[0],i[1]=t[1]>e[1]?t[1]:e[1],i[2]=t[2]<e[2]?t[2]:e[2],i[3]=t[3]<e[3]?t[3]:e[3]):g(i),i}function N(t){return[t[0],t[3]]}function j(t){return[t[2],t[3]]}function k(t){return t[2]-t[0]}function F(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function U(t){return t[2]<t[0]||t[3]<t[1]}function G(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}function V(t,e){const n=(t[2]-t[0])/2*(e-1),i=(t[3]-t[1])/2*(e-1);t[0]-=n,t[2]+=n,t[1]-=i,t[3]+=i}function B(t,e,n){let i=!1;const s=p(t,e),o=p(t,n);if(s===r.a.INTERSECTING||o===r.a.INTERSECTING)i=!0;else{const a=t[0],l=t[1],c=t[2],h=t[3],u=n[0],d=n[1],p=(d-e[1])/(u-e[0]);let f,m;o&r.a.ABOVE&&!(s&r.a.ABOVE)&&(f=u-(d-h)/p,i=f>=a&&f<=c),i||!(o&r.a.RIGHT)||s&r.a.RIGHT||(m=d-(u-c)*p,i=m>=l&&m<=h),i||!(o&r.a.BELOW)||s&r.a.BELOW||(f=u-(d-l)/p,i=f>=a&&f<=c),i||!(o&r.a.LEFT)||s&r.a.LEFT||(m=d-(u-a)*p,i=m>=l&&m<=h)}return i}function z(t,e,n,i){let r=[];if(i>1){const e=t[2]-t[0],n=t[3]-t[1];for(let s=0;s<i;++s)r.push(t[0]+e*s/i,t[1],t[2],t[1]+n*s/i,t[2]-e*s/i,t[3],t[0],t[3]-n*s/i)}else r=[t[0],t[1],t[2],t[1],t[2],t[3],t[0],t[3]];e(r,r,2);const s=[],o=[];for(let a=0,l=r.length;a<l;a+=2)s.push(r[a]),o.push(r[a+1]);return function(t,e,n){return m(Math.min.apply(null,t),Math.min.apply(null,e),Math.max.apply(null,t),Math.max.apply(null,e),n)}(s,o,n)}function H(t,e){const n=e.getExtent(),i=I(t);if(e.canWrapX()&&(i[0]<n[0]||i[0]>=n[2])){const e=k(n),r=Math.floor((i[0]-n[0])/e)*e;t[0]-=r,t[2]-=r}return t}},i3ci:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("v7Mh");function r(t,e){if(!t)throw new i.a(e)}},i907:function(t,e,n){"use strict";n.d(e,"b",function(){return d}),n.d(e,"a",function(){return p}),n.d(e,"c",function(){return f});var i=n("GLbD"),r=n("Bpkx"),s=n("hKKC"),o=n("Cw4B"),a=n("Znq9"),l=n("LV+m");let c;function h(t,e,n,i,r){t.beginPath(),t.moveTo(0,0),t.lineTo(e,n),t.lineTo(i,r),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,i)+1,Math.max(n,r)),t.restore()}function u(t,e){return Math.abs(t[4*e]-210)>2||Math.abs(t[4*e+3]-191.25)>2}function d(t,e,n,i){const r=Object(a.q)(n,e,t);let o=Object(a.j)(e,i,n);const l=e.getMetersPerUnit();void 0!==l&&(o*=l);const c=t.getMetersPerUnit();void 0!==c&&(o/=c);const h=t.getExtent();if(!h||Object(s.g)(h,r)){const e=Object(a.j)(t,o,r)/o;isFinite(e)&&e>0&&(o/=e)}return o}function p(t,e,n,i){const r=Object(s.y)(n);let o=d(t,e,r,i);return(!isFinite(o)||o<=0)&&Object(s.u)(n,function(n){return o=d(t,e,n,i),isFinite(o)&&o>0}),o}function f(t,e,n,a,d,p,f,m,g,y,_,b){const v=Object(o.a)(Math.round(n*t),Math.round(n*e));if(Object(r.a)(v,b),0===g.length)return v.canvas;function S(t){return Math.round(t*n)/n}v.scale(n,n),v.globalCompositeOperation="lighter";const T=Object(s.k)();g.forEach(function(t,e,n){Object(s.r)(T,t.extent)});const x=Object(s.F)(T),w=Object(s.B)(T),E=Object(o.a)(Math.round(n*x/a),Math.round(n*w/a));Object(r.a)(E,b);const C=n/a;g.forEach(function(t,e,n){const i=t.extent[0]-T[0],r=-(t.extent[3]-T[3]),o=Object(s.F)(t.extent),a=Object(s.B)(t.extent);t.image.width>0&&t.image.height>0&&E.drawImage(t.image,y,y,t.image.width-2*y,t.image.height-2*y,i*C,r*C,o*C,a*C)});const M=Object(s.D)(f);return m.getTriangles().forEach(function(t,e,r){const s=t.source,o=t.target;let d=s[0][0],f=s[0][1],m=s[1][0],g=s[1][1],y=s[2][0],_=s[2][1];const x=S((o[0][0]-M[0])/p),w=S(-(o[0][1]-M[1])/p),C=S((o[1][0]-M[0])/p),O=S(-(o[1][1]-M[1])/p),A=S((o[2][0]-M[0])/p),I=S(-(o[2][1]-M[1])/p),R=d,L=f;d=0,f=0,m-=R,g-=L,y-=R,_-=L;const P=[[m,g,0,0,C-x],[y,_,0,0,A-x],[0,0,m,g,O-w],[0,0,y,_,I-w]],D=Object(l.f)(P);if(D){if(v.save(),v.beginPath(),function(){if(void 0===c){const t=document.createElement("canvas").getContext("2d");t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",h(t,4,5,4,0),h(t,4,5,0,5);const e=t.getImageData(0,0,3,3).data;c=u(e,0)||u(e,4)||u(e,8)}return c}()||b===i.b){v.moveTo(C,O);const t=4,e=x-C,n=w-O;for(let i=0;i<t;i++)v.lineTo(C+S((i+1)*e/t),O+S(i*n/(t-1))),i!=t-1&&v.lineTo(C+S((i+1)*e/t),O+S((i+1)*n/(t-1)));v.lineTo(A,I)}else v.moveTo(C,O),v.lineTo(x,w),v.lineTo(A,I);v.clip(),v.transform(D[0],D[2],D[1],D[3],x,w),v.translate(T[0]-R,T[3]-L),v.scale(a/n,-a/n),v.drawImage(E.canvas,0,0),v.restore()}}),_&&(v.save(),v.globalCompositeOperation="source-over",v.strokeStyle="black",v.lineWidth=1,m.getTriangles().forEach(function(t,e,n){const i=t.target,r=(i[0][0]-M[0])/p,s=-(i[0][1]-M[1])/p,o=(i[1][0]-M[0])/p,a=-(i[1][1]-M[1])/p,l=(i[2][0]-M[0])/p,c=-(i[2][1]-M[1])/p;v.beginPath(),v.moveTo(o,a),v.lineTo(r,s),v.lineTo(l,c),v.closePath(),v.stroke()}),v.restore()),v.canvas}},iB0p:function(t,e,n){"use strict";function i(t,e,n,i){for(;e<n-i;){for(let r=0;r<i;++r){const s=t[e+r];t[e+r]=t[n-i+r],t[n-i+r]=s}e+=i,n-=i}}function r(t,e,n,i){let r=0,s=t[n-i],o=t[n-i+1];for(;e<n;e+=i){const n=t[e],i=t[e+1];r+=(n-s)*(i+o),s=n,o=i}return 0===r?void 0:r>0}function s(t,e,n,i,s){const o=void 0!==s&&s;for(let a=0,l=n.length;a<l;++a){const s=n[a],l=r(t,e,s,i);if(0===a){if(o&&l||!o&&!l)return!1}else if(o&&!l||!o&&l)return!1;e=s}return!0}function o(t,e,n,i,r){for(let o=0,a=n.length;o<a;++o){const a=n[o];if(!s(t,e,a,i,r))return!1;a.length&&(e=a[a.length-1])}return!0}function a(t,e,n,s,o){const a=void 0!==o&&o;for(let l=0,c=n.length;l<c;++l){const o=n[l],c=r(t,e,o,s);(0===l?a&&c||!a&&!c:a&&!c||!a&&c)&&i(t,e,o,s),e=o}return e}function l(t,e,n,i,r){for(let s=0,o=n.length;s<o;++s)e=a(t,e,n[s],i,r);return e}n.d(e,"a",function(){return r}),n.d(e,"b",function(){return s}),n.d(e,"c",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"e",function(){return l})},iInd:function(t,e,n){"use strict";n.d(e,"a",function(){return Kt}),n.d(e,"b",function(){return wn}),n.d(e,"c",function(){return gn}),n.d(e,"d",function(){return vn}),n.d(e,"e",function(){return _n}),n.d(e,"f",function(){return Ln}),n.d(e,"g",function(){return Sn});var i=n("SVse"),r=n("8Y7J"),s=n("Cfvw"),o=n("LRne"),a=n("2Vo4"),l=n("itXk"),c=n("HDdC"),h=n("sVev"),u=n("GyhO"),d=n("EY2u");function p(t){return new c.a(e=>{let n;try{n=t()}catch(i){return void e.error(i)}return(n?Object(s.a)(n):Object(d.b)()).subscribe(e)})}var f=n("EQ5u"),m=n("XNiG"),g=n("lJxs"),y=n("eIep"),_=n("IzEk"),b=n("JX91"),v=n("7o/Q");function S(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new T(t,e,n))}}class T{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new x(t,this.accumulator,this.seed,this.hasSeed))}}class x extends v.a{constructor(t,e,n,i){super(t),this.accumulator=e,this._seed=n,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(i){this.destination.error(i)}this.seed=n,this.destination.next(n)}}var w=n("pLZG"),E=n("zx2A");function C(t){return function(e){const n=new M(t),i=e.lift(n);return n.caught=i}}class M{constructor(t){this.selector=t}call(t,e){return e.subscribe(new O(t,this.selector,this.caught))}}class O extends E.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const i=new E.a(this);this.add(i);const r=Object(E.c)(n,i);r!==i&&this.add(r)}}}var A=n("bOdf"),I=n("4I5i");function R(t){return function(e){return 0===t?Object(d.b)():e.lift(new L(t))}}class L{constructor(t){if(this.total=t,this.total<0)throw new I.a}call(t,e){return e.subscribe(new P(t,this.total))}}class P extends v.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,i=this.count++;e.length<n?e.push(t):e[i%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,i=this.ring;for(let r=0;r<n;r++){const r=e++%n;t.next(i[r])}}t.complete()}}var D=n("XDbj"),N=n("xbPD"),j=n("SpAZ"),k=n("SxV6"),F=n("5+tZ"),U=n("vkgz"),G=n("x+ZX"),V=n("quSY");class B{constructor(t){this.callback=t}call(t,e){return e.subscribe(new z(t,this.callback))}}class z extends v.a{constructor(t,e){super(t),this.add(new V.a(e))}}var H=n("bHdf");class X{constructor(t,e){this.id=t,this.url=e}}class q extends X{constructor(t,e,n="imperative",i=null){super(t,e),this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class W extends X{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Y extends X{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class K extends X{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Z extends X{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class J extends X{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Q extends X{constructor(t,e,n,i,r){super(t,e),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $ extends X{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tt extends X{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class et{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class nt{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class it{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rt{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class st{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ot{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class at{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class lt{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function ct(t){return new lt(t)}function ht(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function ut(t,e,n){const i=n.path.split("/");if(i.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||i.length<t.length))return null;const r={};for(let s=0;s<i.length;s++){const e=i[s],n=t[s];if(e.startsWith(":"))r[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function dt(t,e){const n=t?Object.keys(t):void 0,i=e?Object.keys(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let s=0;s<n.length;s++)if(r=n[s],!pt(t[r],e[r]))return!1;return!0}function pt(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),i=[...e].sort();return n.every((t,e)=>i[e]===t)}return t===e}function ft(t){return Array.prototype.concat.apply([],t)}function mt(t){return t.length>0?t[t.length-1]:null}function gt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function yt(t){return Object(r.pb)(t)?t:Object(r.qb)(t)?Object(s.a)(Promise.resolve(t)):Object(o.a)(t)}function _t(t,e,n){return n?function(t,e){return dt(t,e)}(t.queryParams,e.queryParams)&&bt(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>pt(t[n],e[n]))}(t.queryParams,e.queryParams)&&vt(t.root,e.root)}function bt(t,e){if(!Et(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!bt(t.children[n],e.children[n]))return!1}return!0}function vt(t,e){return St(t,e,e.segments)}function St(t,e,n){if(t.segments.length>n.length)return!!Et(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!Et(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!vt(t.children[n],e.children[n]))return!1}return!0}{const i=n.slice(0,t.segments.length),r=n.slice(t.segments.length);return!!Et(t.segments,i)&&!!t.children.primary&&St(t.children.primary,e,r)}}class Tt{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ct(this.queryParams)),this._queryParamMap}toString(){return Ot.serialize(this)}}class xt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,gt(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return At(this)}}class wt{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=ct(this.parameters)),this._parameterMap}toString(){return jt(this)}}function Et(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class Ct{}class Mt{parse(t){const e=new Vt(t);return new Tt(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${It(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Lt(e)}=${Lt(t)}`).join("&"):`${Lt(e)}=${Lt(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const Ot=new Mt;function At(t){return t.segments.map(t=>jt(t)).join("/")}function It(t,e){if(!t.hasChildren())return At(t);if(e){const e=t.children.primary?It(t.children.primary,!1):"",n=[];return gt(t.children,(t,e)=>{"primary"!==e&&n.push(`${e}:${It(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return gt(t.children,(t,i)=>{"primary"===i&&(n=n.concat(e(t,i)))}),gt(t.children,(t,i)=>{"primary"!==i&&(n=n.concat(e(t,i)))}),n}(t,(e,n)=>"primary"===n?[It(t.children.primary,!1)]:[`${n}:${It(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${At(t)}/${e[0]}`:`${At(t)}/(${e.join("//")})`}}function Rt(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Lt(t){return Rt(t).replace(/%3B/gi,";")}function Pt(t){return Rt(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Dt(t){return decodeURIComponent(t)}function Nt(t){return Dt(t.replace(/\+/g,"%20"))}function jt(t){return`${Pt(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Pt(t)}=${Pt(e[t])}`).join("")}`;var e}const kt=/^[^\/()?;=#]+/;function Ft(t){const e=t.match(kt);return e?e[0]:""}const Ut=/^[^=?&#]+/,Gt=/^[^?&#]+/;class Vt{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new xt([],{}):new xt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new xt(t,e)),n}parseSegment(){const t=Ft(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new wt(Dt(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Ft(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Ft(this.remaining);t&&(n=t,this.capture(n))}t[Dt(e)]=Dt(n)}parseQueryParam(t){const e=function(t){const e=t.match(Ut);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Gt);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const i=Nt(e),r=Nt(n);if(t.hasOwnProperty(i)){let e=t[i];Array.isArray(e)||(e=[e],t[i]=e),e.push(r)}else t[i]=r}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Ft(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let r;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):t&&(r="primary");const s=this.parseChildren();e[r]=1===Object.keys(s).length?s.primary:new xt([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Bt{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=zt(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=zt(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Ht(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Ht(t,this._root).map(t=>t.value)}}function zt(t,e){if(t===e.value)return e;for(const n of e.children){const e=zt(t,n);if(e)return e}return null}function Ht(t,e){if(t===e.value)return[e];for(const n of e.children){const i=Ht(t,n);if(i.length)return i.unshift(e),i}return[]}class Xt{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function qt(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Wt extends Bt{constructor(t,e){super(t),this.snapshot=e,$t(this,t)}toString(){return this.snapshot.toString()}}function Yt(t,e){const n=function(t,e){const n=new Jt([],{},{},"",{},"primary",e,null,t.root,-1,{});return new Qt("",new Xt(n,[]))}(t,e),i=new a.a([new wt("",{})]),r=new a.a({}),s=new a.a({}),o=new a.a({}),l=new a.a(""),c=new Kt(i,r,o,l,s,"primary",e,n.root);return c.snapshot=n.root,new Wt(new Xt(c,[]),n)}class Kt{constructor(t,e,n,i,r,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(g.a)(t=>ct(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(g.a)(t=>ct(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Zt(t,e="emptyOnly"){const n=t.pathFromRoot;let i=0;if("always"!==e)for(i=n.length-1;i>=1;){const t=n[i],e=n[i-1];if(t.routeConfig&&""===t.routeConfig.path)i--;else{if(e.component)break;i--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(i))}class Jt{constructor(t,e,n,i,r,s,o,a,l,c,h){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=c,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ct(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ct(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Qt extends Bt{constructor(t,e){super(e),this.url=t,$t(this,e)}toString(){return te(this._root)}}function $t(t,e){e.value._routerState=t,e.children.forEach(e=>$t(t,e))}function te(t){const e=t.children.length>0?` { ${t.children.map(te).join(", ")} } `:"";return`${t.value}${e}`}function ee(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,dt(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),dt(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!dt(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),dt(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function ne(t,e){var n,i;return dt(t.params,e.params)&&Et(n=t.url,i=e.url)&&n.every((t,e)=>dt(t.parameters,i[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||ne(t.parent,e.parent))}function ie(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const i=n.value;i._futureSnapshot=e.value;const r=function(t,e,n){return e.children.map(e=>{for(const i of n.children)if(t.shouldReuseRoute(e.value,i.value.snapshot))return ie(t,e,i);return ie(t,e)})}(t,e,n);return new Xt(i,r)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return re(e,t),t}}const n=new Kt(new a.a((i=e.value).url),new a.a(i.params),new a.a(i.queryParams),new a.a(i.fragment),new a.a(i.data),i.outlet,i.component,i),r=e.children.map(e=>ie(t,e));return new Xt(n,r)}var i}function re(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)re(t.children[n],e.children[n])}function se(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function oe(t){return"object"==typeof t&&null!=t&&t.outlets}function ae(t,e,n,i,r){let s={};return i&&gt(i,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new Tt(n.root===t?e:le(n.root,t,e),s,r)}function le(t,e,n){const i={};return gt(t.children,(t,r)=>{i[r]=t===e?n:le(t,e,n)}),new xt(t.segments,i)}class ce{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&se(n[0]))throw new Error("Root segment cannot have matrix parameters");const i=n.find(oe);if(i&&i!==mt(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class he{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function ue(t,e,n){if(t||(t=new xt([],{})),0===t.segments.length&&t.hasChildren())return de(t,e,n);const i=function(t,e,n){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return s;const e=t.segments[r],o=n[i];if(oe(o))break;const a=`${o}`,l=i<n.length-1?n[i+1]:null;if(r>0&&void 0===a)break;if(a&&l&&"object"==typeof l&&void 0===l.outlets){if(!ge(a,l,e))return s;i+=2}else{if(!ge(a,{},e))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const e=new xt(t.segments.slice(0,i.pathIndex),{});return e.children.primary=new xt(t.segments.slice(i.pathIndex),t.children),de(e,0,r)}return i.match&&0===r.length?new xt(t.segments,{}):i.match&&!t.hasChildren()?pe(t,e,n):i.match?de(t,0,r):pe(t,e,n)}function de(t,e,n){if(0===n.length)return new xt(t.segments,{});{const i=function(t){return oe(t[0])?t[0].outlets:{primary:t}}(n),r={};return gt(i,(n,i)=>{"string"==typeof n&&(n=[n]),null!==n&&(r[i]=ue(t.children[i],e,n))}),gt(t.children,(t,e)=>{void 0===i[e]&&(r[e]=t)}),new xt(t.segments,r)}}function pe(t,e,n){const i=t.segments.slice(0,e);let r=0;for(;r<n.length;){const s=n[r];if(oe(s)){const t=fe(s.outlets);return new xt(i,t)}if(0===r&&se(n[0])){i.push(new wt(t.segments[e].path,me(n[0]))),r++;continue}const o=oe(s)?s.outlets.primary:`${s}`,a=r<n.length-1?n[r+1]:null;o&&a&&se(a)?(i.push(new wt(o,me(a))),r+=2):(i.push(new wt(o,{})),r++)}return new xt(i,{})}function fe(t){const e={};return gt(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=pe(new xt([],{}),0,t))}),e}function me(t){const e={};return gt(t,(t,n)=>e[n]=`${t}`),e}function ge(t,e,n){return t==n.path&&dt(e,n.parameters)}class ye{constructor(t,e,n,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=i}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),ee(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const i=qt(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,i[e],n),delete i[e]}),gt(i,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const i=t.value,r=e?e.value:null;if(i===r)if(i.component){const r=n.getContext(i.outlet);r&&this.deactivateChildRoutes(t,e,r.children)}else this.deactivateChildRoutes(t,e,n);else r&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:i})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),i=n&&t.value.component?n.children:e,r=qt(t);for(const s of Object.keys(r))this.deactivateRouteAndItsChildren(r[s],i);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const i=qt(e);t.children.forEach(t=>{this.activateRoutes(t,i[t.value.outlet],n),this.forwardEvent(new ot(t.value.snapshot))}),t.children.length&&this.forwardEvent(new rt(t.value.snapshot))}activateRoutes(t,e,n){const i=t.value,r=e?e.value:null;if(ee(i),i===r)if(i.component){const r=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,r.children)}else this.activateChildRoutes(t,e,n);else if(i.component){const e=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const t=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),_e(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),r=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=i,e.resolver=r,e.outlet&&e.outlet.activateWith(i,r),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function _e(t){ee(t.value),t.children.forEach(_e)}class be{constructor(t,e){this.routes=t,this.module=e}}function ve(t){return"function"==typeof t}function Se(t){return t instanceof Tt}const Te=Symbol("INITIAL_VALUE");function xe(){return Object(y.a)(t=>Object(l.a)(t.map(t=>t.pipe(Object(_.a)(1),Object(b.a)(Te)))).pipe(S((t,e)=>{let n=!1;return e.reduce((t,i,r)=>{if(t!==Te)return t;if(i===Te&&(n=!0),!n){if(!1===i)return i;if(r===e.length-1||Se(i))return i}return t},t)},Te),Object(w.a)(t=>t!==Te),Object(g.a)(t=>Se(t)?t:!0===t),Object(_.a)(1)))}let we=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Lb(0,"router-outlet")},directives:function(){return[Sn]},encapsulation:2}),t})();function Ee(t,e=""){for(let n=0;n<t.length;n++){const i=t[n];Ce(i,Me(e,i))}}function Ce(t,e){t.children&&Ee(t.children,e)}function Me(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Oe(t){const e=t.children&&t.children.map(Oe),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=we),n}function Ae(t){return t.outlet||"primary"}function Ie(t,e){const n=t.filter(t=>Ae(t)===e);return n.push(...t.filter(t=>Ae(t)!==e)),n}const Re={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Le(t,e,n){var i;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Re):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const r=(e.matcher||ut)(n,t,e);if(!r)return Object.assign({},Re);const s={};gt(r.posParams,(t,e)=>{s[e]=t.path});const o=r.consumed.length>0?Object.assign(Object.assign({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o,positionalParamSegments:null!==(i=r.posParams)&&void 0!==i?i:{}}}function Pe(t,e,n,i,r="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>De(t,e,n)&&"primary"!==Ae(n))}(t,n,i)){const r=new xt(e,function(t,e,n,i){const r={};r.primary=i,i._sourceSegment=t,i._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&"primary"!==Ae(s)){const n=new xt([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,r[Ae(s)]=n}return r}(t,e,i,new xt(n,t.children)));return r._sourceSegment=t,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>De(t,e,n))}(t,n,i)){const s=new xt(t.segments,function(t,e,n,i,r,s){const o={};for(const a of i)if(De(t,n,a)&&!r[Ae(a)]){const n=new xt([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[Ae(a)]=n}return Object.assign(Object.assign({},r),o)}(t,e,n,i,t.children,r));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new xt(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function De(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Ne(t,e,n,i){return!!(Ae(t)===i||"primary"!==i&&De(e,n,t))&&("**"===t.path||Le(e,t,n).matched)}function je(t,e,n){return 0===e.length&&!t.children[n]}class ke{constructor(t){this.segmentGroup=t||null}}class Fe{constructor(t){this.urlTree=t}}function Ue(t){return new c.a(e=>e.error(new ke(t)))}function Ge(t){return new c.a(e=>e.error(new Fe(t)))}function Ve(t){return new c.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Be{constructor(t,e,n,i,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(r.y)}apply(){const t=Pe(this.urlTree.root,[],[],this.config).segmentGroup,e=new xt(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,"primary").pipe(Object(g.a)(t=>this.createUrlTree(ze(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(C(t=>{if(t instanceof Fe)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof ke)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object(g.a)(e=>this.createUrlTree(ze(e),t.queryParams,t.fragment))).pipe(C(t=>{if(t instanceof ke)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const i=t.segments.length>0?new xt([],{primary:t}):t;return new Tt(i,e,n)}expandSegmentGroup(t,e,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(g.a)(t=>new xt([],t))):this.expandSegment(t,n,e,n.segments,i,!0)}expandChildren(t,e,n){const i=[];for(const r of Object.keys(n.children))"primary"===r?i.unshift(r):i.push(r);return Object(s.a)(i).pipe(Object(A.a)(i=>{const r=n.children[i],s=Ie(e,i);return this.expandSegmentGroup(t,s,r,i).pipe(Object(g.a)(t=>({segment:t,outlet:i})))}),S((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return i=>i.pipe(t?Object(w.a)((e,n)=>t(e,n,i)):j.a,R(1),n?Object(N.a)(e):Object(D.a)(()=>new h.a))}())}expandSegment(t,e,n,i,r,a){return Object(s.a)(n).pipe(Object(A.a)(s=>this.expandSegmentAgainstRoute(t,e,n,s,i,r,a).pipe(C(t=>{if(t instanceof ke)return Object(o.a)(null);throw t}))),Object(k.a)(t=>!!t),C((t,n)=>{if(t instanceof h.a||"EmptyError"===t.name){if(je(e,i,r))return Object(o.a)(new xt([],{}));throw new ke(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,i,r,s,o){return Ne(i,e,r,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,r,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s):Ue(e):Ue(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,i){const r=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Ge(r):this.lineralizeSegments(n,r).pipe(Object(F.a)(n=>{const r=new xt(n,{});return this.expandSegment(t,r,e,n,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s){const{matched:o,consumedSegments:a,lastChild:l,positionalParamSegments:c}=Le(e,i,r);if(!o)return Ue(e);const h=this.applyRedirectCommands(a,i.redirectTo,c);return i.redirectTo.startsWith("/")?Ge(h):this.lineralizeSegments(i,h).pipe(Object(F.a)(i=>this.expandSegment(t,e,n,i.concat(r.slice(l)),s,!1)))}matchSegmentAgainstRoute(t,e,n,i,r){if("**"===n.path)return n.loadChildren?(n._loadedConfig?Object(o.a)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(Object(g.a)(t=>(n._loadedConfig=t,new xt(i,{})))):Object(o.a)(new xt(i,{}));const{matched:s,consumedSegments:a,lastChild:l}=Le(e,n,i);if(!s)return Ue(e);const c=i.slice(l);return this.getChildConfig(t,n,i).pipe(Object(F.a)(t=>{const i=t.module,s=t.routes,{segmentGroup:l,slicedSegments:h}=Pe(e,a,c,s),u=new xt(l.segments,l.children);if(0===h.length&&u.hasChildren())return this.expandChildren(i,s,u).pipe(Object(g.a)(t=>new xt(a,t)));if(0===s.length&&0===h.length)return Object(o.a)(new xt(a,{}));const d=Ae(n)===r;return this.expandSegment(i,u,s,h,d?"primary":r,!0).pipe(Object(g.a)(t=>new xt(a.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(o.a)(new be(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(o.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(F.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(g.a)(t=>(e._loadedConfig=t,t))):function(t){return new c.a(e=>e.error(ht(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(o.a)(new be([],t))}runCanLoadGuards(t,e,n){const i=e.canLoad;if(!i||0===i.length)return Object(o.a)(!0);const r=i.map(i=>{const r=t.get(i);let s;if(function(t){return t&&ve(t.canLoad)}(r))s=r.canLoad(e,n);else{if(!ve(r))throw new Error("Invalid CanLoad guard");s=r(e,n)}return yt(s)});return Object(o.a)(r).pipe(xe(),Object(U.a)(t=>{if(!Se(t))return;const e=ht(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(g.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],i=e.root;for(;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return Object(o.a)(n);if(i.numberOfChildren>1||!i.children.primary)return Ve(t.redirectTo);i=i.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,i){const r=this.createSegmentGroup(t,e.root,n,i);return new Tt(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return gt(t,(t,i)=>{if("string"==typeof t&&t.startsWith(":")){const r=t.substring(1);n[i]=e[r]}else n[i]=t}),n}createSegmentGroup(t,e,n,i){const r=this.createSegments(t,e.segments,n,i);let s={};return gt(e.children,(e,r)=>{s[r]=this.createSegmentGroup(t,e,n,i)}),new xt(r,s)}createSegments(t,e,n,i){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,i):this.findOrReturn(e,n))}findPosParam(t,e,n){const i=n[e.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return i}findOrReturn(t,e){let n=0;for(const i of e){if(i.path===t.path)return e.splice(n),i;n++}return t}}function ze(t){const e={};for(const n of Object.keys(t.children)){const i=ze(t.children[n]);(i.segments.length>0||i.hasChildren())&&(e[n]=i)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new xt(t.segments.concat(e.segments),e.children)}return t}(new xt(t.segments,e))}class He{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Xe{constructor(t,e){this.component=t,this.route=e}}function qe(t,e,n){const i=t._root;return Ye(i,e?e._root:null,n,[i.value])}function We(t,e,n){const i=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:n).get(t)}function Ye(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=qt(e);return t.children.forEach(t=>{!function(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Et(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Et(t.url,e.url)||!dt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ne(t,e)||!dt(t.queryParams,e.queryParams);case"paramsChange":default:return!ne(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new He(i)):(s.data=o.data,s._resolvedData=o._resolvedData),Ye(t,e,s.component?a?a.children:null:n,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Xe(a.outlet.component,o))}else o&&Ke(e,a,r),r.canActivateChecks.push(new He(i)),Ye(t,null,s.component?a?a.children:null:n,i,r)}(t,s[t.value.outlet],n,i.concat([t.value]),r),delete s[t.value.outlet]}),gt(s,(t,e)=>Ke(t,n.getContext(e),r)),r}function Ke(t,e,n){const i=qt(t),r=t.value;gt(i,(t,i)=>{Ke(t,r.component?e?e.children.getContext(i):null:e,n)}),n.canDeactivateChecks.push(new Xe(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}class Ze{}function Je(t){return new c.a(e=>e.error(t))}class Qe{constructor(t,e,n,i,r,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=i,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=s}recognize(){const t=Pe(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary");if(null===e)return null;const n=new Jt([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Xt(n,e),r=new Qt(this.url,i);return this.inheritParamsAndData(r._root),r}inheritParamsAndData(t){const e=t.value,n=Zt(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const r of Object.keys(e.children)){const i=e.children[r],s=Ie(t,r),o=this.processSegmentGroup(s,i,r);if(null===o)return null;n.push(...o)}const i=tn(n);return i.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),i}processSegment(t,e,n,i){for(const r of t){const t=this.processSegmentAgainstRoute(r,e,n,i);if(null!==t)return t}return je(e,n,i)?[]:null}processSegmentAgainstRoute(t,e,n,i){if(t.redirectTo||!Ne(t,e,n,i))return null;let r,s=[],o=[];if("**"===t.path){const i=n.length>0?mt(n).parameters:{};r=new Jt(n,i,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,rn(t),Ae(t),t.component,t,en(e),nn(e)+n.length,sn(t))}else{const i=Le(e,t,n);if(!i.matched)return null;s=i.consumedSegments,o=n.slice(i.lastChild),r=new Jt(s,i.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,rn(t),Ae(t),t.component,t,en(e),nn(e)+s.length,sn(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:l,slicedSegments:c}=Pe(e,s,o,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&l.hasChildren()){const t=this.processChildren(a,l);return null===t?null:[new Xt(r,t)]}if(0===a.length&&0===c.length)return[new Xt(r,[])];const h=Ae(t)===i,u=this.processSegment(a,l,c,h?"primary":i);return null===u?null:[new Xt(r,u)]}}function $e(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function tn(t){const e=[],n=new Set;for(const i of t){if(!$e(i)){e.push(i);continue}const t=e.find(t=>i.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...i.children),n.add(t)):e.push(i)}for(const i of n){const t=tn(i.children);e.push(new Xt(i.value,t))}return e.filter(t=>!n.has(t))}function en(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function nn(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function rn(t){return t.data||{}}function sn(t){return t.resolve||{}}function on(t){return Object(y.a)(e=>{const n=t(e);return n?Object(s.a)(n).pipe(Object(g.a)(()=>e)):Object(o.a)(e)})}class an extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const ln=new r.r("ROUTES");class cn{constructor(t,e,n,i){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=i}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(Object(g.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new be(ft(i.injector.get(ln,void 0,r.q.Self|r.q.Optional)).map(Oe),i)}),C(t=>{throw e._loader$=void 0,t}));return e._loader$=new f.a(n,()=>new m.a).pipe(Object(G.a)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?Object(s.a)(this.loader.load(t)):yt(t()).pipe(Object(F.a)(t=>t instanceof r.w?Object(o.a)(t):Object(s.a)(this.compiler.compileModuleAsync(t))))}}class hn{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new un,this.attachRef=null}}class un{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new hn,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class dn{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function pn(t){throw t}function fn(t,e,n){return e.parse("/")}function mn(t,e){return Object(o.a)(null)}let gn=(()=>{class t{constructor(t,e,n,i,s,o,l,c){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new m.a,this.errorHandler=pn,this.malformedUriErrorHandler=fn,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:mn,afterPreactivation:mn},this.urlHandlingStrategy=new dn,this.routeReuseStrategy=new an,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=s.get(r.y),this.console=s.get(r.X);const h=s.get(r.A);this.isNgZoneEnabled=h instanceof r.A&&r.A.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new Tt(new xt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new cn(o,l,t=>this.triggerEvent(new et(t)),t=>this.triggerEvent(new nt(t))),this.routerState=Yt(this.currentUrlTree,this.rootComponentType),this.transitions=new a.a({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Object(w.a)(t=>0!==t.id),Object(g.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Object(y.a)(t=>{let n=!1,i=!1;return Object(o.a)(t).pipe(Object(U.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Object(y.a)(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(o.a)(t).pipe(Object(y.a)(t=>{const n=this.transitions.getValue();return e.next(new q(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?d.a:Promise.resolve(t)}),(i=this.ngModule.injector,r=this.configLoader,s=this.urlSerializer,a=this.config,Object(y.a)(t=>function(t,e,n,i,r){return new Be(t,e,n,i,r).apply()}(i,r,s,t.extractedUrl,a).pipe(Object(g.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(U.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,i,r){return Object(F.a)(s=>function(t,e,n,i,r="emptyOnly",s="legacy"){try{const a=new Qe(t,e,n,i,r,s).recognize();return null===a?Je(new Ze):Object(o.a)(a)}catch(a){return Je(a)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),i,r).pipe(Object(g.a)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(U.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new Z(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var i,r,s,a;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:i,source:r,restoredState:s,extras:a}=t,l=new q(n,this.serializeUrl(i),r,s);e.next(l);const c=Yt(i,this.rootComponentType).snapshot;return Object(o.a)(Object.assign(Object.assign({},t),{targetSnapshot:c,urlAfterRedirects:i,extras:Object.assign(Object.assign({},a),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),d.a}),on(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!s,replaceUrl:!!o})}),Object(U.a)(t=>{const e=new J(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(g.a)(t=>Object.assign(Object.assign({},t),{guards:qe(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(F.a)(n=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:a,canDeactivateChecks:l}}=n;return 0===l.length&&0===a.length?Object(o.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,i){return Object(s.a)(t).pipe(Object(F.a)(t=>function(t,e,n,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(o.a)(!0);const a=s.map(s=>{const o=We(s,e,r);let a;if(function(t){return t&&ve(t.canDeactivate)}(o))a=yt(o.canDeactivate(t,e,n,i));else{if(!ve(o))throw new Error("Invalid CanDeactivate guard");a=yt(o(t,e,n,i))}return a.pipe(Object(k.a)())});return Object(o.a)(a).pipe(xe())}(t.component,t.route,n,e,i)),Object(k.a)(t=>!0!==t,!0))}(l,i,r,t).pipe(Object(F.a)(n=>n&&"boolean"==typeof n?function(t,e,n,i){return Object(s.a)(e).pipe(Object(A.a)(e=>Object(u.a)(function(t,e){return null!==t&&e&&e(new it(t)),Object(o.a)(!0)}(e.route.parent,i),function(t,e){return null!==t&&e&&e(new st(t)),Object(o.a)(!0)}(e.route,i),function(t,e,n){const i=e[e.length-1],r=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>p(()=>{const r=e.guards.map(r=>{const s=We(r,e.node,n);let o;if(function(t){return t&&ve(t.canActivateChild)}(s))o=yt(s.canActivateChild(i,t));else{if(!ve(s))throw new Error("Invalid CanActivateChild guard");o=yt(s(i,t))}return o.pipe(Object(k.a)())});return Object(o.a)(r).pipe(xe())}));return Object(o.a)(r).pipe(xe())}(t,e.path,n),function(t,e,n){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return Object(o.a)(!0);const r=i.map(i=>p(()=>{const r=We(i,e,n);let s;if(function(t){return t&&ve(t.canActivate)}(r))s=yt(r.canActivate(e,t));else{if(!ve(r))throw new Error("Invalid CanActivate guard");s=yt(r(e,t))}return s.pipe(Object(k.a)())}));return Object(o.a)(r).pipe(xe())}(t,e.route,n))),Object(k.a)(t=>!0!==t,!0))}(i,a,t,e):Object(o.a)(n)),Object(g.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(U.a)(t=>{if(Se(t.guardsResult)){const e=ht(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new Q(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Object(w.a)(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Y(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),on(t=>{if(t.guards.canActivateChecks.length)return Object(o.a)(t).pipe(Object(U.a)(t=>{const e=new $(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(y.a)(t=>{let n=!1;return Object(o.a)(t).pipe((i=this.paramsInheritanceStrategy,r=this.ngModule.injector,Object(F.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(o.a)(t);let a=0;return Object(s.a)(n).pipe(Object(A.a)(t=>function(t,e,n,i){return function(t,e,n,i){const r=Object.keys(t);if(0===r.length)return Object(o.a)({});const a={};return Object(s.a)(r).pipe(Object(F.a)(r=>function(t,e,n,i){const r=We(t,e,i);return yt(r.resolve?r.resolve(e,n):r(e,n))}(t[r],e,n,i).pipe(Object(U.a)(t=>{a[r]=t}))),R(1),Object(F.a)(()=>Object.keys(a).length===r.length?Object(o.a)(a):d.a))}(t._resolve,t,e,i).pipe(Object(g.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Zt(t,n).resolve),null)))}(t.route,e,i,r)),Object(U.a)(()=>a++),R(1),Object(F.a)(e=>a===n.length?Object(o.a)(t):d.a))})),Object(U.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new Y(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var i,r}),Object(U.a)(t=>{const e=new tt(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),on(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!s,replaceUrl:!!o})}),Object(g.a)(t=>{const e=function(t,e,n){const i=ie(t,e._root,n?n._root:void 0);return new Wt(i,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(U.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(a=this.rootContexts,l=this.routeReuseStrategy,c=t=>this.triggerEvent(t),Object(g.a)(t=>(new ye(l,t.targetRouterState,t.currentRouterState,c).activate(a),t))),Object(U.a)({next(){n=!0},complete(){n=!0}}),(r=()=>{if(!n&&!i){this.resetUrlToCurrentUrlTree();const n=new Y(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new B(r))),C(n=>{if(i=!0,(r=n)&&r.ngNavigationCancelingError){const i=Se(n.url);i||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const r=new Y(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(r),i?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const i=new K(t.id,this.serializeUrl(t.extractedUrl),n);e.next(i);try{t.resolve(this.errorHandler(n))}catch(s){t.reject(s)}}var r;return d.a}));var r,a,l,c}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:i}=e,r={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(r.state=t)}this.scheduleNavigation(i,t,n,r)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Ee(t),this.config=t.map(Oe),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:r,queryParamsHandling:s,preserveFragment:o}=e,a=n||this.routerState.root,l=o?this.currentUrlTree.fragment:r;let c=null;switch(s){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=i||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,i,r){if(0===n.length)return ae(e.root,e.root,e,i,r);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new ce(!0,0,t);let e=0,n=!1;const i=t.reduce((t,i,r)=>{if("object"==typeof i&&null!=i){if(i.outlets){const e={};return gt(i.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(i.segmentPath)return[...t,i.segmentPath]}return"string"!=typeof i?[...t,i]:0===r?(i.split("/").forEach((i,r)=>{0==r&&"."===i||(0==r&&""===i?n=!0:".."===i?e++:""!=i&&t.push(i))}),t):[...t,i]},[]);return new ce(n,e,i)}(n);if(s.toRoot())return ae(e.root,new xt([],{}),e,i,r);const o=function(t,e,n){if(t.isAbsolute)return new he(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new he(t,t===e.root,0)}const i=se(t.commands[0])?0:1;return function(t,e,n){let i=t,r=e,s=n;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new he(i,!1,r-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?de(o.segmentGroup,o.index,s.commands):ue(o.segmentGroup,o.index,s.commands);return ae(o.segmentGroup,a,e,i,r)}(a,this.currentUrlTree,t,c,l)}navigateByUrl(t,e={skipLocationChange:!1}){const n=Se(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(Se(t))return _t(this.currentUrlTree,t,e);const n=this.parseUrl(t);return _t(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const i=t[n];return null!=i&&(e[n]=i),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new W(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,i,r){if(this.disposed)return Promise.resolve(!1);const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let l,c,h;r?(l=r.resolve,c=r.reject,h=r.promise):h=new Promise((t,e)=>{l=t,c=e});const u=++this.navigationId;return this.setTransition({id:u,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:i,resolve:l,reject:c,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,i){const r=this.urlSerializer.serialize(t);i=i||{},this.location.isCurrentPathEqualTo(r)||e?this.location.replaceState(r,"",Object.assign(Object.assign({},i),{navigationId:n})):this.location.go(r,"",Object.assign(Object.assign({},i),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.N),r.Ub(Ct),r.Ub(un),r.Ub(i.j),r.Ub(r.s),r.Ub(r.x),r.Ub(r.i),r.Ub(void 0))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),yn=(()=>{class t{constructor(t,e,n,i,r){this.router=t,this.route=e,this.commands=[],this.onChanges=new m.a,null==n&&i.setAttribute(r.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:bn(this.skipLocationChange),replaceUrl:bn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:bn(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(gn),r.Kb(Kt),r.Vb("tabindex"),r.Kb(r.E),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.Xb("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.xb]}),t})(),_n=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new m.a,this.subscription=t.events.subscribe(t=>{t instanceof W&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,i,r){if(0!==t||e||n||i||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:bn(this.skipLocationChange),replaceUrl:bn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:bn(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(gn),r.Kb(Kt),r.Kb(i.k))},t.\u0275dir=r.Fb({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Xb("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(r.Tb("href",e.href,r.rc),r.Ab("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.xb]}),t})();function bn(t){return""===t||!!t}let vn=(()=>{class t{constructor(t,e,n,i,r,s){this.router=t,this.element=e,this.renderer=n,this.cdr=i,this.link=r,this.linkWithHref=s,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(t=>{t instanceof W&&this.update()})}ngAfterContentInit(){Object(o.a)(this.links.changes,this.linksWithHrefs.changes,Object(o.a)(null)).pipe(Object(H.a)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=Object(s.a)(e).pipe(Object(H.a)()).subscribe(t=>{this.isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(gn),r.Kb(r.l),r.Kb(r.E),r.Kb(r.h),r.Kb(yn,8),r.Kb(_n,8))},t.\u0275dir=r.Fb({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){if(1&t&&(r.Db(n,yn,1),r.Db(n,_n,1)),2&t){let t;r.kc(t=r.Yb())&&(e.links=t),r.kc(t=r.Yb())&&(e.linksWithHrefs=t)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[r.xb]}),t})(),Sn=(()=>{class t{constructor(t,e,n,i,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,r=new Tn(t,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(un),r.Kb(r.P),r.Kb(r.j),r.Vb("name"),r.Kb(r.h))},t.\u0275dir=r.Fb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Tn{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Kt?this.route:t===un?this.childContexts:this.parent.get(t,e)}}class xn{}class wn{preload(t,e){return e().pipe(C(()=>Object(o.a)(null)))}}class En{preload(t,e){return Object(o.a)(null)}}let Cn=(()=>{class t{constructor(t,e,n,i,r){this.router=t,this.injector=i,this.preloadingStrategy=r,this.loader=new cn(e,n,e=>t.triggerEvent(new et(e)),e=>t.triggerEvent(new nt(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Object(w.a)(t=>t instanceof W),Object(A.a)(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.y);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const i of e)if(i.loadChildren&&!i.canLoad&&i._loadedConfig){const t=i._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else i.loadChildren&&!i.canLoad?n.push(this.preloadConfig(t,i)):i.children&&n.push(this.processRoutes(t,i.children));return Object(s.a)(n).pipe(Object(H.a)(),Object(g.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?Object(o.a)(e._loadedConfig):this.loader.load(t.injector,e)).pipe(Object(F.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(gn),r.Ub(r.x),r.Ub(r.i),r.Ub(r.s),r.Ub(xn))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),Mn=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof q?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof W&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof at&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new at(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(gn),r.Ub(i.v),r.Ub(void 0))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const On=new r.r("ROUTER_CONFIGURATION"),An=new r.r("ROUTER_FORROOT_GUARD"),In=[i.j,{provide:Ct,useClass:Mt},{provide:gn,useFactory:function(t,e,n,r,s,o,a,l={},c,h){const u=new gn(null,t,e,n,r,s,o,ft(a));if(c&&(u.urlHandlingStrategy=c),h&&(u.routeReuseStrategy=h),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(l,u),l.enableTracing){const t=Object(i.D)();u.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return u},deps:[Ct,un,i.j,r.s,r.x,r.i,ln,On,[class{},new r.B],[class{},new r.B]]},un,{provide:Kt,useFactory:function(t){return t.routerState.root},deps:[gn]},{provide:r.x,useClass:r.K},Cn,En,wn,{provide:On,useValue:{enableTracing:!1}}];function Rn(){return new r.z("Router",gn)}let Ln=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[In,jn(e),{provide:An,useFactory:Nn,deps:[[gn,new r.B,new r.J]]},{provide:On,useValue:n||{}},{provide:i.k,useFactory:Dn,deps:[i.t,[new r.p(i.a),new r.B],On]},{provide:Mn,useFactory:Pn,deps:[gn,i.v,On]},{provide:xn,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:En},{provide:r.z,multi:!0,useFactory:Rn},[kn,{provide:r.d,multi:!0,useFactory:Fn,deps:[kn]},{provide:Gn,useFactory:Un,deps:[kn]},{provide:r.b,multi:!0,useExisting:Gn}]]}}static forChild(e){return{ngModule:t,providers:[jn(e)]}}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(An,8),r.Ub(gn,8))},t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({}),t})();function Pn(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Mn(t,e,n)}function Dn(t,e,n={}){return n.useHash?new i.g(t,e):new i.s(t,e)}function Nn(t){return"guarded"}function jn(t){return[{provide:r.a,multi:!0,useValue:t},{provide:ln,multi:!0,useValue:t}]}let kn=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new m.a}appInitializer(){return this.injector.get(i.i,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(gn),i=this.injector.get(On);return"disabled"===i.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===i.initialNavigation||"enabledBlocking"===i.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(o.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(On),n=this.injector.get(Cn),i=this.injector.get(Mn),s=this.injector.get(gn),o=this.injector.get(r.g);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||s.initialNavigation(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.s))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();function Fn(t){return t.appInitializer.bind(t)}function Un(t){return t.bootstrapListener.bind(t)}const Gn=new r.r("Router Initializer")},iSA6:function(t,e,n){"use strict";e.a={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}},itXk:function(t,e,n){"use strict";n.d(e,"a",function(){return p});var i=n("z+Ro"),r=n("DH7j"),s=n("7o/Q");class o extends s.a{notifyNext(t,e,n,i,r){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class a extends s.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var l=n("SeVD"),c=n("HDdC");function h(t,e,n,i,r=new a(t,n,i)){if(!r.closed)return e instanceof c.a?e.subscribe(r):Object(l.a)(e)(r)}var u=n("yCtX");const d={};function p(...t){let e,n;return Object(i.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(r.a)(t[0])&&(t=t[0]),Object(u.a)(t,n).lift(new f(e))}class f{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new m(t,this.resultSelector))}}class m extends o{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(d),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(h(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const i=this.values,r=this.toRespond?i[n]===d?--this.toRespond:this.toRespond:0;i[n]=e,0===r&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},itZQ:function(t,e,n){"use strict";var i=n("Nr0W"),r=n("fyJ9"),s=n("giCN"),o=n("wRPv"),a=n("aBeY"),l=n("Qbx7"),c=n("jTA9"),h=n("m3va"),u=n("X87I"),d=n("2cyL"),p=n("W74l"),f=n("7tkq"),m=n("wEYg"),g=n("gOFd"),y=n("kEUA"),_=n("sOX2"),b=n("OT4/"),v=n("c73X"),S=n("o5qb"),T=n("2I+J"),x=n("oWEL"),w=n("jVi3"),E=class extends v.a{constructor(){super(),this.xmlSerializer_=Object(w.f)()}getType(){return S.a.XML}readFeature(t,e){if(t){if("string"==typeof t){const n=Object(w.q)(t);return this.readFeatureFromDocument(n,e)}return Object(w.g)(t)?this.readFeatureFromDocument(t,e):this.readFeatureFromNode(t,e)}return null}readFeatureFromDocument(t,e){const n=this.readFeaturesFromDocument(t,e);return n.length>0?n[0]:null}readFeatureFromNode(t,e){return null}readFeatures(t,e){if(t){if("string"==typeof t){const n=Object(w.q)(t);return this.readFeaturesFromDocument(n,e)}return Object(w.g)(t)?this.readFeaturesFromDocument(t,e):this.readFeaturesFromNode(t,e)}return[]}readFeaturesFromDocument(t,e){const n=[];for(let i=t.firstChild;i;i=i.nextSibling)i.nodeType==Node.ELEMENT_NODE&&Object(x.c)(n,this.readFeaturesFromNode(i,e));return n}readFeaturesFromNode(t,e){return Object(T.b)()}readGeometry(t,e){if(t){if("string"==typeof t){const n=Object(w.q)(t);return this.readGeometryFromDocument(n,e)}return Object(w.g)(t)?this.readGeometryFromDocument(t,e):this.readGeometryFromNode(t,e)}return null}readGeometryFromDocument(t,e){return null}readGeometryFromNode(t,e){return null}readProjection(t){if(t){if("string"==typeof t){const e=Object(w.q)(t);return this.readProjectionFromDocument(e)}return Object(w.g)(t)?this.readProjectionFromDocument(t):this.readProjectionFromNode(t)}return null}readProjectionFromDocument(t){return this.dataProjection}readProjectionFromNode(t){return this.dataProjection}writeFeature(t,e){const n=this.writeFeatureNode(t,e);return this.xmlSerializer_.serializeToString(n)}writeFeatureNode(t,e){return null}writeFeatures(t,e){const n=this.writeFeaturesNode(t,e);return this.xmlSerializer_.serializeToString(n)}writeFeaturesNode(t,e){return null}writeGeometry(t,e){const n=this.writeGeometryNode(t,e);return this.xmlSerializer_.serializeToString(n)}writeGeometryNode(t,e){return null}},C=n("uJJw"),M=n("i3ci"),O=n("Znq9"),A=n("xrpK"),I=n("LV+m");const R=["http://www.google.com/kml/ext/2.2"],L=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],P={fraction:c.a.FRACTION,pixels:c.a.PIXELS,insetPixels:c.a.PIXELS},D=Object(w.p)(L,{ExtendedData:jt,Region:kt,MultiGeometry:Object(w.l)(Mt,"geometry"),LineString:Object(w.l)(wt,"geometry"),LinearRing:Object(w.l)(Et,"geometry"),Point:Object(w.l)(Ot,"geometry"),Polygon:Object(w.l)(It,"geometry"),Style:Object(w.l)(Lt),StyleMap:function(t,e){const n=ht.call(this,t,e);if(!n)return;const i=e[e.length-1];Array.isArray(n)?i.Style=n:"string"==typeof n?i.styleUrl=n:Object(M.a)(!1,38)},address:Object(w.l)(A.g),description:Object(w.l)(A.g),name:Object(w.l)(A.g),open:Object(w.l)(A.a),phoneNumber:Object(w.l)(A.g),styleUrl:Object(w.l)(at),visibility:Object(w.l)(A.a)},Object(w.p)(R,{MultiTrack:Object(w.l)(function(t,e){const n=Object(w.s)([],yt,t,e);if(n)return new d.a(n)},"geometry"),Track:Object(w.l)(bt,"geometry")})),N=Object(w.p)(L,{ExtendedData:jt,Region:kt,Link:function(t,e){Object(w.r)(j,t,e)},address:Object(w.l)(A.g),description:Object(w.l)(A.g),name:Object(w.l)(A.g),open:Object(w.l)(A.a),phoneNumber:Object(w.l)(A.g),visibility:Object(w.l)(A.a)}),j=Object(w.p)(L,{href:Object(w.l)(ot)}),k=Object(w.p)(L,{LatLonAltBox:function(t,e){const n=Object(w.s)({},Gt,t,e);if(!n)return;const i=e[e.length-1],r=[parseFloat(n.west),parseFloat(n.south),parseFloat(n.east),parseFloat(n.north)];i.extent=r,i.altitudeMode=n.altitudeMode,i.minAltitude=parseFloat(n.minAltitude),i.maxAltitude=parseFloat(n.maxAltitude)},Lod:function(t,e){const n=Object(w.s)({},Vt,t,e);if(!n)return;const i=e[e.length-1];i.minLodPixels=parseFloat(n.minLodPixels),i.maxLodPixels=parseFloat(n.maxLodPixels),i.minFadeExtent=parseFloat(n.minFadeExtent),i.maxFadeExtent=parseFloat(n.maxFadeExtent)}}),F=Object(w.p)(L,["Document","Placemark"]),U=Object(w.p)(L,{Document:Object(w.j)(function(t,e,n){const i={node:t};Object(w.t)(i,qt,Wt,e,n,void 0,this)}),Placemark:Object(w.j)(ye)});let G,V,B,z,H,X,q,W,Y,K,Z=null,J=null,Q=null,$=null,tt=null,et=null;function nt(t){return t}function it(t,e,n){return Array.isArray(t)?t:"string"==typeof t?it(n[t],e,n):e}function rt(t){const e=Object(w.d)(t,!1),n=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(e);if(n){const t=n[1];return[parseInt(t.substr(6,2),16),parseInt(t.substr(4,2),16),parseInt(t.substr(2,2),16),parseInt(t.substr(0,2),16)/255]}}function st(t){let e=Object(w.d)(t,!1);const n=[];e=e.replace(/\s*,\s*/g,",");const i=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?),([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s+|,|$)(?:([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s+|$))?\s*/i;let r;for(;r=i.exec(e);){const t=parseFloat(r[1]),i=parseFloat(r[2]),s=r[3]?parseFloat(r[3]):0;n.push(t,i,s),e=e.substr(r[0].length)}if(""===e)return n}function ot(t){const e=Object(w.d)(t,!1).trim();let n=t.baseURI;return n&&"about:blank"!=n||(n=window.location.href),n?new URL(e,n).href:e}function at(t){const e=Object(w.d)(t,!1).trim().replace(/^(?!.*#)/,"#");let n=t.baseURI;return n&&"about:blank"!=n||(n=window.location.href),n?new URL(e,n).href:e}function lt(t){return Object(A.c)(t)}const ct=Object(w.p)(L,{Pair:function(t,e){const n=Object(w.s)({},Ft,t,e,this);if(!n)return;const i=n.key;if(i&&"normal"==i){const t=n.styleUrl;t&&(e[e.length-1]=t);const i=n.Style;i&&(e[e.length-1]=i)}}});function ht(t,e){return Object(w.s)(void 0,ct,t,e,this)}const ut=Object(w.p)(L,{Icon:Object(w.l)(function(t,e){return Object(w.s)({},vt,t,e)||null}),color:Object(w.l)(rt),heading:Object(w.l)(A.c),hotSpot:Object(w.l)(function(t){const e=t.getAttribute("xunits"),n=t.getAttribute("yunits");let i;return i="insetPixels"!==e?"insetPixels"!==n?h.a.BOTTOM_LEFT:h.a.TOP_LEFT:"insetPixels"!==n?h.a.BOTTOM_RIGHT:h.a.TOP_RIGHT,{x:parseFloat(t.getAttribute("x")),xunits:P[e],y:parseFloat(t.getAttribute("y")),yunits:P[n],origin:i}}),scale:Object(w.l)(lt)}),dt=Object(w.p)(L,{color:Object(w.l)(rt),scale:Object(w.l)(lt)}),pt=Object(w.p)(L,{color:Object(w.l)(rt),width:Object(w.l)(A.c)}),ft=Object(w.p)(L,{color:Object(w.l)(rt),fill:Object(w.l)(A.a),outline:Object(w.l)(A.a)}),mt=Object(w.p)(L,{coordinates:Object(w.m)(st)});function gt(t,e){return Object(w.s)(null,mt,t,e)}const yt=Object(w.p)(R,{Track:Object(w.i)(bt)}),_t=Object(w.p)(L,{when:function(t,e){const n=e[e.length-1].whens,i=Object(w.d)(t,!1),r=Date.parse(i);n.push(isNaN(r)?0:r)}},Object(w.p)(R,{coord:function(t,e){const n=e[e.length-1].flatCoordinates,i=Object(w.d)(t,!1),r=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(i);if(r){const t=parseFloat(r[1]),e=parseFloat(r[2]),i=parseFloat(r[3]);n.push(t,e,i,0)}else n.push(0,0,0,0)}}));function bt(t,e){const n=Object(w.s)({flatCoordinates:[],whens:[]},_t,t,e);if(!n)return;const i=n.flatCoordinates,r=n.whens;for(let s=0,o=Math.min(i.length,r.length);s<o;++s)i[4*s+3]=r[s];return new u.a(i,o.a.XYZM)}const vt=Object(w.p)(L,{href:Object(w.l)(ot)},Object(w.p)(R,{x:Object(w.l)(A.c),y:Object(w.l)(A.c),w:Object(w.l)(A.c),h:Object(w.l)(A.c)})),St=Object(w.p)(L,{coordinates:Object(w.m)(st)});function Tt(t,e){return Object(w.s)(null,St,t,e)}const xt=Object(w.p)(L,{extrude:Object(w.l)(A.a),tessellate:Object(w.l)(A.a),altitudeMode:Object(w.l)(A.g)});function wt(t,e){const n=Object(w.s)({},xt,t,e),i=Tt(t,e);if(i){const t=new u.a(i,o.a.XYZ);return t.setProperties(n,!0),t}}function Et(t,e){const n=Object(w.s)({},xt,t,e),i=Tt(t,e);if(i){const t=new g.a(i,o.a.XYZ,[i.length]);return t.setProperties(n,!0),t}}const Ct=Object(w.p)(L,{LineString:Object(w.i)(wt),LinearRing:Object(w.i)(Et),MultiGeometry:Object(w.i)(Mt),Point:Object(w.i)(Ot),Polygon:Object(w.i)(It)});function Mt(t,e){const n=Object(w.s)([],Ct,t,e);if(!n)return null;if(0===n.length)return new s.a(n);let i,r=!0;const o=n[0].getType();let l;for(let s=1,a=n.length;s<a;++s)if(l=n[s],l.getType()!=o){r=!1;break}if(r){let t,e;if(o==a.a.POINT){const r=n[0];t=r.getLayout(),e=r.getFlatCoordinates();for(let t=1,i=n.length;t<i;++t)l=n[t],Object(x.c)(e,l.getFlatCoordinates());i=new p.a(e,t),Pt(i,n)}else o==a.a.LINE_STRING?(i=new d.a(n),Pt(i,n)):o==a.a.POLYGON?(i=new f.a(n),Pt(i,n)):o==a.a.GEOMETRY_COLLECTION?i=new s.a(n):Object(M.a)(!1,37)}else i=new s.a(n);return i}function Ot(t,e){const n=Object(w.s)({},xt,t,e),i=Tt(t,e);if(i){const t=new m.a(i,o.a.XYZ);return t.setProperties(n,!0),t}}const At=Object(w.p)(L,{innerBoundaryIs:function(t,e){const n=Object(w.s)(void 0,Bt,t,e);n&&e[e.length-1].push(n)},outerBoundaryIs:function(t,e){const n=Object(w.s)(void 0,zt,t,e);n&&(e[e.length-1][0]=n)}});function It(t,e){const n=Object(w.s)({},xt,t,e),i=Object(w.s)([null],At,t,e);if(i&&i[0]){const t=i[0],e=[t.length];for(let n=1,s=i.length;n<s;++n)Object(x.c)(t,i[n]),e.push(t.length);const r=new g.a(t,o.a.XYZ,e);return r.setProperties(n,!0),r}}const Rt=Object(w.p)(L,{IconStyle:function(t,e){const n=Object(w.s)({},ut,t,e);if(!n)return;const i=e[e.length-1],r="Icon"in n?n.Icon:{},s=!("Icon"in n)||Object.keys(r).length>0;let o;const a=r.href;let u,d,p;a?o=a:s&&(o=X);let f=h.a.BOTTOM_LEFT;const m=n.hotSpot;let g;m?(u=[m.x,m.y],d=m.xunits,p=m.yunits,f=m.origin):o===X?(u=V,d=B,p=z):/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(o)&&(u=[.5,0],d=c.a.FRACTION,p=c.a.FRACTION);const y=r.x,_=r.y;let b;void 0!==y&&void 0!==_&&(g=[y,_]);const v=r.w,S=r.h;let T;void 0!==v&&void 0!==S&&(b=[v,S]);const x=n.heading;void 0!==x&&(T=Object(I.j)(x));let E=n.scale;const C=n.color;if(s){o==X&&(b=H,void 0===E&&(E=q));const t=new l.a({anchor:u,anchorOrigin:f,anchorXUnits:d,anchorYUnits:p,crossOrigin:this.crossOrigin_,offset:g,offsetOrigin:h.a.BOTTOM_LEFT,rotation:T,scale:E,size:b,src:this.iconUrlFunction_(o),color:C});i.imageStyle=t}else i.imageStyle=W},LabelStyle:function(t,e){const n=Object(w.s)({},dt,t,e);if(!n)return;const i=e[e.length-1],s=new b.a({fill:new r.a({color:"color"in n?n.color:G}),scale:n.scale});i.textStyle=s},LineStyle:function(t,e){const n=Object(w.s)({},pt,t,e);if(!n)return;const i=e[e.length-1],r=new y.a({color:"color"in n?n.color:G,width:"width"in n?n.width:1});i.strokeStyle=r},PolyStyle:function(t,e){const n=Object(w.s)({},ft,t,e);if(!n)return;const i=e[e.length-1],s=new r.a({color:"color"in n?n.color:G});i.fillStyle=s;const o=n.fill;void 0!==o&&(i.fill=o);const a=n.outline;void 0!==a&&(i.outline=a)}});function Lt(t,e){const n=Object(w.s)({},Rt,t,e,this);if(!n)return null;let i="fillStyle"in n?n.fillStyle:Z;const r=n.fill;let o;void 0===r||r||(i=null),"imageStyle"in n?n.imageStyle!=W&&(o=n.imageStyle):o=J;const l="textStyle"in n?n.textStyle:$,c="strokeStyle"in n?n.strokeStyle:Q,h=n.outline;return void 0===h||h?[new _.b({fill:i,image:o,stroke:c,text:l,zIndex:void 0})]:[new _.b({geometry:function(t){const e=t.getGeometry(),n=e.getType();return n===a.a.GEOMETRY_COLLECTION?new s.a(e.getGeometriesArrayRecursive().filter(function(t){const e=t.getType();return e!==a.a.POLYGON&&e!==a.a.MULTI_POLYGON})):n!==a.a.POLYGON&&n!==a.a.MULTI_POLYGON?e:void 0},fill:i,image:o,stroke:c,text:l,zIndex:void 0}),new _.b({geometry:function(t){const e=t.getGeometry(),n=e.getType();return n===a.a.GEOMETRY_COLLECTION?new s.a(e.getGeometriesArrayRecursive().filter(function(t){const e=t.getType();return e===a.a.POLYGON||e===a.a.MULTI_POLYGON})):n===a.a.POLYGON||n===a.a.MULTI_POLYGON?e:void 0},fill:i,stroke:null,zIndex:void 0})]}function Pt(t,e){const n=e.length,i=new Array(e.length),r=new Array(e.length),s=new Array(e.length);let o,a,l;o=!1,a=!1,l=!1;for(let c=0;c<n;++c){const t=e[c];i[c]=t.get("extrude"),r[c]=t.get("tessellate"),s[c]=t.get("altitudeMode"),o=o||void 0!==i[c],a=a||void 0!==r[c],l=l||s[c]}o&&t.set("extrude",i),a&&t.set("tessellate",r),l&&t.set("altitudeMode",s)}const Dt=Object(w.p)(L,{displayName:Object(w.l)(A.g),value:Object(w.l)(A.g)}),Nt=Object(w.p)(L,{Data:function(t,e){const n=t.getAttribute("name");Object(w.r)(Dt,t,e);const i=e[e.length-1];n&&i.displayName?i[n]={value:i.value,displayName:i.displayName,toString:function(){return i.value}}:null!==n?i[n]=i.value:null!==i.displayName&&(i[i.displayName]=i.value),delete i.value},SchemaData:function(t,e){Object(w.r)(Ut,t,e)}});function jt(t,e){Object(w.r)(Nt,t,e)}function kt(t,e){Object(w.r)(k,t,e)}const Ft=Object(w.p)(L,{Style:Object(w.l)(Lt),key:Object(w.l)(A.g),styleUrl:Object(w.l)(at)}),Ut=Object(w.p)(L,{SimpleData:function(t,e){const n=t.getAttribute("name");if(null!==n){const i=Object(A.g)(t);e[e.length-1][n]=i}}}),Gt=Object(w.p)(L,{altitudeMode:Object(w.l)(A.g),minAltitude:Object(w.l)(A.c),maxAltitude:Object(w.l)(A.c),north:Object(w.l)(A.c),south:Object(w.l)(A.c),east:Object(w.l)(A.c),west:Object(w.l)(A.c)}),Vt=Object(w.p)(L,{minLodPixels:Object(w.l)(A.c),maxLodPixels:Object(w.l)(A.c),minFadeExtent:Object(w.l)(A.c),maxFadeExtent:Object(w.l)(A.c)}),Bt=Object(w.p)(L,{LinearRing:Object(w.m)(gt)}),zt=Object(w.p)(L,{LinearRing:Object(w.m)(gt)});function Ht(t,e){const n=Object(C.a)(e),i=[255*(4==n.length?n[3]:1),n[2],n[1],n[0]];for(let r=0;r<4;++r){const t=Math.floor(i[r]).toString(16);i[r]=1==t.length?"0"+t:t}Object(A.k)(t,i.join(""))}const Xt=Object(w.p)(L,{Data:Object(w.j)(function(t,e,n){t.setAttribute("name",e.name);const i={node:t},r=e.value;"object"==typeof r?(null!==r&&r.displayName&&Object(w.t)(i,Xt,w.a,[r.displayName],n,["displayName"]),null!==r&&r.value&&Object(w.t)(i,Xt,w.a,[r.value],n,["value"])):Object(w.t)(i,Xt,w.a,[r],n,["value"])}),value:Object(w.j)(function(t,e){Object(A.k)(t,e)}),displayName:Object(w.j)(function(t,e){Object(A.i)(t,e)})}),qt=Object(w.p)(L,{Placemark:Object(w.j)(ye)}),Wt=function(t,e,n){const i=e[e.length-1].node;return Object(w.c)(i.namespaceURI,"Placemark")},Yt=Object(w.o)("Data"),Kt=Object(w.p)(L,["href"],Object(w.p)(R,["x","y","w","h"])),Zt=Object(w.p)(L,{href:Object(w.j)(A.k)},Object(w.p)(R,{x:Object(w.j)(A.j),y:Object(w.j)(A.j),w:Object(w.j)(A.j),h:Object(w.j)(A.j)})),Jt=function(t,e,n){return Object(w.c)(R[0],"gx:"+n)},Qt=Object(w.p)(L,["scale","heading","Icon","color","hotSpot"]),$t=Object(w.p)(L,{Icon:Object(w.j)(function(t,e,n){const i={node:t};let r=Kt[n[n.length-1].node.namespaceURI],s=Object(w.n)(e,r);Object(w.t)(i,Zt,w.a,s,n,r),r=Kt[R[0]],s=Object(w.n)(e,r),Object(w.t)(i,Zt,Jt,s,n,r)}),color:Object(w.j)(Ht),heading:Object(w.j)(A.j),hotSpot:Object(w.j)(function(t,e){t.setAttribute("x",String(e.x)),t.setAttribute("y",String(e.y)),t.setAttribute("xunits",e.xunits),t.setAttribute("yunits",e.yunits)}),scale:Object(w.j)(Me)}),te=Object(w.p)(L,["color","scale"]),ee=Object(w.p)(L,{color:Object(w.j)(Ht),scale:Object(w.j)(Me)}),ne=Object(w.p)(L,["color","width"]),ie=Object(w.p)(L,{color:Object(w.j)(Ht),width:Object(w.j)(A.j)}),re={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},se=function(t,e,n){if(t){const n=e[e.length-1].node;return Object(w.c)(n.namespaceURI,re[t.getType()])}},oe=Object(w.o)("Point"),ae=Object(w.o)("LineString"),le=Object(w.o)("LinearRing"),ce=Object(w.o)("Polygon"),he=Object(w.p)(L,{LineString:Object(w.j)(ve),Point:Object(w.j)(ve),Polygon:Object(w.j)(Ee),GeometryCollection:Object(w.j)(ue)});function ue(t,e,n){const i={node:t},r=e.getType();let s,o=[];r===a.a.GEOMETRY_COLLECTION?(e.getGeometriesArrayRecursive().forEach(function(t){const e=t.getType();e===a.a.MULTI_POINT?o=o.concat(t.getPoints()):e===a.a.MULTI_LINE_STRING?o=o.concat(t.getLineStrings()):e===a.a.MULTI_POLYGON?o=o.concat(t.getPolygons()):e===a.a.POINT||e===a.a.LINE_STRING||e===a.a.POLYGON?o.push(t):Object(M.a)(!1,39)}),s=se):r===a.a.MULTI_POINT?(o=e.getPoints(),s=oe):r===a.a.MULTI_LINE_STRING?(o=e.getLineStrings(),s=ae):r===a.a.MULTI_POLYGON?(o=e.getPolygons(),s=ce):Object(M.a)(!1,39),Object(w.t)(i,he,s,o,n)}const de=Object(w.p)(L,{LinearRing:Object(w.j)(ve)});function pe(t,e,n){const i={node:t};Object(w.t)(i,de,le,[e],n)}const fe=Object(w.p)(L,{ExtendedData:Object(w.j)(function(t,e,n){const i={node:t},r=e.names,s=e.values,o=r.length;for(let a=0;a<o;a++)Object(w.t)(i,Xt,Yt,[{name:r[a],value:s[a]}],n)}),MultiGeometry:Object(w.j)(ue),LineString:Object(w.j)(ve),LinearRing:Object(w.j)(ve),Point:Object(w.j)(ve),Polygon:Object(w.j)(Ee),Style:Object(w.j)(function(t,e,n){const i={node:t},r={};if(e.pointStyles.length){const t=e.pointStyles[0].getText();t&&(r.LabelStyle=t);const n=e.pointStyles[0].getImage();n&&"function"==typeof n.getSrc&&(r.IconStyle=n)}if(e.lineStyles.length){const t=e.lineStyles[0].getStroke();t&&(r.LineStyle=t)}if(e.polyStyles.length){const t=e.polyStyles[0].getStroke();t&&!r.LineStyle&&(r.LineStyle=t),r.PolyStyle=e.polyStyles[0]}const s=Oe[n[n.length-1].node.namespaceURI],o=Object(w.n)(r,s);Object(w.t)(i,Ae,w.a,o,n,s)}),address:Object(w.j)(A.k),description:Object(w.j)(A.k),name:Object(w.j)(A.k),open:Object(w.j)(A.h),phoneNumber:Object(w.j)(A.k),styleUrl:Object(w.j)(A.k),visibility:Object(w.j)(A.h)}),me=Object(w.p)(L,["name","open","visibility","address","phoneNumber","description","styleUrl","Style"]),ge=Object(w.o)("ExtendedData");function ye(t,e,n){const i={node:t};e.getId()&&t.setAttribute("id",e.getId());const r=e.getProperties(),s={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};s[e.getGeometryName()]=1;const o=Object.keys(r||{}).sort().filter(function(t){return!s[t]}),l=e.getStyleFunction();if(l){const t=l(e,0);if(t){const n=Array.isArray(t)?t:[t];let i=n;if(e.getGeometry()&&(i=n.filter(function(t){const n=t.getGeometryFunction()(e);if(n){const t=n.getType();return t===a.a.GEOMETRY_COLLECTION?n.getGeometriesArrayRecursive().filter(function(t){const e=t.getType();return e===a.a.POINT||e===a.a.MULTI_POINT}).length:t===a.a.POINT||t===a.a.MULTI_POINT}})),this.writeStyles_){let t=n,s=n;e.getGeometry()&&(t=n.filter(function(t){const n=t.getGeometryFunction()(e);if(n){const t=n.getType();return t===a.a.GEOMETRY_COLLECTION?n.getGeometriesArrayRecursive().filter(function(t){const e=t.getType();return e===a.a.LINE_STRING||e===a.a.MULTI_LINE_STRING}).length:t===a.a.LINE_STRING||t===a.a.MULTI_LINE_STRING}}),s=n.filter(function(t){const n=t.getGeometryFunction()(e);if(n){const t=n.getType();return t===a.a.GEOMETRY_COLLECTION?n.getGeometriesArrayRecursive().filter(function(t){const e=t.getType();return e===a.a.POLYGON||e===a.a.MULTI_POLYGON}).length:t===a.a.POLYGON||t===a.a.MULTI_POLYGON}})),r.Style={pointStyles:i,lineStyles:t,polyStyles:s}}if(i.length&&void 0===r.name){const t=i[0].getText();t&&(r.name=t.getText())}}}const c=me[n[n.length-1].node.namespaceURI],h=Object(w.n)(r,c);if(Object(w.t)(i,fe,w.a,h,n,c),o.length>0){const t={names:o,values:Object(w.n)(r,o)};Object(w.t)(i,fe,ge,[t],n)}const u=n[0];let d=e.getGeometry();d&&(d=Object(v.b)(d,!0,u)),Object(w.t)(i,fe,se,[d],n)}const _e=Object(w.p)(L,["extrude","tessellate","altitudeMode","coordinates"]),be=Object(w.p)(L,{extrude:Object(w.j)(A.h),tessellate:Object(w.j)(A.h),altitudeMode:Object(w.j)(A.k),coordinates:Object(w.j)(function(t,e,n){const i=n[n.length-1],r=i.layout,s=i.stride;let a;r==o.a.XY||r==o.a.XYM?a=2:r==o.a.XYZ||r==o.a.XYZM?a=3:Object(M.a)(!1,34);const l=e.length;let c="";if(l>0){c+=e[0];for(let t=1;t<a;++t)c+=","+e[t];for(let t=s;t<l;t+=s){c+=" "+e[t];for(let n=1;n<a;++n)c+=","+e[t+n]}}Object(A.k)(t,c)})});function ve(t,e,n){const i=e.getFlatCoordinates(),r={node:t};r.layout=e.getLayout(),r.stride=e.getStride();const s=e.getProperties();s.coordinates=i;const o=_e[n[n.length-1].node.namespaceURI],a=Object(w.n)(s,o);Object(w.t)(r,be,w.a,a,n,o)}const Se=Object(w.p)(L,["color","fill","outline"]),Te=Object(w.p)(L,{outerBoundaryIs:Object(w.j)(pe),innerBoundaryIs:Object(w.j)(pe)}),xe=Object(w.o)("innerBoundaryIs"),we=Object(w.o)("outerBoundaryIs");function Ee(t,e,n){const i=e.getLinearRings(),r=i.shift(),s={node:t};Object(w.t)(s,Te,xe,i,n),Object(w.t)(s,Te,we,[r],n)}const Ce=Object(w.p)(L,{color:Object(w.j)(Ht),fill:Object(w.j)(A.h),outline:Object(w.j)(A.h)});function Me(t,e){Object(A.j)(t,Math.round(1e6*e)/1e6)}const Oe=Object(w.p)(L,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),Ae=Object(w.p)(L,{IconStyle:Object(w.j)(function(t,e,n){const i={node:t},r={},s=e.getSrc(),o=e.getSize(),a=e.getImageSize(),l={href:s};if(o){l.w=o[0],l.h=o[1];const t=e.getAnchor(),n=e.getOrigin();n&&a&&0!==n[0]&&n[1]!==o[1]&&(l.x=n[0],l.y=a[1]-(n[1]+o[1])),!t||t[0]===o[0]/2&&t[1]===o[1]/2||(r.hotSpot={x:t[0],xunits:c.a.PIXELS,y:o[1]-t[1],yunits:c.a.PIXELS})}r.Icon=l;const h=e.getScale();1!==h&&(r.scale=h);const u=e.getRotation();0!==u&&(r.heading=u);const d=e.getColor();d&&(r.color=d);const p=Qt[n[n.length-1].node.namespaceURI],f=Object(w.n)(r,p);Object(w.t)(i,$t,w.a,f,n,p)}),LabelStyle:Object(w.j)(function(t,e,n){const i={node:t},r={},s=e.getFill();s&&(r.color=s.getColor());const o=e.getScale();o&&1!==o&&(r.scale=o);const a=te[n[n.length-1].node.namespaceURI],l=Object(w.n)(r,a);Object(w.t)(i,ee,w.a,l,n,a)}),LineStyle:Object(w.j)(function(t,e,n){const i={node:t},r={color:e.getColor(),width:Number(e.getWidth())||1},s=ne[n[n.length-1].node.namespaceURI],o=Object(w.n)(r,s);Object(w.t)(i,ie,w.a,o,n,s)}),PolyStyle:Object(w.j)(function(t,e,n){const i={node:t},r=e.getFill(),s=e.getStroke(),o={color:r?r.getColor():void 0,fill:!!r&&void 0,outline:!!s&&void 0},a=Se[n[n.length-1].node.namespaceURI],l=Object(w.n)(o,a);Object(w.t)(i,Ce,w.a,l,n,a)})});e.a=class extends E{constructor(t){super();const e=t||{};et||(G=[255,255,255,1],Z=new r.a({color:G}),V=[20,2],B=c.a.PIXELS,z=c.a.PIXELS,H=[64,64],X="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png",q=.5,J=new l.a({anchor:V,anchorOrigin:h.a.BOTTOM_LEFT,anchorXUnits:B,anchorYUnits:z,crossOrigin:"anonymous",rotation:0,scale:q,size:H,src:X}),W="NO_IMAGE",Q=new y.a({color:G,width:1}),Y=new y.a({color:[51,51,51,1],width:2}),$=new b.a({font:"bold 16px Helvetica",fill:Z,stroke:Y,scale:.8}),tt=new _.b({fill:Z,image:J,text:$,stroke:Q,zIndex:0}),et=[tt]),this.dataProjection=Object(O.i)("EPSG:4326"),this.defaultStyle_=e.defaultStyle?e.defaultStyle:et,this.extractStyles_=void 0===e.extractStyles||e.extractStyles,this.writeStyles_=void 0===e.writeStyles||e.writeStyles,this.sharedStyles_={},this.showPointNames_=void 0===e.showPointNames||e.showPointNames,this.crossOrigin_=void 0!==e.crossOrigin?e.crossOrigin:"anonymous",this.iconUrlFunction_=e.iconUrlFunction?e.iconUrlFunction:nt}readDocumentOrFolder_(t,e){const n=Object(w.p)(L,{Document:Object(w.h)(this.readDocumentOrFolder_,this),Folder:Object(w.h)(this.readDocumentOrFolder_,this),Placemark:Object(w.i)(this.readPlacemark_,this),Style:this.readSharedStyle_.bind(this),StyleMap:this.readSharedStyleMap_.bind(this)});return Object(w.s)([],n,t,e,this)||void 0}readPlacemark_(t,e){const n=Object(w.s)({geometry:null},D,t,e,this);if(!n)return;const r=new i.a,o=t.getAttribute("id");null!==o&&r.setId(o);const l=e[0],c=n.geometry;if(c&&Object(v.b)(c,!1,l),r.setGeometry(c),delete n.geometry,this.extractStyles_){const t=(h=n.Style,u=n.styleUrl,d=this.defaultStyle_,p=this.sharedStyles_,f=this.showPointNames_,function(t,e){let n=f,i="",r=[];if(n){const e=t.getGeometry();if(e){const t=e.getType();t===a.a.GEOMETRY_COLLECTION?(r=e.getGeometriesArrayRecursive().filter(function(t){const e=t.getType();return e===a.a.POINT||e===a.a.MULTI_POINT}),n=r.length>0):n=t===a.a.POINT||t===a.a.MULTI_POINT}}n&&(i=t.get("name"),n=n&&!!i,n&&i.search(/&[^&]+;/)>-1&&(K||(K=document.createElement("textarea")),K.innerHTML=i,i=K.value));let o=d;if(h?o=h:u&&(o=it(u,d,p)),n){const t=function(t,e){const n=[0,0];let i="start";const r=t.getImage();if(r){let t=r.getImageSize();if(null===t&&(t=H),2==t.length){const e=r.getScaleArray();n[0]=e[0]*t[0]/2,n[1]=-e[1]*t[1]/2,i="left"}}let s=t.getText();return s?(s=s.clone(),s.setFont(s.getFont()||$.getFont()),s.setScale(s.getScale()||$.getScale()),s.setFill(s.getFill()||$.getFill()),s.setStroke(s.getStroke()||Y)):s=$.clone(),s.setText(e),s.setOffsetX(n[0]),s.setOffsetY(n[1]),s.setTextAlign(i),new _.b({image:r,text:s})}(o[0],i);return r.length>0?(t.setGeometry(new s.a(r)),[t,new _.b({geometry:o[0].getGeometry(),image:null,fill:o[0].getFill(),stroke:o[0].getStroke(),text:null})].concat(o.slice(1))):t}return o});r.setStyle(t)}var h,u,d,p,f;return delete n.Style,r.setProperties(n,!0),r}readSharedStyle_(t,e){const n=t.getAttribute("id");if(null!==n){const i=Lt.call(this,t,e);if(i){let e,r=t.baseURI;r&&"about:blank"!=r||(r=window.location.href),e=r?new URL("#"+n,r).href:"#"+n,this.sharedStyles_[e]=i}}}readSharedStyleMap_(t,e){const n=t.getAttribute("id");if(null===n)return;const i=ht.call(this,t,e);if(!i)return;let r,s=t.baseURI;s&&"about:blank"!=s||(s=window.location.href),r=s?new URL("#"+n,s).href:"#"+n,this.sharedStyles_[r]=i}readFeatureFromNode(t,e){return Object(x.f)(L,t.namespaceURI)&&this.readPlacemark_(t,[this.getReadOptions(t,e)])||null}readFeaturesFromNode(t,e){if(!Object(x.f)(L,t.namespaceURI))return[];let n;const i=t.localName;if("Document"==i||"Folder"==i)return n=this.readDocumentOrFolder_(t,[this.getReadOptions(t,e)]),n||[];if("Placemark"==i){const n=this.readPlacemark_(t,[this.getReadOptions(t,e)]);return n?[n]:[]}if("kml"==i){n=[];for(let i=t.firstElementChild;i;i=i.nextElementSibling){const t=this.readFeaturesFromNode(i,e);t&&Object(x.c)(n,t)}return n}return[]}readName(t){if(t){if("string"==typeof t){const e=Object(w.q)(t);return this.readNameFromDocument(e)}return Object(w.g)(t)?this.readNameFromDocument(t):this.readNameFromNode(t)}}readNameFromDocument(t){for(let e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE){const t=this.readNameFromNode(e);if(t)return t}}readNameFromNode(t){for(let e=t.firstElementChild;e;e=e.nextElementSibling)if(Object(x.f)(L,e.namespaceURI)&&"name"==e.localName)return Object(A.g)(e);for(let e=t.firstElementChild;e;e=e.nextElementSibling){const t=e.localName;if(Object(x.f)(L,e.namespaceURI)&&("Document"==t||"Folder"==t||"Placemark"==t||"kml"==t)){const t=this.readNameFromNode(e);if(t)return t}}}readNetworkLinks(t){const e=[];if("string"==typeof t){const n=Object(w.q)(t);Object(x.c)(e,this.readNetworkLinksFromDocument(n))}else Object(w.g)(t)?Object(x.c)(e,this.readNetworkLinksFromDocument(t)):Object(x.c)(e,this.readNetworkLinksFromNode(t));return e}readNetworkLinksFromDocument(t){const e=[];for(let n=t.firstChild;n;n=n.nextSibling)n.nodeType==Node.ELEMENT_NODE&&Object(x.c)(e,this.readNetworkLinksFromNode(n));return e}readNetworkLinksFromNode(t){const e=[];for(let n=t.firstElementChild;n;n=n.nextElementSibling)if(Object(x.f)(L,n.namespaceURI)&&"NetworkLink"==n.localName){const t=Object(w.s)({},N,n,[]);e.push(t)}for(let n=t.firstElementChild;n;n=n.nextElementSibling){const t=n.localName;!Object(x.f)(L,n.namespaceURI)||"Document"!=t&&"Folder"!=t&&"kml"!=t||Object(x.c)(e,this.readNetworkLinksFromNode(n))}return e}readRegion(t){const e=[];if("string"==typeof t){const n=Object(w.q)(t);Object(x.c)(e,this.readRegionFromDocument(n))}else Object(w.g)(t)?Object(x.c)(e,this.readRegionFromDocument(t)):Object(x.c)(e,this.readRegionFromNode(t));return e}readRegionFromDocument(t){const e=[];for(let n=t.firstChild;n;n=n.nextSibling)n.nodeType==Node.ELEMENT_NODE&&Object(x.c)(e,this.readRegionFromNode(n));return e}readRegionFromNode(t){const e=[];for(let n=t.firstElementChild;n;n=n.nextElementSibling)if(Object(x.f)(L,n.namespaceURI)&&"Region"==n.localName){const t=Object(w.s)({},k,n,[]);e.push(t)}for(let n=t.firstElementChild;n;n=n.nextElementSibling){const t=n.localName;!Object(x.f)(L,n.namespaceURI)||"Document"!=t&&"Folder"!=t&&"kml"!=t||Object(x.c)(e,this.readRegionFromNode(n))}return e}writeFeaturesNode(t,e){e=this.adaptOptions(e);const n=Object(w.c)(L[4],"kml"),i="http://www.w3.org/2000/xmlns/";n.setAttributeNS(i,"xmlns:gx",R[0]),n.setAttributeNS(i,"xmlns:xsi",w.b),n.setAttributeNS(w.b,"xsi:schemaLocation","http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd");const r={node:n},s={};t.length>1?s.Document=t:1==t.length&&(s.Placemark=t[0]);const o=F[n.namespaceURI],a=Object(w.n)(s,o);return Object(w.t)(r,U,w.a,a,[e],o,this),n}}},j5yL:function(t,e,n){"use strict";function i(t,e,n){const i=void 0!==n?t.toFixed(n):""+t;let r=i.indexOf(".");return r=-1===r?i.length:r,r>e?i:new Array(1+e-r).join("0")+i}function r(t,e){const n=(""+t).split("."),i=(""+e).split(".");for(let r=0;r<Math.max(n.length,i.length);r++){const t=parseInt(n[r]||"0",10),e=parseInt(i[r]||"0",10);if(t>e)return 1;if(e>t)return-1}return 0}n.d(e,"b",function(){return i}),n.d(e,"a",function(){return r})},j7T1:function(t,e,n){"use strict";e.a={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"}},jTA9:function(t,e,n){"use strict";e.a={FRACTION:"fraction",PIXELS:"pixels"}},jVi3:function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"c",function(){return s}),n.d(e,"d",function(){return o}),n.d(e,"g",function(){return l}),n.d(e,"q",function(){return c}),n.d(e,"h",function(){return h}),n.d(e,"i",function(){return u}),n.d(e,"m",function(){return d}),n.d(e,"k",function(){return p}),n.d(e,"l",function(){return f}),n.d(e,"j",function(){return m}),n.d(e,"o",function(){return g}),n.d(e,"a",function(){return y}),n.d(e,"n",function(){return _}),n.d(e,"p",function(){return b}),n.d(e,"r",function(){return v}),n.d(e,"s",function(){return S}),n.d(e,"t",function(){return T}),n.d(e,"f",function(){return E}),n.d(e,"e",function(){return C});var i=n("oWEL");const r="http://www.w3.org/2001/XMLSchema-instance";function s(t,e){return C().createElementNS(t,e)}function o(t,e){return a(t,e,[]).join("")}function a(t,e,n){if(t.nodeType==Node.CDATA_SECTION_NODE||t.nodeType==Node.TEXT_NODE)n.push(e?String(t.nodeValue).replace(/(\r\n|\r|\n)/g,""):t.nodeValue);else{let i;for(i=t.firstChild;i;i=i.nextSibling)a(i,e,n)}return n}function l(t){return"documentElement"in t}function c(t){return(new DOMParser).parseFromString(t,"application/xml")}function h(t,e){return function(n,r){const s=t.call(void 0!==e?e:this,n,r);if(void 0!==s){const t=r[r.length-1];Object(i.c)(t,s)}}}function u(t,e){return function(n,i){const r=t.call(void 0!==e?e:this,n,i);void 0!==r&&i[i.length-1].push(r)}}function d(t,e){return function(n,i){const r=t.call(void 0!==e?e:this,n,i);void 0!==r&&(i[i.length-1]=r)}}function p(t,e,n){return function(i,r){const s=t.call(void 0!==n?n:this,i,r);if(void 0!==s){const t=r[r.length-1],n=void 0!==e?e:i.localName;let o;n in t?o=t[n]:(o=[],t[n]=o),o.push(s)}}}function f(t,e,n){return function(i,r){const s=t.call(void 0!==n?n:this,i,r);void 0!==s&&(r[r.length-1][void 0!==e?e:i.localName]=s)}}function m(t,e){return function(n,i,r){t.call(void 0!==e?e:this,n,i,r),r[r.length-1].node.appendChild(n)}}function g(t,e){const n=t;return function(t,i,r){let o=n;return void 0===o&&(o=r),s(void 0!==e?e:i[i.length-1].node.namespaceURI,o)}}const y=g();function _(t,e){const n=e.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=t[e[r]];return i}function b(t,e,n){const i=void 0!==n?n:{};let r,s;for(r=0,s=t.length;r<s;++r)i[t[r]]=e;return i}function v(t,e,n,i){let r;for(r=e.firstElementChild;r;r=r.nextElementSibling){const e=t[r.namespaceURI];if(void 0!==e){const t=e[r.localName];void 0!==t&&t.call(i,r,n)}}}function S(t,e,n,i,r){return i.push(t),v(e,n,i,r),i.pop()}function T(t,e,n,i,r,s,o){return r.push(t),function(t,e,n,i,r,s){const o=(void 0!==r?r:n).length;let a,l;for(let c=0;c<o;++c)a=n[c],void 0!==a&&(l=e.call(void 0!==s?s:this,a,i,void 0!==r?r[c]:void 0),void 0!==l&&t[l.namespaceURI][l.localName].call(s,l,a,i))}(e,n,i,r,s,o),r.pop()}let x,w;function E(){return void 0===x&&"undefined"!=typeof XMLSerializer&&(x=new XMLSerializer),x}function C(){return void 0===w&&"undefined"!=typeof document&&(w=document.implementation.createDocument("","",null)),w}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("HDdC"),r=n("quSY");function s(t,e){return new i.a(n=>{const i=new r.a;let s=0;return i.add(e.schedule(function(){s!==t.length?(n.next(t[s++]),n.closed||i.add(this.schedule())):n.complete()})),i})}},jnTo:function(t,e,n){"use strict";var i=n("bwl8"),r=n("bTHf"),s=n("6Xq6"),o=n("FHfp"),a=n("Cw4B");e.a=class extends i.a{constructor(t){super();const e=t.element;!e||t.target||e.style.pointerEvents||(e.style.pointerEvents="auto"),this.element=e||null,this.target_=null,this.map_=null,this.listenerKeys=[],t.render&&(this.render=t.render),t.target&&this.setTarget(t.target)}disposeInternal(){Object(a.e)(this.element),super.disposeInternal()}getMap(){return this.map_}setMap(t){this.map_&&Object(a.e)(this.element);for(let e=0,n=this.listenerKeys.length;e<n;++e)Object(o.c)(this.listenerKeys[e]);this.listenerKeys.length=0,this.map_=t,this.map_&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==s.c&&this.listenerKeys.push(Object(o.a)(t,r.a.POSTRENDER,this.render,this)),t.render())}render(t){}setTarget(t){this.target_="string"==typeof t?document.getElementById(t):t}}},jqAh:function(t,e,n){"use strict";n.d(e,"a",function(){return s});const i=Math.pow(2,-52),r=new Uint32Array(512);class s{static from(t,e=p,n=f){const i=t.length,r=new Float64Array(2*i);for(let s=0;s<i;s++){const i=t[s];r[2*s]=e(i),r[2*s+1]=n(i)}return new s(r)}constructor(t){const e=t.length>>1;if(e>0&&"number"!=typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;const n=Math.max(2*e-5,0);this._triangles=new Uint32Array(3*n),this._halfedges=new Int32Array(3*n),this._hashSize=Math.ceil(Math.sqrt(e)),this._hullPrev=new Uint32Array(e),this._hullNext=new Uint32Array(e),this._hullTri=new Uint32Array(e),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(e),this._dists=new Float64Array(e),this.update()}update(){const{coords:t,_hullPrev:e,_hullNext:n,_hullTri:r,_hullHash:s}=this,a=t.length>>1;let c=1/0,d=1/0,p=-1/0,f=-1/0;for(let i=0;i<a;i++){const e=t[2*i],n=t[2*i+1];e<c&&(c=e),n<d&&(d=n),e>p&&(p=e),n>f&&(f=n),this._ids[i]=i}const m=(c+p)/2,g=(d+f)/2;let y,_,b,v=1/0;for(let i=0;i<a;i++){const e=o(m,g,t[2*i],t[2*i+1]);e<v&&(y=i,v=e)}const S=t[2*y],T=t[2*y+1];v=1/0;for(let i=0;i<a;i++){if(i===y)continue;const e=o(S,T,t[2*i],t[2*i+1]);e<v&&e>0&&(_=i,v=e)}let x=t[2*_],w=t[2*_+1],E=1/0;for(let i=0;i<a;i++){if(i===y||i===_)continue;const e=h(S,T,x,w,t[2*i],t[2*i+1]);e<E&&(b=i,E=e)}let C=t[2*b],M=t[2*b+1];if(E===1/0){for(let i=0;i<a;i++)this._dists[i]=t[2*i]-t[0]||t[2*i+1]-t[1];u(this._ids,this._dists,0,a-1);const e=new Uint32Array(a);let n=0;for(let t=0,i=-1/0;t<a;t++){const r=this._ids[t];this._dists[r]>i&&(e[n++]=r,i=this._dists[r])}return this.hull=e.subarray(0,n),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(l(S,T,x,w,C,M)){const t=_,e=x,n=w;_=b,x=C,w=M,b=t,C=e,M=n}const O=function(t,e,n,i,r,s){const o=n-t,a=i-e,l=r-t,c=s-e,h=o*o+a*a,u=l*l+c*c,d=.5/(o*c-a*l);return{x:t+(c*h-a*u)*d,y:e+(o*u-l*h)*d}}(S,T,x,w,C,M);this._cx=O.x,this._cy=O.y;for(let i=0;i<a;i++)this._dists[i]=o(t[2*i],t[2*i+1],O.x,O.y);u(this._ids,this._dists,0,a-1),this._hullStart=y;let A=3;n[y]=e[b]=_,n[_]=e[y]=b,n[b]=e[_]=y,r[y]=0,r[_]=1,r[b]=2,s.fill(-1),s[this._hashKey(S,T)]=y,s[this._hashKey(x,w)]=_,s[this._hashKey(C,M)]=b,this.trianglesLen=0,this._addTriangle(y,_,b,-1,-1,-1);for(let o,h,u=0;u<this._ids.length;u++){const a=this._ids[u],c=t[2*a],d=t[2*a+1];if(u>0&&Math.abs(c-o)<=i&&Math.abs(d-h)<=i)continue;if(o=c,h=d,a===y||a===_||a===b)continue;let p=0;for(let t=0,e=this._hashKey(c,d);t<this._hashSize&&(p=s[(e+t)%this._hashSize],-1===p||p===n[p]);t++);p=e[p];let f,m=p;for(;f=n[m],!l(c,d,t[2*m],t[2*m+1],t[2*f],t[2*f+1]);)if(m=f,m===p){m=-1;break}if(-1===m)continue;let g=this._addTriangle(m,a,n[m],-1,-1,r[m]);r[a]=this._legalize(g+2),r[m]=g,A++;let v=n[m];for(;f=n[v],l(c,d,t[2*v],t[2*v+1],t[2*f],t[2*f+1]);)g=this._addTriangle(v,a,f,r[a],-1,r[v]),r[a]=this._legalize(g+2),n[v]=v,A--,v=f;if(m===p)for(;f=e[m],l(c,d,t[2*f],t[2*f+1],t[2*m],t[2*m+1]);)g=this._addTriangle(f,a,m,-1,r[m],r[f]),this._legalize(g+2),r[f]=g,n[m]=m,A--,m=f;this._hullStart=e[a]=m,n[m]=e[v]=a,n[a]=v,s[this._hashKey(c,d)]=a,s[this._hashKey(t[2*m],t[2*m+1])]=m}this.hull=new Uint32Array(A);for(let i=0,o=this._hullStart;i<A;i++)this.hull[i]=o,o=n[o];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,e){return Math.floor(function(t,e){const n=t/(Math.abs(t)+Math.abs(e));return(e>0?3-n:1+n)/4}(t-this._cx,e-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:e,_halfedges:n,coords:i}=this;let s=0,o=0;for(;;){const a=n[t],l=t-t%3;if(o=l+(t+2)%3,-1===a){if(0===s)break;t=r[--s];continue}const h=a-a%3,u=h+(a+2)%3,d=e[o],p=e[t],f=e[l+(t+1)%3],m=e[u];if(c(i[2*d],i[2*d+1],i[2*p],i[2*p+1],i[2*f],i[2*f+1],i[2*m],i[2*m+1])){e[t]=m,e[a]=d;const i=n[u];if(-1===i){let e=this._hullStart;do{if(this._hullTri[e]===u){this._hullTri[e]=t;break}e=this._hullPrev[e]}while(e!==this._hullStart)}this._link(t,i),this._link(a,n[o]),this._link(o,u);const l=h+(a+1)%3;s<r.length&&(r[s++]=l)}else{if(0===s)break;t=r[--s]}}return o}_link(t,e){this._halfedges[t]=e,-1!==e&&(this._halfedges[e]=t)}_addTriangle(t,e,n,i,r,s){const o=this.trianglesLen;return this._triangles[o]=t,this._triangles[o+1]=e,this._triangles[o+2]=n,this._link(o,i),this._link(o+1,r),this._link(o+2,s),this.trianglesLen+=3,o}}function o(t,e,n,i){const r=t-n,s=e-i;return r*r+s*s}function a(t,e,n,i,r,s){const o=(i-e)*(r-t),a=(n-t)*(s-e);return Math.abs(o-a)>=33306690738754716e-32*Math.abs(o+a)?o-a:0}function l(t,e,n,i,r,s){return(a(r,s,t,e,n,i)||a(t,e,n,i,r,s)||a(n,i,r,s,t,e))<0}function c(t,e,n,i,r,s,o,a){const l=t-o,c=e-a,h=n-o,u=i-a,d=r-o,p=s-a,f=h*h+u*u,m=d*d+p*p;return l*(u*m-f*p)-c*(h*m-f*d)+(l*l+c*c)*(h*p-u*d)<0}function h(t,e,n,i,r,s){const o=n-t,a=i-e,l=r-t,c=s-e,h=o*o+a*a,u=l*l+c*c,d=.5/(o*c-a*l),p=(c*h-a*u)*d,f=(o*u-l*h)*d;return p*p+f*f}function u(t,e,n,i){if(i-n<=20)for(let r=n+1;r<=i;r++){const i=t[r],s=e[i];let o=r-1;for(;o>=n&&e[t[o]]>s;)t[o+1]=t[o--];t[o+1]=i}else{let r=n+1,s=i;d(t,n+i>>1,r),e[t[n]]>e[t[i]]&&d(t,n,i),e[t[r]]>e[t[i]]&&d(t,r,i),e[t[n]]>e[t[r]]&&d(t,n,r);const o=t[r],a=e[o];for(;;){do{r++}while(e[t[r]]<a);do{s--}while(e[t[s]]>a);if(s<r)break;d(t,r,s)}t[n+1]=t[s],t[s]=o,i-r+1>=s-n?(u(t,e,r,i),u(t,e,n,s-1)):(u(t,e,n,s-1),u(t,e,r,i))}}function d(t,e,n){const i=t[e];t[e]=t[n],t[n]=i}function p(t){return t[0]}function f(t){return t[1]}},jtHE:function(t,e,n){"use strict";n.d(e,"a",function(){return g});var i=n("XNiG"),r=n("3N8a");class s extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class a extends o.a{}const l=new a(s);var c=n("quSY"),h=n("7o/Q"),u=n("WMd4");class d extends h.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(d.dispatch,this.delay,new p(t,this.destination)))}_next(t){this.scheduleMessage(u.a.createNext(t))}_error(t){this.scheduleMessage(u.a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(u.a.createComplete()),this.unsubscribe()}}class p{constructor(t,e){this.notification=t,this.destination=e}}var f=n("9ppp"),m=n("Ylt2");class g extends i.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new y(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,r=n.length;let s;if(this.closed)throw new f.a;if(this.isStopped||this.hasError?s=c.a.EMPTY:(this.observers.push(t),s=new m.a(this,t)),i&&t.add(t=new d(t,i)),e)for(let o=0;o<r&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<r&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||l).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,i=this._events,r=i.length;let s=0;for(;s<r&&!(t-i[s].time<n);)s++;return r>e&&(s=Math.max(s,r-e)),s>0&&i.splice(0,s),i}}class y{constructor(t,e){this.time=t,this.value=e}}},"k/Gk":function(t,e,n){"use strict";function i(t,e,n,i,r,s){const o=s||[];let a=0;for(let l=e;l<n;l+=i){const e=t[l],n=t[l+1];o[a++]=r[0]*e+r[2]*n+r[4],o[a++]=r[1]*e+r[3]*n+r[5]}return s&&o.length!=a&&(o.length=a),o}function r(t,e,n,i,r,s,o){const a=o||[],l=Math.cos(r),c=Math.sin(r),h=s[0],u=s[1];let d=0;for(let p=e;p<n;p+=i){const e=t[p]-h,n=t[p+1]-u;a[d++]=h+e*l-n*c,a[d++]=u+e*c+n*l;for(let r=p+2;r<p+i;++r)a[d++]=t[r]}return o&&a.length!=d&&(a.length=d),a}function s(t,e,n,i,r,s,o,a){const l=a||[],c=o[0],h=o[1];let u=0;for(let d=e;d<n;d+=i){const e=t[d+1]-h;l[u++]=c+r*(t[d]-c),l[u++]=h+s*e;for(let n=d+2;n<d+i;++n)l[u++]=t[n]}return a&&l.length!=u&&(l.length=u),l}function o(t,e,n,i,r,s,o){const a=o||[];let l=0;for(let c=e;c<n;c+=i){a[l++]=t[c]+r,a[l++]=t[c+1]+s;for(let e=c+2;e<c+i;++e)a[l++]=t[e]}return o&&a.length!=l&&(a.length=l),a}n.d(e,"c",function(){return i}),n.d(e,"a",function(){return r}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return o})},k51M:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return o});var i=n("o5qb"),r=n("6Xq6");function s(t,e,n,r,s,o,a){const l=new XMLHttpRequest;l.open("GET","function"==typeof t?t(n,r,s):t,!0),e.getType()==i.a.ARRAY_BUFFER&&(l.responseType="arraybuffer"),l.withCredentials=!1,l.onload=function(t){if(!l.status||l.status>=200&&l.status<300){const t=e.getType();let r;t==i.a.JSON||t==i.a.TEXT?r=l.responseText:t==i.a.XML?(r=l.responseXML,r||(r=(new DOMParser).parseFromString(l.responseText,"application/xml"))):t==i.a.ARRAY_BUFFER&&(r=l.response),r?o(e.readFeatures(r,{extent:n,featureProjection:s}),e.readProjection(r)):a()}else a()},l.onerror=a,l.send()}function o(t,e){return function(n,i,o,a,l){const c=this;s(t,e,n,i,o,function(t,e){void 0!==a&&a(t),c.addFeatures(t)},l||r.c)}}},k9Tt:function(t,e,n){"use strict";var i=n("zmPu"),r=n("sFtE"),s=n("gB+7"),o=n("9CgO"),a=n("6XL4"),l=n("lXae"),c=n("JaUx"),h=n.n(c),u=n("ogOc"),d=n("n2w5"),p=n("Bpkx"),f=n("hKKC"),m=class extends r.a{constructor(t){super(t),this.vectorRenderer_=new s.a(t),this.layerImageRatio_=t.getImageRatio(),this.coordinateToVectorPixelTransform_=Object(d.c)(),this.renderedPixelToCoordinateTransform_=null}disposeInternal(){this.vectorRenderer_.dispose(),super.disposeInternal()}getFeatures(t){if(this.vectorRenderer_){const e=Object(d.a)(this.coordinateToVectorPixelTransform_,Object(d.a)(this.renderedPixelToCoordinateTransform_,t.slice()));return this.vectorRenderer_.getFeatures(e)}return new Promise(function(t,e){t([])})}handleFontsChanged(){this.vectorRenderer_.handleFontsChanged()}prepareFrame(t){const e=t.pixelRatio,n=t.viewState,i=n.resolution,r=t.viewHints,s=this.vectorRenderer_;let c=t.extent;1!==this.layerImageRatio_&&(c=c.slice(0),Object(f.K)(c,this.layerImageRatio_));const m=Object(f.F)(c)/i,g=Object(f.B)(c)/i;if(!r[u.a.ANIMATING]&&!r[u.a.INTERACTING]&&!Object(f.I)(c)){s.useContainer(null,null,1);const r=s.context,u=Object(p.a)({},t,{declutterTree:new h.a(9),extent:c,size:[m,g],viewState:Object(p.a)({},t.viewState,{rotation:0})}),f=new a.a(c,i,e,r.canvas,function(t){s.prepareFrame(u)&&s.replayGroupChanged&&(s.clipping=!1,s.renderFrame(u,null),s.renderDeclutter(u),t())});f.addEventListener(o.a.CHANGE,(function(){if(f.getState()===l.a.LOADED){this.image_=f;const t=f.getResolution(),i=f.getPixelRatio(),r=t*e/i;this.renderedResolution=r,this.coordinateToVectorPixelTransform_=Object(d.b)(this.coordinateToVectorPixelTransform_,m/2,g/2,1/r,-1/r,0,-n.center[0],-n.center[1])}}).bind(this)),f.load()}return this.image_&&(this.renderedPixelToCoordinateTransform_=t.pixelToCoordinateTransform.slice()),!!this.image_}preRender(){}postRender(){}renderDeclutter(){}forEachFeatureAtCoordinate(t,e,n,i,r){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(t,e,n,i,r):super.forEachFeatureAtCoordinate(t,e,n,i,r)}};e.a=class extends i.a{constructor(t){const e=t||{},n=Object(p.a)({},e);delete n.imageRatio,super(n),this.imageRatio_=void 0!==e.imageRatio?e.imageRatio:1}getImageRatio(){return this.imageRatio_}createRenderer(){return new m(this)}}},kEUA:function(t,e,n){"use strict";class i{constructor(t){const e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}clone(){const t=this.getColor();return new i({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(t){this.color_=t}setLineCap(t){this.lineCap_=t}setLineDash(t){this.lineDash_=t}setLineDashOffset(t){this.lineDashOffset_=t}setLineJoin(t){this.lineJoin_=t}setMiterLimit(t){this.miterLimit_=t}setWidth(t){this.width_=t}}e.a=i},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},kMZc:function(t,e,n){"use strict";var i=n("cRRe"),r=n("jnTo"),s=n("9CgO"),o=n("bTHf"),a=n("VJnl"),l=n("pzRH"),c=n("2tVv"),h=n("xXok"),u=n("qKzT"),d=n("ci6y"),p=n("j7T1"),f=n("e4iU"),m=n("hKKC"),g=n("bwl8"),y=n("FHfp"),_=n("gOFd"),b=n("Cw4B");class v extends u.a{createRenderer(){return new i.a(this)}}e.a=class extends r.a{constructor(t){const e=t||{};super({element:document.createElement("div"),render:e.render,target:e.target}),this.boundHandleRotationChanged_=this.handleRotationChanged_.bind(this),this.collapsed_=void 0===e.collapsed||e.collapsed,this.collapsible_=void 0===e.collapsible||e.collapsible,this.collapsible_||(this.collapsed_=!1),this.rotateWithView_=void 0!==e.rotateWithView&&e.rotateWithView,this.viewExtent_=void 0;const n=void 0!==e.className?e.className:"ol-overviewmap",i=void 0!==e.tipLabel?e.tipLabel:"Overview map",r=void 0!==e.collapseLabel?e.collapseLabel:"\xab";"string"==typeof r?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=r):this.collapseLabel_=r;const o=void 0!==e.label?e.label:"\xbb";"string"==typeof o?(this.label_=document.createElement("span"),this.label_.textContent=o):this.label_=o;const a=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,l=document.createElement("button");l.setAttribute("type","button"),l.title=i,l.appendChild(a),l.addEventListener(s.a.CLICK,this.handleClick_.bind(this),!1),this.ovmapDiv_=document.createElement("div"),this.ovmapDiv_.className="ol-overviewmap-map",this.view_=e.view,this.ovmap_=new v({view:e.view});const u=this.ovmap_;e.layers&&e.layers.forEach(function(t){u.addLayer(t)});const d=document.createElement("div");d.className="ol-overviewmap-box",d.style.boxSizing="border-box",this.boxOverlay_=new c.a({position:[0,0],positioning:h.a.CENTER_CENTER,element:d}),this.ovmap_.addOverlay(this.boxOverlay_);const p=this.element;p.className=n+" "+f.e+" "+f.b+(this.collapsed_&&this.collapsible_?" "+f.a:"")+(this.collapsible_?"":" ol-uncollapsible"),p.appendChild(this.ovmapDiv_),p.appendChild(l);const m=this,g=this.boxOverlay_,y=this.boxOverlay_.getElement(),_=function(t){const e={clientX:(n=t).clientX,clientY:n.clientY};var n;const i=u.getEventCoordinateInternal(e);g.setPosition(i)},b=function(t){const e=u.getEventCoordinateInternal(t);m.getMap().getView().setCenterInternal(e),window.removeEventListener("mousemove",_),window.removeEventListener("mouseup",b)};y.addEventListener("mousedown",function(){window.addEventListener("mousemove",_),window.addEventListener("mouseup",b)})}setMap(t){const e=this.getMap();if(t!==e){if(e){const t=e.getView();t&&this.unbindView_(t),this.ovmap_.setTarget(null)}if(super.setMap(t),t){this.ovmap_.setTarget(this.ovmapDiv_),this.listenerKeys.push(Object(y.a)(t,l.a.PROPERTYCHANGE,this.handleMapPropertyChange_,this));const e=t.getView();e&&(this.bindView_(e),e.isDef()&&(this.ovmap_.updateSize(),this.resetExtent_()))}}}handleMapPropertyChange_(t){if(t.key===a.a.VIEW){const e=t.oldValue;e&&this.unbindView_(e);const n=this.getMap().getView();this.bindView_(n)}}bindView_(t){if(!this.view_){const e=new d.a({projection:t.getProjection()});this.ovmap_.setView(e)}t.addEventListener(Object(g.b)(p.a.ROTATION),this.boundHandleRotationChanged_),this.handleRotationChanged_()}unbindView_(t){t.removeEventListener(Object(g.b)(p.a.ROTATION),this.boundHandleRotationChanged_)}handleRotationChanged_(){this.rotateWithView_&&this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())}validateExtent_(){const t=this.getMap(),e=this.ovmap_;if(!t.isRendered()||!e.isRendered())return;const n=t.getSize(),i=t.getView().calculateExtentInternal(n);if(this.viewExtent_&&Object(m.q)(i,this.viewExtent_))return;this.viewExtent_=i;const r=e.getSize(),s=e.getView().calculateExtentInternal(r),o=e.getPixelFromCoordinateInternal(Object(m.D)(i)),a=e.getPixelFromCoordinateInternal(Object(m.x)(i)),l=Math.abs(o[0]-a[0]),c=Math.abs(o[1]-a[1]),h=r[0],u=r[1];l<.1*h||c<.1*u||l>.75*h||c>.75*u?this.resetExtent_():Object(m.h)(s,i)||this.recenter_()}resetExtent_(){const t=this.getMap(),e=this.ovmap_,n=t.getSize(),i=t.getView().calculateExtentInternal(n),r=e.getView(),s=Math.log(7.5)/Math.LN2,o=1/(.1*Math.pow(2,s/2));Object(m.K)(i,o),r.fitInternal(Object(_.b)(i))}recenter_(){const t=this.getMap(),e=this.ovmap_,n=t.getView();e.getView().setCenterInternal(n.getCenterInternal())}updateBox_(){const t=this.getMap(),e=this.ovmap_;if(!t.isRendered()||!e.isRendered())return;const n=t.getSize(),i=t.getView(),r=e.getView(),s=this.rotateWithView_?0:-i.getRotation(),o=this.boxOverlay_,a=this.boxOverlay_.getElement(),l=i.getCenterInternal(),c=i.getResolution(),h=r.getResolution(),u=n[0]*c/h,d=n[1]*c/h;o.setPosition(l),a&&(a.style.width=u+"px",a.style.height=d+"px",a.style.transform="rotate("+s+"rad)")}handleClick_(t){t.preventDefault(),this.handleToggle_()}handleToggle_(){this.element.classList.toggle(f.a),this.collapsed_?Object(b.g)(this.collapseLabel_,this.label_):Object(b.g)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_;const t=this.ovmap_;if(!this.collapsed_){if(t.isRendered())return this.viewExtent_=void 0,void t.render();t.updateSize(),this.resetExtent_(),Object(y.b)(t,o.a.POSTRENDER,function(t){this.updateBox_()},this)}}getCollapsible(){return this.collapsible_}setCollapsible(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.collapsed_&&this.handleToggle_())}setCollapsed(t){this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()}getCollapsed(){return this.collapsed_}getRotateWithView(){return this.rotateWithView_}setRotateWithView(t){this.rotateWithView_!==t&&(this.rotateWithView_=t,0!==this.getMap().getView().getRotation()&&(this.rotateWithView_?this.handleRotationChanged_():this.ovmap_.getView().setRotation(0),this.viewExtent_=void 0,this.validateExtent_(),this.updateBox_()))}getOverviewMap(){return this.ovmap_}render(t){this.validateExtent_(),this.updateBox_()}}},"kVK+":function(t,e){e.read=function(t,e,n,i,r){var s,o,a=8*r-i-1,l=(1<<a)-1,c=l>>1,h=-7,u=n?r-1:0,d=n?-1:1,p=t[e+u];for(u+=d,s=p&(1<<-h)-1,p>>=-h,h+=a;h>0;s=256*s+t[e+u],u+=d,h-=8);for(o=s&(1<<-h)-1,s>>=-h,h+=i;h>0;o=256*o+t[e+u],u+=d,h-=8);if(0===s)s=1-c;else{if(s===l)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,i),s-=c}return(p?-1:1)*o*Math.pow(2,s-i)},e.write=function(t,e,n,i,r,s){var o,a,l,c=8*s-r-1,h=(1<<c)-1,u=h>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:s-1,f=i?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=h):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),(e+=o+u>=1?d/l:d*Math.pow(2,1-u))*l>=2&&(o++,l/=2),o+u>=h?(a=0,o=h):o+u>=1?(a=(e*l-1)*Math.pow(2,r),o+=u):(a=e*Math.pow(2,u-1)*Math.pow(2,r),o=0));r>=8;t[n+p]=255&a,p+=f,a/=256,r-=8);for(o=o<<r|a,c+=r;c>0;t[n+p]=255&o,p+=f,o/=256,c-=8);t[n+p-f]|=128*m}},kacL:function(t,e,n){"use strict";function i(t,e,n,i,r){const s=[t[e],t[e+1]],o=[];let a;for(;e+i<n;e+=i){if(o[0]=t[e+i],o[1]=t[e+i+1],a=r(s,o),a)return a;s[0]=o[0],s[1]=o[1]}return!1}n.d(e,"a",function(){return i})},kuFe:function(t,e,n){"use strict";n.d(e,"e",function(){return s}),n.d(e,"a",function(){return o}),n.d(e,"f",function(){return a}),n.d(e,"d",function(){return l}),n.d(e,"b",function(){return c}),n.d(e,"c",function(){return h});var i=n("LV+m");function r(t,e,n,r,s,o,a){const l=t[e],c=t[e+1],h=t[n]-l,u=t[n+1]-c;let d;if(0===h&&0===u)d=e;else{const p=((s-l)*h+(o-c)*u)/(h*h+u*u);if(p>1)d=n;else{if(p>0){for(let s=0;s<r;++s)a[s]=Object(i.c)(t[e+s],t[n+s],p);return void(a.length=r)}d=e}}for(let i=0;i<r;++i)a[i]=t[d+i];a.length=r}function s(t,e,n,r,s){let o=t[e],a=t[e+1];for(e+=r;e<n;e+=r){const n=t[e],r=t[e+1],l=Object(i.g)(o,a,n,r);l>s&&(s=l),o=n,a=r}return s}function o(t,e,n,i,r){for(let o=0,a=n.length;o<a;++o){const a=n[o];r=s(t,e,a,i,r),e=a}return r}function a(t,e,n,i,r){for(let s=0,a=n.length;s<a;++s){const a=n[s];r=o(t,e,a,i,r),e=a[a.length-1]}return r}function l(t,e,n,s,o,a,l,c,h,u,d){if(e==n)return u;let p,f;if(0===o){if(f=Object(i.g)(l,c,t[e],t[e+1]),f<u){for(p=0;p<s;++p)h[p]=t[e+p];return h.length=s,f}return u}const m=d||[NaN,NaN];let g=e+s;for(;g<n;)if(r(t,g-s,g,s,l,c,m),f=Object(i.g)(l,c,m[0],m[1]),f<u){for(u=f,p=0;p<s;++p)h[p]=m[p];h.length=s,g+=s}else g+=s*Math.max((Math.sqrt(f)-Math.sqrt(u))/o|0,1);if(a&&(r(t,n-s,e,s,l,c,m),f=Object(i.g)(l,c,m[0],m[1]),f<u)){for(u=f,p=0;p<s;++p)h[p]=m[p];h.length=s}return u}function c(t,e,n,i,r,s,o,a,c,h,u){const d=u||[NaN,NaN];for(let p=0,f=n.length;p<f;++p){const u=n[p];h=l(t,e,u,i,r,s,o,a,c,h,d),e=u}return h}function h(t,e,n,i,r,s,o,a,l,h,u){const d=u||[NaN,NaN];for(let p=0,f=n.length;p<f;++p){const u=n[p];h=c(t,e,u,i,r,s,o,a,l,h,d),e=u[u.length-1]}return h}},l30d:function(t,e,n){"use strict";e.a={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source"}},l8mB:function(t,e,n){var i,r;void 0===(r="function"==typeof(i=function(){var t=function(t){var e=t.tagName;return"http://www.w3.org/1999/xhtml"===t.namespaceURI&&(e=e.toLowerCase()),e},e=function(t){return Array.prototype.map.call(t.childNodes,function(t){return n(t)}).join("")},n=function(n,i){var r=i&&i.rootNode;return"#document"===n.nodeName||"#document-fragment"===n.nodeName?e(n):n.tagName?function(n,i){var r="<"+t(n);return r+=function(t,e){return Array.prototype.map.call(t.attributes||t.attrs,function(t){return t.name}).indexOf("xmlns")>=0||!e&&t.namespaceURI===t.parentNode.namespaceURI?"":' xmlns="'+t.namespaceURI+'"'}(n,i),Array.prototype.forEach.call(n.attributes||n.attrs,function(t){r+=function(t){return" "+t.name+'="'+t.value.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+'"'}(t)}),n.childNodes.length>0?(r+=">",r+=e(n),r+="</"+t(n)+">"):r+="/>",r}(n,r):"#text"===n.nodeName?function(t){return(t.nodeValue||t.value||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}(n):"#comment"===n.nodeName?function(t){return"\x3c!--"+t.data.replace(/-/g,"&#45;")+"--\x3e"}(n):"#cdata-section"===n.nodeName?function(t){return"<![CDATA["+t.nodeValue+"]]>"}(n):void 0};return{serializeToString:function(t){return n(t,{rootNode:!0}).replace(/[\x00-\x08\x0B\x0C\x0E-\x1F]/g,"")}}})?i.apply(e,[]):i)||(t.exports=r)},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("7o/Q");function r(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends i.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},lQ2a:function(t,e,n){"use strict";n.d(e,"a",function(){return l}),n.d(e,"b",function(){return c}),n.d(e,"c",function(){return h}),n.d(e,"d",function(){return u});var i=n("QBIS"),r=n("aBeY"),s=n("lXae"),o=n("2I+J");const a={Point:function(t,e,n,r,o){const a=n.getImage(),l=n.getText();let c;if(o&&(t=o,c=a&&l&&l.getText()?{}:void 0),a){if(a.getImageState()!=s.a.LOADED)return;const o=t.getBuilder(n.getZIndex(),i.a.IMAGE);o.setImageStyle(a,c),o.drawPoint(e,r)}if(l&&l.getText()){const s=t.getBuilder(n.getZIndex(),i.a.TEXT);s.setTextStyle(l,c),s.drawText(e,r)}},LineString:function(t,e,n,r,s){const o=n.getStroke();if(o){const s=t.getBuilder(n.getZIndex(),i.a.LINE_STRING);s.setFillStrokeStyle(null,o),s.drawLineString(e,r)}const a=n.getText();if(a&&a.getText()){const o=(s||t).getBuilder(n.getZIndex(),i.a.TEXT);o.setTextStyle(a),o.drawText(e,r)}},Polygon:function(t,e,n,r,s){const o=n.getFill(),a=n.getStroke();if(o||a){const s=t.getBuilder(n.getZIndex(),i.a.POLYGON);s.setFillStrokeStyle(o,a),s.drawPolygon(e,r)}const l=n.getText();if(l&&l.getText()){const o=(s||t).getBuilder(n.getZIndex(),i.a.TEXT);o.setTextStyle(l),o.drawText(e,r)}},MultiPoint:function(t,e,n,r,o){const a=n.getImage(),l=n.getText();let c;if(o&&(t=o,c=a&&l&&l.getText()?{}:void 0),a){if(a.getImageState()!=s.a.LOADED)return;const o=t.getBuilder(n.getZIndex(),i.a.IMAGE);o.setImageStyle(a,c),o.drawMultiPoint(e,r)}if(l&&l.getText()){const s=(o||t).getBuilder(n.getZIndex(),i.a.TEXT);s.setTextStyle(l,c),s.drawText(e,r)}},MultiLineString:function(t,e,n,r,s){const o=n.getStroke();if(o){const s=t.getBuilder(n.getZIndex(),i.a.LINE_STRING);s.setFillStrokeStyle(null,o),s.drawMultiLineString(e,r)}const a=n.getText();if(a&&a.getText()){const o=(s||t).getBuilder(n.getZIndex(),i.a.TEXT);o.setTextStyle(a),o.drawText(e,r)}},MultiPolygon:function(t,e,n,r,s){const o=n.getFill(),a=n.getStroke();if(a||o){const s=t.getBuilder(n.getZIndex(),i.a.POLYGON);s.setFillStrokeStyle(o,a),s.drawMultiPolygon(e,r)}const l=n.getText();if(l&&l.getText()){const o=(s||t).getBuilder(n.getZIndex(),i.a.TEXT);o.setTextStyle(l),o.drawText(e,r)}},GeometryCollection:function(t,e,n,i,r){const s=e.getGeometriesArray();let o,l;for(o=0,l=s.length;o<l;++o)(0,a[s[o].getType()])(t,s[o],n,i,r)},Circle:function(t,e,n,r,s){const o=n.getFill(),a=n.getStroke();if(o||a){const s=t.getBuilder(n.getZIndex(),i.a.CIRCLE);s.setFillStrokeStyle(o,a),s.drawCircle(e,r)}const l=n.getText();if(l&&l.getText()){const o=(s||t).getBuilder(n.getZIndex(),i.a.TEXT);o.setTextStyle(l),o.drawText(e,r)}}};function l(t,e){return parseInt(Object(o.c)(t),10)-parseInt(Object(o.c)(e),10)}function c(t,e){const n=h(t,e);return n*n}function h(t,e){return.5*t/e}function u(t,e,n,i,r,o,l){let c=!1;const h=n.getImage();if(h){let t=h.getImageState();t==s.a.LOADED||t==s.a.ERROR?h.unlistenImageChange(r):(t==s.a.IDLE&&h.load(),t=h.getImageState(),h.listenImageChange(r),c=!0)}return function(t,e,n,i,r,s){const o=n.getGeometryFunction()(e);if(!o)return;const l=o.simplifyTransformed(i,r);n.getRenderer()?d(t,l,n,e):(0,a[l.getType()])(t,l,n,e,s)}(t,e,n,i,o,l),c}function d(t,e,n,s){if(e.getType()!=r.a.GEOMETRY_COLLECTION)t.getBuilder(n.getZIndex(),i.a.DEFAULT).drawCustom(e,s,n.getRenderer());else{const i=e.getGeometries();for(let e=0,r=i.length;e<r;++e)d(t,i[e],n,s)}}},lXae:function(t,e,n){"use strict";e.a={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},ljNT:function(t,e,n){"use strict";e.a={ADD:"add",REMOVE:"remove"}},"llT+":function(t,e,n){"use strict";var i=n("GLbD"),r=n("9CgO"),s=n("ZidN"),o=n("+WER"),a=n("MvdC"),l=n("oY2l"),c=n("i3ci"),h=n("Bpkx"),u=n("i907"),d=n("j5yL"),p=n("hKKC"),f=n("Znq9");const m=[101,101];e.a=class extends s.a{constructor(t){const e=t||{};super({attributions:e.attributions,imageSmoothing:e.imageSmoothing,projection:e.projection,resolutions:e.resolutions}),this.crossOrigin_=void 0!==e.crossOrigin?e.crossOrigin:null,this.url_=e.url,this.imageLoadFunction_=void 0!==e.imageLoadFunction?e.imageLoadFunction:s.b,this.params_=e.params||{},this.v13_=!0,this.updateV13_(),this.serverType_=e.serverType,this.hidpi_=void 0===e.hidpi||e.hidpi,this.image_=null,this.imageSize_=[0,0],this.renderedRevision_=0,this.ratio_=void 0!==e.ratio?e.ratio:1.5}getFeatureInfoUrl(t,e,n,r){if(void 0===this.url_)return;const s=Object(f.i)(n),o=this.getProjection();o&&o!==s&&(e=Object(u.b)(o,s,t,e),t=Object(f.q)(t,s,o));const a=Object(p.A)(t,e,0,m),l={SERVICE:"WMS",VERSION:i.a,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};Object(h.a)(l,this.params_,r);const c=Math.floor((t[0]-a[0])/e),d=Math.floor((a[3]-t[1])/e);return l[this.v13_?"I":"X"]=c,l[this.v13_?"J":"Y"]=d,this.getRequestUrl_(a,m,1,o||s,l)}getLegendUrl(t,e){if(void 0===this.url_)return;const n={SERVICE:"WMS",VERSION:i.a,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===e||void 0===e.LAYER){const t=this.params_.LAYERS;if(Array.isArray(t)&&1!==t.length)return;n.LAYER=t}if(void 0!==t){const e=this.getProjection()?this.getProjection().getMetersPerUnit():1;n.SCALE=t*e/28e-5}return Object(h.a)(n,e),Object(l.a)(this.url_,n)}getParams(){return this.params_}getImageInternal(t,e,n,s){if(void 0===this.url_)return null;e=this.findNearestResolution(e),1==n||this.hidpi_&&void 0!==this.serverType_||(n=1);const a=e/n,l=Object(p.y)(t),c=Math.ceil(Object(p.F)(t)/a),u=Math.ceil(Object(p.B)(t)/a),d=Object(p.A)(l,a,0,[c,u]),f=Math.ceil(this.ratio_*Object(p.F)(t)/a),m=Math.ceil(this.ratio_*Object(p.B)(t)/a),g=Object(p.A)(l,a,0,[f,m]),y=this.image_;if(y&&this.renderedRevision_==this.getRevision()&&y.getResolution()==e&&y.getPixelRatio()==n&&Object(p.h)(y.getExtent(),d))return y;const _={SERVICE:"WMS",VERSION:i.a,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};Object(h.a)(_,this.params_),this.imageSize_[0]=Math.round(Object(p.F)(g)/a),this.imageSize_[1]=Math.round(Object(p.B)(g)/a);const b=this.getRequestUrl_(g,this.imageSize_,n,s,_);return this.image_=new o.a(g,e,n,b,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),this.image_.addEventListener(r.a.CHANGE,this.handleImageChange.bind(this)),this.image_}getImageLoadFunction(){return this.imageLoadFunction_}getRequestUrl_(t,e,n,i,r){if(Object(c.a)(void 0!==this.url_,9),r[this.v13_?"CRS":"SRS"]=i.getCode(),"STYLES"in this.params_||(r.STYLES=""),1!=n)switch(this.serverType_){case a.a.GEOSERVER:const t=90*n+.5|0;"FORMAT_OPTIONS"in r?r.FORMAT_OPTIONS+=";dpi:"+t:r.FORMAT_OPTIONS="dpi:"+t;break;case a.a.MAPSERVER:r.MAP_RESOLUTION=90*n;break;case a.a.CARMENTA_SERVER:case a.a.QGIS:r.DPI=90*n;break;default:Object(c.a)(!1,8)}r.WIDTH=e[0],r.HEIGHT=e[1];const s=i.getAxisOrientation();let o;return o=this.v13_&&"ne"==s.substr(0,2)?[t[1],t[0],t[3],t[2]]:t,r.BBOX=o.join(","),Object(l.a)(this.url_,r)}getUrl(){return this.url_}setImageLoadFunction(t){this.image_=null,this.imageLoadFunction_=t,this.changed()}setUrl(t){t!=this.url_&&(this.url_=t,this.image_=null,this.changed())}updateParams(t){Object(h.a)(this.params_,t),this.updateV13_(),this.image_=null,this.changed()}updateV13_(){const t=this.params_.VERSION||i.a;this.v13_=Object(d.a)(t,"1.3")>=0}}},ltgo:function(t,e,n){"use strict";n.d(e,"a",function(){return Ut}),n.d(e,"b",function(){return jt}),n.d(e,"c",function(){return Dt}),n.d(e,"d",function(){return Vt}),n.d(e,"e",function(){return yt});var i=n("8Y7J"),r=n("SVse");function s(t){return null!=t&&"false"!=`${t}`}function o(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function a(t){return t instanceof i.l?t.nativeElement:t}var l=n("XNiG"),c=n("LRne"),h=n("HDdC"),u=n("xgIS"),d=n("3N8a");class p extends d.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}var f=n("IjjT");class m extends f.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,i=-1,r=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++i<r&&(t=e.shift()));if(this.active=!1,n){for(;++i<r&&(t=e.shift());)t.unsubscribe();throw n}}}const g=new m(p);var y=n("quSY"),_=(n("7+OI"),n("/uUt"),n("D0XW")),b=n("zx2A");class v{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new S(t,this.durationSelector))}}class S extends b.b{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const i=Object(b.c)(n,new b.a(this));!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var T=n("PqYM");function x(t,e=_.a){return n=()=>Object(T.a)(t,e),function(t){return t.lift(new v(n))};var n}var w=n("pLZG");function E(t){return e=>e.lift(new C(t))}class C{constructor(t){this.notifier=t}call(t,e){const n=new M(t),i=Object(b.c)(this.notifier,new b.a(n));return i&&!n.seenValue?(n.add(i),e.subscribe(n)):n}}class M extends b.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}var O=n("JX91");n("7o/Q");var A=n("eIep");let I;n("jtHE");try{I="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(Bt){I=!1}let R,L,P=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Object(r.A)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!I)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(i.Ub(i.C))},t.\u0275prov=Object(i.Gb)({factory:function(){return new t(Object(i.Ub)(i.C))},token:t,providedIn:"root"}),t})();function D(t){return function(){if(null==R&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>R=!0}))}finally{R=R||!1}return R}()?t:!!t.capture}function N(t){if(function(){if(null==L){const t="undefined"!=typeof document?document.head:null;L=!(!t||!t.createShadowRoot&&!t.attachShadow)}return L}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}const j=new i.r("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(i.U)(r.d)}});let k=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new i.n,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(i.Ub(j,8))},t.\u0275prov=Object(i.Gb)({factory:function(){return new t(Object(i.Ub)(j,8))},token:t,providedIn:"root"}),t})(),F=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new l.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new h.a(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(x(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Object(c.a)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(Object(w.a)(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,i)=>{this._scrollableContainsElement(i,t)&&e.push(i)}),e}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,e){let n=a(e),i=t.getElementRef().nativeElement;do{if(n==i)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const t=this._getWindow();return Object(u.a)(t.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(i.Ub(i.A),i.Ub(P),i.Ub(r.d,8))},t.\u0275prov=Object(i.Gb)({factory:function(){return new t(Object(i.Ub)(i.A),Object(i.Ub)(P),Object(i.Ub)(r.d,8))},token:t,providedIn:"root"}),t})(),U=(()=>{class t{constructor(t,e,n){this._platform=t,this._change=new l.a,this._changeListener=t=>{this._change.next(t)},this._document=n,e.runOutsideAngular(()=>{if(t.isBrowser){const t=this._getWindow();t.addEventListener("resize",this._changeListener),t.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,e=this._getWindow(),n=t.documentElement,i=n.getBoundingClientRect();return{top:-i.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-i.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(x(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(i.Ub(P),i.Ub(i.A),i.Ub(r.d,8))},t.\u0275prov=Object(i.Gb)({factory:function(){return new t(Object(i.Ub)(P),Object(i.Ub)(i.A),Object(i.Ub)(r.d,8))},token:t,providedIn:"root"}),t})(),G=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({}),t})();var V=n("Y7HM");function B(t){const{subscriber:e,counter:n,period:i}=t;e.next(n),this.schedule({subscriber:e,counter:n+1,period:i},i)}var z=n("VRyK"),H=n("lJxs"),X=n("IzEk"),q=n("vkgz");function W(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Y(t,e){const n=e?"":"none";W(t.style,{touchAction:e?"":"none",webkitUserDrag:e?"":"none",webkitTapHighlightColor:e?"":"transparent",userSelect:n,msUserSelect:n,webkitUserSelect:n,MozUserSelect:n})}function K(t,e){const n=t.style;n.position=e?"":"fixed",n.top=n.opacity=e?"":"0",n.left=e?"":"-999em"}function Z(t){const e=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*e}function J(t,e){return t.getPropertyValue(e).split(",").map(t=>t.trim())}function Q(t){const e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}function $(t,e,n){const{top:i,bottom:r,left:s,right:o}=t;return n>=i&&n<=r&&e>=s&&e<=o}function tt(t,e,n){t.top+=e,t.bottom=t.top+t.height,t.left+=n,t.right=t.left+t.width}function et(t,e,n,i){const{top:r,right:s,bottom:o,left:a,width:l,height:c}=t,h=l*e,u=c*e;return i>r-u&&i<o+u&&n>a-h&&n<s+h}class nt{constructor(t,e){this._document=t,this._viewportRuler=e,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),t.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:Q(t)})})}handleScroll(t){const e=t.target,n=this.positions.get(e);if(!n)return null;const i=e===this._document?e.documentElement:e,r=n.scrollPosition;let s,o;if(e===this._document){const t=this._viewportRuler.getViewportScrollPosition();s=t.top,o=t.left}else s=e.scrollTop,o=e.scrollLeft;const a=r.top-s,l=r.left-o;return this.positions.forEach((t,n)=>{t.clientRect&&e!==n&&i.contains(n)&&tt(t.clientRect,a,l)}),r.top=s,r.left=o,{top:a,left:l}}}function it(t){const e=t.cloneNode(!0),n=e.querySelectorAll("[id]"),i=t.nodeName.toLowerCase();e.removeAttribute("id");for(let r=0;r<n.length;r++)n[r].removeAttribute("id");return"canvas"===i?at(t,e):"input"!==i&&"select"!==i&&"textarea"!==i||ot(t,e),rt("canvas",t,e,at),rt("input, textarea, select",t,e,ot),e}function rt(t,e,n,i){const r=e.querySelectorAll(t);if(r.length){const e=n.querySelectorAll(t);for(let t=0;t<r.length;t++)i(r[t],e[t])}}let st=0;function ot(t,e){"file"!==e.type&&(e.value=t.value),"radio"===e.type&&e.name&&(e.name=`mat-clone-${e.name}-${st++}`)}function at(t,e){const n=e.getContext("2d");if(n)try{n.drawImage(t,0,0)}catch(Bt){}}const lt=D({passive:!0}),ct=D({passive:!1});class ht{constructor(t,e,n,i,r,s){this._config=e,this._document=n,this._ngZone=i,this._viewportRuler=r,this._dragDropRegistry=s,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new l.a,this._pointerMoveSubscription=y.a.EMPTY,this._pointerUpSubscription=y.a.EMPTY,this._scrollSubscription=y.a.EMPTY,this._resizeSubscription=y.a.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new l.a,this.started=new l.a,this.released=new l.a,this.ended=new l.a,this.entered=new l.a,this.exited=new l.a,this.dropped=new l.a,this.moved=this._moveEvents,this._pointerDown=t=>{if(this.beforeStarted.next(),this._handles.length){const e=this._handles.find(e=>{const n=t.target;return!!n&&(n===e||e.contains(n))});!e||this._disabledHandles.has(e)||this.disabled||this._initializeDragSequence(e,t)}else this.disabled||this._initializeDragSequence(this._rootElement,t)},this._pointerMove=t=>{const e=this._getPointerPositionOnPage(t);if(!this._hasStartedDragging){if(Math.abs(e.x-this._pickupPositionOnPage.x)+Math.abs(e.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const e=Date.now()>=this._dragStartTime+this._getDragStartDelay(t),n=this._dropContainer;if(!e)return void this._endDragSequence(t);n&&(n.isDragging()||n.isReceiving())||(t.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(t)))}return}this._boundaryElement&&(this._previewRect&&(this._previewRect.width||this._previewRect.height)||(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect())),t.preventDefault();const n=this._getConstrainedPointerPosition(e);if(this._hasMoved=!0,this._lastKnownPointerPosition=e,this._updatePointerDirectionDelta(n),this._dropContainer)this._updateActiveDropContainer(n,e);else{const t=this._activeTransform;t.x=n.x-this._pickupPositionOnPage.x+this._passiveTransform.x,t.y=n.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(t.x,t.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${t.x} ${t.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:n,event:t,distance:this._getDragDistance(n),delta:this._pointerDirectionDelta})})},this._pointerUp=t=>{this._endDragSequence(t)},this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new nt(n,r),s.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=s(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(t=>Y(t,e)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(t=>a(t)),this._handles.forEach(t=>Y(t,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(t=>{this._handles.indexOf(t)>-1&&e.add(t)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=a(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,ct),e.addEventListener("touchstart",this._pointerDown,lt)}),this._initialTransform=void 0,this._rootElement=e),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?a(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&pt(this._rootElement),pt(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),Y(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),Y(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&pt(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&pt(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging&&(this.released.next({source:this}),this._dropContainer?(this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)})):(this._passiveTransform.x=this._activeTransform.x,this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(this._getPointerPositionOnPage(t))})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this))))}_startDragSequence(t){ft(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const t=this._rootElement,n=t.parentNode,i=this._preview=this._createPreviewElement(),r=this._placeholder=this._createPlaceholderElement(),s=this._anchor=this._anchor||this._document.createComment(""),o=this._getShadowRoot();n.insertBefore(s,t),K(t,!1),this._document.body.appendChild(n.replaceChild(r,t)),function(t,e){return e||t.fullscreenElement||t.webkitFullscreenElement||t.mozFullScreenElement||t.msFullscreenElement||t.body}(this._document,o).appendChild(i),this.started.next({source:this}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();const n=this.isDragging(),i=ft(e),r=!i&&0!==e.button,s=this._rootElement,o=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(e.target&&e.target.draggable&&"mousedown"===e.type&&e.preventDefault(),n||r||o)return;this._handles.length&&(this._rootElementTapHighlight=s.style.webkitTapHighlightColor||"",s.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scroll.subscribe(t=>{this._updateOnScroll(t)}),this._boundaryElement&&(this._boundaryRect=Q(this._boundaryElement));const a=this._previewTemplate;this._pickupPositionInElement=a&&a.template&&!a.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);const l=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:l.x,y:l.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){K(this._rootElement,!0),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run(()=>{const e=this._dropContainer,n=e.getItemIndex(this),i=this._getPointerPositionOnPage(t),r=this._getDragDistance(this._getPointerPositionOnPage(t)),s=e._isOverContainer(i.x,i.y);this.ended.next({source:this,distance:r}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:r}),e.drop(this,n,this._initialIndex,this._initialContainer,s,r),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:n,y:i}){let r=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!r&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(r=this._initialContainer),r&&r!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=r,this._dropContainer.enter(this,t,e,r===this._initialContainer&&r.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:r,currentIndex:r.getItemIndex(this)})}),this._dropContainer._startScrollingIfNecessary(n,i),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this._preview.style.transform=ut(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y)}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,n=t?t.template:null;let i;if(n&&t){const e=t.matchSize?this._rootElement.getBoundingClientRect():null,r=t.viewContainer.createEmbeddedView(n,t.context);r.detectChanges(),i=mt(r,this._document),this._previewRef=r,t.matchSize?gt(i,e):i.style.transform=ut(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const t=this._rootElement;i=it(t),gt(i,t.getBoundingClientRect())}return W(i.style,{pointerEvents:"none",margin:"0",position:"fixed",top:"0",left:"0",zIndex:`${this._config.zIndex||1e3}`}),Y(i,!1),i.classList.add("cdk-drag-preview"),i.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(t=>i.classList.add(t)):i.classList.add(e)),i}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=ut(t.left,t.top);const e=function(t){const e=getComputedStyle(t),n=J(e,"transition-property"),i=n.find(t=>"transform"===t||"all"===t);if(!i)return 0;const r=n.indexOf(i),s=J(e,"transition-duration"),o=J(e,"transition-delay");return Z(s[r])+Z(o[r])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(t=>{const n=e=>{(!e||e.target===this._preview&&"transform"===e.propertyName)&&(this._preview.removeEventListener("transitionend",n),t(),clearTimeout(i))},i=setTimeout(n,1.5*e);this._preview.addEventListener("transitionend",n)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let n;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),n=mt(this._placeholderRef,this._document)):n=it(this._rootElement),n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(t,e){const n=this._rootElement.getBoundingClientRect(),i=t===this._rootElement?null:t,r=i?i.getBoundingClientRect():n,s=ft(e)?e.targetTouches[0]:e,o=this._getViewportScrollPosition();return{x:r.left-n.left+(s.pageX-r.left-o.left),y:r.top-n.top+(s.pageY-r.top-o.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),n=ft(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,i=n.pageX-e.left,r=n.pageY-e.top;if(this._ownerSVGElement){const t=this._ownerSVGElement.getScreenCTM();if(t){const e=this._ownerSVGElement.createSVGPoint();return e.x=i,e.y=r,e.matrixTransform(t.inverse())}}return{x:i,y:r}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:n,y:i}=this.constrainPosition?this.constrainPosition(t,this):t;if("x"===this.lockAxis||"x"===e?i=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==e||(n=this._pickupPositionOnPage.x),this._boundaryRect){const{x:t,y:e}=this._pickupPositionInElement,r=this._boundaryRect,s=this._previewRect,o=r.top+e,a=r.bottom-(s.height-e);n=dt(n,r.left+t,r.right-(s.width-t)),i=dt(i,o,a)}return{x:n,y:i}}_updatePointerDirectionDelta(t){const{x:e,y:n}=t,i=this._pointerDirectionDelta,r=this._pointerPositionAtLastDirectionChange,s=Math.abs(e-r.x),o=Math.abs(n-r.y);return s>this._config.pointerDirectionChangeThreshold&&(i.x=e>r.x?1:-1,r.x=e),o>this._config.pointerDirectionChangeThreshold&&(i.y=n>r.y?1:-1,r.y=n),i}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,Y(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,ct),t.removeEventListener("touchstart",this._pointerDown,lt)}_applyRootElementTransform(t,e){const n=ut(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._rootElement.style.transform=this._initialTransform?n+" "+this._initialTransform:n}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const n=this._boundaryElement.getBoundingClientRect(),i=this._rootElement.getBoundingClientRect();if(0===n.width&&0===n.height||0===i.width&&0===i.height)return;const r=n.left-i.left,s=i.right-n.right,o=n.top-i.top,a=i.bottom-n.bottom;n.width>i.width?(r>0&&(t+=r),s>0&&(t-=s)):t=0,n.height>i.height?(o>0&&(e+=o),a>0&&(e-=a)):e=0,t===this._passiveTransform.x&&e===this._passiveTransform.y||this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:ft(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const n=t.target;this._boundaryRect&&(n===this._document||n!==this._boundaryElement&&n.contains(this._boundaryElement))&&tt(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const t=this._parentPositions.positions.get(this._document);return t?t.scrollPosition:this._viewportRuler.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=N(this._rootElement)),this._cachedShadowRoot}}function ut(t,e){return`translate3d(${Math.round(t)}px, ${Math.round(e)}px, 0)`}function dt(t,e,n){return Math.max(e,Math.min(n,t))}function pt(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function ft(t){return"t"===t.type[0]}function mt(t,e){const n=t.rootNodes;if(1===n.length&&n[0].nodeType===e.ELEMENT_NODE)return n[0];const i=e.createElement("div");return n.forEach(t=>i.appendChild(t)),i}function gt(t,e){t.style.width=`${e.width}px`,t.style.height=`${e.height}px`,t.style.transform=ut(e.left,e.top)}function yt(t,e,n){const i=_t(e,t.length-1),r=_t(n,t.length-1);if(i===r)return;const s=t[i],o=r<i?-1:1;for(let a=i;a!==r;a+=o)t[a]=t[a+o];t[r]=s}function _t(t,e){return Math.max(0,Math.min(e,t))}class bt{constructor(t,e,n,i,r){this._dragDropRegistry=e,this._ngZone=i,this._viewportRuler=r,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new l.a,this.entered=new l.a,this.exited=new l.a,this.dropped=new l.a,this.sorted=new l.a,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=y.a.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new l.a,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(t=0,e=_.a){return(!Object(V.a)(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=_.a),new h.a(n=>(n.add(e.schedule(B,t,{subscriber:n,counter:0,period:t})),n))}(0,g).pipe(E(this._stopScrollTimers)).subscribe(()=>{const t=this._scrollNode,e=this.autoScrollStep;1===this._verticalScrollDirection?St(t,-e):2===this._verticalScrollDirection&&St(t,e),1===this._horizontalScrollDirection?Tt(t,-e):2===this._horizontalScrollDirection&&Tt(t,e)})},this.element=a(t),this._document=n,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new nt(n,r)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,n,i){let r;this._draggingStarted(),null==i?(r=this.sortingDisabled?this._draggables.indexOf(t):-1,-1===r&&(r=this._getItemIndexFromPointerPosition(t,e,n))):r=i;const s=this._activeDraggables,o=s.indexOf(t),l=t.getPlaceholderElement();let c=s[r];if(c===t&&(c=s[r+1]),o>-1&&s.splice(o,1),c&&!this._dragDropRegistry.isDragging(c)){const e=c.getRootElement();e.parentElement.insertBefore(l,e),s.splice(r,0,t)}else if(this._shouldEnterAsFirstChild(e,n)){const e=s[0].getRootElement();e.parentNode.insertBefore(l,e),s.unshift(t)}else a(this.element).appendChild(l),s.push(t);l.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,n,i,r,s){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:n,container:this,previousContainer:i,isPointerOverContainer:r,distance:s})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(t=>t._withDropContainer(this)),this.isDragging()&&(e.filter(t=>t.isDragging()).every(e=>-1===t.indexOf(e))?this._reset():this._cacheItems()),this}withDirection(t){return this._direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._orientation=t,this}withScrollableParents(t){const e=a(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?vt("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,e=>e.drag===t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,n,i){if(this.sortingDisabled||!this._clientRect||!et(this._clientRect,.05,e,n))return;const r=this._itemPositions,s=this._getItemIndexFromPointerPosition(t,e,n,i);if(-1===s&&r.length>0)return;const o="horizontal"===this._orientation,a=vt(r,e=>e.drag===t),l=r[s],c=l.clientRect,h=a>s?1:-1,u=this._getItemOffsetPx(r[a].clientRect,c,h),d=this._getSiblingOffsetPx(a,r,h),p=r.slice();yt(r,a,s),this.sorted.next({previousIndex:a,currentIndex:s,container:this,item:t}),r.forEach((e,n)=>{if(p[n]===e)return;const i=e.drag===t,r=i?u:d,s=i?t.getPlaceholderElement():e.drag.getRootElement();e.offset+=r,o?(s.style.transform=`translate3d(${Math.round(e.offset)}px, 0, 0)`,tt(e.clientRect,0,r)):(s.style.transform=`translate3d(0, ${Math.round(e.offset)}px, 0)`,tt(e.clientRect,r,0))}),this._previousSwap.overlaps=$(c,e,n),this._previousSwap.drag=l.drag,this._previousSwap.delta=o?i.x:i.y}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let n,i=0,r=0;if(this._parentPositions.positions.forEach((s,o)=>{o!==this._document&&s.clientRect&&!n&&et(s.clientRect,.05,t,e)&&([i,r]=function(t,e,n,i){const r=xt(e,i),s=wt(e,n);let o=0,a=0;if(r){const e=t.scrollTop;1===r?e>0&&(o=1):t.scrollHeight-e>t.clientHeight&&(o=2)}if(s){const e=t.scrollLeft;1===s?e>0&&(a=1):t.scrollWidth-e>t.clientWidth&&(a=2)}return[o,a]}(o,s.clientRect,t,e),(i||r)&&(n=o))}),!i&&!r){const{width:s,height:o}=this._viewportRuler.getViewportSize(),a={width:s,height:o,top:0,right:s,bottom:o,left:0};i=xt(a,e),r=wt(a,t),n=window}!n||i===this._verticalScrollDirection&&r===this._horizontalScrollDirection&&n===this._scrollNode||(this._verticalScrollDirection=i,this._horizontalScrollDirection=r,this._scrollNode=n,(i||r)&&n?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=a(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const t=a(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_cacheItemPositions(){const t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(t=>{const e=t.getVisibleElement();return{drag:t,offset:0,clientRect:Q(e)}}).sort((e,n)=>t?e.clientRect.left-n.clientRect.left:e.clientRect.top-n.clientRect.top)}_reset(){this._isDragging=!1;const t=a(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(t=>{const e=t.getRootElement();e&&(e.style.transform="")}),this._siblings.forEach(t=>t._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(t,e,n){const i="horizontal"===this._orientation,r=e[t].clientRect,s=e[t+-1*n];let o=r[i?"width":"height"]*n;if(s){const t=i?"left":"top",e=i?"right":"bottom";-1===n?o-=s.clientRect[t]-r[e]:o+=r[t]-s.clientRect[e]}return o}_getItemOffsetPx(t,e,n){const i="horizontal"===this._orientation;let r=i?e.left-t.left:e.top-t.top;return-1===n&&(r+=i?e.width-t.width:e.height-t.height),r}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const n=this._itemPositions,i="horizontal"===this._orientation;if(n[0].drag!==this._activeDraggables[0]){const r=n[n.length-1].clientRect;return i?t>=r.right:e>=r.bottom}{const r=n[0].clientRect;return i?t<=r.left:e<=r.top}}_getItemIndexFromPointerPosition(t,e,n,i){const r="horizontal"===this._orientation,s=vt(this._itemPositions,({drag:s,clientRect:o},a,l)=>{if(s===t)return l.length<2;if(i){const t=r?i.x:i.y;if(s===this._previousSwap.drag&&this._previousSwap.overlaps&&t===this._previousSwap.delta)return!1}return r?e>=Math.floor(o.left)&&e<Math.floor(o.right):n>=Math.floor(o.top)&&n<Math.floor(o.bottom)});return-1!==s&&this.sortPredicate(s,t,this)?s:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(t,e){return null!=this._clientRect&&$(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,n){return this._siblings.find(i=>i._canReceive(t,e,n))}_canReceive(t,e,n){if(!this._clientRect||!$(this._clientRect,e,n)||!this.enterPredicate(t,this))return!1;const i=this._getShadowRoot().elementFromPoint(e,n);if(!i)return!1;const r=a(this.element);return i===r||r.contains(i)}_startReceiving(t,e){const n=this._activeSiblings;!n.has(t)&&e.every(t=>this.enterPredicate(t,this)||this._draggables.indexOf(t)>-1)&&(n.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scroll.subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&(this._itemPositions.forEach(({clientRect:t})=>{tt(t,e.top,e.left)}),this._itemPositions.forEach(({drag:t})=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=N(a(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._activeDraggables.filter(t=>t.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}}function vt(t,e){for(let n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1}function St(t,e){t===window?t.scrollBy(0,e):t.scrollTop+=e}function Tt(t,e){t===window?t.scrollBy(e,0):t.scrollLeft+=e}function xt(t,e){const{top:n,bottom:i,height:r}=t,s=.05*r;return e>=n-s&&e<=n+s?1:e>=i-s&&e<=i+s?2:0}function wt(t,e){const{left:n,right:i,width:r}=t,s=.05*r;return e>=n-s&&e<=n+s?1:e>=i-s&&e<=i+s?2:0}const Et=D({passive:!1,capture:!0});let Ct=(()=>{class t{constructor(t,e){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=t=>t.isDragging(),this.pointerMove=new l.a,this.pointerUp=new l.a,this.scroll=new l.a,this._preventDefaultWhileDragging=t=>{this._activeDragInstances.length>0&&t.preventDefault()},this._persistentTouchmoveListener=t=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&t.preventDefault(),this.pointerMove.next(t))},this._document=e}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Et)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Et)}startDragging(t,e){if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){const t=e.type.startsWith("touch");this._globalListeners.set(t?"touchend":"mouseup",{handler:t=>this.pointerUp.next(t),options:!0}).set("scroll",{handler:t=>this.scroll.next(t),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Et}),t||this._globalListeners.set("mousemove",{handler:t=>this.pointerMove.next(t),options:Et}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((t,e)=>{this._document.addEventListener(e,t.handler,t.options)})})}}stopDragging(t){const e=this._activeDragInstances.indexOf(t);e>-1&&(this._activeDragInstances.splice(e,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(t){return this._activeDragInstances.indexOf(t)>-1}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,e)=>{this._document.removeEventListener(e,t.handler,t.options)}),this._globalListeners.clear()}}return t.\u0275fac=function(e){return new(e||t)(i.Ub(i.A),i.Ub(r.d))},t.\u0275prov=Object(i.Gb)({factory:function(){return new t(Object(i.Ub)(i.A),Object(i.Ub)(r.d))},token:t,providedIn:"root"}),t})();const Mt={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let Ot=(()=>{class t{constructor(t,e,n,i){this._document=t,this._ngZone=e,this._viewportRuler=n,this._dragDropRegistry=i}createDrag(t,e=Mt){return new ht(t,e,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new bt(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return t.\u0275fac=function(e){return new(e||t)(i.Ub(r.d),i.Ub(i.A),i.Ub(U),i.Ub(Ct))},t.\u0275prov=Object(i.Gb)({factory:function(){return new t(Object(i.Ub)(r.d),Object(i.Ub)(i.A),Object(i.Ub)(U),Object(i.Ub)(Ct))},token:t,providedIn:"root"}),t})();const At=new i.r("CDK_DRAG_PARENT"),It=new i.r("CdkDropListGroup"),Rt=new i.r("CDK_DRAG_CONFIG");let Lt=0;const Pt=new i.r("CdkDropList");let Dt=(()=>{class t{constructor(e,n,r,s,o,a,c){this.element=e,this._changeDetectorRef=r,this._scrollDispatcher=s,this._dir=o,this._group=a,this._destroyed=new l.a,this.connectedTo=[],this.id="cdk-drop-list-"+Lt++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new i.n,this.entered=new i.n,this.exited=new i.n,this.sorted=new i.n,this._unsortedItems=new Set,this._dropListRef=n.createDropList(e),this._dropListRef.data=this,c&&this._assignDefaults(c),this._dropListRef.enterPredicate=(t,e)=>this.enterPredicate(t.data,e.data),this._dropListRef.sortPredicate=(t,e,n)=>this.sortPredicate(t,e.data,n.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),t._dropLists.push(this),a&&a._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=s(t)}addItem(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(t){this._unsortedItems.delete(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((t,e)=>t._dragRef.getVisibleElement().compareDocumentPosition(e._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const e=t._dropLists.indexOf(this);e>-1&&t._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(Object(O.a)(this._dir.value),E(this._destroyed)).subscribe(t=>e.withDirection(t)),e.beforeStarted.subscribe(()=>{const n=(i=this.connectedTo,Array.isArray(i)?i:[i]).map(e=>"string"==typeof e?t._dropLists.find(t=>t.id===e):e);var i;if(this._group&&this._group._items.forEach(t=>{-1===n.indexOf(t)&&n.push(t)}),!this._scrollableParentsResolved){const t=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(t=>t.getElementRef().nativeElement);this._dropListRef.withScrollableParents(t),this._scrollableParentsResolved=!0}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=s(this.sortingDisabled),e.autoScrollDisabled=s(this.autoScrollDisabled),e.autoScrollStep=o(this.autoScrollStep,2),e.connectedTo(n.filter(t=>t&&t!==this).map(t=>t._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(t=>{this.entered.emit({container:this,item:t.item.data,currentIndex:t.currentIndex})}),t.exited.subscribe(t=>{this.exited.emit({container:this,item:t.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(t=>{this.sorted.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,container:this,item:t.item.data})}),t.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,item:t.item.data,isPointerOverContainer:t.isPointerOverContainer,distance:t.distance}),this._changeDetectorRef.markForCheck()})}_assignDefaults(t){const{lockAxis:e,draggingDisabled:n,sortingDisabled:i,listAutoScrollDisabled:r,listOrientation:s}=t;this.disabled=null!=n&&n,this.sortingDisabled=null!=i&&i,this.autoScrollDisabled=null!=r&&r,this.orientation=s||"vertical",e&&(this.lockAxis=e)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(t=>t._dragRef))}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(i.l),i.Kb(Ot),i.Kb(i.h),i.Kb(F),i.Kb(k,8),i.Kb(It,12),i.Kb(Rt,8))},t.\u0275dir=i.Fb({type:t,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(t,e){2&t&&(i.Ab("id",e.id),i.Cb("cdk-drop-list-disabled",e.disabled)("cdk-drop-list-dragging",e._dropListRef.isDragging())("cdk-drop-list-receiving",e._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],id:"id",enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],orientation:["cdkDropListOrientation","orientation"],lockAxis:["cdkDropListLockAxis","lockAxis"],data:["cdkDropListData","data"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[i.yb([{provide:It,useValue:void 0},{provide:Pt,useExisting:t}])]}),t._dropLists=[],t})();const Nt=new i.r("CdkDragHandle");let jt=(()=>{class t{constructor(t,e){this.element=t,this._stateChanges=new l.a,this._disabled=!1,this._parentDrag=e}get disabled(){return this._disabled}set disabled(t){this._disabled=s(t),this._stateChanges.next(this)}ngOnDestroy(){this._stateChanges.complete()}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(i.l),i.Kb(At,12))},t.\u0275dir=i.Fb({type:t,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]},features:[i.yb([{provide:Nt,useExisting:t}])]}),t})();const kt=new i.r("CdkDragPlaceholder"),Ft=new i.r("CdkDragPreview");let Ut=(()=>{class t{constructor(e,n,r,s,o,a,c,u,d,p,f){this.element=e,this.dropContainer=n,this._ngZone=s,this._viewContainerRef=o,this._dir=c,this._changeDetectorRef=d,this._selfHandle=p,this._parentDrag=f,this._destroyed=new l.a,this.started=new i.n,this.released=new i.n,this.ended=new i.n,this.entered=new i.n,this.exited=new i.n,this.dropped=new i.n,this.moved=new h.a(t=>{const e=this._dragRef.moved.pipe(Object(H.a)(t=>({source:this,pointerPosition:t.pointerPosition,event:t.event,delta:t.delta,distance:t.distance}))).subscribe(t);return()=>{e.unsubscribe()}}),this._dragRef=u.createDrag(e,{dragStartThreshold:a&&null!=a.dragStartThreshold?a.dragStartThreshold:5,pointerDirectionChangeThreshold:a&&null!=a.pointerDirectionChangeThreshold?a.pointerDirectionChangeThreshold:5,zIndex:null==a?void 0:a.zIndex}),this._dragRef.data=this,t._dragInstances.push(this),a&&this._assignDefaults(a),n&&(this._dragRef._withDropContainer(n._dropListRef),n.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=s(t),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.onStable.pipe(Object(X.a)(1),E(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._handles.changes.pipe(Object(O.a)(this._handles),Object(q.a)(t=>{const e=t.filter(t=>t._parentDrag===this).map(t=>t.element);this._selfHandle&&this.rootElementSelector&&e.push(this.element),this._dragRef.withHandles(e)}),Object(A.a)(t=>Object(z.a)(...t.map(t=>t._stateChanges.pipe(Object(O.a)(t))))),E(this._destroyed)).subscribe(t=>{const e=this._dragRef,n=t.element.nativeElement;t.disabled?e.disableHandle(n):e.enableHandle(n)}),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})}ngOnChanges(t){const e=t.rootElementSelector,n=t.freeDragPosition;e&&!e.firstChange&&this._updateRootElement(),n&&!n.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const e=t._dragInstances.indexOf(this);e>-1&&t._dragInstances.splice(e,1),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()}_updateRootElement(){const t=this.element.nativeElement,e=this.rootElementSelector?Gt(t,this.rootElementSelector):t;this._dragRef.withRootElement(e||t)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?Gt(this.element.nativeElement,t):a(t):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){const t=this._dir,n=this.dragStartDelay,i=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,r=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay="object"==typeof n&&n?n:o(n),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(i).withPreviewTemplate(r),t&&e.withDirection(t.value)}}),e.beforeStarted.pipe(Object(X.a)(1)).subscribe(()=>{var n,i;if(this._parentDrag)return void e.withParent(this._parentDrag._dragRef);let r=this.element.nativeElement.parentElement;for(;r;){if(null===(n=r.classList)||void 0===n?void 0:n.contains("cdk-drag")){e.withParent((null===(i=t._dragInstances.find(t=>t.element.nativeElement===r))||void 0===i?void 0:i._dragRef)||null);break}r=r.parentElement}})}_handleEvents(t){t.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(()=>{this.released.emit({source:this})}),t.ended.subscribe(t=>{this.ended.emit({source:this,distance:t.distance}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(t=>{this.entered.emit({container:t.container.data,item:this,currentIndex:t.currentIndex})}),t.exited.subscribe(t=>{this.exited.emit({container:t.container.data,item:this})}),t.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,isPointerOverContainer:t.isPointerOverContainer,item:this,distance:t.distance})})}_assignDefaults(t){const{lockAxis:e,dragStartDelay:n,constrainPosition:i,previewClass:r,boundaryElement:s,draggingDisabled:o,rootElementSelector:a}=t;this.disabled=null!=o&&o,this.dragStartDelay=n||0,e&&(this.lockAxis=e),i&&(this.constrainPosition=i),r&&(this.previewClass=r),s&&(this.boundaryElement=s),a&&(this.rootElementSelector=a)}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(i.l),i.Kb(Pt,12),i.Kb(r.d),i.Kb(i.A),i.Kb(i.P),i.Kb(Rt,8),i.Kb(k,8),i.Kb(Ot),i.Kb(i.h),i.Kb(Nt,10),i.Kb(At,12))},t.\u0275dir=i.Fb({type:t,selectors:[["","cdkDrag",""]],contentQueries:function(t,e,n){if(1&t&&(i.Db(n,Ft,1),i.Db(n,kt,1),i.Db(n,Nt,1)),2&t){let t;i.kc(t=i.Yb())&&(e._previewTemplate=t.first),i.kc(t=i.Yb())&&(e._placeholderTemplate=t.first),i.kc(t=i.Yb())&&(e._handles=t)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,e){2&t&&i.Cb("cdk-drag-disabled",e.disabled)("cdk-drag-dragging",e._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[i.yb([{provide:At,useExisting:t}]),i.xb]}),t._dragInstances=[],t})();function Gt(t,e){let n=t.parentElement;for(;n;){if(n.matches?n.matches(e):n.msMatchesSelector(e))return n;n=n.parentElement}return null}let Vt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({providers:[Ot],imports:[G]}),t})()},m1H0:function(t,e,n){"use strict";var i=n("cRRe"),r=n("qKzT"),s=n("Bpkx"),o=n("NQ7O"),a=n("nV02");e.a=class extends r.a{constructor(t){(t=Object(s.a)({},t)).controls||(t.controls=Object(o.a)()),t.interactions||(t.interactions=Object(a.a)({onFocusOnly:!0})),super(t)}createRenderer(){return new i.a(this)}}},m3va:function(t,e,n){"use strict";e.a={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}},mTm8:function(t,e,n){"use strict";e.a={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"}},mgod:function(t,e,n){"use strict";n.d(e,"a",function(){return r});class i{constructor(t,e,n,i){this.minX=t,this.maxX=e,this.minY=n,this.maxY=i}contains(t){return this.containsXY(t[1],t[2])}containsTileRange(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY}containsXY(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY}equals(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY}extend(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY}}function r(t,e,n,r,s){return void 0!==s?(s.minX=t,s.maxX=e,s.minY=n,s.maxY=r,s):new i(t,e,n,r)}e.b=i},mrSG:function(t,e,n){"use strict";function i(t,e,n,i){var r,s=arguments.length,o=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(s<3?r(o):s>3?r(e,n,o):r(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o}function r(t,e,n,i){return new(n||(n=Promise))(function(r,s){function o(t){try{l(i.next(t))}catch(e){s(e)}}function a(t){try{l(i.throw(t))}catch(e){s(e)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}l((i=i.apply(t,e||[])).next())})}n.d(e,"b",function(){return i}),n.d(e,"a",function(){return r})},n2w5:function(t,e,n){"use strict";n.d(e,"c",function(){return s}),n.d(e,"g",function(){return o}),n.d(e,"f",function(){return a}),n.d(e,"j",function(){return c}),n.d(e,"a",function(){return h}),n.d(e,"h",function(){return u}),n.d(e,"i",function(){return d}),n.d(e,"e",function(){return p}),n.d(e,"l",function(){return f}),n.d(e,"b",function(){return m}),n.d(e,"d",function(){return g}),n.d(e,"k",function(){return y});var i=n("i3ci");const r=new Array(6);function s(){return[1,0,0,1,0,0]}function o(t){return l(t,1,0,0,1,0,0)}function a(t,e){const n=t[0],i=t[1],r=t[2],s=t[3],o=t[4],a=t[5],l=e[0],c=e[1],h=e[2],u=e[3],d=e[4],p=e[5];return t[0]=n*l+r*c,t[1]=i*l+s*c,t[2]=n*h+r*u,t[3]=i*h+s*u,t[4]=n*d+r*p+o,t[5]=i*d+s*p+a,t}function l(t,e,n,i,r,s,o){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t[4]=s,t[5]=o,t}function c(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function h(t,e){const n=e[0],i=e[1];return e[0]=t[0]*n+t[2]*i+t[4],e[1]=t[1]*n+t[3]*i+t[5],e}function u(t,e){const n=Math.cos(e),i=Math.sin(e);return a(t,l(r,n,i,-i,n,0,0))}function d(t,e,n){return a(t,l(r,e,0,0,n,0,0))}function p(t,e,n){return l(t,e,0,0,n,0,0)}function f(t,e,n){return a(t,l(r,1,0,0,1,e,n))}function m(t,e,n,i,r,s,o,a){const l=Math.sin(s),c=Math.cos(s);return t[0]=i*c,t[1]=r*l,t[2]=-i*l,t[3]=r*c,t[4]=o*i*c-a*i*l+e,t[5]=o*r*l+a*r*c+n,t}function g(t,e){const n=(r=e)[0]*r[3]-r[1]*r[2];var r;Object(i.a)(0!==n,32);const s=e[0],o=e[1],a=e[2],l=e[3],c=e[4],h=e[5];return t[0]=l/n,t[1]=-o/n,t[2]=-a/n,t[3]=s/n,t[4]=(a*h-l*c)/n,t[5]=-(s*h-o*c)/n,t}function y(t){return"matrix("+t.join(", ")+")"}},n6bG:function(t,e,n){"use strict";function i(t){return"function"==typeof t}n.d(e,"a",function(){return i})},n7ez:function(t,e,n){"use strict";var i=n("uMsb"),r=n("mgod"),s=n("0Fwh"),o=n("n2w5"),a=n("Bpkx"),l=n("hKKC"),c=n("4cD7"),h=n("Znq9"),u=n("2I+J"),d=n("oWEL");e.a=class extends i.a{constructor(t){super(t),this.extentChanged=!0,this.renderedExtent_=null,this.renderedProjection=null,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=Object(l.k)(),this.tmpTileRange_=new r.b(0,0,0,0)}isDrawableTile(t){const e=this.getLayer(),n=t.getState(),i=e.getUseInterimTilesOnError();return n==s.a.LOADED||n==s.a.EMPTY||n==s.a.ERROR&&!i}getTile(t,e,n,i){const r=i.pixelRatio,o=i.viewState.projection,a=this.getLayer();let l=a.getSource().getTile(t,e,n,r,o);return l.getState()==s.a.ERROR&&(a.getUseInterimTilesOnError()?a.getPreload()>0&&(this.newTiles_=!0):l.setState(s.a.LOADED)),this.isDrawableTile(l)||(l=l.getInterimTile()),l}loadedTileCallback(t,e,n){return!!this.isDrawableTile(n)&&super.loadedTileCallback(t,e,n)}prepareFrame(t){return!!this.getLayer().getSource()}renderFrame(t,e){const n=t.layerStatesArray[t.layerIndex],i=t.viewState,r=i.projection,p=i.resolution,f=i.center,m=i.rotation,g=t.pixelRatio,y=this.getLayer(),_=y.getSource(),b=_.getRevision(),v=_.getTileGridForProjection(r),S=v.getZForResolution(p,_.zDirection),T=v.getResolution(S);let x=t.extent;const w=n.extent&&Object(h.h)(n.extent,r);w&&(x=Object(l.C)(x,Object(h.h)(n.extent,r)));const E=_.getTilePixelRatio(g);let C=Math.round(t.size[0]*E),M=Math.round(t.size[1]*E);if(m){const t=Math.round(Math.sqrt(C*C+M*M));C=t,M=t}const O=T*C/2/E,A=T*M/2/E,I=[f[0]-O,f[1]-A,f[0]+O,f[1]+A],R=v.getTileRangeForExtentAndZ(x,S),L={};L[S]={};const P=this.createLoadedTileFinder(_,r,L),D=this.tmpExtent,N=this.tmpTileRange_;this.newTiles_=!1;for(let o=R.minX;o<=R.maxX;++o)for(let e=R.minY;e<=R.maxY;++e){const n=this.getTile(S,o,e,t);if(this.isDrawableTile(n)){const e=Object(u.c)(this);if(n.getState()==s.a.LOADED){L[S][n.tileCoord.toString()]=n;const t=n.inTransition(e);this.newTiles_||!t&&-1!==this.renderedTiles.indexOf(n)||(this.newTiles_=!0)}if(1===n.getAlpha(e,t.time))continue}const i=v.getTileCoordChildTileRange(n.tileCoord,N,D);let r=!1;i&&(r=P(S+1,i)),r||v.forEachTileCoordParentTileRange(n.tileCoord,P,N,D)}const j=T/p;Object(o.b)(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/E,1/E,m,-C/2,-M/2);const k=Object(c.b)(this.pixelTransform);this.useContainer(e,k,n.opacity);const F=this.context,U=F.canvas;Object(o.d)(this.inversePixelTransform,this.pixelTransform),Object(o.b)(this.tempTransform,C/2,M/2,j,j,0,-C/2,-M/2),U.width!=C||U.height!=M?(U.width=C,U.height=M):this.containerReused||F.clearRect(0,0,C,M),w&&this.clipUnrotated(F,t,w),Object(a.a)(F,_.getContextOptions()),this.preRender(F,t),this.renderedTiles.length=0;let G,V,B,z=Object.keys(L).map(Number);z.sort(d.i),1!==n.opacity||this.containerReused&&!_.getOpaque(t.viewState.projection)?(G=[],V=[]):z=z.reverse();for(let s=z.length-1;s>=0;--s){const e=z[s],i=_.getTilePixelSize(e,g,r),a=v.getResolution(e)/T,c=i[0]*a*j,h=i[1]*a*j,d=v.getTileCoordForCoordAndZ(Object(l.D)(I),e),p=v.getTileCoordExtent(d),f=Object(o.a)(this.tempTransform,[E*(p[0]-I[0])/T,E*(I[3]-p[3])/T]),m=E*_.getGutterForProjection(r),y=L[e];for(const r in y){const i=y[r],s=i.tileCoord,o=f[0]-(d[1]-s[1])*c,a=Math.round(o+c),l=f[1]-(d[2]-s[2])*h,p=Math.round(l+h),g=Math.round(o),b=Math.round(l),v=a-g,T=p-b,x=S===e,w=x&&1!==i.getAlpha(Object(u.c)(this),t.time);if(!w)if(G){F.save(),B=[g,b,g+v,b,g+v,b+T,g,b+T];for(let t=0,n=G.length;t<n;++t)if(S!==e&&e<V[t]){const e=G[t];F.beginPath(),F.moveTo(B[0],B[1]),F.lineTo(B[2],B[3]),F.lineTo(B[4],B[5]),F.lineTo(B[6],B[7]),F.moveTo(e[6],e[7]),F.lineTo(e[4],e[5]),F.lineTo(e[2],e[3]),F.lineTo(e[0],e[1]),F.clip()}G.push(B),V.push(e)}else F.clearRect(g,b,v,T);this.drawTileImage(i,t,g,b,v,T,m,x,n.opacity),G&&!w&&F.restore(),this.renderedTiles.push(i),this.updateUsedTiles(t.usedTiles,_,i)}}return this.renderedRevision=b,this.renderedResolution=T,this.extentChanged=!this.renderedExtent_||!Object(l.q)(this.renderedExtent_,I),this.renderedExtent_=I,this.renderedPixelRatio=g,this.renderedProjection=r,this.manageTilePyramid(t,_,v,g,r,x,S,y.getPreload()),this.scheduleExpireCache(t,_),this.postRender(F,t),n.extent&&F.restore(),k!==U.style.transform&&(U.style.transform=k),this.container}drawTileImage(t,e,n,i,r,s,o,a,l){const c=this.getTileImage(t);if(!c)return;const h=Object(u.c)(this),d=a?t.getAlpha(h,e.time):1,p=l*d,f=p!==this.context.globalAlpha;f&&(this.context.save(),this.context.globalAlpha=p),this.context.drawImage(c,o,o,c.width-2*o,c.height-2*o,n,i,r,s),f&&this.context.restore(),1!==d?e.animate=!0:a&&t.endTransition(h)}getImage(){const t=this.context;return t?t.canvas:null}getTileImage(t){return t.getImage()}scheduleExpireCache(t,e){if(e.canExpireCache()){const n=(function(t,e,n){const i=Object(u.c)(t);i in n.usedTiles&&t.expireCache(n.viewState.projection,n.usedTiles[i])}).bind(null,e);t.postRenderFunctions.push(n)}}updateUsedTiles(t,e,n){const i=Object(u.c)(e);i in t||(t[i]={}),t[i][n.getKey()]=!0}manageTilePyramid(t,e,n,i,r,o,a,l,c){const h=Object(u.c)(e);h in t.wantedTiles||(t.wantedTiles[h]={});const d=t.wantedTiles[h],p=t.tileQueue;let f,m,g,y,_,b,v=0;for(b=n.getMinZoom();b<=a;++b)for(m=n.getTileRangeForExtentAndZ(o,b,m),g=n.getResolution(b),y=m.minX;y<=m.maxX;++y)for(_=m.minY;_<=m.maxY;++_)a-b<=l?(++v,f=e.getTile(b,y,_,i,r),f.getState()==s.a.IDLE&&(d[f.getKey()]=!0,p.isKeyQueued(f.getKey())||p.enqueue([f,h,n.getTileCoordCenter(f.tileCoord),g])),void 0!==c&&c(f)):e.useTile(b,y,_,r);e.updateCacheSize(v,r)}}},nV02:function(t,e,n){"use strict";n.d(e,"a",function(){return C});var i=n("rCez"),r=n("+hOz"),s=n("gjiK"),o=class extends r.a{constructor(t){super();const e=t||{};this.delta_=e.delta?e.delta:1,this.duration_=void 0!==e.duration?e.duration:250}handleEvent(t){let e=!1;if(t.type==s.a.DBLCLICK){const n=t.originalEvent,i=t.coordinate,s=n.shiftKey?-this.delta_:this.delta_,o=t.map.getView();Object(r.c)(o,s,i,this.duration_),n.preventDefault(),e=!0}return!e}},a=n("bdbV"),l=n("6Xq6"),c=n("7k3C"),h=n("orbG"),u=n("rA9B"),d=class extends a.b{constructor(t){super({stopDown:l.a});const e=t||{};this.kinetic_=e.kinetic,this.lastCentroid=null,this.panning_=!1;const n=e.condition?e.condition:Object(c.a)(c.g,c.h);this.condition_=e.onFocusOnly?Object(c.a)(c.d,n):n,this.noKinetic_=!1}handleDragEvent(t){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());const e=this.targetPointers,n=Object(a.a)(e);if(e.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(n[0],n[1]),this.lastCentroid){const e=[this.lastCentroid[0]-n[0],n[1]-this.lastCentroid[1]],i=t.map.getView();Object(u.f)(e,i.getResolution()),Object(u.e)(e,i.getRotation()),i.adjustCenterInternal(e)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=n,this.lastPointersCount_=e.length,t.originalEvent.preventDefault()}handleUpEvent(t){const e=t.map,n=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const t=this.kinetic_.getDistance(),i=this.kinetic_.getAngle(),r=n.getCenterInternal(),s=e.getPixelFromCoordinateInternal(r),o=e.getCoordinateFromPixelInternal([s[0]-t*Math.cos(i),s[1]-t*Math.sin(i)]);n.animateInternal({center:n.getConstrainedCenter(o),duration:500,easing:h.b})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(t){if(this.targetPointers.length>0&&this.condition_(t)){const e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}},p=n("aydW"),f=class extends a.b{constructor(t){const e=t||{};super({stopDown:l.a}),this.condition_=e.condition?e.condition:c.b,this.lastAngle_=void 0,this.duration_=void 0!==e.duration?e.duration:250}handleDragEvent(t){if(!Object(c.f)(t))return;const e=t.map,n=e.getView();if(n.getConstraints().rotation===p.c)return;const i=e.getSize(),r=t.pixel,s=Math.atan2(i[1]/2-r[1],r[0]-i[0]/2);void 0!==this.lastAngle_&&n.adjustRotationInternal(-(s-this.lastAngle_)),this.lastAngle_=s}handleUpEvent(t){return!Object(c.f)(t)||(t.map.getView().endInteraction(this.duration_),!1)}handleDownEvent(t){return!(!Object(c.f)(t)||!Object(c.e)(t)||!this.condition_(t)||(t.map.getView().beginInteraction(),this.lastAngle_=void 0,0))}},m=n("dPhe"),g=n("hKKC"),y=class extends m.a{constructor(t){const e=t||{};super({condition:e.condition?e.condition:c.i,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=void 0!==e.duration?e.duration:200,this.out_=void 0!==e.out&&e.out}onBoxEnd(t){const e=this.getMap(),n=e.getView(),i=e.getSize();let r=this.getGeometry().getExtent();if(this.out_){const t=n.calculateExtentInternal(i),s=Object(g.o)([e.getPixelFromCoordinateInternal(Object(g.w)(r)),e.getPixelFromCoordinateInternal(Object(g.E)(r))]),o=n.getResolutionForExtentInternal(s,i);Object(g.K)(t,1/o),r=t}const s=n.getConstrainedResolution(n.getResolutionForExtentInternal(r,i)),o=n.getConstrainedCenter(Object(g.y)(r),s);n.animateInternal({resolution:s,center:o,duration:this.duration_,easing:h.b})}},_=n("9CgO"),b=class extends r.a{constructor(t){super();const e=t||{};this.defaultCondition_=function(t){return Object(c.g)(t)&&Object(c.j)(t)},this.condition_=void 0!==e.condition?e.condition:this.defaultCondition_,this.duration_=void 0!==e.duration?e.duration:100,this.pixelDelta_=void 0!==e.pixelDelta?e.pixelDelta:128}handleEvent(t){let e=!1;if(t.type==_.a.KEYDOWN){const n=t.originalEvent,i=n.keyCode;if(this.condition_(t)&&(40==i||37==i||39==i||38==i)){const s=t.map.getView(),o=s.getResolution()*this.pixelDelta_;let a=0,l=0;40==i?l=-o:37==i?a=-o:39==i?a=o:l=o;const c=[a,l];Object(u.e)(c,s.getRotation()),Object(r.b)(s,c,this.duration_),n.preventDefault(),e=!0}}return!e}},v=class extends r.a{constructor(t){super();const e=t||{};this.condition_=e.condition?e.condition:c.j,this.delta_=e.delta?e.delta:1,this.duration_=void 0!==e.duration?e.duration:100}handleEvent(t){let e=!1;if(t.type==_.a.KEYDOWN||t.type==_.a.KEYPRESS){const n=t.originalEvent,i=n.charCode;if(this.condition_(t)&&(i=="+".charCodeAt(0)||i=="-".charCodeAt(0))){const s=t.map,o=i=="+".charCodeAt(0)?this.delta_:-this.delta_,a=s.getView();Object(r.c)(a,o,void 0,this.duration_),n.preventDefault(),e=!0}}return!e}},S=n("FRHD"),T=n("LV+m"),x=class extends r.a{constructor(t){const e=t||{};super(e),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=void 0!==e.maxDelta?e.maxDelta:1,this.duration_=void 0!==e.duration?e.duration:250,this.timeout_=void 0!==e.timeout?e.timeout:80,this.useAnchor_=void 0===e.useAnchor||e.useAnchor,this.constrainResolution_=void 0!==e.constrainResolution&&e.constrainResolution;const n=e.condition?e.condition:c.c;this.condition_=e.onFocusOnly?Object(c.a)(c.d,n):n,this.lastAnchor_=null,this.startTime_=void 0,this.mode_=void 0,this.trackpadEventGap_=400,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0,this.getMap().getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(t){if(!this.condition_(t))return!0;if(t.type!==_.a.WHEEL)return!0;const e=t.map,n=t.originalEvent;let i;if(n.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==_.a.WHEEL&&(i=n.deltaY,S.b&&n.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(i/=S.a),n.deltaMode===WheelEvent.DOM_DELTA_LINE&&(i*=40)),0===i)return!1;this.lastDelta_=i;const r=Date.now();void 0===this.startTime_&&(this.startTime_=r),(!this.mode_||r-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(i)<4?"trackpad":"wheel");const s=e.getView();if("trackpad"===this.mode_&&!s.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(s.getAnimating()&&s.cancelAnimations(),s.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),s.adjustZoom(-i/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=r,!1;this.totalDelta_+=i;const o=Math.max(this.timeout_-(r-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,e),o),!1}handleWheelZoom_(t){const e=t.getView();e.getAnimating()&&e.cancelAnimations();let n=-Object(T.a)(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(e.getConstrainResolution()||this.constrainResolution_)&&(n=n?n>0?1:-1:0),Object(r.c)(e,n,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(t){this.useAnchor_=t,t||(this.lastAnchor_=null)}},w=class extends a.b{constructor(t){const e=t||{},n=e;n.stopDown||(n.stopDown=l.a),super(n),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==e.threshold?e.threshold:.3,this.duration_=void 0!==e.duration?e.duration:250}handleDragEvent(t){let e=0;const n=this.targetPointers[0],i=this.targetPointers[1],r=Math.atan2(i.clientY-n.clientY,i.clientX-n.clientX);if(void 0!==this.lastAngle_){const t=r-this.lastAngle_;this.rotationDelta_+=t,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=t}this.lastAngle_=r;const s=t.map,o=s.getView();if(o.getConstraints().rotation===p.c)return;const l=s.getViewport().getBoundingClientRect(),c=Object(a.a)(this.targetPointers);c[0]-=l.left,c[1]-=l.top,this.anchor_=s.getCoordinateFromPixelInternal(c),this.rotating_&&(s.render(),o.adjustRotationInternal(e,this.anchor_))}handleUpEvent(t){return!(this.targetPointers.length<2&&(t.map.getView().endInteraction(this.duration_),1))}handleDownEvent(t){if(this.targetPointers.length>=2){const e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1}},E=class extends a.b{constructor(t){const e=t||{},n=e;n.stopDown||(n.stopDown=l.a),super(n),this.anchor_=null,this.duration_=void 0!==e.duration?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(t){let e=1;const n=this.targetPointers[0],i=this.targetPointers[1],r=n.clientX-i.clientX,s=n.clientY-i.clientY,o=Math.sqrt(r*r+s*s);void 0!==this.lastDistance_&&(e=this.lastDistance_/o),this.lastDistance_=o;const l=t.map,c=l.getView();1!=e&&(this.lastScaleDelta_=e);const h=l.getViewport().getBoundingClientRect(),u=Object(a.a)(this.targetPointers);u[0]-=h.left,u[1]-=h.top,this.anchor_=l.getCoordinateFromPixelInternal(u),l.render(),c.adjustResolutionInternal(e,this.anchor_)}handleUpEvent(t){return!(this.targetPointers.length<2&&(t.map.getView().endInteraction(this.duration_,this.lastScaleDelta_>1?1:-1),1))}handleDownEvent(t){if(this.targetPointers.length>=2){const e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1}};function C(t){const e=t||{},n=new i.a,r=new class{constructor(t,e,n){this.decay_=t,this.minVelocity_=e,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(t,e){this.points_.push(t,e,Date.now())}end(){if(this.points_.length<6)return!1;const t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;let n=e-3;for(;n>0&&this.points_[n+2]>t;)n-=3;const i=this.points_[e+2]-this.points_[n+2];if(i<1e3/60)return!1;const r=this.points_[e]-this.points_[n],s=this.points_[e+1]-this.points_[n+1];return this.angle_=Math.atan2(s,r),this.initialVelocity_=Math.sqrt(r*r+s*s)/i,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}(-.005,.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&n.push(new f),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&n.push(new o({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&n.push(new d({onFocusOnly:e.onFocusOnly,kinetic:r})),(void 0===e.pinchRotate||e.pinchRotate)&&n.push(new w),(void 0===e.pinchZoom||e.pinchZoom)&&n.push(new E({duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(n.push(new b),n.push(new v({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&n.push(new x({onFocusOnly:e.onFocusOnly,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&n.push(new y({duration:e.zoomDuration})),n}},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=t=>e=>{for(let n=0,i=t.length;n<i&&!e.closed;n++)e.next(t[n]);e.complete()}},o1q9:function(t,e,n){"use strict";var i=n("jVi3"),r=n("xrpK");function s(t){return t.getAttributeNS("http://www.w3.org/1999/xlink","href")}const o=[null,"http://www.opengis.net/wms"],a=Object(i.p)(o,{Service:Object(i.l)(function(t,e){return Object(i.s)({},c,t,e)}),Capability:Object(i.l)(function(t,e){return Object(i.s)({},l,t,e)})}),l=Object(i.p)(o,{Request:Object(i.l)(function(t,e){return Object(i.s)({},y,t,e)}),Exception:Object(i.l)(function(t,e){return Object(i.s)([],p,t,e)}),Layer:Object(i.l)(function(t,e){const n=Object(i.s)({},f,t,e);return void 0===n.Layer?Object.assign(n,w(t,e)):n})}),c=Object(i.p)(o,{Name:Object(i.l)(r.g),Title:Object(i.l)(r.g),Abstract:Object(i.l)(r.g),KeywordList:Object(i.l)(O),OnlineResource:Object(i.l)(s),ContactInformation:Object(i.l)(function(t,e){return Object(i.s)({},h,t,e)}),Fees:Object(i.l)(r.g),AccessConstraints:Object(i.l)(r.g),LayerLimit:Object(i.l)(r.e),MaxWidth:Object(i.l)(r.e),MaxHeight:Object(i.l)(r.e)}),h=Object(i.p)(o,{ContactPersonPrimary:Object(i.l)(function(t,e){return Object(i.s)({},u,t,e)}),ContactPosition:Object(i.l)(r.g),ContactAddress:Object(i.l)(function(t,e){return Object(i.s)({},d,t,e)}),ContactVoiceTelephone:Object(i.l)(r.g),ContactFacsimileTelephone:Object(i.l)(r.g),ContactElectronicMailAddress:Object(i.l)(r.g)}),u=Object(i.p)(o,{ContactPerson:Object(i.l)(r.g),ContactOrganization:Object(i.l)(r.g)}),d=Object(i.p)(o,{AddressType:Object(i.l)(r.g),Address:Object(i.l)(r.g),City:Object(i.l)(r.g),StateOrProvince:Object(i.l)(r.g),PostCode:Object(i.l)(r.g),Country:Object(i.l)(r.g)}),p=Object(i.p)(o,{Format:Object(i.i)(r.g)}),f=Object(i.p)(o,{Name:Object(i.l)(r.g),Title:Object(i.l)(r.g),Abstract:Object(i.l)(r.g),KeywordList:Object(i.l)(O),CRS:Object(i.k)(r.g),EX_GeographicBoundingBox:Object(i.l)(function(t,e){const n=Object(i.s)({},g,t,e);if(!n)return;const r=n.westBoundLongitude,s=n.southBoundLatitude,o=n.eastBoundLongitude,a=n.northBoundLatitude;return void 0!==r&&void 0!==s&&void 0!==o&&void 0!==a?[r,s,o,a]:void 0}),BoundingBox:Object(i.k)(function(t,e){const n=[Object(r.d)(t.getAttribute("minx")),Object(r.d)(t.getAttribute("miny")),Object(r.d)(t.getAttribute("maxx")),Object(r.d)(t.getAttribute("maxy"))],i=[Object(r.d)(t.getAttribute("resx")),Object(r.d)(t.getAttribute("resy"))];return{crs:t.getAttribute("CRS"),extent:n,res:i}}),Dimension:Object(i.k)(function(t,e){return{name:t.getAttribute("name"),units:t.getAttribute("units"),unitSymbol:t.getAttribute("unitSymbol"),default:t.getAttribute("default"),multipleValues:Object(r.b)(t.getAttribute("multipleValues")),nearestValue:Object(r.b)(t.getAttribute("nearestValue")),current:Object(r.b)(t.getAttribute("current")),values:Object(r.g)(t)}}),Attribution:Object(i.l)(function(t,e){return Object(i.s)({},m,t,e)}),AuthorityURL:Object(i.k)(function(t,e){const n=E(t,e);if(n)return n.name=t.getAttribute("name"),n}),Identifier:Object(i.k)(r.g),MetadataURL:Object(i.k)(function(t,e){const n=E(t,e);if(n)return n.type=t.getAttribute("type"),n}),DataURL:Object(i.k)(E),FeatureListURL:Object(i.k)(E),Style:Object(i.k)(function(t,e){return Object(i.s)({},S,t,e)}),MinScaleDenominator:Object(i.l)(r.c),MaxScaleDenominator:Object(i.l)(r.c),Layer:Object(i.k)(w)}),m=Object(i.p)(o,{Title:Object(i.l)(r.g),OnlineResource:Object(i.l)(s),LogoURL:Object(i.l)(M)}),g=Object(i.p)(o,{westBoundLongitude:Object(i.l)(r.c),eastBoundLongitude:Object(i.l)(r.c),southBoundLatitude:Object(i.l)(r.c),northBoundLatitude:Object(i.l)(r.c)}),y=Object(i.p)(o,{GetCapabilities:Object(i.l)(C),GetMap:Object(i.l)(C),GetFeatureInfo:Object(i.l)(C)}),_=Object(i.p)(o,{Format:Object(i.k)(r.g),DCPType:Object(i.k)(function(t,e){return Object(i.s)({},b,t,e)})}),b=Object(i.p)(o,{HTTP:Object(i.l)(function(t,e){return Object(i.s)({},v,t,e)})}),v=Object(i.p)(o,{Get:Object(i.l)(E),Post:Object(i.l)(E)}),S=Object(i.p)(o,{Name:Object(i.l)(r.g),Title:Object(i.l)(r.g),Abstract:Object(i.l)(r.g),LegendURL:Object(i.k)(M),StyleSheetURL:Object(i.l)(E),StyleURL:Object(i.l)(E)}),T=Object(i.p)(o,{Format:Object(i.l)(r.g),OnlineResource:Object(i.l)(s)}),x=Object(i.p)(o,{Keyword:Object(i.i)(r.g)});function w(t,e){const n=e[e.length-1],s=Object(i.s)({},f,t,e);if(!s)return;let o=Object(r.b)(t.getAttribute("queryable"));void 0===o&&(o=n.queryable),s.queryable=void 0!==o&&o;let a=Object(r.f)(t.getAttribute("cascaded"));void 0===a&&(a=n.cascaded),s.cascaded=a;let l=Object(r.b)(t.getAttribute("opaque"));void 0===l&&(l=n.opaque),s.opaque=void 0!==l&&l;let c=Object(r.b)(t.getAttribute("noSubsets"));void 0===c&&(c=n.noSubsets),s.noSubsets=void 0!==c&&c;let h=Object(r.d)(t.getAttribute("fixedWidth"));h||(h=n.fixedWidth),s.fixedWidth=h;let u=Object(r.d)(t.getAttribute("fixedHeight"));return u||(u=n.fixedHeight),s.fixedHeight=u,["Style","CRS","AuthorityURL"].forEach(function(t){t in n&&(s[t]=(s[t]||[]).concat(n[t]))}),["EX_GeographicBoundingBox","BoundingBox","Dimension","Attribution","MinScaleDenominator","MaxScaleDenominator"].forEach(function(t){t in s||(s[t]=n[t])}),s}function E(t,e){return Object(i.s)({},T,t,e)}function C(t,e){return Object(i.s)({},_,t,e)}function M(t,e){const n=E(t,e);if(n){const e=[Object(r.f)(t.getAttribute("width")),Object(r.f)(t.getAttribute("height"))];return n.size=e,n}}function O(t,e){return Object(i.s)([],x,t,e)}e.a=class extends class{read(t){if(t){if("string"==typeof t){const e=Object(i.q)(t);return this.readFromDocument(e)}return Object(i.g)(t)?this.readFromDocument(t):this.readFromNode(t)}return null}readFromDocument(t){for(let e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readFromNode(e);return null}readFromNode(t){}}{constructor(){super(),this.version=void 0}readFromNode(t){return this.version=t.getAttribute("version").trim(),Object(i.s)({version:this.version},a,t,[])||null}}},o5qb:function(t,e,n){"use strict";e.a={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"}},oWEL:function(t,e,n){"use strict";function i(t,e,n){let i,s;const o=n||r;let a=0,l=t.length,c=!1;for(;a<l;)i=a+(l-a>>1),s=+o(t[i],e),s<0?a=i+1:(l=i,c=!s);return c?a:~a}function r(t,e){return t>e?1:t<e?-1:0}function s(t,e){return t.indexOf(e)>=0}function o(t,e,n){const i=t.length;if(t[0]<=e)return 0;if(e<=t[i-1])return i-1;{let r;if(n>0){for(r=1;r<i;++r)if(t[r]<e)return r-1}else if(n<0){for(r=1;r<i;++r)if(t[r]<=e)return r}else for(r=1;r<i;++r){if(t[r]==e)return r;if(t[r]<e)return t[r-1]-e<e-t[r]?r-1:r}return i-1}}function a(t,e,n){for(;e<n;){const i=t[e];t[e]=t[n],t[n]=i,++e,--n}}function l(t,e){const n=Array.isArray(e)?e:[e],i=n.length;for(let r=0;r<i;r++)t[t.length]=n[r]}function c(t,e){const n=t.length>>>0;let i;for(let r=0;r<n;r++)if(i=t[r],e(i,r,t))return i;return null}function h(t,e){const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function u(t,e){let n;return t.every(function(i,r){return n=r,!e(i,r,t)})?-1:n}function d(t,e,n){const i=e||r;return t.every(function(e,r){if(0===r)return!0;const s=i(t[r-1],e);return!(s>0||n&&0===s)})}n.d(e,"a",function(){return i}),n.d(e,"i",function(){return r}),n.d(e,"f",function(){return s}),n.d(e,"h",function(){return o}),n.d(e,"j",function(){return a}),n.d(e,"c",function(){return l}),n.d(e,"d",function(){return c}),n.d(e,"b",function(){return h}),n.d(e,"e",function(){return u}),n.d(e,"g",function(){return d})},oY2l:function(t,e,n){"use strict";function i(t,e){const n=[];Object.keys(e).forEach(function(t){null!=e[t]&&n.push(t+"="+encodeURIComponent(e[t]))});const i=n.join("&");return(t=-1===(t=t.replace(/[?&]$/,"")).indexOf("?")?t+"?":t+"&")+i}n.d(e,"a",function(){return i})},ogOc:function(t,e,n){"use strict";e.a={ANIMATING:0,INTERACTING:1}},omvX:function(t,e,n){"use strict";n.d(e,"a",function(){return _e});var i=n("8Y7J"),r=n("cUpR"),s=n("GS7A");function o(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function a(t){switch(t.length){case 0:return new s.d;case 1:return t[0];default:return new s.l(t)}}function l(t,e,n,i,r={},o={}){const a=[],l=[];let c=-1,h=null;if(i.forEach(t=>{const n=t.offset,i=n==c,u=i&&h||{};Object.keys(t).forEach(n=>{let i=n,l=t[n];if("offset"!==n)switch(i=e.normalizePropertyName(i,a),l){case s.m:l=r[n];break;case s.a:l=o[n];break;default:l=e.normalizeStyleValue(n,i,l,a)}u[i]=l}),i||l.push(u),h=u,c=n}),a.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${a.join(t)}`)}return l}function c(t,e,n,i){switch(e){case"start":t.onStart(()=>i(n&&h(n,"start",t)));break;case"done":t.onDone(()=>i(n&&h(n,"done",t)));break;case"destroy":t.onDestroy(()=>i(n&&h(n,"destroy",t)))}}function h(t,e,n){const i=n.totalTime,r=u(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==i?t.totalTime:i,!!n.disabled),s=t._data;return null!=s&&(r._data=s),r}function u(t,e,n,i,r="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function d(t,e,n){let i;return t instanceof Map?(i=t.get(e),i||t.set(e,i=n)):(i=t[e],i||(i=t[e]=n)),i}function p(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let f=(t,e)=>!1,m=(t,e)=>!1,g=(t,e,n)=>[];const y=o();(y||"undefined"!=typeof Element)&&(f=(t,e)=>t.contains(e),m=(()=>{if(y||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):m}})(),g=(t,e,n)=>{let i=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)i.push(n[t])}else{const n=t.querySelector(e);n&&i.push(n)}return i});let _=null,b=!1;function v(t){_||(_=("undefined"!=typeof document?document.body:null)||{},b=!!_.style&&"WebkitAppearance"in _.style);let e=!0;return _.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in _.style,!e&&b)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in _.style),e}const S=m,T=f,x=g;function w(t){const e={};return Object.keys(t).forEach(n=>{const i=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[i]=t[n]}),e}let E=(()=>{class t{validateStyleProperty(t){return v(t)}matchesElement(t,e){return S(t,e)}containsElement(t,e){return T(t,e)}query(t,e,n){return x(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,i,r,o=[],a){return new s.d(n,i)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})(),C=(()=>{class t{}return t.NOOP=new E,t})();function M(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:O(parseFloat(e[1]),e[2])}function O(t,e){switch(e){case"s":return 1e3*t;default:return t}}function A(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let i,r=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};i=O(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(r=O(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else i=t;if(!n){let n=!1,s=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),r<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:i,delay:r,easing:s}}(t,e,n)}function I(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function R(t,e,n={}){if(e)for(let i in t)n[i]=t[i];else I(t,n);return n}function L(t,e,n){return n?e+":"+n+";":""}function P(t){let e="";for(let n=0;n<t.style.length;n++){const i=t.style.item(n);e+=L(0,i,t.style.getPropertyValue(i))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=L(0,z(n),t.style[n]));t.setAttribute("style",e)}function D(t,e,n){t.style&&(Object.keys(e).forEach(i=>{const r=B(i);n&&!n.hasOwnProperty(i)&&(n[i]=t.style[r]),t.style[r]=e[i]}),o()&&P(t))}function N(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=B(e);t.style[n]=""}),o()&&P(t))}function j(t){return Array.isArray(t)?1==t.length?t[0]:Object(s.g)(t):t}const k=new RegExp("{{\\s*(.+?)\\s*}}","g");function F(t){let e=[];if("string"==typeof t){let n;for(;n=k.exec(t);)e.push(n[1]);k.lastIndex=0}return e}function U(t,e,n){const i=t.toString(),r=i.replace(k,(t,i)=>{let r=e[i];return e.hasOwnProperty(i)||(n.push(`Please provide a value for the animation param ${i}`),r=""),r.toString()});return r==i?t:r}function G(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const V=/-+([a-z0-9])/g;function B(t){return t.replace(V,(...t)=>t[1].toUpperCase())}function z(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function H(t,e){return 0===t||0===e}function X(t,e,n){const i=Object.keys(n);if(i.length&&e.length){let s=e[0],o=[];if(i.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var r=1;r<e.length;r++){let n=e[r];o.forEach(function(e){n[e]=W(t,e)})}}return e}function q(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function W(t,e){return window.getComputedStyle(t)[e]}function Y(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const i=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof i)return void e.push(i);t=i}const i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const r=i[1],s=i[2],o=i[3];e.push(J(r,o)),"<"!=s[0]||"*"==r&&"*"==o||e.push(J(o,r))}(t,n,e)):n.push(t),n}const K=new Set(["true","1"]),Z=new Set(["false","0"]);function J(t,e){const n=K.has(t)||Z.has(t),i=K.has(e)||Z.has(e);return(r,s)=>{let o="*"==t||t==r,a="*"==e||e==s;return!o&&n&&"boolean"==typeof r&&(o=r?K.has(t):Z.has(t)),!a&&i&&"boolean"==typeof s&&(a=s?K.has(e):Z.has(e)),o&&a}}const Q=new RegExp("s*:selfs*,?","g");function $(t,e,n){return new tt(t).build(e,n)}class tt{constructor(t){this._driver=t}build(t,e){const n=new et(e);return this._resetContextStyleTimingState(n),q(this,j(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,i=e.depCount=0;const r=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,i=n.name;i.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,r.push(this.visitState(n,e))}),n.name=i}else if(1==t.type){const r=this.visitTransition(t,e);n+=r.queryCount,i+=r.depCount,s.push(r)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:r,transitions:s,queryCount:n,depCount:i,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(n.containsDynamicStyles){const r=new Set,s=i||{};if(n.styles.forEach(t=>{if(nt(t)){const e=t;Object.keys(e).forEach(t=>{F(e[t]).forEach(t=>{s.hasOwnProperty(t)||r.add(t)})})}}),r.size){const n=G(r.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=q(this,j(t.animation),e);return{type:1,matchers:Y(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:it(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>q(this,t,e)),options:it(t.options)}}visitGroup(t,e){const n=e.currentTime;let i=0;const r=t.steps.map(t=>{e.currentTime=n;const r=q(this,t,e);return i=Math.max(i,e.currentTime),r});return e.currentTime=i,{type:3,steps:r,options:it(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return rt(A(t,e).duration,0,"");const i=t;if(i.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=rt(0,0,"");return t.dynamic=!0,t.strValue=i,t}return n=n||A(i,e),rt(n.duration,n.delay,n.easing)}(t.timings,e.errors);let i;e.currentAnimateTimings=n;let r=t.styles?t.styles:Object(s.i)({});if(5==r.type)i=this.visitKeyframes(r,e);else{let r=t.styles,o=!1;if(!r){o=!0;const t={};n.easing&&(t.easing=n.easing),r=Object(s.i)(t)}e.currentTime+=n.duration+n.delay;const a=this.visitStyle(r,e);a.isEmptyStep=o,i=a}return e.currentAnimateTimings=null,{type:4,timings:n,style:i,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==s.a?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let i=!1,r=null;return n.forEach(t=>{if(nt(t)){const e=t,n=e.easing;if(n&&(r=n,delete e.easing),!i)for(let t in e)if(e[t].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:n,easing:r,offset:t.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let i=e.currentTime,r=e.currentTime;n&&r>0&&(r-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(r!=i&&r>=o.startTime&&i<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${r}ms" and "${i}ms"`),a=!1),r=o.startTime),a&&(s[n]={startTime:r,endTime:i}),e.options&&function(t,e,n){const i=e.params||{},r=F(t);r.length&&r.forEach(t=>{i.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let i=0;const r=[];let s=!1,o=!1,a=0;const l=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let l=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(nt(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(nt(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=l&&(i++,c=n.offset=l),o=o||c<0||c>1,s=s||c<a,a=c,r.push(c),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let h=0;i>0&&i<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(h=1/(c-1));const u=c-1,d=e.currentTime,p=e.currentAnimateTimings,f=p.duration;return l.forEach((t,i)=>{const s=h>0?i==u?1:h*i:r[i],o=s*f;e.currentTime=d+p.delay+o,p.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:q(this,j(t.animation),e),options:it(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:it(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:it(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;const[r,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(Q,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,".ng-animating"),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+r:r,d(e.collectedStyles,e.currentQuerySelector,{});const o=q(this,j(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:r,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:it(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:A(t.timings,e.errors,!0);return{type:12,animation:q(this,j(t.animation),e),timings:n,options:null}}}class et{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function nt(t){return!Array.isArray(t)&&"object"==typeof t}function it(t){var e;return t?(t=I(t)).params&&(t.params=(e=t.params)?I(e):null):t={},t}function rt(t,e,n){return{duration:t,delay:e,easing:n}}function st(t,e,n,i,r,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class ot{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const at=new RegExp(":enter","g"),lt=new RegExp(":leave","g");function ct(t,e,n,i,r,s={},o={},a,l,c=[]){return(new ht).buildKeyframes(t,e,n,i,r,s,o,a,l,c)}class ht{buildKeyframes(t,e,n,i,r,s,o,a,l,c=[]){l=l||new ot;const h=new dt(t,e,l,i,r,c,[]);h.options=a,h.currentTimeline.setStyles([s],null,h.errors,a),q(this,n,h);const u=h.timelines.filter(t=>t.containsAnimation());if(u.length&&Object.keys(o).length){const t=u[u.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,h.errors,a)}return u.length?u.map(t=>t.buildKeyframes()):[st(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const i=e.createSubContext(t.options),r=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,i,i.options);r!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let i=e.currentTimeline.currentTime;const r=null!=n.duration?M(n.duration):null,s=null!=n.delay?M(n.delay):null;return 0!==r&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,r,s);i=Math.max(i,n.duration+n.delay)}),i}visitReference(t,e){e.updateOptions(t.options,!0),q(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let i=e;const r=t.options;if(r&&(r.params||r.delay)&&(i=e.createSubContext(r),i.transformIntoNewTimeline(),null!=r.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=ut);const t=M(r.delay);i.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>q(this,t,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let i=e.currentTimeline.currentTime;const r=t.options&&t.options.delay?M(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);r&&o.delayNextStep(r),q(this,s,o),i=Math.max(i,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return A(e.params?U(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),i.snapshotCurrentStyles());const r=t.style;5==r.type?this.visitKeyframes(r,e):(e.incrementTime(n.duration),this.visitStyle(r,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,i=e.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();const r=i&&i.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(r):n.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,i=e.currentTimeline.duration,r=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*r),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(i+r),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,i=t.options||{},r=i.delay?M(i.delay):0;r&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=ut);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,i)=>{e.currentQueryIndex=i;const o=e.createSubContext(t.options,n);r&&o.delayNextStep(r),n===e.element&&(a=o.currentTimeline),q(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,i=e.currentTimeline,r=t.timings,s=Math.abs(r.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const l=e.currentTimeline;a&&l.delayNextStep(a);const c=l.currentTime;q(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=i.currentTime-c+(i.startTime-n.currentTimeline.startTime)}}const ut={};class dt{constructor(t,e,n,i,r,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=r,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ut,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new pt(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let i=this.options;null!=n.duration&&(i.duration=M(n.duration)),null!=n.delay&&(i.delay=M(n.delay));const r=n.params;if(r){let t=i.params;t||(t=this.options.params={}),Object.keys(r).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=U(r[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const i=e||this.element,r=new dt(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(t),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(t){return this.previousNode=ut,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const i={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},r=new ft(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(r),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,i,r,s){let o=[];if(i&&o.push(this.element),t.length>0){t=(t=t.replace(at,"."+this._enterClassName)).replace(lt,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return r||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class pt{constructor(t,e,n,i){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new pt(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||s.a,this._currentKeyframe[t]=s.a}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,i){e&&(this._previousKeyframe.easing=e);const r=i&&i.params||{},o=function(t,e){const n={};let i;return t.forEach(t=>{"*"===t?(i=i||Object.keys(e),i.forEach(t=>{n[t]=s.a})):R(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(o).forEach(t=>{const e=U(o[t],r,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:s.a),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],i=t._styleSummary[e];(!n||i.time>n.time)&&this._updateStyle(e,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((r,o)=>{const a=R(r,!0);Object.keys(a).forEach(n=>{const i=a[n];i==s.m?t.add(n):i==s.a&&e.add(n)}),n||(a.offset=o/this.duration),i.push(a)});const r=t.size?G(t.values()):[],o=e.size?G(e.values()):[];if(n){const t=i[0],e=I(t);t.offset=0,e.offset=1,i=[t,e]}return st(this.element,i,r,o,this.duration,this.startTime,this.easing,!1)}}class ft extends pt{constructor(t,e,n,i,r,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=i,this.postStyleProps=r,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const r=[],s=n+e,o=e/s,a=R(t[0],!1);a.offset=0,r.push(a);const l=R(t[0],!1);l.offset=mt(o),r.push(l);const c=t.length-1;for(let i=1;i<=c;i++){let o=R(t[i],!1);o.offset=mt((e+o.offset*n)/s),r.push(o)}n=s,e=0,i="",t=r}return st(this.element,t,this.preStyleProps,this.postStyleProps,n,e,i,!0)}}function mt(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class gt{}class yt extends gt{normalizePropertyName(t,e){return B(t)}normalizeStyleValue(t,e,n,i){let r="";const s=n.toString().trim();if(_t[e]&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&i.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+r}}const _t=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function bt(t,e,n,i,r,s,o,a,l,c,h,u,d){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:h,totalTime:u,errors:d}}const vt={};class St{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,i){return function(t,e,n,i,r){return t.some(t=>t(e,n,i,r))}(this.ast.matchers,t,e,n,i)}buildStyles(t,e,n){const i=this._stateStyles["*"],r=this._stateStyles[t],s=i?i.buildStyles(e,n):{};return r?r.buildStyles(e,n):s}build(t,e,n,i,r,s,o,a,l,c){const h=[],u=this.ast.options&&this.ast.options.params||vt,p=this.buildStyles(n,o&&o.params||vt,h),f=a&&a.params||vt,m=this.buildStyles(i,f,h),g=new Set,y=new Map,_=new Map,b="void"===i,v={params:Object.assign(Object.assign({},u),f)},S=c?[]:ct(t,e,this.ast.animation,r,s,p,m,v,l,h);let T=0;if(S.forEach(t=>{T=Math.max(t.duration+t.delay,T)}),h.length)return bt(e,this._triggerName,n,i,b,p,m,[],[],y,_,T,h);S.forEach(t=>{const n=t.element,i=d(y,n,{});t.preStyleProps.forEach(t=>i[t]=!0);const r=d(_,n,{});t.postStyleProps.forEach(t=>r[t]=!0),n!==e&&g.add(n)});const x=G(g.values());return bt(e,this._triggerName,n,i,b,p,m,S,x,y,_,T)}}class Tt{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},i=I(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(i[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const r=t;Object.keys(r).forEach(t=>{let s=r[t];s.length>1&&(s=U(s,i,e)),n[t]=s})}}),n}}class xt{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new Tt(t.style,t.options&&t.options.params||{})}),wt(this.states,"true","1"),wt(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new St(t,e,this.states))}),this.fallbackTransition=new St(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,i){return this.transitionFactories.find(r=>r.match(t,e,n,i))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function wt(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const Et=new ot;class Ct{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],i=$(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=i}_buildPlayer(t,e,n){const i=t.element,r=l(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(i,r,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const i=[],r=this._animations[t];let o;const l=new Map;if(r?(o=ct(this._driver,e,r,"ng-enter","ng-leave",{},{},n,Et,i),o.forEach(t=>{const e=d(l,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),o=[]),i.length)throw new Error(`Unable to create the animation due to the following errors: ${i.join("\n")}`);l.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,s.a)})});const c=a(o.map(t=>{const e=l.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=c,c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,i){const r=u(e,"","","");return c(this._getPlayer(t),n,r,i),()=>{}}command(t,e,n,i){if("register"==n)return void this.register(t,i[0]);if("create"==n)return void this.create(t,e,i[0]||{});const r=this._getPlayer(t);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const Mt=[],Ot={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},At={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class It{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(i=n?t.value:t)?i:null,n){const e=I(t);delete e.value,this.options=e}else this.options={};var i;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const Rt=new It("void");class Lt{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Ut(e,this._hostClassName)}listen(t,e,n,i){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(r=n)&&"done"!=r)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var r;const s=d(this._elementListeners,t,[]),o={name:e,phase:n,callback:i};s.push(o);const a=d(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Ut(t,"ng-trigger"),Ut(t,"ng-trigger-"+e),a[e]=Rt),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,i=!0){const r=this._getTrigger(e),s=new Dt(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(Ut(t,"ng-trigger"),Ut(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const l=new It(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),o[e]=l,a||(a=Rt),"void"!==l.value&&a.value===l.value){if(!function(t,e){const n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){const i=n[r];if(!e.hasOwnProperty(i)||t[i]!==e[i])return!1}return!0}(a.params,l.params)){const e=[],n=r.matchStyles(a.value,a.params,e),i=r.matchStyles(l.value,l.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{N(t,n),D(t,i)})}return}const c=d(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let h=r.matchTransition(a.value,l.value,t,l.params),u=!1;if(!h){if(!i)return;h=r.fallbackTransition,u=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:h,fromState:a,toState:l,player:s,isFallbackTransition:u}),u||(Ut(t,"ng-animate-queued"),s.onStart(()=>{Gt(t,"ng-animate-queued")})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),c.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,".ng-trigger",!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,i){const r=this._engine.statesByElement.get(t);if(r){const s=[];if(Object.keys(r).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,"void",i);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&a(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const i=new Set;e.forEach(e=>{const r=e.name;if(i.has(r))return;i.add(r);const s=this._triggers[r].fallbackTransition,o=n[r]||Rt,a=new It("void"),l=new Dt(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:s,fromState:o,toState:a,player:l,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)i=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)n.markElementAsRemoved(this.id,t,!1,e);else{const i=t.__ng_removed;i&&i!==Ot||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Ut(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const i=n.player;if(i.destroyed)return;const r=n.element,s=this._elementListeners.get(r);s&&s.forEach(e=>{if(e.name==n.triggerName){const i=u(r,n.triggerName,n.fromState.value,n.toState.value);i._data=t,c(n.player,e.phase,i,e.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,i=e.transition.ast.depCount;return 0==n||0==i?n-i:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class Pt{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new Lt(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let i=!1;for(let r=n;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,e)){this._namespaceList.splice(r+1,0,t),i=!0;break}i||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let i=this._namespaceLookup[t];i&&i.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=n[t[i]].namespaceId;if(r){const t=this._fetchNamespace(r);t&&e.add(t)}}}return e}trigger(t,e,n,i){if(Nt(e)){const r=this._fetchNamespace(t);if(r)return r.trigger(e,n,i),!0}return!1}insertNode(t,e,n,i){if(!Nt(e))return;const r=e.__ng_removed;if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const i=this._fetchNamespace(t);i&&i.insertNode(e,n)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ut(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Gt(t,"ng-animate-disabled"))}removeNode(t,e,n,i){if(Nt(e)){const r=t?this._fetchNamespace(t):null;if(r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,i)}}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,n,i){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,i,r){return Nt(e)?this._fetchNamespace(t).listen(e,n,i,r):()=>{}}_buildInstruction(t,e,n,i,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,i,t.fromState.options,t.toState.options,e,r)}destroyInnerAnimations(t){let e=this.driver.query(t,".ng-trigger",!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,".ng-animating",!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return a(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=Ot,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Ut(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?a(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new ot,i=[],r=new Map,o=[],l=new Map,c=new Map,h=new Map,u=new Set;this.disabledNodes.forEach(t=>{u.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)u.add(e[n])});const p=this.bodyNode,f=Array.from(this.statesByElement.keys()),m=Ft(f,this.collectedEnterElements),g=new Map;let y=0;m.forEach((t,e)=>{const n="ng-enter"+y++;g.set(e,n),t.forEach(t=>Ut(t,n))});const _=[],b=new Set,v=new Set;for(let s=0;s<this.collectedLeaveElements.length;s++){const t=this.collectedLeaveElements[s],e=t.__ng_removed;e&&e.setForRemoval&&(_.push(t),b.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>b.add(t)):v.add(t))}const S=new Map,T=Ft(f,Array.from(b));T.forEach((t,e)=>{const n="ng-leave"+y++;S.set(e,n),t.forEach(t=>Ut(t,n))}),t.push(()=>{m.forEach((t,e)=>{const n=g.get(e);t.forEach(t=>Gt(t,n))}),T.forEach((t,e)=>{const n=S.get(e);t.forEach(t=>Gt(t,n))}),_.forEach(t=>{this.processLeaveNode(t)})});const x=[],w=[];for(let s=this._namespaceList.length-1;s>=0;s--)this._namespaceList[s].drainQueuedTransitions(e).forEach(t=>{const e=t.player,r=t.element;if(x.push(e),this.collectedEnterElements.length){const t=r.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const s=!p||!this.driver.containsElement(p,r),a=S.get(r),u=g.get(r),f=this._buildInstruction(t,n,u,a,s);if(f.errors&&f.errors.length)w.push(f);else{if(s)return e.onStart(()=>N(r,f.fromStyles)),e.onDestroy(()=>D(r,f.toStyles)),void i.push(e);if(t.isFallbackTransition)return e.onStart(()=>N(r,f.fromStyles)),e.onDestroy(()=>D(r,f.toStyles)),void i.push(e);f.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(r,f.timelines),o.push({instruction:f,player:e,element:r}),f.queriedElements.forEach(t=>d(l,t,[]).push(e)),f.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=c.get(e);t||c.set(e,t=new Set),n.forEach(e=>t.add(e))}}),f.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let i=h.get(e);i||h.set(e,i=new Set),n.forEach(t=>i.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),x.forEach(t=>t.destroy()),this.reportError(t)}const E=new Map,C=new Map;o.forEach(t=>{const e=t.element;n.has(e)&&(C.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,E))}),i.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{d(E,e,[]).push(t),t.destroy()})});const M=_.filter(t=>zt(t,c,h)),O=new Map;kt(O,this.driver,v,h,s.a).forEach(t=>{zt(t,c,h)&&M.push(t)});const A=new Map;m.forEach((t,e)=>{kt(A,this.driver,new Set(t),c,s.m)}),M.forEach(t=>{const e=O.get(t),n=A.get(t);O.set(t,Object.assign(Object.assign({},e),n))});const I=[],R=[],L={};o.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(u.has(e))return s.onDestroy(()=>D(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void i.push(s);let t=L;if(C.size>1){let n=e;const i=[];for(;n=n.parentNode;){const e=C.get(n);if(e){t=e;break}i.push(n)}i.forEach(e=>C.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,E,r,A,O);if(s.setRealPlayer(n),t===L)I.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=a(e)),i.push(s)}}else N(e,o.fromStyles),s.onDestroy(()=>D(e,o.toStyles)),R.push(s),u.has(e)&&i.push(s)}),R.forEach(t=>{const e=r.get(t.element);if(e&&e.length){const n=a(e);t.setRealPlayer(n)}}),i.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let s=0;s<_.length;s++){const t=_[s],e=t.__ng_removed;if(Gt(t,"ng-leave"),e&&e.hasAnimation)continue;let n=[];if(l.size){let e=l.get(t);e&&e.length&&n.push(...e);let i=this.driver.query(t,".ng-animating",!0);for(let t=0;t<i.length;t++){let e=l.get(i[t]);e&&e.length&&n.push(...e)}}const i=n.filter(t=>!t.destroyed);i.length?Vt(this,t,i):this.processLeaveNode(t)}return _.length=0,I.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),I}elementContainsData(t,e){let n=!1;const i=e.__ng_removed;return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,i,r){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!r||"void"==r;e.forEach(e=>{e.queued||(t||e.triggerName==i)&&s.push(e)})}}return(n||i)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||i&&i!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const i=e.element,r=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==i,l=d(n,t,[]);this._getPreviousPlayers(t,a,r,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),l.push(t)})}N(i,e.fromStyles)}_buildAnimation(t,e,n,i,r,o){const c=e.triggerName,h=e.element,u=[],p=new Set,f=new Set,m=e.timelines.map(e=>{const a=e.element;p.add(a);const d=a.__ng_removed;if(d&&d.removedBeforeQueried)return new s.d(e.duration,e.delay);const m=a!==h,g=function(t){const e=[];return Bt(t,e),e}((n.get(a)||Mt).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===a),y=r.get(a),_=o.get(a),b=l(0,this._normalizer,0,e.keyframes,y,_),v=this._buildPlayer(e,b,g);if(e.subTimeline&&i&&f.add(a),m){const e=new Dt(t,c,a);e.setRealPlayer(v),u.push(e)}return v});u.forEach(t=>{d(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let i;if(t instanceof Map){if(i=t.get(e),i){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&t.delete(e)}}else if(i=t[e],i){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&delete t[e]}return i}(this.playersByQueriedElement,t.element,t))}),p.forEach(t=>Ut(t,"ng-animating"));const g=a(m);return g.onDestroy(()=>{p.forEach(t=>Gt(t,"ng-animating")),D(h,e.toStyles)}),f.forEach(t=>{d(i,t,[]).push(g)}),g}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new s.d(t.duration,t.delay)}}class Dt{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new s.d,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>c(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){d(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Nt(t){return t&&1===t.nodeType}function jt(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function kt(t,e,n,i,r){const s=[];n.forEach(t=>s.push(jt(t)));const o=[];i.forEach((n,i)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(i,t,r);n&&0!=n.length||(i.__ng_removed=At,o.push(i))}),t.set(i,s)});let a=0;return n.forEach(t=>jt(t,s[a++])),o}function Ft(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const i=new Set(e),r=new Map;function s(t){if(!t)return 1;let e=r.get(t);if(e)return e;const o=t.parentNode;return e=n.has(o)?o:i.has(o)?1:s(o),r.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&n.get(e).push(t)}),n}function Ut(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Gt(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function Vt(t,e,n){a(n).onDone(()=>t.processLeaveNode(e))}function Bt(t,e){for(let n=0;n<t.length;n++){const i=t[n];i instanceof s.l?Bt(i.players,e):e.push(i)}}function zt(t,e,n){const i=n.get(t);if(!i)return!1;let r=e.get(t);return r?i.forEach(t=>r.add(t)):e.set(t,i),n.delete(t),!0}class Ht{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new Pt(t,e,n),this._timelineEngine=new Ct(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,i,r){const s=t+"-"+i;let o=this._triggerCache[s];if(!o){const t=[],e=$(this._driver,r,t);if(t.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new xt(t,e)}(i,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,i,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,i){this._transitionEngine.insertNode(t,e,n,i)}onRemove(t,e,n,i){this._transitionEngine.removeNode(t,e,i||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,i){if("@"==n.charAt(0)){const[t,r]=p(n);this._timelineEngine.command(t,e,r,i)}else this._transitionEngine.trigger(t,e,n,i)}listen(t,e,n,i,r){if("@"==n.charAt(0)){const[t,i]=p(n);return this._timelineEngine.listen(t,e,i,r)}return this._transitionEngine.listen(t,e,n,i,r)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Xt(t,e){let n=null,i=null;return Array.isArray(e)&&e.length?(n=Wt(e[0]),e.length>1&&(i=Wt(e[e.length-1]))):e&&(n=Wt(e)),n||i?new qt(t,n,i):null}let qt=(()=>{class t{constructor(e,n,i){this._element=e,this._startStyles=n,this._endStyles=i,this._state=0;let r=t.initialStylesByElement.get(e);r||t.initialStylesByElement.set(e,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&D(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(D(this._element,this._initialStyles),this._endStyles&&(D(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(N(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(N(this._element,this._endStyles),this._endStyles=null),D(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function Wt(t){let e=null;const n=Object.keys(t);for(let i=0;i<n.length;i++){const r=n[i];Yt(r)&&(e=e||{},e[r]=t[r])}return e}function Yt(t){return"display"===t||"position"===t}class Kt{constructor(t,e,n,i,r,s,o){this._element=t,this._name=e,this._duration=n,this._delay=i,this._easing=r,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=ee(t,"").trim();n.length&&(function(t,e){let n=0;for(let i=0;i<t.length;i++)","===t.charAt(i)&&n++}(n),e=`${n}, ${e}`),te(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),$t(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Zt(this._element,this._name,"paused")}resume(){Zt(this._element,this._name,"running")}setPosition(t){const e=Jt(this._element,this._name);this._position=t*this._duration,te(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),$t(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=ee(t,"").split(","),i=Qt(n,e);i>=0&&(n.splice(i,1),te(t,"",n.join(",")))}(this._element,this._name))}}function Zt(t,e,n){te(t,"PlayState",n,Jt(t,e))}function Jt(t,e){const n=ee(t,"");return n.indexOf(",")>0?Qt(n.split(","),e):Qt([n],e)}function Qt(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function $t(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function te(t,e,n,i){const r="animation"+e;if(null!=i){const e=t.style[r];if(e.length){const t=e.split(",");t[i]=n,n=t.join(",")}}t.style[r]=n}function ee(t,e){return t.style["animation"+e]||""}class ne{constructor(t,e,n,i,r,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=i,this._delay=r,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=i+r,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Kt(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:W(this.element,n))})}this.currentSnapshot=t}}class ie extends s.d{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=w(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class re{constructor(){this._count=0,this._head=document.querySelector("head")}validateStyleProperty(t){return v(t)}matchesElement(t,e){return S(t,e)}containsElement(t,e){return T(t,e)}query(t,e,n){return x(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>w(t));let i=`@keyframes ${e} {\n`,r="";n.forEach(t=>{r=" ";const e=parseFloat(t.offset);i+=`${r}${100*e}% {\n`,r+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(i+=`${r}animation-timing-function: ${n};\n`));default:return void(i+=`${r}${e}: ${n};\n`)}}),i+=`${r}}\n`}),i+="}\n";const s=document.createElement("style");return s.textContent=i,s}animate(t,e,n,i,r,s=[],o){const a=s.filter(t=>t instanceof ne),l={};H(n,i)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=X(t,e,l));if(0==n)return new ie(t,c);const h="gen_css_kf_"+this._count++,u=this.buildKeyframeElement(t,h,e);document.querySelector("head").appendChild(u);const d=Xt(t,e),p=new ne(t,e,h,n,i,r,c,d);return p.onDestroy(()=>{var t;(t=u).parentNode.removeChild(t)}),p}}class se{constructor(t,e,n,i){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:W(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class oe{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(ae().toString()),this._cssKeyframesDriver=new re}validateStyleProperty(t){return v(t)}matchesElement(t,e){return S(t,e)}containsElement(t,e){return T(t,e)}query(t,e,n){return x(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,i,r,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,i,r,s);const a={duration:n,delay:i,fill:0==i?"both":"forwards"};r&&(a.easing=r);const l={},c=s.filter(t=>t instanceof se);H(n,i)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const h=Xt(t,e=X(t,e=e.map(t=>R(t,!1)),l));return new se(t,e,a,h)}}function ae(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var le=n("SVse");let ce=(()=>{class t extends s.b{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:i.Q.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Object(s.g)(t):t;return de(this._renderer,null,e,"register",[n]),new he(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(i.Ub(i.F),i.Ub(le.d))},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})();class he extends s.c{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new ue(this._id,t,e||{},this._renderer)}}class ue{constructor(t,e,n,i){this.id=t,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return de(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function de(t,e,n,i,r){return t.setProperty(e,`@@${n}:${i}`,r)}let pe=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new fe("",n,this.engine),this._rendererCache.set(n,t)),t}const i=e.id,r=e.id+"-"+this._currentId;this._currentId++,this.engine.register(r,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(i,r,t,e.name,e)};return e.data.animation.forEach(s),new me(this,r,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(i.Ub(i.F),i.Ub(Ht),i.Ub(i.A))},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})();class fe{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,i=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,i)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,i){this.delegate.setAttribute(t,e,n,i)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,i){this.delegate.setStyle(t,e,n,i)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class me extends fe{constructor(t,e,n,i){super(e,n,i),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const i=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let r=e.substr(1),s="";return"@"!=r.charAt(0)&&([r,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(r)),this.engine.listen(this.namespaceId,i,r,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let ge=(()=>{class t extends Ht{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(i.Ub(le.d),i.Ub(C),i.Ub(gt))},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})();const ye=[{provide:C,useFactory:function(){return"function"==typeof ae()?new oe:new re}},{provide:new i.r("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:s.b,useClass:ce},{provide:gt,useFactory:function(){return new yt}},{provide:Ht,useClass:ge},{provide:i.F,useFactory:function(t,e,n){return new pe(t,e,n)},deps:[r.c,Ht,i.A]}];let _e=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({providers:ye,imports:[r.a]}),t})()},orbG:function(t,e,n){"use strict";function i(t){return Math.pow(t,3)}function r(t){return 1-i(1-t)}function s(t){return 3*t*t-2*t*t*t}function o(t){return t}n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r}),n.d(e,"c",function(){return s}),n.d(e,"d",function(){return o})},"p5/s":function(t,e,n){"use strict";var i=484813681109536e-20,r=Math.PI/2,s=.017453292519943295,o=57.29577951308232,a=Math.PI/4,l=2*Math.PI,c=3.14159265359,h={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667},u={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},d=/[\s_\-\/\(\)]/g;function p(t,e){if(t[e])return t[e];for(var n,i=Object.keys(t),r=e.toLowerCase().replace(d,""),s=-1;++s<i.length;)if((n=i[s]).toLowerCase().replace(d,"")===r)return t[n]}var f=function(t){var e,n,i,r={},o=t.split("+").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,e){var n=e.split("=");return n.push(!0),t[n[0].toLowerCase()]=n[1],t},{}),a={proj:"projName",datum:"datumCode",rf:function(t){r.rf=parseFloat(t)},lat_0:function(t){r.lat0=t*s},lat_1:function(t){r.lat1=t*s},lat_2:function(t){r.lat2=t*s},lat_ts:function(t){r.lat_ts=t*s},lon_0:function(t){r.long0=t*s},lon_1:function(t){r.long1=t*s},lon_2:function(t){r.long2=t*s},alpha:function(t){r.alpha=parseFloat(t)*s},gamma:function(t){r.rectified_grid_angle=parseFloat(t)},lonc:function(t){r.longc=t*s},x_0:function(t){r.x0=parseFloat(t)},y_0:function(t){r.y0=parseFloat(t)},k_0:function(t){r.k0=parseFloat(t)},k:function(t){r.k0=parseFloat(t)},a:function(t){r.a=parseFloat(t)},b:function(t){r.b=parseFloat(t)},r_a:function(){r.R_A=!0},zone:function(t){r.zone=parseInt(t,10)},south:function(){r.utmSouth=!0},towgs84:function(t){r.datum_params=t.split(",").map(function(t){return parseFloat(t)})},to_meter:function(t){r.to_meter=parseFloat(t)},units:function(t){r.units=t;var e=p(u,t);e&&(r.to_meter=e.to_meter)},from_greenwich:function(t){r.from_greenwich=t*s},pm:function(t){var e=p(h,t);r.from_greenwich=(e||parseFloat(t))*s},nadgrids:function(t){"@null"===t?r.datumCode="none":r.nadgrids=t},axis:function(t){3===t.length&&-1!=="ewnsud".indexOf(t.substr(0,1))&&-1!=="ewnsud".indexOf(t.substr(1,1))&&-1!=="ewnsud".indexOf(t.substr(2,1))&&(r.axis=t)},approx:function(){r.approx=!0}};for(e in o)n=o[e],e in a?"function"==typeof(i=a[e])?i(n):r[i]=n:r[e]=n;return"string"==typeof r.datumCode&&"WGS84"!==r.datumCode&&(r.datumCode=r.datumCode.toLowerCase()),r},m=/\s/,g=/[A-Za-z]/,y=/[A-Za-z84]/,_=/[,\]]/,b=/[\d\.E\-\+]/;function v(t){if("string"!=typeof t)throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=1}function S(t,e,n){Array.isArray(e)&&(n.unshift(e),e=null);var i=n.reduce(function(t,e){return T(e,t),t},e?{}:t);e&&(t[e]=i)}function T(t,e){if(Array.isArray(t)){var n=t.shift();if("PARAMETER"===n&&(n=t.shift()),1===t.length)return Array.isArray(t[0])?(e[n]={},void T(t[0],e[n])):void(e[n]=t[0]);if(t.length)if("TOWGS84"!==n){if("AXIS"===n)return n in e||(e[n]=[]),void e[n].push(t);var i;switch(Array.isArray(n)||(e[n]={}),n){case"UNIT":case"PRIMEM":case"VERT_DATUM":return e[n]={name:t[0].toLowerCase(),convert:t[1]},void(3===t.length&&T(t[2],e[n]));case"SPHEROID":case"ELLIPSOID":return e[n]={name:t[0],a:t[1],rf:t[2]},void(4===t.length&&T(t[3],e[n]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return t[0]=["name",t[0]],void S(e,n,t);default:for(i=-1;++i<t.length;)if(!Array.isArray(t[i]))return T(t,e[n]);return S(e,n,t)}}else e[n]=t;else e[n]=!0}else e[t]=!0}function x(t){return.017453292519943295*t}v.prototype.readCharicter=function(){var t=this.text[this.place++];if(4!==this.state)for(;m.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case 1:return this.neutral(t);case 2:return this.keyword(t);case 4:return this.quoted(t);case 5:return this.afterquote(t);case 3:return this.number(t);case-1:return}},v.prototype.afterquote=function(t){if('"'===t)return this.word+='"',void(this.state=4);if(_.test(t))return this.word=this.word.trim(),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in afterquote yet, index '+this.place)},v.prototype.afterItem=function(t){return","===t?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=1)):"]"===t?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=1,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},v.prototype.number=function(t){if(!b.test(t)){if(_.test(t))return this.word=parseFloat(this.word),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in number yet, index '+this.place)}this.word+=t},v.prototype.quoted=function(t){'"'!==t?this.word+=t:this.state=5},v.prototype.keyword=function(t){if(y.test(t))this.word+=t;else{if("["===t){var e=[];return e.push(this.word),this.level++,null===this.root?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,void(this.state=1)}if(!_.test(t))throw new Error("havn't handled \""+t+'" in keyword yet, index '+this.place);this.afterItem(t)}},v.prototype.neutral=function(t){if(g.test(t))return this.word=t,void(this.state=2);if('"'===t)return this.word="",void(this.state=4);if(b.test(t))return this.word=t,void(this.state=3);if(!_.test(t))throw new Error("havn't handled \""+t+'" in neutral yet, index '+this.place);this.afterItem(t)},v.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var w=function(t){var e=new v(t).output(),n=e.shift(),i=e.shift();e.unshift(["name",i]),e.unshift(["type",n]);var r={};return T(e,r),function(t){if("GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):t.projName="object"==typeof t.PROJECTION?Object.keys(t.PROJECTION)[0]:t.PROJECTION,t.AXIS){for(var e="",n=0,i=t.AXIS.length;n<i;++n){var r=t.AXIS[n][0].toLowerCase();-1!==r.indexOf("north")?e+="n":-1!==r.indexOf("south")?e+="s":-1!==r.indexOf("east")?e+="e":-1!==r.indexOf("west")&&(e+="w")}2===e.length&&(e+="u"),3===e.length&&(t.axis=e)}t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var s=t.GEOGCS;function o(e){return e*(t.to_meter||1)}"GEOGCS"===t.type&&(s=t),s&&(t.datumCode=s.DATUM?s.DATUM.name.toLowerCase():s.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==t.datumCode&&"new_zealand_1949"!==t.datumCode||(t.datumCode="nzgd49"),"wgs_1984"!==t.datumCode&&"world_geodetic_system_1984"!==t.datumCode||("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),s.DATUM&&s.DATUM.SPHEROID&&(t.ellps=s.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=s.DATUM.SPHEROID.a,t.rf=parseFloat(s.DATUM.SPHEROID.rf,10)),s.DATUM&&s.DATUM.TOWGS84&&(t.datum_params=s.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),"ch1903+"===t.datumCode&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",x],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",x],["x0","false_easting",o],["y0","false_northing",o],["long0","central_meridian",x],["lat0","latitude_of_origin",x],["lat0","standard_parallel_1",x],["lat1","standard_parallel_1",x],["lat2","standard_parallel_2",x],["azimuth","Azimuth"],["alpha","azimuth",x],["srsCode","name"]].forEach(function(e){return s=(i=e)[1],void(!((r=i[0])in(n=t))&&s in n&&(n[r]=n[s],3===i.length&&(n[r]=i[2](n[r]))));var n,i,r,s}),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName||(t.lat0=x(t.lat1>0?90:-90),t.lat_ts=t.lat1)}(r),r};function E(t){var e=this;if(2===arguments.length){var n=arguments[1];E[t]="string"==typeof n?"+"===n.charAt(0)?f(arguments[1]):w(arguments[1]):n}else if(1===arguments.length){if(Array.isArray(t))return t.map(function(t){Array.isArray(t)?E.apply(e,t):E(t)});if("string"==typeof t){if(t in E)return E[t]}else"EPSG"in t?E["EPSG:"+t.EPSG]=t:"ESRI"in t?E["ESRI:"+t.ESRI]=t:"IAU2000"in t?E["IAU2000:"+t.IAU2000]=t:console.log(t);return}}!function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}(E);var C=E,M=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"],O=["3857","900913","3785","102113"],A=function(t,e){var n,i;if(t=t||{},!e)return t;for(i in e)void 0!==(n=e[i])&&(t[i]=n);return t},I=function(t,e,n){var i=t*e;return n/Math.sqrt(1-i*i)},R=function(t){return t<0?-1:1},L=function(t){return Math.abs(t)<=c?t:t-R(t)*l},P=function(t,e,n){var i=t*n;return i=Math.pow((1-i)/(1+i),.5*t),Math.tan(.5*(r-e))/i},D=function(t,e){for(var n,i,s=.5*t,o=r-2*Math.atan(e),a=0;a<=15;a++)if(n=t*Math.sin(o),o+=i=r-2*Math.atan(e*Math.pow((1-n)/(1+n),s))-o,Math.abs(i)<=1e-10)return o;return-9999};function N(t){return t}var j=[{init:function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.k0=this.sphere?Math.cos(this.lat_ts):I(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k0=this.k?this.k:1)},forward:function(t){var e,n,i=t.x,s=t.y;if(s*o>90&&s*o<-90&&i*o>180&&i*o<-180)return null;if(Math.abs(Math.abs(s)-r)<=1e-10)return null;if(this.sphere)e=this.x0+this.a*this.k0*L(i-this.long0),n=this.y0+this.a*this.k0*Math.log(Math.tan(a+.5*s));else{var l=Math.sin(s),c=P(this.e,s,l);e=this.x0+this.a*this.k0*L(i-this.long0),n=this.y0-this.a*this.k0*Math.log(c)}return t.x=e,t.y=n,t},inverse:function(t){var e,n,i=t.x-this.x0,s=t.y-this.y0;if(this.sphere)n=r-2*Math.atan(Math.exp(-s/(this.a*this.k0)));else{var o=Math.exp(-s/(this.a*this.k0));if(-9999===(n=D(this.e,o)))return null}return e=L(this.long0+i/(this.a*this.k0)),t.x=e,t.y=n,t},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{init:function(){},forward:N,inverse:N,names:["longlat","identity"]}],k={},F=[];function U(t,e){var n=F.length;return t.names?(F[n]=t,t.names.forEach(function(t){k[t.toLowerCase()]=n}),this):(console.log(e),!0)}var G={start:function(){j.forEach(U)},add:U,get:function(t){if(!t)return!1;var e=t.toLowerCase();return void 0!==k[e]&&F[k[e]]?F[k[e]]:void 0}},V={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},B=V.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};V.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var z={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},osni52:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}},H={};function X(t){if(0===t.length)return null;var e="@"===t[0];return e&&(t=t.slice(1)),"null"===t?{name:"null",mandatory:!e,grid:null,isNull:!0}:{name:t,mandatory:!e,grid:H[t]||null,isNull:!1}}function q(t){return t/3600*Math.PI/180}function W(t,e,n){return String.fromCharCode.apply(null,new Uint8Array(t.buffer.slice(e,n)))}function Y(t){return t.map(function(t){return[q(t.longitudeShift),q(t.latitudeShift)]})}function K(t,e,n){return{name:W(t,e+8,e+16).trim(),parent:W(t,e+24,e+24+8).trim(),lowerLatitude:t.getFloat64(e+72,n),upperLatitude:t.getFloat64(e+88,n),lowerLongitude:t.getFloat64(e+104,n),upperLongitude:t.getFloat64(e+120,n),latitudeInterval:t.getFloat64(e+136,n),longitudeInterval:t.getFloat64(e+152,n),gridNodeCount:t.getInt32(e+168,n)}}function Z(t,e,n,i){for(var r=e+176,s=[],o=0;o<n.gridNodeCount;o++){var a={latitudeShift:t.getFloat32(r+16*o,i),longitudeShift:t.getFloat32(r+16*o+4,i),latitudeAccuracy:t.getFloat32(r+16*o+8,i),longitudeAccuracy:t.getFloat32(r+16*o+12,i)};s.push(a)}return s}function J(t,e){if(!(this instanceof J))return new J(t);e=e||function(t){if(t)throw t};var n=function(t){if(!function(t){return"string"==typeof t}(t))return t;if(function(t){return t in C}(t))return C[t];if(function(t){return M.some(function(e){return t.indexOf(e)>-1})}(t)){var e=w(t);if(function(t){var e=p(t,"authority");if(e){var n=p(e,"epsg");return n&&O.indexOf(n)>-1}}(e))return C["EPSG:3857"];var n=function(t){var e=p(t,"extension");if(e)return p(e,"proj4")}(e);return n?f(n):e}return function(t){return"+"===t[0]}(t)?f(t):void 0}(t);if("object"==typeof n){var r=J.projections.get(n.projName);if(r){if(n.datumCode&&"none"!==n.datumCode){var s=p(z,n.datumCode);s&&(n.datum_params=n.datum_params||(s.towgs84?s.towgs84.split(","):null),n.ellps=s.ellipse,n.datumName=s.datumName?s.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84",n.lat1=n.lat1||n.lat0;var o,a,l,c,h,u,d=function(t,e,n,i,r){if(!t){var s=p(V,i);s||(s=B),t=s.a,e=s.b,n=s.rf}return n&&!e&&(e=(1-1/n)*t),(0===n||Math.abs(t-e)<1e-10)&&(r=!0,e=t),{a:t,b:e,rf:n,sphere:r}}(n.a,n.b,n.rf,n.ellps,n.sphere),m=(h=((l=(o=d.a)*o)-(c=(a=d.b)*a))/l,u=0,n.R_A?(l=(o*=1-h*(.16666666666666666+h*(.04722222222222222+.022156084656084655*h)))*o,h=0):u=Math.sqrt(h),{es:h,e:u,ep2:(l-c)/c}),g=function(t){return void 0===t?null:t.split(",").map(X)}(n.nadgrids),y=n.datum||function(t,e,n,r,s,o,a){var l={};return l.datum_type=void 0===t||"none"===t?5:4,e&&(l.datum_params=e.map(parseFloat),0===l.datum_params[0]&&0===l.datum_params[1]&&0===l.datum_params[2]||(l.datum_type=1),l.datum_params.length>3&&(0===l.datum_params[3]&&0===l.datum_params[4]&&0===l.datum_params[5]&&0===l.datum_params[6]||(l.datum_type=2,l.datum_params[3]*=i,l.datum_params[4]*=i,l.datum_params[5]*=i,l.datum_params[6]=l.datum_params[6]/1e6+1))),a&&(l.datum_type=3,l.grids=a),l.a=n,l.b=r,l.es=s,l.ep2=o,l}(n.datumCode,n.datum_params,d.a,d.b,m.es,m.ep2,g);A(this,n),A(this,r),this.a=d.a,this.b=d.b,this.rf=d.rf,this.sphere=d.sphere,this.es=m.es,this.e=m.e,this.ep2=m.ep2,this.datum=y,this.init(),e(null,this)}else e(t)}else e(t)}(J.projections=G).start();var Q=J;function $(t,e,n){var i,s,o,a=t.x,l=t.y,c=t.z?t.z:0;if(l<-r&&l>-1.001*r)l=-r;else if(l>r&&l<1.001*r)l=r;else{if(l<-r)return{x:-1/0,y:-1/0,z:t.z};if(l>r)return{x:1/0,y:1/0,z:t.z}}return a>Math.PI&&(a-=2*Math.PI),s=Math.sin(l),o=Math.cos(l),{x:((i=n/Math.sqrt(1-e*(s*s)))+c)*o*Math.cos(a),y:(i+c)*o*Math.sin(a),z:(i*(1-e)+c)*s}}function tt(t,e,n,i){var r,s,o,a,l,c,h,u,d,p,f,m,g,y,_,b=t.x,v=t.y,S=t.z?t.z:0;if(r=Math.sqrt(b*b+v*v),s=Math.sqrt(b*b+v*v+S*S),r/n<1e-12){if(y=0,s/n<1e-12)return _=-i,{x:t.x,y:t.y,z:t.z}}else y=Math.atan2(v,b);o=S/s,u=(a=r/s)*(1-e)*(l=1/Math.sqrt(1-e*(2-e)*a*a)),d=o*l,g=0;do{g++,c=e*(h=n/Math.sqrt(1-e*d*d))/(h+(_=r*u+S*d-h*(1-e*d*d))),m=(f=o*(l=1/Math.sqrt(1-c*(2-c)*a*a)))*u-(p=a*(1-c)*l)*d,u=p,d=f}while(m*m>1e-24&&g<30);return{x:y,y:Math.atan(f/Math.abs(p)),z:_}}function et(t){return 1===t||2===t}function nt(t,e,n){if(null===t.grids||0===t.grids.length)return console.log("Grid shift grids not found"),-1;for(var i={x:-n.x,y:n.y},r={x:Number.NaN,y:Number.NaN},s=[],a=0;a<t.grids.length;a++){var l=t.grids[a];if(s.push(l.name),l.isNull){r=i;break}if(null!==l.grid){var c=l.grid.subgrids[0],h=(Math.abs(c.del[1])+Math.abs(c.del[0]))/1e4;if(!(c.ll[1]-h>i.y||c.ll[0]-h>i.x||c.ll[1]+(c.lim[1]-1)*c.del[1]+h<i.y||c.ll[0]+(c.lim[0]-1)*c.del[0]+h<i.x||(r=it(i,e,c),isNaN(r.x))))break}else if(l.mandatory)return console.log("Unable to find mandatory grid '"+l.name+"'"),-1}return isNaN(r.x)?(console.log("Failed to find a grid shift table for location '"+-i.x*o+" "+i.y*o+" tried: '"+s+"'"),-1):(n.x=-r.x,n.y=r.y,0)}function it(t,e,n){var i={x:Number.NaN,y:Number.NaN};if(isNaN(t.x))return i;var r={x:t.x,y:t.y};r.x-=n.ll[0],r.y-=n.ll[1],r.x=L(r.x-Math.PI)+Math.PI;var s=rt(r,n);if(e){if(isNaN(s.x))return i;s.x=r.x-s.x,s.y=r.y-s.y;var o,a,l=9;do{if(a=rt(s,n),isNaN(a.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}s.x+=(o={x:r.x-(a.x+s.x),y:r.y-(a.y+s.y)}).x,s.y+=o.y}while(l--&&Math.abs(o.x)>1e-12&&Math.abs(o.y)>1e-12);if(l<0)return console.log("Inverse grid shift iterator failed to converge."),i;i.x=L(s.x+n.ll[0]),i.y=s.y+n.ll[1]}else isNaN(s.x)||(i.x=t.x+s.x,i.y=t.y+s.y);return i}function rt(t,e){var n,i={x:t.x/e.del[0],y:t.y/e.del[1]},r=Math.floor(i.x),s=Math.floor(i.y),o=i.x-1*r,a=i.y-1*s,l={x:Number.NaN,y:Number.NaN};if(r<0||r>=e.lim[0])return l;if(s<0||s>=e.lim[1])return l;var c=e.cvs[n=s*e.lim[0]+r][0],h=e.cvs[n][1];n++;var u=e.cvs[n][0],d=e.cvs[n][1],p=e.cvs[n+=e.lim[0]][0],f=e.cvs[n][1];n--;var m=e.cvs[n][1],g=o*a,y=o*(1-a),_=(1-o)*(1-a),b=(1-o)*a;return l.x=_*c+y*u+b*e.cvs[n][0]+g*p,l.y=_*h+y*d+b*m+g*f,l}var st=function(t,e,n){var i,r,s,o=n.x,a=n.y,l=n.z||0,c={};for(s=0;s<3;s++)if(!e||2!==s||void 0!==n.z)switch(0===s?(i=o,r=-1!=="ew".indexOf(t.axis[s])?"x":"y"):1===s?(i=a,r=-1!=="ns".indexOf(t.axis[s])?"y":"x"):(i=l,r="z"),t.axis[s]){case"e":c[r]=i;break;case"w":c[r]=-i;break;case"n":c[r]=i;break;case"s":c[r]=-i;break;case"u":void 0!==n[r]&&(c.z=i);break;case"d":void 0!==n[r]&&(c.z=-i);break;default:return null}return c},ot=function(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e};function at(t){if("function"==typeof Number.isFinite){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof t||t!=t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function lt(t,e,n){var i;if(Array.isArray(n)&&(n=ot(n)),function(t){at(t.x),at(t.y)}(n),t.datum&&e.datum&&function(t,e){return(1===t.datum.datum_type||2===t.datum.datum_type)&&"WGS84"!==e.datumCode||(1===e.datum.datum_type||2===e.datum.datum_type)&&"WGS84"!==t.datumCode}(t,e)&&(n=lt(t,i=new Q("WGS84"),n),t=i),"enu"!==t.axis&&(n=st(t,!1,n)),"longlat"===t.projName)n={x:n.x*s,y:n.y*s,z:n.z||0};else if(t.to_meter&&(n={x:n.x*t.to_meter,y:n.y*t.to_meter,z:n.z||0}),!(n=t.inverse(n)))return;if(t.from_greenwich&&(n.x+=t.from_greenwich),n=function(t,e,n){if(function(t,e){return t.datum_type===e.datum_type&&!(t.a!==e.a||Math.abs(t.es-e.es)>5e-11)&&(1===t.datum_type?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:2!==t.datum_type||t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6])}(t,e))return n;if(5===t.datum_type||5===e.datum_type)return n;var i=t.a,r=t.es;if(3===t.datum_type){if(0!==nt(t,!1,n))return;i=6378137,r=.0066943799901413165}var s=e.a,o=e.b,a=e.es;return 3===e.datum_type&&(s=6378137,o=6356752.314,a=.0066943799901413165),r!==a||i!==s||et(t.datum_type)||et(e.datum_type)?(n=$(n,r,i),et(t.datum_type)&&(n=function(t,e,n){if(1===e)return{x:t.x+n[0],y:t.y+n[1],z:t.z+n[2]};if(2===e){var i=n[3],r=n[4],s=n[5],o=n[6];return{x:o*(t.x-s*t.y+r*t.z)+n[0],y:o*(s*t.x+t.y-i*t.z)+n[1],z:o*(-r*t.x+i*t.y+t.z)+n[2]}}}(n,t.datum_type,t.datum_params)),et(e.datum_type)&&(n=function(t,e,n){if(1===e)return{x:t.x-n[0],y:t.y-n[1],z:t.z-n[2]};if(2===e){var i=n[3],r=n[4],s=n[5],o=n[6],a=(t.x-n[0])/o,l=(t.y-n[1])/o,c=(t.z-n[2])/o;return{x:a+s*l-r*c,y:-s*a+l+i*c,z:r*a-i*l+c}}}(n,e.datum_type,e.datum_params)),n=tt(n,a,s,o),3!==e.datum_type||0===nt(e,!0,n)?n:void 0):n}(t.datum,e.datum,n))return e.from_greenwich&&(n={x:n.x-e.from_greenwich,y:n.y,z:n.z||0}),"longlat"===e.projName?n={x:n.x*o,y:n.y*o,z:n.z||0}:(n=e.forward(n),e.to_meter&&(n={x:n.x/e.to_meter,y:n.y/e.to_meter,z:n.z||0})),"enu"!==e.axis?st(e,!0,n):n}var ct=Q("WGS84");function ht(t,e,n){var i,r,s;return Array.isArray(n)?(i=lt(t,e,n)||{x:NaN,y:NaN},n.length>2?void 0!==t.name&&"geocent"===t.name||void 0!==e.name&&"geocent"===e.name?"number"==typeof i.z?[i.x,i.y,i.z].concat(n.splice(3)):[i.x,i.y,n[2]].concat(n.splice(3)):[i.x,i.y].concat(n.splice(2)):[i.x,i.y]):(r=lt(t,e,n),2===(s=Object.keys(n)).length||s.forEach(function(i){if(void 0!==t.name&&"geocent"===t.name||void 0!==e.name&&"geocent"===e.name){if("x"===i||"y"===i||"z"===i)return}else if("x"===i||"y"===i)return;r[i]=n[i]}),r)}function ut(t){return t instanceof Q?t:t.oProj?t.oProj:Q(t)}var dt=function(t,e,n){t=ut(t);var i,r=!1;return void 0===e?(e=t,t=ct,r=!0):(void 0!==e.x||Array.isArray(e))&&(n=e,e=t,t=ct,r=!0),e=ut(e),n?ht(t,e,n):(i={forward:function(n){return ht(t,e,n)},inverse:function(n){return ht(e,t,n)}},r&&(i.oProj=e),i)},pt=73,ft=79,mt={forward:gt,inverse:function(t){var e=vt(Tt(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]},toPoint:yt};function gt(t,e){return e=e||5,function(t,e){var n,i,r,s,o,a,l,c,h,u,d,p="00000"+t.easting,f="00000"+t.northing;return t.zoneNumber+t.zoneLetter+(h=t.easting,u=t.northing,d=St(t.zoneNumber),n=Math.floor(h/1e5),i=Math.floor(u/1e5)%20,s="AJSAJS".charCodeAt(r=d-1),o="AFAFAF".charCodeAt(r),c=!1,(a=s+n-1)>90&&(a=a-90+65-1,c=!0),(a===pt||s<pt&&a>pt||(a>pt||s<pt)&&c)&&a++,(a===ft||s<ft&&a>ft||(a>ft||s<ft)&&c)&&++a===pt&&a++,a>90&&(a=a-90+65-1),(l=o+i)>86?(l=l-86+65-1,c=!0):c=!1,(l===pt||o<pt&&l>pt||(l>pt||o<pt)&&c)&&l++,(l===ft||o<ft&&l>ft||(l>ft||o<ft)&&c)&&++l===pt&&l++,l>86&&(l=l-86+65-1),String.fromCharCode(a)+String.fromCharCode(l))+p.substr(p.length-5,e)+f.substr(f.length-5,e)}(function(t){var e,n,i,r,s,o,a=t.lat,l=t.lon,c=6378137,h=_t(a),u=_t(l);o=Math.floor((l+180)/6)+1,180===l&&(o=60),a>=56&&a<64&&l>=3&&l<12&&(o=32),a>=72&&a<84&&(l>=0&&l<9?o=31:l>=9&&l<21?o=33:l>=21&&l<33?o=35:l>=33&&l<42&&(o=37)),s=_t(6*(o-1)-180+3),e=c/Math.sqrt(1-.00669438*Math.sin(h)*Math.sin(h)),n=Math.tan(h)*Math.tan(h),i=.006739496752268451*Math.cos(h)*Math.cos(h);var d,p,f=.9996*e*((r=Math.cos(h)*(u-s))+(1-n+i)*r*r*r/6+(5-18*n+n*n+72*i-.39089081163157013)*r*r*r*r*r/120)+5e5,m=.9996*(c*(.9983242984503243*h-.002514607064228144*Math.sin(2*h)+2639046602129982e-21*Math.sin(4*h)-3.418046101696858e-9*Math.sin(6*h))+e*Math.tan(h)*(r*r/2+(5-n+9*i+4*i*i)*r*r*r*r/24+(61-58*n+n*n+600*i-2.2240339282485886)*r*r*r*r*r*r/720));return a<0&&(m+=1e7),{northing:Math.round(m),easting:Math.round(f),zoneNumber:o,zoneLetter:(d=a,p="Z",84>=d&&d>=72?p="X":72>d&&d>=64?p="W":64>d&&d>=56?p="V":56>d&&d>=48?p="U":48>d&&d>=40?p="T":40>d&&d>=32?p="S":32>d&&d>=24?p="R":24>d&&d>=16?p="Q":16>d&&d>=8?p="P":8>d&&d>=0?p="N":0>d&&d>=-8?p="M":-8>d&&d>=-16?p="L":-16>d&&d>=-24?p="K":-24>d&&d>=-32?p="J":-32>d&&d>=-40?p="H":-40>d&&d>=-48?p="G":-48>d&&d>=-56?p="F":-56>d&&d>=-64?p="E":-64>d&&d>=-72?p="D":-72>d&&d>=-80&&(p="C"),p)}}({lat:t[1],lon:t[0]}),e)}function yt(t){var e=vt(Tt(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function _t(t){return t*(Math.PI/180)}function bt(t){return t/Math.PI*180}function vt(t){var e=t.northing,n=t.easting,i=t.zoneLetter,r=t.zoneNumber;if(r<0||r>60)return null;var s,o,a,l,c,h,u,d,p=6378137,f=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),m=n-5e5,g=e;i<"N"&&(g-=1e7),h=6*(r-1)-180+3,d=(u=g/.9996/6367449.145945056)+(3*f/2-27*f*f*f/32)*Math.sin(2*u)+(21*f*f/16-55*f*f*f*f/32)*Math.sin(4*u)+151*f*f*f/96*Math.sin(6*u),s=p/Math.sqrt(1-.00669438*Math.sin(d)*Math.sin(d)),o=Math.tan(d)*Math.tan(d),a=.006739496752268451*Math.cos(d)*Math.cos(d),l=.99330562*p/Math.pow(1-.00669438*Math.sin(d)*Math.sin(d),1.5),c=m/(.9996*s);var y=d-s*Math.tan(d)/l*(c*c/2-(5+3*o+10*a-4*a*a-.06065547077041606)*c*c*c*c/24+(61+90*o+298*a+45*o*o-1.6983531815716497-3*a*a)*c*c*c*c*c*c/720);y=bt(y);var _,b=(c-(1+2*o+a)*c*c*c/6+(5-2*a+28*o-3*a*a+.05391597401814761+24*o*o)*c*c*c*c*c/120)/Math.cos(d);if(b=h+bt(b),t.accuracy){var v=vt({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});_={top:v.lat,right:v.lon,bottom:y,left:b}}else _={lat:y,lon:b};return _}function St(t){var e=t%6;return 0===e&&(e=6),e}function Tt(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,n=t.length,i=null,r="",s=0;!/[A-Z]/.test(e=t.charAt(s));){if(s>=2)throw"MGRSPoint bad conversion from: "+t;r+=e,s++}var o=parseInt(r,10);if(0===s||s+3>n)throw"MGRSPoint bad conversion from: "+t;var a=t.charAt(s++);if(a<="A"||"B"===a||"Y"===a||a>="Z"||"I"===a||"O"===a)throw"MGRSPoint zone letter "+a+" not handled: "+t;i=t.substring(s,s+=2);for(var l=St(o),c=function(t,e){for(var n="AJSAJS".charCodeAt(e-1),i=1e5,r=!1;n!==t.charCodeAt(0);){if(++n===pt&&n++,n===ft&&n++,n>90){if(r)throw"Bad character: "+t;n=65,r=!0}i+=1e5}return i}(i.charAt(0),l),h=function(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var n="AFAFAF".charCodeAt(e-1),i=0,r=!1;n!==t.charCodeAt(0);){if(++n===pt&&n++,n===ft&&n++,n>86){if(r)throw"Bad character: "+t;n=65,r=!0}i+=1e5}return i}(i.charAt(1),l);h<xt(a);)h+=2e6;var u=n-s;if(u%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var d,p,f,m=u/2,g=0,y=0;return m>0&&(d=1e5/Math.pow(10,m),p=t.substring(s,s+m),g=parseFloat(p)*d,f=t.substring(s+m),y=parseFloat(f)*d),{easting:g+c,northing:y+h,zoneLetter:a,zoneNumber:o,accuracy:d}}function xt(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function wt(t,e,n){if(!(this instanceof wt))return new wt(t,e,n);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&void 0===e){var i=t.split(",");this.x=parseFloat(i[0],10),this.y=parseFloat(i[1],10),this.z=parseFloat(i[2],10)||0}else this.x=t,this.y=e,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}wt.fromMGRS=function(t){return new wt(yt(t))},wt.prototype.toMGRS=function(t){return gt([this.x,this.y],t)};var Et=wt,Ct=.01068115234375,Mt=function(t){var e=[];e[0]=1-t*(.25+t*(.046875+t*(.01953125+t*Ct))),e[1]=t*(.75-t*(.046875+t*(.01953125+t*Ct)));var n=t*t;return e[2]=n*(.46875-t*(.013020833333333334+.007120768229166667*t)),e[3]=(n*=t)*(.3645833333333333-.005696614583333333*t),e[4]=n*t*.3076171875,e},Ot=function(t,e,n,i){return i[0]*t-(n*=e)*(i[1]+(e*=e)*(i[2]+e*(i[3]+e*i[4])))},At=function(t,e,n){for(var i=1/(1-e),r=t,s=20;s;--s){var o=Math.sin(r),a=1-e*o*o;if(r-=a=(Ot(r,o,Math.cos(r),n)-t)*(a*Math.sqrt(a))*i,Math.abs(a)<1e-10)return r}return r},It={init:function(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=Mt(this.es),this.ml0=Ot(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function(t){var e,n,i,r=t.y,s=L(t.x-this.long0),o=Math.sin(r),a=Math.cos(r);if(this.es){var l=a*s,c=Math.pow(l,2),h=this.ep2*Math.pow(a,2),u=Math.pow(h,2),d=Math.abs(a)>1e-10?Math.tan(r):0,p=Math.pow(d,2),f=Math.pow(p,2);e=1-this.es*Math.pow(o,2),l/=Math.sqrt(e);var m=Ot(r,o,a,this.en);n=this.a*(this.k0*l*(1+c/6*(1-p+h+c/20*(5-18*p+f+14*h-58*p*h+c/42*(61+179*f-f*p-479*p)))))+this.x0,i=this.a*(this.k0*(m-this.ml0+o*s*l/2*(1+c/12*(5-p+9*h+4*u+c/30*(61+f-58*p+270*h-330*p*h+c/56*(1385+543*f-f*p-3111*p))))))+this.y0}else{var g=a*Math.sin(s);if(Math.abs(Math.abs(g)-1)<1e-10)return 93;if(n=.5*this.a*this.k0*Math.log((1+g)/(1-g))+this.x0,i=a*Math.cos(s)/Math.sqrt(1-Math.pow(g,2)),(g=Math.abs(i))>=1){if(g-1>1e-10)return 93;i=0}else i=Math.acos(i);r<0&&(i=-i),i=this.a*this.k0*(i-this.lat0)+this.y0}return t.x=n,t.y=i,t},inverse:function(t){var e,n,i,s,o=1/this.a*(t.x-this.x0),a=1/this.a*(t.y-this.y0);if(this.es)if(n=At(e=this.ml0+a/this.k0,this.es,this.en),Math.abs(n)<r){var l=Math.sin(n),c=Math.cos(n),h=Math.abs(c)>1e-10?Math.tan(n):0,u=this.ep2*Math.pow(c,2),d=Math.pow(u,2),p=Math.pow(h,2),f=Math.pow(p,2);e=1-this.es*Math.pow(l,2);var m=o*Math.sqrt(e)/this.k0,g=Math.pow(m,2);i=n-(e*=h)*g/(1-this.es)*.5*(1-g/12*(5+3*p-9*u*p+u-4*d-g/30*(61+90*p-252*u*p+45*f+46*u-g/56*(1385+3633*p+4095*f+1574*f*p)))),s=L(this.long0+m*(1-g/6*(1+2*p+u-g/20*(5+28*p+24*f+8*u*p+6*u-g/42*(61+662*p+1320*f+720*f*p))))/c)}else i=r*R(a),s=0;else{var y=Math.exp(o/this.k0),_=.5*(y-1/y),b=Math.cos(this.lat0+a/this.k0);e=Math.sqrt((1-Math.pow(b,2))/(1+Math.pow(_,2))),i=Math.asin(e),a<0&&(i=-i),s=0===_&&0===b?0:L(Math.atan2(_,b)+this.long0)}return t.x=s,t.y=i,t},names:["Fast_Transverse_Mercator","Fast Transverse Mercator"]},Rt=function(t){var e=Math.exp(t);return(e-1/e)/2},Lt=function(t,e){t=Math.abs(t),e=Math.abs(e);var n=Math.max(t,e),i=Math.min(t,e)/(n||1);return n*Math.sqrt(1+Math.pow(i,2))},Pt=function(t,e){for(var n,i=2*Math.cos(2*e),r=t.length-1,s=t[r],o=0;--r>=0;)n=i*s-o+t[r],o=s,s=n;return e+n*Math.sin(2*e)},Dt=function(t,e,n){for(var i,r,s=Math.sin(e),o=Math.cos(e),a=Rt(n),l=function(t){var e=Math.exp(t);return(e+1/e)/2}(n),c=2*o*l,h=-2*s*a,u=t.length-1,d=t[u],p=0,f=0,m=0;--u>=0;)i=f,r=p,d=c*(f=d)-i-h*(p=m)+t[u],m=h*f-r+c*p;return[(c=s*l)*d-(h=o*a)*m,c*m+h*d]},Nt={init:function(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(It.init.apply(this),this.forward=It.forward,this.inverse=It.inverse),this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),n=e;this.cgb[0]=e*(2+e*(-2/3+e*(e*(116/45+e*(26/45+e*(-2854/675)))-2))),this.cbg[0]=e*(e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))-2),this.cgb[1]=(n*=e)*(7/3+e*(e*(-227/45+e*(2704/315+e*(2323/945)))-1.6)),this.cbg[1]=n*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),this.cgb[2]=(n*=e)*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=n*(-26/15+e*(34/21+e*(1.6+e*(-12686/2835)))),this.cgb[3]=(n*=e)*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=n*(1237/630+e*(e*(-24832/14175)-2.4)),this.cgb[4]=(n*=e)*(4174/315+e*(-144838/6237)),this.cbg[4]=n*(-734/315+e*(109598/31185)),this.cgb[5]=(n*=e)*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+n*(1/4+n*(1/64+n/256))),this.utg[0]=e*(e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))-.5),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=n*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=n*(13/48+e*(e*(557/1440+e*(281/630+e*(-1983433/1935360)))-.6)),this.utg[2]=(n*=e)*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=n*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),this.utg[3]=(n*=e)*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=n*(49561/161280+e*(-179/168+e*(6601661/7257600))),this.utg[4]=(n*=e)*(-4583/161280+e*(108847/3991680)),this.gtu[4]=n*(34729/80640+e*(-3418889/1995840)),this.utg[5]=(n*=e)*(-20648693/638668800),this.gtu[5]=.6650675310896665*n;var i=Pt(this.cbg,this.lat0);this.Zb=-this.Qn*(i+function(t,e){for(var n,i=2*Math.cos(e),r=t.length-1,s=t[r],o=0;--r>=0;)n=i*s-o+t[r],o=s,s=n;return Math.sin(e)*n}(this.gtu,2*i))},forward:function(t){var e=L(t.x-this.long0),n=t.y;n=Pt(this.cbg,n);var i=Math.sin(n),r=Math.cos(n),s=Math.sin(e),o=Math.cos(e);n=Math.atan2(i,o*r),e=Math.atan2(s*r,Lt(i,r*o)),e=function(t){var e=Math.abs(t);return e=function(t){var e=1+t,n=e-1;return 0===n?t:t*Math.log(e)/n}(e*(1+e/(Lt(1,e)+1))),t<0?-e:e}(Math.tan(e));var a,l,c=Dt(this.gtu,2*n,2*e);return n+=c[0],e+=c[1],Math.abs(e)<=2.623395162778?(a=this.a*(this.Qn*e)+this.x0,l=this.a*(this.Qn*n+this.Zb)+this.y0):(a=1/0,l=1/0),t.x=a,t.y=l,t},inverse:function(t){var e,n,i=1/this.a*(t.x-this.x0),r=1/this.a*(t.y-this.y0);if(r=(r-this.Zb)/this.Qn,i/=this.Qn,Math.abs(i)<=2.623395162778){var s=Dt(this.utg,2*r,2*i);r+=s[0],i+=s[1],i=Math.atan(Rt(i));var o=Math.sin(r),a=Math.cos(r),l=Math.sin(i),c=Math.cos(i);r=Math.atan2(o*c,Lt(l,c*a)),i=Math.atan2(l,c*a),e=L(i+this.long0),n=Pt(this.cgb,r)}else e=1/0,n=1/0;return t.x=e,t.y=n,t},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","tmerc"]},jt={init:function(){var t=function(t,e){if(void 0===t){if((t=Math.floor(30*(L(e)+Math.PI)/Math.PI)+1)<0)return 0;if(t>60)return 60}return t}(this.zone,this.long0);if(void 0===t)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*s,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,Nt.init.apply(this),this.forward=Nt.forward,this.inverse=Nt.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"},kt=function(t,e){return Math.pow((1-t)/(1+t),e)},Ft={init:function(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+a)/(Math.pow(Math.tan(.5*this.lat0+a),this.C)*kt(this.e*t,this.ratexp))},forward:function(t){var e=t.x,n=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+a),this.C)*kt(this.e*Math.sin(n),this.ratexp))-r,t.x=this.C*e,t},inverse:function(t){for(var e=t.x/this.C,n=t.y,i=Math.pow(Math.tan(.5*n+a)/this.K,1/this.C),s=20;s>0&&(n=2*Math.atan(i*kt(this.e*Math.sin(t.y),-.5*this.e))-r,!(Math.abs(n-t.y)<1e-14));--s)t.y=n;return s?(t.x=e,t.y=n,t):null},names:["gauss"]},Ut={init:function(){Ft.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function(t){var e,n,i,r;return t.x=L(t.x-this.long0),Ft.forward.apply(this,[t]),e=Math.sin(t.y),n=Math.cos(t.y),i=Math.cos(t.x),t.x=(r=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*n*i))*n*Math.sin(t.x),t.y=r*(this.cosc0*e-this.sinc0*n*i),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},inverse:function(t){var e,n,i,r,s;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,s=Math.sqrt(t.x*t.x+t.y*t.y)){var o=2*Math.atan2(s,this.R2);e=Math.sin(o),n=Math.cos(o),r=Math.asin(n*this.sinc0+t.y*e*this.cosc0/s),i=Math.atan2(t.x*e,s*this.cosc0*n-t.y*this.sinc0*e)}else r=this.phic0,i=0;return t.x=i,t.y=r,Ft.inverse.apply(this,[t]),t.x=L(t.x+this.long0),t},names:["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"]},Gt={init:function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=1e-10&&(this.k0=.5*(1+R(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=1e-10&&(this.con=this.lat0>0?1:-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=1e-10&&(this.k0=.5*this.cons*I(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/P(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=I(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-r,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function(t){var e,n,i,s,o,a,l=t.x,c=t.y,h=Math.sin(c),u=Math.cos(c),d=L(l-this.long0);return Math.abs(Math.abs(l-this.long0)-Math.PI)<=1e-10&&Math.abs(c+this.lat0)<=1e-10?(t.x=NaN,t.y=NaN,t):this.sphere?(e=2*this.k0/(1+this.sinlat0*h+this.coslat0*u*Math.cos(d)),t.x=this.a*e*u*Math.sin(d)+this.x0,t.y=this.a*e*(this.coslat0*h-this.sinlat0*u*Math.cos(d))+this.y0,t):(n=2*Math.atan(this.ssfn_(c,h,this.e))-r,s=Math.cos(n),i=Math.sin(n),Math.abs(this.coslat0)<=1e-10?(o=P(this.e,c*this.con,this.con*h),t.x=this.x0+(a=2*this.a*this.k0*o/this.cons)*Math.sin(l-this.long0),t.y=this.y0-this.con*a*Math.cos(l-this.long0),t):(Math.abs(this.sinlat0)<1e-10?(e=2*this.a*this.k0/(1+s*Math.cos(d)),t.y=e*i):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*i+this.cosX0*s*Math.cos(d))),t.y=e*(this.cosX0*i-this.sinX0*s*Math.cos(d))+this.y0),t.x=e*s*Math.sin(d)+this.x0,t))},inverse:function(t){var e,n,i,s;t.x-=this.x0,t.y-=this.y0;var o=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var a=2*Math.atan(o/(2*this.a*this.k0));return e=this.long0,n=this.lat0,o<=1e-10?(t.x=e,t.y=n,t):(n=Math.asin(Math.cos(a)*this.sinlat0+t.y*Math.sin(a)*this.coslat0/o),e=Math.abs(this.coslat0)<1e-10?L(this.lat0>0?this.long0+Math.atan2(t.x,-1*t.y):this.long0+Math.atan2(t.x,t.y)):L(this.long0+Math.atan2(t.x*Math.sin(a),o*this.coslat0*Math.cos(a)-t.y*this.sinlat0*Math.sin(a))),t.x=e,t.y=n,t)}if(Math.abs(this.coslat0)<=1e-10){if(o<=1e-10)return n=this.lat0,t.x=e=this.long0,t.y=n,t;t.x*=this.con,t.y*=this.con,n=this.con*D(this.e,o*this.cons/(2*this.a*this.k0)),e=this.con*L(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else i=2*Math.atan(o*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,o<=1e-10?s=this.X0:(s=Math.asin(Math.cos(i)*this.sinX0+t.y*Math.sin(i)*this.cosX0/o),e=L(this.long0+Math.atan2(t.x*Math.sin(i),o*this.cosX0*Math.cos(i)-t.y*this.sinX0*Math.sin(i)))),n=-1*D(this.e,Math.tan(.5*(r+s)));return t.x=e,t.y=n,t},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],ssfn_:function(t,e,n){return e*=n,Math.tan(.5*(r+t))*Math.pow((1-e)/(1+e),.5*n)}},Vt={init:function(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),n=this.a,i=1/this.rf,r=2*i-Math.pow(i,2),s=this.e=Math.sqrt(r);this.R=this.k0*n*Math.sqrt(1-r)/(1-r*Math.pow(e,2)),this.alpha=Math.sqrt(1+r/(1-r)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var o=Math.log(Math.tan(Math.PI/4+this.b0/2)),a=Math.log(Math.tan(Math.PI/4+t/2)),l=Math.log((1+s*e)/(1-s*e));this.K=o-this.alpha*a+this.alpha*s/2*l},forward:function(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),i=2*(Math.atan(Math.exp(-this.alpha*(e+n)+this.K))-Math.PI/4),r=this.alpha*(t.x-this.lambda0),s=Math.atan(Math.sin(r)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(r))),o=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(r));return t.y=this.R/2*Math.log((1+Math.sin(o))/(1-Math.sin(o)))+this.y0,t.x=this.R*s+this.x0,t},inverse:function(t){for(var e=(t.x-this.x0)/this.R,n=2*(Math.atan(Math.exp((t.y-this.y0)/this.R))-Math.PI/4),i=Math.asin(Math.cos(this.b0)*Math.sin(n)+Math.sin(this.b0)*Math.cos(n)*Math.cos(e)),r=Math.atan(Math.sin(e)/(Math.cos(this.b0)*Math.cos(e)-Math.sin(this.b0)*Math.tan(n))),s=this.lambda0+r/this.alpha,o=0,a=i,l=-1e3,c=0;Math.abs(a-l)>1e-7;){if(++c>20)return;o=1/this.alpha*(Math.log(Math.tan(Math.PI/4+i/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(a))/2)),l=a,a=2*Math.atan(Math.exp(o))-Math.PI/2}return t.x=s,t.y=a,t},names:["somerc"]},Bt={init:function(){var t,e,n,i,o,c,h,u,d,p,f,m,g,y=0,_=0,b=0,v=0,S=0,T=0,x=0;this.no_off=(g="object"==typeof(m=this).PROJECTION?Object.keys(m.PROJECTION)[0]:m.PROJECTION,"no_uoff"in m||"no_off"in m||-1!==["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"].indexOf(g)),this.no_rot="no_rot"in this;var w=!1;"alpha"in this&&(w=!0);var E=!1;if("rectified_grid_angle"in this&&(E=!0),w&&(x=this.alpha),E&&(y=this.rectified_grid_angle*s),w||E)_=this.longc;else if(b=this.long1,S=this.lat1,v=this.long2,T=this.lat2,Math.abs(S-T)<=1e-7||(t=Math.abs(S))<=1e-7||Math.abs(t-r)<=1e-7||Math.abs(Math.abs(this.lat0)-r)<=1e-7||Math.abs(Math.abs(T)-r)<=1e-7)throw new Error;var C=1-this.es;e=Math.sqrt(C),Math.abs(this.lat0)>1e-10?(u=Math.sin(this.lat0),n=Math.cos(this.lat0),t=1-this.es*u*u,this.B=n*n,this.B=Math.sqrt(1+this.es*this.B*this.B/C),this.A=this.B*this.k0*e/t,(o=(i=this.B*e/(n*Math.sqrt(t)))*i-1)<=0?o=0:(o=Math.sqrt(o),this.lat0<0&&(o=-o)),this.E=o+=i,this.E*=Math.pow(P(this.e,this.lat0,u),this.B)):(this.B=1/e,this.A=this.k0,this.E=i=o=1),w||E?(w?(f=Math.asin(Math.sin(x)/i),E||(y=x)):(f=y,x=Math.asin(i*Math.sin(f))),this.lam0=_-Math.asin(.5*(o-1/o)*Math.tan(f))/this.B):(c=Math.pow(P(this.e,S,Math.sin(S)),this.B),h=Math.pow(P(this.e,T,Math.sin(T)),this.B),o=this.E/c,d=(h-c)/(h+c),p=((p=this.E*this.E)-h*c)/(p+h*c),(t=b-v)<-Math.pi?v-=l:t>Math.pi&&(v+=l),this.lam0=L(.5*(b+v)-Math.atan(p*Math.tan(.5*this.B*(b-v))/d)/this.B),f=Math.atan(2*Math.sin(this.B*L(b-this.lam0))/(o-1/o)),y=x=Math.asin(i*Math.sin(f))),this.singam=Math.sin(f),this.cosgam=Math.cos(f),this.sinrot=Math.sin(y),this.cosrot=Math.cos(y),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(i*i-1)/Math.cos(x))),this.lat0<0&&(this.u_0=-this.u_0)),o=.5*f,this.v_pole_n=this.ArB*Math.log(Math.tan(a-o)),this.v_pole_s=this.ArB*Math.log(Math.tan(a+o))},forward:function(t){var e,n,i,s,o,a,l,c,h={};if(t.x=t.x-this.lam0,Math.abs(Math.abs(t.y)-r)>1e-10){if(e=.5*((o=this.E/Math.pow(P(this.e,t.y,Math.sin(t.y)),this.B))-(a=1/o)),n=.5*(o+a),s=Math.sin(this.B*t.x),i=(e*this.singam-s*this.cosgam)/n,Math.abs(Math.abs(i)-1)<1e-10)throw new Error;c=.5*this.ArB*Math.log((1-i)/(1+i)),a=Math.cos(this.B*t.x),l=Math.abs(a)<1e-7?this.A*t.x:this.ArB*Math.atan2(e*this.cosgam+s*this.singam,a)}else c=t.y>0?this.v_pole_n:this.v_pole_s,l=this.ArB*t.y;return this.no_rot?(h.x=l,h.y=c):(h.x=c*this.cosrot+(l-=this.u_0)*this.sinrot,h.y=l*this.cosrot-c*this.sinrot),h.x=this.a*h.x+this.x0,h.y=this.a*h.y+this.y0,h},inverse:function(t){var e,n,i,s,o,a,l,c={};if(t.x=1/this.a*(t.x-this.x0),t.y=1/this.a*(t.y-this.y0),this.no_rot?(n=t.y,e=t.x):(n=t.x*this.cosrot-t.y*this.sinrot,e=t.y*this.cosrot+t.x*this.sinrot+this.u_0),s=.5*((i=Math.exp(-this.BrA*n))-1/i),o=.5*(i+1/i),l=((a=Math.sin(this.BrA*e))*this.cosgam+s*this.singam)/o,Math.abs(Math.abs(l)-1)<1e-10)c.x=0,c.y=l<0?-r:r;else{if(c.y=this.E/Math.sqrt((1+l)/(1-l)),c.y=D(this.e,Math.pow(c.y,1/this.B)),c.y===1/0)throw new Error;c.x=-this.rB*Math.atan2(s*this.cosgam-a*this.singam,Math.cos(this.BrA*e))}return c.x+=this.lam0,c},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"]},zt={init:function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<1e-10)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),n=Math.cos(this.lat1),i=I(this.e,e,n),r=P(this.e,this.lat1,e),s=Math.sin(this.lat2),o=Math.cos(this.lat2),a=I(this.e,s,o),l=P(this.e,this.lat2,s),c=P(this.e,this.lat0,Math.sin(this.lat0));this.ns=Math.abs(this.lat1-this.lat2)>1e-10?Math.log(i/a)/Math.log(r/l):e,isNaN(this.ns)&&(this.ns=e),this.f0=i/(this.ns*Math.pow(r,this.ns)),this.rh=this.a*this.f0*Math.pow(c,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function(t){var e=t.x,n=t.y;Math.abs(2*Math.abs(n)-Math.PI)<=1e-10&&(n=R(n)*(r-2e-10));var i,s,o=Math.abs(Math.abs(n)-r);if(o>1e-10)i=P(this.e,n,Math.sin(n)),s=this.a*this.f0*Math.pow(i,this.ns);else{if((o=n*this.ns)<=0)return null;s=0}var a=this.ns*L(e-this.long0);return t.x=this.k0*(s*Math.sin(a))+this.x0,t.y=this.k0*(this.rh-s*Math.cos(a))+this.y0,t},inverse:function(t){var e,n,i,s,o,a=(t.x-this.x0)/this.k0,l=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(a*a+l*l),n=1):(e=-Math.sqrt(a*a+l*l),n=-1);var c=0;if(0!==e&&(c=Math.atan2(n*a,n*l)),0!==e||this.ns>0){if(n=1/this.ns,i=Math.pow(e/(this.a*this.f0),n),-9999===(s=D(this.e,i)))return null}else s=-r;return o=L(c/this.ns+this.long0),t.x=o,t.y=s,t},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc"]},Ht={init:function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function(t){var e,n,i,r,s,o,a,l=t.y,c=L(t.x-this.long0);return e=Math.pow((1+this.e*Math.sin(l))/(1-this.e*Math.sin(l)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(l/2+this.s45),this.alfa)/e)-this.s45),i=-c*this.alfa,r=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(i)),s=Math.asin(Math.cos(n)*Math.sin(i)/Math.cos(r)),o=this.n*s,a=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(r/2+this.s45),this.n),t.y=a*Math.cos(o)/1,t.x=a*Math.sin(o)/1,this.czech||(t.y*=-1,t.x*=-1),t},inverse:function(t){var e,n,i,r,s,o,a,l=t.x;t.x=t.y,t.y=l,this.czech||(t.y*=-1,t.x*=-1),s=Math.sqrt(t.x*t.x+t.y*t.y),r=Math.atan2(t.y,t.x)/Math.sin(this.s0),i=2*(Math.atan(Math.pow(this.ro0/s,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(i)-Math.sin(this.ad)*Math.cos(i)*Math.cos(r)),n=Math.asin(Math.cos(i)*Math.sin(r)/Math.cos(e)),t.x=this.long0-n/this.alfa,o=e,a=0;var c=0;do{t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(o))/(1-this.e*Math.sin(o)),this.e/2))-this.s45),Math.abs(o-t.y)<1e-10&&(a=1),o=t.y,c+=1}while(0===a&&c<15);return c>=15?null:t},names:["Krovak","krovak"]},Xt=function(t,e,n,i,r){return t*r-e*Math.sin(2*r)+n*Math.sin(4*r)-i*Math.sin(6*r)},qt=function(t){return 1-.25*t*(1+t/16*(3+1.25*t))},Wt=function(t){return.375*t*(1+.25*t*(1+.46875*t))},Yt=function(t){return.05859375*t*t*(1+.75*t)},Kt=function(t){return t*t*t*(35/3072)},Zt=function(t,e,n){var i=e*n;return t/Math.sqrt(1-i*i)},Jt=function(t){return Math.abs(t)<r?t:t-R(t)*Math.PI},Qt=function(t,e,n,i,r){var s,o;s=t/e;for(var a=0;a<15;a++)if(s+=o=(t-(e*s-n*Math.sin(2*s)+i*Math.sin(4*s)-r*Math.sin(6*s)))/(e-2*n*Math.cos(2*s)+4*i*Math.cos(4*s)-6*r*Math.cos(6*s)),Math.abs(o)<=1e-10)return s;return NaN},$t={init:function(){this.sphere||(this.e0=qt(this.es),this.e1=Wt(this.es),this.e2=Yt(this.es),this.e3=Kt(this.es),this.ml0=this.a*Xt(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function(t){var e,n,i=t.x,r=t.y;if(i=L(i-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(r)*Math.sin(i)),n=this.a*(Math.atan2(Math.tan(r),Math.cos(i))-this.lat0);else{var s=Math.sin(r),o=Math.cos(r),a=Zt(this.a,this.e,s),l=Math.tan(r)*Math.tan(r),c=i*Math.cos(r),h=c*c,u=this.es*o*o/(1-this.es);e=a*c*(1-h*l*(1/6-(8-l+8*u)*h/120)),n=this.a*Xt(this.e0,this.e1,this.e2,this.e3,r)-this.ml0+a*s/o*h*(.5+(5-l+6*u)*h/24)}return t.x=e+this.x0,t.y=n+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,n,i=t.x/this.a,s=t.y/this.a;if(this.sphere){var o=s+this.lat0;e=Math.asin(Math.sin(o)*Math.cos(i)),n=Math.atan2(Math.tan(i),Math.cos(o))}else{var a=Qt(this.ml0/this.a+s,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(a)-r)<=1e-10)return t.x=this.long0,t.y=r,s<0&&(t.y*=-1),t;var l=Zt(this.a,this.e,Math.sin(a)),c=l*l*l/this.a/this.a*(1-this.es),h=Math.pow(Math.tan(a),2),u=i*this.a/l,d=u*u;e=a-l*Math.tan(a)/c*u*u*(.5-(1+3*h)*u*u/24),n=u*(1-d*(h/3+(1+3*h)*h*d/15))/Math.cos(a)}return t.x=L(n+this.long0),t.y=Jt(e),t},names:["Cassini","Cassini_Soldner","cass"]},te=function(t,e){var n;return t>1e-7?(1-t*t)*(e/(1-(n=t*e)*n)-.5/t*Math.log((1-n)/(1+n))):2*e},ee={init:function(){var t,e=Math.abs(this.lat0);if(this.mode=Math.abs(e-r)<1e-10?this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<1e-10?this.EQUIT:this.OBLIQ,this.es>0)switch(this.qp=te(this.e,1),this.mmf=.5/(1-this.es),this.apa=function(t){var e,n=[];return n[0]=.3333333333333333*t,n[0]+=.17222222222222222*(e=t*t),n[1]=.06388888888888888*e,n[0]+=.10257936507936508*(e*=t),n[1]+=.0664021164021164*e,n[2]=.016415012942191543*e,n}(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=te(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(t){var e,n,i,s,o,l,c,h,u,d,p=t.x,f=t.y;if(p=L(p-this.long0),this.sphere){if(o=Math.sin(f),d=Math.cos(f),i=Math.cos(p),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((n=this.mode===this.EQUIT?1+d*i:1+this.sinph0*o+this.cosph0*d*i)<=1e-10)return null;e=(n=Math.sqrt(2/n))*d*Math.sin(p),n*=this.mode===this.EQUIT?o:this.cosph0*o-this.sinph0*d*i}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(i=-i),Math.abs(f+this.lat0)<1e-10)return null;n=a-.5*f,e=(n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)))*Math.sin(p),n*=i}}else{switch(c=0,h=0,u=0,i=Math.cos(p),s=Math.sin(p),o=Math.sin(f),l=te(this.e,o),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(c=l/this.qp,h=Math.sqrt(1-c*c)),this.mode){case this.OBLIQ:u=1+this.sinb1*c+this.cosb1*h*i;break;case this.EQUIT:u=1+h*i;break;case this.N_POLE:u=r+f,l=this.qp-l;break;case this.S_POLE:u=f-r,l=this.qp+l}if(Math.abs(u)<1e-10)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:u=Math.sqrt(2/u),n=this.mode===this.OBLIQ?this.ymf*u*(this.cosb1*c-this.sinb1*h*i):(u=Math.sqrt(2/(1+h*i)))*c*this.ymf,e=this.xmf*u*h*s;break;case this.N_POLE:case this.S_POLE:l>=0?(e=(u=Math.sqrt(l))*s,n=i*(this.mode===this.S_POLE?u:-u)):e=n=0}}return t.x=this.a*e+this.x0,t.y=this.a*n+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,n,i,s,o,a,l,c,h,u,d=t.x/this.a,p=t.y/this.a;if(this.sphere){var f,m=0,g=0;if((n=.5*(f=Math.sqrt(d*d+p*p)))>1)return null;switch(n=2*Math.asin(n),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(g=Math.sin(n),m=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(f)<=1e-10?0:Math.asin(p*g/f),d*=g,p=m*f;break;case this.OBLIQ:n=Math.abs(f)<=1e-10?this.lat0:Math.asin(m*this.sinph0+p*g*this.cosph0/f),d*=g*this.cosph0,p=(m-Math.sin(n)*this.sinph0)*f;break;case this.N_POLE:p=-p,n=r-n;break;case this.S_POLE:n-=r}e=0!==p||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(d,p):0}else{if(l=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(d/=this.dd,p*=this.dd,(a=Math.sqrt(d*d+p*p))<1e-10)return t.x=this.long0,t.y=this.lat0,t;s=2*Math.asin(.5*a/this.rq),i=Math.cos(s),d*=s=Math.sin(s),this.mode===this.OBLIQ?(o=this.qp*(l=i*this.sinb1+p*s*this.cosb1/a),p=a*this.cosb1*i-p*this.sinb1*s):(o=this.qp*(l=p*s/a),p=a*i)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(p=-p),!(o=d*d+p*p))return t.x=this.long0,t.y=this.lat0,t;l=1-o/this.qp,this.mode===this.S_POLE&&(l=-l)}e=Math.atan2(d,p),u=(c=Math.asin(l))+c,n=c+(h=this.apa)[0]*Math.sin(u)+h[1]*Math.sin(u+u)+h[2]*Math.sin(u+u+u)}return t.x=L(this.long0+e),t.y=n,t},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4},ne=function(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)},ie={init:function(){Math.abs(this.lat1+this.lat2)<1e-10||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=I(this.e3,this.sin_po,this.cos_po),this.qs1=te(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=I(this.e3,this.sin_po,this.cos_po),this.qs2=te(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=te(this.e3,this.sin_po),this.ns0=Math.abs(this.lat1-this.lat2)>1e-10?(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function(t){var e=t.x,n=t.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var i=te(this.e3,this.sin_phi),r=this.a*Math.sqrt(this.c-this.ns0*i)/this.ns0,s=this.ns0*L(e-this.long0),o=r*Math.sin(s)+this.x0,a=this.rh-r*Math.cos(s)+this.y0;return t.x=o,t.y=a,t},inverse:function(t){var e,n,i,r,s;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),n=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),n=-1),i=0,0!==e&&(i=Math.atan2(n*t.x,n*t.y)),n=e*this.ns0/this.a,s=this.sphere?Math.asin((this.c-n*n)/(2*this.ns0)):this.phi1z(this.e3,(this.c-n*n)/this.ns0),r=L(i/this.ns0+this.long0),t.x=r,t.y=s,t},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function(t,e){var n,i,r,s,o=ne(.5*e);if(t<1e-10)return o;for(var a=t*t,l=1;l<=25;l++)if(o+=s=.5*(r=1-(i=t*(n=Math.sin(o)))*i)*r/Math.cos(o)*(e/(1-a)-n/r+.5/t*Math.log((1-i)/(1+i))),Math.abs(s)<=1e-7)return o;return null}},re={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function(t){var e,n,i,r,s,o,a,l=t.y;return i=L(t.x-this.long0),e=Math.sin(l),n=Math.cos(l),r=Math.cos(i),(s=this.sin_p14*e+this.cos_p14*n*r)>0||Math.abs(s)<=1e-10?(o=this.x0+1*this.a*n*Math.sin(i)/s,a=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*n*r)/s):(o=this.x0+this.infinity_dist*n*Math.sin(i),a=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*n*r)),t.x=o,t.y=a,t},inverse:function(t){var e,n,i,r,s,o;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(r=Math.atan2(e,this.rc),n=Math.sin(r),i=Math.cos(r),o=ne(i*this.sin_p14+t.y*n*this.cos_p14/e),s=Math.atan2(t.x*n,e*this.cos_p14*i-t.y*this.sin_p14*n),s=L(this.long0+s)):(o=this.phic0,s=0),t.x=s,t.y=o,t},names:["gnom"]},se={init:function(){this.sphere||(this.k0=I(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(t){var e,n,i=t.y,r=L(t.x-this.long0);if(this.sphere)e=this.x0+this.a*r*Math.cos(this.lat_ts),n=this.y0+this.a*Math.sin(i)/Math.cos(this.lat_ts);else{var s=te(this.e,Math.sin(i));e=this.x0+this.a*this.k0*r,n=this.y0+this.a*s*.5/this.k0}return t.x=e,t.y=n,t},inverse:function(t){var e,n;return t.x-=this.x0,t.y-=this.y0,this.sphere?(e=L(this.long0+t.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(n=function(t,e){var n=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-n)<1e-6)return e<0?-1*r:r;for(var i,s,o,a,l=Math.asin(.5*e),c=0;c<30;c++)if(s=Math.sin(l),o=Math.cos(l),a=t*s,l+=i=Math.pow(1-a*a,2)/(2*o)*(e/(1-t*t)-s/(1-a*a)+.5/t*Math.log((1-a)/(1+a))),Math.abs(i)<=1e-10)return l;return NaN}(this.e,2*t.y*this.k0/this.a),e=L(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=n,t},names:["cea"]},oe={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function(t){var e=t.y,n=L(t.x-this.long0),i=Jt(e-this.lat0);return t.x=this.x0+this.a*n*this.rc,t.y=this.y0+this.a*i,t},inverse:function(t){var e=t.y;return t.x=L(this.long0+(t.x-this.x0)/(this.a*this.rc)),t.y=Jt(this.lat0+(e-this.y0)/this.a),t},names:["Equirectangular","Equidistant_Cylindrical","eqc"]},ae={init:function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=qt(this.es),this.e1=Wt(this.es),this.e2=Yt(this.es),this.e3=Kt(this.es),this.ml0=this.a*Xt(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(t){var e,n,i,r=t.y,s=L(t.x-this.long0);if(i=s*Math.sin(r),this.sphere)Math.abs(r)<=1e-10?(e=this.a*s,n=-1*this.a*this.lat0):(e=this.a*Math.sin(i)/Math.tan(r),n=this.a*(Jt(r-this.lat0)+(1-Math.cos(i))/Math.tan(r)));else if(Math.abs(r)<=1e-10)e=this.a*s,n=-1*this.ml0;else{var o=Zt(this.a,this.e,Math.sin(r))/Math.tan(r);e=o*Math.sin(i),n=this.a*Xt(this.e0,this.e1,this.e2,this.e3,r)-this.ml0+o*(1-Math.cos(i))}return t.x=e+this.x0,t.y=n+this.y0,t},inverse:function(t){var e,n,i,r,s,o,a,l,c;if(i=t.x-this.x0,r=t.y-this.y0,this.sphere)if(Math.abs(r+this.a*this.lat0)<=1e-10)e=L(i/this.a+this.long0),n=0;else{var h;for(a=i*i/this.a/this.a+(o=this.lat0+r/this.a)*o,l=o,s=20;s;--s)if(l+=c=-1*(o*(l*(h=Math.tan(l))+1)-l-.5*(l*l+a)*h)/((l-o)/h-1),Math.abs(c)<=1e-10){n=l;break}e=L(this.long0+Math.asin(i*Math.tan(l)/this.a)/Math.sin(n))}else if(Math.abs(r+this.ml0)<=1e-10)n=0,e=L(this.long0+i/this.a);else{var u,d,p,f,m;for(a=i*i/this.a/this.a+(o=(this.ml0+r)/this.a)*o,l=o,s=20;s;--s)if(m=this.e*Math.sin(l),u=Math.sqrt(1-m*m)*Math.tan(l),d=this.a*Xt(this.e0,this.e1,this.e2,this.e3,l),p=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),l-=c=(o*(u*(f=d/this.a)+1)-f-.5*u*(f*f+a))/(this.es*Math.sin(2*l)*(f*f+a-2*o*f)/(4*u)+(o-f)*(u*p-2/Math.sin(2*l))-p),Math.abs(c)<=1e-10){n=l;break}u=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),e=L(this.long0+Math.asin(i*u/this.a)/Math.sin(n))}return t.x=e,t.y=n,t},names:["Polyconic","poly"]},le={init:function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function(t){var e,n=(t.y-this.lat0)/i*1e-5,r=t.x-this.long0,s=1,o=0;for(e=1;e<=10;e++)o+=this.A[e]*(s*=n);var a,l=o,c=r,h=1,u=0,d=0,p=0;for(e=1;e<=6;e++)a=u*l+h*c,d=d+this.B_re[e]*(h=h*l-u*c)-this.B_im[e]*(u=a),p=p+this.B_im[e]*h+this.B_re[e]*u;return t.x=p*this.a+this.x0,t.y=d*this.a+this.y0,t},inverse:function(t){var e,n,r=(t.y-this.y0)/this.a,s=(t.x-this.x0)/this.a,o=1,a=0,l=0,c=0;for(e=1;e<=6;e++)n=a*r+o*s,l=l+this.C_re[e]*(o=o*r-a*s)-this.C_im[e]*(a=n),c=c+this.C_im[e]*o+this.C_re[e]*a;for(var h=0;h<this.iterations;h++){var u,d=l,p=c,f=r,m=s;for(e=2;e<=6;e++)u=p*l+d*c,f+=(e-1)*(this.B_re[e]*(d=d*l-p*c)-this.B_im[e]*(p=u)),m+=(e-1)*(this.B_im[e]*d+this.B_re[e]*p);d=1,p=0;var g=this.B_re[1],y=this.B_im[1];for(e=2;e<=6;e++)u=p*l+d*c,g+=e*(this.B_re[e]*(d=d*l-p*c)-this.B_im[e]*(p=u)),y+=e*(this.B_im[e]*d+this.B_re[e]*p);var _=g*g+y*y;l=(f*g+m*y)/_,c=(m*g-f*y)/_}var b=l,v=c,S=1,T=0;for(e=1;e<=9;e++)T+=this.D[e]*(S*=b);var x=this.lat0+T*i*1e5;return t.x=this.long0+v,t.y=x,t},names:["New_Zealand_Map_Grid","nzmg"]},ce={init:function(){},forward:function(t){var e=t.y,n=L(t.x-this.long0),i=this.x0+this.a*n,r=this.y0+this.a*Math.log(Math.tan(Math.PI/4+e/2.5))*1.25;return t.x=i,t.y=r,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e=L(this.long0+t.x/this.a),n=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=n,t},names:["Miller_Cylindrical","mill"]},he={init:function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=Mt(this.es)},forward:function(t){var e,n,i=t.x,r=t.y;if(i=L(i-this.long0),this.sphere){if(this.m)for(var s=this.n*Math.sin(r),o=20;o;--o){var a=(this.m*r+Math.sin(r)-s)/(this.m+Math.cos(r));if(r-=a,Math.abs(a)<1e-10)break}else r=1!==this.n?Math.asin(this.n*Math.sin(r)):r;e=this.a*this.C_x*i*(this.m+Math.cos(r)),n=this.a*this.C_y*r}else{var l=Math.sin(r),c=Math.cos(r);n=this.a*Ot(r,l,c,this.en),e=this.a*i*c/Math.sqrt(1-this.es*l*l)}return t.x=e,t.y=n,t},inverse:function(t){var e,n,i,s;return t.x-=this.x0,i=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,i/=this.C_x*(this.m+Math.cos(e)),this.m?e=ne((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=ne(Math.sin(e)/this.n)),i=L(i+this.long0),e=Jt(e)):(e=At(t.y/this.a,this.es,this.en),(s=Math.abs(e))<r?(s=Math.sin(e),n=this.long0+t.x*Math.sqrt(1-this.es*s*s)/(this.a*Math.cos(e)),i=L(n)):s-1e-10<r&&(i=this.long0)),t.x=i,t.y=e,t},names:["Sinusoidal","sinu"]},ue={init:function(){},forward:function(t){for(var e=t.y,n=L(t.x-this.long0),i=e,r=Math.PI*Math.sin(e);;){var s=-(i+Math.sin(i)-r)/(1+Math.cos(i));if(i+=s,Math.abs(s)<1e-10)break}i/=2,Math.PI/2-Math.abs(e)<1e-10&&(n=0);var o=.900316316158*this.a*n*Math.cos(i)+this.x0,a=1.4142135623731*this.a*Math.sin(i)+this.y0;return t.x=o,t.y=a,t},inverse:function(t){var e,n;t.x-=this.x0,t.y-=this.y0,n=t.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),e=Math.asin(n);var i=L(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));i<-Math.PI&&(i=-Math.PI),i>Math.PI&&(i=Math.PI),n=(2*e+Math.sin(2*e))/Math.PI,Math.abs(n)>1&&(n=1);var r=Math.asin(n);return t.x=i,t.y=r,t},names:["Mollweide","moll"]},de={init:function(){Math.abs(this.lat1+this.lat2)<1e-10||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=qt(this.es),this.e1=Wt(this.es),this.e2=Yt(this.es),this.e3=Kt(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=I(this.e,this.sinphi,this.cosphi),this.ml1=Xt(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<1e-10?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=I(this.e,this.sinphi,this.cosphi),this.ml2=Xt(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Xt(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function(t){var e,n=t.x,i=t.y;if(this.sphere)e=this.a*(this.g-i);else{var r=Xt(this.e0,this.e1,this.e2,this.e3,i);e=this.a*(this.g-r)}var s=this.ns*L(n-this.long0),o=this.x0+e*Math.sin(s),a=this.y0+this.rh-e*Math.cos(s);return t.x=o,t.y=a,t},inverse:function(t){var e,n,i,r;t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns>=0?(n=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(n=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var s=0;return 0!==n&&(s=Math.atan2(e*t.x,e*t.y)),this.sphere?(r=L(this.long0+s/this.ns),i=Jt(this.g-n/this.a),t.x=r,t.y=i,t):(i=Qt(this.g-n/this.a,this.e0,this.e1,this.e2,this.e3),r=L(this.long0+s/this.ns),t.x=r,t.y=i,t)},names:["Equidistant_Conic","eqdc"]},pe={init:function(){this.R=this.a},forward:function(t){var e,n,i=t.y,s=L(t.x-this.long0);Math.abs(i)<=1e-10&&(e=this.x0+this.R*s,n=this.y0);var o=ne(2*Math.abs(i/Math.PI));(Math.abs(s)<=1e-10||Math.abs(Math.abs(i)-r)<=1e-10)&&(e=this.x0,n=i>=0?this.y0+Math.PI*this.R*Math.tan(.5*o):this.y0+Math.PI*this.R*-Math.tan(.5*o));var a=.5*Math.abs(Math.PI/s-s/Math.PI),l=a*a,c=Math.sin(o),h=Math.cos(o),u=h/(c+h-1),d=u*(2/c-1),p=d*d,f=Math.PI*this.R*(a*(u-p)+Math.sqrt(l*(u-p)*(u-p)-(p+l)*(u*u-p)))/(p+l);s<0&&(f=-f),e=this.x0+f;var m=l+u;return f=Math.PI*this.R*(d*m-a*Math.sqrt((p+l)*(l+1)-m*m))/(p+l),n=i>=0?this.y0+f:this.y0-f,t.x=e,t.y=n,t},inverse:function(t){var e,n,i,r,s,o,a,l,c,h,u,d;return t.x-=this.x0,t.y-=this.y0,u=Math.PI*this.R,s=(i=t.x/u)*i+(r=t.y/u)*r,u=3*(r*r/(l=-2*(o=-Math.abs(r)*(1+s))+1+2*r*r+s*s)+(2*(a=o-2*r*r+i*i)*a*a/l/l/l-9*o*a/l/l)/27)/(c=(o-a*a/3/l)/l)/(h=2*Math.sqrt(-c/3)),Math.abs(u)>1&&(u=u>=0?1:-1),d=Math.acos(u)/3,n=t.y>=0?(-h*Math.cos(d+Math.PI/3)-a/3/l)*Math.PI:-(-h*Math.cos(d+Math.PI/3)-a/3/l)*Math.PI,e=Math.abs(i)<1e-10?this.long0:L(this.long0+Math.PI*(s-1+Math.sqrt(1+2*(i*i-r*r)+s*s))/2/i),t.x=e,t.y=n,t},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]},fe={init:function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function(t){var e,n,i,s,o,a,l,c,h,u,d,p,f,m,g,y,_,b,v,S,T,x,w=t.x,E=t.y,C=Math.sin(t.y),M=Math.cos(t.y),O=L(w-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=1e-10?(t.x=this.x0+this.a*(r-E)*Math.sin(O),t.y=this.y0-this.a*(r-E)*Math.cos(O),t):Math.abs(this.sin_p12+1)<=1e-10?(t.x=this.x0+this.a*(r+E)*Math.sin(O),t.y=this.y0+this.a*(r+E)*Math.cos(O),t):(b=this.sin_p12*C+this.cos_p12*M*Math.cos(O),_=(y=Math.acos(b))?y/Math.sin(y):1,t.x=this.x0+this.a*_*M*Math.sin(O),t.y=this.y0+this.a*_*(this.cos_p12*C-this.sin_p12*M*Math.cos(O)),t):(e=qt(this.es),n=Wt(this.es),i=Yt(this.es),s=Kt(this.es),Math.abs(this.sin_p12-1)<=1e-10?(o=this.a*Xt(e,n,i,s,r),a=this.a*Xt(e,n,i,s,E),t.x=this.x0+(o-a)*Math.sin(O),t.y=this.y0-(o-a)*Math.cos(O),t):Math.abs(this.sin_p12+1)<=1e-10?(o=this.a*Xt(e,n,i,s,r),a=this.a*Xt(e,n,i,s,E),t.x=this.x0+(o+a)*Math.sin(O),t.y=this.y0+(o+a)*Math.cos(O),t):(l=C/M,c=Zt(this.a,this.e,this.sin_p12),h=Zt(this.a,this.e,C),u=Math.atan((1-this.es)*l+this.es*c*this.sin_p12/(h*M)),v=0===(d=Math.atan2(Math.sin(O),this.cos_p12*Math.tan(u)-this.sin_p12*Math.cos(O)))?Math.asin(this.cos_p12*Math.sin(u)-this.sin_p12*Math.cos(u)):Math.abs(Math.abs(d)-Math.PI)<=1e-10?-Math.asin(this.cos_p12*Math.sin(u)-this.sin_p12*Math.cos(u)):Math.asin(Math.sin(O)*Math.cos(u)/Math.sin(d)),p=this.e*this.sin_p12/Math.sqrt(1-this.es),f=this.e*this.cos_p12*Math.cos(d)/Math.sqrt(1-this.es),t.x=this.x0+(y=c*v*(1-(S=v*v)*(g=f*f)*(1-g)/6+(T=S*v)/8*(m=p*f)*(1-2*g)+(x=T*v)/120*(g*(4-7*g)-3*p*p*(1-7*g))-x*v/48*m))*Math.sin(d),t.y=this.y0+y*Math.cos(d),t))},inverse:function(t){var e,n,i,s,o,a,l,c,h,u,d,p,f,m,g,y,_,b,v,S,T,x,w;if(t.x-=this.x0,t.y-=this.y0,this.sphere){if((e=Math.sqrt(t.x*t.x+t.y*t.y))>2*r*this.a)return;return n=e/this.a,i=Math.sin(n),s=Math.cos(n),o=this.long0,Math.abs(e)<=1e-10?a=this.lat0:(a=ne(s*this.sin_p12+t.y*i*this.cos_p12/e),l=Math.abs(this.lat0)-r,o=Math.abs(l)<=1e-10?L(this.lat0>=0?this.long0+Math.atan2(t.x,-t.y):this.long0-Math.atan2(-t.x,t.y)):L(this.long0+Math.atan2(t.x*i,e*this.cos_p12*s-t.y*this.sin_p12*i))),t.x=o,t.y=a,t}return c=qt(this.es),h=Wt(this.es),u=Yt(this.es),d=Kt(this.es),Math.abs(this.sin_p12-1)<=1e-10?(p=this.a*Xt(c,h,u,d,r),e=Math.sqrt(t.x*t.x+t.y*t.y),a=Qt((p-e)/this.a,c,h,u,d),o=L(this.long0+Math.atan2(t.x,-1*t.y)),t.x=o,t.y=a,t):Math.abs(this.sin_p12+1)<=1e-10?(p=this.a*Xt(c,h,u,d,r),e=Math.sqrt(t.x*t.x+t.y*t.y),a=Qt((e-p)/this.a,c,h,u,d),o=L(this.long0+Math.atan2(t.x,t.y)),t.x=o,t.y=a,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),g=Math.atan2(t.x,t.y),f=Zt(this.a,this.e,this.sin_p12),y=Math.cos(g),v=3*this.es*(1-(b=-(_=this.e*this.cos_p12*y)*_/(1-this.es)))*this.sin_p12*this.cos_p12*y/(1-this.es),x=1-b*(T=(S=e/f)-b*(1+b)*Math.pow(S,3)/6-v*(1+3*b)*Math.pow(S,4)/24)*T/2-S*T*T*T/6,m=Math.asin(this.sin_p12*Math.cos(T)+this.cos_p12*Math.sin(T)*y),o=L(this.long0+Math.asin(Math.sin(g)*Math.sin(T)/Math.cos(m))),w=Math.sin(m),a=Math.atan2((w-this.es*x*this.sin_p12)*Math.tan(m),w*(1-this.es)),t.x=o,t.y=a,t)},names:["Azimuthal_Equidistant","aeqd"]},me={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function(t){var e,n,i,r,s,o,a,l=t.y;return i=L(t.x-this.long0),e=Math.sin(l),n=Math.cos(l),r=Math.cos(i),((s=this.sin_p14*e+this.cos_p14*n*r)>0||Math.abs(s)<=1e-10)&&(o=1*this.a*n*Math.sin(i),a=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*n*r)),t.x=o,t.y=a,t},inverse:function(t){var e,n,i,s,o,a,l;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),n=ne(e/this.a),i=Math.sin(n),s=Math.cos(n),a=this.long0,Math.abs(e)<=1e-10?(l=this.lat0,t.x=a,t.y=l,t):(l=ne(s*this.sin_p14+t.y*i*this.cos_p14/e),o=Math.abs(this.lat0)-r,Math.abs(o)<=1e-10?(a=L(this.lat0>=0?this.long0+Math.atan2(t.x,-t.y):this.long0-Math.atan2(-t.x,t.y)),t.x=a,t.y=l,t):(a=L(this.long0+Math.atan2(t.x*i,e*this.cos_p14*s-t.y*this.sin_p14*i)),t.x=a,t.y=l,t))},names:["ortho"]};function ge(t,e,n,i){var s;return t<1e-10?(i.value=1,s=0):(s=Math.atan2(e,n),Math.abs(s)<=a?i.value=1:s>a&&s<=r+a?(i.value=2,s-=r):s>r+a||s<=-(r+a)?(i.value=3,s=s>=0?s-c:s+c):(i.value=4,s+=r)),s}function ye(t,e){var n=t+e;return n<-c?n+=l:n>+c&&(n-=l),n}var _e,be={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.face=this.lat0>=r-a/2?5:this.lat0<=-(r-a/2)?6:Math.abs(this.long0)<=a?1:Math.abs(this.long0)<=r+a?this.long0>0?2:4:3,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function(t){var e,n,i,s,o,l,h={x:0,y:0},u={value:0};if(t.x-=this.long0,e=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(t.y)):t.y,n=t.x,5===this.face)s=r-e,n>=a&&n<=r+a?(u.value=1,i=n-r):n>r+a||n<=-(r+a)?(u.value=2,i=n>0?n-c:n+c):n>-(r+a)&&n<=-a?(u.value=3,i=n+r):(u.value=4,i=n);else if(6===this.face)s=r+e,n>=a&&n<=r+a?(u.value=1,i=-n+r):n<a&&n>=-a?(u.value=2,i=-n):n<-a&&n>=-(r+a)?(u.value=3,i=-n-r):(u.value=4,i=n>0?-n+c:-n-c);else{var d,p,f,m,g,y;2===this.face?n=ye(n,+r):3===this.face?n=ye(n,+c):4===this.face&&(n=ye(n,-r)),m=Math.sin(e),g=Math.cos(e),y=Math.sin(n),d=g*Math.cos(n),p=g*y,f=m,1===this.face?i=ge(s=Math.acos(d),f,p,u):2===this.face?i=ge(s=Math.acos(p),f,-d,u):3===this.face?i=ge(s=Math.acos(-d),f,-p,u):4===this.face?i=ge(s=Math.acos(-p),f,d,u):(s=i=0,u.value=1)}return l=Math.atan(12/c*(i+Math.acos(Math.sin(i)*Math.cos(a))-r)),o=Math.sqrt((1-Math.cos(s))/(Math.cos(l)*Math.cos(l))/(1-Math.cos(Math.atan(1/Math.cos(i))))),2===u.value?l+=r:3===u.value?l+=c:4===u.value&&(l+=1.5*c),h.x=o*Math.cos(l),h.y=o*Math.sin(l),h.x=h.x*this.a+this.x0,h.y=h.y*this.a+this.y0,t.x=h.x,t.y=h.y,t},inverse:function(t){var e,n,i,s,o,a,l,h,u,d,p,f,m={lam:0,phi:0},g={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,n=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),e=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?g.value=1:t.y>=0&&t.y>=Math.abs(t.x)?(g.value=2,e-=r):t.x<0&&-t.x>=Math.abs(t.y)?(g.value=3,e=e<0?e+c:e-c):(g.value=4,e+=r),u=c/12*Math.tan(e),o=Math.sin(u)/(Math.cos(u)-1/Math.sqrt(2)),a=Math.atan(o),(l=1-(i=Math.cos(e))*i*(s=Math.tan(n))*s*(1-Math.cos(Math.atan(1/Math.cos(a)))))<-1?l=-1:l>1&&(l=1),5===this.face)h=Math.acos(l),m.phi=r-h,m.lam=1===g.value?a+r:2===g.value?a<0?a+c:a-c:3===g.value?a-r:a;else if(6===this.face)h=Math.acos(l),m.phi=h-r,m.lam=1===g.value?-a+r:2===g.value?-a:3===g.value?-a-r:a<0?-a-c:-a+c;else{var y,_,b;u=(y=l)*y,_=(u+=(b=u>=1?0:Math.sqrt(1-u)*Math.sin(a))*b)>=1?0:Math.sqrt(1-u),2===g.value?(u=_,_=-b,b=u):3===g.value?(_=-_,b=-b):4===g.value&&(u=_,_=b,b=-u),2===this.face?(u=y,y=-_,_=u):3===this.face?(y=-y,_=-_):4===this.face&&(u=y,y=_,_=-u),m.phi=Math.acos(-b)-r,m.lam=Math.atan2(_,y),2===this.face?m.lam=ye(m.lam,-r):3===this.face?m.lam=ye(m.lam,-c):4===this.face&&(m.lam=ye(m.lam,+r))}return 0!==this.es&&(d=m.phi<0?1:0,p=Math.tan(m.phi),f=this.b/Math.sqrt(p*p+this.one_minus_f_squared),m.phi=Math.atan(Math.sqrt(this.a*this.a-f*f)/(this.one_minus_f*f)),d&&(m.phi=-m.phi)),m.lam+=this.long0,t.x=m.lam,t.y=m.phi,t},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]},ve=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],Se=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],Te=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))},xe={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"},forward:function(t){var e=L(t.x-this.long0),n=Math.abs(t.y),i=Math.floor(11.459155902616464*n);i<0?i=0:i>=18&&(i=17);var r={x:Te(ve[i],n=o*(n-.08726646259971647*i))*e,y:Te(Se[i],n)};return t.y<0&&(r.y=-r.y),r.x=r.x*this.a*.8487+this.x0,r.y=r.y*this.a*1.3523+this.y0,r},inverse:function(t){var e={x:(t.x-this.x0)/(.8487*this.a),y:Math.abs(t.y-this.y0)/(1.3523*this.a)};if(e.y>=1)e.x/=ve[18][0],e.y=t.y<0?-r:r;else{var n=Math.floor(18*e.y);for(n<0?n=0:n>=18&&(n=17);;)if(Se[n][0]>e.y)--n;else{if(!(Se[n+1][0]<=e.y))break;++n}var i=Se[n],o=5*(e.y-i[0])/(Se[n+1][0]-i[0]);o=function(t,e,n,i){for(var r=e;i;--i){var s=t(r);if(r-=s,Math.abs(s)<1e-10)break}return r}(function(t){return(Te(i,t)-e.y)/function(t,e){return t[1]+e*(2*t[2]+3*e*t[3])}(i,t)},o,0,100),e.x/=Te(ve[n],o),e.y=(5*n+o)*s,t.y<0&&(e.y=-e.y)}return e.x=L(e.x+this.long0),e},names:["Robinson","robin"]},we={init:function(){this.name="geocent"},forward:function(t){return $(t,this.es,this.a)},inverse:function(t){return tt(t,this.es,this.a,this.b)},names:["Geocentric","geocentric","geocent","Geocent"]},Ee={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}},Ce={init:function(){if(Object.keys(Ee).forEach((function(t){if(void 0===this[t])this[t]=Ee[t].def;else{if(Ee[t].num&&isNaN(this[t]))throw new Error("Invalid parameter value, must be numeric "+t+" = "+this[t]);Ee[t].num&&(this[t]=parseFloat(this[t]))}Ee[t].degrees&&(this[t]=this[t]*s)}).bind(this)),Math.abs(Math.abs(this.lat0)-r)<1e-10?this.mode=this.lat0<0?1:0:Math.abs(this.lat0)<1e-10?this.mode=2:(this.mode=3,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var t=this.tilt,e=this.azi;this.cg=Math.cos(e),this.sg=Math.sin(e),this.cw=Math.cos(t),this.sw=Math.sin(t)},forward:function(t){t.x-=this.long0;var e,n,i,r,s=Math.sin(t.y),o=Math.cos(t.y),a=Math.cos(t.x);switch(this.mode){case 3:n=this.sinph0*s+this.cosph0*o*a;break;case 2:n=o*a;break;case 1:n=-s;break;case 0:n=s}switch(e=(n=this.pn1/(this.p-n))*o*Math.sin(t.x),this.mode){case 3:n*=this.cosph0*s-this.sinph0*o*a;break;case 2:n*=s;break;case 0:n*=-o*a;break;case 1:n*=o*a}return e=(e*this.cg-n*this.sg)*this.cw*(r=1/((i=n*this.cg+e*this.sg)*this.sw*this.h1+this.cw)),n=i*r,t.x=e*this.a,t.y=n*this.a,t},inverse:function(t){t.x/=this.a,t.y/=this.a;var e,n,i,r={x:t.x,y:t.y};t.x=(e=this.pn1*t.x*(i=1/(this.pn1-t.y*this.sw)))*this.cg+(n=this.pn1*t.y*this.cw*i)*this.sg,t.y=n*this.cg-e*this.sg;var s=Lt(t.x,t.y);if(Math.abs(s)<1e-10)r.x=0,r.y=t.y;else{var o,a;switch(a=1-s*s*this.pfact,a=(this.p-Math.sqrt(a))/(this.pn1/s+s/this.pn1),o=Math.sqrt(1-a*a),this.mode){case 3:r.y=Math.asin(o*this.sinph0+t.y*a*this.cosph0/s),t.y=(o-this.sinph0*Math.sin(r.y))*s,t.x*=a*this.cosph0;break;case 2:r.y=Math.asin(t.y*a/s),t.y=o*s,t.x*=a;break;case 0:r.y=Math.asin(o),t.y=-t.y;break;case 1:r.y=-Math.asin(o)}r.x=Math.atan2(t.x,t.y)}return t.x=r.x+this.long0,t.y=r.y,t},names:["Tilted_Perspective","tpers"]};dt.defaultDatum="WGS84",dt.Proj=Q,dt.WGS84=new dt.Proj("WGS84"),dt.Point=Et,dt.toPoint=ot,dt.defs=C,dt.nadgrid=function(t,e){var n=new DataView(e),i=function(t){var e=t.getInt32(8,!1);return 11!==e&&(11!==(e=t.getInt32(8,!0))&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}(n),r=function(t,e){return{nFields:t.getInt32(8,e),nSubgridFields:t.getInt32(24,e),nSubgrids:t.getInt32(40,e),shiftType:W(t,56,64).trim(),fromSemiMajorAxis:t.getFloat64(120,e),fromSemiMinorAxis:t.getFloat64(136,e),toSemiMajorAxis:t.getFloat64(152,e),toSemiMinorAxis:t.getFloat64(168,e)}}(n,i);r.nSubgrids>1&&console.log("Only single NTv2 subgrids are currently supported, subsequent sub grids are ignored");var s={header:r,subgrids:function(t,e,n){for(var i=[],r=0;r<e.nSubgrids;r++){var s=K(t,176,n),o=Z(t,176,s,n),a=Math.round(1+(s.upperLongitude-s.lowerLongitude)/s.longitudeInterval),l=Math.round(1+(s.upperLatitude-s.lowerLatitude)/s.latitudeInterval);i.push({ll:[q(s.lowerLongitude),q(s.lowerLatitude)],del:[q(s.longitudeInterval),q(s.latitudeInterval)],lim:[a,l],count:s.gridNodeCount,cvs:Y(o)})}return i}(n,r,i)};return H[t]=s,s},dt.transform=lt,dt.mgrs=mt,dt.version="__VERSION__",(_e=dt).Proj.projections.add(It),_e.Proj.projections.add(Nt),_e.Proj.projections.add(jt),_e.Proj.projections.add(Ut),_e.Proj.projections.add(Gt),_e.Proj.projections.add(Vt),_e.Proj.projections.add(Bt),_e.Proj.projections.add(zt),_e.Proj.projections.add(Ht),_e.Proj.projections.add($t),_e.Proj.projections.add(ee),_e.Proj.projections.add(ie),_e.Proj.projections.add(re),_e.Proj.projections.add(se),_e.Proj.projections.add(oe),_e.Proj.projections.add(ae),_e.Proj.projections.add(le),_e.Proj.projections.add(ce),_e.Proj.projections.add(he),_e.Proj.projections.add(ue),_e.Proj.projections.add(de),_e.Proj.projections.add(pe),_e.Proj.projections.add(fe),_e.Proj.projections.add(me),_e.Proj.projections.add(be),_e.Proj.projections.add(xe),_e.Proj.projections.add(we),_e.Proj.projections.add(Ce),e.a=dt},pLZG:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("7o/Q");function r(t,e){return function(n){return n.lift(new s(t,e))}}class s{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.predicate,this.thisArg))}}class o extends i.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}},pzRH:function(t,e,n){"use strict";e.a={PROPERTYCHANGE:"propertychange"}},qKzT:function(t,e,n){"use strict";var i=n("bwl8"),r=n("rCez"),s=n("ljNT"),o=n("9CgO"),a=n("DsyP"),l=n("Gp2b"),c=class extends l.a{constructor(t,e,n){super(t),this.map=e,this.frameState=void 0!==n?n:null}},h=class extends c{constructor(t,e,n,i,r){super(t,e,r),this.originalEvent=n,this.pixel_=null,this.coordinate_=null,this.dragging=void 0!==i&&i}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(t){this.pixel_=t}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(t){this.coordinate_=t}preventDefault(){super.preventDefault(),this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),this.originalEvent.stopPropagation()}},u=n("RGpb"),d=n("gjiK"),p=n("avWC"),f=n("FRHD"),m=n("FHfp"),g=class extends u.a{constructor(t,e){super(t),this.map_=t,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=e?e*f.a:f.a,this.down_=null;const n=this.map_.getViewport();this.activePointers_=0,this.trackedTouches_={},this.element_=n,this.pointerdownListenerKey_=Object(m.a)(n,p.a.POINTERDOWN,this.handlePointerDown_,this),this.relayedListenerKey_=Object(m.a)(n,p.a.POINTERMOVE,this.relayEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(o.a.TOUCHMOVE,this.boundHandleTouchMove_,!!f.e&&{passive:!1})}emulateClick_(t){let e=new h(d.a.CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new h(d.a.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout((function(){this.clickTimeoutId_=void 0;const e=new h(d.a.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}).bind(this),250)}updateActivePointers_(t){const e=t;e.type==d.a.POINTERUP||e.type==d.a.POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==d.a.POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length}handlePointerUp_(t){this.updateActivePointers_(t);const e=new h(d.a.POINTERUP,this.map_,t);this.dispatchEvent(e),this.emulateClicks_&&!e.propagationStopped&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(m.c),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(t){return 0===t.button}handlePointerDown_(t){this.emulateClicks_=0===this.activePointers_,this.updateActivePointers_(t);const e=new h(d.a.POINTERDOWN,this.map_,t);if(this.dispatchEvent(e),this.down_=t,0===this.dragListenerKeys_.length){const t=this.map_.getOwnerDocument();this.dragListenerKeys_.push(Object(m.a)(t,d.a.POINTERMOVE,this.handlePointerMove_,this),Object(m.a)(t,d.a.POINTERUP,this.handlePointerUp_,this),Object(m.a)(this.element_,d.a.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==t&&this.dragListenerKeys_.push(Object(m.a)(this.element_.getRootNode(),d.a.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(t){if(this.isMoving_(t)){this.dragging_=!0;const e=new h(d.a.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}}relayEvent_(t){this.originalPointerMoveEvent_=t;const e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new h(t.type,this.map_,t,e))}handleTouchMove_(t){this.originalPointerMoveEvent_&&!this.originalPointerMoveEvent_.defaultPrevented||t.preventDefault()}isMoving_(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(Object(m.c)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(o.a.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Object(m.c)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(m.c),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}},y=n("bTHf"),_=n("VJnl"),b=n("pzRH"),v=n("RuG3"),S=n("i3ci"),T=n("Bpkx");const x=1/0;var w=n("0Fwh"),E=n("ci6y"),C=n("ogOc"),M=n("6Xq6"),O=n("n2w5"),A=n("hKKC"),I=n("Znq9"),R=n("dvVV"),L=n("Cw4B");e.a=class extends i.a{constructor(t){super();const e=function(t){let e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);const n={},i=t.layers&&"function"==typeof t.layers.getLayers?t.layers:new a.a({layers:t.layers});let s,o,l;return n[_.a.LAYERGROUP]=i,n[_.a.TARGET]=t.target,n[_.a.VIEW]=void 0!==t.view?t.view:new E.a,void 0!==t.controls&&(Array.isArray(t.controls)?s=new r.a(t.controls.slice()):(Object(S.a)("function"==typeof t.controls.getArray,47),s=t.controls)),void 0!==t.interactions&&(Array.isArray(t.interactions)?o=new r.a(t.interactions.slice()):(Object(S.a)("function"==typeof t.interactions.getArray,48),o=t.interactions)),void 0!==t.overlays?Array.isArray(t.overlays)?l=new r.a(t.overlays.slice()):(Object(S.a)("function"==typeof t.overlays.getArray,49),l=t.overlays):l=new r.a,{controls:s,interactions:o,keyboardEventTarget:e,overlays:l,values:n}}(t);this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=void 0!==t.maxTilesLoading?t.maxTilesLoading:16,this.pixelRatio_=void 0!==t.pixelRatio?t.pixelRatio:f.a,this.animationDelay_=(function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}).bind(this),this.coordinateToPixelTransform_=Object(O.c)(),this.pixelToCoordinateTransform_=Object(O.c)(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=t.moveTolerance,this.keyboardEventTarget_=e.keyboardEventTarget,this.keyHandlerKeys_=null,this.controls=e.controls||new r.a,this.interactions=e.interactions||new r.a,this.overlays_=e.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new class extends class{constructor(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,Object(T.b)(this.queuedElements_)}dequeue(){const t=this.elements_,e=this.priorities_,n=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));const i=this.keyFunction_(n);return delete this.queuedElements_[i],n}enqueue(t){Object(S.a)(!(this.keyFunction_(t)in this.queuedElements_),31);const e=this.priorityFunction_(t);return e!=x&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)}getCount(){return this.elements_.length}getLeftChildIndex_(t){return 2*t+1}getRightChildIndex_(t){return 2*t+2}getParentIndex_(t){return t-1>>1}heapify_(){let t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)}isEmpty(){return 0===this.elements_.length}isKeyQueued(t){return t in this.queuedElements_}isQueued(t){return this.isKeyQueued(this.keyFunction_(t))}siftUp_(t){const e=this.elements_,n=this.priorities_,i=e.length,r=e[t],s=n[t],o=t;for(;t<i>>1;){const r=this.getLeftChildIndex_(t),s=this.getRightChildIndex_(t),o=s<i&&n[s]<n[r]?s:r;e[t]=e[o],n[t]=n[o],t=o}e[t]=r,n[t]=s,this.siftDown_(o,t)}siftDown_(t,e){const n=this.elements_,i=this.priorities_,r=n[e],s=i[e];for(;e>t;){const t=this.getParentIndex_(e);if(!(i[t]>s))break;n[e]=n[t],i[e]=i[t],e=t}n[e]=r,i[e]=s}reprioritize(){const t=this.priorityFunction_,e=this.elements_,n=this.priorities_;let i=0;const r=e.length;let s,o,a;for(o=0;o<r;++o)s=e[o],a=t(s),a==x?delete this.queuedElements_[this.keyFunction_(s)]:(n[i]=a,e[i++]=s);e.length=i,n.length=i,this.heapify_()}}{constructor(t,e){super(function(e){return t.apply(null,e)},function(t){return t[0].getKey()}),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=e,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(t){const e=super.enqueue(t);return e&&t[0].addEventListener(o.a.CHANGE,this.boundHandleTileChange_),e}getTilesLoading(){return this.tilesLoading_}handleTileChange(t){const e=t.target,n=e.getState();if(e.hifi&&n===w.a.LOADED||n===w.a.ERROR||n===w.a.EMPTY){e.removeEventListener(o.a.CHANGE,this.boundHandleTileChange_);const t=e.getKey();t in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[t],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(t,e){let n,i,r,s=0;for(;this.tilesLoading_<t&&s<e&&this.getCount()>0;)i=this.dequeue()[0],r=i.getKey(),n=i.getState(),n!==w.a.IDLE||r in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[r]=!0,++this.tilesLoading_,++s,i.load())}}(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addEventListener(Object(i.b)(_.a.LAYERGROUP),this.handleLayerGroupChanged_),this.addEventListener(Object(i.b)(_.a.VIEW),this.handleViewChanged_),this.addEventListener(Object(i.b)(_.a.SIZE),this.handleSizeChanged_),this.addEventListener(Object(i.b)(_.a.TARGET),this.handleTargetChanged_),this.setProperties(e.values),this.controls.forEach((function(t){t.setMap(this)}).bind(this)),this.controls.addEventListener(s.a.ADD,(function(t){t.element.setMap(this)}).bind(this)),this.controls.addEventListener(s.a.REMOVE,(function(t){t.element.setMap(null)}).bind(this)),this.interactions.forEach((function(t){t.setMap(this)}).bind(this)),this.interactions.addEventListener(s.a.ADD,(function(t){t.element.setMap(this)}).bind(this)),this.interactions.addEventListener(s.a.REMOVE,(function(t){t.element.setMap(null)}).bind(this)),this.overlays_.forEach(this.addOverlayInternal_.bind(this)),this.overlays_.addEventListener(s.a.ADD,(function(t){this.addOverlayInternal_(t.element)}).bind(this)),this.overlays_.addEventListener(s.a.REMOVE,(function(t){const e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)}).bind(this))}createRenderer(){throw new Error("Use a map type that has a createRenderer method")}addControl(t){this.getControls().push(t)}addInteraction(t){this.getInteractions().push(t)}addLayer(t){this.getLayerGroup().getLayers().push(t)}addOverlay(t){this.getOverlays().push(t)}addOverlayInternal_(t){const e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)}disposeInternal(){this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(t,e,n){if(!this.frameState_)return;const i=this.getCoordinateFromPixelInternal(t);return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance:0,!1!==n.checkWrapped,e,null,void 0!==n.layerFilter?n.layerFilter:M.b,null)}getFeaturesAtPixel(t,e){const n=[];return this.forEachFeatureAtPixel(t,function(t){n.push(t)},e),n}forEachLayerAtPixel(t,e,n){if(!this.frameState_)return;const i=n||{};return this.renderer_.forEachLayerAtPixel(t,this.frameState_,void 0!==i.hitTolerance?i.hitTolerance:0,e,i.layerFilter||M.b)}hasFeatureAtPixel(t,e){if(!this.frameState_)return!1;const n=this.getCoordinateFromPixelInternal(t);return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,void 0!==(e=void 0!==e?e:{}).hitTolerance?e.hitTolerance:0,!1!==e.checkWrapped,void 0!==e.layerFilter?e.layerFilter:M.b,null)}getEventCoordinate(t){return this.getCoordinateFromPixel(this.getEventPixel(t))}getEventCoordinateInternal(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))}getEventPixel(t){const e=this.viewport_.getBoundingClientRect(),n="changedTouches"in t?t.changedTouches[0]:t;return[n.clientX-e.left,n.clientY-e.top]}getTarget(){return this.get(_.a.TARGET)}getTargetElement(){const t=this.getTarget();return void 0!==t?"string"==typeof t?document.getElementById(t):t:null}getCoordinateFromPixel(t){return Object(I.o)(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())}getCoordinateFromPixelInternal(t){const e=this.frameState_;return e?Object(O.a)(e.pixelToCoordinateTransform,t.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(t){const e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(_.a.LAYERGROUP)}getLayers(){return this.getLayerGroup().getLayers()}getLoading(){const t=this.getLayerGroup().getLayerStatesArray();for(let e=0,n=t.length;e<n;++e){const n=t[e].layer.getSource();if(n&&n.loading)return!0}return!1}getPixelFromCoordinate(t){const e=Object(I.g)(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(e)}getPixelFromCoordinateInternal(t){const e=this.frameState_;return e?Object(O.a)(e.coordinateToPixelTransform,t.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(_.a.SIZE)}getView(){return this.get(_.a.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){return this.getTargetElement()?this.getTargetElement().ownerDocument:document}getTilePriority(t,e,n,i){return function(t,e,n,i,r){if(!t||!(n in t.wantedTiles))return x;if(!t.wantedTiles[n][e.getKey()])return x;const s=t.viewState.center,o=i[0]-s[0],a=i[1]-s[1];return 65536*Math.log(r)+Math.sqrt(o*o+a*a)/r}(this.frameState_,t,e,n,i)}handleBrowserEvent(t,e){const n=new h(e||t.type,this,t);this.handleMapBrowserEvent(n)}handleMapBrowserEvent(t){if(!this.frameState_)return;const e=t.originalEvent,n=e.type;if(n===p.a.POINTERDOWN||n===o.a.WHEEL||n===o.a.KEYDOWN){const t=this.getOwnerDocument(),n=this.viewport_.getRootNode?this.viewport_.getRootNode():t,i="host"in n?n.elementFromPoint(e.clientX,e.clientY):e.target;if(this.overlayContainerStopEvent_.contains(i)||!(n===t?t.documentElement:n).contains(i))return}if(t.frameState=this.frameState_,!1!==this.dispatchEvent(t)){const e=this.getInteractions().getArray().slice();for(let n=e.length-1;n>=0;n--){const i=e[n];if(i.getMap()===this&&i.getActive()&&this.getTargetElement()&&(!i.handleEvent(t)||t.propagationStopped))break}}}handlePostRender(){const t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){let n=this.maxTilesLoading_,i=n;if(t){const e=t.viewHints;if(e[C.a.ANIMATING]||e[C.a.INTERACTING]){const e=!f.c&&Date.now()-t.time>8;n=e?0:8,i=e?0:2}}e.getTilesLoading()<n&&(e.reprioritize(),e.loadMoreTiles(n,i))}!t||!this.hasListener(v.a.RENDERCOMPLETE)||t.animate||this.tileQueue_.getTilesLoading()||this.getLoading()||this.renderer_.dispatchRenderEvent(v.a.RENDERCOMPLETE,t);const n=this.postRenderFunctions_;for(let i=0,r=n.length;i<r;++i)n[i](this,t);n.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){let t;if(this.getTarget()&&(t=this.getTargetElement()),this.mapBrowserEventHandler_){for(let t=0,e=this.keyHandlerKeys_.length;t<e;++t)Object(m.c)(this.keyHandlerKeys_[t]);this.keyHandlerKeys_=null,this.viewport_.removeEventListener(o.a.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(o.a.WHEEL,this.boundHandleBrowserEvent_),void 0!==this.handleResize_&&(removeEventListener(o.a.RESIZE,this.handleResize_,!1),this.handleResize_=void 0),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,Object(L.e)(this.viewport_)}if(t){t.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new g(this,this.moveTolerance_);for(const t in d.a)this.mapBrowserEventHandler_.addEventListener(d.a[t],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(o.a.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(o.a.WHEEL,this.boundHandleBrowserEvent_,!!f.e&&{passive:!1});const e=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.keyHandlerKeys_=[Object(m.a)(e,o.a.KEYDOWN,this.handleBrowserEvent,this),Object(m.a)(e,o.a.KEYPRESS,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener(o.a.RESIZE,this.handleResize_,!1))}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(Object(m.c)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Object(m.c)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const t=this.getView();t&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=Object(m.a)(t,b.a.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Object(m.a)(t,o.a.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(m.c),this.layerGroupPropertyListenerKeys_=null);const t=this.getLayerGroup();t&&(this.layerGroupPropertyListenerKeys_=[Object(m.a)(t,b.a.PROPERTYCHANGE,this.render,this),Object(m.a)(t,o.a.CHANGE,this.render,this)]),this.render()}isRendered(){return!!this.frameState_}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const t=this.getLayerGroup().getLayerStatesArray();for(let e=0,n=t.length;e<n;++e){const n=t[e].layer;n.hasRenderer()&&n.getRenderer().handleFontsChanged()}}render(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(t){return this.getControls().remove(t)}removeInteraction(t){return this.getInteractions().remove(t)}removeLayer(t){return this.getLayerGroup().getLayers().remove(t)}removeOverlay(t){return this.getOverlays().remove(t)}renderFrame_(t){const e=this.getSize(),n=this.getView(),i=this.frameState_;let r=null;if(void 0!==e&&Object(R.b)(e)&&n&&n.isDef()){const i=n.getHints(this.frameState_?this.frameState_.viewHints:void 0),s=n.getState();r={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:Object(A.A)(s.center,s.resolution,s.rotation,e),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:e,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:s,viewHints:i,wantedTiles:{}}}this.frameState_=r,this.renderer_.renderFrame(r),r&&(r.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,r.postRenderFunctions),i&&(!this.previousExtent_||!Object(A.I)(this.previousExtent_)&&!Object(A.q)(r.extent,this.previousExtent_))&&(this.dispatchEvent(new c(y.a.MOVESTART,this,i)),this.previousExtent_=Object(A.m)(this.previousExtent_)),this.previousExtent_&&!r.viewHints[C.a.ANIMATING]&&!r.viewHints[C.a.INTERACTING]&&!Object(A.q)(r.extent,this.previousExtent_)&&(this.dispatchEvent(new c(y.a.MOVEEND,this,r)),Object(A.e)(r.extent,this.previousExtent_))),this.dispatchEvent(new c(y.a.POSTRENDER,this,r)),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(t){this.set(_.a.LAYERGROUP,t)}setSize(t){this.set(_.a.SIZE,t)}setTarget(t){this.set(_.a.TARGET,t)}setView(t){this.set(_.a.VIEW,t)}updateSize(){const t=this.getTargetElement();if(t){const e=getComputedStyle(t);this.setSize([t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.setSize(void 0);this.updateViewportSize_()}updateViewportSize_(){const t=this.getView();if(t){let e;const n=getComputedStyle(this.viewport_);n.width&&n.height&&(e=[parseInt(n.width,10),parseInt(n.height,10)]),t.setViewportSize(e)}}}},qsxt:function(t,e,n){"use strict";var i=n("9CgO"),r=n("XWL2"),s=n("0Fwh"),o=class extends r.a{constructor(t,e,n,i,r,s){super(t,e,s),this.extent=null,this.format_=i,this.features_=null,this.projection=null,this.tileLoadFunction_=r,this.url_=n,this.key=n}getFormat(){return this.format_}getFeatures(){return this.features_}load(){this.state==s.a.IDLE&&(this.setState(s.a.LOADING),this.tileLoadFunction_(this,this.url_),this.loader_&&this.loader_(this.extent,this.resolution,this.projection))}onLoad(t,e){this.setFeatures(t)}onError(){this.setState(s.a.ERROR)}setFeatures(t){this.features_=t,this.setState(s.a.LOADED)}setLoader(t){this.loader_=t}},a=n("42kC"),l=n("9AA0"),c=n("Cw4B"),h=n("2I+J");const u=[];var d=class extends r.a{constructor(t,e,n,i){super(t,e,{transition:0}),this.context_={},this.executorGroups={},this.declutterExecutorGroups={},this.loadingSourceTiles=0,this.errorSourceTileKeys={},this.hitDetectionImageData={},this.replayState_={},this.sourceTiles=null,this.getSourceTiles=i.bind(void 0,this),this.sourceZ=-1,this.hifi=!1,this.wrappedTileCoord=n}getContext(t){const e=Object(h.c)(t);return e in this.context_||(this.context_[e]=Object(c.a)(1,1,u)),this.context_[e]}hasContext(t){return Object(h.c)(t)in this.context_}getImage(t){return this.hasContext(t)?this.getContext(t).canvas:null}getReplayState(t){const e=Object(h.c)(t);return e in this.replayState_||(this.replayState_[e]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedZ:-1,renderedTileZ:-1}),this.replayState_[e]}load(){this.getSourceTiles()}release(){for(const t in this.context_)u.push(this.context_[t].canvas),delete this.context_[t];super.release()}},p=n("hKKC"),f=n("r0tu"),m=n("oWEL"),g=n("UMcu"),y=n("k51M"),_=n("dvVV");function b(t,e){t.setLoader(function(n,i,r){Object(y.a)(e,t.getFormat(),n,i,r,t.onLoad.bind(t),t.onError.bind(t))})}e.a=class extends l.a{constructor(t){const e=t.projection||"EPSG:3857",n=t.extent||Object(f.c)(e),i=t.tileGrid||Object(f.b)({extent:n,maxResolution:t.maxResolution,maxZoom:void 0!==t.maxZoom?t.maxZoom:22,minZoom:t.minZoom,tileSize:t.tileSize||512});super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,cacheSize:t.cacheSize,opaque:!1,projection:e,state:t.state,tileGrid:i,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:b,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition,zDirection:void 0===t.zDirection?1:t.zDirection}),this.format_=t.format?t.format:null,this.loadingTiles_={},this.sourceTileCache=new a.a(this.tileCache.highWaterMark),this.overlaps_=null==t.overlaps||t.overlaps,this.tileClass=t.tileClass?t.tileClass:o,this.tileGrids_={}}getFeaturesInExtent(t){const e=[],n=this.tileCache;if(0===n.getCount())return e;const i=Object(g.b)(n.peekFirstKey())[0],r=this.tileGrid;return n.forEach(function(n){if(n.tileCoord[0]!==i||n.getState()!==s.a.LOADED)return;const o=n.getSourceTiles();for(let i=0,s=o.length;i<s;++i){const n=o[i],s=n.tileCoord;if(Object(p.G)(t,r.getTileCoordExtent(s))){const i=n.getFeatures();if(i)for(let n=0,r=i.length;n<r;++n){const r=i[n],s=r.getGeometry();Object(p.G)(t,s.getExtent())&&e.push(r)}}}}),e}getOverlaps(){return this.overlaps_}clear(){this.tileCache.clear(),this.sourceTileCache.clear()}expireCache(t,e){super.expireCache(t,e),this.sourceTileCache.expireCache({})}getSourceTiles(t,e,n){const r=n.wrappedTileCoord,o=this.getTileGridForProjection(e),a=o.getTileCoordExtent(r),l=o.getResolution(r[0]);Object(p.d)(a,-l,a);const c=this.tileGrid,h=c.getExtent();h&&Object(p.C)(a,h,a);const u=c.getZForResolution(l,1),d=c.getMinZoom(),f=n.sourceTiles;let g,y,_;if(f&&f.length>0&&f[0].tileCoord[0]===u)g=f,y=!0,_=u;else{g=[],_=u+1;do{--_,y=!0,c.forEachTileCoord(a,_,(function(r){const o=this.tileUrlFunction(r,t,e);let a;if(void 0!==o)if(this.sourceTileCache.containsKey(o)){a=this.sourceTileCache.get(o);const t=a.getState();if(t===s.a.LOADED||t===s.a.ERROR||t===s.a.EMPTY)return void g.push(a)}else _===u&&(a=new this.tileClass(r,s.a.IDLE,o,this.format_,this.tileLoadFunction),a.extent=c.getTileCoordExtent(r),a.projection=e,a.resolution=c.getResolution(r[0]),this.sourceTileCache.set(o,a),a.addEventListener(i.a.CHANGE,this.handleTileChange.bind(this)),a.load());y=y&&a&&a.getState()===s.a.LOADED,a&&a.getState()!==s.a.EMPTY&&n.getState()===s.a.IDLE&&(n.loadingSourceTiles++,a.addEventListener(i.a.CHANGE,function t(){const e=a.getState(),r=a.getKey();if(e===s.a.LOADED||e===s.a.ERROR){e===s.a.LOADED?(a.removeEventListener(i.a.CHANGE,t),n.loadingSourceTiles--,delete n.errorSourceTileKeys[r]):e===s.a.ERROR&&(n.errorSourceTileKeys[r]=!0);const o=Object.keys(n.errorSourceTileKeys).length;n.loadingSourceTiles-o==0&&(n.hifi=0===o,n.sourceZ=u,n.setState(s.a.LOADED))}}))}).bind(this)),y||(g.length=0)}while(!y&&_>d)}return n.getState()===s.a.IDLE&&n.setState(s.a.LOADING),y&&(n.hifi=u===_,n.sourceZ=_,n.getState()<s.a.LOADED?n.setState(s.a.LOADED):f&&Object(m.b)(g,f)||(n.sourceTiles=g)),g}getTile(t,e,n,i,r){const o=Object(g.d)(t,e,n),a=this.getKey();let l;if(this.tileCache.containsKey(o)&&(l=this.tileCache.get(o),l.key===a))return l;const c=[t,e,n];let h=this.getTileCoordForTileUrlFunction(c,r);const u=this.getTileGrid().getExtent(),f=this.getTileGridForProjection(r);if(h&&u){const e=f.getTileCoordExtent(h);Object(p.d)(e,-f.getResolution(t),e),Object(p.G)(u,e)||(h=null)}let m=!0;if(null!==h){const e=this.tileGrid,n=f.getResolution(t),s=e.getZForResolution(n,1),o=f.getTileCoordExtent(h);Object(p.d)(o,-n,o),e.forEachTileCoord(o,s,(function(t){m=m&&!this.tileUrlFunction(t,i,r)}).bind(this))}const y=new d(c,m?s.a.EMPTY:s.a.IDLE,h,this.getSourceTiles.bind(this,i,r));return y.key=a,l?(y.interimTile=l,y.refreshInterimChain(),this.tileCache.replace(o,y)):this.tileCache.set(o,y),y}getTileGridForProjection(t){const e=t.getCode();let n=this.tileGrids_[e];if(!n){const i=this.tileGrid;n=Object(f.a)(t,void 0,i?i.getTileSize(i.getMinZoom()):void 0),this.tileGrids_[e]=n}return n}getTilePixelRatio(t){return t}getTilePixelSize(t,e,n){const i=this.getTileGridForProjection(n),r=Object(_.d)(i.getTileSize(t),this.tmpSize);return[Math.round(r[0]*e),Math.round(r[1]*e)]}updateCacheSize(t,e){super.updateCacheSize(2*t,e)}}},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("DH7j"),r=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:h}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(u){e=u instanceof o?l(u.errors):[u]}}if(Object(i.a)(h)){let t=-1,n=h.length;for(;++t<n;){const n=h[t];if(Object(r.a)(n))try{n.unsubscribe()}catch(u){e=e||[],u instanceof o?e=e.concat(l(u.errors)):e.push(u)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:i}=n;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[n]:r.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function l(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},r0tu:function(t,e,n){"use strict";n.d(e,"d",function(){return h}),n.d(e,"e",function(){return u}),n.d(e,"b",function(){return d}),n.d(e,"a",function(){return f}),n.d(e,"c",function(){return m});var i=n("iSA6"),r=n("Fnjr"),s=n("G7/A"),o=n("1rej"),a=n("Znq9"),l=n("hKKC"),c=n("dvVV");function h(t){let e=t.getDefaultTileGrid();return e||(e=f(t),t.setDefaultTileGrid(e)),e}function u(t,e,n){const i=e[0],r=t.getTileCoordCenter(e),s=m(n);if(Object(l.g)(s,r))return e;{const e=Object(l.F)(s),n=Math.ceil((s[0]-r[0])/e);return r[0]+=e*n,t.getTileCoordForCoordAndZ(r,i)}}function d(t){const e=t||{},n=e.extent||Object(a.i)("EPSG:3857").getExtent(),i={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:p(n,e.maxZoom,e.tileSize,e.maxResolution)};return new r.a(i)}function p(t,e,n,i){const r=void 0!==e?e:o.a,s=Object(l.B)(t),a=Object(l.F)(t),h=Object(c.d)(void 0!==n?n:o.b),u=i>0?i:Math.max(a/h[0],s/h[1]),d=r+1,p=new Array(d);for(let o=0;o<d;++o)p[o]=u/Math.pow(2,o);return p}function f(t,e,n,s){return function(t,e,n,s){const o=void 0!==s?s:i.a.TOP_LEFT,a=p(t,e,n);return new r.a({extent:t,origin:Object(l.z)(t,o),resolutions:a,tileSize:n})}(m(t),e,n,s)}function m(t){let e=(t=Object(a.i)(t)).getExtent();if(!e){const n=180*s.a[s.b.DEGREES]/t.getMetersPerUnit();e=Object(l.l)(-n,-n,n,n)}return e}},r8II:function(t,e,n){"use strict";e.decode=e.parse=n("YcCt"),e.encode=e.stringify=n("6MUB")},rA9B:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return l}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return h}),n.d(e,"g",function(){return u}),n.d(e,"h",function(){return d}),n.d(e,"d",function(){return p});var i=n("hKKC"),r=n("LV+m"),s=n("j5yL");function o(t,e){return t[0]+=+e[0],t[1]+=+e[1],t}function a(t,e,n){const i=Object(r.e)(e+180,360)-180,o=Math.abs(3600*i),a=n||0,l=Math.pow(10,a);let c=Math.floor(o/3600),h=Math.floor((o-3600*c)/60),u=o-3600*c-60*h;return u=Math.ceil(u*l)/l,u>=60&&(u=0,h+=1),h>=60&&(h=0,c+=1),c+"\xb0 "+Object(s.b)(h,2)+"\u2032 "+Object(s.b)(u,2,a)+"\u2033"+(0==i?"":" "+t.charAt(i<0?1:0))}function l(t,e){let n=!0;for(let i=t.length-1;i>=0;--i)if(t[i]!=e[i]){n=!1;break}return n}function c(t,e){const n=Math.cos(e),i=Math.sin(e),r=t[1]*n+t[0]*i;return t[0]=t[0]*n-t[1]*i,t[1]=r,t}function h(t,e){return t[0]*=e,t[1]*=e,t}function u(t,e){return function(t,e,n){return t?"{x}, {y}".replace("{x}",t[0].toFixed(n)).replace("{y}",t[1].toFixed(n)):""}(t,0,e)}function d(t,e){if(e.canWrapX()){const n=Object(i.F)(e.getExtent()),r=p(t,e,n);r&&(t[0]-=r*n)}return t}function p(t,e,n){const r=e.getExtent();let s=0;if(e.canWrapX()&&(t[0]<r[0]||t[0]>r[2])){const e=n||Object(i.F)(r);s=Math.floor((t[0]-r[0])/e)}return s}},rCez:function(t,e,n){"use strict";var i=n("v7Mh"),r=n("bwl8"),s=n("ljNT"),o=n("Gp2b");class a extends o.a{constructor(t,e,n){super(t),this.element=e,this.index=n}}e.a=class extends r.a{constructor(t,e){if(super(),this.unique_=!!(e||{}).unique,this.array_=t||[],this.unique_)for(let n=0,i=this.array_.length;n<i;++n)this.assertUnique_(this.array_[n],n);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(t){for(let e=0,n=t.length;e<n;++e)this.push(t[e]);return this}forEach(t){const e=this.array_;for(let n=0,i=e.length;n<i;++n)t(e[n],n,e)}getArray(){return this.array_}item(t){return this.array_[t]}getLength(){return this.get("length")}insertAt(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new a(s.a.ADD,e,t))}pop(){return this.removeAt(this.getLength()-1)}push(t){this.unique_&&this.assertUnique_(t);const e=this.getLength();return this.insertAt(e,t),this.getLength()}remove(t){const e=this.array_;for(let n=0,i=e.length;n<i;++n)if(e[n]===t)return this.removeAt(n)}removeAt(t){const e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new a(s.a.REMOVE,e,t)),e}setAt(t,e){const n=this.getLength();if(t<n){this.unique_&&this.assertUnique_(e,t);const n=this.array_[t];this.array_[t]=e,this.dispatchEvent(new a(s.a.REMOVE,n,t)),this.dispatchEvent(new a(s.a.ADD,e,t))}else{for(let e=n;e<t;++e)this.insertAt(e,void 0);this.insertAt(t,e)}}updateLength_(){this.set("length",this.array_.length)}assertUnique_(t,e){for(let n=0,r=this.array_.length;n<r;++n)if(this.array_[n]===t&&n!==e)throw new i.a(58)}}},rWzI:function(t,e,n){(function(t){var i;!function(r){"object"==typeof global&&global;var s,o=2147483647,a=/^xn--/,l=/[^\x20-\x7E]/,c=/[\x2E\u3002\uFF0E\uFF61]/g,h={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},u=Math.floor,d=String.fromCharCode;function p(t){throw RangeError(h[t])}function f(t,e){for(var n=t.length,i=[];n--;)i[n]=e(t[n]);return i}function m(t,e){var n=t.split("@"),i="";return n.length>1&&(i=n[0]+"@",t=n[1]),i+f((t=t.replace(c,".")).split("."),e).join(".")}function g(t){for(var e,n,i=[],r=0,s=t.length;r<s;)(e=t.charCodeAt(r++))>=55296&&e<=56319&&r<s?56320==(64512&(n=t.charCodeAt(r++)))?i.push(((1023&e)<<10)+(1023&n)+65536):(i.push(e),r--):i.push(e);return i}function y(t){return f(t,function(t){var e="";return t>65535&&(e+=d((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+d(t)}).join("")}function _(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function b(t,e,n){var i=0;for(t=n?u(t/700):t>>1,t+=u(t/e);t>455;i+=36)t=u(t/35);return u(i+36*t/(t+38))}function v(t){var e,n,i,r,s,a,l,c,h,d,f,m=[],g=t.length,_=0,v=128,S=72;for((n=t.lastIndexOf("-"))<0&&(n=0),i=0;i<n;++i)t.charCodeAt(i)>=128&&p("not-basic"),m.push(t.charCodeAt(i));for(r=n>0?n+1:0;r<g;){for(s=_,a=1,l=36;r>=g&&p("invalid-input"),((c=(f=t.charCodeAt(r++))-48<10?f-22:f-65<26?f-65:f-97<26?f-97:36)>=36||c>u((o-_)/a))&&p("overflow"),_+=c*a,!(c<(h=l<=S?1:l>=S+26?26:l-S));l+=36)a>u(o/(d=36-h))&&p("overflow"),a*=d;S=b(_-s,e=m.length+1,0==s),u(_/e)>o-v&&p("overflow"),v+=u(_/e),_%=e,m.splice(_++,0,v)}return y(m)}function S(t){var e,n,i,r,s,a,l,c,h,f,m,y,v,S,T,x=[];for(y=(t=g(t)).length,e=128,n=0,s=72,a=0;a<y;++a)(m=t[a])<128&&x.push(d(m));for(i=r=x.length,r&&x.push("-");i<y;){for(l=o,a=0;a<y;++a)(m=t[a])>=e&&m<l&&(l=m);for(l-e>u((o-n)/(v=i+1))&&p("overflow"),n+=(l-e)*v,e=l,a=0;a<y;++a)if((m=t[a])<e&&++n>o&&p("overflow"),m==e){for(c=n,h=36;!(c<(f=h<=s?1:h>=s+26?26:h-s));h+=36)x.push(d(_(f+(T=c-f)%(S=36-f),0))),c=u(T/S);x.push(d(_(c,0))),s=b(n,v,i==r),n=0,++i}++n,++e}return x.join("")}s={version:"1.3.2",ucs2:{decode:g,encode:y},decode:v,encode:S,toASCII:function(t){return m(t,function(t){return l.test(t)?"xn--"+S(t):t})},toUnicode:function(t){return m(t,function(t){return a.test(t)?v(t.slice(4).toLowerCase()):t})}},void 0===(i=(function(){return s}).call(e,n,e,t))||(t.exports=i)}()}).call(this,n("YuTi")(t))},"rb/e":function(t,e,n){"use strict";e.a={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}},rfxS:function(t,e,n){"use strict";var i=n("2I+J"),r=n("dvVV");class s{constructor(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=Object(r.d)(t.scale),this.displacement_=t.displacement}clone(){const t=this.getScale();return new s({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getAnchor(){return Object(i.b)()}getImage(t){return Object(i.b)()}getHitDetectionImage(){return Object(i.b)()}getPixelRatio(t){return 1}getImageState(){return Object(i.b)()}getImageSize(){return Object(i.b)()}getHitDetectionImageSize(){return Object(i.b)()}getOrigin(){return Object(i.b)()}getSize(){return Object(i.b)()}setOpacity(t){this.opacity_=t}setRotateWithView(t){this.rotateWithView_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=Object(r.d)(t)}listenImageChange(t){Object(i.b)()}load(){Object(i.b)()}unlistenImageChange(t){Object(i.b)()}}e.a=s},s7LF:function(t,e,n){"use strict";n.d(e,"a",function(){return u}),n.d(e,"b",function(){return f}),n.d(e,"c",function(){return st}),n.d(e,"d",function(){return jt}),n.d(e,"e",function(){return ot}),n.d(e,"f",function(){return At}),n.d(e,"g",function(){return Rt}),n.d(e,"h",function(){return qt}),n.d(e,"i",function(){return k}),n.d(e,"j",function(){return U}),n.d(e,"k",function(){return G}),n.d(e,"l",function(){return ht}),n.d(e,"m",function(){return yt}),n.d(e,"n",function(){return ft}),n.d(e,"o",function(){return Gt}),n.d(e,"p",function(){return vt}),n.d(e,"q",function(){return wt}),n.d(e,"r",function(){return Ct}),n.d(e,"s",function(){return Wt}),n.d(e,"t",function(){return Ut}),n.d(e,"u",function(){return zt}),n.d(e,"v",function(){return v}),n.d(e,"w",function(){return _t}),n.d(e,"x",function(){return Ht});var i=n("8Y7J"),r=n("SVse"),s=n("Cfvw"),o=n("cp0P"),a=n("lJxs");class l{}const c=new i.r("NgValueAccessor"),h={provide:c,useExisting:Object(i.T)(()=>u),multi:!0};let u=(()=>{class t extends l{constructor(t,e){super(),this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(i.E),i.Kb(i.l))},t.\u0275dir=i.Fb({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&i.Xb("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[i.yb([h]),i.wb]}),t})();const d={provide:c,useExisting:Object(i.T)(()=>f),multi:!0},p=new i.r("CompositionEventMode");let f=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=Object(r.D)()?Object(r.D)().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(i.E),i.Kb(i.l),i.Kb(p,8))},t.\u0275dir=i.Fb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&i.Xb("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[i.yb([d])]}),t})();function m(t){return null==t||0===t.length}function g(t){return null!=t&&"number"==typeof t.length}const y=new i.r("NgValidators"),_=new i.r("NgAsyncValidators"),b=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class v{static min(t){return function(t){return e=>{if(m(e.value)||m(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(t)}static max(t){return function(t){return e=>{if(m(e.value)||m(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(t)}static required(t){return function(t){return m(t.value)?{required:!0}:null}(t)}static requiredTrue(t){return function(t){return!0===t.value?null:{required:!0}}(t)}static email(t){return function(t){return m(t.value)||b.test(t.value)?null:{email:!0}}(t)}static minLength(t){return function(t){return e=>m(e.value)||!g(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(t)}static maxLength(t){return function(t){return e=>g(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(t)}static pattern(t){return function(t){if(!t)return S;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(m(t.value))return null;const i=t.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(t)}static nullValidator(t){return null}static compose(t){return M(t)}static composeAsync(t){return A(t)}}function S(t){return null}function T(t){return null!=t}function x(t){const e=Object(i.qb)(t)?Object(s.a)(t):t;return Object(i.pb)(e),e}function w(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function E(t,e){return e.map(e=>e(t))}function C(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function M(t){if(!t)return null;const e=t.filter(T);return 0==e.length?null:function(t){return w(E(t,e))}}function O(t){return null!=t?M(C(t)):null}function A(t){if(!t)return null;const e=t.filter(T);return 0==e.length?null:function(t){const n=E(t,e).map(x);return Object(o.a)(n).pipe(Object(a.a)(w))}}function I(t){return null!=t?A(C(t)):null}function R(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function L(t){return t._rawValidators}function P(t){return t._rawAsyncValidators}let D=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=O(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=I(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Fb({type:t}),t})(),N=(()=>{class t extends D{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return j(e||t)},t.\u0275dir=i.Fb({type:t,features:[i.wb]}),t})();const j=i.Sb(N);class k extends D{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class F{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}let U=(()=>{class t extends F{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(k,2))},t.\u0275dir=i.Fb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&i.Cb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[i.wb]}),t})(),G=(()=>{class t extends F{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(N,10))},t.\u0275dir=i.Fb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&i.Cb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[i.wb]}),t})();function V(t,e){return[...e.path,t]}function B(t,e){X(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&W(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&W(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function z(t,e,n=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),q(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function H(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function X(t,e,n){const i=L(t);null!==e.validator?t.setValidators(R(i,e.validator)):"function"==typeof i&&t.setValidators([i]);const r=P(t);if(null!==e.asyncValidator?t.setAsyncValidators(R(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]),n){const n=()=>t.updateValueAndValidity();H(e._rawValidators,n),H(e._rawAsyncValidators,n)}}function q(t,e,n){let i=!1;if(null!==t){if(null!==e.validator){const n=L(t);if(Array.isArray(n)&&n.length>0){const r=n.filter(t=>t!==e.validator);r.length!==n.length&&(i=!0,t.setValidators(r))}}if(null!==e.asyncValidator){const n=P(t);if(Array.isArray(n)&&n.length>0){const r=n.filter(t=>t!==e.asyncValidator);r.length!==n.length&&(i=!0,t.setAsyncValidators(r))}}}if(n){const t=()=>{};H(e._rawValidators,t),H(e._rawAsyncValidators,t)}return i}function W(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Y(t,e){X(t,e,!1)}function K(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}function Z(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function J(t,e){if(!e)return null;let n,i,r;return Array.isArray(e),e.forEach(t=>{t.constructor===f?n=t:Object.getPrototypeOf(t.constructor)===l?i=t:r=t}),r||i||n||null}function Q(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function $(t){return(it(t)?t.validators:t)||null}function tt(t){return Array.isArray(t)?O(t):t||null}function et(t,e){return(it(e)?e.asyncValidators:t)||null}function nt(t){return Array.isArray(t)?I(t):t||null}function it(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class rt{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=tt(this._rawValidators),this._composedAsyncValidatorFn=nt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=tt(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=nt(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING",this._hasOwnPendingAsyncValidator=!0;const e=x(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let i=t;return e.forEach(t=>{i=i instanceof ot?i.controls.hasOwnProperty(t)?i.controls[t]:null:i instanceof at&&i.at(t)||null}),i}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new i.n,this.statusChanges=new i.n}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){it(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class st extends rt{constructor(t=null,e,n){super($(e),et(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Q(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Q(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class ot extends rt{constructor(t,e,n){super($(e),et(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof st?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,i)=>{n=e(n,t,i)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class at extends rt{constructor(t,e,n){super($(e),et(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof st?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const lt={provide:N,useExisting:Object(i.T)(()=>ht)},ct=(()=>Promise.resolve(null))();let ht=(()=>{class t extends N{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new i.n,this.form=new ot({},O(t),I(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){ct.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),B(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){ct.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),Q(this._directives,t)})}addFormGroup(t){ct.then(()=>{const e=this._findContainer(t.path),n=new ot({});Y(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){ct.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){ct.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Z(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(y,10),i.Kb(_,10))},t.\u0275dir=i.Fb({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&i.Xb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.yb([lt]),i.wb]}),t})(),ut=(()=>{class t extends N{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return V(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return t.\u0275fac=function(e){return dt(e||t)},t.\u0275dir=i.Fb({type:t,features:[i.wb]}),t})();const dt=i.Sb(ut),pt={provide:N,useExisting:Object(i.T)(()=>ft)};let ft=(()=>{class t extends ut{constructor(t,e,n){super(),this._parent=t,this._setValidators(e),this._setAsyncValidators(n)}_checkParentType(){}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(N,5),i.Kb(y,10),i.Kb(_,10))},t.\u0275dir=i.Fb({type:t,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[i.yb([pt]),i.wb]}),t})();const mt={provide:k,useExisting:Object(i.T)(()=>yt)},gt=(()=>Promise.resolve(null))();let yt=(()=>{class t extends k{constructor(t,e,n,r){super(),this.control=new st,this._registered=!1,this.update=new i.n,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=J(0,r)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),K(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?V(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){B(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){gt.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;gt.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(N,9),i.Kb(y,10),i.Kb(_,10),i.Kb(c,10))},t.\u0275dir=i.Fb({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[i.yb([mt]),i.wb,i.xb]}),t})(),_t=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Fb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const bt={provide:c,useExisting:Object(i.T)(()=>vt),multi:!0};let vt=(()=>{class t extends l{constructor(t,e){super(),this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(i.E),i.Kb(i.l))},t.\u0275dir=i.Fb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&i.Xb("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[i.yb([bt]),i.wb]}),t})();const St={provide:c,useExisting:Object(i.T)(()=>wt),multi:!0};let Tt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({}),t})(),xt=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Gb)({factory:function(){return new t},token:t,providedIn:Tt}),t})(),wt=(()=>{class t extends l{constructor(t,e,n,i){super(),this._renderer=t,this._elementRef=e,this._registry=n,this._injector=i,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(k),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(i.E),i.Kb(i.l),i.Kb(xt),i.Kb(i.s))},t.\u0275dir=i.Fb({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&i.Xb("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[i.yb([St]),i.wb]}),t})();const Et={provide:c,useExisting:Object(i.T)(()=>Ct),multi:!0};let Ct=(()=>{class t extends l{constructor(t,e){super(),this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(i.E),i.Kb(i.l))},t.\u0275dir=i.Fb({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&i.Xb("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[i.yb([Et]),i.wb]}),t})();const Mt=new i.r("NgModelWithFormControlWarning"),Ot={provide:N,useExisting:Object(i.T)(()=>At)};let At=(()=>{class t extends N{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new i.n,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(q(this.form,this,!1),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return B(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){z(t.control||null,t,!1),Q(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,Z(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=t.control,n=this.form.get(t.path);e!==n&&(z(e||null,t),n instanceof st&&(B(n,t),t.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const e=this.form.get(t.path);Y(e,t),e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const e=this.form.get(t.path);e&&function(t,e){return q(t,e,!1)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){X(this.form,this,!1),this._oldForm&&q(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(y,10),i.Kb(_,10))},t.\u0275dir=i.Fb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&i.Xb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.yb([Ot]),i.wb,i.xb]}),t})();const It={provide:N,useExisting:Object(i.T)(()=>Rt)};let Rt=(()=>{class t extends ut{constructor(t,e,n){super(),this._parent=t,this._setValidators(e),this._setAsyncValidators(n)}_checkParentType(){Dt(this._parent)}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(N,13),i.Kb(y,10),i.Kb(_,10))},t.\u0275dir=i.Fb({type:t,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[i.yb([It]),i.wb]}),t})();const Lt={provide:N,useExisting:Object(i.T)(()=>Pt)};let Pt=(()=>{class t extends N{constructor(t,e,n){super(),this._parent=t,this._setValidators(e),this._setAsyncValidators(n)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return V(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Dt(this._parent)}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(N,13),i.Kb(y,10),i.Kb(_,10))},t.\u0275dir=i.Fb({type:t,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[i.yb([Lt]),i.wb]}),t})();function Dt(t){return!(t instanceof Rt||t instanceof At||t instanceof Pt)}const Nt={provide:k,useExisting:Object(i.T)(()=>jt)};let jt=(()=>{class t extends k{constructor(t,e,n,r,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new i.n,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=J(0,r)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),K(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return V(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(N,13),i.Kb(y,10),i.Kb(_,10),i.Kb(c,10),i.Kb(Mt,8))},t.\u0275dir=i.Fb({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[i.yb([Nt]),i.wb,i.xb]}),t._ngModelWarningSentOnce=!1,t})();const kt={provide:c,useExisting:Object(i.T)(()=>Ut),multi:!0};function Ft(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Ut=(()=>{class t extends l{constructor(t,e){super(),this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=Ft(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(i.E),i.Kb(i.l))},t.\u0275dir=i.Fb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&i.Xb("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[i.yb([kt]),i.wb]}),t})(),Gt=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Ft(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(i.l),i.Kb(i.E),i.Kb(Ut,9))},t.\u0275dir=i.Fb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const Vt={provide:c,useExisting:Object(i.T)(()=>zt),multi:!0};function Bt(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let zt=(()=>{class t extends l{constructor(t,e){super(),this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const i=t.item(e),r=this._getOptionValue(i.value);n.push(r)}}else{const t=e.options;for(let e=0;e<t.length;e++){const i=t.item(e);if(i.selected){const t=this._getOptionValue(i.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(i.E),i.Kb(i.l))},t.\u0275dir=i.Fb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&i.Xb("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[i.yb([Vt]),i.wb]}),t})(),Ht=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Bt(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Bt(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(i.l),i.Kb(i.E),i.Kb(zt,9))},t.\u0275dir=i.Fb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})(),Xt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({imports:[[Tt]]}),t})(),qt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({imports:[Xt]}),t})(),Wt=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Mt,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({imports:[Xt]}),t})()},sFtE:function(t,e,n){"use strict";var i=n("uMsb"),r=n("ogOc"),s=n("6SrS"),o=n("Bpkx"),a=n("n2w5"),l=n("hKKC"),c=n("4cD7"),h=n("Znq9");e.a=class extends i.a{constructor(t){super(t),this.image_=null}getImage(){return this.image_?this.image_.getImage():null}prepareFrame(t){const e=t.layerStatesArray[t.layerIndex],n=t.pixelRatio,i=t.viewState,o=i.resolution,a=this.getLayer().getSource(),c=t.viewHints;let u=t.extent;if(void 0!==e.extent&&(u=Object(l.C)(u,Object(h.h)(e.extent,i.projection))),!c[r.a.ANIMATING]&&!c[r.a.INTERACTING]&&!Object(l.I)(u))if(a){let t=i.projection;if(!s.a){const e=a.getProjection();e&&(t=e)}const e=a.getImage(u,o,n,t);e&&this.loadImage(e)&&(this.image_=e)}else this.image_=null;return!!this.image_}renderFrame(t,e){const n=this.image_,i=n.getExtent(),r=n.getResolution(),s=n.getPixelRatio(),u=t.layerStatesArray[t.layerIndex],d=t.pixelRatio,p=t.viewState,f=p.center,m=t.size,g=d*r/(p.resolution*s);let y=Math.round(m[0]*d),_=Math.round(m[1]*d);const b=p.rotation;if(b){const t=Math.round(Math.sqrt(y*y+_*_));y=t,_=t}Object(a.b)(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/d,1/d,b,-y/2,-_/2),Object(a.d)(this.inversePixelTransform,this.pixelTransform);const v=Object(c.b)(this.pixelTransform);this.useContainer(e,v,u.opacity);const S=this.context,T=S.canvas;T.width!=y||T.height!=_?(T.width=y,T.height=_):this.containerReused||S.clearRect(0,0,y,_);let x=!1;if(u.extent){const e=Object(h.h)(u.extent,p.projection);x=!Object(l.h)(e,t.extent)&&Object(l.G)(e,t.extent),x&&this.clipUnrotated(S,t,e)}const w=n.getImage(),E=Object(a.b)(this.tempTransform,y/2,_/2,g,g,0,s*(i[0]-f[0])/r,s*(f[1]-i[3])/r);this.renderedResolution=r*d/s;const C=E[4],M=E[5],O=w.width*E[0],A=w.height*E[3];if(Object(o.a)(S,this.getLayer().getSource().getContextOptions()),this.preRender(S,t),O>=.5&&A>=.5){const t=u.opacity;let e;1!==t&&(e=this.context.globalAlpha,this.context.globalAlpha=t),this.context.drawImage(w,0,0,+w.width,+w.height,Math.round(C),Math.round(M),Math.round(O),Math.round(A)),1!==t&&(this.context.globalAlpha=e)}return this.postRender(S,t),x&&S.restore(),v!==T.style.transform&&(T.style.transform=v),this.container}}},sOX2:function(t,e,n){"use strict";n.d(e,"c",function(){return l}),n.d(e,"a",function(){return h});var i=n("0T8a"),r=n("fyJ9"),s=(n("aBeY"),n("kEUA")),o=n("i3ci");class a{constructor(t){const e=t||{};this.geometry_=null,this.geometryFunction_=u,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex}clone(){let t=this.getGeometry();return t&&"object"==typeof t&&(t=t.clone()),new a({geometry:t,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(t){this.renderer_=t}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(t){this.fill_=t}getImage(){return this.image_}setImage(t){this.image_=t}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t}getText(){return this.text_}setText(t){this.text_=t}getZIndex(){return this.zIndex_}setGeometry(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=u,this.geometry_=t}setZIndex(t){this.zIndex_=t}}function l(t){let e;if("function"==typeof t)e=t;else{let n;Array.isArray(t)?n=t:(Object(o.a)("function"==typeof t.getZIndex,41),n=[t]),e=function(){return n}}return e}let c=null;function h(t,e){if(!c){const t=new r.a({color:"rgba(255,255,255,0.4)"}),e=new s.a({color:"#3399CC",width:1.25});c=[new a({image:new i.a({fill:t,stroke:e,radius:5}),fill:t,stroke:e})]}return c}function u(t){return t.getGeometry()}e.b=a},sVev:function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})()},siiE:function(t,e,n){"use strict";var i=n("QBIS"),r=n("JS5d"),s=n("0sIq"),o=n("FRHD"),a=n("n2w5"),l=n("hKKC"),c=n("4cD7"),h=n("LV+m"),u=n("k/Gk");function d(t,e,n,i,r,s,o,a,l,c,d,p){let f=t[e],m=t[e+1],g=0,y=0,_=0,b=0;function v(){g=f,y=m,f=t[e+=i],m=t[e+1],b+=_,_=Math.sqrt((f-g)*(f-g)+(m-y)*(m-y))}do{v()}while(e<n-i&&b+_<s);let S=(s-b)/_;const T=Object(h.c)(g,f,S),x=Object(h.c)(y,m,S),w=e-i,E=b,C=s+a*l(c,r,d);for(;e<n-i&&b+_<C;)v();S=(C-b)/_;const M=Object(h.c)(g,f,S),O=Object(h.c)(y,m,S);let A;if(p){const t=[T,x,M,O];Object(u.a)(t,0,4,2,p,t,t),A=t[0]>t[2]}else A=T>M;const I=Math.PI,R=[],L=w+i===e;if(_=0,b=E,f=t[e=w],m=t[e+1],L){v();let t=Math.atan2(m-y,f-g);return A&&(t+=t>0?-I:I),R[0]=[(M+T)/2,(O+x)/2,(C-s)/2,t,r],R}let P;for(let u=0,D=r.length;u<D;){v();let t=Math.atan2(m-y,f-g);if(A&&(t+=t>0?-I:I),void 0!==P){let e=t-P;if(e+=e>I?-2*I:e<-I?2*I:0,Math.abs(e)>o)return null}P=t;const p=u;let T=0;for(;u<D;++u){const t=a*l(c,r[A?D-u-1:u],d);if(e+i<n&&b+_<s+T+t/2)break;T+=t}if(u===p)continue;const x=A?r.substring(D-p,D-u):r.substring(p,u);S=(s+T/2-b)/_;const w=Object(h.c)(g,f,S),E=Object(h.c)(y,m,S);R.push([w,E,T/2,t,x]),s+=T}return R}var p=n("oWEL"),f=n("90bG");const m=Object(l.k)(),g=[],y=[],_=[],b=[];function v(t){return t[3].declutterBox}const S=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function T(t,e){return"start"!==e&&"end"!==e||S.test(t)||(e="start"===e?"left":"right"),s.a[e]}var x=class{constructor(t,e,n,i,r){this.overlaps=n,this.pixelRatio=e,this.resolution=t,this.instructions=i.instructions,this.coordinates=i.coordinates,this.coordinateCache_={},this.renderBuffer_=r,this.renderedTransform_=Object(a.c)(),this.hitDetectionInstructions=i.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=i.fillStates||{},this.strokeStates=i.strokeStates||{},this.textStates=i.textStates||{},this.widths_={},this.labels_={}}createLabel(t,e,n,i){const r=t+e+n+i;if(this.labels_[r])return this.labels_[r];const s=i?this.strokeStates[i]:null,a=n?this.fillStates[n]:null,l=this.textStates[e],h=this.pixelRatio,u=[l.scale[0]*h,l.scale[1]*h],d=T(t,l.textAlign||c.m),p=i&&s.lineWidth?s.lineWidth:0,f=t.split("\n"),m=f.length,g=[],y=Object(c.r)(l.font,f,g),_=Object(c.q)(l.font),b=y+p,v=[],S=(b+2)*u[0],x=(_*m+p)*u[1],w={width:S<0?Math.floor(S):Math.ceil(S),height:x<0?Math.floor(x):Math.ceil(x),contextInstructions:v};1==u[0]&&1==u[1]||v.push("scale",u),v.push("font",l.font),i&&(v.push("strokeStyle",s.strokeStyle),v.push("lineWidth",p),v.push("lineCap",s.lineCap),v.push("lineJoin",s.lineJoin),v.push("miterLimit",s.miterLimit),(o.g?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D).prototype.setLineDash&&(v.push("setLineDash",[s.lineDash]),v.push("lineDashOffset",s.lineDashOffset))),n&&v.push("fillStyle",a.fillStyle),v.push("textBaseline","middle"),v.push("textAlign","center");const E=.5-d,C=d*b+E*p;let M;if(i)for(M=0;M<m;++M)v.push("strokeText",[f[M],C+E*g[M],.5*(p+_)+M*_]);if(n)for(M=0;M<m;++M)v.push("fillText",[f[M],C+E*g[M],.5*(p+_)+M*_]);return this.labels_[r]=w,w}replayTextBackground_(t,e,n,i,r,s,o){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,n),t.lineTo.apply(t,i),t.lineTo.apply(t,r),t.lineTo.apply(t,e),s&&(this.alignFill_=s[2],this.fill_(t)),o&&(this.setStrokeStyle_(t,o),t.stroke())}calculateImageOrLabelDimensions_(t,e,n,i,r,s,o,c,h,u,d,p,f,v,S,T){let x=n-(o*=p[0]),w=i-(c*=p[1]);const E=r+h>t?t-h:r,C=s+u>e?e-u:s,M=v[3]+E*p[0]+v[1],O=v[0]+C*p[1]+v[2],A=x-v[3],I=w-v[0];let R;return(S||0!==d)&&(g[0]=A,b[0]=A,g[1]=I,y[1]=I,y[0]=A+M,_[0]=y[0],_[1]=I+O,b[1]=_[1]),0!==d?(R=Object(a.b)(Object(a.c)(),n,i,1,1,d,-n,-i),Object(a.a)(R,g),Object(a.a)(R,y),Object(a.a)(R,_),Object(a.a)(R,b),Object(l.l)(Math.min(g[0],y[0],_[0],b[0]),Math.min(g[1],y[1],_[1],b[1]),Math.max(g[0],y[0],_[0],b[0]),Math.max(g[1],y[1],_[1],b[1]),m)):Object(l.l)(Math.min(A,A+M),Math.min(I,I+O),Math.max(A,A+M),Math.max(I,I+O),m),f&&(x=Math.round(x),w=Math.round(w)),{drawImageX:x,drawImageY:w,drawImageW:E,drawImageH:C,originX:h,originY:u,declutterBox:{minX:m[0],minY:m[1],maxX:m[2],maxY:m[3],value:T},canvasTransform:R,scale:p}}replayImageOrLabel_(t,e,n,i,r,s,o){const a=i.declutterBox,l=t.canvas,h=o?o[2]*i.scale[0]/2:0;return a.minX-h<=l.width/e&&a.maxX+h>=0&&a.minY-h<=l.height/e&&a.maxY+h>=0&&(!(!s&&!o)&&this.replayTextBackground_(t,g,y,_,b,s,o),Object(c.o)(t,i.canvasTransform,r,n,i.originX,i.originY,i.drawImageW,i.drawImageH,i.drawImageX,i.drawImageY,i.scale)),!0}fill_(t){if(this.alignFill_){const e=Object(a.a)(this.renderedTransform_,[0,0]),n=512*this.pixelRatio;t.save(),t.translate(e[0]%n,e[1]%n),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.restore()}setStrokeStyle_(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.setLineDash&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))}drawLabelWithPointPlacement_(t,e,n,i){const r=this.textStates[e],o=this.createLabel(t,e,i,n),a=this.strokeStates[n],l=this.pixelRatio,h=T(t,r.textAlign||c.m),u=s.a[r.textBaseline||c.n],d=a&&a.lineWidth?a.lineWidth:0;return{label:o,anchorX:h*(o.width/l-2*r.scale[0])+2*(.5-h)*d,anchorY:u*o.height/l+2*(.5-u)*d}}execute_(t,e,n,i,o,h,m,g){let y;this.pixelCoordinates_&&Object(p.b)(n,this.renderedTransform_)?y=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),y=Object(u.c)(this.coordinates,0,this.coordinates.length,2,n,this.pixelCoordinates_),Object(a.j)(this.renderedTransform_,n));let _=0;const b=i.length;let S,T,x,w,E,C,M,O,A,I,R,L,P=0,D=0,N=0,j=null,k=null;const F=this.coordinateCache_,U=this.viewRotation_,G=Math.round(1e12*Math.atan2(-n[1],n[0]))/1e12,V={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:U},B=this.instructions!=i||this.overlaps?0:200;let z,H,X,q;for(;_<b;){const n=i[_];switch(n[0]){case r.c.BEGIN_GEOMETRY:z=n[1],q=n[3],z.getGeometry()?void 0===m||Object(l.G)(m,q.getExtent())?++_:_=n[2]+1:_=n[2];break;case r.c.BEGIN_PATH:D>B&&(this.fill_(t),D=0),N>B&&(t.stroke(),N=0),D||N||(t.beginPath(),w=NaN,E=NaN),++_;break;case r.c.CIRCLE:P=n[1];const i=y[P],a=y[P+1],u=y[P+2]-i,p=y[P+3]-a,b=Math.sqrt(u*u+p*p);t.moveTo(i+b,a),t.arc(i,a,b,0,2*Math.PI,!0),++_;break;case r.c.CLOSE_PATH:t.closePath(),++_;break;case r.c.CUSTOM:P=n[1],S=n[2];const W=n[4],Y=6==n.length?n[5]:void 0;V.geometry=n[3],V.feature=z,_ in F||(F[_]=[]);const K=F[_];Y?Y(y,P,S,2,K):(K[0]=y[P],K[1]=y[P+1],K.length=2),W(K,V),++_;break;case r.c.DRAW_IMAGE:P=n[1],S=n[2],O=n[3],T=n[4],x=n[5];let Z=n[6];const J=n[7],Q=n[8],$=n[9],tt=n[10];let et=n[11];const nt=n[12];let it=n[13];const rt=n[14];if(!O&&n.length>=19){A=n[18],I=n[19],R=n[20],L=n[21];const t=this.drawLabelWithPointPlacement_(A,I,R,L);O=t.label,n[3]=O,T=(t.anchorX-n[22])*this.pixelRatio,n[4]=T,x=(t.anchorY-n[23])*this.pixelRatio,n[5]=x,Z=O.height,n[6]=Z,it=O.width,n[13]=it}let st,ot,at,lt;n.length>24&&(st=n[24]),n.length>16?(ot=n[15],at=n[16],lt=n[17]):(ot=c.k,at=!1,lt=!1),tt&&G?et+=U:tt||G||(et-=U);let ct=0;for(;P<S;P+=2){if(st&&st[ct++]<it/this.pixelRatio)continue;const n=this.calculateImageOrLabelDimensions_(O.width,O.height,y[P],y[P+1],it,Z,T,x,Q,$,et,nt,o,ot,at||lt,z),i=[t,e,O,n,J,at?j:null,lt?k:null];let r,s;if(g&&rt){if(!rt[P]){rt[P]=i;continue}if(r=rt[P],delete rt[P],s=v(r),g.collides(s))continue}g&&g.collides(n.declutterBox)||(r&&(g&&g.insert(s),this.replayImageOrLabel_.apply(this,r)),g&&g.insert(n.declutterBox),this.replayImageOrLabel_.apply(this,i))}++_;break;case r.c.DRAW_CHARS:const ht=n[1],ut=n[2],dt=n[3],pt=n[4];L=n[5];const ft=n[6],mt=n[7],gt=n[8];R=n[9];const yt=n[10];A=n[11],I=n[12];const _t=[n[13],n[13]],bt=this.textStates[I],vt=bt.font,St=[bt.scale[0]*mt,bt.scale[1]*mt];let Tt;vt in this.widths_?Tt=this.widths_[vt]:(Tt={},this.widths_[vt]=Tt);const xt=Object(f.a)(y,ht,ut,2),wt=Math.abs(St[0])*Object(c.p)(vt,A,Tt);if(pt||wt<=xt){const n=d(y,ht,ut,2,A,(xt-wt)*s.a[this.textStates[I].textAlign],ft,Math.abs(St[0]),c.p,vt,Tt,G?0:this.viewRotation_);t:if(n){const i=[];let r,s,o,a,l;if(R)for(r=0,s=n.length;r<s;++r){l=n[r],o=l[4],a=this.createLabel(o,I,"",R),T=l[2]+(St[0]<0?-yt:yt),x=dt*a.height+2*(.5-dt)*yt*St[1]/St[0]-gt;const s=this.calculateImageOrLabelDimensions_(a.width,a.height,l[0],l[1],a.width,a.height,T,x,0,0,l[3],_t,!1,c.k,!1,z);if(g&&g.collides(s.declutterBox))break t;i.push([t,e,a,s,1,null,null])}if(L)for(r=0,s=n.length;r<s;++r){l=n[r],o=l[4],a=this.createLabel(o,I,L,""),T=l[2],x=dt*a.height-gt;const s=this.calculateImageOrLabelDimensions_(a.width,a.height,l[0],l[1],a.width,a.height,T,x,0,0,l[3],_t,!1,c.k,!1,z);if(g&&g.collides(s.declutterBox))break t;i.push([t,e,a,s,1,null,null])}g&&g.load(i.map(v));for(let t=0,e=i.length;t<e;++t)this.replayImageOrLabel_.apply(this,i[t])}}++_;break;case r.c.END_GEOMETRY:if(void 0!==h){z=n[1];const t=h(z,q);if(t)return t}++_;break;case r.c.FILL:B?D++:this.fill_(t),++_;break;case r.c.MOVE_TO_LINE_TO:for(P=n[1],S=n[2],H=y[P],X=y[P+1],C=H+.5|0,M=X+.5|0,C===w&&M===E||(t.moveTo(H,X),w=C,E=M),P+=2;P<S;P+=2)H=y[P],X=y[P+1],C=H+.5|0,M=X+.5|0,P!=S-2&&C===w&&M===E||(t.lineTo(H,X),w=C,E=M);++_;break;case r.c.SET_FILL_STYLE:j=n,this.alignFill_=n[2],D&&(this.fill_(t),D=0,N&&(t.stroke(),N=0)),t.fillStyle=n[1],++_;break;case r.c.SET_STROKE_STYLE:k=n,N&&(t.stroke(),N=0),this.setStrokeStyle_(t,n),++_;break;case r.c.STROKE:B?N++:t.stroke(),++_;break;default:++_}}D&&this.fill_(t),N&&t.stroke()}execute(t,e,n,i,r,s){this.viewRotation_=i,this.execute_(t,e,n,this.instructions,r,void 0,void 0,s)}executeHitDetection(t,e,n,i,r){return this.viewRotation_=n,this.execute_(t,1,e,this.hitDetectionInstructions,!0,i,r)}},w=n("Cw4B"),E=n("Bpkx");const C=[i.a.POLYGON,i.a.CIRCLE,i.a.LINE_STRING,i.a.IMAGE,i.a.TEXT,i.a.DEFAULT],M={};e.a=class{constructor(t,e,n,i,r,s){this.maxExtent_=t,this.overlaps_=i,this.pixelRatio_=n,this.resolution_=e,this.renderBuffer_=s,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=Object(a.c)(),this.createExecutors_(r)}clip(t,e){const n=this.getClipCoords(e);t.beginPath(),t.moveTo(n[0],n[1]),t.lineTo(n[2],n[3]),t.lineTo(n[4],n[5]),t.lineTo(n[6],n[7]),t.clip()}createExecutors_(t){for(const e in t){let n=this.executorsByZIndex_[e];void 0===n&&(n={},this.executorsByZIndex_[e]=n);const i=t[e],r=[this.renderBuffer_||0,this.renderBuffer_||0];for(const t in i)n[t]=new x(this.resolution_,this.pixelRatio_,this.overlaps_,i[t],r)}}hasExecutors(t){for(const e in this.executorsByZIndex_){const n=this.executorsByZIndex_[e];for(let e=0,i=t.length;e<i;++e)if(t[e]in n)return!0}return!1}forEachFeatureAtCoordinate(t,e,n,r,s,o){const c=2*(r=Math.round(r))+1,h=Object(a.b)(this.hitDetectionTransform_,r+.5,r+.5,1/e,-1/e,-n,-t[0],-t[1]),u=!this.hitDetectionContext_;u&&(this.hitDetectionContext_=Object(w.a)(c,c));const d=this.hitDetectionContext_;let f;d.canvas.width!==c||d.canvas.height!==c?(d.canvas.width=c,d.canvas.height=c):u||d.clearRect(0,0,c,c),void 0!==this.renderBuffer_&&(f=Object(l.k)(),Object(l.s)(f,t),Object(l.d)(f,e*(this.renderBuffer_+r),f));const m=function(t){if(void 0!==M[t])return M[t];const e=2*t+1,n=t*t,i=new Array(n+1);for(let s=0;s<=t;++s)for(let r=0;r<=t;++r){const o=s*s+r*r;if(o>n)break;let a=i[o];a||(a=[],i[o]=a),a.push(4*((t+s)*e+(t+r))+3),s>0&&a.push(4*((t-s)*e+(t+r))+3),r>0&&(a.push(4*((t+s)*e+(t-r))+3),s>0&&a.push(4*((t-s)*e+(t-r))+3))}const r=[];for(let s=0,o=i.length;s<o;++s)i[s]&&r.push(...i[s]);return M[t]=r,r}(r);let g;function y(t,e){const n=d.getImageData(0,0,c,c).data;for(let a=0,l=m.length;a<l;a++)if(n[m[a]]>0){if(!o||g!==i.a.IMAGE&&g!==i.a.TEXT||-1!==o.indexOf(t)){const n=(m[a]-3)/4,i=r-n%c,o=r-(n/c|0),l=s(t,e,i*i+o*o);if(l)return l}d.clearRect(0,0,c,c);break}}const _=Object.keys(this.executorsByZIndex_).map(Number);let b,v,S,T,x;for(_.sort(p.i),b=_.length-1;b>=0;--b){const t=_[b].toString();for(S=this.executorsByZIndex_[t],v=C.length-1;v>=0;--v)if(g=C[v],T=S[g],void 0!==T&&(x=T.executeHitDetection(d,h,n,y,f),x))return x}}getClipCoords(t){const e=this.maxExtent_;if(!e)return null;const n=e[0],i=e[1],r=e[2],s=e[3],o=[n,i,n,s,r,s,r,i];return Object(u.c)(o,0,8,2,t,o),o}isEmpty(){return Object(E.d)(this.executorsByZIndex_)}execute(t,e,n,i,r,s,o){const a=Object.keys(this.executorsByZIndex_).map(Number);a.sort(p.i),this.maxExtent_&&(t.save(),this.clip(t,n));const l=s||C;let c,h,u,d,f,m;for(o&&a.reverse(),c=0,h=a.length;c<h;++c){const s=a[c].toString();for(f=this.executorsByZIndex_[s],u=0,d=l.length;u<d;++u)m=f[l[u]],void 0!==m&&m.execute(t,e,n,i,r,o)}this.maxExtent_&&t.restore()}}},tFPJ:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"c",function(){return r}),n.d(e,"b",function(){return s});const i="undefined"!=typeof window&&null!=window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,r=(t,e,n=null,i=null)=>{for(;e!==n;){const n=e.nextSibling;t.insertBefore(e,i),e=n}},s=(t,e,n=null)=>{for(;e!==n;){const n=e.nextSibling;t.removeChild(e),e=n}}},tZnV:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return s}),n("aBeY");var i=n("LV+m");function r(t,e,n){const r=n||6371008.8,s=Object(i.j)(t[1]),o=Object(i.j)(e[1]),a=(o-s)/2,l=Object(i.j)(e[0]-t[0])/2,c=Math.sin(a)*Math.sin(a)+Math.sin(l)*Math.sin(l)*Math.cos(s)*Math.cos(o);return 2*r*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))}function s(t,e,n,r){const s=r||6371008.8,o=Object(i.j)(t[1]),a=Object(i.j)(t[0]),l=e/s,c=Math.asin(Math.sin(o)*Math.cos(l)+Math.cos(o)*Math.sin(l)*Math.cos(n)),h=a+Math.atan2(Math.sin(n)*Math.sin(l)*Math.cos(o),Math.cos(l)-Math.sin(o)*Math.sin(c));return[Object(i.i)(h),Object(i.i)(c)]}},tvip:function(t,e,n){"use strict";var i=n("bwl8"),r=n("G7/A"),s=n("2I+J"),o=n("n2w5"),a=n("hKKC"),l=n("Znq9"),c=n("6Xq6"),h=n("k/Gk");const u=Object(o.c)();e.a=class extends i.a{constructor(){super(),this.extent_=Object(a.k)(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=Object(c.d)(function(t,e,n){if(!n)return this.getSimplifiedGeometry(e);const i=this.clone();return i.applyTransform(n),i.getSimplifiedGeometry(e)})}simplifyTransformed(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)}clone(){return Object(s.b)()}closestPointXY(t,e,n,i){return Object(s.b)()}containsXY(t,e){const n=this.getClosestPoint([t,e]);return n[0]===t&&n[1]===e}getClosestPoint(t,e){const n=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],n,1/0),n}intersectsCoordinate(t){return this.containsXY(t[0],t[1])}computeExtent(t){return Object(s.b)()}getExtent(t){if(this.extentRevision_!=this.getRevision()){const t=this.computeExtent(this.extent_);(isNaN(t[0])||isNaN(t[1]))&&Object(a.m)(t),this.extentRevision_=this.getRevision()}return Object(a.J)(this.extent_,t)}rotate(t,e){Object(s.b)()}scale(t,e,n){Object(s.b)()}simplify(t){return this.getSimplifiedGeometry(t*t)}getSimplifiedGeometry(t){return Object(s.b)()}getType(){return Object(s.b)()}applyTransform(t){Object(s.b)()}intersectsExtent(t){return Object(s.b)()}translate(t,e){Object(s.b)()}transform(t,e){const n=Object(l.i)(t),i=n.getUnits()==r.b.TILE_PIXELS?function(t,i,r){const s=n.getExtent(),c=n.getWorldExtent(),d=Object(a.B)(c)/Object(a.B)(s);return Object(o.b)(u,c[0],c[3],d,-d,0,0,0),Object(h.c)(t,0,t.length,r,u,i),Object(l.k)(n,e)(t,i,r)}:Object(l.k)(n,e);return this.applyTransform(i),this}}},uJJw:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return c}),n.d(e,"c",function(){return u});var i=n("i3ci"),r=n("LV+m");const s=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,o=/^([a-z]*)$|^hsla?\(.*\)$/i;function a(t){return"string"==typeof t?t:u(t)}const l=function(){const t={};let e=0;return function(n){let r;if(t.hasOwnProperty(n))r=t[n];else{if(e>=1024){let n=0;for(const i in t)0==(3&n++)&&(delete t[i],--e)}r=function(t){let e,n,r,a,l;if(o.exec(t)&&(t=function(t){const e=document.createElement("div");if(e.style.color=t,""!==e.style.color){document.body.appendChild(e);const t=getComputedStyle(e).color;return document.body.removeChild(e),t}return""}(t)),s.exec(t)){const i=t.length-1;let s;s=i<=4?1:2;const o=4===i||8===i;e=parseInt(t.substr(1+0*s,s),16),n=parseInt(t.substr(1+1*s,s),16),r=parseInt(t.substr(1+2*s,s),16),a=o?parseInt(t.substr(1+3*s,s),16):255,1==s&&(e=(e<<4)+e,n=(n<<4)+n,r=(r<<4)+r,o&&(a=(a<<4)+a)),l=[e,n,r,a/255]}else 0==t.indexOf("rgba(")?(l=t.slice(5,-1).split(",").map(Number),h(l)):0==t.indexOf("rgb(")?(l=t.slice(4,-1).split(",").map(Number),l.push(1),h(l)):Object(i.a)(!1,14);return l}(n),t[n]=r,++e}return r}}();function c(t){return Array.isArray(t)?t:l(t)}function h(t){return t[0]=Object(r.a)(t[0]+.5|0,0,255),t[1]=Object(r.a)(t[1]+.5|0,0,255),t[2]=Object(r.a)(t[2]+.5|0,0,255),t[3]=Object(r.a)(t[3],0,1),t}function u(t){let e=t[0];e!=(0|e)&&(e=e+.5|0);let n=t[1];n!=(0|n)&&(n=n+.5|0);let i=t[2];return i!=(0|i)&&(i=i+.5|0),"rgba("+e+","+n+","+i+","+(void 0===t[3]?1:t[3])+")"}},uMsb:function(t,e,n){"use strict";var i=n("PhKu"),r=n("D1oO"),s=n("RuG3"),o=n("n2w5"),a=n("hKKC"),l=n("Cw4B"),c=n("4cD7");e.a=class extends i.a{constructor(t){super(t),this.container=null,this.tempTransform=Object(o.c)(),this.pixelTransform=Object(o.c)(),this.inversePixelTransform=Object(o.c)(),this.context=null,this.containerReused=!1}useContainer(t,e,n){const i=this.getLayer().getClassName();let r,s;if(t&&""===t.style.opacity&&t.className===i){const e=t.firstElementChild;e instanceof HTMLCanvasElement&&(s=e.getContext("2d"))}if(!s||0!==s.canvas.width&&s.canvas.style.transform!==e?this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1):(this.container=t,this.context=s,this.containerReused=!0),!this.container){r=document.createElement("div"),r.className=i;let t=r.style;t.position="absolute",t.width="100%",t.height="100%",s=Object(l.a)();const e=s.canvas;r.appendChild(e),t=e.style,t.position="absolute",t.left="0",t.transformOrigin="top left",this.container=r,this.context=s}}clip(t,e,n){const i=e.pixelRatio,r=e.size[0]*i/2,s=e.size[1]*i/2,l=e.viewState.rotation,h=Object(a.D)(n),u=Object(a.E)(n),d=Object(a.x)(n),p=Object(a.w)(n);Object(o.a)(e.coordinateToPixelTransform,h),Object(o.a)(e.coordinateToPixelTransform,u),Object(o.a)(e.coordinateToPixelTransform,d),Object(o.a)(e.coordinateToPixelTransform,p),t.save(),Object(c.t)(t,-l,r,s),t.beginPath(),t.moveTo(h[0]*i,h[1]*i),t.lineTo(u[0]*i,u[1]*i),t.lineTo(d[0]*i,d[1]*i),t.lineTo(p[0]*i,p[1]*i),t.clip(),Object(c.t)(t,l,r,s)}clipUnrotated(t,e,n){const i=Object(a.D)(n),r=Object(a.E)(n),s=Object(a.x)(n),l=Object(a.w)(n);Object(o.a)(e.coordinateToPixelTransform,i),Object(o.a)(e.coordinateToPixelTransform,r),Object(o.a)(e.coordinateToPixelTransform,s),Object(o.a)(e.coordinateToPixelTransform,l);const c=this.inversePixelTransform;Object(o.a)(c,i),Object(o.a)(c,r),Object(o.a)(c,s),Object(o.a)(c,l),t.save(),t.beginPath(),t.moveTo(Math.round(i[0]),Math.round(i[1])),t.lineTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(s[0]),Math.round(s[1])),t.lineTo(Math.round(l[0]),Math.round(l[1])),t.clip()}dispatchRenderEvent_(t,e,n){const i=this.getLayer();if(i.hasListener(t)){const s=new r.a(t,this.inversePixelTransform,n,e);i.dispatchEvent(s)}}preRender(t,e){this.dispatchRenderEvent_(s.a.PRERENDER,t,e)}postRender(t,e){this.dispatchRenderEvent_(s.a.POSTRENDER,t,e)}getRenderTransform(t,e,n,i,r,s,a){const l=r/2,c=s/2,h=i/e,u=-h,d=-t[0]+a,p=-t[1];return Object(o.b)(this.tempTransform,l,c,h,u,-n,d,p)}getDataAtPixel(t,e,n){const i=Object(o.a)(this.inversePixelTransform,t.slice()),r=this.context,s=this.getLayer().getExtent();if(s){const n=Object(o.a)(e.pixelToCoordinateTransform,t.slice());if(!Object(a.g)(s,n))return null}let l;try{const t=Math.round(i[0]),e=Math.round(i[1]),n=document.createElement("canvas"),s=n.getContext("2d");n.width=1,n.height=1,s.clearRect(0,0,1,1),s.drawImage(r.canvas,t,e,1,1,0,0,1,1),l=s.getImageData(0,0,1,1).data}catch(c){return"SecurityError"===c.name?new Uint8Array:l}return 0===l[3]?null:l}}},v7Mh:function(t,e,n){"use strict";var i=n("2I+J");class r extends Error{constructor(t){const e="Assertion failed. See https://openlayers.org/en/"+("latest"===i.a?i.a:"v"+i.a.split("-")[0])+"/doc/errors/#"+t+" for details.";super(e),this.code=t,this.name="AssertionError",this.message=e}}e.a=r},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("7o/Q");function r(){}var s=n("n6bG");function o(t,e,n){return function(i){return i.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new l(t,this.nextOrObserver,this.error,this.complete))}}class l extends i.a{constructor(t,e,n,i){super(t),this._tapNext=r,this._tapError=r,this._tapComplete=r,this._tapError=n||r,this._tapComplete=i||r,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||r,this._tapError=e.error||r,this._tapComplete=e.complete||r)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("EQ5u"),r=n("x+ZX"),s=n("XNiG");function o(){return new s.a}function a(){return t=>{return Object(r.a)()((e=o,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,i.b);return r.source=t,r.subjectFactory=n,r})(t));var e}}},wEYg:function(t,e,n){"use strict";var i=n("aBeY"),r=n("AjuZ"),s=n("hKKC"),o=n("VvGk"),a=n("LV+m");class l extends r.a{constructor(t,e){super(),this.setCoordinates(t,e)}clone(){const t=new l(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,e,n,i){const r=this.flatCoordinates,s=Object(a.g)(t,e,r[0],r[1]);if(s<i){const t=this.stride;for(let e=0;e<t;++e)n[e]=r[e];return n.length=t,s}return i}getCoordinates(){return this.flatCoordinates?this.flatCoordinates.slice():[]}computeExtent(t){return Object(s.n)(this.flatCoordinates,t)}getType(){return i.a.POINT}intersectsExtent(t){return Object(s.i)(t,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(o.a)(this.flatCoordinates,0,t,this.stride),this.changed()}}e.a=l},wRPv:function(t,e,n){"use strict";e.a={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"}},wgT7:function(t,e,n){var i,r;void 0===(r="function"==typeof(i=function(){return{OWS_2_0:{n:"OWS_2_0",dens:"http://www.opengis.net/ows/2.0",dans:"http://www.w3.org/1999/xlink",deps:["XLink_1_0"],tis:[{ln:"GetResourceByIdType",ps:[{n:"resourceID",mno:0,col:!0,en:"ResourceID"},{n:"outputFormat",en:"OutputFormat"},{n:"service",rq:!0,an:{lp:"service"},t:"a"},{n:"version",rq:!0,an:{lp:"version"},t:"a"}]},{ln:"DCP",tn:null,ps:[{n:"http",rq:!0,en:"HTTP",ti:".HTTP"}]},{ln:"DomainMetadataType",ps:[{n:"value",t:"v"},{n:"reference",an:{lp:"reference",ns:"http://www.opengis.net/ows/2.0"},t:"a"}]},{ln:"SectionsType",ps:[{n:"section",mno:0,col:!0,en:"Section"}]},{ln:"CapabilitiesBaseType",ps:[{n:"serviceIdentification",en:"ServiceIdentification",ti:".ServiceIdentification"},{n:"serviceProvider",en:"ServiceProvider",ti:".ServiceProvider"},{n:"operationsMetadata",en:"OperationsMetadata",ti:".OperationsMetadata"},{n:"languages",en:"Languages",ti:".CapabilitiesBaseType.Languages"},{n:"version",rq:!0,an:{lp:"version"},t:"a"},{n:"updateSequence",an:{lp:"updateSequence"},t:"a"}]},{ln:"BasicIdentificationType",bti:".DescriptionType",ps:[{n:"identifier",en:"Identifier",ti:".CodeType"},{n:"metadata",mno:0,col:!0,mx:!1,dom:!1,en:"Metadata",ti:".MetadataType",t:"er"}]},{ln:"RangeType",ps:[{n:"minimumValue",en:"MinimumValue",ti:".ValueType"},{n:"maximumValue",en:"MaximumValue",ti:".ValueType"},{n:"spacing",en:"Spacing",ti:".ValueType"},{n:"rangeClosure",ti:{t:"l"},an:{lp:"rangeClosure",ns:"http://www.opengis.net/ows/2.0"},t:"a"}]},{ln:"ServiceProvider",tn:null,ps:[{n:"providerName",rq:!0,en:"ProviderName"},{n:"providerSite",en:"ProviderSite",ti:".OnlineResourceType"},{n:"serviceContact",rq:!0,en:"ServiceContact",ti:".ResponsiblePartySubsetType"}]},{ln:"AcceptFormatsType",ps:[{n:"outputFormat",mno:0,col:!0,en:"OutputFormat"}]},{ln:"MetadataType",ps:[{n:"abstractMetaData",mx:!1,dom:!1,en:"AbstractMetaData",ti:"AnyType",t:"er"},{n:"about",an:{lp:"about"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"ReferenceGroupType",bti:".BasicIdentificationType",ps:[{n:"abstractReferenceBase",rq:!0,col:!0,mx:!1,dom:!1,en:"AbstractReferenceBase",ti:".AbstractReferenceBaseType",t:"er"}]},{ln:"ValuesReference",tn:null,ps:[{n:"value",t:"v"},{n:"reference",rq:!0,an:{lp:"reference",ns:"http://www.opengis.net/ows/2.0"},t:"a"}]},{ln:"AdditionalParametersBaseType",bti:".MetadataType"},{ln:"ResponsiblePartySubsetType",ps:[{n:"individualName",en:"IndividualName"},{n:"positionName",en:"PositionName"},{n:"contactInfo",en:"ContactInfo",ti:".ContactType"},{n:"role",en:"Role",ti:".CodeType"}]},{ln:"NoValues",tn:null},{ln:"AnyValue",tn:null},{ln:"CodeType",ps:[{n:"value",t:"v"},{n:"codeSpace",an:{lp:"codeSpace"},t:"a"}]},{ln:"IdentificationType",bti:".BasicIdentificationType",ps:[{n:"boundingBox",mno:0,col:!0,mx:!1,dom:!1,en:"BoundingBox",ti:".BoundingBoxType",t:"er"},{n:"outputFormat",mno:0,col:!0,en:"OutputFormat"},{n:"availableCRS",mno:0,col:!0,mx:!1,dom:!1,en:"AvailableCRS",t:"er"}]},{ln:"UnNamedDomainType",ps:[{n:"allowedValues",rq:!0,en:"AllowedValues",ti:".AllowedValues"},{n:"anyValue",rq:!0,en:"AnyValue",ti:".AnyValue"},{n:"noValues",rq:!0,en:"NoValues",ti:".NoValues"},{n:"valuesReference",rq:!0,en:"ValuesReference",ti:".ValuesReference"},{n:"defaultValue",en:"DefaultValue",ti:".ValueType"},{n:"meaning",en:"Meaning",ti:".DomainMetadataType"},{n:"dataType",en:"DataType",ti:".DomainMetadataType"},{n:"uom",rq:!0,en:"UOM",ti:".DomainMetadataType"},{n:"referenceSystem",rq:!0,en:"ReferenceSystem",ti:".DomainMetadataType"},{n:"metadata",mno:0,col:!0,mx:!1,dom:!1,en:"Metadata",ti:".MetadataType",t:"er"}]},{ln:"ServiceReferenceType",bti:".ReferenceType",ps:[{n:"requestMessage",rq:!0,en:"RequestMessage",ti:"AnyType"},{n:"requestMessageReference",rq:!0,en:"RequestMessageReference"}]},{ln:"ReferenceType",bti:".AbstractReferenceBaseType",ps:[{n:"identifier",en:"Identifier",ti:".CodeType"},{n:"_abstract",mno:0,col:!0,en:"Abstract",ti:".LanguageStringType"},{n:"format",en:"Format"},{n:"metadata",mno:0,col:!0,mx:!1,dom:!1,en:"Metadata",ti:".MetadataType",t:"er"}]},{ln:"ManifestType",bti:".BasicIdentificationType",ps:[{n:"referenceGroup",rq:!0,col:!0,en:"ReferenceGroup",ti:".ReferenceGroupType"}]},{ln:"TelephoneType",ps:[{n:"voice",mno:0,col:!0,en:"Voice"},{n:"facsimile",mno:0,col:!0,en:"Facsimile"}]},{ln:"ContactType",ps:[{n:"phone",en:"Phone",ti:".TelephoneType"},{n:"address",en:"Address",ti:".AddressType"},{n:"onlineResource",en:"OnlineResource",ti:".OnlineResourceType"},{n:"hoursOfService",en:"HoursOfService"},{n:"contactInstructions",en:"ContactInstructions"}]},{ln:"ExceptionReport",tn:null,ps:[{n:"exception",rq:!0,col:!0,en:"Exception",ti:".ExceptionType"},{n:"version",rq:!0,an:{lp:"version"},t:"a"},{n:"lang",an:{lp:"lang",ns:"http://www.w3.org/XML/1998/namespace"},t:"a"}]},{ln:"OperationsMetadata",tn:null,ps:[{n:"operation",rq:!0,mno:2,col:!0,en:"Operation",ti:".Operation"},{n:"parameter",mno:0,col:!0,en:"Parameter",ti:".DomainType"},{n:"constraint",mno:0,col:!0,en:"Constraint",ti:".DomainType"},{n:"extendedCapabilities",en:"ExtendedCapabilities",ti:"AnyType"}]},{ln:"WGS84BoundingBoxType",bti:".BoundingBoxType"},{ln:"ValueType",ps:[{n:"value",t:"v"}]},{ln:"AddressType",ps:[{n:"deliveryPoint",mno:0,col:!0,en:"DeliveryPoint"},{n:"city",en:"City"},{n:"administrativeArea",en:"AdministrativeArea"},{n:"postalCode",en:"PostalCode"},{n:"country",en:"Country"},{n:"electronicMailAddress",mno:0,col:!0,en:"ElectronicMailAddress"}]},{ln:"GetCapabilitiesType",ps:[{n:"acceptVersions",en:"AcceptVersions",ti:".AcceptVersionsType"},{n:"sections",en:"Sections",ti:".SectionsType"},{n:"acceptFormats",en:"AcceptFormats",ti:".AcceptFormatsType"},{n:"acceptLanguages",en:"AcceptLanguages",ti:".GetCapabilitiesType.AcceptLanguages"},{n:"updateSequence",an:{lp:"updateSequence"},t:"a"}]},{ln:"AcceptVersionsType",ps:[{n:"version",rq:!0,col:!0,en:"Version"}]},{ln:"AdditionalParametersType",bti:".AdditionalParametersBaseType"},{ln:"NilValueType",bti:".CodeType",ps:[{n:"nilReason",an:{lp:"nilReason"},t:"a"}]},{ln:"ExceptionType",ps:[{n:"exceptionText",mno:0,col:!0,en:"ExceptionText"},{n:"exceptionCode",rq:!0,an:{lp:"exceptionCode"},t:"a"},{n:"locator",an:{lp:"locator"},t:"a"}]},{ln:"BoundingBoxType",ps:[{n:"lowerCorner",rq:!0,en:"LowerCorner",ti:{t:"l",bti:"Double"}},{n:"upperCorner",rq:!0,en:"UpperCorner",ti:{t:"l",bti:"Double"}},{n:"crs",an:{lp:"crs"},t:"a"},{n:"dimensions",ti:"PositiveInteger",an:{lp:"dimensions"},t:"a"}]},{ln:"DomainType",bti:".UnNamedDomainType",ps:[{n:"name",rq:!0,an:{lp:"name"},t:"a"}]},{ln:"KeywordsType",ps:[{n:"keyword",rq:!0,col:!0,en:"Keyword",ti:".LanguageStringType"},{n:"type",en:"Type",ti:".CodeType"}]},{ln:"DescriptionType",ps:[{n:"title",mno:0,col:!0,en:"Title",ti:".LanguageStringType"},{n:"_abstract",mno:0,col:!0,en:"Abstract",ti:".LanguageStringType"},{n:"keywords",mno:0,col:!0,en:"Keywords",ti:".KeywordsType"}]},{ln:"Operation",tn:null,ps:[{n:"dcp",rq:!0,col:!0,en:"DCP",ti:".DCP"},{n:"parameter",mno:0,col:!0,en:"Parameter",ti:".DomainType"},{n:"constraint",mno:0,col:!0,en:"Constraint",ti:".DomainType"},{n:"metadata",mno:0,col:!0,mx:!1,dom:!1,en:"Metadata",ti:".MetadataType",t:"er"},{n:"name",rq:!0,an:{lp:"name"},t:"a"}]},{ln:"ContentsBaseType",ps:[{n:"datasetDescriptionSummary",mno:0,col:!0,en:"DatasetDescriptionSummary",ti:".DatasetDescriptionSummaryBaseType"},{n:"otherSource",mno:0,col:!0,en:"OtherSource",ti:".MetadataType"}]},{ln:"ServiceIdentification",tn:null,bti:".DescriptionType",ps:[{n:"serviceType",rq:!0,en:"ServiceType",ti:".CodeType"},{n:"serviceTypeVersion",rq:!0,col:!0,en:"ServiceTypeVersion"},{n:"profile",mno:0,col:!0,en:"Profile"},{n:"fees",en:"Fees"},{n:"accessConstraints",mno:0,col:!0,en:"AccessConstraints"}]},{ln:"ResponsiblePartyType",ps:[{n:"individualName",en:"IndividualName"},{n:"organisationName",en:"OrganisationName"},{n:"positionName",en:"PositionName"},{n:"contactInfo",en:"ContactInfo",ti:".ContactType"},{n:"role",rq:!0,en:"Role",ti:".CodeType"}]},{ln:"DatasetDescriptionSummaryBaseType",bti:".DescriptionType",ps:[{n:"wgs84BoundingBox",mno:0,col:!0,en:"WGS84BoundingBox",ti:".WGS84BoundingBoxType"},{n:"identifier",rq:!0,en:"Identifier",ti:".CodeType"},{n:"boundingBox",mno:0,col:!0,mx:!1,dom:!1,en:"BoundingBox",ti:".BoundingBoxType",t:"er"},{n:"metadata",mno:0,col:!0,mx:!1,dom:!1,en:"Metadata",ti:".MetadataType",t:"er"},{n:"datasetDescriptionSummary",mno:0,col:!0,en:"DatasetDescriptionSummary",ti:".DatasetDescriptionSummaryBaseType"}]},{ln:"RequestMethodType",bti:".OnlineResourceType",ps:[{n:"constraint",mno:0,col:!0,en:"Constraint",ti:".DomainType"}]},{ln:"LanguageStringType",ps:[{n:"value",t:"v"},{n:"lang",an:{lp:"lang",ns:"http://www.w3.org/XML/1998/namespace"},t:"a"}]},{ln:"AllowedValues",tn:null,ps:[{n:"valueOrRange",rq:!0,col:!0,etis:[{en:"Value",ti:".ValueType"},{en:"Range",ti:".RangeType"}],t:"es"}]},{ln:"GetCapabilitiesType.AcceptLanguages",tn:null,ps:[{n:"language",rq:!0,col:!0,en:"Language",ti:"Language"}]},{ln:"OnlineResourceType",ps:[{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"CapabilitiesBaseType.Languages",tn:null,ps:[{n:"language",rq:!0,col:!0,en:"Language",ti:"Language"}]},{ln:"HTTP",tn:null,ps:[{n:"getOrPost",rq:!0,col:!0,mx:!1,dom:!1,etis:[{en:"Post",ti:".RequestMethodType"},{en:"Get",ti:".RequestMethodType"}],t:"ers"}]},{ln:"AbstractReferenceBaseType",ps:[{n:"type",an:{lp:"type",ns:"http://www.opengis.net/ows/2.0"},t:"a"},{n:"href",rq:!0,t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"AdditionalParameter",tn:null,ps:[{n:"name",rq:!0,en:"Name",ti:".CodeType"},{n:"value",rq:!0,col:!0,en:"Value",ti:"AnyType"}]}],eis:[{en:"Operation",ti:".Operation"},{en:"OtherSource",ti:".MetadataType"},{en:"AdditionalParameter",ti:".AdditionalParameter",sh:"AbstractMetaData"},{en:"AdditionalParameters",ti:".AdditionalParametersType",sh:"Metadata"},{en:"NoValues",ti:".NoValues"},{en:"ServiceReference",ti:".ServiceReferenceType",sh:"Reference"},{en:"MinimumValue",ti:".ValueType"},{en:"AbstractReferenceBase",ti:".AbstractReferenceBaseType"},{en:"Metadata",ti:".MetadataType"},{en:"GetResourceByID",ti:".GetResourceByIdType"},{en:"AbstractMetaData",ti:"AnyType"},{en:"Abstract",ti:".LanguageStringType"},{en:"OperationsMetadata",ti:".OperationsMetadata"},{en:"DatasetDescriptionSummary",ti:".DatasetDescriptionSummaryBaseType"},{en:"AvailableCRS"},{en:"GetCapabilities",ti:".GetCapabilitiesType"},{en:"OrganisationName"},{en:"ContactInfo",ti:".ContactType"},{en:"Manifest",ti:".ManifestType"},{en:"PointOfContact",ti:".ResponsiblePartyType"},{en:"DefaultValue",ti:".ValueType"},{en:"HTTP",ti:".HTTP"},{en:"Exception",ti:".ExceptionType"},{en:"ExtendedCapabilities",ti:"AnyType"},{en:"AnyValue",ti:".AnyValue"},{en:"Spacing",ti:".ValueType"},{en:"Resource",ti:"AnyType"},{en:"OperationResponse",ti:".ManifestType"},{en:"DataType",ti:".DomainMetadataType"},{en:"Identifier",ti:".CodeType"},{en:"nilValue",ti:".NilValueType"},{en:"Language",ti:"Language"},{en:"AllowedValues",ti:".AllowedValues"},{en:"Post",ti:".RequestMethodType",sc:".HTTP"},{en:"SupportedCRS",sh:"AvailableCRS"},{en:"Role",ti:".CodeType"},{en:"ReferenceGroup",ti:".ReferenceGroupType"},{en:"Meaning",ti:".DomainMetadataType"},{en:"Value",ti:".ValueType"},{en:"DCP",ti:".DCP"},{en:"Range",ti:".RangeType"},{en:"Fees"},{en:"InputData",ti:".ManifestType"},{en:"OutputFormat"},{en:"AccessConstraints"},{en:"ServiceProvider",ti:".ServiceProvider"},{en:"UOM",ti:".DomainMetadataType"},{en:"IndividualName"},{en:"Title",ti:".LanguageStringType"},{en:"MaximumValue",ti:".ValueType"},{en:"ValuesReference",ti:".ValuesReference"},{en:"ReferenceSystem",ti:".DomainMetadataType"},{en:"PositionName"},{en:"Keywords",ti:".KeywordsType"},{en:"WGS84BoundingBox",ti:".WGS84BoundingBoxType",sh:"BoundingBox"},{en:"BoundingBox",ti:".BoundingBoxType"},{en:"Reference",ti:".ReferenceType",sh:"AbstractReferenceBase"},{en:"ServiceIdentification",ti:".ServiceIdentification"},{en:"Get",ti:".RequestMethodType",sc:".HTTP"},{en:"ExceptionReport",ti:".ExceptionReport"}]}}})?i.apply(e,[]):i)||(t.exports=r)},wmha:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a});var i=n("tFPJ"),r=n("XI78"),s=n("PqmH");const o=new WeakMap,a=(t,e,n)=>{let a=o.get(e);void 0===a&&(Object(i.b)(e,e.firstChild),o.set(e,a=new r.d(Object.assign({templateFactory:s.b},n))),a.appendInto(e)),a.setValue(t),a.commit()}},wuBr:function(t,e,n){"use strict";var i=n("7MqJ"),r=n("r0tu");e.a=class extends i.a{constructor(t){const e=t||{},n=void 0!==e.projection?e.projection:"EPSG:3857",i=void 0!==e.tileGrid?e.tileGrid:Object(r.b)({extent:Object(r.c)(n),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,imageSmoothing:e.imageSmoothing,opaque:e.opaque,projection:n,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})}}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("7o/Q");function r(){return function(t){return t.lift(new s(t))}}class s{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const i=new o(t,n),r=e.subscribe(i);return i.closed||(i.connection=n.connect()),r}}class o extends i.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,i=t._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}},xXok:function(t,e,n){"use strict";e.a={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"}},xbPD:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("7o/Q");function r(t=null){return e=>e.lift(new s(t))}class s{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new o(t,this.defaultValue))}}class o extends i.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},xgIS:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("HDdC"),r=n("DH7j"),s=n("n6bG"),o=n("lJxs");function a(t,e,n,c){return Object(s.a)(n)&&(c=n,n=void 0),c?a(t,e,n).pipe(Object(o.a)(t=>Object(r.a)(t)?c(...t):c(t))):new i.a(i=>{l(t,e,function(t){i.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},i,n)})}function l(t,e,n,i,r){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const i=t;t.addEventListener(e,n,r),s=()=>i.removeEventListener(e,n,r)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const i=t;t.on(e,n),s=()=>i.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const i=t;t.addListener(e,n),s=()=>i.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let s=0,o=t.length;s<o;s++)l(t[s],e,n,i,r)}i.add(s)}},xrpK:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return s}),n.d(e,"c",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"e",function(){return l}),n.d(e,"f",function(){return c}),n.d(e,"g",function(){return h}),n.d(e,"h",function(){return u}),n.d(e,"i",function(){return d}),n.d(e,"j",function(){return p}),n.d(e,"k",function(){return f});var i=n("jVi3");function r(t){return s(Object(i.d)(t,!1))}function s(t){const e=/^\s*(true|1)|(false|0)\s*$/.exec(t);return e?void 0!==e[1]||!1:void 0}function o(t){return a(Object(i.d)(t,!1))}function a(t){const e=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(t);return e?parseFloat(e[1]):void 0}function l(t){return c(Object(i.d)(t,!1))}function c(t){const e=/^\s*(\d+)\s*$/.exec(t);return e?parseInt(e[1],10):void 0}function h(t){return Object(i.d)(t,!1).trim()}function u(t,e){f(t,e?"1":"0")}function d(t,e){t.appendChild(Object(i.e)().createCDATASection(e))}function p(t,e){const n=e.toPrecision();t.appendChild(Object(i.e)().createTextNode(n))}function f(t,e){t.appendChild(Object(i.e)().createTextNode(e))}n("j5yL")},y5Nx:function(t,e,n){"use strict";var i=n("U1NS");e.a=class extends i.a{constructor(t){super(t||{})}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("HDdC"),r=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new i.a(Object(r.a)(t))}},"z+Ro":function(t,e,n){"use strict";function i(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return i})},zJp8:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("uJJw");function r(t){return Array.isArray(t)?Object(i.c)(t):t}},zP0r:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("7o/Q");function r(t){return e=>e.lift(new s(t))}class s{constructor(t){this.total=t}call(t,e){return e.subscribe(new o(t,this.total))}}class o extends i.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}},zmPu:function(t,e,n){"use strict";var i=n("U1NS"),r=n("JaUx"),s=n.n(r),o=n("Bpkx"),a=n("sOX2");e.a=class extends i.a{constructor(t){const e=t||{},n=Object(o.a)({},e);delete n.style,delete n.renderBuffer,delete n.updateWhileAnimating,delete n.updateWhileInteracting,super(n),this.declutter_=void 0!==e.declutter&&e.declutter,this.renderBuffer_=void 0!==e.renderBuffer?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=void 0!==e.updateWhileAnimating&&e.updateWhileAnimating,this.updateWhileInteracting_=void 0!==e.updateWhileInteracting&&e.updateWhileInteracting}getDeclutter(){return this.declutter_}getFeatures(t){return super.getFeatures(t)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get("renderOrder")}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(t){t.declutterTree||(t.declutterTree=new s.a(9)),this.getRenderer().renderDeclutter(t)}setRenderOrder(t){this.set("renderOrder",t)}setStyle(t){this.style_=void 0!==t?t:a.a,this.styleFunction_=null===t?void 0:Object(a.c)(this.style_),this.changed()}}},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return l});var i=n("7o/Q"),r=n("HDdC"),s=n("SeVD");class o extends i.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends i.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function l(t,e){if(e.closed)return;if(t instanceof r.a)return t.subscribe(e);let n;try{n=Object(s.a)(t)(e)}catch(i){e.error(i)}return n}}}]);