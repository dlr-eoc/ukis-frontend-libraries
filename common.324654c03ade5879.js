"use strict";(self.webpackChunkdemo_maps=self.webpackChunkdemo_maps||[]).push([[592],{2605:(x,v,t)=>{t.d(v,{F:()=>u});var n=t(3714),e=t(7243),p=t(3223);function g(c,l){if(1&c&&(n.TgZ(0,"clr-dg-column"),n._uU(1),n.qZA()),2&c){const i=l.$implicit;n.xp6(1),n.Oqu(i.key)}}function m(c,l){if(1&c&&(n.TgZ(0,"clr-dg-cell"),n._uU(1),n.qZA()),2&c){const i=l.$implicit;n.xp6(1),n.Oqu(i.value)}}let u=(()=>{class c{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275cmp=n.Xpm({type:c,selectors:[["app-table-popup"]],inputs:{data:"data"},decls:6,vars:6,consts:[[4,"ngFor","ngForOf"]],template:function(d,r){1&d&&(n.TgZ(0,"clr-datagrid"),n.YNc(1,g,2,1,"clr-dg-column",0),n.ALo(2,"keyvalue"),n.TgZ(3,"clr-dg-row"),n.YNc(4,m,2,1,"clr-dg-cell",0),n.ALo(5,"keyvalue"),n.qZA()()),2&d&&(n.xp6(1),n.Q6J("ngForOf",n.lcZ(2,2,r.data)),n.xp6(3),n.Q6J("ngForOf",n.lcZ(5,4,r.data)))},dependencies:[e.C9t,e.fv_,e.m4W,e.Z4N,e.jND,e.KHL,e.PDs,e.Gcc,e.dml,e.Nh1,e.K8c,p.sg,p.Nd]})}return c})()},1832:(x,v,t)=>{t.d(v,{C:()=>l});var n=t(7704),e=t(3714),p=t(9631),g=t(3223),m=t(9223),u=t(7243);function c(i,d){if(1&i&&(e.TgZ(0,"option",9),e._uU(1),e.qZA()),2&i){const r=d.$implicit;e.Q6J("value",r.value),e.xp6(1),e.Oqu(r.title)}}let l=(()=>{class i{constructor(r){this.mapSvc=r,this.mapCoordinates=[0,0],this.zoom=0,this.precision=2,this.x="Lon",this.y="Lat",this.mapMoveSubscription=o=>{o.coordinate&&(this.mapCoordinates=(0,n.vs)(o.coordinate,this.mapProjection,(0,n.U2)(this.selectedProjection)))},this.mapOnMoveend=o=>{const s=o.map.getView().getZoom();this.zoom!==s&&(this.zoom=s)},this.mapSub=this.mapSvc.projectionChange.subscribe(o=>{this.mapProjection=o,this.setProjection(o)})}ngOnInit(){this.mapSvc.map.on("pointermove",this.mapMoveSubscription),this.mapSvc.map.on("moveend",this.mapOnMoveend)}setProjection(r){const o=r.getCode();this.projections="EPSG:4326"===o?[{title:o,value:o}]:[{title:"EPSG:4326",value:"EPSG:4326"},{title:o,value:o}],this.selectedProjection=this.projections[0].value}ngOnDestroy(){this.mapSvc.map.un("pointermove",this.mapMoveSubscription),this.mapSvc.map.un("moveend",this.mapOnMoveend),this.mapSub.unsubscribe()}onChangeProj(r){const o=r.target.value;"EPSG:4326"===o?(this.x="Lon",this.y="Lat"):(this.x="X",this.y="Y");const s=this.selectedProjection;this.selectedProjection=o,this.mapCoordinates=(0,n.vs)(this.mapCoordinates,(0,n.U2)(s),(0,n.U2)(this.selectedProjection))}toPrecision(r,o){return r.toFixed(o)}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(p.BR))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["ukis-mouse-position"]],decls:27,vars:7,consts:[[1,"mouse-position-control"],[1,"clr-row"],[1,"clr-col-7"],[1,"output-container"],[1,"clr-col-5"],[1,"input-container"],["clrSelect","",3,"change"],[3,"value",4,"ngFor","ngForOf"],["type","number","min","0","max","12","name","precision","clrInput","",3,"ngModel","ngModelChange"],[3,"value"]],template:function(o,s){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"b"),e._uU(6),e.qZA(),e._uU(7),e.qZA(),e.TgZ(8,"div")(9,"b"),e._uU(10),e.qZA(),e._uU(11),e.qZA(),e.TgZ(12,"div")(13,"b"),e._uU(14,"Zoom"),e.qZA(),e._uU(15),e.qZA()()(),e.TgZ(16,"div",4)(17,"div",5)(18,"clr-select-container")(19,"label"),e._uU(20,"Projection "),e.qZA(),e.TgZ(21,"select",6),e.NdJ("change",function(_){return s.onChangeProj(_)}),e.YNc(22,c,2,2,"option",7),e.qZA()(),e.TgZ(23,"clr-input-container")(24,"label"),e._uU(25,"Precision "),e.qZA(),e.TgZ(26,"input",8),e.NdJ("ngModelChange",function(_){return s.precision=_}),e.qZA()()()()()()),2&o&&(e.xp6(6),e.Oqu(s.x),e.xp6(1),e.hij(" ",s.toPrecision(s.mapCoordinates[0],s.precision),""),e.xp6(3),e.Oqu(s.y),e.xp6(1),e.hij(" ",s.toPrecision(s.mapCoordinates[1],s.precision),""),e.xp6(4),e.hij(" ",s.toPrecision(s.zoom,s.precision),""),e.xp6(7),e.Q6J("ngForOf",s.projections),e.xp6(4),e.Q6J("ngModel",s.precision))},dependencies:[g.sg,m.YN,m.Kr,m.Fj,m.wV,m.JJ,m.qQ,m.Fd,m.On,u.MgK,u.xRP,u.G55,u.otW,u.dTv],styles:[".mouse-position-control[_ngcontent-%COMP%]{margin-left:.2rem;padding-bottom:.4rem}.mouse-position-control[_ngcontent-%COMP%]   .output-container[_ngcontent-%COMP%]{line-height:1.6rem}.mouse-position-control[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .clr-form-control[_ngcontent-%COMP%]:first-child{margin-top:0rem}"]})}return i})()},1324:(x,v,t)=>{t.d(v,{X8:()=>u}),t(1832);var e=t(3223),p=t(9223),g=t(7243),m=t(3714);let u=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=m.oAB({type:c});static#o=this.\u0275inj=m.cJS({imports:[e.ez,p.u5,g.K6A]})}return c})()},6082:(x,v,t)=>{t.d(v,{Z:()=>_});var n=t(276),e=t(2041),p=t(9727),g=t(4855),m=t(8105),u=t(6343),c=t(3727),l=t(1880),i=t(4836),d=t(8390),r=t(77);const s=class o extends e.Z{constructor(a){super(a),this.vectorRenderer_=new p.Z(a),this.layerImageRatio_=a.getImageRatio(),this.coordinateToVectorPixelTransform_=(0,i.Ue)(),this.renderedPixelToCoordinateTransform_=null}disposeInternal(){this.vectorRenderer_.dispose(),super.disposeInternal()}getFeatures(a){if(!this.vectorRenderer_)return Promise.resolve([]);const h=(0,i.nn)(this.coordinateToVectorPixelTransform_,(0,i.nn)(this.renderedPixelToCoordinateTransform_,a.slice()));return this.vectorRenderer_.getFeatures(h)}handleFontsChanged(){this.vectorRenderer_.handleFontsChanged()}prepareFrame(a){const h=a.pixelRatio,T=a.viewState,O=T.resolution,R=a.viewHints,P=this.vectorRenderer_;let f=a.extent;1!==this.layerImageRatio_&&(f=f.slice(0),(0,r.H9)(f,this.layerImageRatio_));const y=(0,r.dz)(f)/O,D=(0,r.Cr)(f)/O;if(!R[l.Z.ANIMATING]&&!R[l.Z.INTERACTING]&&!(0,r.xb)(f)){P.useContainer(null,null);const U=P.context,S=Object.assign({},a.layerStatesArray[a.layerIndex],{opacity:1}),M=Object.assign({},a,{extent:f,size:[y,D],viewState:Object.assign({},a.viewState,{rotation:0}),layerStatesArray:[S],layerIndex:0,declutter:null}),j=this.getLayer().getDeclutter();j&&(M.declutter={[j]:new c(9)});let L=!0;const E=new m.Z(f,O,h,U.canvas,function(I){P.prepareFrame(M)&&P.replayGroupChanged&&(P.clipping=!1,P.renderFrame(M,null)&&(P.renderDeclutter(M),P.renderDeferred(M),L=!1),I())});E.addEventListener(g.Z.CHANGE,()=>{if(E.getState()!==u.Z.LOADED)return;this.image_=L?null:E;const I=E.getPixelRatio(),Z=(0,d.D)(E.getResolution())*h/I;this.renderedResolution=Z,this.coordinateToVectorPixelTransform_=(0,i.qC)(this.coordinateToVectorPixelTransform_,y/2,D/2,1/Z,-1/Z,0,-T.center[0],-T.center[1])}),E.load()}return this.image_&&(this.renderedPixelToCoordinateTransform_=a.pixelToCoordinateTransform.slice()),!!this.image_}preRender(){}postRender(){}renderDeclutter(){}forEachFeatureAtCoordinate(a,h,T,O,R){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(a,h,T,O,R):super.forEachFeatureAtCoordinate(a,h,T,O,R)}},_=class C extends n.Z{constructor(a){a=a||{};const h=Object.assign({},a);delete h.imageRatio,super(h),this.imageRatio_=void 0!==a.imageRatio?a.imageRatio:1}getImageRatio(){return this.imageRatio_}createRenderer(){return new s(this)}}},1963:(x,v,t)=>{t.d(v,{CR:()=>c,u3:()=>u});var n=t(8286),e=t(4836),p=t(4300),g=t(7704);function u(l){if(!(l.context instanceof CanvasRenderingContext2D))throw new Error("Only works for render events from Canvas 2D layers");const i=l.inversePixelTransform[0],d=l.inversePixelTransform[1],r=Math.sqrt(i*i+d*d),o=l.frameState,s=(0,e.Jp)(l.inversePixelTransform.slice(),o.coordinateToPixelTransform),C=(0,p.se)(o.viewState.resolution,r);let _;const A=(0,g.Cs)();return A&&(_=(0,g.WO)(A,o.viewState.projection)),new n.Z(l.context,r,o.extent,s,o.viewState.rotation,C,_)}function c(l,i){return(0,e.nn)(l.inversePixelTransform,i.slice(0))}}}]);