!function(){var e,t,n,i;function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function a(e,t,n,i,r,a,o){try{var s=e[a](o),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(i,r)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(i,r){var o=e.apply(t,n);function s(e){a(o,i,r,s,l,"next",e)}function l(e){a(o,i,r,s,l,"throw",e)}s(void 0)})}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var i,r,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);o=!0);}catch(l){s=!0,r=l}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return a}(e,t)||f(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e){var t="function"==typeof Map?new Map:void 0;return(u=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return c(e,arguments,C(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),S(i,e)})(e)}function c(e,t,n){return(c=E()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&S(r,n.prototype),r}).apply(null,arguments)}function h(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=f(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function d(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||f(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function v(e,t,n){return(v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=C(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function g(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function y(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),e}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){var t=E();return function(){var n,i=C(e);if(t){var r=C(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return w(this,n)}}function w(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?x(e):t}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"+L8p":function(e,t,n){"use strict";var i=n("wuBr");t.a=function(e){b(n,e);var t=T(n);function n(e){_(this,n);var i,r=e||{};return i=void 0!==r.attributions?r.attributions:['&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.'],t.call(this,{attributions:i,attributionsCollapsible:!1,cacheSize:r.cacheSize,crossOrigin:void 0!==r.crossOrigin?r.crossOrigin:"anonymous",imageSmoothing:r.imageSmoothing,maxZoom:void 0!==r.maxZoom?r.maxZoom:19,opaque:void 0===r.opaque||r.opaque,reprojectionErrorThreshold:r.reprojectionErrorThreshold,tileLoadFunction:r.tileLoadFunction,transition:r.transition,url:void 0!==r.url?r.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:r.wrapX})}return n}(i.a)},"+WER":function(e,t,n){"use strict";n.d(t,"b",function(){return u});var i=n("9CgO"),r=n("5NHM"),a=n("lXae"),o=n("FRHD"),s=n("hKKC"),l=n("FHfp");function u(e,t,n){var r=e;if(r.src&&o.c){var a=r.decode(),s=!0;return a.then(function(){s&&t()}).catch(function(e){s&&("EncodingError"===e.name&&"Invalid image type."===e.message?t():n())}),function(){s=!1}}var u=[Object(l.b)(r,i.a.LOAD,t),Object(l.b)(r,i.a.ERROR,n)];return function(){u.forEach(l.c)}}t.a=function(e){b(n,e);var t=T(n);function n(e,i,r,o,s,l){var u;return _(this,n),(u=t.call(this,e,i,r,a.a.IDLE)).src_=o,u.image_=new Image,null!==s&&(u.image_.crossOrigin=s),u.unlisten_=null,u.state=a.a.IDLE,u.imageLoadFunction_=l,u}return y(n,[{key:"getImage",value:function(){return this.image_}},{key:"handleImageError_",value:function(){this.state=a.a.ERROR,this.unlistenImage_(),this.changed()}},{key:"handleImageLoad_",value:function(){void 0===this.resolution&&(this.resolution=Object(s.B)(this.extent)/this.image_.height),this.state=a.a.LOADED,this.unlistenImage_(),this.changed()}},{key:"load",value:function(){this.state!=a.a.IDLE&&this.state!=a.a.ERROR||(this.state=a.a.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=u(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}},{key:"setImage",value:function(e){this.image_=e}},{key:"unlistenImage_",value:function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}]),n}(r.a)},"+hOz":function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"c",function(){return o});var i=n("bwl8"),r=n("orbG");function a(e,t,n){var i=e.getCenterInternal();i&&e.animateInternal({duration:void 0!==n?n:250,easing:r.d,center:e.getConstrainedCenter([i[0]+t[0],i[1]+t[1]])})}function o(e,t,n,i){var a=e.getZoom();if(void 0!==a){var o=e.getConstrainedZoom(a+t),s=e.getResolutionForZoom(o);e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:s,anchor:n,duration:void 0!==i?i:250,easing:r.b})}}t.a=function(e){b(n,e);var t=T(n);function n(e){var i;return _(this,n),i=t.call(this),e&&e.handleEvent&&(i.handleEvent=e.handleEvent),i.map_=null,i.setActive(!0),i}return y(n,[{key:"getActive",value:function(){return this.get("active")}},{key:"getMap",value:function(){return this.map_}},{key:"handleEvent",value:function(e){return!0}},{key:"setActive",value:function(e){this.set("active",e)}},{key:"setMap",value:function(e){this.map_=e}}]),n}(i.a)},"/uUt":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("7o/Q");function r(e,t){return function(n){return n.lift(new a(e,t))}}var a=function(){function e(t,n){_(this,e),this.compare=t,this.keySelector=n}return y(e,[{key:"call",value:function(e,t){return t.subscribe(new o(e,this.compare,this.keySelector))}}]),e}(),o=function(e){b(n,e);var t=T(n);function n(e,i,r){var a;return _(this,n),(a=t.call(this,e)).keySelector=r,a.hasKey=!1,"function"==typeof i&&(a.compare=i),a}return y(n,[{key:"compare",value:function(e,t){return e===t}},{key:"_next",value:function(e){var t;try{var n=this.keySelector;t=n?n(e):e}catch(r){return this.destination.error(r)}var i=!1;if(this.hasKey)try{i=(0,this.compare)(this.key,t)}catch(r){return this.destination.error(r)}else this.hasKey=!0;i||(this.key=t,this.destination.next(e))}}]),n}(i.a)},"0Fwh":function(e,t,n){"use strict";t.a={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},"0T8a":function(e,t,n){"use strict";var i=n("lXae"),r=n("rfxS"),a=n("uJJw"),o=n("zJp8"),s=n("Cw4B"),l=n("4cD7"),u=function(e){b(n,e);var t=T(n);function n(e){_(this,n);var i=e||{};return t.call(this,{points:1/0,fill:i.fill,radius:i.radius,stroke:i.stroke,scale:void 0!==i.scale?i.scale:1,rotation:void 0!==i.rotation?i.rotation:0,rotateWithView:void 0!==i.rotateWithView&&i.rotateWithView,displacement:void 0!==i.displacement?i.displacement:[0,0]})}return y(n,[{key:"clone",value:function(){var e=this.getScale(),t=new n({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});return t.setOpacity(this.getOpacity()),t}},{key:"setRadius",value:function(e){this.radius_=e,this.render()}}]),n}(function(e){b(n,e);var t=T(n);function n(e){var i;return _(this,n),(i=t.call(this,{opacity:1,rotateWithView:void 0!==e.rotateWithView&&e.rotateWithView,rotation:void 0!==e.rotation?e.rotation:0,scale:void 0!==e.scale?e.scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0]})).canvas_={},i.hitDetectionCanvas_=null,i.fill_=void 0!==e.fill?e.fill:null,i.origin_=[0,0],i.points_=e.points,i.radius_=void 0!==e.radius?e.radius:e.radius1,i.radius2_=e.radius2,i.angle_=void 0!==e.angle?e.angle:0,i.stroke_=void 0!==e.stroke?e.stroke:null,i.anchor_=null,i.size_=null,i.imageSize_=null,i.hitDetectionImageSize_=null,i.render(),i}return y(n,[{key:"clone",value:function(){var e=this.getScale(),t=new n({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice()});return t.setOpacity(this.getOpacity()),t}},{key:"getAnchor",value:function(){return this.anchor_}},{key:"getAngle",value:function(){return this.angle_}},{key:"getFill",value:function(){return this.fill_}},{key:"getHitDetectionImage",value:function(){if(!this.hitDetectionCanvas_){var e=this.createRenderOptions();this.createHitDetectionCanvas_(e)}return this.hitDetectionCanvas_}},{key:"getImage",value:function(e){if(!this.canvas_[e||1]){var t=this.createRenderOptions(),n=Object(s.a)(t.size*e||1,t.size*e||1);this.draw_(t,n,0,0,e||1),this.canvas_[e||1]=n.canvas}return this.canvas_[e||1]}},{key:"getPixelRatio",value:function(e){return e}},{key:"getImageSize",value:function(){return this.imageSize_}},{key:"getHitDetectionImageSize",value:function(){return this.hitDetectionImageSize_}},{key:"getImageState",value:function(){return i.a.LOADED}},{key:"getOrigin",value:function(){return this.origin_}},{key:"getPoints",value:function(){return this.points_}},{key:"getRadius",value:function(){return this.radius_}},{key:"getRadius2",value:function(){return this.radius2_}},{key:"getSize",value:function(){return this.size_}},{key:"getStroke",value:function(){return this.stroke_}},{key:"listenImageChange",value:function(e){}},{key:"load",value:function(){}},{key:"unlistenImageChange",value:function(e){}},{key:"createRenderOptions",value:function(){var e,t=l.e,n=l.h,i=0,r=null,a=0,s=0;return this.stroke_&&(null===(e=this.stroke_.getColor())&&(e=l.l),e=Object(o.a)(e),void 0===(s=this.stroke_.getWidth())&&(s=l.i),r=this.stroke_.getLineDash(),a=this.stroke_.getLineDashOffset(),void 0===(n=this.stroke_.getLineJoin())&&(n=l.h),void 0===(t=this.stroke_.getLineCap())&&(t=l.e),void 0===(i=this.stroke_.getMiterLimit())&&(i=l.j)),{strokeStyle:e,strokeWidth:s,size:2*(this.radius_+s)+1,lineCap:t,lineDash:r,lineDashOffset:a,lineJoin:n,miterLimit:i}}},{key:"render",value:function(){var e=this.createRenderOptions(),t=Object(s.a)(e.size,e.size);this.draw_(e,t,0,0,1),this.canvas_={},this.canvas_[1]=t.canvas;var n=t.canvas.width,i=n,r=this.getDisplacement();this.hitDetectionImageSize_=[e.size,e.size],this.createHitDetectionCanvas_(e),this.anchor_=[n/2-r[0],n/2+r[1]],this.size_=[n,n],this.imageSize_=[i,i]}},{key:"draw_",value:function(e,t,n,i,r){var a,s,u;t.setTransform(r,0,0,r,0,0),t.translate(n,i),t.beginPath();var c=this.points_;if(c===1/0)t.arc(e.size/2,e.size/2,this.radius_,0,2*Math.PI,!0);else{var h=void 0!==this.radius2_?this.radius2_:this.radius_;for(h!==this.radius_&&(c*=2),a=0;a<=c;a++)s=2*a*Math.PI/c-Math.PI/2+this.angle_,u=a%2==0?this.radius_:h,t.lineTo(e.size/2+u*Math.cos(s),e.size/2+u*Math.sin(s))}if(this.fill_){var d=this.fill_.getColor();null===d&&(d=l.c),t.fillStyle=Object(o.a)(d),t.fill()}this.stroke_&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,t.setLineDash&&e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineCap=e.lineCap,t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke()),t.closePath()}},{key:"createHitDetectionCanvas_",value:function(e){if(this.hitDetectionCanvas_=this.getImage(1),this.fill_){var t=this.fill_.getColor(),n=0;if("string"==typeof t&&(t=Object(a.a)(t)),null===t?n=1:Array.isArray(t)&&(n=4===t.length?t[3]:1),0===n){var i=Object(s.a)(e.size,e.size);this.hitDetectionCanvas_=i.canvas,this.drawHitDetectionCanvas_(e,i,0,0)}}}},{key:"drawHitDetectionCanvas_",value:function(e,t,n,i){t.translate(n,i),t.beginPath();var r=this.points_;if(r===1/0)t.arc(e.size/2,e.size/2,this.radius_,0,2*Math.PI,!0);else{var a,o,s,u=void 0!==this.radius2_?this.radius2_:this.radius_;for(u!==this.radius_&&(r*=2),a=0;a<=r;a++)s=2*a*Math.PI/r-Math.PI/2+this.angle_,o=a%2==0?this.radius_:u,t.lineTo(e.size/2+o*Math.cos(s),e.size/2+o*Math.sin(s))}t.fillStyle=l.c,t.fill(),this.stroke_&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.stroke()),t.closePath()}}]),n}(r.a));t.a=u},"0o2U":function(e,t,n){"use strict";n.d(t,"b",function(){return o});var i=n("RGpb"),r=n("9CgO"),a=n("FHfp");function o(e){if(Array.isArray(e))for(var t=0,n=e.length;t<n;++t)Object(a.c)(e[t]);else Object(a.c)(e)}t.a=function(e){b(n,e);var t=T(n);function n(){var e;return _(this,n),(e=t.call(this)).revision_=0,e}return y(n,[{key:"changed",value:function(){++this.revision_,this.dispatchEvent(r.a.CHANGE)}},{key:"getRevision",value:function(){return this.revision_}},{key:"on",value:function(e,t){if(Array.isArray(e)){for(var n=e.length,i=new Array(n),r=0;r<n;++r)i[r]=Object(a.a)(this,e[r],t);return i}return Object(a.a)(this,e,t)}},{key:"once",value:function(e,t){var n;if(Array.isArray(e)){var i=e.length;n=new Array(i);for(var r=0;r<i;++r)n[r]=Object(a.b)(this,e[r],t)}else n=Object(a.b)(this,e,t);return t.ol_key=n,n}},{key:"un",value:function(e,t){var n=t.ol_key;if(n)o(n);else if(Array.isArray(e))for(var i=0,r=e.length;i<r;++i)this.removeEventListener(e[i],t);else this.removeEventListener(e,t)}}]),n}(i.a)},"0sIq":function(e,t,n){"use strict";n.d(t,"a",function(){return d});var i=n("1M8w"),r=n("JS5d"),a=n("aBeY"),o=n("Lwyg"),s=n("zJp8"),l=n("4cD7"),u=n("2I+J"),c=n("hKKC");function h(e,t,n,i,r){var a,o,s,l,u,c,h,d,f,p=n,m=n,v=0,g=0,y=n;for(a=n;a<i;a+=r){var _=t[a],b=t[a+1];void 0!==l&&(d=_-l,f=b-u,s=Math.sqrt(d*d+f*f),void 0!==c&&(g+=o,Math.acos((c*d+h*f)/(o*s))>e&&(g>v&&(v=g,p=y,m=a),g=0,y=a-r)),o=s,c=d,h=f),l=_,u=b}return(g+=s)>v?[y,a]:[p,m]}var d={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};t.b=function(e){b(n,e);var t=T(n);function n(e,i,r,a){var o;return _(this,n),(o=t.call(this,e,i,r,a)).labels_=null,o.text_="",o.textOffsetX_=0,o.textOffsetY_=0,o.textRotateWithView_=void 0,o.textRotation_=0,o.textFillState_=null,o.fillStates={},o.textStrokeState_=null,o.strokeStates={},o.textState_={},o.textStates={},o.textKey_="",o.fillKey_="",o.strokeKey_="",o.declutterImageWithText_=void 0,o}return y(n,[{key:"finish",value:function(){var e=v(C(n.prototype),"finish",this).call(this);return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e}},{key:"drawText",value:function(e,t){var n=this.textState_;if(""!==this.text_&&n&&(this.textFillState_||this.textStrokeState_)){var i=this.coordinates,s=i.length,u=e.getType(),d=null,f=e.getStride();if(n.placement!==o.a.LINE||u!=a.a.LINE_STRING&&u!=a.a.MULTI_LINE_STRING&&u!=a.a.POLYGON&&u!=a.a.MULTI_POLYGON){var p=n.overflow?null:[];switch(u){case a.a.POINT:case a.a.MULTI_POINT:d=e.getFlatCoordinates();break;case a.a.LINE_STRING:d=e.getFlatMidpoint();break;case a.a.CIRCLE:d=e.getCenter();break;case a.a.MULTI_LINE_STRING:d=e.getFlatMidpoints(),f=2;break;case a.a.POLYGON:d=e.getFlatInteriorPoint(),n.overflow||p.push(d[2]/this.resolution),f=3;break;case a.a.MULTI_POLYGON:var m=e.getFlatInteriorPoints();d=[];for(var v=0,g=m.length;v<g;v+=3)n.overflow||p.push(m[v+2]/this.resolution),d.push(m[v],m[v+1]);if(0===d.length)return;f=2}var y=this.appendFlatPointCoordinates(d,f);if(y===s)return;this.saveTextStates_(),(n.backgroundFill||n.backgroundStroke)&&(this.setFillStrokeStyle(n.backgroundFill,n.backgroundStroke),n.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),n.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(e,t);var _=n.padding;if(_!=l.k&&(n.scale[0]<0||n.scale[1]<0)){var b=n.padding[0],S=n.padding[1],T=n.padding[2],w=n.padding[3];n.scale[0]<0&&(S=-S,w=-w),n.scale[1]<0&&(b=-b,T=-T),_=[b,S,T,w]}var x=this.pixelRatio;this.instructions.push([r.c.DRAW_IMAGE,s,y,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterImageWithText_,_==l.k?l.k:_.map(function(e){return e*x}),!!n.backgroundFill,!!n.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,p]);var E=1/x;this.hitDetectionInstructions.push([r.c.DRAW_IMAGE,s,y,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[E,E],NaN,this.declutterImageWithText_,_,!!n.backgroundFill,!!n.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,p]),this.endGeometry(t)}else{if(!Object(c.G)(this.getBufferedMaxExtent(),e.getExtent()))return;var C;if(d=e.getFlatCoordinates(),u==a.a.LINE_STRING)C=[d.length];else if(u==a.a.MULTI_LINE_STRING)C=e.getEnds();else if(u==a.a.POLYGON)C=e.getEnds().slice(0,1);else if(u==a.a.MULTI_POLYGON){var k=e.getEndss();C=[];for(var M=0,O=k.length;M<O;++M)C.push(k[M][0])}this.beginGeometry(e,t);for(var A,R=n.textAlign,I=0,L=0,P=C.length;L<P;++L){if(null==R){var D=h(n.maxAngle,d,I,C[L],f);I=D[0],A=D[1]}else A=C[L];for(var N=I;N<A;N+=f)i.push(d[N],d[N+1]);var j=i.length;I=C[L],this.drawChars_(s,j),s=j}this.endGeometry(t)}}}},{key:"saveTextStates_",value:function(){var e=this.textStrokeState_,t=this.textState_,n=this.textFillState_,i=this.strokeKey_;e&&(i in this.strokeStates||(this.strokeStates[i]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));var r=this.textKey_;r in this.textStates||(this.textStates[r]={font:t.font,textAlign:t.textAlign||l.m,textBaseline:t.textBaseline||l.n,scale:t.scale});var a=this.fillKey_;n&&(a in this.fillStates||(this.fillStates[a]={fillStyle:n.fillStyle}))}},{key:"drawChars_",value:function(e,t){var n=this.textStrokeState_,i=this.textState_,a=this.strokeKey_,o=this.textKey_,s=this.fillKey_;this.saveTextStates_();var l=this.pixelRatio,u=d[i.textBaseline],c=this.textOffsetY_*l,h=this.text_,f=n?n.lineWidth*Math.abs(i.scale[0])/2:0;this.instructions.push([r.c.DRAW_CHARS,e,t,u,i.overflow,s,i.maxAngle,l,c,a,f*l,h,o,1]),this.hitDetectionInstructions.push([r.c.DRAW_CHARS,e,t,u,i.overflow,s,i.maxAngle,1,c,a,f,h,o,1/l])}},{key:"setTextStyle",value:function(e,t){var n,i,r;if(e){var a=e.getFill();a?((i=this.textFillState_)||(i={},this.textFillState_=i),i.fillStyle=Object(s.a)(a.getColor()||l.c)):(i=null,this.textFillState_=i);var o=e.getStroke();if(o){(r=this.textStrokeState_)||(r={},this.textStrokeState_=r);var c=o.getLineDash(),h=o.getLineDashOffset(),d=o.getWidth(),f=o.getMiterLimit();r.lineCap=o.getLineCap()||l.e,r.lineDash=c?c.slice():l.f,r.lineDashOffset=void 0===h?l.g:h,r.lineJoin=o.getLineJoin()||l.h,r.lineWidth=void 0===d?l.i:d,r.miterLimit=void 0===f?l.j:f,r.strokeStyle=Object(s.a)(o.getColor()||l.l)}else r=null,this.textStrokeState_=r;n=this.textState_;var p=e.getFont()||l.d;Object(l.s)(p);var m=e.getScaleArray();n.overflow=e.getOverflow(),n.font=p,n.maxAngle=e.getMaxAngle(),n.placement=e.getPlacement(),n.textAlign=e.getTextAlign(),n.textBaseline=e.getTextBaseline()||l.n,n.backgroundFill=e.getBackgroundFill(),n.backgroundStroke=e.getBackgroundStroke(),n.padding=e.getPadding()||l.k,n.scale=void 0===m?[1,1]:m;var v=e.getOffsetX(),g=e.getOffsetY(),y=e.getRotateWithView(),_=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=void 0===v?0:v,this.textOffsetY_=void 0===g?0:g,this.textRotateWithView_=void 0!==y&&y,this.textRotation_=void 0===_?0:_,this.strokeKey_=r?("string"==typeof r.strokeStyle?r.strokeStyle:Object(u.c)(r.strokeStyle))+r.lineCap+r.lineDashOffset+"|"+r.lineWidth+r.lineJoin+r.miterLimit+"["+r.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?")+(n.textBaseline||"?"),this.fillKey_=i?"string"==typeof i.fillStyle?i.fillStyle:"|"+Object(u.c)(i.fillStyle):""}else this.text_="";this.declutterImageWithText_=t}}]),n}(i.a)},"1Ggo":function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return o});var i=n("Y5Xb"),r=n("oWEL");function a(e,t,n,a,o,s,l){for(var u,c,h,d,f,p,m,v=o[s+1],g=[],y=0,_=n.length;y<_;++y){var b=n[y];for(d=e[b-a],p=e[b-a+1],u=t;u<b;u+=a)f=e[u],m=e[u+1],(v<=p&&m<=v||p<=v&&v<=m)&&(h=(v-p)/(m-p)*(f-d)+d,g.push(h)),d=f,p=m}var S=NaN,T=-1/0;for(g.sort(r.i),d=g[0],u=1,c=g.length;u<c;++u){f=g[u];var w=Math.abs(f-d);w>T&&(h=(d+f)/2,Object(i.c)(e,t,n,a,h,v)&&(S=h,T=w)),d=f}return isNaN(S)&&(S=o[s]),l?(l.push(S,v,T),l):[S,v,T]}function o(e,t,n,i,r){for(var o=[],s=0,l=n.length;s<l;++s){var u=n[s];o=a(e,t,u,i,r,2*s,o),t=u[u.length-1]}return o}},"1M8w":function(e,t,n){"use strict";var i=n("JS5d"),r=n("aBeY"),a=n("rb/e"),o=n("g38P"),s=n("zJp8"),l=n("hKKC"),u=n("4cD7"),c=n("oWEL"),h=n("L3Wi");t.a=function(e){b(n,e);var t=T(n);function n(e,i,r,a){var o;return _(this,n),(o=t.call(this)).tolerance=e,o.maxExtent=i,o.pixelRatio=a,o.maxLineWidth=0,o.resolution=r,o.beginGeometryInstruction1_=null,o.beginGeometryInstruction2_=null,o.bufferedMaxExtent_=null,o.instructions=[],o.coordinates=[],o.tmpCoordinate_=[],o.hitDetectionInstructions=[],o.state={},o}return y(n,[{key:"applyPixelRatio",value:function(e){var t=this.pixelRatio;return 1==t?e:e.map(function(e){return e*t})}},{key:"appendFlatPointCoordinates",value:function(e,t){for(var n=this.getBufferedMaxExtent(),i=this.tmpCoordinate_,r=this.coordinates,a=r.length,o=0,s=e.length;o<s;o+=t)i[0]=e[o],i[1]=e[o+1],Object(l.g)(n,i)&&(r[a++]=i[0],r[a++]=i[1]);return a}},{key:"appendFlatLineCoordinates",value:function(e,t,n,i,r,o){var s=this.coordinates,u=s.length,c=this.getBufferedMaxExtent();o&&(t+=i);var h,d,f,p=e[t],m=e[t+1],v=this.tmpCoordinate_,g=!0;for(h=t+i;h<n;h+=i)v[0]=e[h],v[1]=e[h+1],(f=Object(l.j)(c,v))!==d?(g&&(s[u++]=p,s[u++]=m,g=!1),s[u++]=v[0],s[u++]=v[1]):f===a.a.INTERSECTING?(s[u++]=v[0],s[u++]=v[1],g=!1):g=!0,p=v[0],m=v[1],d=f;return(r&&g||h===t+i)&&(s[u++]=p,s[u++]=m),u}},{key:"drawCustomCoordinates_",value:function(e,t,n,i,r){for(var a=0,o=n.length;a<o;++a){var s=n[a],l=this.appendFlatLineCoordinates(e,t,s,i,!1,!1);r.push(l),t=s}return t}},{key:"drawCustom",value:function(e,t,n){this.beginGeometry(e,t);var a,o,s,l,u,c=e.getType(),d=e.getStride(),f=this.coordinates.length;if(c==r.a.MULTI_POLYGON){a=e.getOrientedFlatCoordinates(),l=[];var p=e.getEndss();u=0;for(var m=0,v=p.length;m<v;++m){var g=[];u=this.drawCustomCoordinates_(a,u,p[m],d,g),l.push(g)}this.instructions.push([i.c.CUSTOM,f,l,e,n,h.c])}else c==r.a.POLYGON||c==r.a.MULTI_LINE_STRING?(s=[],a=c==r.a.POLYGON?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),u=this.drawCustomCoordinates_(a,0,e.getEnds(),d,s),this.instructions.push([i.c.CUSTOM,f,s,e,n,h.b])):c==r.a.LINE_STRING||c==r.a.CIRCLE?(a=e.getFlatCoordinates(),o=this.appendFlatLineCoordinates(a,0,a.length,d,!1,!1),this.instructions.push([i.c.CUSTOM,f,o,e,n,h.a])):c==r.a.MULTI_POINT?(a=e.getFlatCoordinates(),(o=this.appendFlatPointCoordinates(a,d))>f&&this.instructions.push([i.c.CUSTOM,f,o,e,n,h.a])):c==r.a.POINT&&(a=e.getFlatCoordinates(),this.coordinates.push(a[0],a[1]),o=this.coordinates.length,this.instructions.push([i.c.CUSTOM,f,o,e,n]));this.endGeometry(t)}},{key:"beginGeometry",value:function(e,t){this.beginGeometryInstruction1_=[i.c.BEGIN_GEOMETRY,t,0,e],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[i.c.BEGIN_GEOMETRY,t,0,e],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}},{key:"finish",value:function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}},{key:"reverseHitDetectionInstructions",value:function(){var e,t=this.hitDetectionInstructions;t.reverse();var n,r,a=t.length,o=-1;for(e=0;e<a;++e)(r=(n=t[e])[0])==i.c.END_GEOMETRY?o=e:r==i.c.BEGIN_GEOMETRY&&(n[2]=e,Object(c.j)(this.hitDetectionInstructions,o,e),o=-1)}},{key:"setFillStrokeStyle",value:function(e,t){var n=this.state;if(e){var i=e.getColor();n.fillStyle=Object(s.a)(i||u.c)}else n.fillStyle=void 0;if(t){var r=t.getColor();n.strokeStyle=Object(s.a)(r||u.l);var a=t.getLineCap();n.lineCap=void 0!==a?a:u.e;var o=t.getLineDash();n.lineDash=o?o.slice():u.f;var l=t.getLineDashOffset();n.lineDashOffset=l||u.g;var c=t.getLineJoin();n.lineJoin=void 0!==c?c:u.h;var h=t.getWidth();n.lineWidth=void 0!==h?h:u.i;var d=t.getMiterLimit();n.miterLimit=void 0!==d?d:u.j,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0}},{key:"createFill",value:function(e){var t=e.fillStyle,n=[i.c.SET_FILL_STYLE,t];return"string"!=typeof t&&n.push(!0),n}},{key:"applyStroke",value:function(e){this.instructions.push(this.createStroke(e))}},{key:"createStroke",value:function(e){return[i.c.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]}},{key:"updateFillStyle",value:function(e,t){var n=e.fillStyle;"string"==typeof n&&e.currentFillStyle==n||(void 0!==n&&this.instructions.push(t.call(this,e)),e.currentFillStyle=n)}},{key:"updateStrokeStyle",value:function(e,t){var n=e.strokeStyle,i=e.lineCap,r=e.lineDash,a=e.lineDashOffset,o=e.lineJoin,s=e.lineWidth,l=e.miterLimit;(e.currentStrokeStyle!=n||e.currentLineCap!=i||r!=e.currentLineDash&&!Object(c.b)(e.currentLineDash,r)||e.currentLineDashOffset!=a||e.currentLineJoin!=o||e.currentLineWidth!=s||e.currentMiterLimit!=l)&&(void 0!==n&&t.call(this,e),e.currentStrokeStyle=n,e.currentLineCap=i,e.currentLineDash=r,e.currentLineDashOffset=a,e.currentLineJoin=o,e.currentLineWidth=s,e.currentMiterLimit=l)}},{key:"endGeometry",value:function(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var t=[i.c.END_GEOMETRY,e];this.instructions.push(t),this.hitDetectionInstructions.push(t)}},{key:"getBufferedMaxExtent",value:function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Object(l.e)(this.maxExtent),this.maxLineWidth>0)){var e=this.resolution*(this.maxLineWidth+1)/2;Object(l.d)(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}]),n}(o.a)},"1N7p":function(e,t,n){"use strict";var i=n("jnTo"),r=n("9CgO"),a=n("e4iU"),o=n("FHfp"),s=n("Cw4B"),l=["fullscreenchange","webkitfullscreenchange","MSFullscreenChange"];function u(){var e=document.body;return!!(e.webkitRequestFullscreen||e.msRequestFullscreen&&document.msFullscreenEnabled||e.requestFullscreen&&document.fullscreenEnabled)}function c(){return!!(document.webkitIsFullScreen||document.msFullscreenElement||document.fullscreenElement)}function h(e){e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen()}t.a=function(e){b(n,e);var t=T(n);function n(e){var i;_(this,n);var o=e||{};(i=t.call(this,{element:document.createElement("div"),target:o.target})).cssClassName_=void 0!==o.className?o.className:"ol-full-screen",i.activeClassName_=void 0!==o.activeClassName?o.activeClassName.split(" "):[i.cssClassName_+"-true"],i.inactiveClassName_=void 0!==o.inactiveClassName?o.inactiveClassName.split(" "):[i.cssClassName_+"-false"];var s=void 0!==o.label?o.label:"\u2922";i.labelNode_="string"==typeof s?document.createTextNode(s):s;var l=void 0!==o.labelActive?o.labelActive:"\xd7";i.labelActiveNode_="string"==typeof l?document.createTextNode(l):l,i.button_=document.createElement("button");var h=o.tipLabel?o.tipLabel:"Toggle full-screen";i.setClassName_(i.button_,c()),i.button_.setAttribute("type","button"),i.button_.title=h,i.button_.appendChild(i.labelNode_),i.button_.addEventListener(r.a.CLICK,i.handleClick_.bind(x(i)),!1);var d=i.cssClassName_+" "+a.e+" "+a.b+" "+(u()?"":a.f),f=i.element;return f.className=d,f.appendChild(i.button_),i.keys_=void 0!==o.keys&&o.keys,i.source_=o.source,i}return y(n,[{key:"handleClick_",value:function(e){e.preventDefault(),this.handleFullScreen_()}},{key:"handleFullScreen_",value:function(){if(u()){var e=this.getMap();if(e)if(c())document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.webkitExitFullscreen&&document.webkitExitFullscreen();else{var t;t=this.source_?"string"==typeof this.source_?document.getElementById(this.source_):this.source_:e.getTargetElement(),this.keys_?function(e){e.webkitRequestFullscreen?e.webkitRequestFullscreen():h(e)}(t):h(t)}}}},{key:"handleFullScreenChange_",value:function(){var e=this.getMap();c()?(this.setClassName_(this.button_,!0),Object(s.g)(this.labelActiveNode_,this.labelNode_),this.dispatchEvent("enterfullscreen")):(this.setClassName_(this.button_,!1),Object(s.g)(this.labelNode_,this.labelActiveNode_),this.dispatchEvent("leavefullscreen")),e&&e.updateSize()}},{key:"setClassName_",value:function(e,t){var n,i,r,a=this.activeClassName_,o=this.inactiveClassName_,s=t?a:o;(n=e.classList).remove.apply(n,d(a)),(i=e.classList).remove.apply(i,d(o)),(r=e.classList).add.apply(r,d(s))}},{key:"setMap",value:function(e){if(v(C(n.prototype),"setMap",this).call(this,e),e)for(var t=0,i=l.length;t<i;++t)this.listenerKeys.push(Object(o.a)(document,l[t],this.handleFullScreenChange_,this))}}]),n}(i.a)},"1VLE":function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r});var i={},r={}},"1X1q":function(e,t,n){"use strict";function i(e,t){return[[-1/0,-1/0,1/0,1/0]]}function r(e,t){return[e]}n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},"1rej":function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r});var i=42,r=256},"2I+J":function(e,t,n){"use strict";function i(){return function(){throw new Error("Unimplemented abstract method.")}()}n.d(t,"b",function(){return i}),n.d(t,"c",function(){return a}),n.d(t,"a",function(){return o});var r=0;function a(e){return e.ol_uid||(e.ol_uid=String(++r))}var o="latest"},"2QA8":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},"2Vo4":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n("XNiG"),r=n("9ppp"),a=function(e){b(n,e);var t=T(n);function n(e){var i;return _(this,n),(i=t.call(this))._value=e,i}return y(n,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(e){var t=v(C(n.prototype),"_subscribe",this).call(this,e);return t&&!t.closed&&e.next(this._value),t}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new r.a;return this._value}},{key:"next",value:function(e){v(C(n.prototype),"next",this).call(this,this._value=e)}}]),n}(i.a)},"2cyL":function(e,t,n){"use strict";var i=n("wRPv"),r=n("aBeY"),a=n("X87I"),o=n("AjuZ"),s=n("kuFe"),l=n("hKKC"),u=n("VvGk"),c=n("8pO4"),h=n("oWEL"),d=n("L3Wi"),f=n("2lJZ"),p=n("DPnj"),m=function(e){b(n,e);var t=T(n);function n(e,i,r){var a;if(_(this,n),(a=t.call(this)).ends_=[],a.maxDelta_=-1,a.maxDeltaRevision_=-1,Array.isArray(e[0]))a.setCoordinates(e,i);else if(void 0!==i&&r)a.setFlatCoordinates(i,e),a.ends_=r;else{for(var o=a.getLayout(),s=e,l=[],u=[],c=0,d=s.length;c<d;++c){var f=s[c];0===c&&(o=f.getLayout()),Object(h.c)(l,f.getFlatCoordinates()),u.push(l.length)}a.setFlatCoordinates(o,l),a.ends_=u}return w(a)}return y(n,[{key:"appendLineString",value:function(e){this.flatCoordinates?Object(h.c)(this.flatCoordinates,e.getFlatCoordinates().slice()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}},{key:"clone",value:function(){var e=new n(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}},{key:"closestPointXY",value:function(e,t,n,i){return i<Object(l.f)(this.getExtent(),e,t)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(s.a)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(s.b)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,t,n,i))}},{key:"getCoordinateAtM",value:function(e,t,n){if(this.layout!=i.a.XYM&&this.layout!=i.a.XYZM||0===this.flatCoordinates.length)return null;var r=void 0!==t&&t,a=void 0!==n&&n;return Object(f.c)(this.flatCoordinates,0,this.ends_,this.stride,e,r,a)}},{key:"getCoordinates",value:function(){return Object(d.b)(this.flatCoordinates,0,this.ends_,this.stride)}},{key:"getEnds",value:function(){return this.ends_}},{key:"getLineString",value:function(e){return e<0||this.ends_.length<=e?null:new a.a(this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e]),this.layout)}},{key:"getLineStrings",value:function(){for(var e=this.flatCoordinates,t=this.ends_,n=this.layout,i=[],r=0,o=0,s=t.length;o<s;++o){var l=t[o],u=new a.a(e.slice(r,l),n);i.push(u),r=l}return i}},{key:"getFlatMidpoints",value:function(){for(var e=[],t=this.flatCoordinates,n=0,i=this.ends_,r=this.stride,a=0,o=i.length;a<o;++a){var s=i[a],l=Object(f.a)(t,n,s,r,.5);Object(h.c)(e,l),n=s}return e}},{key:"getSimplifiedGeometryInternal",value:function(e){var t=[],r=[];return t.length=Object(c.b)(this.flatCoordinates,0,this.ends_,this.stride,e,t,0,r),new n(t,i.a.XY,r)}},{key:"getType",value:function(){return r.a.MULTI_LINE_STRING}},{key:"intersectsExtent",value:function(e){return Object(p.b)(this.flatCoordinates,0,this.ends_,this.stride,e)}},{key:"setCoordinates",value:function(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=Object(u.c)(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()}}]),n}(o.a);t.a=m},"2fFW":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=!1,r={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=e},get useDeprecatedSynchronousErrorHandling(){return i}}},"2lJZ":function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return s});var i=n("oWEL"),r=n("LV+m");function a(e,t,n,a,o,s,l){var u,c,h=(n-t)/a;if(1===h)u=t;else if(2===h)u=t,c=o;else if(0!==h){for(var d=e[t],f=e[t+1],p=0,m=[0],v=t+a;v<n;v+=a){var g=e[v],y=e[v+1];p+=Math.sqrt((g-d)*(g-d)+(y-f)*(y-f)),m.push(p),d=g,f=y}var _=o*p,b=Object(i.a)(m,_);b<0?(c=(_-m[-b-2])/(m[-b-1]-m[-b-2]),u=t+(-b-2)*a):u=t+b*a}for(var S=l>1?l:2,T=s||new Array(S),w=0;w<S;++w)T[w]=void 0===u?NaN:void 0===c?e[u+w]:Object(r.c)(e[u+w],e[u+a+w],c);return T}function o(e,t,n,i,a,o){if(n==t)return null;var s;if(a<e[t+i-1])return o?((s=e.slice(t,t+i))[i-1]=a,s):null;if(e[n-1]<a)return o?((s=e.slice(n-i,n))[i-1]=a,s):null;if(a==e[t+i-1])return e.slice(t,t+i);for(var l=t/i,u=n/i;l<u;){var c=l+u>>1;a<e[(c+1)*i-1]?u=c:l=c+1}var h=e[l*i-1];if(a==h)return e.slice((l-1)*i,(l-1)*i+i);var d=(a-h)/(e[(l+1)*i-1]-h);s=[];for(var f=0;f<i-1;++f)s.push(Object(r.c)(e[(l-1)*i+f],e[l*i+f],d));return s.push(a),s}function s(e,t,n,i,r,a,s){if(s)return o(e,t,n[n.length-1],i,r,a);var l;if(r<e[i-1])return a?((l=e.slice(0,i))[i-1]=r,l):null;if(e[e.length-1]<r)return a?((l=e.slice(e.length-i))[i-1]=r,l):null;for(var u=0,c=n.length;u<c;++u){var h=n[u];if(t!=h){if(r<e[t+i-1])return null;if(r<=e[h-1])return o(e,t,h,i,r,!1);t=h}}return null}},"2tVv":function(e,t,n){"use strict";var i=n("bwl8"),r=n("bTHf"),a=n("xXok"),o=n("e4iU"),s=n("hKKC"),l=n("FHfp"),u=n("Cw4B");t.a=function(e){b(n,e);var t=T(n);function n(e){var r;_(this,n),(r=t.call(this)).options=e,r.id=e.id,r.insertFirst=void 0===e.insertFirst||e.insertFirst,r.stopEvent=void 0===e.stopEvent||e.stopEvent,r.element=document.createElement("div"),r.element.className=void 0!==e.className?e.className:"ol-overlay-container "+o.d,r.element.style.position="absolute",r.element.style.pointerEvents="auto";var s=e.autoPan;return s&&"object"!=typeof s&&(s={animation:e.autoPanAnimation,margin:e.autoPanMargin}),r.autoPan=s||!1,r.rendered={transform_:"",visible:!0},r.mapPostrenderListenerKey=null,r.addEventListener(Object(i.b)("element"),r.handleElementChanged),r.addEventListener(Object(i.b)("map"),r.handleMapChanged),r.addEventListener(Object(i.b)("offset"),r.handleOffsetChanged),r.addEventListener(Object(i.b)("position"),r.handlePositionChanged),r.addEventListener(Object(i.b)("positioning"),r.handlePositioningChanged),void 0!==e.element&&r.setElement(e.element),r.setOffset(void 0!==e.offset?e.offset:[0,0]),r.setPositioning(void 0!==e.positioning?e.positioning:a.a.TOP_LEFT),void 0!==e.position&&r.setPosition(e.position),r}return y(n,[{key:"getElement",value:function(){return this.get("element")}},{key:"getId",value:function(){return this.id}},{key:"getMap",value:function(){return this.get("map")}},{key:"getOffset",value:function(){return this.get("offset")}},{key:"getPosition",value:function(){return this.get("position")}},{key:"getPositioning",value:function(){return this.get("positioning")}},{key:"handleElementChanged",value:function(){Object(u.d)(this.element);var e=this.getElement();e&&this.element.appendChild(e)}},{key:"handleMapChanged",value:function(){this.mapPostrenderListenerKey&&(Object(u.e)(this.element),Object(l.c)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var e=this.getMap();if(e){this.mapPostrenderListenerKey=Object(l.a)(e,r.a.POSTRENDER,this.render,this),this.updatePixelPosition();var t=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer();this.insertFirst?t.insertBefore(this.element,t.childNodes[0]||null):t.appendChild(this.element),this.performAutoPan()}}},{key:"render",value:function(){this.updatePixelPosition()}},{key:"handleOffsetChanged",value:function(){this.updatePixelPosition()}},{key:"handlePositionChanged",value:function(){this.updatePixelPosition(),this.performAutoPan()}},{key:"handlePositioningChanged",value:function(){this.updatePixelPosition()}},{key:"setElement",value:function(e){this.set("element",e)}},{key:"setMap",value:function(e){this.set("map",e)}},{key:"setOffset",value:function(e){this.set("offset",e)}},{key:"setPosition",value:function(e){this.set("position",e)}},{key:"performAutoPan",value:function(){this.autoPan&&this.panIntoView(this.autoPan)}},{key:"panIntoView",value:function(e){var t=this.getMap();if(t&&t.getTargetElement()&&this.get("position")){var n=this.getRect(t.getTargetElement(),t.getSize()),i=this.getElement(),r=this.getRect(i,[Object(u.c)(i),Object(u.b)(i)]),a=e||{},o=void 0===a.margin?20:a.margin;if(!Object(s.h)(n,r)){var l=r[0]-n[0],c=n[2]-r[2],h=r[1]-n[1],d=n[3]-r[3],f=[0,0];if(l<0?f[0]=l-o:c<0&&(f[0]=Math.abs(c)+o),h<0?f[1]=h-o:d<0&&(f[1]=Math.abs(d)+o),0!==f[0]||0!==f[1]){var p=t.getView().getCenterInternal(),m=t.getPixelFromCoordinateInternal(p);if(!m)return;var v=[m[0]+f[0],m[1]+f[1]],g=a.animation||{};t.getView().animateInternal({center:t.getCoordinateFromPixelInternal(v),duration:g.duration,easing:g.easing})}}}}},{key:"getRect",value:function(e,t){var n=e.getBoundingClientRect(),i=n.left+window.pageXOffset,r=n.top+window.pageYOffset;return[i,r,i+t[0],r+t[1]]}},{key:"setPositioning",value:function(e){this.set("positioning",e)}},{key:"setVisible",value:function(e){this.rendered.visible!==e&&(this.element.style.display=e?"":"none",this.rendered.visible=e)}},{key:"updatePixelPosition",value:function(){var e=this.getMap(),t=this.getPosition();if(e&&e.isRendered()&&t){var n=e.getPixelFromCoordinate(t),i=e.getSize();this.updateRenderedPosition(n,i)}else this.setVisible(!1)}},{key:"updateRenderedPosition",value:function(e,t){var n=this.element.style,i=this.getOffset(),r=this.getPositioning();this.setVisible(!0);var o=Math.round(e[0]+i[0])+"px",s=Math.round(e[1]+i[1])+"px",l="0%",u="0%";r==a.a.BOTTOM_RIGHT||r==a.a.CENTER_RIGHT||r==a.a.TOP_RIGHT?l="-100%":r!=a.a.BOTTOM_CENTER&&r!=a.a.CENTER_CENTER&&r!=a.a.TOP_CENTER||(l="-50%"),r==a.a.BOTTOM_LEFT||r==a.a.BOTTOM_CENTER||r==a.a.BOTTOM_RIGHT?u="-100%":r!=a.a.CENTER_LEFT&&r!=a.a.CENTER_CENTER&&r!=a.a.CENTER_RIGHT||(u="-50%");var c="translate(".concat(l,", ").concat(u,") translate(").concat(o,", ").concat(s,")");this.rendered.transform_!=c&&(this.rendered.transform_=c,n.transform=c,n.msTransform=c)}},{key:"getOptions",value:function(){return this.options}}]),n}(i.a)},"39Zw":function(e,t,n){var i,r;void 0===(r="function"==typeof(i=function(){return{XLink_1_0:{n:"XLink_1_0",dens:"http://www.w3.org/1999/xlink",dans:"http://www.w3.org/1999/xlink",tis:[{ln:"ResourceType",tn:"resourceType",ps:[{n:"content",col:!0,t:"ae"},{n:"type",rq:!0,ti:"Token",t:"a"},{n:"role",t:"a"},{n:"title",t:"a"},{n:"label",ti:"NCName",t:"a"}]},{ln:"LocatorType",tn:"locatorType",ps:[{n:"locatorTitle",mno:0,col:!0,en:"title",ti:".TitleEltType"},{n:"type",rq:!0,ti:"Token",t:"a"},{n:"href",rq:!0,t:"a"},{n:"role",t:"a"},{n:"title",t:"a"},{n:"label",ti:"NCName",t:"a"}]},{ln:"Extended",tn:"extended",ps:[{n:"extendedModel",mno:0,col:!0,etis:[{en:"title",ti:".TitleEltType"},{en:"resource",ti:".ResourceType"},{en:"locator",ti:".LocatorType"},{en:"arc",ti:".ArcType"}],t:"es"},{n:"type",rq:!0,ti:"Token",t:"a"},{n:"role",t:"a"},{n:"title",t:"a"}]},{ln:"Simple",tn:"simple",ps:[{n:"content",col:!0,t:"ae"},{n:"type",ti:"Token",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"Token",t:"a"},{n:"actuate",ti:"Token",t:"a"}]},{ln:"TitleEltType",tn:"titleEltType",ps:[{n:"content",col:!0,t:"ae"},{n:"type",rq:!0,ti:"Token",t:"a"},{n:"lang",an:{lp:"lang",ns:"http://www.w3.org/XML/1998/namespace"},t:"a"}]},{ln:"ArcType",tn:"arcType",ps:[{n:"locatorTitle",mno:0,col:!0,en:"title",ti:".TitleEltType"},{n:"type",rq:!0,ti:"Token",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"Token",t:"a"},{n:"actuate",ti:"Token",t:"a"},{n:"from",ti:"NCName",t:"a"},{n:"to",ti:"NCName",t:"a"}]},{t:"enum",ln:"TypeType",bti:"Token",vs:["simple","extended","title","resource","locator","arc"]},{t:"enum",ln:"ShowType",bti:"Token",vs:["new","replace","embed","other","none"]},{t:"enum",ln:"ActuateType",bti:"Token",vs:["onLoad","onRequest","other","none"]}],eis:[{en:"arc",ti:".ArcType"},{en:"resource",ti:".ResourceType"},{en:"locator",ti:".LocatorType"},{en:"title",ti:".TitleEltType"}]}}})?i.apply(t,[]):i)||(e.exports=r)},"3E0/":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("D0XW"),r=n("7o/Q"),a=n("WMd4");function o(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.a,r=(t=e)instanceof Date&&!isNaN(+t)?+e-n.now():Math.abs(e);return function(e){return e.lift(new s(r,n))}}var s=function(){function e(t,n){_(this,e),this.delay=t,this.scheduler=n}return y(e,[{key:"call",value:function(e,t){return t.subscribe(new l(e,this.delay,this.scheduler))}}]),e}(),l=function(e){b(n,e);var t=T(n);function n(e,i,r){var a;return _(this,n),(a=t.call(this,e)).delay=i,a.scheduler=r,a.queue=[],a.active=!1,a.errored=!1,a}return y(n,[{key:"_schedule",value:function(e){this.active=!0,this.destination.add(e.schedule(n.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}},{key:"scheduleNotification",value:function(e){if(!0!==this.errored){var t=this.scheduler,n=new u(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}}},{key:"_next",value:function(e){this.scheduleNotification(a.a.createNext(e))}},{key:"_error",value:function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleNotification(a.a.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(e){for(var t=e.source,n=t.queue,i=e.scheduler,r=e.destination;n.length>0&&n[0].time-i.now()<=0;)n.shift().notification.observe(r);if(n.length>0){var a=Math.max(0,n[0].time-i.now());this.schedule(e,a)}else this.unsubscribe(),t.active=!1}}]),n}(r.a),u=function e(t,n){_(this,e),this.time=t,this.notification=n}},"3N8a":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(e){b(n,e);var t=T(n);function n(e,i){var r;return _(this,n),(r=t.call(this,e,i)).scheduler=e,r.work=i,r.pending=!1,r}return y(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=e;var n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}},{key:"requestAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(e.flush.bind(e,this),n)}},{key:"recycleAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}},{key:"execute",value:function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(e,t){var n,i=!1;try{this.work(e)}catch(r){i=!0,n=!!r&&r||new Error(r)}if(i)return this.unsubscribe(),n}},{key:"_unsubscribe",value:function(){var e=this.id,t=this.scheduler,n=t.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}]),n}(function(e){b(n,e);var t=T(n);function n(e,i){return _(this,n),t.call(this)}return y(n,[{key:"schedule",value:function(e){return this}}]),n}(n("quSY").a))},"3UD+":function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},"42kC":function(e,t,n){"use strict";var i=n("i3ci"),r=n("UMcu");t.a=function(e){b(n,e);var t=T(n);function n(){return _(this,n),t.apply(this,arguments)}return y(n,[{key:"expireCache",value:function(e){for(;this.canExpireCache()&&!(this.peekLast().getKey()in e);)this.pop().release()}},{key:"pruneExceptNewestZ",value:function(){if(0!==this.getCount()){var e=this.peekFirstKey(),t=Object(r.b)(e)[0];this.forEach((function(e){e.tileCoord[0]!==t&&(this.remove(Object(r.c)(e.tileCoord)),e.release())}).bind(this))}}}]),n}(function(){function e(t){_(this,e),this.highWaterMark=void 0!==t?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return y(e,[{key:"canExpireCache",value:function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}},{key:"clear",value:function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}},{key:"containsKey",value:function(e){return this.entries_.hasOwnProperty(e)}},{key:"forEach",value:function(e){for(var t=this.oldest_;t;)e(t.value_,t.key_,this),t=t.newer}},{key:"get",value:function(e,t){var n=this.entries_[e];return Object(i.a)(void 0!==n,15),n===this.newest_||(n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer),n.newer=null,n.older=this.newest_,this.newest_.newer=n,this.newest_=n),n.value_}},{key:"remove",value:function(e){var t=this.entries_[e];return Object(i.a)(void 0!==t,15),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_}},{key:"getCount",value:function(){return this.count_}},{key:"getKeys",value:function(){var e,t=new Array(this.count_),n=0;for(e=this.newest_;e;e=e.older)t[n++]=e.key_;return t}},{key:"getValues",value:function(){var e,t=new Array(this.count_),n=0;for(e=this.newest_;e;e=e.older)t[n++]=e.value_;return t}},{key:"peekLast",value:function(){return this.oldest_.value_}},{key:"peekLastKey",value:function(){return this.oldest_.key_}},{key:"peekFirstKey",value:function(){return this.newest_.key_}},{key:"pop",value:function(){var e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}},{key:"replace",value:function(e,t){this.get(e),this.entries_[e].value_=t}},{key:"set",value:function(e,t){Object(i.a)(!(e in this.entries_),16);var n={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[e]=n,++this.count_}},{key:"setSize",value:function(e){this.highWaterMark=e}}]),e}())},"43os":function(e,t,n){"use strict";var i=n("c73X"),r=n("o5qb"),a=n("2I+J");function o(e){return"string"==typeof e?JSON.parse(e)||null:null!==e?e:null}t.a=function(e){b(n,e);var t=T(n);function n(){return _(this,n),t.call(this)}return y(n,[{key:"getType",value:function(){return r.a.JSON}},{key:"readFeature",value:function(e,t){return this.readFeatureFromObject(o(e),this.getReadOptions(e,t))}},{key:"readFeatures",value:function(e,t){return this.readFeaturesFromObject(o(e),this.getReadOptions(e,t))}},{key:"readFeatureFromObject",value:function(e,t){return Object(a.b)()}},{key:"readFeaturesFromObject",value:function(e,t){return Object(a.b)()}},{key:"readGeometry",value:function(e,t){return this.readGeometryFromObject(o(e),this.getReadOptions(e,t))}},{key:"readGeometryFromObject",value:function(e,t){return Object(a.b)()}},{key:"readProjection",value:function(e){return this.readProjectionFromObject(o(e))}},{key:"readProjectionFromObject",value:function(e){return Object(a.b)()}},{key:"writeFeature",value:function(e,t){return JSON.stringify(this.writeFeatureObject(e,t))}},{key:"writeFeatureObject",value:function(e,t){return Object(a.b)()}},{key:"writeFeatures",value:function(e,t){return JSON.stringify(this.writeFeaturesObject(e,t))}},{key:"writeFeaturesObject",value:function(e,t){return Object(a.b)()}},{key:"writeGeometry",value:function(e,t){return JSON.stringify(this.writeGeometryObject(e,t))}},{key:"writeGeometryObject",value:function(e,t){return Object(a.b)()}}]),n}(i.a)},"4I5i":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}()},"4cD7":function(e,t,n){"use strict";n.d(t,"d",function(){return c}),n.d(t,"c",function(){return h}),n.d(t,"e",function(){return d}),n.d(t,"f",function(){return f}),n.d(t,"g",function(){return p}),n.d(t,"h",function(){return m}),n.d(t,"j",function(){return v}),n.d(t,"l",function(){return g}),n.d(t,"m",function(){return y}),n.d(t,"n",function(){return _}),n.d(t,"k",function(){return b}),n.d(t,"i",function(){return S}),n.d(t,"a",function(){return T}),n.d(t,"s",function(){return k}),n.d(t,"q",function(){return M}),n.d(t,"p",function(){return R}),n.d(t,"r",function(){return I}),n.d(t,"t",function(){return L}),n.d(t,"o",function(){return P}),n.d(t,"b",function(){return N});var i=n("bwl8"),r=n("RGpb"),a=n("FRHD"),o=n("Bpkx"),s=n("Cw4B"),l=n("e4iU"),u=n("n2w5"),c="10px sans-serif",h="#000",d="round",f=[],p=0,m="round",v=10,g="#000",y="center",_="middle",b=[0,0,0,0],S=1,T=new i.a;(new r.a).setSize=function(){console.warn("labelCache is deprecated.")};var w,x,E=null,C={},k=function(){var e,t,n=["monospace","serif"],i=n.length,r="wmytzilWMYTZIL@#/&?$%10\uf013";function a(e,a,o){for(var s=!0,l=0;l<i;++l){var u=n[l];if(t=A(e+" "+a+" 32px "+u,r),o!=u){var c=A(e+" "+a+" 32px "+o+","+u,r);s=s&&c!=t}}return!!s}function s(){for(var t=!0,n=T.getKeys(),i=0,r=n.length;i<r;++i){var s=n[i];T.get(s)<100&&(a.apply(this,s.split("\n"))?(Object(o.b)(C),E=null,w=void 0,T.set(s,100)):(T.set(s,T.get(s)+1,!0),t=!1))}t&&(clearInterval(e),e=void 0)}return function(t){var n=Object(l.g)(t);if(n)for(var i=n.families,r=0,o=i.length;r<o;++r){var u=i[r],c=n.style+"\n"+n.weight+"\n"+u;void 0===T.get(c)&&(T.set(c,100,!0),a(n.style,n.weight,u)||(T.set(c,0,!0),void 0===e&&(e=setInterval(s,32))))}}}(),M=function(e){var t=C[e];if(null==t){if(a.g){var n=Object(l.g)(e),i=O(e,"\u017dg");t=(isNaN(Number(n.lineHeight))?1.2:Number(n.lineHeight))*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent)}else x||((x=document.createElement("div")).innerHTML="M",x.style.margin="0 !important",x.style.padding="0 !important",x.style.position="absolute !important",x.style.left="-99999px !important"),x.style.font=e,document.body.appendChild(x),t=x.offsetHeight,document.body.removeChild(x);C[e]=t}return t};function O(e,t){return E||(E=Object(s.a)(1,1)),e!=w&&(E.font=e,w=E.font),E.measureText(t)}function A(e,t){return O(e,t).width}function R(e,t,n){if(t in n)return n[t];var i=A(e,t);return n[t]=i,i}function I(e,t,n){for(var i=t.length,r=0,a=0;a<i;++a){var o=A(e,t[a]);r=Math.max(r,o),n.push(o)}return r}function L(e,t,n,i){0!==t&&(e.translate(n,i),e.rotate(t),e.translate(-n,-i))}function P(e,t,n,i,r,a,o,s,l,u,c){e.save(),1!==n&&(e.globalAlpha*=n),t&&e.setTransform.apply(e,t),i.contextInstructions?(e.translate(l,u),e.scale(c[0],c[1]),function(e,t){for(var n=e.contextInstructions,i=0,r=n.length;i<r;i+=2)Array.isArray(n[i+1])?t[n[i]].apply(t,n[i+1]):t[n[i]]=n[i+1]}(i,e)):c[0]<0||c[1]<0?(e.translate(l,u),e.scale(c[0],c[1]),e.drawImage(i,r,a,o,s,0,0,o,s)):e.drawImage(i,r,a,o,s,l,u,o*c[0],s*c[1]),e.restore()}var D=null;function N(e){return a.g?Object(u.k)(e):(D||(D=Object(s.a)(1,1).canvas),D.style.transform=Object(u.k)(e),D.style.transform)}},"4yuk":function(e,t,n){"use strict";n.d(t,"f",function(){return i}),n.d(t,"g",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return s}),n.d(t,"d",function(){return u}),n.d(t,"c",function(){return c}),n.d(t,"e",function(){return h});var i="{{lit-".concat(String(Math.random()).slice(2),"}}"),r="\x3c!--".concat(i,"--\x3e"),a=new RegExp("".concat(i,"|").concat(r)),o="$lit$",s=function e(t,n){_(this,e),this.parts=[],this.element=n;for(var r=[],s=[],u=document.createTreeWalker(n.content,133,null,!1),d=0,f=-1,p=0,m=t.strings,v=t.values.length;p<v;){var g=u.nextNode();if(null!==g){if(f++,1===g.nodeType){if(g.hasAttributes()){for(var y=g.attributes,b=y.length,S=0,T=0;T<b;T++)l(y[T].name,o)&&S++;for(;S-- >0;){var w=h.exec(m[p])[2],x=w.toLowerCase()+o,E=g.getAttribute(x);g.removeAttribute(x);var C=E.split(a);this.parts.push({type:"attribute",index:f,name:w,strings:C}),p+=C.length-1}}"TEMPLATE"===g.tagName&&(s.push(g),u.currentNode=g.content)}else if(3===g.nodeType){var k=g.data;if(k.indexOf(i)>=0){for(var M=g.parentNode,O=k.split(a),A=O.length-1,R=0;R<A;R++){var I=void 0,L=O[R];if(""===L)I=c();else{var P=h.exec(L);null!==P&&l(P[2],o)&&(L=L.slice(0,P.index)+P[1]+P[2].slice(0,-o.length)+P[3]),I=document.createTextNode(L)}M.insertBefore(I,g),this.parts.push({type:"node",index:++f})}""===O[A]?(M.insertBefore(c(),g),r.push(g)):g.data=O[A],p+=A}}else if(8===g.nodeType)if(g.data===i){var D=g.parentNode;null!==g.previousSibling&&f!==d||(f++,D.insertBefore(c(),g)),d=f,this.parts.push({type:"node",index:f}),null===g.nextSibling?g.data="":(r.push(g),f--),p++}else for(var N=-1;-1!==(N=g.data.indexOf(i,N+1));)this.parts.push({type:"node",index:-1}),p++}else u.currentNode=s.pop()}for(var j=0,F=r;j<F.length;j++){var U=F[j];U.parentNode.removeChild(U)}},l=function(e,t){var n=e.length-t.length;return n>=0&&e.slice(n)===t},u=function(e){return-1!==e.index},c=function(){return document.createComment("")},h=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/},"5+tZ":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("lJxs"),r=n("Cfvw"),a=n("zx2A");function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof t?function(a){return a.pipe(o(function(n,a){return Object(r.a)(e(n,a)).pipe(Object(i.a)(function(e,i){return t(n,e,a,i)}))},n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new s(e,n))})}var s=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_(this,e),this.project=t,this.concurrent=n}return y(e,[{key:"call",value:function(e,t){return t.subscribe(new l(e,this.project,this.concurrent))}}]),e}(),l=function(e){b(n,e);var t=T(n);function n(e,i){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _(this,n),(r=t.call(this,e)).project=i,r.concurrent=a,r.hasCompleted=!1,r.buffer=[],r.active=0,r.index=0,r}return y(n,[{key:"_next",value:function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(t)}},{key:"_innerSub",value:function(e){var t=new a.a(this),n=this.destination;n.add(t);var i=Object(a.c)(e,t);i!==t&&n.add(i)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(e){this.destination.next(e)}},{key:"notifyComplete",value:function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(a.b)},"51Rc":function(e,t,n){var i,r;void 0===(r="function"==typeof(i=function(){return{WMTS_1_0:{n:"WMTS_1_0",dens:"http://www.opengis.net/wmts/1.0",deps:["OWS_1_1_0","GML_3_1_1"],tis:[{ln:"GetCapabilities",tn:null,bti:"OWS_1_1_0.GetCapabilitiesType",ps:[{n:"service",rq:!0,an:{lp:"service"},t:"a"}]},{ln:"LegendURL",tn:null,bti:"OWS_1_1_0.OnlineResourceType",ps:[{n:"format",an:{lp:"format"},t:"a"},{n:"minScaleDenominator",ti:"Double",an:{lp:"minScaleDenominator"},t:"a"},{n:"maxScaleDenominator",ti:"Double",an:{lp:"maxScaleDenominator"},t:"a"},{n:"width",ti:"PositiveInteger",an:{lp:"width"},t:"a"},{n:"height",ti:"PositiveInteger",an:{lp:"height"},t:"a"}]},{ln:"Themes",tn:null,ps:[{n:"theme",mno:0,col:!0,en:"Theme",ti:".Theme"}]},{ln:"URLTemplateType",ps:[{n:"format",rq:!0,an:{lp:"format"},t:"a"},{n:"resourceType",rq:!0,an:{lp:"resourceType"},t:"a"},{n:"template",rq:!0,an:{lp:"template"},t:"a"}]},{ln:"Style",tn:null,bti:"OWS_1_1_0.DescriptionType",ps:[{n:"identifier",rq:!0,en:{lp:"Identifier",ns:"http://www.opengis.net/ows/1.1"},ti:"OWS_1_1_0.CodeType"},{n:"legendURL",mno:0,col:!0,en:"LegendURL",ti:".LegendURL"},{n:"isDefault",ti:"Boolean",an:{lp:"isDefault"},t:"a"}]},{ln:"TileMatrixSet",tn:null,bti:"OWS_1_1_0.DescriptionType",ps:[{n:"identifier",rq:!0,en:{lp:"Identifier",ns:"http://www.opengis.net/ows/1.1"},ti:"OWS_1_1_0.CodeType"},{n:"boundingBox",mx:!1,dom:!1,en:{lp:"BoundingBox",ns:"http://www.opengis.net/ows/1.1"},ti:"OWS_1_1_0.BoundingBoxType",t:"er"},{n:"supportedCRS",rq:!0,en:{lp:"SupportedCRS",ns:"http://www.opengis.net/ows/1.1"}},{n:"wellKnownScaleSet",en:"WellKnownScaleSet"},{n:"tileMatrix",rq:!0,col:!0,en:"TileMatrix",ti:".TileMatrix"}]},{ln:"FeatureInfoResponse",tn:null,ps:[{n:"featureCollection",rq:!0,en:{lp:"_FeatureCollection",ns:"http://www.opengis.net/gml"},ti:"GML_3_1_1.AbstractFeatureCollectionType"},{n:"textPayload",rq:!0,en:"TextPayload",ti:".TextPayload"},{n:"binaryPayload",rq:!0,en:"BinaryPayload",ti:".BinaryPayload"},{n:"anyContent",rq:!0,en:"AnyContent",ti:"AnyType"}]},{ln:"Dimension",tn:null,bti:"OWS_1_1_0.DescriptionType",ps:[{n:"identifier",rq:!0,en:{lp:"Identifier",ns:"http://www.opengis.net/ows/1.1"},ti:"OWS_1_1_0.CodeType"},{n:"uom",en:{lp:"UOM",ns:"http://www.opengis.net/ows/1.1"},ti:"OWS_1_1_0.DomainMetadataType"},{n:"unitSymbol",en:"UnitSymbol"},{n:"_default",en:"Default"},{n:"current",en:"Current",ti:"Boolean"},{n:"value",rq:!0,col:!0,en:"Value"}]},{ln:"TileMatrixSetLink",tn:null,ps:[{n:"tileMatrixSet",rq:!0,en:"TileMatrixSet"},{n:"tileMatrixSetLimits",en:"TileMatrixSetLimits",ti:".TileMatrixSetLimits"}]},{ln:"TileMatrixLimits",tn:null,ps:[{n:"tileMatrix",rq:!0,en:"TileMatrix"},{n:"minTileRow",rq:!0,en:"MinTileRow",ti:"PositiveInteger"},{n:"maxTileRow",rq:!0,en:"MaxTileRow",ti:"PositiveInteger"},{n:"minTileCol",rq:!0,en:"MinTileCol",ti:"PositiveInteger"},{n:"maxTileCol",rq:!0,en:"MaxTileCol",ti:"PositiveInteger"}]},{ln:"LayerType",bti:"OWS_1_1_0.DatasetDescriptionSummaryBaseType",ps:[{n:"style",rq:!0,col:!0,en:"Style",ti:".Style"},{n:"format",rq:!0,col:!0,en:"Format"},{n:"infoFormat",mno:0,col:!0,en:"InfoFormat"},{n:"dimension",mno:0,col:!0,en:"Dimension",ti:".Dimension"},{n:"tileMatrixSetLink",rq:!0,col:!0,en:"TileMatrixSetLink",ti:".TileMatrixSetLink"},{n:"resourceURL",mno:0,col:!0,en:"ResourceURL",ti:".URLTemplateType"}]},{ln:"TileMatrix",tn:null,bti:"OWS_1_1_0.DescriptionType",ps:[{n:"identifier",rq:!0,en:{lp:"Identifier",ns:"http://www.opengis.net/ows/1.1"},ti:"OWS_1_1_0.CodeType"},{n:"scaleDenominator",rq:!0,en:"ScaleDenominator",ti:"Double"},{n:"topLeftCorner",rq:!0,en:"TopLeftCorner",ti:{t:"l",bti:"Double"}},{n:"tileWidth",rq:!0,en:"TileWidth",ti:"PositiveInteger"},{n:"tileHeight",rq:!0,en:"TileHeight",ti:"PositiveInteger"},{n:"matrixWidth",rq:!0,en:"MatrixWidth",ti:"PositiveInteger"},{n:"matrixHeight",rq:!0,en:"MatrixHeight",ti:"PositiveInteger"}]},{ln:"GetFeatureInfo",tn:null,ps:[{n:"getTile",rq:!0,en:"GetTile",ti:".GetTile"},{n:"j",rq:!0,en:"J",ti:"NonNegativeInteger"},{n:"i",rq:!0,en:"I",ti:"NonNegativeInteger"},{n:"infoFormat",rq:!0,en:"InfoFormat"},{n:"service",rq:!0,an:{lp:"service"},t:"a"},{n:"version",rq:!0,an:{lp:"version"},t:"a"}]},{ln:"TextPayload",tn:null,ps:[{n:"format",rq:!0,en:"Format"},{n:"textContent",rq:!0,en:"TextContent"}]},{ln:"Capabilities",tn:null,bti:"OWS_1_1_0.CapabilitiesBaseType",ps:[{n:"contents",en:"Contents",ti:".ContentsType"},{n:"themes",mno:0,col:!0,en:"Themes",ti:".Themes"},{n:"wsdl",mno:0,col:!0,en:"WSDL",ti:"OWS_1_1_0.OnlineResourceType"},{n:"serviceMetadataURL",mno:0,col:!0,en:"ServiceMetadataURL",ti:"OWS_1_1_0.OnlineResourceType"}]},{ln:"BinaryPayload",tn:null,ps:[{n:"format",rq:!0,en:"Format"},{n:"binaryContent",rq:!0,en:"BinaryContent",ti:"Base64Binary"}]},{ln:"GetTile",tn:null,ps:[{n:"layer",rq:!0,en:"Layer"},{n:"style",rq:!0,en:"Style"},{n:"format",rq:!0,en:"Format"},{n:"dimensionNameValue",mno:0,col:!0,en:"DimensionNameValue",ti:".DimensionNameValue"},{n:"tileMatrixSet",rq:!0,en:"TileMatrixSet"},{n:"tileMatrix",rq:!0,en:"TileMatrix"},{n:"tileRow",rq:!0,en:"TileRow",ti:"NonNegativeInteger"},{n:"tileCol",rq:!0,en:"TileCol",ti:"NonNegativeInteger"},{n:"service",rq:!0,an:{lp:"service"},t:"a"},{n:"version",rq:!0,an:{lp:"version"},t:"a"}]},{ln:"DimensionNameValue",tn:null,ps:[{n:"value",t:"v"},{n:"name",rq:!0,an:{lp:"name"},t:"a"}]},{ln:"TileMatrixSetLimits",tn:null,ps:[{n:"tileMatrixLimits",rq:!0,col:!0,en:"TileMatrixLimits",ti:".TileMatrixLimits"}]},{ln:"ContentsType",bti:"OWS_1_1_0.ContentsBaseType",ps:[{n:"tileMatrixSet",mno:0,col:!0,en:"TileMatrixSet",ti:".TileMatrixSet"}]},{ln:"Theme",tn:null,bti:"OWS_1_1_0.DescriptionType",ps:[{n:"identifier",rq:!0,en:{lp:"Identifier",ns:"http://www.opengis.net/ows/1.1"},ti:"OWS_1_1_0.CodeType"},{n:"theme",mno:0,col:!0,en:"Theme",ti:".Theme"},{n:"layerRef",mno:0,col:!0,en:"LayerRef"}]},{t:"enum",ln:"RequestServiceType",vs:["WMTS"]},{t:"enum",ln:"GetTileValueType",vs:["GetTile"]},{t:"enum",ln:"GetCapabilitiesValueType",vs:["GetCapabilities"]},{t:"enum",ln:"GetFeatureInfoValueType",vs:["GetFeatureInfo"]},{t:"enum",ln:"VersionType",vs:["1.0.0"]}],eis:[{en:"TileMatrixSet",ti:".TileMatrixSet"},{en:"LegendURL",ti:".LegendURL"},{en:"Dimension",ti:".Dimension"},{en:"GetTile",ti:".GetTile"},{en:"TileMatrixSetLimits",ti:".TileMatrixSetLimits"},{en:"DimensionNameValue",ti:".DimensionNameValue"},{en:"Layer",ti:".LayerType",sh:{lp:"DatasetDescriptionSummary",ns:"http://www.opengis.net/ows/1.1"}},{en:"Style",ti:".Style"},{en:"GetFeatureInfo",ti:".GetFeatureInfo"},{en:"TileMatrixLimits",ti:".TileMatrixLimits"},{en:"GetCapabilities",ti:".GetCapabilities"},{en:"TileMatrix",ti:".TileMatrix"},{en:"TileMatrixSetLink",ti:".TileMatrixSetLink"},{en:"Theme",ti:".Theme"},{en:"FeatureInfoResponse",ti:".FeatureInfoResponse"},{en:"BinaryPayload",ti:".BinaryPayload"},{en:"TextPayload",ti:".TextPayload"},{en:"Capabilities",ti:".Capabilities"},{en:"Themes",ti:".Themes"}]}}})?i.apply(t,[]):i)||(e.exports=r)},"5NHM":function(e,t,n){"use strict";var i=n("RGpb"),r=n("9CgO"),a=n("2I+J");t.a=function(e){b(n,e);var t=T(n);function n(e,i,r,a){var o;return _(this,n),(o=t.call(this)).extent=e,o.pixelRatio_=r,o.resolution=i,o.state=a,o}return y(n,[{key:"changed",value:function(){this.dispatchEvent(r.a.CHANGE)}},{key:"getExtent",value:function(){return this.extent}},{key:"getImage",value:function(){return Object(a.b)()}},{key:"getPixelRatio",value:function(){return this.pixelRatio_}},{key:"getResolution",value:function(){return this.resolution}},{key:"getState",value:function(){return this.state}},{key:"load",value:function(){Object(a.b)()}}]),n}(i.a)},"6MUB":function(e,t,n){"use strict";var i=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,r){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map(function(r){var a=encodeURIComponent(i(r))+n;return Array.isArray(e[r])?e[r].map(function(e){return a+encodeURIComponent(i(e))}).join(t):a+encodeURIComponent(i(e[r]))}).join(t):r?encodeURIComponent(i(r))+n+encodeURIComponent(i(e)):""}},"6SrS":function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return r});var i=.5,r=!0},"6XL4":function(e,t,n){"use strict";var i=n("5NHM"),r=n("lXae");t.a=function(e){b(n,e);var t=T(n);function n(e,i,a,o,s){var l;return _(this,n),(l=t.call(this,e,i,a,void 0!==s?r.a.IDLE:r.a.LOADED)).loader_=void 0!==s?s:null,l.canvas_=o,l.error_=null,l}return y(n,[{key:"getError",value:function(){return this.error_}},{key:"handleLoad_",value:function(e){e?(this.error_=e,this.state=r.a.ERROR):this.state=r.a.LOADED,this.changed()}},{key:"load",value:function(){this.state==r.a.IDLE&&(this.state=r.a.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))}},{key:"getImage",value:function(){return this.canvas_}}]),n}(i.a)},"6Xq6":function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return a}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return s});var i=n("oWEL");function r(){return!0}function a(){return!1}function o(){}function s(e){var t,n,r,a=!1;return function(){var o=Array.prototype.slice.call(arguments);return a&&this===r&&Object(i.b)(o,n)||(a=!0,r=this,n=o,t=e.apply(this,arguments)),t}}},"6kTr":function(e,t,n){"use strict";var i=n("jnTo"),r=n("9CgO"),a=n("e4iU"),o=n("oWEL"),s=n("U1NS"),l=n("Cw4B");t.a=function(e){b(n,e);var t=T(n);function n(e){var i;_(this,n);var o=e||{};(i=t.call(this,{element:document.createElement("div"),render:o.render,target:o.target})).ulElement_=document.createElement("ul"),i.collapsed_=void 0===o.collapsed||o.collapsed,i.userCollapsed_=i.collapsed_,i.overrideCollapsible_=void 0!==o.collapsible,i.collapsible_=void 0===o.collapsible||o.collapsible,i.collapsible_||(i.collapsed_=!1);var s=void 0!==o.className?o.className:"ol-attribution",l=void 0!==o.tipLabel?o.tipLabel:"Attributions",u=void 0!==o.expandClassName?o.expandClassName:s+"-expand",c=void 0!==o.collapseLabel?o.collapseLabel:"\xbb",h=void 0!==o.collapseClassName?o.collapseClassName:s+"-collpase";"string"==typeof c?(i.collapseLabel_=document.createElement("span"),i.collapseLabel_.textContent=c,i.collapseLabel_.className=h):i.collapseLabel_=c;var d=void 0!==o.label?o.label:"i";"string"==typeof d?(i.label_=document.createElement("span"),i.label_.textContent=d,i.label_.className=u):i.label_=d;var f=i.collapsible_&&!i.collapsed_?i.collapseLabel_:i.label_,p=document.createElement("button");p.setAttribute("type","button"),p.title=l,p.appendChild(f),p.addEventListener(r.a.CLICK,i.handleClick_.bind(x(i)),!1);var m=i.element;return m.className=s+" "+a.e+" "+a.b+(i.collapsed_&&i.collapsible_?" "+a.a:"")+(i.collapsible_?"":" ol-uncollapsible"),m.appendChild(i.ulElement_),m.appendChild(p),i.renderedAttributions_=[],i.renderedVisible_=!0,i}return y(n,[{key:"collectSourceAttributions_",value:function(e){for(var t={},n=[],i=!0,r=e.layerStatesArray,a=0,o=r.length;a<o;++a){var l=r[a];if(Object(s.b)(l,e.viewState)){var u=l.layer.getSource();if(u){var c=u.getAttributions();if(c){var h=c(e);if(h)if(i=i&&!1!==u.getAttributionsCollapsible(),Array.isArray(h))for(var d=0,f=h.length;d<f;++d)h[d]in t||(n.push(h[d]),t[h[d]]=!0);else h in t||(n.push(h),t[h]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(i),n}},{key:"updateElement_",value:function(e){if(e){var t=this.collectSourceAttributions_(e),n=t.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!Object(o.b)(t,this.renderedAttributions_)){Object(l.d)(this.ulElement_);for(var i=0,r=t.length;i<r;++i){var a=document.createElement("li");a.innerHTML=t[i],this.ulElement_.appendChild(a)}this.renderedAttributions_=t}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)}},{key:"handleClick_",value:function(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}},{key:"handleToggle_",value:function(){this.element.classList.toggle(a.a),this.collapsed_?Object(l.g)(this.collapseLabel_,this.label_):Object(l.g)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_}},{key:"getCollapsible",value:function(){return this.collapsible_}},{key:"setCollapsible",value:function(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}},{key:"setCollapsed",value:function(e){this.userCollapsed_=e,this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()}},{key:"getCollapsed",value:function(){return this.collapsed_}},{key:"render",value:function(e){this.updateElement_(e.frameState)}}]),n}(i.a)},"6unr":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n("tFPJ"),r=n("4yuk"),a=function(){function e(t,n,i){_(this,e),this.__parts=[],this.template=t,this.processor=n,this.options=i}return y(e,[{key:"update",value:function(e){var t,n=0,i=h(this.__parts);try{for(i.s();!(t=i.n()).done;){var r=t.value;void 0!==r&&r.setValue(e[n]),n++}}catch(l){i.e(l)}finally{i.f()}var a,o=h(this.__parts);try{for(o.s();!(a=o.n()).done;){var s=a.value;void 0!==s&&s.commit()}}catch(l){o.e(l)}finally{o.f()}}},{key:"_clone",value:function(){for(var e,t=i.a?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),n=[],a=this.template.parts,o=document.createTreeWalker(t,133,null,!1),s=0,l=0,u=o.nextNode();s<a.length;)if(e=a[s],Object(r.d)(e)){for(var c;l<e.index;)l++,"TEMPLATE"===u.nodeName&&(n.push(u),o.currentNode=u.content),null===(u=o.nextNode())&&(o.currentNode=n.pop(),u=o.nextNode());if("node"===e.type){var h=this.processor.handleTextExpression(this.options);h.insertAfterNode(u.previousSibling),this.__parts.push(h)}else(c=this.__parts).push.apply(c,d(this.processor.handleAttributeExpressions(u,e.name,e.strings,this.options)));s++}else this.__parts.push(void 0),s++;return i.a&&(document.adoptNode(t),customElements.upgrade(t)),t}}]),e}()},"7+OI":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("HDdC");function r(e){return!!e&&(e instanceof i.a||"function"==typeof e.lift&&"function"==typeof e.subscribe)}},"7MqJ":function(e,t,n){"use strict";var i=n("9CgO"),r=n("XWL2"),a=n("0Fwh"),o=n("Cw4B"),s=n("+WER"),l=function(e){b(n,e);var t=T(n);function n(e,i,r,a,o,s){var l;return _(this,n),(l=t.call(this,e,i,s)).crossOrigin_=a,l.src_=r,l.key=r,l.image_=new Image,null!==a&&(l.image_.crossOrigin=a),l.unlisten_=null,l.tileLoadFunction_=o,l}return y(n,[{key:"getImage",value:function(){return this.image_}},{key:"handleImageError_",value:function(){var e;this.state=a.a.ERROR,this.unlistenImage_(),this.image_=((e=Object(o.a)(1,1)).fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),e.canvas),this.changed()}},{key:"handleImageLoad_",value:function(){var e=this.image_;this.state=e.naturalWidth&&e.naturalHeight?a.a.LOADED:a.a.EMPTY,this.unlistenImage_(),this.changed()}},{key:"load",value:function(){this.state==a.a.ERROR&&(this.state=a.a.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==a.a.IDLE&&(this.state=a.a.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=Object(s.b)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}},{key:"unlistenImage_",value:function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}]),n}(r.a),u=n("6SrS"),c=n("PaPA"),h=n("i907"),d=n("LV+m"),f=n("hKKC"),p=n("FHfp"),m=function(e){b(n,e);var t=T(n);function n(e,i,r,o,s,l,p,m,v,g,y,b){var S;_(this,n),(S=t.call(this,s,a.a.IDLE)).renderEdges_=void 0!==y&&y,S.contextOptions_=b,S.pixelRatio_=p,S.gutter_=m,S.canvas_=null,S.sourceTileGrid_=i,S.targetTileGrid_=o,S.wrappedTileCoord_=l||s,S.sourceTiles_=[],S.sourcesListenerKeys_=null,S.sourceZ_=0;var T=o.getTileCoordExtent(S.wrappedTileCoord_),x=S.targetTileGrid_.getExtent(),E=S.sourceTileGrid_.getExtent(),C=x?Object(f.C)(T,x):T;if(0===Object(f.v)(C))return w(S,void(S.state=a.a.EMPTY));var k=e.getExtent();k&&(E=E?Object(f.C)(E,k):k);var M=o.getResolution(S.wrappedTileCoord_[0]),O=Object(h.a)(e,r,C,M);if(!isFinite(O)||O<=0)return w(S,void(S.state=a.a.EMPTY));if(S.triangulation_=new c.a(e,r,C,E,O*(void 0!==g?g:u.b),M),0===S.triangulation_.getTriangles().length)return w(S,void(S.state=a.a.EMPTY));S.sourceZ_=i.getZForResolution(O);var A=S.triangulation_.calculateSourceExtent();if(E&&(e.canWrapX()?(A[1]=Object(d.a)(A[1],E[1],E[3]),A[3]=Object(d.a)(A[3],E[1],E[3])):A=Object(f.C)(A,E)),Object(f.v)(A)){for(var R=i.getTileRangeForExtentAndZ(A,S.sourceZ_),I=R.minX;I<=R.maxX;I++)for(var L=R.minY;L<=R.maxY;L++){var P=v(S.sourceZ_,I,L,p);P&&S.sourceTiles_.push(P)}0===S.sourceTiles_.length&&(S.state=a.a.EMPTY)}else S.state=a.a.EMPTY;return S}return y(n,[{key:"getImage",value:function(){return this.canvas_}},{key:"reproject_",value:function(){var e=[];if(this.sourceTiles_.forEach((function(t,n,i){t&&t.getState()==a.a.LOADED&&e.push({extent:this.sourceTileGrid_.getTileCoordExtent(t.tileCoord),image:t.getImage()})}).bind(this)),this.sourceTiles_.length=0,0===e.length)this.state=a.a.ERROR;else{var t=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(t),i="number"==typeof n?n:n[0],r="number"==typeof n?n:n[1],o=this.targetTileGrid_.getResolution(t),s=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=Object(h.c)(i,r,this.pixelRatio_,s,this.sourceTileGrid_.getExtent(),o,l,this.triangulation_,e,this.gutter_,this.renderEdges_,this.contextOptions_),this.state=a.a.LOADED}this.changed()}},{key:"load",value:function(){if(this.state==a.a.IDLE){this.state=a.a.LOADING,this.changed();var e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach((function(t,n,r){var o=t.getState();if(o==a.a.IDLE||o==a.a.LOADING){e++;var s=Object(p.a)(t,i.a.CHANGE,function(n){var i=t.getState();i!=a.a.LOADED&&i!=a.a.ERROR&&i!=a.a.EMPTY||(Object(p.c)(s),0===--e&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(s)}}).bind(this)),this.sourceTiles_.forEach(function(e,t,n){e.getState()==a.a.IDLE&&e.load()}),0===e&&setTimeout(this.reproject_.bind(this),0)}}},{key:"unlistenSources_",value:function(){this.sourcesListenerKeys_.forEach(p.c),this.sourcesListenerKeys_=null}}]),n}(r.a),g=n("42kC"),S=n("9AA0"),x=n("GLbD"),E=n("Znq9"),k=n("UMcu"),M=n("r0tu"),O=n("2I+J");function A(e,t){e.getImage().src=t}t.a=function(e){b(n,e);var t=T(n);function n(e){var i;return _(this,n),(i=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:A,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})).crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,i.tileClass=void 0!==e.tileClass?e.tileClass:l,i.tileCacheForProjection={},i.tileGridForProjection={},i.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,i.contextOptions_=!1===e.imageSmoothing?x.b:void 0,i.renderReprojectionEdges_=!1,i}return y(n,[{key:"canExpireCache",value:function(){if(!u.a)return v(C(n.prototype),"canExpireCache",this).call(this);if(this.tileCache.canExpireCache())return!0;for(var e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1}},{key:"expireCache",value:function(e,t){if(u.a){var i=this.getTileCacheForProjection(e);for(var r in this.tileCache.expireCache(this.tileCache==i?t:{}),this.tileCacheForProjection){var a=this.tileCacheForProjection[r];a.expireCache(a==i?t:{})}}else v(C(n.prototype),"expireCache",this).call(this,e,t)}},{key:"getContextOptions",value:function(){return this.contextOptions_}},{key:"getGutterForProjection",value:function(e){return u.a&&this.getProjection()&&e&&!Object(E.f)(this.getProjection(),e)?0:this.getGutter()}},{key:"getGutter",value:function(){return 0}},{key:"getKey",value:function(){return v(C(n.prototype),"getKey",this).call(this)+(this.contextOptions_?"\n"+JSON.stringify(this.contextOptions_):"")}},{key:"getOpaque",value:function(e){return!(u.a&&this.getProjection()&&e&&!Object(E.f)(this.getProjection(),e))&&v(C(n.prototype),"getOpaque",this).call(this,e)}},{key:"getTileGridForProjection",value:function(e){if(!u.a)return v(C(n.prototype),"getTileGridForProjection",this).call(this,e);var t=this.getProjection();if(!this.tileGrid||t&&!Object(E.f)(t,e)){var i=Object(O.c)(e);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=Object(M.d)(e)),this.tileGridForProjection[i]}return this.tileGrid}},{key:"getTileCacheForProjection",value:function(e){if(!u.a)return v(C(n.prototype),"getTileCacheForProjection",this).call(this,e);var t=this.getProjection();if(!t||Object(E.f)(t,e))return this.tileCache;var i=Object(O.c)(e);return i in this.tileCacheForProjection||(this.tileCacheForProjection[i]=new g.a(this.tileCache.highWaterMark)),this.tileCacheForProjection[i]}},{key:"createTile_",value:function(e,t,n,r,o,s){var l=[e,t,n],u=this.getTileCoordForTileUrlFunction(l,o),c=u?this.tileUrlFunction(u,r,o):void 0,h=new this.tileClass(l,void 0!==c?a.a.IDLE:a.a.EMPTY,void 0!==c?c:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return h.key=s,h.addEventListener(i.a.CHANGE,this.handleTileChange.bind(this)),h}},{key:"getTile",value:function(e,t,n,i,r){var a=this.getProjection();if(u.a&&a&&r&&!Object(E.f)(a,r)){var o,s=this.getTileCacheForProjection(r),l=[e,t,n],c=Object(k.c)(l);s.containsKey(c)&&(o=s.get(c));var h=this.getKey();if(o&&o.key==h)return o;var d=this.getTileGridForProjection(a),f=this.getTileGridForProjection(r),p=this.getTileCoordForTileUrlFunction(l,r),v=new m(a,d,r,f,l,p,this.getTilePixelRatio(i),this.getGutter(),(function(e,t,n,i){return this.getTileInternal(e,t,n,i,a)}).bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.contextOptions_);return v.key=h,o?(v.interimTile=o,v.refreshInterimChain(),s.replace(c,v)):s.set(c,v),v}return this.getTileInternal(e,t,n,i,a||r)}},{key:"getTileInternal",value:function(e,t,n,i,r){var o=null,s=Object(k.d)(e,t,n),l=this.getKey();if(this.tileCache.containsKey(s)){if((o=this.tileCache.get(s)).key!=l){var u=o;(o=this.createTile_(e,t,n,i,r,l)).interimTile=u.getState()==a.a.IDLE?u.interimTile:u,o.refreshInterimChain(),this.tileCache.replace(s,o)}}else o=this.createTile_(e,t,n,i,r,l),this.tileCache.set(s,o);return o}},{key:"setRenderReprojectionEdges",value:function(e){if(u.a&&this.renderReprojectionEdges_!=e){for(var t in this.renderReprojectionEdges_=e,this.tileCacheForProjection)this.tileCacheForProjection[t].clear();this.changed()}}},{key:"setTileGridForProjection",value:function(e,t){if(u.a){var n=Object(E.i)(e);if(n){var i=Object(O.c)(n);i in this.tileGridForProjection||(this.tileGridForProjection[i]=t)}}}}]),n}(S.a)},"7k3C":function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s}),n.d(t,"d",function(){return l}),n.d(t,"c",function(){return u}),n.d(t,"e",function(){return c}),n.d(t,"g",function(){return h}),n.d(t,"i",function(){return d}),n.d(t,"j",function(){return f}),n.d(t,"f",function(){return p}),n.d(t,"h",function(){return m}),n("gjiK");var i=n("6Xq6"),r=n("FRHD"),a=n("i3ci");function o(e){var t=arguments;return function(e){for(var n=!0,i=0,r=t.length;i<r&&(n=n&&t[i](e));++i);return n}}var s=function(e){var t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},l=function(e){return!e.map.getTargetElement().hasAttribute("tabindex")||function(e){return e.target.getTargetElement().contains(document.activeElement)}(e)},u=i.b,c=function(e){var t=e.originalEvent;return 0==t.button&&!(r.f&&r.d&&t.ctrlKey)},h=function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},d=function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},f=function(e){var t=e.originalEvent.target.tagName;return"INPUT"!==t&&"SELECT"!==t&&"TEXTAREA"!==t},p=function(e){var t=e.originalEvent;return Object(a.a)(void 0!==t,56),"mouse"==t.pointerType},m=function(e){var t=e.originalEvent;return Object(a.a)(void 0!==t,56),t.isPrimary&&0===t.button}},"7o/Q":function(e,t,n){"use strict";n.d(t,"a",function(){return u});var i=n("n6bG"),r=n("gRHU"),a=n("quSY"),o=n("2QA8"),s=n("2fFW"),l=n("NJ4a"),u=function(e){b(n,e);var t=T(n);function n(e,i,a){var o;switch(_(this,n),(o=t.call(this)).syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=r.a;break;case 1:if(!e){o.destination=r.a;break}if("object"==typeof e){e instanceof n?(o.syncErrorThrowable=e.syncErrorThrowable,o.destination=e,e.add(x(o))):(o.syncErrorThrowable=!0,o.destination=new c(x(o),e));break}default:o.syncErrorThrowable=!0,o.destination=new c(x(o),e,i,a)}return o}return y(n,[{key:o.a,value:function(){return this}},{key:"next",value:function(e){this.isStopped||this._next(e)}},{key:"error",value:function(e){this.isStopped||(this.isStopped=!0,this._error(e))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,v(C(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(e){this.destination.next(e)}},{key:"_error",value:function(e){this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}],[{key:"create",value:function(e,t,i){var r=new n(e,t,i);return r.syncErrorThrowable=!1,r}}]),n}(a.a),c=function(e){b(n,e);var t=T(n);function n(e,a,o,s){var l,u;_(this,n),(l=t.call(this))._parentSubscriber=e;var c=x(l);return Object(i.a)(a)?u=a:a&&(u=a.next,o=a.error,s=a.complete,a!==r.a&&(c=Object.create(a),Object(i.a)(c.unsubscribe)&&l.add(c.unsubscribe.bind(c)),c.unsubscribe=l.unsubscribe.bind(x(l)))),l._context=c,l._next=u,l._error=o,l._complete=s,l}return y(n,[{key:"next",value:function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;s.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}},{key:"error",value:function(e){if(!this.isStopped){var t=this._parentSubscriber,n=s.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):Object(l.a)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;Object(l.a)(e)}}}},{key:"complete",value:function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};s.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),s.a.useDeprecatedSynchronousErrorHandling)throw n;Object(l.a)(n)}}},{key:"__tryOrSetError",value:function(e,t,n){if(!s.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(i){return s.a.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=i,e.syncErrorThrown=!0,!0):(Object(l.a)(i),!0)}return!1}},{key:"_unsubscribe",value:function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}]),n}(u)},"7tkq":function(e,t,n){"use strict";var i=n("wRPv"),r=n("aBeY"),a=n("W74l"),o=n("gOFd"),s=n("AjuZ"),l=n("kuFe"),u=n("hKKC"),c=n("VvGk"),h=n("oWEL"),d=n("1Ggo"),f=n("L3Wi"),p=n("DPnj"),m=n("iB0p"),v=n("ZjAA"),g=n("broj"),S=n("Y5Xb"),x=n("8pO4"),E=function(e){b(n,e);var t=T(n);function n(e,i,r){var a;if(_(this,n),(a=t.call(this)).endss_=[],a.flatInteriorPointsRevision_=-1,a.flatInteriorPoints_=null,a.maxDelta_=-1,a.maxDeltaRevision_=-1,a.orientedRevision_=-1,a.orientedFlatCoordinates_=null,!r&&!Array.isArray(e[0])){for(var o=a.getLayout(),s=e,l=[],u=[],c=0,d=s.length;c<d;++c){var f=s[c];0===c&&(o=f.getLayout());for(var p=l.length,m=f.getEnds(),v=0,g=m.length;v<g;++v)m[v]+=p;Object(h.c)(l,f.getFlatCoordinates()),u.push(m)}i=o,e=l,r=u}return void 0!==i&&r?(a.setFlatCoordinates(i,e),a.endss_=r):a.setCoordinates(e,i),w(a)}return y(n,[{key:"appendPolygon",value:function(e){var t;if(this.flatCoordinates){var n=this.flatCoordinates.length;Object(h.c)(this.flatCoordinates,e.getFlatCoordinates());for(var i=0,r=(t=e.getEnds().slice()).length;i<r;++i)t[i]+=n}else this.flatCoordinates=e.getFlatCoordinates().slice(),t=e.getEnds().slice(),this.endss_.push();this.endss_.push(t),this.changed()}},{key:"clone",value:function(){for(var e=this.endss_.length,t=new Array(e),i=0;i<e;++i)t[i]=this.endss_[i].slice();var r=new n(this.flatCoordinates.slice(),this.layout,t);return r.applyProperties(this),r}},{key:"closestPointXY",value:function(e,t,n,i){return i<Object(u.f)(this.getExtent(),e,t)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(l.f)(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(l.c)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,t,n,i))}},{key:"containsXY",value:function(e,t){return Object(S.d)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,t)}},{key:"getArea",value:function(){return Object(v.c)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}},{key:"getCoordinates",value:function(e){var t;return void 0!==e?(t=this.getOrientedFlatCoordinates().slice(),Object(m.e)(t,0,this.endss_,this.stride,e)):t=this.flatCoordinates,Object(f.c)(t,0,this.endss_,this.stride)}},{key:"getEndss",value:function(){return this.endss_}},{key:"getFlatInteriorPoints",value:function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var e=Object(g.a)(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=Object(d.b)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}},{key:"getInteriorPoints",value:function(){return new a.a(this.getFlatInteriorPoints().slice(),i.a.XYM)}},{key:"getOrientedFlatCoordinates",value:function(){if(this.orientedRevision_!=this.getRevision()){var e=this.flatCoordinates;Object(m.c)(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=Object(m.e)(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}},{key:"getSimplifiedGeometryInternal",value:function(e){var t=[],r=[];return t.length=Object(x.d)(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),t,0,r),new n(t,i.a.XY,r)}},{key:"getPolygon",value:function(e){if(e<0||this.endss_.length<=e)return null;var t;if(0===e)t=0;else{var n=this.endss_[e-1];t=n[n.length-1]}var i=this.endss_[e].slice(),r=i[i.length-1];if(0!==t)for(var a=0,s=i.length;a<s;++a)i[a]-=t;return new o.a(this.flatCoordinates.slice(t,r),this.layout,i)}},{key:"getPolygons",value:function(){for(var e=this.layout,t=this.flatCoordinates,n=this.endss_,i=[],r=0,a=0,s=n.length;a<s;++a){var l=n[a].slice(),u=l[l.length-1];if(0!==r)for(var c=0,h=l.length;c<h;++c)l[c]-=r;var d=new o.a(t.slice(r,u),e,l);i.push(d),r=u}return i}},{key:"getType",value:function(){return r.a.MULTI_POLYGON}},{key:"intersectsExtent",value:function(e){return Object(p.d)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)}},{key:"setCoordinates",value:function(e,t){this.setLayout(t,e,3),this.flatCoordinates||(this.flatCoordinates=[]);var n=Object(c.d)(this.flatCoordinates,0,e,this.stride,this.endss_);if(0===n.length)this.flatCoordinates.length=0;else{var i=n[n.length-1];this.flatCoordinates.length=0===i.length?0:i[i.length-1]}this.changed()}}]),n}(s.a);t.a=E},"8Y7J":function(e,t,n){"use strict";n.d(t,"a",function(){return pn}),n.d(t,"b",function(){return au}),n.d(t,"c",function(){return eu}),n.d(t,"d",function(){return Ql}),n.d(t,"e",function(){return $l}),n.d(t,"f",function(){return Zu}),n.d(t,"g",function(){return Gu}),n.d(t,"h",function(){return Ks}),n.d(t,"i",function(){return vu}),n.d(t,"j",function(){return _s}),n.d(t,"k",function(){return lu}),n.d(t,"l",function(){return ws}),n.d(t,"m",function(){return Ri}),n.d(t,"n",function(){return Rl}),n.d(t,"o",function(){return Ta}),n.d(t,"p",function(){return Nn}),n.d(t,"q",function(){return B}),n.d(t,"r",function(){return fn}),n.d(t,"s",function(){return ja}),n.d(t,"t",function(){return Bs}),n.d(t,"u",function(){return Hs}),n.d(t,"v",function(){return su}),n.d(t,"w",function(){return al}),n.d(t,"x",function(){return Bu}),n.d(t,"y",function(){return rl}),n.d(t,"z",function(){return Du}),n.d(t,"A",function(){return _u}),n.d(t,"B",function(){return jn}),n.d(t,"C",function(){return ru}),n.d(t,"D",function(){return iu}),n.d(t,"E",function(){return Cs}),n.d(t,"F",function(){return Es}),n.d(t,"G",function(){return Fi}),n.d(t,"H",function(){return Ms}),n.d(t,"I",function(){return xi}),n.d(t,"J",function(){return Fn}),n.d(t,"K",function(){return Xu}),n.d(t,"L",function(){return tl}),n.d(t,"M",function(){return Cu}),n.d(t,"N",function(){return mn}),n.d(t,"O",function(){return Os}),n.d(t,"P",function(){return sl}),n.d(t,"Q",function(){return W}),n.d(t,"R",function(){return Nu}),n.d(t,"S",function(){return Lu}),n.d(t,"T",function(){return w}),n.d(t,"U",function(){return Rn}),n.d(t,"V",function(){return Yu}),n.d(t,"W",function(){return Mu}),n.d(t,"X",function(){return ou}),n.d(t,"Y",function(){return xa}),n.d(t,"Z",function(){return ss}),n.d(t,"ab",function(){return Ti}),n.d(t,"bb",function(){return ai}),n.d(t,"cb",function(){return Yn}),n.d(t,"db",function(){return Zn}),n.d(t,"eb",function(){return ei}),n.d(t,"fb",function(){return Qn}),n.d(t,"gb",function(){return Jn}),n.d(t,"hb",function(){return $n}),n.d(t,"ib",function(){return is}),n.d(t,"jb",function(){return Wu}),n.d(t,"kb",function(){return rs}),n.d(t,"lb",function(){return as}),n.d(t,"mb",function(){return Kn}),n.d(t,"nb",function(){return Q}),n.d(t,"ob",function(){return Wa}),n.d(t,"pb",function(){return mo}),n.d(t,"qb",function(){return fo}),n.d(t,"rb",function(){return po}),n.d(t,"sb",function(){return ns}),n.d(t,"tb",function(){return De}),n.d(t,"ub",function(){return m}),n.d(t,"vb",function(){return Wn}),n.d(t,"wb",function(){return Ua}),n.d(t,"xb",function(){return Ae}),n.d(t,"yb",function(){return vs}),n.d(t,"zb",function(){return xr}),n.d(t,"Ab",function(){return Qa}),n.d(t,"Bb",function(){return Do}),n.d(t,"Cb",function(){return Po}),n.d(t,"Db",function(){return Xl}),n.d(t,"Eb",function(){return ce}),n.d(t,"Fb",function(){return ge}),n.d(t,"Gb",function(){return I}),n.d(t,"Hb",function(){return L}),n.d(t,"Ib",function(){return pe}),n.d(t,"Jb",function(){return ye}),n.d(t,"Kb",function(){return no}),n.d(t,"Lb",function(){return so}),n.d(t,"Mb",function(){return co}),n.d(t,"Nb",function(){return uo}),n.d(t,"Ob",function(){return lo}),n.d(t,"Pb",function(){return oo}),n.d(t,"Qb",function(){return ao}),n.d(t,"Rb",function(){return ho}),n.d(t,"Sb",function(){return un}),n.d(t,"Tb",function(){return Jo}),n.d(t,"Ub",function(){return An}),n.d(t,"Vb",function(){return hn}),n.d(t,"Wb",function(){return Jl}),n.d(t,"Xb",function(){return vo}),n.d(t,"Yb",function(){return ql}),n.d(t,"Zb",function(){return So}),n.d(t,"ac",function(){return El}),n.d(t,"bc",function(){return Cl}),n.d(t,"cc",function(){return kl}),n.d(t,"dc",function(){return xo}),n.d(t,"ec",function(){return wo}),n.d(t,"fc",function(){return io}),n.d(t,"gc",function(){return Eo}),n.d(t,"hc",function(){return Co}),n.d(t,"ic",function(){return Sl}),n.d(t,"jc",function(){return Tl}),n.d(t,"kc",function(){return zl}),n.d(t,"lc",function(){return to}),n.d(t,"mc",function(){return Ni}),n.d(t,"nc",function(){return Di}),n.d(t,"oc",function(){return Pi}),n.d(t,"pc",function(){return tt}),n.d(t,"qc",function(){return Ei}),n.d(t,"rc",function(){return Ci}),n.d(t,"sc",function(){return me}),n.d(t,"tc",function(){return Lo}),n.d(t,"uc",function(){return go}),n.d(t,"vc",function(){return Qo}),n.d(t,"wc",function(){return eo}),n.d(t,"xc",function(){return Zl}),n.d(t,"yc",function(){return qo}),n.d(t,"zc",function(){return Wo}),n.d(t,"Ac",function(){return Yo}),n.d(t,"Bc",function(){return Ko}),n.d(t,"Cc",function(){return Zo}),n.d(t,"Dc",function(){return Hl});var i=n("XNiG"),r=n("quSY"),a=n("HDdC"),o=n("VRyK"),s=n("w1tV");function f(e){for(var t in e)if(e[t]===f)return t;throw Error("Could not find renamed property on target object.")}function p(e,t){for(var n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function m(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(m).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return"".concat(e.overriddenName);if(e.name)return"".concat(e.name);var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function g(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}var S=f({__forward_ref__:f});function w(e){return e.__forward_ref__=w,e.toString=function(){return m(this())},e}function E(e){return k(e)?e():e}function k(e){return"function"==typeof e&&e.hasOwnProperty(S)&&e.__forward_ref__===w}var M=function(e){b(n,e);var t=T(n);function n(e,i){var r;return _(this,n),(r=t.call(this,function(e,t){return"".concat(e?"NG0".concat(e,": "):"").concat(t)}(e,i))).code=e,r}return n}(u(Error));function O(e){return"string"==typeof e?e:null==e?"":String(e)}function A(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():O(e)}function R(e,t){var n=t?" in ".concat(t):"";throw new M("201","No provider for ".concat(A(e)," found").concat(n))}function I(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function L(e){return{providers:e.providers||[],imports:e.imports||[]}}function P(e){return D(e,F)||D(e,G)}function D(e,t){return e.hasOwnProperty(t)?e[t]:null}function N(e){return e&&(e.hasOwnProperty(U)||e.hasOwnProperty(V))?e[U]:null}var j,F=f({"\u0275prov":f}),U=f({"\u0275inj":f}),G=f({ngInjectableDef:f}),V=f({ngInjectorDef:f}),B=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function z(e){var t=j;return j=e,t}function H(e,t,n){var i=P(e);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:n&B.Optional?null:void 0!==t?t:void R(m(e),"Injector")}function X(e){return{toString:e}.toString()}var q=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}({}),W=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}({}),Y="undefined"!=typeof globalThis&&globalThis,K="undefined"!=typeof window&&window,Z="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,J="undefined"!=typeof global&&global,Q=Y||J||K||Z,$={},ee=[],te=[],ne=f({"\u0275cmp":f}),ie=f({"\u0275dir":f}),re=f({"\u0275pipe":f}),ae=f({"\u0275mod":f}),oe=f({"\u0275loc":f}),se=f({"\u0275fac":f}),le=f({__NG_ELEMENT_ID__:f}),ue=0;function ce(e){return X(function(){var t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===q.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||te,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||W.Emulated,id:"c",styles:e.styles||te,_:null,setInput:null,schemas:e.schemas||null,tView:null},i=e.directives,r=e.features,a=e.pipes;return n.id+=ue++,n.inputs=ve(e.inputs,t),n.outputs=ve(e.outputs),r&&r.forEach(function(e){return e(n)}),n.directiveDefs=i?function(){return("function"==typeof i?i():i).map(he)}:null,n.pipeDefs=a?function(){return("function"==typeof a?a():a).map(de)}:null,n})}function he(e){return _e(e)||function(e){return e[ie]||null}(e)}function de(e){return function(e){return e[re]||null}(e)}var fe={};function pe(e){var t={type:e.type,bootstrap:e.bootstrap||te,declarations:e.declarations||te,imports:e.imports||te,exports:e.exports||te,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&X(function(){fe[e.id]=e.type}),t}function me(e,t){return X(function(){var n=be(e,!0);n.declarations=t.declarations||te,n.imports=t.imports||te,n.exports=t.exports||te})}function ve(e,t){if(null==e)return $;var n={};for(var i in e)if(e.hasOwnProperty(i)){var r=e[i],a=r;Array.isArray(r)&&(a=r[1],r=r[0]),n[r]=i,t&&(t[r]=a)}return n}var ge=ce;function ye(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function _e(e){return e[ne]||null}function be(e,t){var n=e[ae]||null;if(!n&&!0===t)throw new Error("Type ".concat(m(e)," does not have '\u0275mod' property."));return n}function Se(e){return Array.isArray(e)&&"object"==typeof e[1]}function Te(e){return Array.isArray(e)&&!0===e[1]}function we(e){return 0!=(8&e.flags)}function xe(e){return 2==(2&e.flags)}function Ee(e){return 1==(1&e.flags)}function Ce(e){return null!==e.template}function ke(e,t){return e.hasOwnProperty(se)?e[se]:null}var Me,Oe=function(){function e(t,n,i){_(this,e),this.previousValue=t,this.currentValue=n,this.firstChange=i}return y(e,[{key:"isFirstChange",value:function(){return this.firstChange}}]),e}();function Ae(){return Re}function Re(e){return e.type.prototype.ngOnChanges&&(e.setInput=Le),Ie}function Ie(){var e=Pe(this),t=null==e?void 0:e.current;if(t){var n=e.previous;if(n===$)e.previous=t;else for(var i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}}function Le(e,t,n,i){var r=Pe(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:$,current:null}),a=r.current||(r.current={}),o=r.previous,s=this.declaredInputs[n],l=o[s];a[s]=new Oe(l&&l.currentValue,t,o===$),e[i]=t}function Pe(e){return e.__ngSimpleChanges__||null}function De(e){Me=e}function Ne(){return void 0!==Me?Me:"undefined"!=typeof document?document:void 0}function je(e){return!!e.listen}Ae.ngInherit=!0;var Fe={createRenderer:function(e,t){return Ne()}};function Ue(e){for(;Array.isArray(e);)e=e[0];return e}function Ge(e,t){return Ue(t[e])}function Ve(e,t){return Ue(t[e.index])}function Be(e,t){return e.data[t]}function ze(e,t){return e[t]}function He(e,t){var n=t[e];return Se(n)?n:n[0]}function Xe(e){var t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function qe(e){return 4==(4&e[2])}function We(e){return 128==(128&e[2])}function Ye(e,t){return null==t?null:e[t]}function Ke(e){e[18]=0}function Ze(e,t){e[5]+=t;for(var n=e,i=e[3];null!==i&&(1===t&&1===n[5]||-1===t&&0===n[5]);)i[5]+=t,n=i,i=i[3]}var Je={lFrame:St(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Qe(){return Je.bindingsEnabled}function $e(){return Je.lFrame.lView}function et(){return Je.lFrame.tView}function tt(e){Je.lFrame.contextLView=e}function nt(){for(var e=it();null!==e&&64===e.type;)e=e.parent;return e}function it(){return Je.lFrame.currentTNode}function rt(e,t){var n=Je.lFrame;n.currentTNode=e,n.isParent=t}function at(){return Je.lFrame.isParent}function ot(){Je.lFrame.isParent=!1}function st(){return Je.isInCheckNoChangesMode}function lt(e){Je.isInCheckNoChangesMode=e}function ut(){var e=Je.lFrame,t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function ct(){return Je.lFrame.bindingIndex}function ht(){return Je.lFrame.bindingIndex++}function dt(e){var t=Je.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function ft(e){Je.lFrame.currentDirectiveIndex=e}function pt(e){var t=Je.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function mt(){return Je.lFrame.currentQueryIndex}function vt(e){Je.lFrame.currentQueryIndex=e}function gt(e){var t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function yt(e,t,n){if(n&B.SkipSelf){for(var i=t,r=e;!(null!==(i=i.parent)||n&B.Host||(i=gt(r),null===i)||(r=r[15],10&i.type)););if(null===i)return!1;t=i,e=r}var a=Je.lFrame=bt();return a.currentTNode=t,a.lView=e,!0}function _t(e){var t=bt(),n=e[1];Je.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function bt(){var e=Je.lFrame,t=null===e?null:e.child;return null===t?St(e):t}function St(e){var t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Tt(){var e=Je.lFrame;return Je.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var wt=Tt;function xt(){var e=Tt();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Et(){return Je.lFrame.selectedIndex}function Ct(e){Je.lFrame.selectedIndex=e}function kt(){var e=Je.lFrame;return Be(e.tView,e.selectedIndex)}function Mt(e,t){for(var n=t.directiveStart,i=t.directiveEnd;n<i;n++){var r=e.data[n].type.prototype,a=r.ngAfterContentInit,o=r.ngAfterContentChecked,s=r.ngAfterViewInit,l=r.ngAfterViewChecked,u=r.ngOnDestroy;a&&(e.contentHooks||(e.contentHooks=[])).push(-n,a),o&&((e.contentHooks||(e.contentHooks=[])).push(n,o),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,o)),s&&(e.viewHooks||(e.viewHooks=[])).push(-n,s),l&&((e.viewHooks||(e.viewHooks=[])).push(n,l),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,l)),null!=u&&(e.destroyHooks||(e.destroyHooks=[])).push(n,u)}}function Ot(e,t,n){It(e,t,3,n)}function At(e,t,n,i){(3&e[2])===n&&It(e,t,n,i)}function Rt(e,t){var n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function It(e,t,n,i){for(var r=null!=i?i:-1,a=t.length-1,o=0,s=void 0!==i?65535&e[18]:0;s<a;s++)if("number"==typeof t[s+1]){if(o=t[s],null!=i&&o>=i)break}else t[s]<0&&(e[18]+=65536),(o<r||-1==r)&&(Lt(e,n,t,s),e[18]=(4294901760&e[18])+s+2),s++}function Lt(e,t,n,i){var r=n[i]<0,a=n[i+1],o=e[r?-n[i]:n[i]];if(r){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{a.call(o)}finally{}}}else try{a.call(o)}finally{}}var Pt=function e(t,n,i){_(this,e),this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i};function Dt(e,t,n){for(var i=je(e),r=0;r<n.length;){var a=n[r];if("number"==typeof a){if(0!==a)break;r++;var o=n[r++],s=n[r++],l=n[r++];i?e.setAttribute(t,s,l,o):t.setAttributeNS(o,s,l)}else{var u=a,c=n[++r];jt(u)?i&&e.setProperty(t,u,c):i?e.setAttribute(t,u,c):t.setAttribute(u,c),r++}}return r}function Nt(e){return 3===e||4===e||6===e}function jt(e){return 64===e.charCodeAt(0)}function Ft(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else for(var n=-1,i=0;i<t.length;i++){var r=t[i];"number"==typeof r?n=r:0===n||Ut(e,n,r,null,-1===n||2===n?t[++i]:null)}return e}function Ut(e,t,n,i,r){var a=0,o=e.length;if(-1===t)o=-1;else for(;a<e.length;){var s=e[a++];if("number"==typeof s){if(s===t){o=-1;break}if(s>t){o=a-1;break}}}for(;a<e.length;){var l=e[a];if("number"==typeof l)break;if(l===n){if(null===i)return void(null!==r&&(e[a+1]=r));if(i===e[a+1])return void(e[a+2]=r)}a++,null!==i&&a++,null!==r&&a++}-1!==o&&(e.splice(o,0,t),a=o+1),e.splice(a++,0,n),null!==i&&e.splice(a++,0,i),null!==r&&e.splice(a++,0,r)}function Gt(e){return-1!==e}function Vt(e){return 32767&e}function Bt(e,t){for(var n=e>>16,i=t;n>0;)i=i[15],n--;return i}var zt=!0;function Ht(e){var t=zt;return zt=e,t}var Xt=0;function qt(e,t){var n=Yt(e,t);if(-1!==n)return n;var i=t[1];i.firstCreatePass&&(e.injectorIndex=t.length,Wt(i.data,e),Wt(t,null),Wt(i.blueprint,null));var r=Kt(e,t),a=e.injectorIndex;if(Gt(r))for(var o=Vt(r),s=Bt(r,t),l=s[1].data,u=0;u<8;u++)t[a+u]=s[o+u]|l[o+u];return t[a+8]=r,a}function Wt(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Yt(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Kt(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;for(var n=0,i=null,r=t;null!==r;){var a=r[1],o=a.type;if(null===(i=2===o?a.declTNode:1===o?r[6]:null))return-1;if(n++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return-1}function Zt(e,t,n){!function(e,t,n){var i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(le)&&(i=n[le]),null==i&&(i=n[le]=Xt++);var r=255&i;t.data[e+(r>>5)]|=1<<r}(e,t,n)}function Jt(e,t,n){if(n&B.Optional)return e;R(t,"NodeInjector")}function Qt(e,t,n,i){if(n&B.Optional&&void 0===i&&(i=null),0==(n&(B.Self|B.Host))){var r=e[9],a=z(void 0);try{return r?r.get(t,i,n&B.Optional):H(t,i,n&B.Optional)}finally{z(a)}}return Jt(i,t,n)}function $t(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:B.Default,r=arguments.length>4?arguments[4]:void 0;if(null!==e){var a=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;var t=e.hasOwnProperty(le)?e[le]:void 0;return"number"==typeof t?t>=0?255&t:tn:t}(n);if("function"==typeof a){if(!yt(t,e,i))return i&B.Host?Jt(r,n,i):Qt(t,n,i,r);try{var o=a();if(null!=o||i&B.Optional)return o;R(n)}finally{wt()}}else if("number"==typeof a){var s=null,l=Yt(e,t),u=-1,c=i&B.Host?t[16][6]:null;for((-1===l||i&B.SkipSelf)&&(-1!==(u=-1===l?Kt(e,t):t[l+8])&&sn(i,!1)?(s=t[1],l=Vt(u),t=Bt(u,t)):l=-1);-1!==l;){var h=t[1];if(on(a,l,h.data)){var d=nn(l,t,n,s,i,c);if(d!==en)return d}-1!==(u=t[l+8])&&sn(i,t[1].data[l+8]===c)&&on(a,l,t)?(s=h,l=Vt(u),t=Bt(u,t)):l=-1}}}return Qt(t,n,i,r)}var en={};function tn(){return new ln(nt(),$e())}function nn(e,t,n,i,r,a){var o=t[1],s=o.data[e+8],l=rn(s,o,n,null==i?xe(s)&&zt:i!=o&&0!=(3&s.type),r&B.Host&&a===s);return null!==l?an(t,o,l,s):en}function rn(e,t,n,i,r){for(var a=e.providerIndexes,o=t.data,s=1048575&a,l=e.directiveStart,u=a>>20,c=r?s+u:e.directiveEnd,h=i?s:s+u;h<c;h++){var d=o[h];if(h<l&&n===d||h>=l&&d.type===n)return h}if(r){var f=o[l];if(f&&Ce(f)&&f.type===n)return l}return null}function an(e,t,n,i){var r=e[n],a=t.data;if(r instanceof Pt){var o=r;o.resolving&&function(e,t){throw new M("200","Circular dependency in DI detected for ".concat(e))}(A(a[n]));var s=Ht(o.canSeeViewProviders);o.resolving=!0;var l=o.injectImpl?z(o.injectImpl):null;yt(e,i,B.Default);try{r=e[n]=o.factory(void 0,a,e,i),t.firstCreatePass&&n>=i.directiveStart&&function(e,t,n){var i=t.type.prototype,r=i.ngOnChanges,a=i.ngOnInit,o=i.ngDoCheck;if(r){var s=Re(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s)}a&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,a),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o))}(n,a[n],t)}finally{null!==l&&z(l),Ht(s),o.resolving=!1,wt()}}return r}function on(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function sn(e,t){return!(e&B.Self||e&B.Host&&t)}var ln=function(){function e(t,n){_(this,e),this._tNode=t,this._lView=n}return y(e,[{key:"get",value:function(e,t){return $t(this._tNode,this._lView,e,void 0,t)}}]),e}();function un(e){return X(function(){for(var t=e.prototype.constructor,n=t[se]||cn(t),i=Object.prototype,r=Object.getPrototypeOf(e.prototype).constructor;r&&r!==i;){var a=r[se]||cn(r);if(a&&a!==n)return a;r=Object.getPrototypeOf(r)}return function(e){return new e}})}function cn(e){return k(e)?function(){var t=cn(E(e));return t&&t()}:ke(e)}function hn(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;var n=e.attrs;if(n)for(var i=n.length,r=0;r<i;){var a=n[r];if(Nt(a))break;if(0===a)r+=2;else if("number"==typeof a)for(r++;r<i&&"string"==typeof n[r];)r++;else{if(a===t)return n[r+1];r+=2}}return null}(nt(),e)}function dn(e,t,n){return X(function(){var i=function(e){return function(){if(e){var t=e.apply(void 0,arguments);for(var n in t)this[n]=t[n]}}}(t);function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof r)return i.apply(this,t),this;var a=c(r,t);return o.annotation=a,o;function o(e,t,n){for(var i=e.hasOwnProperty("__parameters__")?e.__parameters__:Object.defineProperty(e,"__parameters__",{value:[]}).__parameters__;i.length<=n;)i.push(null);return(i[n]=i[n]||[]).push(a),e}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}var fn=function(){function e(t,n){_(this,e),this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=I({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return y(e,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),e}(),pn=new fn("AnalyzeForEntryComponents"),mn=Function;function vn(e,t){void 0===t&&(t=e);for(var n=0;n<e.length;n++){var i=e[n];Array.isArray(i)?(t===e&&(t=e.slice(0,n)),vn(i,t)):t!==e&&t.push(i)}return t}function gn(e,t){e.forEach(function(e){return Array.isArray(e)?gn(e,t):t(e)})}function yn(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function _n(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function bn(e,t){for(var n=[],i=0;i<e;i++)n.push(t);return n}function Sn(e,t,n){var i=wn(e,t);return i>=0?e[1|i]=n:function(e,t,n,i){var r=e.length;if(r==t)e.push(n,i);else if(1===r)e.push(i,e[0]),e[0]=n;else{for(r--,e.push(e[r-1],e[r]);r>t;)e[r]=e[r-2],r--;e[t]=n,e[t+1]=i}}(e,i=~i,t,n),i}function Tn(e,t){var n=wn(e,t);if(n>=0)return e[1|n]}function wn(e,t){return function(e,t,n){for(var i=0,r=e.length>>1;r!==i;){var a=i+(r-i>>1),o=e[a<<1];if(t===o)return a<<1;o>t?r=a:i=a+1}return~(r<<1)}(e,t)}var xn,En={},Cn=/\n/gm,kn=f({provide:String,useValue:f});function Mn(e){var t=xn;return xn=e,t}function On(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B.Default;if(void 0===xn)throw new Error("inject() must be called from an injection context");return null===xn?H(e,void 0,t):xn.get(e,t&B.Optional?null:void 0,t)}function An(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B.Default;return(j||On)(E(e),t)}var Rn=An;function In(e){for(var t=[],n=0;n<e.length;n++){var i=E(e[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");for(var r=void 0,a=B.Default,o=0;o<i.length;o++){var s=i[o],l=s.__NG_DI_FLAG__;"number"==typeof l?-1===l?r=s.token:a|=l:r=s}t.push(An(r,a))}else t.push(An(i))}return t}function Ln(e,t){return e.__NG_DI_FLAG__=t,e.prototype.__NG_DI_FLAG__=t,e}var Pn,Dn,Nn=Ln(dn("Inject",function(e){return{token:e}}),-1),jn=Ln(dn("Optional"),8),Fn=Ln(dn("SkipSelf"),4);function Un(e){var t;return(null===(t=function(){if(void 0===Pn&&(Pn=null,Q.trustedTypes))try{Pn=Q.trustedTypes.createPolicy("angular",{createHTML:function(e){return e},createScript:function(e){return e},createScriptURL:function(e){return e}})}catch(t){}return Pn}())||void 0===t?void 0:t.createHTML(e))||e}function Gn(e){var t;return(null===(t=function(){if(void 0===Dn&&(Dn=null,Q.trustedTypes))try{Dn=Q.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:function(e){return e},createScript:function(e){return e},createScriptURL:function(e){return e}})}catch(t){}return Dn}())||void 0===t?void 0:t.createHTML(e))||e}var Vn=function(){function e(t){_(this,e),this.changingThisBreaksApplicationSecurity=t}return y(e,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity," (see https://g.co/ng/security#xss)")}}]),e}(),Bn=function(e){b(n,e);var t=T(n);function n(){return _(this,n),t.apply(this,arguments)}return y(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(Vn),zn=function(e){b(n,e);var t=T(n);function n(){return _(this,n),t.apply(this,arguments)}return y(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(Vn),Hn=function(e){b(n,e);var t=T(n);function n(){return _(this,n),t.apply(this,arguments)}return y(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(Vn),Xn=function(e){b(n,e);var t=T(n);function n(){return _(this,n),t.apply(this,arguments)}return y(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(Vn),qn=function(e){b(n,e);var t=T(n);function n(){return _(this,n),t.apply(this,arguments)}return y(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(Vn);function Wn(e){return e instanceof Vn?e.changingThisBreaksApplicationSecurity:e}function Yn(e,t){var n=Kn(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error("Required a safe ".concat(t,", got a ").concat(n," (see https://g.co/ng/security#xss)"))}return n===t}function Kn(e){return e instanceof Vn&&e.getTypeName()||null}function Zn(e){return new Bn(e)}function Jn(e){return new zn(e)}function Qn(e){return new Hn(e)}function $n(e){return new Xn(e)}function ei(e){return new qn(e)}var ti=function(){function e(t){_(this,e),this.inertDocumentHelper=t}return y(e,[{key:"getInertBodyElement",value:function(e){e="<body><remove></remove>"+e;try{var t=(new window.DOMParser).parseFromString(Un(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(n){return null}}}]),e}(),ni=function(){function e(t){if(_(this,e),this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){var n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);var i=this.inertDocument.createElement("body");n.appendChild(i)}}return y(e,[{key:"getInertBodyElement",value:function(e){var t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=Un(e),t;var n=this.inertDocument.createElement("body");return n.innerHTML=Un(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(e){for(var t=e.attributes,n=t.length-1;0<n;n--){var i=t.item(n).name;"xmlns:ns1"!==i&&0!==i.indexOf("ns1:")||e.removeAttribute(i)}for(var r=e.firstChild;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}]),e}(),ii=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ri=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ai(e){return(e=String(e)).match(ii)||e.match(ri)?e:"unsafe:"+e}function oi(e){var t,n={},i=h(e.split(","));try{for(i.s();!(t=i.n()).done;){n[t.value]=!0}}catch(r){i.e(r)}finally{i.f()}return n}function si(){for(var e={},t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(var r=0,a=n;r<a.length;r++){var o=a[r];for(var s in o)o.hasOwnProperty(s)&&(e[s]=!0)}return e}var li,ui=oi("area,br,col,hr,img,wbr"),ci=oi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),hi=oi("rp,rt"),di=si(hi,ci),fi=si(ui,si(ci,oi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),si(hi,oi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),di),pi=oi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),mi=oi("srcset"),vi=si(pi,mi,oi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),oi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),gi=oi("script,style,template"),yi=function(){function e(){_(this,e),this.sanitizedSomething=!1,this.buf=[]}return y(e,[{key:"sanitizeChildren",value:function(e){for(var t=e.firstChild,n=!0;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);var i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(e){var t=e.nodeName.toLowerCase();if(!fi.hasOwnProperty(t))return this.sanitizedSomething=!0,!gi.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);for(var n,i=e.attributes,r=0;r<i.length;r++){var a=i.item(r),o=a.name,s=o.toLowerCase();if(vi.hasOwnProperty(s)){var l=a.value;pi[s]&&(l=ai(l)),mi[s]&&(n=l,l=(n=String(n)).split(",").map(function(e){return ai(e.trim())}).join(", ")),this.buf.push(" ",o,'="',Si(l),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(e){var t=e.nodeName.toLowerCase();fi.hasOwnProperty(t)&&!ui.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}},{key:"chars",value:function(e){this.buf.push(Si(e))}},{key:"checkClobberedElement",value:function(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: ".concat(e.outerHTML));return t}}]),e}(),_i=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,bi=/([^\#-~ |!])/g;function Si(e){return e.replace(/&/g,"&amp;").replace(_i,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(bi,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Ti(e,t){var n=null;try{li=li||function(e){var t=new ni(e);return function(){try{return!!(new window.DOMParser).parseFromString(Un(""),"text/html")}catch(e){return!1}}()?new ti(t):t}(e);var i=t?String(t):"";n=li.getInertBodyElement(i);var r=5,a=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=a,a=n.innerHTML,n=li.getInertBodyElement(i)}while(i!==a);return Un((new yi).sanitizeChildren(wi(n)||n))}finally{if(n)for(var o=wi(n)||n;o.firstChild;)o.removeChild(o.firstChild)}}function wi(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var xi=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}({});function Ei(e){var t=ki();return t?Gn(t.sanitize(xi.HTML,e)||""):Yn(e,"HTML")?Gn(Wn(e)):Ti(Ne(),O(e))}function Ci(e){var t=ki();return t?t.sanitize(xi.URL,e)||"":Yn(e,"URL")?Wn(e):ai(O(e))}function ki(){var e=$e();return e&&e[12]}function Mi(e){return e.ngDebugContext}function Oi(e){return e.ngOriginalError}function Ai(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];e.error.apply(e,n)}var Ri=function(){function e(){_(this,e),this._console=console}return y(e,[{key:"handleError",value:function(e){var t=this._findOriginalError(e),n=this._findContext(e),i=function(e){return e.ngErrorLogger||Ai}(e);i(this._console,"ERROR",e),t&&i(this._console,"ORIGINAL ERROR",t),n&&i(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(e){return e?Mi(e)?Mi(e):this._findContext(Oi(e)):null}},{key:"_findOriginalError",value:function(e){for(var t=Oi(e);t&&Oi(t);)t=Oi(t);return t}}]),e}();function Ii(e,t){e.__ngContext__=t}var Li=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Q);function Pi(e){return{name:"window",target:e.ownerDocument.defaultView}}function Di(e){return{name:"document",target:e.ownerDocument}}function Ni(e){return{name:"body",target:e.ownerDocument.body}}function ji(e){return e instanceof Function?e():e}var Fi=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}({});function Ui(e,t){return(void 0)(e,t)}function Gi(e){var t=e[3];return Te(t)?t[3]:t}function Vi(e){return zi(e[13])}function Bi(e){return zi(e[4])}function zi(e){for(;null!==e&&!Te(e);)e=e[4];return e}function Hi(e,t,n,i,r){if(null!=i){var a,o=!1;Te(i)?a=i:Se(i)&&(o=!0,i=i[0]);var s=Ue(i);0===e&&null!==n?null==r?Qi(t,n,s):Ji(t,n,s,r||null,!0):1===e&&null!==n?Ji(t,n,s,r||null,!0):2===e?function(e,t,n){var i=er(e,t);i&&function(e,t,n,i){je(e)?e.removeChild(t,n,i):t.removeChild(n)}(e,i,t,n)}(t,s,o):3===e&&t.destroyNode(s),null!=a&&function(e,t,n,i,r){var a=n[7];a!==Ue(n)&&Hi(t,e,i,a,r);for(var o=10;o<n.length;o++){var s=n[o];lr(s[1],s,e,t,i,a)}}(t,e,a,n,r)}}function Xi(e,t,n){return je(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function qi(e,t){var n=e[9],i=n.indexOf(t),r=t[3];1024&t[2]&&(t[2]&=-1025,Ze(r,-1)),n.splice(i,1)}function Wi(e,t){if(!(e.length<=10)){var n,i=10+t,r=e[i];if(r){var a=r[17];null!==a&&a!==e&&qi(a,r),t>0&&(e[i-1][4]=r[4]);var o=_n(e,10+t);lr(r[1],n=r,n[11],2,null,null),n[0]=null,n[6]=null;var s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}}function Yi(e,t){if(!(256&t[2])){var n=t[11];je(n)&&n.destroyNode&&lr(e,t,n,3,null,null),function(e){var t=e[13];if(!t)return Ki(e[1],e);for(;t;){var n=null;if(Se(t))n=t[13];else{var i=t[10];i&&(n=i)}if(!n){for(;t&&!t[4]&&t!==e;)Se(t)&&Ki(t[1],t),t=t[3];null===t&&(t=e),Se(t)&&Ki(t[1],t),n=t&&t[4]}t=n}}(t)}}function Ki(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){var n;if(null!=e&&null!=(n=e.destroyHooks))for(var i=0;i<n.length;i+=2){var r=t[n[i]];if(!(r instanceof Pt)){var a=n[i+1];if(Array.isArray(a))for(var o=0;o<a.length;o+=2)a[o+1].call(r[a[o]]);else a.call(r)}}}(e,t),function(e,t){var n=e.cleanup,i=t[7],r=-1;if(null!==n)for(var a=0;a<n.length-1;a+=2)if("string"==typeof n[a]){var o=n[a+1],s="function"==typeof o?o(t):Ue(t[o]),l=i[r=n[a+2]],u=n[a+3];"boolean"==typeof u?s.removeEventListener(n[a],l,u):u>=0?i[r=u]():i[r=-u].unsubscribe(),a+=2}else{var c=i[r=n[a+1]];n[a].call(c)}if(null!==i){for(var h=r+1;h<i.length;h++)(0,i[h])();t[7]=null}}(e,t),1===t[1].type&&je(t[11])&&t[11].destroy();var n=t[17];if(null!==n&&Te(t[3])){n!==t[3]&&qi(n,t);var i=t[19];null!==i&&i.detachView(e)}}}function Zi(e,t,n){return function(e,t,n){for(var i=t;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return n[0];if(2&i.flags){var r=e.data[i.directiveStart].encapsulation;if(r===W.None||r===W.Emulated)return null}return Ve(i,n)}(e,t.parent,n)}function Ji(e,t,n,i,r){je(e)?e.insertBefore(t,n,i,r):t.insertBefore(n,i,r)}function Qi(e,t,n){je(e)?e.appendChild(t,n):t.appendChild(n)}function $i(e,t,n,i,r){null!==i?Ji(e,t,n,i,r):Qi(e,t,n)}function er(e,t){return je(e)?e.parentNode(t):t.parentNode}function tr(e,t,n){return nr(e,t,n)}var nr=function(e,t,n){return 40&e.type?Ve(e,n):null};function ir(e,t,n,i){var r=Zi(e,i,t),a=t[11],o=tr(i.parent||t[6],i,t);if(null!=r)if(Array.isArray(n))for(var s=0;s<n.length;s++)$i(a,r,n[s],o,!1);else $i(a,r,n,o,!1)}function rr(e,t){if(null!==t){var n=t.type;if(3&n)return Ve(t,e);if(4&n)return or(-1,e[t.index]);if(8&n){var i=t.child;if(null!==i)return rr(e,i);var r=e[t.index];return Te(r)?or(-1,r):Ue(r)}if(32&n)return Ui(t,e)()||Ue(e[t.index]);var a=ar(e,t);return null!==a?Array.isArray(a)?a[0]:rr(Gi(e[16]),a):rr(e,t.next)}return null}function ar(e,t){return null!==t?e[16][6].projection[t.projection]:null}function or(e,t){var n=10+e+1;if(n<t.length){var i=t[n],r=i[1].firstChild;if(null!==r)return rr(i,r)}return t[7]}function sr(e,t,n,i,r,a,o){for(;null!=n;){var s=i[n.index],l=n.type;if(o&&0===t&&(s&&Ii(Ue(s),i),n.flags|=4),64!=(64&n.flags))if(8&l)sr(e,t,n.child,i,r,a,!1),Hi(t,e,r,s,a);else if(32&l){for(var u=Ui(n,i),c=void 0;c=u();)Hi(t,e,r,c,a);Hi(t,e,r,s,a)}else 16&l?ur(e,t,i,n,r,a):Hi(t,e,r,s,a);n=o?n.projectionNext:n.next}}function lr(e,t,n,i,r,a){sr(n,i,e.firstChild,t,r,a,!1)}function ur(e,t,n,i,r,a){var o=n[16],s=o[6].projection[i.projection];if(Array.isArray(s))for(var l=0;l<s.length;l++)Hi(t,e,r,s[l],a);else sr(e,t,s,o[3],r,a,!0)}function cr(e,t,n){je(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function hr(e,t,n){je(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function dr(e,t,n){for(var i=e.length;;){var r=e.indexOf(t,n);if(-1===r)return r;if(0===r||e.charCodeAt(r-1)<=32){var a=t.length;if(r+a===i||e.charCodeAt(r+a)<=32)return r}n=r+1}}function fr(e,t,n){for(var i=0;i<e.length;){var r=e[i++];if(n&&"class"===r){if(-1!==dr((r=e[i]).toLowerCase(),t,0))return!0}else if(1===r){for(;i<e.length&&"string"==typeof(r=e[i++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function pr(e){return 4===e.type&&"ng-template"!==e.value}function mr(e,t,n){return t===(4!==e.type||n?e.value:"ng-template")}function vr(e,t,n){for(var i=4,r=e.attrs||[],a=function(e){for(var t=0;t<e.length;t++)if(Nt(e[t]))return t;return e.length}(r),o=!1,s=0;s<t.length;s++){var l=t[s];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!mr(e,l,n)||""===l&&1===t.length){if(gr(i))return!1;o=!0}}else{var u=8&i?l:t[++s];if(8&i&&null!==e.attrs){if(!fr(e.attrs,u,n)){if(gr(i))return!1;o=!0}continue}var c=yr(8&i?"class":l,r,pr(e),n);if(-1===c){if(gr(i))return!1;o=!0;continue}if(""!==u){var h;h=c>a?"":r[c+1].toLowerCase();var d=8&i?h:null;if(d&&-1!==dr(d,u,0)||2&i&&u!==h){if(gr(i))return!1;o=!0}}}}else{if(!o&&!gr(i)&&!gr(l))return!1;if(o&&gr(l))continue;o=!1,i=l|1&i}}return gr(i)||o}function gr(e){return 0==(1&e)}function yr(e,t,n,i){if(null===t)return-1;var r=0;if(i||!n){for(var a=!1;r<t.length;){var o=t[r];if(o===e)return r;if(3===o||6===o)a=!0;else{if(1===o||2===o){for(var s=t[++r];"string"==typeof s;)s=t[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=a?1:2}return-1}return function(e,t){var n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){var i=e[n];if("number"==typeof i)return-1;if(i===t)return n;n++}return-1}(t,e)}function _r(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=0;i<t.length;i++)if(vr(e,t[i],n))return!0;return!1}function br(e,t){e:for(var n=0;n<t.length;n++){var i=t[n];if(e.length===i.length){for(var r=0;r<e.length;r++)if(e[r]!==i[r])continue e;return!0}}return!1}function Sr(e,t){return e?":not("+t.trim()+")":t}function Tr(e){for(var t=e[0],n=1,i=2,r="",a=!1;n<e.length;){var o=e[n];if("string"==typeof o)if(2&i){var s=e[++n];r+="["+o+(s.length>0?'="'+s+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""===r||gr(o)||(t+=Sr(a,r),r=""),i=o,a=a||!gr(i);n++}return""!==r&&(t+=Sr(a,r)),t}var wr={};function xr(e){Er(et(),$e(),Et()+e,st())}function Er(e,t,n,i){if(!i)if(3==(3&t[2])){var r=e.preOrderCheckHooks;null!==r&&Ot(t,r,n)}else{var a=e.preOrderHooks;null!==a&&At(t,a,0,n)}Ct(n)}function Cr(e,t){return e<<17|t<<2}function kr(e){return e>>17&32767}function Mr(e){return 2|e}function Or(e){return(131068&e)>>2}function Ar(e,t){return-131069&e|t<<2}function Rr(e){return 1|e}function Ir(e,t){var n=e.contentQueries;if(null!==n)for(var i=0;i<n.length;i+=2){var r=n[i],a=n[i+1];if(-1!==a){var o=e.data[a];vt(r),o.contentQueries(2,t[a],a)}}}function Lr(e,t,n,i,r,a,o,s,l,u){var c=t.blueprint.slice();return c[0]=r,c[2]=140|i,Ke(c),c[3]=c[15]=e,c[8]=n,c[10]=o||e&&e[10],c[11]=s||e&&e[11],c[12]=l||e&&e[12]||null,c[9]=u||e&&e[9]||null,c[6]=a,c[16]=2==t.type?e[16]:c,c}function Pr(e,t,n,i,r){var a,o,s=e.data[t];if(null===s)s=function(e,t,n,i,r){var a=it(),o=at(),s=e.data[t]=function(e,t,n,i,r,a){return{type:n,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:a,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?a:a&&a.parent,n,t,i,r);return null===e.firstChild&&(e.firstChild=s),null!==a&&(o?null==a.child&&null!==s.parent&&(a.child=s):null===a.next&&(a.next=s)),s}(e,t,n,i,r),Je.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=i,s.attrs=r;var l=(a=Je.lFrame,o=a.currentTNode,a.isParent?o:o.parent);s.injectorIndex=null===l?-1:l.injectorIndex}return rt(s,!0),s}function Dr(e,t,n,i){if(0===n)return-1;for(var r=t.length,a=0;a<n;a++)t.push(i),e.blueprint.push(i),e.data.push(null);return r}function Nr(e,t,n){_t(t);try{var i=e.viewQuery;null!==i&&da(1,i,n);var r=e.template;null!==r&&Ur(e,t,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Ir(e,t),e.staticViewQueries&&da(2,e.viewQuery,n);var a=e.components;null!==a&&function(e,t){for(var n=0;n<t.length;n++)sa(e,t[n])}(t,a)}catch(o){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),o}finally{t[2]&=-5,xt()}}function jr(e,t,n,i){var r=t[2];if(256!=(256&r)){_t(t);var a=st();try{Ke(t),Je.lFrame.bindingIndex=e.bindingStartIndex,null!==n&&Ur(e,t,n,2,i);var o=3==(3&r);if(!a)if(o){var s=e.preOrderCheckHooks;null!==s&&Ot(t,s,null)}else{var l=e.preOrderHooks;null!==l&&At(t,l,0,null),Rt(t,0)}if(function(e){for(var t=Vi(e);null!==t;t=Bi(t))if(t[2])for(var n=t[9],i=0;i<n.length;i++){var r=n[i],a=r[3];0==(1024&r[2])&&Ze(a,1),r[2]|=1024}}(t),function(e){for(var t=Vi(e);null!==t;t=Bi(t))for(var n=10;n<t.length;n++){var i=t[n],r=i[1];We(i)&&jr(r,i,r.template,i[8])}}(t),null!==e.contentQueries&&Ir(e,t),!a)if(o){var u=e.contentCheckHooks;null!==u&&Ot(t,u)}else{var c=e.contentHooks;null!==c&&At(t,c,1),Rt(t,1)}!function(e,t){var n,i,r,a=e.hostBindingOpCodes;if(null!==a)try{for(var o=0;o<a.length;o++){var s=a[o];if(s<0)Ct(~s);else{var l=s,u=a[++o],c=a[++o];n=u,i=l,r=void 0,(r=Je.lFrame).bindingIndex=r.bindingRootIndex=n,ft(i),c(2,t[l])}}}finally{Ct(-1)}}(e,t);var h=e.components;null!==h&&function(e,t){for(var n=0;n<t.length;n++)aa(e,t[n])}(t,h);var d=e.viewQuery;if(null!==d&&da(2,d,i),!a)if(o){var f=e.viewCheckHooks;null!==f&&Ot(t,f)}else{var p=e.viewHooks;null!==p&&At(t,p,2),Rt(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),a||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Ze(t[3],-1))}finally{xt()}}}function Fr(e,t,n,i){var r=t[10],a=!st(),o=qe(t);try{a&&!o&&r.begin&&r.begin(),o&&Nr(e,t,i),jr(e,t,n,i)}finally{a&&!o&&r.end&&r.end()}}function Ur(e,t,n,i,r){var a=Et(),o=2&i;try{Ct(-1),o&&t.length>20&&Er(e,t,20,st()),n(i,r)}finally{Ct(a)}}function Gr(e,t,n){if(we(t))for(var i=t.directiveEnd,r=t.directiveStart;r<i;r++){var a=e.data[r];a.contentQueries&&a.contentQueries(1,n[r],r)}}function Vr(e,t,n){Qe()&&(function(e,t,n,i){var r=n.directiveStart,a=n.directiveEnd;e.firstCreatePass||qt(n,t),Ii(i,t);for(var o=n.initialInputs,s=r;s<a;s++){var l=e.data[s],u=Ce(l);u&&ta(t,n,l);var c=an(t,e,s,n);Ii(c,t),null!==o&&na(0,s-r,c,l,0,o),u&&(He(n.index,t)[8]=c)}}(e,t,n,Ve(n,t)),128==(128&n.flags)&&function(e,t,n){var i=n.directiveStart,r=n.directiveEnd,a=n.index,o=Je.lFrame.currentDirectiveIndex;try{Ct(a);for(var s=i;s<r;s++){var l=e.data[s],u=t[s];ft(s),null===l.hostBindings&&0===l.hostVars&&null===l.hostAttrs||Zr(l,u)}}finally{Ct(-1),ft(o)}}(e,t,n))}function Br(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ve,i=t.localNames;if(null!==i)for(var r=t.index+1,a=0;a<i.length;a+=2){var o=i[a+1],s=-1===o?n(t,e):e[o];e[r++]=s}}function zr(e){var t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Hr(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Hr(e,t,n,i,r,a,o,s,l,u){var c=20+i,h=c+r,d=function(e,t){for(var n=[],i=0;i<t;i++)n.push(i<e?null:wr);return n}(c,h),f="function"==typeof u?u():u;return d[1]={type:e,blueprint:d,template:n,queries:null,viewQuery:s,declTNode:t,data:d.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof a?a():a,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function Xr(e,t,n,i){var r=pa(t);null===n?r.push(i):(r.push(n),e.firstCreatePass&&ma(e).push(i,r.length-1))}function qr(e,t,n){for(var i in e)if(e.hasOwnProperty(i)){var r=e[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(t,r):n[i]=[t,r]}return n}function Wr(e,t,n,i,r,a,o,s){var l,u,c=Ve(t,n),h=t.inputs;!s&&null!=h&&(l=h[i])?(ya(e,n,l,i,r),xe(t)&&function(e,t){var n=He(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(i="class"===(u=i)?"className":"for"===u?"htmlFor":"formaction"===u?"formAction":"innerHtml"===u?"innerHTML":"readonly"===u?"readOnly":"tabindex"===u?"tabIndex":u,r=null!=o?o(r,t.value||"",i):r,je(a)?a.setProperty(c,i,r):jt(i)||(c.setProperty?c.setProperty(i,r):c[i]=r))}function Yr(e,t,n,i){var r=!1;if(Qe()){var a=function(e,t,n){var i=e.directiveRegistry,r=null;if(i)for(var a=0;a<i.length;a++){var o=i[a];_r(n,o.selectors,!1)&&(r||(r=[]),Zt(qt(n,t),e,o.type),Ce(o)?(Jr(e,n),r.unshift(o)):r.push(o))}return r}(e,t,n),o=null===i?null:{"":-1};if(null!==a){r=!0,$r(n,e.data.length,a.length);for(var s=0;s<a.length;s++){var l=a[s];l.providersResolver&&l.providersResolver(l)}for(var u=!1,c=!1,h=Dr(e,t,a.length,null),d=0;d<a.length;d++){var f=a[d];n.mergedAttrs=Ft(n.mergedAttrs,f.hostAttrs),ea(e,n,t,h,f),Qr(h,f,o),null!==f.contentQueries&&(n.flags|=8),null===f.hostBindings&&null===f.hostAttrs&&0===f.hostVars||(n.flags|=128);var p=f.type.prototype;!u&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),u=!0),c||!p.ngOnChanges&&!p.ngDoCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),c=!0),h++}!function(e,t){for(var n=t.directiveEnd,i=e.data,r=t.attrs,a=[],o=null,s=null,l=t.directiveStart;l<n;l++){var u=i[l],c=u.inputs,h=null===r||pr(t)?null:ia(c,r);a.push(h),o=qr(c,l,o),s=qr(u.outputs,l,s)}null!==o&&(o.hasOwnProperty("class")&&(t.flags|=16),o.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=a,t.inputs=o,t.outputs=s}(e,n)}o&&function(e,t,n){if(t)for(var i=e.localNames=[],r=0;r<t.length;r+=2){var a=n[t[r+1]];if(null==a)throw new M("301","Export of name '".concat(t[r+1],"' not found!"));i.push(t[r],a)}}(n,i,o)}return n.mergedAttrs=Ft(n.mergedAttrs,n.attrs),r}function Kr(e,t,n,i,r,a){var o=a.hostBindings;if(o){var s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);var l=~t.index;(function(e){for(var t=e.length;t>0;){var n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(s)!=l&&s.push(l),s.push(i,r,o)}}function Zr(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Jr(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Qr(e,t,n){if(n){if(t.exportAs)for(var i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;Ce(t)&&(n[""]=e)}}function $r(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function ea(e,t,n,i,r){e.data[i]=r;var a=r.factory||(r.factory=ke(r.type)),o=new Pt(a,Ce(r),null);e.blueprint[i]=o,n[i]=o,Kr(e,t,0,i,Dr(e,n,r.hostVars,wr),r)}function ta(e,t,n){var i=Ve(t,e),r=zr(n),a=e[10],o=la(e,Lr(e,r,null,n.onPush?64:16,i,t,a,a.createRenderer(i,n),null,null));e[t.index]=o}function na(e,t,n,i,r,a){var o=a[t];if(null!==o)for(var s=i.setInput,l=0;l<o.length;){var u=o[l++],c=o[l++],h=o[l++];null!==s?i.setInput(n,h,u,c):n[c]=h}}function ia(e,t){for(var n=null,i=0;i<t.length;){var r=t[i];if(0!==r)if(5!==r){if("number"==typeof r)break;e.hasOwnProperty(r)&&(null===n&&(n=[]),n.push(r,e[r],t[i+1])),i+=2}else i+=2;else i+=4}return n}function ra(e,t,n,i){return new Array(e,!0,!1,t,null,0,i,n,null,null)}function aa(e,t){var n=He(t,e);if(We(n)){var i=n[1];80&n[2]?jr(i,n,i.template,n[8]):n[5]>0&&oa(n)}}function oa(e){for(var t=Vi(e);null!==t;t=Bi(t))for(var n=10;n<t.length;n++){var i=t[n];if(1024&i[2]){var r=i[1];jr(r,i,r.template,i[8])}else i[5]>0&&oa(i)}var a=e[1].components;if(null!==a)for(var o=0;o<a.length;o++){var s=He(a[o],e);We(s)&&s[5]>0&&oa(s)}}function sa(e,t){var n=He(t,e),i=n[1];!function(e,t){for(var n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(i,n),Nr(i,n,n[8])}function la(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function ua(e){for(;e;){e[2]|=64;var t=Gi(e);if(0!=(512&e[2])&&!t)return e;e=t}return null}function ca(e,t,n){var i=t[10];i.begin&&i.begin();try{jr(e,t,e.template,n)}catch(r){throw ga(t,r),r}finally{i.end&&i.end()}}function ha(e){!function(e){for(var t=0;t<e.components.length;t++){var n=e.components[t],i=Xe(n),r=i[1];Fr(r,i,r.template,n)}}(e[8])}function da(e,t,n){vt(0),t(e,n)}var fa=Promise.resolve(null);function pa(e){return e[7]||(e[7]=[])}function ma(e){return e.cleanup||(e.cleanup=[])}function va(e,t,n){return(null===e||Ce(e))&&(n=function(e){for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null}(n[t.index])),n[11]}function ga(e,t){var n=e[9],i=n?n.get(Ri,null):null;i&&i.handleError(t)}function ya(e,t,n,i,r){for(var a=0;a<n.length;){var o=n[a++],s=n[a++],l=t[o],u=e.data[o];null!==u.setInput?u.setInput(l,r,i,s):l[s]=r}}function _a(e,t,n){var i=Ge(t,e);!function(e,t,n){je(e)?e.setValue(t,n):t.textContent=n}(e[11],i,n)}function ba(e,t,n){var i=n?e.styles:null,r=n?e.classes:null,a=0;if(null!==t)for(var o=0;o<t.length;o++){var s=t[o];"number"==typeof s?a=s:1==a?r=g(r,s):2==a&&(i=g(i,s+": "+t[++o]+";"))}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=r:e.classesWithoutHost=r}var Sa,Ta=new fn("INJECTOR",-1),wa=function(){function e(){_(this,e)}return y(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:En;if(t===En){var n=new Error("NullInjectorError: No provider for ".concat(m(e),"!"));throw n.name="NullInjectorError",n}return t}}]),e}(),xa=new fn("Set Injector scope."),Ea={},Ca={},ka=[];function Ma(){return void 0===Sa&&(Sa=new wa),Sa}function Oa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0;return new Aa(e,n,t||Ma(),i)}var Aa=function(){function e(t,n,i){var r=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_(this,e),this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var o=[];n&&gn(n,function(e){return r.processProvider(e,t,n)}),gn([t],function(e){return r.processInjectorType(e,[],o)}),this.records.set(Ta,La(void 0,this));var s=this.records.get(xa);this.scope=null!=s?s.value:null,this.source=a||("object"==typeof t?null:m(t))}return y(e,[{key:"destroyed",get:function(){return this._destroyed}},{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(function(e){return e.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:En,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:B.Default;this.assertNotDestroyed();var i,r=Mn(this);try{if(!(n&B.SkipSelf)){var a=this.records.get(e);if(void 0===a){var o=("function"==typeof(i=e)||"object"==typeof i&&i instanceof fn)&&P(e);a=o&&this.injectableDefInScope(o)?La(Ra(e),Ea):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(n&B.Self?Ma():this.parent).get(e,t=n&B.Optional&&t===En?null:t)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(m(e)),r)throw s;return function(e,t,n,i){var r=e.ngTempTokenPath;throw t.__source&&r.unshift(t.__source),e.message=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;var r=m(t);if(Array.isArray(t))r=t.map(m).join(" -> ");else if("object"==typeof t){var a=[];for(var o in t)if(t.hasOwnProperty(o)){var s=t[o];a.push(o+":"+("string"==typeof s?JSON.stringify(s):m(s)))}r="{".concat(a.join(", "),"}")}return"".concat(n).concat(i?"("+i+")":"","[").concat(r,"]: ").concat(e.replace(Cn,"\n  "))}("\n"+e.message,r,"R3InjectorError",i),e.ngTokenPath=r,e.ngTempTokenPath=null,e}(s,e,0,this.source)}throw s}finally{Mn(r)}}},{key:"_resolveInjectorDefTypes",value:function(){var e=this;this.injectorDefTypes.forEach(function(t){return e.get(t)})}},{key:"toString",value:function(){var e=[];return this.records.forEach(function(t,n){return e.push(m(n))}),"R3Injector[".concat(e.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(e,t,n){var i=this;if(!(e=E(e)))return!1;var r=N(e),a=null==r&&e.ngModule||void 0,o=void 0===a?e:a,s=-1!==n.indexOf(o);if(void 0!==a&&(r=N(a)),null==r)return!1;if(null!=r.imports&&!s){var l;n.push(o);try{gn(r.imports,function(e){i.processInjectorType(e,t,n)&&(void 0===l&&(l=[]),l.push(e))})}finally{}if(void 0!==l)for(var u=function(e){var t=l[e],n=t.ngModule,r=t.providers;gn(r,function(e){return i.processProvider(e,n,r||ka)})},c=0;c<l.length;c++)u(c)}this.injectorDefTypes.add(o);var h=ke(o)||function(){return new o};this.records.set(o,La(h,Ea));var d=r.providers;if(null!=d&&!s){var f=e;gn(d,function(e){return i.processProvider(e,f,d)})}return void 0!==a&&void 0!==e.providers}},{key:"processProvider",value:function(e,t,n){var i=Da(e=E(e))?e:E(e&&e.provide),r=function(e,t,n){return Pa(e)?La(void 0,e.useValue):La(Ia(e),Ea)}(e);if(Da(e)||!0!==e.multi)this.records.get(i);else{var a=this.records.get(i);a||((a=La(void 0,Ea,!0)).factory=function(){return In(a.multi)},this.records.set(i,a)),i=e,a.multi.push(e)}this.records.set(i,r)}},{key:"hydrate",value:function(e,t){var n;return t.value===Ea&&(t.value=Ca,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}},{key:"injectableDefInScope",value:function(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||e.providedIn===this.scope:this.injectorDefTypes.has(e.providedIn))}}]),e}();function Ra(e){var t=P(e),n=null!==t?t.factory:ke(e);if(null!==n)return n;if(e instanceof fn)throw new Error("Token ".concat(m(e)," is missing a \u0275prov definition."));if(e instanceof Function)return function(e){var t=e.length;if(t>0){var n=bn(t,"?");throw new Error("Can't resolve all parameters for ".concat(m(e),": (").concat(n.join(", "),")."))}var i=function(e){var t=e&&(e[F]||e[G]);if(t){var n=function(e){if(e.hasOwnProperty("name"))return e.name;var t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "').concat(n,'" class.')),t}return null}(e);return null!==i?function(){return i.factory(e)}:function(){return new e}}(e);throw new Error("unreachable")}function Ia(e,t,n){var i,r;if(Da(e)){var a=E(e);return ke(a)||Ra(a)}if(Pa(e))i=function(){return E(e.useValue)};else if((r=e)&&r.useFactory)i=function(){return e.useFactory.apply(e,d(In(e.deps||[])))};else if(function(e){return!(!e||!e.useExisting)}(e))i=function(){return An(E(e.useExisting))};else{var o=E(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return ke(o)||Ra(o);i=function(){return c(o,d(In(e.deps)))}}return i}function La(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:e,value:t,multi:n?[]:void 0}}function Pa(e){return null!==e&&"object"==typeof e&&kn in e}function Da(e){return"function"==typeof e}var Na=function(e,t,n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0,r=Oa(e,t,n,i);return r._resolveInjectorDefTypes(),r}({name:n},t,e,n)},ja=function(){var e=function(){function e(){_(this,e)}return y(e,null,[{key:"create",value:function(e,t){return Array.isArray(e)?Na(e,t,""):Na(e.providers,e.parent,e.name||"")}}]),e}();return e.THROW_IF_NOT_FOUND=En,e.NULL=new wa,e.\u0275prov=I({token:e,providedIn:"any",factory:function(){return An(Ta)}}),e.__NG_ELEMENT_ID__=-1,e}();function Fa(e,t){Mt(Xe(e)[1],nt())}function Ua(e){for(var t=Object.getPrototypeOf(e.type.prototype).constructor,n=!0,i=[e];t;){var r=void 0;if(Ce(e))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");r=t.\u0275dir}if(r){if(n){i.push(r);var a=e;a.inputs=Ga(e.inputs),a.declaredInputs=Ga(e.declaredInputs),a.outputs=Ga(e.outputs);var o=r.hostBindings;o&&za(e,o);var s=r.viewQuery,l=r.contentQueries;if(s&&Va(e,s),l&&Ba(e,l),p(e.inputs,r.inputs),p(e.declaredInputs,r.declaredInputs),p(e.outputs,r.outputs),Ce(r)&&r.data.animation){var u=e.data;u.animation=(u.animation||[]).concat(r.data.animation)}}var c=r.features;if(c)for(var h=0;h<c.length;h++){var d=c[h];d&&d.ngInherit&&d(e),d===Ua&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){for(var t=0,n=null,i=e.length-1;i>=0;i--){var r=e[i];r.hostVars=t+=r.hostVars,r.hostAttrs=Ft(r.hostAttrs,n=Ft(n,r.hostAttrs))}}(i)}function Ga(e){return e===$?{}:e===te?[]:e}function Va(e,t){var n=e.viewQuery;e.viewQuery=n?function(e,i){t(e,i),n(e,i)}:t}function Ba(e,t){var n=e.contentQueries;e.contentQueries=n?function(e,i,r){t(e,i,r),n(e,i,r)}:t}function za(e,t){var n=e.hostBindings;e.hostBindings=n?function(e,i){t(e,i),n(e,i)}:t}var Ha=null;function Xa(){if(!Ha){var e=Q.Symbol;if(e&&e.iterator)Ha=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var i=t[n];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Ha=i)}}return Ha}var qa=function(){function e(t){_(this,e),this.wrapped=t}return y(e,null,[{key:"wrap",value:function(t){return new e(t)}},{key:"unwrap",value:function(t){return e.isWrapped(t)?t.wrapped:t}},{key:"isWrapped",value:function(t){return t instanceof e}}]),e}();function Wa(e){return!!Ya(e)&&(Array.isArray(e)||!(e instanceof Map)&&Xa()in e)}function Ya(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Ka(e,t,n){return e[t]=n}function Za(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Ja(e,t,n,i){var r=Za(e,t,n);return Za(e,t+1,i)||r}function Qa(e,t,n,i){var r=$e();return Za(r,ht(),t)&&(et(),function(e,t,n,i,r,a){var o=Ve(e,t);!function(e,t,n,i,r,a,o){if(null==a)je(e)?e.removeAttribute(t,r,n):t.removeAttribute(r);else{var s=null==o?O(a):o(a,i||"",r);je(e)?e.setAttribute(t,r,s,n):n?t.setAttributeNS(n,r,s):t.setAttribute(r,s)}}(t[11],o,a,e.value,n,i,r)}(kt(),r,e,t,n,i)),Qa}function $a(e,t,n,i){return Za(e,ht(),n)?t+O(n)+i:wr}function eo(e,t,n,i,r,a,o,s){var l=$e(),u=et(),c=e+20,h=u.firstCreatePass?function(e,t,n,i,r,a,o,s,l){var u=t.consts,c=Pr(t,e,4,o||null,Ye(u,s));Yr(t,n,c,Ye(u,l)),Mt(t,c);var h=c.tViews=Hr(2,c,i,r,a,t.directiveRegistry,t.pipeRegistry,null,t.schemas,u);return null!==t.queries&&(t.queries.template(t,c),h.queries=t.queries.embeddedTView(c)),c}(c,u,l,t,n,i,r,a,o):u.data[c];rt(h,!1);var d=l[11].createComment("");ir(u,l,d,h),Ii(d,l),la(l,l[c]=ra(d,l,d,h)),Ee(h)&&Vr(u,l,h),null!=o&&Br(l,h,s)}function to(e){return ze(Je.lFrame.contextLView,20+e)}function no(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B.Default,n=$e();return null===n?An(e,t):$t(nt(),n,E(e),t)}function io(e,t,n){var i=$e();return Za(i,ht(),t)&&Wr(et(),kt(),i,e,t,i[11],n,!1),io}function ro(e,t,n,i,r){var a=r?"class":"style";ya(e,n,t.inputs[a],a,i)}function ao(e,t,n,i){var r=$e(),a=et(),o=20+e,s=r[11],l=r[o]=Xi(s,t,Je.lFrame.currentNamespace),u=a.firstCreatePass?function(e,t,n,i,r,a,o){var s=t.consts,l=Pr(t,e,2,r,Ye(s,a));return Yr(t,n,l,Ye(s,o)),null!==l.attrs&&ba(l,l.attrs,!1),null!==l.mergedAttrs&&ba(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(o,a,r,0,t,n,i):a.data[o];rt(u,!0);var c=u.mergedAttrs;null!==c&&Dt(s,l,c);var h=u.classes;null!==h&&hr(s,l,h);var d=u.styles;null!==d&&cr(s,l,d),64!=(64&u.flags)&&ir(a,r,l,u),0===Je.lFrame.elementDepthCount&&Ii(l,r),Je.lFrame.elementDepthCount++,Ee(u)&&(Vr(a,r,u),Gr(a,u,r)),null!==i&&Br(r,u)}function oo(){var e=nt();at()?ot():rt(e=e.parent,!1);var t=e;Je.lFrame.elementDepthCount--;var n=et();n.firstCreatePass&&(Mt(n,e),we(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&ro(n,t,$e(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&ro(n,t,$e(),t.stylesWithoutHost,!1)}function so(e,t,n,i){ao(e,t,n,i),oo()}function lo(e,t,n){var i=$e(),r=et(),a=e+20,o=r.firstCreatePass?function(e,t,n,i,r){var a=t.consts,o=Ye(a,i),s=Pr(t,e,8,"ng-container",o);return null!==o&&ba(s,o,!0),Yr(t,n,s,Ye(a,r)),null!==t.queries&&t.queries.elementStart(t,s),s}(a,r,i,t,n):r.data[a];rt(o,!0);var s=i[a]=i[11].createComment("");ir(r,i,s,o),Ii(s,i),Ee(o)&&(Vr(r,i,o),Gr(r,o,i)),null!=n&&Br(i,o)}function uo(){var e=nt(),t=et();at()?ot():rt(e=e.parent,!1),t.firstCreatePass&&(Mt(t,e),we(e)&&t.queries.elementEnd(e))}function co(e,t,n){lo(e,t,n),uo()}function ho(){return $e()}function fo(e){return!!e&&"function"==typeof e.then}function po(e){return!!e&&"function"==typeof e.subscribe}var mo=po;function vo(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,r=$e(),a=et(),o=nt();return yo(a,r,r[11],o,e,t,n,i),vo}function go(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,r=nt(),a=$e(),o=et();return yo(o,a,va(pt(o.data),r,a),r,e,t,n,i),go}function yo(e,t,n,i,r,a){var o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7?arguments[7]:void 0,l=Ee(i),u=e.firstCreatePass&&ma(e),c=pa(t),h=!0;if(3&i.type){var d=Ve(i,t),f=s?s(d):$,p=f.target||d,m=c.length,v=s?function(e){return s(Ue(e[i.index])).target}:i.index;if(je(n)){var g=null;if(!s&&l&&(g=function(e,t,n,i){var r=e.cleanup;if(null!=r)for(var a=0;a<r.length-1;a+=2){var o=r[a];if(o===n&&r[a+1]===i){var s=t[7],l=r[a+2];return s.length>l?s[l]:null}"string"==typeof o&&(a+=2)}return null}(e,t,r,i.index)),null!==g)(g.__ngLastListenerFn__||g).__ngNextListenerFn__=a,g.__ngLastListenerFn__=a,h=!1;else{a=bo(i,t,0,a,!1);var y=n.listen(f.name||p,r,a);c.push(a,y),u&&u.push(r,v,m,m+1)}}else a=bo(i,t,0,a,!0),p.addEventListener(r,a,o),c.push(a),u&&u.push(r,v,m,o)}else a=bo(i,t,0,a,!1);var _,b=i.outputs;if(h&&null!==b&&(_=b[r])){var S=_.length;if(S)for(var T=0;T<S;T+=2){var w=t[_[T]][_[T+1]].subscribe(a),x=c.length;c.push(a,w),u&&u.push(r,i.index,x,-(x+1))}}}function _o(e,t,n,i){try{return!1!==n(i)}catch(r){return ga(e,r),!1}}function bo(e,t,n,i,r){return function n(a){if(a===Function)return i;var o=2&e.flags?He(e.index,t):t;0==(32&t[2])&&ua(o);for(var s=_o(t,0,i,a),l=n.__ngNextListenerFn__;l;)s=_o(t,0,l,a)&&s,l=l.__ngNextListenerFn__;return r&&!1===s&&(a.preventDefault(),a.returnValue=!1),s}}function So(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(e){return(Je.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,Je.lFrame.contextLView))[8]}(e)}function To(e,t){for(var n=null,i=function(e){var t=e.attrs;if(null!=t){var n=t.indexOf(5);if(0==(1&n))return t[n+1]}return null}(e),r=0;r<t.length;r++){var a=t[r];if("*"!==a){if(null===i?_r(e,a,!0):br(i,a))return r}else n=r}return n}function wo(e){var t=$e()[16][6];if(!t.projection)for(var n=t.projection=bn(e?e.length:1,null),i=n.slice(),r=t.child;null!==r;){var a=e?To(r,e):0;null!==a&&(i[a]?i[a].projectionNext=r:n[a]=r,i[a]=r),r=r.next}}function xo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,i=$e(),r=et(),a=Pr(r,20+e,16,null,n||null);null===a.projection&&(a.projection=t),ot(),64!=(64&a.flags)&&function(e,t,n){ur(t[11],0,t,n,Zi(e,n,t),tr(n.parent||t[6],n,t))}(r,i,a)}function Eo(e,t,n){return Co(e,"",t,"",n),Eo}function Co(e,t,n,i,r){var a=$e(),o=$a(a,t,n,i);return o!==wr&&Wr(et(),kt(),a,e,o,a[11],r,!1),Co}function ko(e,t,n,i,r){for(var a=e[n+1],o=null===t,s=i?kr(a):Or(a),l=!1;0!==s&&(!1===l||o);){var u=e[s+1];Mo(e[s],t)&&(l=!0,e[s+1]=i?Rr(u):Mr(u)),s=i?kr(u):Or(u)}l&&(e[n+1]=i?Mr(a):Rr(a))}function Mo(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&wn(e,t)>=0}var Oo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ao(e){return e.substring(Oo.key,Oo.keyEnd)}function Ro(e,t){var n=Oo.textEnd;return n===t?-1:(t=Oo.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,Oo.key=t,n),Io(e,t,n))}function Io(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function Lo(e,t,n){return jo(e,t,n,!1),Lo}function Po(e,t){return jo(e,t,null,!0),Po}function Do(e){!function(e,t,n,i){var r=et(),a=dt(2);r.firstUpdatePass&&Uo(r,null,a,!0);var o=$e();if(n!==wr&&Za(o,a,n)){var s=r.data[Et()];if(Xo(s,!0)&&!Fo(r,a)){var l=s.classesWithoutHost;null!==l&&(n=g(l,n||"")),ro(r,s,o,n,!0)}else!function(e,t,n,i,r,a,o,s){r===wr&&(r=ee);for(var l=0,u=0,c=0<r.length?r[0]:null,h=0<a.length?a[0]:null;null!==c||null!==h;){var d=l<r.length?r[l+1]:void 0,f=u<a.length?a[u+1]:void 0,p=void 0,m=null;c===h?(l+=2,u+=2,d!==f&&(m=h,p=f)):null===h||null!==c&&c<h?(l+=2,m=c):(u+=2,m=h,p=f),null!==m&&Bo(e,t,n,i,m,p,!0,s),c=l<r.length?r[l]:null,h=u<a.length?a[u]:null}}(r,s,o,o[11],o[a+1],o[a+1]=function(e,t,n){if(null==n||""===n)return ee;var i=[],r=Wn(n);if(Array.isArray(r))for(var a=0;a<r.length;a++)e(i,r[a],!0);else if("object"==typeof r)for(var o in r)r.hasOwnProperty(o)&&e(i,o,r[o]);else"string"==typeof r&&t(i,r);return i}(e,t,n),0,a)}}(Sn,No,e)}function No(e,t){for(var n=function(e){return function(e){Oo.key=0,Oo.keyEnd=0,Oo.value=0,Oo.valueEnd=0,Oo.textEnd=e.length}(e),Ro(e,Io(e,0,Oo.textEnd))}(t);n>=0;n=Ro(t,n))Sn(e,Ao(t),!0)}function jo(e,t,n,i){var r=$e(),a=et(),o=dt(2);a.firstUpdatePass&&Uo(a,e,o,i),t!==wr&&Za(r,o,t)&&Bo(a,a.data[Et()],r,r[11],e,r[o+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=m(Wn(e)))),e}(t,n),i,o)}function Fo(e,t){return t>=e.expandoStartIndex}function Uo(e,t,n,i){var r=e.data;if(null===r[n+1]){var a=r[Et()],o=Fo(e,n);Xo(a,i)&&null===t&&!o&&(t=!1),t=function(e,t,n,i){var r=pt(e),a=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(n=Vo(n=Go(null,e,t,n,i),t.attrs,i),a=null);else{var o=t.directiveStylingLast;if(-1===o||e[o]!==r)if(n=Go(r,e,t,n,i),null===a){var s=function(e,t,n){var i=n?t.classBindings:t.styleBindings;if(0!==Or(i))return e[kr(i)]}(e,t,i);void 0!==s&&Array.isArray(s)&&function(e,t,n,i){e[kr(n?t.classBindings:t.styleBindings)]=i}(e,t,i,s=Vo(s=Go(null,e,t,s[1],i),t.attrs,i))}else a=function(e,t,n){for(var i,r=t.directiveEnd,a=1+t.directiveStylingLast;a<r;a++)i=Vo(i,e[a].hostAttrs,n);return Vo(i,t.attrs,n)}(e,t,i)}return void 0!==a&&(i?t.residualClasses=a:t.residualStyles=a),n}(r,a,t,i),function(e,t,n,i,r,a){var o=a?t.classBindings:t.styleBindings,s=kr(o),l=Or(o);e[i]=n;var u,c=!1;if(Array.isArray(n)){var h=n;(null===(u=h[1])||wn(h,u)>0)&&(c=!0)}else u=n;if(r)if(0!==l){var d=kr(e[s+1]);e[i+1]=Cr(d,s),0!==d&&(e[d+1]=Ar(e[d+1],i)),e[s+1]=131071&e[s+1]|i<<17}else e[i+1]=Cr(s,0),0!==s&&(e[s+1]=Ar(e[s+1],i)),s=i;else e[i+1]=Cr(l,0),0===s?s=i:e[l+1]=Ar(e[l+1],i),l=i;c&&(e[i+1]=Mr(e[i+1])),ko(e,u,i,!0),ko(e,u,i,!1),function(e,t,n,i,r){var a=r?e.residualClasses:e.residualStyles;null!=a&&"string"==typeof t&&wn(a,t)>=0&&(n[i+1]=Rr(n[i+1]))}(t,u,e,i,a),o=Cr(s,l),a?t.classBindings=o:t.styleBindings=o}(r,a,t,n,o,i)}}function Go(e,t,n,i,r){var a=null,o=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<o&&(i=Vo(i,(a=t[s]).hostAttrs,r),a!==e);)s++;return null!==e&&(n.directiveStylingLast=s),i}function Vo(e,t,n){var i=n?1:2,r=-1;if(null!==t)for(var a=0;a<t.length;a++){var o=t[a];"number"==typeof o?r=o:r===i&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Sn(e,o,!!n||t[++a]))}return void 0===e?null:e}function Bo(e,t,n,i,r,a,o,s){if(3&t.type){var l=e.data,u=l[s+1];Ho(1==(1&u)?zo(l,t,n,r,Or(u),o):void 0)||(Ho(a)||2==(2&u)&&(a=zo(l,null,n,r,s,o)),function(e,t,n,i,r){var a=je(e);if(t)r?a?e.addClass(n,i):n.classList.add(i):a?e.removeClass(n,i):n.classList.remove(i);else{var o=-1===i.indexOf("-")?void 0:Fi.DashCase;if(null==r)a?e.removeStyle(n,i,o):n.style.removeProperty(i);else{var s="string"==typeof r&&r.endsWith("!important");s&&(r=r.slice(0,-10),o|=Fi.Important),a?e.setStyle(n,i,r,o):n.style.setProperty(i,r,s?"important":"")}}}(i,o,Ge(Et(),n),r,a))}}function zo(e,t,n,i,r,a){for(var o,s=null===t;r>0;){var l=e[r],u=Array.isArray(l),c=u?l[1]:l,h=null===c,d=n[r+1];d===wr&&(d=h?ee:void 0);var f=h?Tn(d,i):c===i?d:void 0;if(u&&!Ho(f)&&(f=Tn(l,i)),Ho(f)&&(o=f,s))return o;var p=e[r+1];r=s?kr(p):Or(p)}if(null!==t){var m=a?t.residualClasses:t.residualStyles;null!=m&&(o=Tn(m,i))}return o}function Ho(e){return void 0!==e}function Xo(e,t){return 0!=(e.flags&(t?16:32))}function qo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=$e(),i=et(),r=e+20,a=i.firstCreatePass?Pr(i,r,1,t,null):i.data[r],o=n[r]=function(e,t){return je(e)?e.createText(t):e.createTextNode(t)}(n[11],t);ir(i,n,o,a),rt(a,!1)}function Wo(e){return Yo("",e,""),Wo}function Yo(e,t,n){var i=$e(),r=$a(i,e,t,n);return r!==wr&&_a(i,Et(),r),Yo}function Ko(e,t,n,i,r){var a=$e(),o=function(e,t,n,i,r,a){var o=Ja(e,ct(),n,r);return dt(2),o?t+O(n)+i+O(r)+a:wr}(a,e,t,n,i,r);return o!==wr&&_a(a,Et(),o),Ko}function Zo(e,t,n,i,r,a,o){var s=$e(),l=function(e,t,n,i,r,a,o,s){var l=function(e,t,n,i,r){var a=Ja(e,t,n,i);return Za(e,t+2,r)||a}(e,ct(),n,r,o);return dt(3),l?t+O(n)+i+O(r)+a+O(o)+s:wr}(s,e,t,n,i,r,a,o);return l!==wr&&_a(s,Et(),l),Zo}function Jo(e,t,n){var i=$e();return Za(i,ht(),t)&&Wr(et(),kt(),i,e,t,i[11],n,!0),Jo}function Qo(e,t,n){var i=$e();if(Za(i,ht(),t)){var r=et(),a=kt();Wr(r,a,i,e,t,va(pt(r.data),a,i),n,!0)}return Qo}var $o=void 0,es=["en",[["a","p"],["AM","PM"],$o],[["AM","PM"],$o,$o],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],$o,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],$o,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",$o,"{1} 'at' {0}",$o],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}],ts={};function ns(e,t,n){"string"!=typeof t&&(n=t,t=e[ss.LocaleId]),t=t.toLowerCase().replace(/_/g,"-"),ts[t]=e,n&&(ts[t][ss.ExtraData]=n)}function is(e){var t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e),n=os(t);if(n)return n;var i=t.split("-")[0];if(n=os(i))return n;if("en"===i)return es;throw new Error('Missing locale data for the locale "'.concat(e,'".'))}function rs(e){return is(e)[ss.CurrencyCode]||null}function as(e){return is(e)[ss.PluralCase]}function os(e){return e in ts||(ts[e]=Q.ng&&Q.ng.common&&Q.ng.common.locales&&Q.ng.common.locales[e]),ts[e]}var ss=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}({});function ls(e){var t;null==(t=e)&&function(e,t,n,i){throw new Error("ASSERTION ERROR: ".concat("Expected localeId to be defined"," [Expected=> null != ").concat(t," <=Actual]"))}(0,t),"string"==typeof e&&e.toLowerCase().replace(/_/g,"-")}function us(e,t,n,i,r){if(e=E(e),Array.isArray(e))for(var a=0;a<e.length;a++)us(e[a],t,n,i,r);else{var o=et(),s=$e(),l=Da(e)?e:E(e.provide),u=Ia(e),c=nt(),h=1048575&c.providerIndexes,d=c.directiveStart,f=c.providerIndexes>>20;if(Da(e)||!e.multi){var p=new Pt(u,r,no),m=ds(l,t,r?h:h+f,d);-1===m?(Zt(qt(c,s),o,l),cs(o,e,t.length),t.push(l),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),n.push(p),s.push(p)):(n[m]=p,s[m]=p)}else{var v=ds(l,t,h+f,d),g=ds(l,t,h,h+f),y=v>=0&&n[v],_=g>=0&&n[g];if(r&&!_||!r&&!y){Zt(qt(c,s),o,l);var b=function(e,t,n,i,r){var a=new Pt(e,n,no);return a.multi=[],a.index=t,a.componentProviders=0,hs(a,r,i&&!n),a}(r?ps:fs,n.length,r,i,u);!r&&_&&(n[g].providerFactory=b),cs(o,e,t.length,0),t.push(l),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),n.push(b),s.push(b)}else cs(o,e,v>-1?v:g,hs(n[r?g:v],u,!r&&i));!r&&i&&_&&n[g].componentProviders++}}}function cs(e,t,n,i){var r=Da(t);if(r||t.useClass){var a=(t.useClass||t).prototype.ngOnDestroy;if(a){var o=e.destroyHooks||(e.destroyHooks=[]);if(!r&&t.multi){var s=o.indexOf(n);-1===s?o.push(n,[i,a]):o[s+1].push(i,a)}else o.push(n,a)}}}function hs(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function ds(e,t,n,i){for(var r=n;r<i;r++)if(t[r]===e)return r;return-1}function fs(e,t,n,i){return ms(this.multi,[])}function ps(e,t,n,i){var r,a=this.multi;if(this.providerFactory){var o=this.providerFactory.componentProviders,s=an(n,n[1],this.providerFactory.index,i);ms(a,r=s.slice(0,o));for(var l=o;l<s.length;l++)r.push(s[l])}else ms(a,r=[]);return r}function ms(e,t){for(var n=0;n<e.length;n++)t.push((0,e[n])());return t}function vs(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,i){return function(e,t,n){var i=et();if(i.firstCreatePass){var r=Ce(e);us(n,i.data,i.blueprint,r,!0),us(t,i.data,i.blueprint,r,!1)}}(n,i?i(e):e,t)}}}var gs=function e(){_(this,e)},ys=function(){function e(){_(this,e)}return y(e,[{key:"resolveComponentFactory",value:function(e){throw function(e){var t=Error("No component factory found for ".concat(m(e),". Did you add it to @NgModule.entryComponents?"));return t.ngComponent=e,t}(e)}}]),e}(),_s=function(){var e=function e(){_(this,e)};return e.NULL=new ys,e}();function bs(){}function Ss(e,t){return new ws(Ve(e,t))}var Ts=function(){return Ss(nt(),$e())},ws=function(){var e=function e(t){_(this,e),this.nativeElement=t};return e.__NG_ELEMENT_ID__=Ts,e}();function xs(e){return e instanceof ws?e.nativeElement:e}var Es=function e(){_(this,e)},Cs=function(){var e=function e(){_(this,e)};return e.__NG_ELEMENT_ID__=function(){return ks()},e}(),ks=function(){var e=$e(),t=He(nt().index,e);return function(e){return e[11]}(Se(t)?t:e)},Ms=function(){var e=function e(){_(this,e)};return e.\u0275prov=I({token:e,providedIn:"root",factory:function(){return null}}),e}(),Os=function e(t){_(this,e),this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")},As=new Os("11.2.13"),Rs=function(){function e(){_(this,e)}return y(e,[{key:"supports",value:function(e){return Wa(e)}},{key:"create",value:function(e){return new Ls(e)}}]),e}(),Is=function(e,t){return t},Ls=function(){function e(t){_(this,e),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Is}return y(e,[{key:"forEachItem",value:function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)}},{key:"forEachOperation",value:function(e){for(var t=this._itHead,n=this._removalsHead,i=0,r=null;t||n;){var a=!n||t&&t.currentIndex<js(n,i,r)?t:n,o=js(a,i,r),s=a.currentIndex;if(a===n)i--,n=n._nextRemoved;else if(t=t._next,null==a.previousIndex)i++;else{r||(r=[]);var l=o-i,u=s-i;if(l!=u){for(var c=0;c<l;c++){var h=c<r.length?r[c]:r[c]=0,d=h+c;u<=d&&d<l&&(r[c]=h+1)}r[a.previousIndex]=u-l}}o!==s&&e(a,o,s)}}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachMovedItem",value:function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"forEachIdentityChange",value:function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}},{key:"diff",value:function(e){if(null==e&&(e=[]),!Wa(e))throw new Error("Error trying to diff '".concat(m(e),"'. Only arrays and iterables are allowed"));return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n,i,r,a=this._itHead,o=!1;if(Array.isArray(e)){this.length=e.length;for(var s=0;s<this.length;s++)i=e[s],r=this._trackByFn(s,i),null!==a&&Object.is(a.trackById,r)?(o&&(a=this._verifyReinsertion(a,i,r,s)),Object.is(a.item,i)||this._addIdentityChange(a,i)):(a=this._mismatch(a,i,r,s),o=!0),a=a._next}else n=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var i,r=e[Xa()]();!(i=r.next()).done;)t(i.value)}(e,function(e){r=t._trackByFn(n,e),null!==a&&Object.is(a.trackById,r)?(o&&(a=t._verifyReinsertion(a,e,r,n)),Object.is(a.item,e)||t._addIdentityChange(a,e)):(a=t._mismatch(a,e,r,n),o=!0),a=a._next,n++}),this.length=n;return this._truncate(a),this.collection=e,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(e,t,n,i){var r;return null===e?r=this._itTail:(r=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,r,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,r,i)):e=this._addAfter(new Ps(t,n),r,i),e}},{key:"_verifyReinsertion",value:function(e,t,n,i){var r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?e=this._reinsertAfter(r,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}},{key:"_truncate",value:function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var i=e._prevRemoved,r=e._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_moveAfter",value:function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_addAfter",value:function(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}},{key:"_insertAfter",value:function(e,t,n){var i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Ns),this._linkedRecords.put(e),e.currentIndex=n,e}},{key:"_remove",value:function(e){return this._addToRemovals(this._unlink(e))}},{key:"_unlink",value:function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}},{key:"_addToMoves",value:function(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}},{key:"_addToRemovals",value:function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ns),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}},{key:"_addIdentityChange",value:function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}]),e}(),Ps=function e(t,n){_(this,e),this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},Ds=function(){function e(){_(this,e),this._head=null,this._tail=null}return y(e,[{key:"add",value:function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}},{key:"get",value:function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}},{key:"remove",value:function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}]),e}(),Ns=function(){function e(){_(this,e),this.map=new Map}return y(e,[{key:"put",value:function(e){var t=e.trackById,n=this.map.get(t);n||(n=new Ds,this.map.set(t,n)),n.add(e)}},{key:"get",value:function(e,t){var n=this.map.get(e);return n?n.get(e,t):null}},{key:"remove",value:function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}]),e}();function js(e,t,n){var i=e.previousIndex;if(null===i)return i;var r=0;return n&&i<n.length&&(r=n[i]),i+t+r}var Fs=function(){function e(){_(this,e)}return y(e,[{key:"supports",value:function(e){return e instanceof Map||Ya(e)}},{key:"create",value:function(){return new Us}}]),e}(),Us=function(){function e(){_(this,e),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return y(e,[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachChangedItem",value:function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"diff",value:function(e){if(e){if(!(e instanceof Map||Ya(e)))throw new Error("Error trying to diff '".concat(m(e),"'. Only maps and objects are allowed"))}else e=new Map;return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(e,function(e,i){if(n&&n.key===i)t._maybeAddToChanges(n,e),t._appendAfter=n,n=n._next;else{var r=t._getOrCreateRecordForKey(i,e);n=t._insertBeforeOrAppend(n,r)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var i=n;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}},{key:"_getOrCreateRecordForKey",value:function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}var a=new Gs(e);return this._records.set(e,a),a.currentValue=t,this._addToAdditions(a),a}},{key:"_reset",value:function(){if(this.isDirty){var e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}},{key:"_addToAdditions",value:function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}},{key:"_addToChanges",value:function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}},{key:"_forEach",value:function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(function(n){return t(e[n],n)})}}]),e}(),Gs=function e(t){_(this,e),this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null};function Vs(){return new Bs([new Rs])}var Bs=function(){var e=function(){function e(t){_(this,e),this.factories=t}return y(e,[{key:"find",value:function(e){var t,n=this.factories.find(function(t){return t.supports(e)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'"))}}],[{key:"create",value:function(t,n){if(null!=n){var i=n.factories.slice();t=t.concat(i)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){return e.create(t,n||Vs())},deps:[[e,new Fn,new jn]]}}}]),e}();return e.\u0275prov=I({token:e,providedIn:"root",factory:Vs}),e}();function zs(){return new Hs([new Fs])}var Hs=function(){var e=function(){function e(t){_(this,e),this.factories=t}return y(e,[{key:"find",value:function(e){var t=this.factories.find(function(t){return t.supports(e)});if(t)return t;throw new Error("Cannot find a differ supporting object '".concat(e,"'"))}}],[{key:"create",value:function(t,n){if(n){var i=n.factories.slice();t=t.concat(i)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){return e.create(t,n||zs())},deps:[[e,new Fn,new jn]]}}}]),e}();return e.\u0275prov=I({token:e,providedIn:"root",factory:zs}),e}();function Xs(e,t,n,i){for(var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==n;){var a=t[n.index];if(null!==a&&i.push(Ue(a)),Te(a))for(var o=10;o<a.length;o++){var s=a[o],l=s[1].firstChild;null!==l&&Xs(s[1],s,l,i)}var u=n.type;if(8&u)Xs(e,t,n.child,i);else if(32&u)for(var c=Ui(n,t),h=void 0;h=c();)i.push(h);else if(16&u){var f=ar(t,n);if(Array.isArray(f))i.push.apply(i,d(f));else{var p=Gi(t[16]);Xs(p[1],p,f,i,!0)}}n=r?n.projectionNext:n.next}return i}var qs=function(){function e(t,n){_(this,e),this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}return y(e,[{key:"rootNodes",get:function(){var e=this._lView,t=e[1];return Xs(t,e,t.firstChild,[])}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}},{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){var e=this._lView[3];if(Te(e)){var t=e[8],n=t?t.indexOf(this):-1;n>-1&&(Wi(e,n),_n(t,n))}this._attachedToViewContainer=!1}Yi(this._lView[1],this._lView)}},{key:"onDestroy",value:function(e){Xr(this._lView[1],this._lView,null,e)}},{key:"markForCheck",value:function(){ua(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){ca(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(e,t,n){lt(!0);try{ca(e,t,n)}finally{lt(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}},{key:"detachFromAppRef",value:function(){var e;this._appRef=null,lr(this._lView[1],e=this._lView,e[11],2,null,null)}},{key:"attachToAppRef",value:function(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}]),e}(),Ws=function(e){b(n,e);var t=T(n);function n(e){var i;return _(this,n),(i=t.call(this,e))._view=e,i}return y(n,[{key:"detectChanges",value:function(){ha(this._view)}},{key:"checkNoChanges",value:function(){!function(e){lt(!0);try{ha(e)}finally{lt(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(qs),Ys=Zs,Ks=function(){var e=function e(){_(this,e)};return e.__NG_ELEMENT_ID__=Ys,e.__ChangeDetectorRef__=!0,e}();function Zs(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e,t,n){if(!n&&xe(e)){var i=He(e.index,t);return new qs(i,i)}return 47&e.type?new qs(t[16],t):null}(nt(),$e(),e)}var Js=[new Fs],Qs=new Bs([new Rs]),$s=new Hs(Js),el=function(){return il(nt(),$e())},tl=function(){var e=function e(){_(this,e)};return e.__NG_ELEMENT_ID__=el,e}(),nl=function(e){b(n,e);var t=T(n);function n(e,i,r){var a;return _(this,n),(a=t.call(this))._declarationLView=e,a._declarationTContainer=i,a.elementRef=r,a}return y(n,[{key:"createEmbeddedView",value:function(e){var t=this._declarationTContainer.tViews,n=Lr(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];var i=this._declarationLView[19];return null!==i&&(n[19]=i.createEmbeddedView(t)),Nr(t,n,e),new qs(n)}}]),n}(tl);function il(e,t){return 4&e.type?new nl(t,e,Ss(e,t)):null}var rl=function e(){_(this,e)},al=function e(){_(this,e)},ol=function(){return hl(nt(),$e())},sl=function(){var e=function e(){_(this,e)};return e.__NG_ELEMENT_ID__=ol,e}(),ll=function(e){b(n,e);var t=T(n);function n(e,i,r){var a;return _(this,n),(a=t.call(this))._lContainer=e,a._hostTNode=i,a._hostLView=r,a}return y(n,[{key:"element",get:function(){return Ss(this._hostTNode,this._hostLView)}},{key:"injector",get:function(){return new ln(this._hostTNode,this._hostLView)}},{key:"parentInjector",get:function(){var e=Kt(this._hostTNode,this._hostLView);if(Gt(e)){var t=Bt(e,this._hostLView),n=Vt(e);return new ln(t[1].data[n+8],t)}return new ln(null,this._hostLView)}},{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(e){var t=ul(this._lContainer);return null!==t&&t[e]||null}},{key:"length",get:function(){return this._lContainer.length-10}},{key:"createEmbeddedView",value:function(e,t,n){var i=e.createEmbeddedView(t||{});return this.insert(i,n),i}},{key:"createComponent",value:function(e,t,n,i,r){var a=n||this.parentInjector;if(!r&&null==e.ngModule&&a){var o=a.get(rl,null);o&&(r=o)}var s=e.create(a,i,void 0,r);return this.insert(s.hostView,t),s}},{key:"insert",value:function(e,t){var i=e._lView,r=i[1];if(Te(i[3])){var a=this.indexOf(e);if(-1!==a)this.detach(a);else{var o=i[3],s=new n(o,o[6],o[3]);s.detach(s.indexOf(e))}}var l=this._adjustIndex(t),u=this._lContainer;!function(e,t,n,i){var r=10+i,a=n.length;i>0&&(n[r-1][4]=t),i<a-10?(t[4]=n[r],yn(n,10+i,t)):(n.push(t),t[4]=null),t[3]=n;var o=t[17];null!==o&&n!==o&&function(e,t){var n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(o,t);var s=t[19];null!==s&&s.insertView(e),t[2]|=128}(r,i,u,l);var c=or(l,u),h=i[11],d=er(h,u[7]);return null!==d&&function(e,t,n,i,r,a){i[0]=r,i[6]=t,lr(e,i,n,1,r,a)}(r,u[6],h,i,d,c),e.attachToViewContainerRef(),yn(cl(u),l,e),e}},{key:"move",value:function(e,t){return this.insert(e,t)}},{key:"indexOf",value:function(e){var t=ul(this._lContainer);return null!==t?t.indexOf(e):-1}},{key:"remove",value:function(e){var t=this._adjustIndex(e,-1),n=Wi(this._lContainer,t);n&&(_n(cl(this._lContainer),t),Yi(n[1],n))}},{key:"detach",value:function(e){var t=this._adjustIndex(e,-1),n=Wi(this._lContainer,t);return n&&null!=_n(cl(this._lContainer),t)?new qs(n):null}},{key:"_adjustIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==e?this.length+t:e}}]),n}(sl);function ul(e){return e[8]}function cl(e){return e[8]||(e[8]=[])}function hl(e,t){var n,i=t[e.index];if(Te(i))n=i;else{var r;if(8&e.type)r=Ue(i);else{var a=t[11];r=a.createComment("");var o=Ve(e,t);Ji(a,er(a,o),r,function(e,t){return je(e)?e.nextSibling(t):t.nextSibling}(a,o),!1)}t[e.index]=n=ra(i,t,r,e),la(t,n)}return new ll(n,e,t)}var dl={},fl=function(e){b(n,e);var t=T(n);function n(e){var i;return _(this,n),(i=t.call(this)).ngModule=e,i}return y(n,[{key:"resolveComponentFactory",value:function(e){var t=_e(e);return new vl(t,this.ngModule)}}]),n}(_s);function pl(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}var ml=new fn("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Li}}),vl=function(e){b(n,e);var t=T(n);function n(e,i){var r;return _(this,n),(r=t.call(this)).componentDef=e,r.ngModule=i,r.componentType=e.type,r.selector=e.selectors.map(Tr).join(","),r.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],r.isBoundToModule=!!i,r}return y(n,[{key:"inputs",get:function(){return pl(this.componentDef.inputs)}},{key:"outputs",get:function(){return pl(this.componentDef.outputs)}},{key:"create",value:function(e,t,n,i){var r,a,o=(i=i||this.ngModule)?function(e,t){return{get:function(n,i,r){var a=e.get(n,dl,r);return a!==dl||i===dl?a:t.get(n,i,r)}}}(e,i.injector):e,s=o.get(Es,Fe),l=o.get(Ms,null),u=s.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",h=n?function(e,t,n){if(je(e))return e.selectRootElement(t,n===W.ShadowDom);var i="string"==typeof t?e.querySelector(t):t;return i.textContent="",i}(u,n,this.componentDef.encapsulation):Xi(s.createRenderer(null,this.componentDef),c,function(e){var t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(c)),d=this.componentDef.onPush?576:528,f={components:[],scheduler:Li,clean:fa,playerHandler:null,flags:0},p=Hr(0,null,null,1,0,null,null,null,null,null),m=Lr(null,p,f,d,null,null,s,u,l,o);_t(m);try{var v=function(e,t,n,i,r,a){var o=n[1];n[20]=e;var s=Pr(o,20,2,"#host",null),l=s.mergedAttrs=t.hostAttrs;null!==l&&(ba(s,l,!0),null!==e&&(Dt(r,e,l),null!==s.classes&&hr(r,e,s.classes),null!==s.styles&&cr(r,e,s.styles)));var u=i.createRenderer(e,t),c=Lr(n,zr(t),null,t.onPush?64:16,n[20],s,i,u,null,null);return o.firstCreatePass&&(Zt(qt(s,n),o,t.type),Jr(o,s),$r(s,n.length,1)),la(n,c),n[20]=c}(h,this.componentDef,m,s,u);if(h)if(n)Dt(u,h,["ng-version",As.full]);else{var g=function(e){for(var t=[],n=[],i=1,r=2;i<e.length;){var a=e[i];if("string"==typeof a)2===r?""!==a&&t.push(a,e[++i]):8===r&&n.push(a);else{if(!gr(r))break;r=a}i++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]),y=g.attrs,_=g.classes;y&&Dt(u,h,y),_&&_.length>0&&hr(u,h,_.join(" "))}if(a=Be(p,20),void 0!==t)for(var b=a.projection=[],S=0;S<this.ngContentSelectors.length;S++){var T=t[S];b.push(null!=T?Array.from(T):null)}r=function(e,t,n,i,r){var a=n[1],o=function(e,t,n){var i=nt();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ea(e,i,t,Dr(e,t,1,null),n));var r=an(t,e,i.directiveStart,i);Ii(r,t);var a=Ve(i,t);return a&&Ii(a,t),r}(a,n,t);if(i.components.push(o),e[8]=o,r&&r.forEach(function(e){return e(o,t)}),t.contentQueries){var s=nt();t.contentQueries(1,o,s.directiveStart)}var l=nt();return!a.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Ct(l.index),Kr(n[1],l,0,l.directiveStart,l.directiveEnd,t),Zr(t,o)),o}(v,this.componentDef,m,f,[Fa]),Nr(p,m,null)}finally{xt()}return new gl(this.componentType,r,Ss(a,m),m,a)}}]),n}(gs),gl=function(e){b(n,e);var t=T(n);function n(e,i,r,a,o){var s;return _(this,n),(s=t.call(this)).location=r,s._rootLView=a,s._tNode=o,s.instance=i,s.hostView=s.changeDetectorRef=new Ws(a),s.componentType=e,s}return y(n,[{key:"injector",get:function(){return new ln(this._tNode,this._rootLView)}},{key:"destroy",value:function(){this.hostView.destroy()}},{key:"onDestroy",value:function(e){this.hostView.onDestroy(e)}}]),n}(function(){return function e(){_(this,e)}}()),yl=new Map,_l=function(e){b(n,e);var t=T(n);function n(e,i){var r;_(this,n),(r=t.call(this))._parent=i,r._bootstrapComponents=[],r.injector=x(r),r.destroyCbs=[],r.componentFactoryResolver=new fl(x(r));var a=be(e),o=e[oe]||null;return o&&ls(o),r._bootstrapComponents=ji(a.bootstrap),r._r3Injector=Oa(e,i,[{provide:rl,useValue:x(r)},{provide:_s,useValue:r.componentFactoryResolver}],m(e)),r._r3Injector._resolveInjectorDefTypes(),r.instance=r.get(e),r}return y(n,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ja.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:B.Default;return e===ja||e===rl||e===Ta?this:this._r3Injector.get(e,t,n)}},{key:"destroy",value:function(){var e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(function(e){return e()}),this.destroyCbs=null}},{key:"onDestroy",value:function(e){this.destroyCbs.push(e)}}]),n}(rl),bl=function(e){b(n,e);var t=T(n);function n(e){var i,r,a;return _(this,n),(i=t.call(this)).moduleType=e,null!==be(e)&&(r=e,a=new Set,function e(t){var n=be(t,!0),i=n.id;null!==i&&(function(e,t,n){if(t&&t!==n)throw new Error("Duplicate module registered for ".concat(e," - ").concat(m(t)," vs ").concat(m(t.name)))}(i,yl.get(i),t),yl.set(i,t));var r,o=h(ji(n.imports));try{for(o.s();!(r=o.n()).done;){var s=r.value;a.has(s)||(a.add(s),e(s))}}catch(l){o.e(l)}finally{o.f()}}(r)),i}return y(n,[{key:"create",value:function(e){return new _l(this.moduleType,e)}}]),n}(al);function Sl(e,t,n){var i=ut()+e,r=$e();return r[i]===wr?Ka(r,i,n?t.call(n):t()):function(e,t){return e[t]}(r,i)}function Tl(e,t,n,i){return xl($e(),ut(),e,t,n,i)}function wl(e,t){var n=e[t];return n===wr?void 0:n}function xl(e,t,n,i,r,a){var o=t+n;return Za(e,o,r)?Ka(e,o+1,a?i.call(a,r):i(r)):wl(e,o+1)}function El(e,t){var n,i=et(),r=e+20;i.firstCreatePass?(n=function(e,t){if(t)for(var n=t.length-1;n>=0;n--){var i=t[n];if(e===i.name)return i}throw new M("302","The pipe '".concat(e,"' could not be found!"))}(t,i.pipeRegistry),i.data[r]=n,n.onDestroy&&(i.destroyHooks||(i.destroyHooks=[])).push(r,n.onDestroy)):n=i.data[r];var a=n.factory||(n.factory=ke(n.type)),o=z(no);try{var s=Ht(!1),l=a();return Ht(s),function(e,t,n,i){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=i}(i,$e(),r,l),l}finally{z(o)}}function Cl(e,t,n){var i=e+20,r=$e(),a=ze(r,i);return Ol(r,Ml(r,i)?xl(r,ut(),t,a.transform,n,a):a.transform(n))}function kl(e,t,n,i){var r=e+20,a=$e(),o=ze(a,r);return Ol(a,Ml(a,r)?function(e,t,n,i,r,a,o){var s=t+n;return Ja(e,s,r,a)?Ka(e,s+2,o?i.call(o,r,a):i(r,a)):wl(e,s+2)}(a,ut(),t,o.transform,n,i,o):o.transform(n,i))}function Ml(e,t){return e[1].data[t].pure}function Ol(e,t){return qa.isWrapped(t)&&(t=qa.unwrap(t),e[ct()]=wr),t}function Al(e){return function(t){setTimeout(e,void 0,t)}}var Rl=function(e){b(n,e);var t=T(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _(this,n),(e=t.call(this)).__isAsync=i,e}return y(n,[{key:"emit",value:function(e){v(C(n.prototype),"next",this).call(this,e)}},{key:"subscribe",value:function(e,t,i){var a,o,s,l=e,u=t||function(){return null},c=i;if(e&&"object"==typeof e){var h=e;l=null===(a=h.next)||void 0===a?void 0:a.bind(h),u=null===(o=h.error)||void 0===o?void 0:o.bind(h),c=null===(s=h.complete)||void 0===s?void 0:s.bind(h)}this.__isAsync&&(u=Al(u),l&&(l=Al(l)),c&&(c=Al(c)));var d=v(C(n.prototype),"subscribe",this).call(this,{next:l,error:u,complete:c});return e instanceof r.a&&e.add(d),d}}]),n}(i.a);function Il(){return this._results[Xa()]()}var Ll=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];_(this,e),this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;var n=Xa(),i=e.prototype;i[n]||(i[n]=Il)}return y(e,[{key:"changes",get:function(){return this._changes||(this._changes=new Rl)}},{key:"get",value:function(e){return this._results[e]}},{key:"map",value:function(e){return this._results.map(e)}},{key:"filter",value:function(e){return this._results.filter(e)}},{key:"find",value:function(e){return this._results.find(e)}},{key:"reduce",value:function(e,t){return this._results.reduce(e,t)}},{key:"forEach",value:function(e){this._results.forEach(e)}},{key:"some",value:function(e){return this._results.some(e)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(e,t){this.dirty=!1;var n=vn(e);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(var i=0;i<e.length;i++){var r=e[i],a=t[i];if(n&&(r=n(r),a=n(a)),a!==r)return!1}return!0}(this._results,n,t))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}},{key:"notifyOnChanges",value:function(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),e}(),Pl=function(){function e(t){_(this,e),this.queryList=t,this.matches=null}return y(e,[{key:"clone",value:function(){return new e(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),e}(),Dl=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_(this,e),this.queries=t}return y(e,[{key:"createEmbeddedView",value:function(t){var n=t.queries;if(null!==n){for(var i=null!==t.contentQueries?t.contentQueries[0]:n.length,r=[],a=0;a<i;a++){var o=n.getByIndex(a);r.push(this.queries[o.indexInDeclarationView].clone())}return new e(r)}return null}},{key:"insertView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"detachView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"dirtyQueriesWithMatches",value:function(e){for(var t=0;t<this.queries.length;t++)null!==Kl(e,t).matches&&this.queries[t].setDirty()}}]),e}(),Nl=function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;_(this,e),this.predicate=t,this.flags=n,this.read=i},jl=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_(this,e),this.queries=t}return y(e,[{key:"elementStart",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}},{key:"elementEnd",value:function(e){for(var t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}},{key:"embeddedTView",value:function(t){for(var n=null,i=0;i<this.length;i++){var r=null!==n?n.length:0,a=this.getByIndex(i).embeddedTView(t,r);a&&(a.indexInDeclarationView=i,null!==n?n.push(a):n=[a])}return null!==n?new e(n):null}},{key:"template",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}},{key:"getByIndex",value:function(e){return this.queries[e]}},{key:"length",get:function(){return this.queries.length}},{key:"track",value:function(e){this.queries.push(e)}}]),e}(),Fl=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;_(this,e),this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return y(e,[{key:"elementStart",value:function(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}},{key:"elementEnd",value:function(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(e,t){this.elementStart(e,t)}},{key:"embeddedTView",value:function(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}},{key:"isApplyingToNode",value:function(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){for(var t=this._declarationNodeIndex,n=e.parent;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(e,t){var n=this.metadata.predicate;if(Array.isArray(n))for(var i=0;i<n.length;i++){var r=n[i];this.matchTNodeWithReadOption(e,t,Ul(t,r)),this.matchTNodeWithReadOption(e,t,rn(t,e,r,!1,!1))}else n===tl?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,rn(t,e,n,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(e,t,n){if(null!==n){var i=this.metadata.read;if(null!==i)if(i===ws||i===sl||i===tl&&4&t.type)this.addMatch(t.index,-2);else{var r=rn(t,e,i,!1,!1);null!==r&&this.addMatch(t.index,r)}else this.addMatch(t.index,n)}}},{key:"addMatch",value:function(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}]),e}();function Ul(e,t){var n=e.localNames;if(null!==n)for(var i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1];return null}function Gl(e,t,n,i){return-1===n?function(e,t){return 11&e.type?Ss(e,t):4&e.type?il(e,t):null}(t,e):-2===n?function(e,t,n){return n===ws?Ss(t,e):n===tl?il(t,e):n===sl?hl(t,e):void 0}(e,t,i):an(e,e[1],n,t)}function Vl(e,t,n,i){var r=t[19].queries[i];if(null===r.matches){for(var a=e.data,o=n.matches,s=[],l=0;l<o.length;l+=2){var u=o[l];s.push(u<0?null:Gl(t,a[u],o[l+1],n.metadata.read))}r.matches=s}return r.matches}function Bl(e,t,n,i){var r=e.queries.getByIndex(n),a=r.matches;if(null!==a)for(var o=Vl(e,t,r,n),s=0;s<a.length;s+=2){var l=a[s];if(l>0)i.push(o[s/2]);else{for(var u=a[s+1],c=t[-l],h=10;h<c.length;h++){var d=c[h];d[17]===d[3]&&Bl(d[1],d,u,i)}if(null!==c[9])for(var f=c[9],p=0;p<f.length;p++){var m=f[p];Bl(m[1],m,u,i)}}}return i}function zl(e){var t=$e(),n=et(),i=mt();vt(i+1);var r=Kl(n,i);if(e.dirty&&qe(t)===(2==(2&r.metadata.flags))){if(null===r.matches)e.reset([]);else{var a=r.crossesNgTemplate?Bl(n,t,i,[]):Vl(n,t,r,i);e.reset(a,xs),e.notifyOnChanges()}return!0}return!1}function Hl(e,t,n){var i=et();i.firstCreatePass&&(Yl(i,new Nl(e,t,n),-1),2==(2&t)&&(i.staticViewQueries=!0)),Wl(i,$e(),t)}function Xl(e,t,n,i){var r=et();if(r.firstCreatePass){var a=nt();Yl(r,new Nl(t,n,i),a.index),function(e,t){var n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(r,e),2==(2&n)&&(r.staticContentQueries=!0)}Wl(r,$e(),n)}function ql(){return e=$e(),t=mt(),e[19].queries[t].queryList;var e,t}function Wl(e,t,n){var i=new Ll(4==(4&n));Xr(e,t,i,i.destroy),null===t[19]&&(t[19]=new Dl),t[19].queries.push(new Pl(i))}function Yl(e,t,n){null===e.queries&&(e.queries=new jl),e.queries.track(new Fl(t,n))}function Kl(e,t){return e.queries.getByIndex(t)}function Zl(e,t){return il(e,t)}function Jl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B.Default,t=Zs(!0);if(null!=t||e&B.Optional)return t;R("ChangeDetectorRef")}var Ql=new fn("Application Initializer"),$l=function(){var e=function(){function e(t){var n=this;_(this,e),this.appInits=t,this.resolve=bs,this.reject=bs,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(e,t){n.resolve=e,n.reject=t})}return y(e,[{key:"runInitializers",value:function(){var e=this;if(!this.initialized){var t=[],n=function(){e.done=!0,e.resolve()};if(this.appInits)for(var i=0;i<this.appInits.length;i++){var r=this.appInits[i]();fo(r)&&t.push(r)}Promise.all(t).then(function(){n()}).catch(function(t){e.reject(t)}),0===t.length&&n(),this.initialized=!0}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(An(Ql,8))},e.\u0275prov=I({token:e,factory:e.\u0275fac}),e}(),eu=new fn("AppId"),tu={provide:eu,useFactory:function(){return"".concat(nu()).concat(nu()).concat(nu())},deps:[]};function nu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var iu=new fn("Platform Initializer"),ru=new fn("Platform ID"),au=new fn("appBootstrapListener"),ou=function(){var e=function(){function e(){_(this,e)}return y(e,[{key:"log",value:function(e){console.log(e)}},{key:"warn",value:function(e){console.warn(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac}),e}(),su=new fn("LocaleId"),lu=new fn("DefaultCurrencyCode"),uu=function e(t,n){_(this,e),this.ngModuleFactory=t,this.componentFactories=n},cu=function(e){return new bl(e)},hu=cu,du=function(e){return Promise.resolve(cu(e))},fu=function(e){var t=cu(e),n=ji(be(e).declarations).reduce(function(e,t){var n=_e(t);return n&&e.push(new vl(n)),e},[]);return new uu(t,n)},pu=fu,mu=function(e){return Promise.resolve(fu(e))},vu=function(){var e=function(){function e(){_(this,e),this.compileModuleSync=hu,this.compileModuleAsync=du,this.compileModuleAndAllComponentsSync=pu,this.compileModuleAndAllComponentsAsync=mu}return y(e,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(e){}},{key:"getModuleId",value:function(e){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac}),e}(),gu=Promise.resolve(0);function yu(e){"undefined"==typeof Zone?gu.then(function(){e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}var _u=function(){function e(t){var n,i,r=t.enableLongStackTrace,a=void 0!==r&&r,o=t.shouldCoalesceEventChangeDetection,s=void 0!==o&&o,l=t.shouldCoalesceRunChangeDetection,u=void 0!==l&&l;if(_(this,e),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Rl(!1),this.onMicrotaskEmpty=new Rl(!1),this.onStable=new Rl(!1),this.onError=new Rl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=!u&&s,this.shouldCoalesceRunChangeDetection=u,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var e=Q.requestAnimationFrame,t=Q.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){var n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);var i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,i=function(){!function(e){-1===e.lastRequestAnimationFrameId&&(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Q,function(){e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",function(){e.lastRequestAnimationFrameId=-1,Tu(e),Su(e)},void 0,function(){},function(){})),e.fakeTopEventTask.invoke()}),Tu(e))}(n)},(n=this)._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(e,t,r,a,o,s){try{return wu(n),e.invokeTask(r,a,o,s)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===a.type||n.shouldCoalesceRunChangeDetection)&&i(),xu(n)}},onInvoke:function(e,t,r,a,o,s,l){try{return wu(n),e.invoke(r,a,o,s,l)}finally{n.shouldCoalesceRunChangeDetection&&i(),xu(n)}},onHasTask:function(e,t,i,r){e.hasTask(i,r),t===i&&("microTask"==r.change?(n._hasPendingMicrotasks=r.microTask,Tu(n),Su(n)):"macroTask"==r.change&&(n.hasPendingMacrotasks=r.macroTask))},onHandleError:function(e,t,i,r){return e.handleError(i,r),n.runOutsideAngular(function(){return n.onError.emit(r)}),!1}})}return y(e,[{key:"run",value:function(e,t,n){return this._inner.run(e,t,n)}},{key:"runTask",value:function(e,t,n,i){var r=this._inner,a=r.scheduleEventTask("NgZoneEvent: "+i,e,bu,bs,bs);try{return r.runTask(a,t,n)}finally{r.cancelTask(a)}}},{key:"runGuarded",value:function(e,t,n){return this._inner.runGuarded(e,t,n)}},{key:"runOutsideAngular",value:function(e){return this._outer.run(e)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),e}(),bu={};function Su(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(function(){return e.onStable.emit(null)})}finally{e.isStable=!0}}}function Tu(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function wu(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function xu(e){e._nesting--,Su(e)}var Eu=function(){function e(){_(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Rl,this.onMicrotaskEmpty=new Rl,this.onStable=new Rl,this.onError=new Rl}return y(e,[{key:"run",value:function(e,t,n){return e.apply(t,n)}},{key:"runGuarded",value:function(e,t,n){return e.apply(t,n)}},{key:"runOutsideAngular",value:function(e){return e()}},{key:"runTask",value:function(e,t,n,i){return e.apply(t,n)}}]),e}(),Cu=function(){var e=function(){function e(t){var n=this;_(this,e),this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return y(e,[{key:"_watchAngularEvents",value:function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){e._ngZone.onStable.subscribe({next:function(){_u.assertNotInAngularZone(),yu(function(){e._isZoneStable=!0,e._runCallbacksIfReady()})}})})}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var e=this;if(this.isStable())yu(function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1});else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)}),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}}):[]}},{key:"addCallback",value:function(e,t,n){var i=this,r=-1;t&&t>0&&(r=setTimeout(function(){i._callbacks=i._callbacks.filter(function(e){return e.timeoutId!==r}),e(i._didWork,i.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:n})}},{key:"whenStable",value:function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(e,t,n){return[]}}]),e}();return e.\u0275fac=function(t){return new(t||e)(An(_u))},e.\u0275prov=I({token:e,factory:e.\u0275fac}),e}(),ku=function(){var e=function(){function e(){_(this,e),this._applications=new Map,Au.addToWindow(this)}return y(e,[{key:"registerApplication",value:function(e,t){this._applications.set(e,t)}},{key:"unregisterApplication",value:function(e){this._applications.delete(e)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(e){return this._applications.get(e)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Au.findTestabilityInTree(this,e,t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac}),e}();function Mu(e){Au=e}var Ou,Au=new(function(){function e(){_(this,e)}return y(e,[{key:"addToWindow",value:function(e){}},{key:"findTestabilityInTree",value:function(e,t,n){return null}}]),e}()),Ru=!0,Iu=!1;function Lu(){if(Iu)throw new Error("Cannot enable prod mode after platform setup.");Ru=!1}var Pu=new fn("AllowMultipleToken"),Du=function e(t,n){_(this,e),this.name=t,this.token=n};function Nu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i="Platform: ".concat(t),r=new fn(i);return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=ju();if(!a||a.injector.get(Pu,!1))if(e)e(n.concat(t).concat({provide:r,useValue:!0}));else{var o=n.concat(t).concat({provide:r,useValue:!0},{provide:xa,useValue:"platform"});!function(e){if(Ou&&!Ou.destroyed&&!Ou.injector.get(Pu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ou=e.get(Fu);var t=e.get(iu,null);t&&t.forEach(function(e){return e()})}(ja.create({providers:o,name:i}))}return function(e){var t=ju();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(r)}}function ju(){return Ou&&!Ou.destroyed?Ou:null}var Fu=function(){var e=function(){function e(t){_(this,e),this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return y(e,[{key:"bootstrapModuleFactory",value:function(e,t){var n,i,r=this,a=(n=t?t.ngZone:void 0,i={ngZoneEventCoalescing:t&&t.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:t&&t.ngZoneRunCoalescing||!1},"noop"===n?new Eu:("zone.js"===n?void 0:n)||new _u({enableLongStackTrace:(Iu=!0,Ru),shouldCoalesceEventChangeDetection:!!(null==i?void 0:i.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==i?void 0:i.ngZoneRunCoalescing)})),o=[{provide:_u,useValue:a}];return a.run(function(){var t=ja.create({providers:o,parent:r.injector,name:e.moduleType.name}),n=e.create(t),i=n.injector.get(Ri,null);if(!i)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return a.runOutsideAngular(function(){var e=a.onError.subscribe({next:function(e){i.handleError(e)}});n.onDestroy(function(){Vu(r._modules,n),e.unsubscribe()})}),function(e,t,i){try{var a=((o=n.injector.get($l)).runInitializers(),o.donePromise.then(function(){return ls(n.injector.get(su,"en-US")||"en-US"),r._moduleDoBootstrap(n),n}));return fo(a)?a.catch(function(n){throw t.runOutsideAngular(function(){return e.handleError(n)}),n}):a}catch(s){throw t.runOutsideAngular(function(){return e.handleError(s)}),s}var o}(i,a)})}},{key:"bootstrapModule",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=Uu({},n);return function(e,t,n){var i=new bl(n);return Promise.resolve(i)}(0,0,e).then(function(e){return t.bootstrapModuleFactory(e,i)})}},{key:"_moduleDoBootstrap",value:function(e){var t=e.injector.get(Gu);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(function(e){return t.bootstrap(e)});else{if(!e.instance.ngDoBootstrap)throw new Error("The module ".concat(m(e.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));e.instance.ngDoBootstrap(t)}this._modules.push(e)}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(e){return e.destroy()}),this._destroyListeners.forEach(function(e){return e()}),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();return e.\u0275fac=function(t){return new(t||e)(An(ja))},e.\u0275prov=I({token:e,factory:e.\u0275fac}),e}();function Uu(e,t){return Array.isArray(t)?t.reduce(Uu,e):Object.assign(Object.assign({},e),t)}var Gu=function(){var e=function(){function e(t,n,i,r,l){var u=this;_(this,e),this._zone=t,this._injector=n,this._exceptionHandler=i,this._componentFactoryResolver=r,this._initStatus=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:function(){u._zone.run(function(){u.tick()})}});var c=new a.a(function(e){u._stable=u._zone.isStable&&!u._zone.hasPendingMacrotasks&&!u._zone.hasPendingMicrotasks,u._zone.runOutsideAngular(function(){e.next(u._stable),e.complete()})}),h=new a.a(function(e){var t;u._zone.runOutsideAngular(function(){t=u._zone.onStable.subscribe(function(){_u.assertNotInAngularZone(),yu(function(){u._stable||u._zone.hasPendingMacrotasks||u._zone.hasPendingMicrotasks||(u._stable=!0,e.next(!0))})})});var n=u._zone.onUnstable.subscribe(function(){_u.assertInAngularZone(),u._stable&&(u._stable=!1,u._zone.runOutsideAngular(function(){e.next(!1)}))});return function(){t.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(c,h.pipe(Object(s.a)()))}return y(e,[{key:"bootstrap",value:function(e,t){var n,i=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=e instanceof gs?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var r=n.isBoundToModule?void 0:this._injector.get(rl),a=n.create(ja.NULL,[],t||n.selector,r),o=a.location.nativeElement,s=a.injector.get(Cu,null),l=s&&a.injector.get(ku);return s&&l&&l.registerApplication(o,s),a.onDestroy(function(){i.detachView(a.hostView),Vu(i.components,a),l&&l.unregisterApplication(o)}),this._loadComponent(a),a}},{key:"tick",value:function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var t,n=h(this._views);try{for(n.s();!(t=n.n()).done;){t.value.detectChanges()}}catch(i){n.e(i)}finally{n.f()}}catch(r){this._zone.runOutsideAngular(function(){return e._exceptionHandler.handleError(r)})}finally{this._runningTick=!1}}},{key:"attachView",value:function(e){var t=e;this._views.push(t),t.attachToAppRef(this)}},{key:"detachView",value:function(e){var t=e;Vu(this._views,t),t.detachFromAppRef()}},{key:"_loadComponent",value:function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(au,[]).concat(this._bootstrapListeners).forEach(function(t){return t(e)})}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach(function(e){return e.destroy()}),this._onMicrotaskEmptySubscription.unsubscribe()}},{key:"viewCount",get:function(){return this._views.length}}]),e}();return e.\u0275fac=function(t){return new(t||e)(An(_u),An(ja),An(Ri),An(_s),An($l))},e.\u0275prov=I({token:e,factory:e.\u0275fac}),e}();function Vu(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var Bu=function e(){_(this,e)},zu=function e(){_(this,e)},Hu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Xu=function(){var e=function(){function e(t,n){_(this,e),this._compiler=t,this._config=n||Hu}return y(e,[{key:"load",value:function(e){return this.loadAndCompile(e)}},{key:"loadAndCompile",value:function(e){var t=this,i=l(e.split("#"),2),r=i[0],a=i[1];return void 0===a&&(a="default"),n("zn8P")(r).then(function(e){return e[a]}).then(function(e){return qu(e,r,a)}).then(function(e){return t._compiler.compileModuleAsync(e)})}},{key:"loadFactory",value:function(e){var t=l(e.split("#"),2),i=t[0],r=t[1],a="NgFactory";return void 0===r&&(r="default",a=""),n("zn8P")(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then(function(e){return e[r+a]}).then(function(e){return qu(e,i,r)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(An(vu),An(zu,8))},e.\u0275prov=I({token:e,factory:e.\u0275fac}),e}();function qu(e,t,n){if(!e)throw new Error("Cannot find '".concat(n,"' in '").concat(t,"'"));return e}var Wu=function(e){return null},Yu=Nu(null,"core",[{provide:ru,useValue:"unknown"},{provide:Fu,deps:[ja]},{provide:ku,deps:[]},{provide:ou,deps:[]}]),Ku=[{provide:Gu,useClass:Gu,deps:[_u,ja,Ri,_s,$l]},{provide:ml,deps:[_u],useFactory:function(e){var t=[];return e.onStable.subscribe(function(){for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:$l,useClass:$l,deps:[[new jn,Ql]]},{provide:vu,useClass:vu,deps:[]},tu,{provide:Bs,useFactory:function(){return Qs},deps:[]},{provide:Hs,useFactory:function(){return $s},deps:[]},{provide:su,useFactory:function(e){return ls(e=e||"undefined"!=typeof $localize&&$localize.locale||"en-US"),e},deps:[[new Nn(su),new jn,new Fn]]},{provide:lu,useValue:"USD"}],Zu=function(){var e=function e(t){_(this,e)};return e.\u0275fac=function(t){return new(t||e)(An(Gu))},e.\u0275mod=pe({type:e}),e.\u0275inj=L({providers:Ku}),e}()},"8pO4":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a}),n.d(t,"e",function(){return o}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return u});var i=n("LV+m");function r(e,t,n,r,a,o,s){var l=(n-t)/r;if(l<3){for(;t<n;t+=r)o[s++]=e[t],o[s++]=e[t+1];return s}var u=new Array(l);u[0]=1,u[l-1]=1;for(var c=[t,n-r],h=0;c.length>0;){for(var d=c.pop(),f=c.pop(),p=0,m=e[f],v=e[f+1],g=e[d],y=e[d+1],_=f+r;_<d;_+=r){var b=e[_],S=e[_+1],T=Object(i.h)(b,S,m,v,g,y);T>p&&(h=_,p=T)}p>a&&(u[(h-t)/r]=1,f+r<h&&c.push(f,h),h+r<d&&c.push(h,d))}for(var w=0;w<l;++w)u[w]&&(o[s++]=e[t+w*r],o[s++]=e[t+w*r+1]);return s}function a(e,t,n,i,a,o,s,l){for(var u=0,c=n.length;u<c;++u){var h=n[u];s=r(e,t,h,i,a,o,s),l.push(s),t=h}return s}function o(e,t){return t*Math.round(e/t)}function s(e,t,n,i,r,a,s){if(t==n)return s;var l,u,c=o(e[t],r),h=o(e[t+1],r);t+=i,a[s++]=c,a[s++]=h;do{if(l=o(e[t],r),u=o(e[t+1],r),(t+=i)==n)return a[s++]=l,a[s++]=u,s}while(l==c&&u==h);for(;t<n;){var d=o(e[t],r),f=o(e[t+1],r);if(t+=i,d!=l||f!=u){var p=l-c,m=u-h,v=d-c,g=f-h;p*g==m*v&&(p<0&&v<p||p==v||p>0&&v>p)&&(m<0&&g<m||m==g||m>0&&g>m)?(l=d,u=f):(a[s++]=l,a[s++]=u,c=l,h=u,l=d,u=f)}}return a[s++]=l,a[s++]=u,s}function l(e,t,n,i,r,a,o,l){for(var u=0,c=n.length;u<c;++u){var h=n[u];o=s(e,t,h,i,r,a,o),l.push(o),t=h}return o}function u(e,t,n,i,r,a,o,s){for(var u=0,c=n.length;u<c;++u){var h=n[u],d=[];o=l(e,t,h,i,r,a,o,d),s.push(d),t=h[h.length-1]}return o}},"8yCo":function(e,t,n){"use strict";var i=n("De+T"),r=n("7MqJ"),a=n("hKKC"),o=n("i3ci"),s=n("BFJ5"),l=n("r0tu"),u=n("Znq9"),c=n("2I+J");t.a=function(e){b(n,e);var t=T(n);function n(e){var r;if(_(this,n),(r=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,imageSmoothing:e.imageSmoothing,projection:Object(u.i)("EPSG:3857"),reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:i.a.LOADING,tileLoadFunction:e.tileLoadFunction,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition})).tileJSON_=null,r.tileSize_=e.tileSize,e.url)if(e.jsonp)!function(e,t,n,i){var r=document.createElement("script"),a="olc_"+Object(c.c)(t);function o(){delete window[a],r.parentNode.removeChild(r)}r.async=!0,r.src=e+(-1==e.indexOf("?")?"?":"&")+"callback="+a;var s=setTimeout(function(){o(),n&&n()},1e4);window[a]=function(e){clearTimeout(s),o(),t(e)},document.getElementsByTagName("head")[0].appendChild(r)}(e.url,r.handleTileJSONResponse.bind(x(r)),r.handleTileJSONError.bind(x(r)));else{var a=new XMLHttpRequest;a.addEventListener("load",r.onXHRLoad_.bind(x(r))),a.addEventListener("error",r.onXHRError_.bind(x(r))),a.open("GET",e.url),a.send()}else e.tileJSON?r.handleTileJSONResponse(e.tileJSON):Object(o.a)(!1,51);return w(r)}return y(n,[{key:"onXHRLoad_",value:function(e){var t=e.target;if(!t.status||t.status>=200&&t.status<300){var n;try{n=JSON.parse(t.responseText)}catch(i){return void this.handleTileJSONError()}this.handleTileJSONResponse(n)}else this.handleTileJSONError()}},{key:"onXHRError_",value:function(e){this.handleTileJSONError()}},{key:"getTileJSON",value:function(){return this.tileJSON_}},{key:"handleTileJSONResponse",value:function(e){var t,n=Object(u.i)("EPSG:4326"),r=this.getProjection();if(void 0!==e.bounds){var o=Object(u.l)(n,r);t=Object(a.a)(e.bounds,o)}var c=e.minzoom||0,h=e.maxzoom||22,d=Object(l.b)({extent:Object(l.c)(r),maxZoom:h,minZoom:c,tileSize:this.tileSize_});if(this.tileGrid=d,this.tileUrlFunction=Object(s.a)(e.tiles,d),void 0!==e.attribution&&!this.getAttributions()){var f=void 0!==t?t:n.getExtent();this.setAttributions(function(t){return Object(a.G)(f,t.extent)?[e.attribution]:null})}this.tileJSON_=e,this.setState(i.a.READY)}},{key:"handleTileJSONError",value:function(){this.setState(i.a.ERROR)}}]),n}(r.a)},"90bG":function(e,t,n){"use strict";function i(e,t,n,i){for(var r=e[t],a=e[t+1],o=0,s=t+i;s<n;s+=i){var l=e[s],u=e[s+1];o+=Math.sqrt((l-r)*(l-r)+(u-a)*(u-a)),r=l,a=u}return o}n.d(t,"a",function(){return i})},"9AA0":function(e,t,n){"use strict";var i=n("Gp2b"),r=n("AAsu"),a=n("42kC"),o=n("0Fwh"),s=n("2I+J"),l=n("i3ci"),u=n("Znq9"),c=n("UMcu"),h=n("r0tu"),d=n("dvVV"),f=function(e){b(n,e);var t=T(n);function n(e,i){var r;return _(this,n),(r=t.call(this,e)).tile=i,r}return n}(i.a),p=function(e){b(n,e);var t=T(n);function n(e){var i;_(this,n),(i=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX})).opaque_=void 0!==e.opaque&&e.opaque,i.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,i.tileGrid=void 0!==e.tileGrid?e.tileGrid:null;var r=e.tileGrid;return r&&Object(d.d)(r.getTileSize(r.getMinZoom()),[256,256]),i.tileCache=new a.a(e.cacheSize||0),i.tmpSize=[0,0],i.key_=e.key||"",i.tileOptions={transition:e.transition},i.zDirection=e.zDirection?e.zDirection:0,i}return y(n,[{key:"canExpireCache",value:function(){return this.tileCache.canExpireCache()}},{key:"expireCache",value:function(e,t){var n=this.getTileCacheForProjection(e);n&&n.expireCache(t)}},{key:"forEachLoadedTile",value:function(e,t,n,i){var r=this.getTileCacheForProjection(e);if(!r)return!1;for(var a,s,l,u=!0,h=n.minX;h<=n.maxX;++h)for(var d=n.minY;d<=n.maxY;++d)s=Object(c.d)(t,h,d),l=!1,r.containsKey(s)&&((l=(a=r.get(s)).getState()===o.a.LOADED)&&(l=!1!==i(a))),l||(u=!1);return u}},{key:"getGutterForProjection",value:function(e){return 0}},{key:"getKey",value:function(){return this.key_}},{key:"setKey",value:function(e){this.key_!==e&&(this.key_=e,this.changed())}},{key:"getOpaque",value:function(e){return this.opaque_}},{key:"getResolutions",value:function(){return this.tileGrid.getResolutions()}},{key:"getTile",value:function(e,t,n,i,r){return Object(s.b)()}},{key:"getTileGrid",value:function(){return this.tileGrid}},{key:"getTileGridForProjection",value:function(e){return this.tileGrid?this.tileGrid:Object(h.d)(e)}},{key:"getTileCacheForProjection",value:function(e){return Object(l.a)(Object(u.f)(this.getProjection(),e),68),this.tileCache}},{key:"getTilePixelRatio",value:function(e){return this.tilePixelRatio_}},{key:"getTilePixelSize",value:function(e,t,n){var i=this.getTileGridForProjection(n),r=this.getTilePixelRatio(t),a=Object(d.d)(i.getTileSize(e),this.tmpSize);return 1==r?a:Object(d.c)(a,r,this.tmpSize)}},{key:"getTileCoordForTileUrlFunction",value:function(e,t){var n=void 0!==t?t:this.getProjection(),i=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(e=Object(h.e)(i,e,n)),Object(c.f)(e,i)?e:null}},{key:"clear",value:function(){this.tileCache.clear()}},{key:"refresh",value:function(){this.clear(),v(C(n.prototype),"refresh",this).call(this)}},{key:"updateCacheSize",value:function(e,t){var n=this.getTileCacheForProjection(t);e>n.highWaterMark&&(n.highWaterMark=e)}},{key:"useTile",value:function(e,t,n,i){}}]),n}(r.a),m=n("BFJ5"),g=function(e){b(n,e);var t=T(n);function n(e){var i;return _(this,n),(i=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})).generateTileUrlFunction_=i.tileUrlFunction===n.prototype.tileUrlFunction,i.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(i.tileUrlFunction=e.tileUrlFunction),i.urls=null,e.urls?i.setUrls(e.urls):e.url&&i.setUrl(e.url),i.tileLoadingKeys_={},i}return y(n,[{key:"getTileLoadFunction",value:function(){return this.tileLoadFunction}},{key:"getTileUrlFunction",value:function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}},{key:"getUrls",value:function(){return this.urls}},{key:"handleTileChange",value:function(e){var t,n=e.target,i=Object(s.c)(n),r=n.getState();r==o.a.LOADING?(this.tileLoadingKeys_[i]=!0,t="tileloadstart"):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],t=r==o.a.ERROR?"tileloaderror":r==o.a.LOADED?"tileloadend":void 0),null!=t&&this.dispatchEvent(new f(t,n))}},{key:"setTileLoadFunction",value:function(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()}},{key:"setTileUrlFunction",value:function(e,t){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),void 0!==t?this.setKey(t):this.changed()}},{key:"setUrl",value:function(e){var t=Object(m.c)(e);this.urls=t,this.setUrls(t)}},{key:"setUrls",value:function(e){this.urls=e;var t=e.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(Object(m.a)(e,this.tileGrid),t):this.setKey(t)}},{key:"tileUrlFunction",value:function(e,t,n){}},{key:"useTile",value:function(e,t,n){var i=Object(c.d)(e,t,n);this.tileCache.containsKey(i)&&this.tileCache.get(i)}}]),n}(p);t.a=g},"9CgO":function(e,t,n){"use strict";t.a={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"}},"9ppp":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}()},AAsu:function(e,t,n){"use strict";var i=n("bwl8"),r=n("De+T"),a=n("2I+J"),o=n("Znq9");function s(e){return e?Array.isArray(e)?function(t){return e}:"function"==typeof e?e:function(t){return[e]}:null}t.a=function(e){b(n,e);var t=T(n);function n(e){var i;return _(this,n),(i=t.call(this)).projection_=Object(o.i)(e.projection),i.attributions_=s(e.attributions),i.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,i.loading=!1,i.state_=void 0!==e.state?e.state:r.a.READY,i.wrapX_=void 0!==e.wrapX&&e.wrapX,i}return y(n,[{key:"getAttributions",value:function(){return this.attributions_}},{key:"getAttributionsCollapsible",value:function(){return this.attributionsCollapsible_}},{key:"getProjection",value:function(){return this.projection_}},{key:"getResolutions",value:function(){return Object(a.b)()}},{key:"getState",value:function(){return this.state_}},{key:"getWrapX",value:function(){return this.wrapX_}},{key:"getContextOptions",value:function(){}},{key:"refresh",value:function(){this.changed()}},{key:"setAttributions",value:function(e){this.attributions_=s(e),this.changed()}},{key:"setState",value:function(e){this.state_=e,this.changed()}}]),n}(i.a)},AaG5:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s});var i=n("XI78"),r=new(function(){function e(){_(this,e)}return y(e,[{key:"handleAttributeExpressions",value:function(e,t,n,r){var a=t[0];return"."===a?new i.e(e,t.slice(1),n).parts:"@"===a?[new i.c(e,t.slice(1),r.eventContext)]:"?"===a?[new i.b(e,t.slice(1),n)]:new i.a(e,t,n).parts}},{key:"handleTextExpression",value:function(e){return new i.d(e)}}]),e}()),a=n("GMCd");n("eByC"),n("tFPJ"),n("1VLE"),n("wmha"),n("PqmH"),n("6unr"),n("4yuk"),"undefined"!=typeof window&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.4.1");var o=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return new a.b(e,n,"html",r)},s=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return new a.a(e,n,"svg",r)}},AjuZ:function(e,t,n){"use strict";n.d(t,"b",function(){return u});var i=n("tvip"),r=n("wRPv"),a=n("2I+J"),o=n("hKKC"),s=n("k/Gk");function l(e){var t;return e==r.a.XY?t=2:e==r.a.XYZ||e==r.a.XYM?t=3:e==r.a.XYZM&&(t=4),t}function u(e,t,n){var i=e.getFlatCoordinates();if(i){var r=e.getStride();return Object(s.c)(i,0,i.length,r,t,n)}return null}t.a=function(e){b(n,e);var t=T(n);function n(){var e;return _(this,n),(e=t.call(this)).layout=r.a.XY,e.stride=2,e.flatCoordinates=null,e}return y(n,[{key:"computeExtent",value:function(e){return Object(o.p)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}},{key:"getCoordinates",value:function(){return Object(a.b)()}},{key:"getFirstCoordinate",value:function(){return this.flatCoordinates.slice(0,this.stride)}},{key:"getFlatCoordinates",value:function(){return this.flatCoordinates}},{key:"getLastCoordinate",value:function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}},{key:"getLayout",value:function(){return this.layout}},{key:"getSimplifiedGeometry",value:function(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var t=this.getSimplifiedGeometryInternal(e);return t.getFlatCoordinates().length<this.flatCoordinates.length?t:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}},{key:"getSimplifiedGeometryInternal",value:function(e){return this}},{key:"getStride",value:function(){return this.stride}},{key:"setFlatCoordinates",value:function(e,t){this.stride=l(e),this.layout=e,this.flatCoordinates=t}},{key:"setCoordinates",value:function(e,t){Object(a.b)()}},{key:"setLayout",value:function(e,t,n){var i;if(e)i=l(e);else{for(var a=0;a<n;++a){if(0===t.length)return this.layout=r.a.XY,void(this.stride=2);t=t[0]}e=function(e){var t;return 2==e?t=r.a.XY:3==e?t=r.a.XYZ:4==e&&(t=r.a.XYZM),t}(i=t.length)}this.layout=e,this.stride=i}},{key:"applyTransform",value:function(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}},{key:"rotate",value:function(e,t){var n=this.getFlatCoordinates();if(n){var i=this.getStride();Object(s.a)(n,0,n.length,i,e,t,n),this.changed()}}},{key:"scale",value:function(e,t,n){var i=t;void 0===i&&(i=e);var r=n;r||(r=Object(o.y)(this.getExtent()));var a=this.getFlatCoordinates();if(a){var l=this.getStride();Object(s.b)(a,0,a.length,l,e,i,r,a),this.changed()}}},{key:"translate",value:function(e,t){var n=this.getFlatCoordinates();if(n){var i=this.getStride();Object(s.d)(n,0,n.length,i,e,t,n),this.changed()}}}]),n}(i.a)},B9Yq:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},BFJ5:function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return u});var i=n("i3ci"),r=n("LV+m"),a=n("UMcu");function o(e,t){var n=/\{z\}/g,r=/\{x\}/g,a=/\{y\}/g,o=/\{-y\}/g;return function(s,l,u){return s?e.replace(n,s[0].toString()).replace(r,s[1].toString()).replace(a,s[2].toString()).replace(o,function(){var e=t.getFullTileRange(s[0]);return Object(i.a)(e,55),(e.getHeight()-s[2]-1).toString()}):void 0}}function s(e,t){for(var n=e.length,i=new Array(n),r=0;r<n;++r)i[r]=o(e[r],t);return l(i)}function l(e){return 1===e.length?e[0]:function(t,n,i){if(t){var o=Object(a.e)(t),s=Object(r.e)(o,e.length);return e[s](t,n,i)}}}function u(e){var t=[],n=/\{([a-z])-([a-z])\}/.exec(e);if(n){var i,r=n[1].charCodeAt(0),a=n[2].charCodeAt(0);for(i=r;i<=a;++i)t.push(e.replace(n[0],String.fromCharCode(i)));return t}if(n=/\{(\d+)-(\d+)\}/.exec(e)){for(var o=parseInt(n[2],10),s=parseInt(n[1],10);s<=o;s++)t.push(e.replace(n[0],s.toString()));return t}return t.push(e),t}},BbPW:function(e,t,n){"use strict";t.a=function(){function e(){_(this,e),this.disposed=!1}return y(e,[{key:"dispose",value:function(){this.disposed||(this.disposed=!0,this.disposeInternal())}},{key:"disposeInternal",value:function(){}}]),e}()},Bpkx:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return o});var i="function"==typeof Object.assign?Object.assign:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),i=1,r=arguments.length;i<r;++i){var a=arguments[i];if(null!=a)for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])}return n};function r(e){for(var t in e)delete e[t]}var a="function"==typeof Object.values?Object.values:function(e){var t=[];for(var n in e)t.push(e[n]);return t};function o(e){var t;for(t in e)return!1;return!t}},Cfvw:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var i=n("HDdC"),r=n("SeVD"),a=n("quSY"),o=n("kJWO"),s=n("jZKg"),l=n("Lhse"),u=n("c2HN"),c=n("I55L");function h(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[o.a]}(e))return function(e,t){return new i.a(function(n){var i=new a.a;return i.add(t.schedule(function(){var r=e[o.a]();i.add(r.subscribe({next:function(e){i.add(t.schedule(function(){return n.next(e)}))},error:function(e){i.add(t.schedule(function(){return n.error(e)}))},complete:function(){i.add(t.schedule(function(){return n.complete()}))}}))})),i})}(e,t);if(Object(u.a)(e))return function(e,t){return new i.a(function(n){var i=new a.a;return i.add(t.schedule(function(){return e.then(function(e){i.add(t.schedule(function(){n.next(e),i.add(t.schedule(function(){return n.complete()}))}))},function(e){i.add(t.schedule(function(){return n.error(e)}))})})),i})}(e,t);if(Object(c.a)(e))return Object(s.a)(e,t);if(function(e){return e&&"function"==typeof e[l.a]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new i.a(function(n){var i,r=new a.a;return r.add(function(){i&&"function"==typeof i.return&&i.return()}),r.add(t.schedule(function(){i=e[l.a](),r.add(t.schedule(function(){if(!n.closed){var e,t;try{var r=i.next();e=r.value,t=r.done}catch(a){return void n.error(a)}t?n.complete():(n.next(e),this.schedule())}}))})),r})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof i.a?e:new i.a(Object(r.a)(e))}},Cw4B:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"c",function(){return a}),n.d(t,"b",function(){return o}),n.d(t,"g",function(){return s}),n.d(t,"e",function(){return l}),n.d(t,"d",function(){return u}),n.d(t,"f",function(){return c});var i=n("FRHD");function r(e,t,n){var r=n&&n.length?n.shift():i.g?new OffscreenCanvas(e||300,t||300):document.createElement("canvas");return e&&(r.width=e),t&&(r.height=t),r.getContext("2d")}function a(e){var t=e.offsetWidth,n=getComputedStyle(e);return t+=parseInt(n.marginLeft,10)+parseInt(n.marginRight,10)}function o(e){var t=e.offsetHeight,n=getComputedStyle(e);return t+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10)}function s(e,t){var n=t.parentNode;n&&n.replaceChild(e,t)}function l(e){return e&&e.parentNode?e.parentNode.removeChild(e):null}function u(e){for(;e.lastChild;)e.removeChild(e.lastChild)}function c(e,t){for(var n=e.childNodes,i=0;;++i){var r=n[i],a=t[i];if(!r&&!a)break;r!==a&&(r?a?e.insertBefore(a,r):(e.removeChild(r),--i):e.appendChild(a))}}},CxY0:function(e,t,n){"use strict";var i=n("rWzI"),r=n("Nehr");function a(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=_,t.resolve=function(e,t){return _(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?_(e,!1,!0).resolveObject(t):t},t.format=function(e){return r.isString(e)&&(e=_(e)),e instanceof a?e.format():a.prototype.format.call(e)},t.Url=a;var o=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(u),h=["%","/","?",";","#"].concat(c),d=["/","?","#"],f=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=n("r8II");function _(e,t,n){if(e&&r.isObject(e)&&e instanceof a)return e;var i=new a;return i.parse(e,t,n),i}a.prototype.parse=function(e,t,n){if(!r.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var a=e.indexOf("?"),s=-1!==a&&a<e.indexOf("#")?"?":"#",u=e.split(s);u[0]=u[0].replace(/\\/g,"/");var _=e=u.join(s);if(_=_.trim(),!n&&1===e.split("#").length){var b=l.exec(_);if(b)return this.path=_,this.href=_,this.pathname=b[1],b[2]?(this.search=b[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var S=o.exec(_);if(S){var T=(S=S[0]).toLowerCase();this.protocol=T,_=_.substr(S.length)}if(n||S||_.match(/^\/\/[^@\/]+@[^@\/]+/)){var w="//"===_.substr(0,2);!w||S&&v[S]||(_=_.substr(2),this.slashes=!0)}if(!v[S]&&(w||S&&!g[S])){for(var x,E,C=-1,k=0;k<d.length;k++)-1!==(M=_.indexOf(d[k]))&&(-1===C||M<C)&&(C=M);for(-1!==(E=-1===C?_.lastIndexOf("@"):_.lastIndexOf("@",C))&&(x=_.slice(0,E),_=_.slice(E+1),this.auth=decodeURIComponent(x)),C=-1,k=0;k<h.length;k++){var M;-1!==(M=_.indexOf(h[k]))&&(-1===C||M<C)&&(C=M)}-1===C&&(C=_.length),this.host=_.slice(0,C),_=_.slice(C),this.parseHost(),this.hostname=this.hostname||"";var O="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!O)for(var A=this.hostname.split(/\./),R=(k=0,A.length);k<R;k++){var I=A[k];if(I&&!I.match(f)){for(var L="",P=0,D=I.length;P<D;P++)I.charCodeAt(P)>127?L+="x":L+=I[P];if(!L.match(f)){var N=A.slice(0,k),j=A.slice(k+1),F=I.match(p);F&&(N.push(F[1]),j.unshift(F[2])),j.length&&(_="/"+j.join(".")+_),this.hostname=N.join(".");break}}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),O||(this.hostname=i.toASCII(this.hostname)),this.host=(this.hostname||"")+(this.port?":"+this.port:""),this.href+=this.host,O&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==_[0]&&(_="/"+_))}if(!m[T])for(k=0,R=c.length;k<R;k++){var U=c[k];if(-1!==_.indexOf(U)){var G=encodeURIComponent(U);G===U&&(G=escape(U)),_=_.split(U).join(G)}}var V=_.indexOf("#");-1!==V&&(this.hash=_.substr(V),_=_.slice(0,V));var B=_.indexOf("?");return-1!==B?(this.search=_.substr(B),this.query=_.substr(B+1),t&&(this.query=y.parse(this.query)),_=_.slice(0,B)):t&&(this.search="",this.query={}),_&&(this.pathname=_),g[T]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(this.pathname||"")+(this.search||"")),this.href=this.format(),this},a.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",i=this.hash||"",a=!1,o="";this.host?a=e+this.host:this.hostname&&(a=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(a+=":"+this.port)),this.query&&r.isObject(this.query)&&Object.keys(this.query).length&&(o=y.stringify(this.query));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||g[t])&&!1!==a?(a="//"+(a||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):a||(a=""),i&&"#"!==i.charAt(0)&&(i="#"+i),s&&"?"!==s.charAt(0)&&(s="?"+s),t+a+(n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(s=s.replace("#","%23"))+i},a.prototype.resolve=function(e){return this.resolveObject(_(e,!1,!0)).format()},a.prototype.resolveObject=function(e){if(r.isString(e)){var t=new a;t.parse(e,!1,!0),e=t}for(var n=new a,i=Object.keys(this),o=0;o<i.length;o++){var s=i[o];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),u=0;u<l.length;u++){var c=l[u];"protocol"!==c&&(n[c]=e[c])}return g[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!g[e.protocol]){for(var h=Object.keys(e),d=0;d<h.length;d++){var f=h[d];n[f]=e[f]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||v[e.protocol])n.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}return n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,(n.pathname||n.search)&&(n.path=(n.pathname||"")+(n.search||"")),n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var m=n.pathname&&"/"===n.pathname.charAt(0),y=e.host||e.pathname&&"/"===e.pathname.charAt(0),_=y||m||n.host&&e.pathname,b=_,S=n.pathname&&n.pathname.split("/")||[],T=(p=e.pathname&&e.pathname.split("/")||[],n.protocol&&!g[n.protocol]);if(T&&(n.hostname="",n.port=null,n.host&&(""===S[0]?S[0]=n.host:S.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),_=_&&(""===p[0]||""===S[0])),y)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,S=p;else if(p.length)S||(S=[]),S.pop(),S=S.concat(p),n.search=e.search,n.query=e.query;else if(!r.isNullOrUndefined(e.search))return T&&(n.hostname=n.host=S.shift(),(k=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=k.shift(),n.host=n.hostname=k.shift())),n.search=e.search,n.query=e.query,r.isNull(n.pathname)&&r.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!S.length)return n.pathname=null,n.path=n.search?"/"+n.search:null,n.href=n.format(),n;for(var w=S.slice(-1)[0],x=(n.host||e.host||S.length>1)&&("."===w||".."===w)||""===w,E=0,C=S.length;C>=0;C--)"."===(w=S[C])?S.splice(C,1):".."===w?(S.splice(C,1),E++):E&&(S.splice(C,1),E--);if(!_&&!b)for(;E--;E)S.unshift("..");!_||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),x&&"/"!==S.join("/").substr(-1)&&S.push("");var k,M=""===S[0]||S[0]&&"/"===S[0].charAt(0);return T&&(n.hostname=n.host=M?"":S.length?S.shift():"",(k=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=k.shift(),n.host=n.hostname=k.shift())),(_=_||n.host&&S.length)&&!M&&S.unshift(""),S.length?n.pathname=S.join("/"):(n.pathname=null,n.path=null),r.isNull(n.pathname)&&r.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},a.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},D0XW:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("3N8a"),r=new(n("IjjT").a)(i.a)},D1oO:function(e,t,n){"use strict";var i=n("Gp2b");t.a=function(e){b(n,e);var t=T(n);function n(e,i,r,a){var o;return _(this,n),(o=t.call(this,e)).inversePixelTransform=i,o.frameState=r,o.context=a,o}return n}(i.a)},DH7j:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=Array.isArray||function(e){return e&&"number"==typeof e.length}},DPnj:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return u});var i=n("hKKC"),r=n("kacL"),a=n("Y5Xb");function o(e,t,n,a,o){var s=Object(i.t)(Object(i.k)(),e,t,n,a);return!!Object(i.G)(o,s)&&(!!Object(i.h)(o,s)||s[0]>=o[0]&&s[2]<=o[2]||s[1]>=o[1]&&s[3]<=o[3]||Object(r.a)(e,t,n,a,function(e,t){return Object(i.H)(o,e,t)}))}function s(e,t,n,i,r){for(var a=0,s=n.length;a<s;++a){if(o(e,t,n[a],i,r))return!0;t=n[a]}return!1}function l(e,t,n,i,r){if(!function(e,t,n,i,r){return!!(o(e,t,n,i,r)||Object(a.b)(e,t,n,i,r[0],r[1])||Object(a.b)(e,t,n,i,r[0],r[3])||Object(a.b)(e,t,n,i,r[2],r[1])||Object(a.b)(e,t,n,i,r[2],r[3]))}(e,t,n[0],i,r))return!1;if(1===n.length)return!0;for(var s=1,l=n.length;s<l;++s)if(Object(a.a)(e,n[s-1],n[s],i,r)&&!o(e,n[s-1],n[s],i,r))return!1;return!0}function u(e,t,n,i,r){for(var a=0,o=n.length;a<o;++a){var s=n[a];if(l(e,t,s,i,r))return!0;t=s[s.length-1]}return!1}},"De+T":function(e,t,n){"use strict";t.a={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"}},Dm0N:function(e,t,n){"use strict";var i=n("rCez"),r=n("ljNT"),a=n("Gp2b"),o=n("9CgO"),s=n("pzRH"),l=n("JaUx"),u=n.n(l),c=n("hKKC"),h=n("2I+J"),d=n("Bpkx"),f=function(){function e(t){_(this,e),this.rbush_=new u.a(t),this.items_={}}return y(e,[{key:"insert",value:function(e,t){var n={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(n),this.items_[Object(h.c)(t)]=n}},{key:"load",value:function(e,t){for(var n=new Array(t.length),i=0,r=t.length;i<r;i++){var a=e[i],o=t[i],s={minX:a[0],minY:a[1],maxX:a[2],maxY:a[3],value:o};n[i]=s,this.items_[Object(h.c)(o)]=s}this.rbush_.load(n)}},{key:"remove",value:function(e){var t=Object(h.c)(e),n=this.items_[t];return delete this.items_[t],null!==this.rbush_.remove(n)}},{key:"update",value:function(e,t){var n=this.items_[Object(h.c)(t)],i=[n.minX,n.minY,n.maxX,n.maxY];Object(c.q)(i,e)||(this.remove(t),this.insert(e,t))}},{key:"getAll",value:function(){return this.rbush_.all().map(function(e){return e.value})}},{key:"getInExtent",value:function(e){return this.rbush_.search({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}).map(function(e){return e.value})}},{key:"forEach",value:function(e){return this.forEach_(this.getAll(),e)}},{key:"forEachInExtent",value:function(e,t){return this.forEach_(this.getInExtent(e),t)}},{key:"forEach_",value:function(e,t){for(var n,i=0,r=e.length;i<r;i++)if(n=t(e[i]))return n;return n}},{key:"isEmpty",value:function(){return Object(d.d)(this.items_)}},{key:"clear",value:function(){this.rbush_.clear(),this.items_={}}},{key:"getExtent",value:function(e){var t=this.rbush_.toJSON();return Object(c.l)(t.minX,t.minY,t.maxX,t.maxY,e)}},{key:"concat",value:function(e){for(var t in this.rbush_.load(e.rbush_.all()),e.items_)this.items_[t]=e.items_[t]}}]),e}(),p=n("AAsu"),m=n("De+T"),g=n("mTm8"),S=n("6Xq6"),w=n("1X1q"),x=n("i3ci"),E=n("oWEL"),k=n("FHfp"),M=n("k51M"),O=function(e){b(n,e);var t=T(n);function n(e,i,r){var a;return _(this,n),(a=t.call(this,e)).feature=i,a.features=r,a}return n}(a.a);t.a=function(e){b(n,e);var t=T(n);function n(e){var r;_(this,n);var a=e||{};(r=t.call(this,{attributions:a.attributions,projection:void 0,state:m.a.READY,wrapX:void 0===a.wrapX||a.wrapX})).loader_=S.c,r.format_=a.format,r.overlaps_=void 0===a.overlaps||a.overlaps,r.url_=a.url,void 0!==a.loader?r.loader_=a.loader:void 0!==r.url_&&(Object(x.a)(r.format_,7),r.loader_=Object(M.b)(r.url_,r.format_)),r.strategy_=void 0!==a.strategy?a.strategy:w.a;var o,s,l=void 0===a.useSpatialIndex||a.useSpatialIndex;return r.featuresRtree_=l?new f:null,r.loadedExtentsRtree_=new f,r.nullGeometryFeatures_={},r.idIndex_={},r.uidIndex_={},r.featureChangeKeys_={},r.featuresCollection_=null,Array.isArray(a.features)?s=a.features:a.features&&(s=(o=a.features).getArray()),l||void 0!==o||(o=new i.a(s)),void 0!==s&&r.addFeaturesInternal(s),void 0!==o&&r.bindFeaturesCollection_(o),r}return y(n,[{key:"addFeature",value:function(e){this.addFeatureInternal(e),this.changed()}},{key:"addFeatureInternal",value:function(e){var t=Object(h.c)(e);if(this.addToIndex_(t,e)){this.setupChangeEvents_(t,e);var n=e.getGeometry();if(n){var i=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(i,e)}else this.nullGeometryFeatures_[t]=e;this.dispatchEvent(new O(g.a.ADDFEATURE,e))}else this.featuresCollection_&&this.featuresCollection_.remove(e)}},{key:"setupChangeEvents_",value:function(e,t){this.featureChangeKeys_[e]=[Object(k.a)(t,o.a.CHANGE,this.handleFeatureChange_,this),Object(k.a)(t,s.a.PROPERTYCHANGE,this.handleFeatureChange_,this)]}},{key:"addToIndex_",value:function(e,t){var n=!0,i=t.getId();return void 0!==i&&(i.toString()in this.idIndex_?n=!1:this.idIndex_[i.toString()]=t),n&&(Object(x.a)(!(e in this.uidIndex_),30),this.uidIndex_[e]=t),n}},{key:"addFeatures",value:function(e){this.addFeaturesInternal(e),this.changed()}},{key:"addFeaturesInternal",value:function(e){for(var t=[],n=[],i=[],r=0,a=e.length;r<a;r++){var o=e[r],s=Object(h.c)(o);this.addToIndex_(s,o)&&n.push(o)}for(var l=0,u=n.length;l<u;l++){var c=n[l],d=Object(h.c)(c);this.setupChangeEvents_(d,c);var f=c.getGeometry();if(f){var p=f.getExtent();t.push(p),i.push(c)}else this.nullGeometryFeatures_[d]=c}this.featuresRtree_&&this.featuresRtree_.load(t,i);for(var m=0,v=n.length;m<v;m++)this.dispatchEvent(new O(g.a.ADDFEATURE,n[m]))}},{key:"bindFeaturesCollection_",value:function(e){var t=!1;this.addEventListener(g.a.ADDFEATURE,function(n){t||(t=!0,e.push(n.feature),t=!1)}),this.addEventListener(g.a.REMOVEFEATURE,function(n){t||(t=!0,e.remove(n.feature),t=!1)}),e.addEventListener(r.a.ADD,(function(e){t||(t=!0,this.addFeature(e.element),t=!1)}).bind(this)),e.addEventListener(r.a.REMOVE,(function(e){t||(t=!0,this.removeFeature(e.element),t=!1)}).bind(this)),this.featuresCollection_=e}},{key:"clear",value:function(e){if(e){for(var t in this.featureChangeKeys_)this.featureChangeKeys_[t].forEach(k.c);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_)for(var n in this.featuresRtree_.forEach(this.removeFeatureInternal.bind(this)),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[n]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var i=new O(g.a.CLEAR);this.dispatchEvent(i),this.changed()}},{key:"forEachFeature",value:function(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}},{key:"forEachFeatureAtCoordinateDirect",value:function(e,t){return this.forEachFeatureInExtent([e[0],e[1],e[0],e[1]],function(n){return n.getGeometry().intersectsCoordinate(e)?t(n):void 0})}},{key:"forEachFeatureInExtent",value:function(e,t){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}},{key:"forEachFeatureIntersectingExtent",value:function(e,t){return this.forEachFeatureInExtent(e,function(n){if(n.getGeometry().intersectsExtent(e)){var i=t(n);if(i)return i}})}},{key:"getFeaturesCollection",value:function(){return this.featuresCollection_}},{key:"getFeatures",value:function(){var e;return this.featuresCollection_?e=this.featuresCollection_.getArray():this.featuresRtree_&&(e=this.featuresRtree_.getAll(),Object(d.d)(this.nullGeometryFeatures_)||Object(E.c)(e,Object(d.c)(this.nullGeometryFeatures_))),e}},{key:"getFeaturesAtCoordinate",value:function(e){var t=[];return this.forEachFeatureAtCoordinateDirect(e,function(e){t.push(e)}),t}},{key:"getFeaturesInExtent",value:function(e){return this.featuresRtree_?this.featuresRtree_.getInExtent(e):this.featuresCollection_?this.featuresCollection_.getArray():[]}},{key:"getClosestFeatureToCoordinate",value:function(e,t){var n=e[0],i=e[1],r=null,a=[NaN,NaN],o=1/0,s=[-1/0,-1/0,1/0,1/0],l=t||S.b;return this.featuresRtree_.forEachInExtent(s,function(e){if(l(e)){var t=e.getGeometry(),u=o;if((o=t.closestPointXY(n,i,a,o))<u){r=e;var c=Math.sqrt(o);s[0]=n-c,s[1]=i-c,s[2]=n+c,s[3]=i+c}}}),r}},{key:"getExtent",value:function(e){return this.featuresRtree_.getExtent(e)}},{key:"getFeatureById",value:function(e){var t=this.idIndex_[e.toString()];return void 0!==t?t:null}},{key:"getFeatureByUid",value:function(e){var t=this.uidIndex_[e];return void 0!==t?t:null}},{key:"getFormat",value:function(){return this.format_}},{key:"getOverlaps",value:function(){return this.overlaps_}},{key:"getUrl",value:function(){return this.url_}},{key:"handleFeatureChange_",value:function(e){var t=e.target,n=Object(h.c)(t),i=t.getGeometry();if(i){var r=i.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(r,t)):this.featuresRtree_&&this.featuresRtree_.update(r,t)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(t),this.nullGeometryFeatures_[n]=t);var a=t.getId();if(void 0!==a){var o=a.toString();this.idIndex_[o]!==t&&(this.removeFromIdIndex_(t),this.idIndex_[o]=t)}else this.removeFromIdIndex_(t),this.uidIndex_[n]=t;this.changed(),this.dispatchEvent(new O(g.a.CHANGEFEATURE,t))}},{key:"hasFeature",value:function(e){var t=e.getId();return void 0!==t?t in this.idIndex_:Object(h.c)(e)in this.uidIndex_}},{key:"isEmpty",value:function(){return this.featuresRtree_.isEmpty()&&Object(d.d)(this.nullGeometryFeatures_)}},{key:"loadFeatures",value:function(e,t,n){var i=this,r=this.loadedExtentsRtree_,a=this.strategy_(e,t);this.loading=!1;for(var o=function(e,o){var s=a[e];r.forEachInExtent(s,function(e){return Object(c.h)(e.extent,s)})||(i.dispatchEvent(new O(g.a.FEATURESLOADSTART)),i.loader_.call(i,s,t,n,(function(e){this.dispatchEvent(new O(g.a.FEATURESLOADEND,void 0,e))}).bind(i),(function(){this.dispatchEvent(new O(g.a.FEATURESLOADERROR))}).bind(i)),r.insert(s,{extent:s.slice()}),i.loading=i.loader_!==S.c)},s=0,l=a.length;s<l;++s)o(s)}},{key:"refresh",value:function(){this.clear(!0),this.loadedExtentsRtree_.clear(),v(C(n.prototype),"refresh",this).call(this)}},{key:"removeLoadedExtent",value:function(e){var t,n=this.loadedExtentsRtree_;n.forEachInExtent(e,function(n){if(Object(c.q)(n.extent,e))return t=n,!0}),t&&n.remove(t)}},{key:"removeFeature",value:function(e){var t=Object(h.c)(e);t in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[t]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.removeFeatureInternal(e),this.changed()}},{key:"removeFeatureInternal",value:function(e){var t=Object(h.c)(e);this.featureChangeKeys_[t].forEach(k.c),delete this.featureChangeKeys_[t];var n=e.getId();void 0!==n&&delete this.idIndex_[n.toString()],delete this.uidIndex_[t],this.dispatchEvent(new O(g.a.REMOVEFEATURE,e))}},{key:"removeFromIdIndex_",value:function(e){var t=!1;for(var n in this.idIndex_)if(this.idIndex_[n]===e){delete this.idIndex_[n],t=!0;break}return t}},{key:"setLoader",value:function(e){this.loader_=e}},{key:"setUrl",value:function(e){Object(x.a)(this.format_,7),this.setLoader(Object(M.b)(e,this.format_))}}]),n}(p.a)},DsyP:function(e,t,n){"use strict";var i=n("QSZX"),r=n("rCez"),a=n("ljNT"),o=n("9CgO"),s=n("pzRH"),l=n("De+T"),u=n("i3ci"),c=n("Bpkx"),h=n("bwl8"),d=n("hKKC"),f=n("2I+J"),p=n("FHfp");t.a=function(e){b(n,e);var t=T(n);function n(e){var i;_(this,n);var a=e||{},o=Object(c.a)({},a);delete o.layers;var s=a.layers;return(i=t.call(this,o)).layersListenerKeys_=[],i.listenerKeys_={},i.addEventListener(Object(h.b)("layers"),i.handleLayersChanged_),s?Array.isArray(s)?s=new r.a(s.slice(),{unique:!0}):Object(u.a)("function"==typeof s.getArray,43):s=new r.a(void 0,{unique:!0}),i.setLayers(s),i}return y(n,[{key:"handleLayerChange_",value:function(){this.changed()}},{key:"handleLayersChanged_",value:function(){this.layersListenerKeys_.forEach(p.c),this.layersListenerKeys_.length=0;var e=this.getLayers();for(var t in this.layersListenerKeys_.push(Object(p.a)(e,a.a.ADD,this.handleLayersAdd_,this),Object(p.a)(e,a.a.REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[t].forEach(p.c);Object(c.b)(this.listenerKeys_);for(var n=e.getArray(),i=0,r=n.length;i<r;i++){var l=n[i];this.listenerKeys_[Object(f.c)(l)]=[Object(p.a)(l,s.a.PROPERTYCHANGE,this.handleLayerChange_,this),Object(p.a)(l,o.a.CHANGE,this.handleLayerChange_,this)]}this.changed()}},{key:"handleLayersAdd_",value:function(e){var t=e.element;this.listenerKeys_[Object(f.c)(t)]=[Object(p.a)(t,s.a.PROPERTYCHANGE,this.handleLayerChange_,this),Object(p.a)(t,o.a.CHANGE,this.handleLayerChange_,this)],this.changed()}},{key:"handleLayersRemove_",value:function(e){var t=e.element,n=Object(f.c)(t);this.listenerKeys_[n].forEach(p.c),delete this.listenerKeys_[n],this.changed()}},{key:"getLayers",value:function(){return this.get("layers")}},{key:"setLayers",value:function(e){this.set("layers",e)}},{key:"getLayersArray",value:function(e){var t=void 0!==e?e:[];return this.getLayers().forEach(function(e){e.getLayersArray(t)}),t}},{key:"getLayerStatesArray",value:function(e){var t=void 0!==e?e:[],n=t.length;this.getLayers().forEach(function(e){e.getLayerStatesArray(t)});for(var i=this.getLayerState(),r=n,a=t.length;r<a;r++){var o=t[r];o.opacity*=i.opacity,o.visible=o.visible&&i.visible,o.maxResolution=Math.min(o.maxResolution,i.maxResolution),o.minResolution=Math.max(o.minResolution,i.minResolution),o.minZoom=Math.max(o.minZoom,i.minZoom),o.maxZoom=Math.min(o.maxZoom,i.maxZoom),void 0!==i.extent&&(o.extent=void 0!==o.extent?Object(d.C)(o.extent,i.extent):i.extent)}return t}},{key:"getSourceState",value:function(){return l.a.READY}}]),n}(i.a)},DwgT:function(e,t,n){"use strict";var i=n("U1NS"),r=n("ZBAF"),a=n("Bpkx");t.a=function(e){b(n,e);var t=T(n);function n(e){var i;_(this,n);var r=e||{},o=Object(a.a)({},r);return delete o.preload,delete o.useInterimTilesOnError,(i=t.call(this,o)).setPreload(void 0!==r.preload?r.preload:0),i.setUseInterimTilesOnError(void 0===r.useInterimTilesOnError||r.useInterimTilesOnError),i}return y(n,[{key:"getPreload",value:function(){return this.get(r.a.PRELOAD)}},{key:"setPreload",value:function(e){this.set(r.a.PRELOAD,e)}},{key:"getUseInterimTilesOnError",value:function(){return this.get(r.a.USE_INTERIM_TILES_ON_ERROR)}},{key:"setUseInterimTilesOnError",value:function(e){this.set(r.a.USE_INTERIM_TILES_ON_ERROR,e)}}]),n}(i.a)},E9sE:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return a}),n.d(t,"c",function(){return o}),n("Bpkx");var i={};function r(){i={}}function a(e,t,n){var r=e.getCode(),a=t.getCode();r in i||(i[r]={}),i[r][a]=n}function o(e,t){var n;return e in i&&t in i[e]&&(n=i[e][t]),n}},EQ5u:function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"b",function(){return u});var i,r=n("XNiG"),a=n("HDdC"),o=(n("7o/Q"),n("quSY")),s=n("x+ZX"),l=function(e){b(n,e);var t=T(n);function n(e,i){var r;return _(this,n),(r=t.call(this)).source=e,r.subjectFactory=i,r._refCount=0,r._isComplete=!1,r}return y(n,[{key:"_subscribe",value:function(e){return this.getSubject().subscribe(e)}},{key:"getSubject",value:function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new o.a).add(this.source.subscribe(new c(this.getSubject(),this))),e.closed&&(this._connection=null,e=o.a.EMPTY)),e}},{key:"refCount",value:function(){return Object(s.a)()(this)}}]),n}(a.a),u={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(i=l.prototype)._subscribe},_isComplete:{value:i._isComplete,writable:!0},getSubject:{value:i.getSubject},connect:{value:i.connect},refCount:{value:i.refCount}},c=function(e){b(n,e);var t=T(n);function n(e,i){var r;return _(this,n),(r=t.call(this,e)).connectable=i,r}return y(n,[{key:"_error",value:function(e){this._unsubscribe(),v(C(n.prototype),"_error",this).call(this,e)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),v(C(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}]),n}(r.b)},EY2u:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a});var i=n("HDdC"),r=new i.a(function(e){return e.complete()});function a(e){return e?function(e){return new i.a(function(t){return e.schedule(function(){return t.complete()})})}(e):r}},FHfp:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return o});var i=n("Bpkx");function r(e,t,n,i,r){if(i&&i!==e&&(n=n.bind(i)),r){var a=n;n=function(){e.removeEventListener(t,n),a.apply(this,arguments)}}var o={target:e,type:t,listener:n};return e.addEventListener(t,n),o}function a(e,t,n,i){return r(e,t,n,i,!0)}function o(e){e&&e.target&&(e.target.removeEventListener(e.type,e.listener),Object(i.b)(e))}},FQWF:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n("uJJw");function r(e,t,n){return t+":"+e+":"+(n?Object(i.b)(n):"null")}var a=new(function(){function e(){_(this,e),this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return y(e,[{key:"clear",value:function(){this.cache_={},this.cacheSize_=0}},{key:"canExpireCache",value:function(){return this.cacheSize_>this.maxCacheSize_}},{key:"expire",value:function(){if(this.canExpireCache()){var e=0;for(var t in this.cache_){var n=this.cache_[t];0!=(3&e++)||n.hasListener()||(delete this.cache_[t],--this.cacheSize_)}}}},{key:"get",value:function(e,t,n){var i=r(e,t,n);return i in this.cache_?this.cache_[i]:null}},{key:"set",value:function(e,t,n,i){var a=r(e,t,n);this.cache_[a]=i,++this.cacheSize_}},{key:"setSize",value:function(e){this.maxCacheSize_=e,this.expire()}}]),e}())},FRHD:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"f",function(){return a}),n.d(t,"d",function(){return o}),n.d(t,"a",function(){return s}),n.d(t,"g",function(){return l}),n.d(t,"c",function(){return u}),n.d(t,"e",function(){return c});var i="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"",r=-1!==i.indexOf("firefox"),a=(-1!==i.indexOf("safari")&&i.indexOf("chrom"),-1!==i.indexOf("webkit")&&-1==i.indexOf("edge")),o=-1!==i.indexOf("macintosh"),s="undefined"!=typeof devicePixelRatio?devicePixelRatio:1,l="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,u="undefined"!=typeof Image&&Image.prototype.decode,c=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch(n){}return e}()},Fnjr:function(e,t,n){"use strict";var i=n("mgod"),r=n("1rej"),a=n("i3ci"),o=n("LV+m"),s=n("hKKC"),l=n("UMcu"),u=n("oWEL"),c=n("dvVV"),h=[0,0,0];t.a=function(){function e(t){var n;if(_(this,e),this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,Object(a.a)(Object(u.g)(this.resolutions_,function(e,t){return t-e},!0),17),!t.origins)for(var o=0,l=this.resolutions_.length-1;o<l;++o)if(n){if(this.resolutions_[o]/this.resolutions_[o+1]!==n){n=void 0;break}}else n=this.resolutions_[o]/this.resolutions_[o+1];this.zoomFactor_=n,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,Object(a.a)(this.origins_.length==this.resolutions_.length,20));var c=t.extent;void 0===c||this.origin_||this.origins_||(this.origin_=Object(s.D)(c)),Object(a.a)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,Object(a.a)(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:r.b,Object(a.a)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==c?c:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map(function(e,t){var n=new i.b(Math.min(0,e[0]),Math.max(e[0]-1,-1),Math.min(0,e[1]),Math.max(e[1]-1,-1));if(c){var r=this.getTileRangeForExtentAndZ(c,t);n.minX=Math.max(r.minX,n.minX),n.maxX=Math.min(r.maxX,n.maxX),n.minY=Math.max(r.minY,n.minY),n.maxY=Math.min(r.maxY,n.maxY)}return n},this):c&&this.calculateTileRanges_(c)}return y(e,[{key:"forEachTileCoord",value:function(e,t,n){for(var i=this.getTileRangeForExtentAndZ(e,t),r=i.minX,a=i.maxX;r<=a;++r)for(var o=i.minY,s=i.maxY;o<=s;++o)n([t,r,o])}},{key:"forEachTileCoordParentTileRange",value:function(e,t,n,r){var a,o,s,l=null,u=e[0]-1;for(2===this.zoomFactor_?(o=e[1],s=e[2]):l=this.getTileCoordExtent(e,r);u>=this.minZoom;){if(2===this.zoomFactor_?(o=Math.floor(o/2),s=Math.floor(s/2),a=Object(i.a)(o,o,s,s,n)):a=this.getTileRangeForExtentAndZ(l,u,n),t(u,a))return!0;--u}return!1}},{key:"getExtent",value:function(){return this.extent_}},{key:"getMaxZoom",value:function(){return this.maxZoom}},{key:"getMinZoom",value:function(){return this.minZoom}},{key:"getOrigin",value:function(e){return this.origin_?this.origin_:this.origins_[e]}},{key:"getResolution",value:function(e){return this.resolutions_[e]}},{key:"getResolutions",value:function(){return this.resolutions_}},{key:"getTileCoordChildTileRange",value:function(e,t,n){if(e[0]<this.maxZoom){if(2===this.zoomFactor_){var r=2*e[1],a=2*e[2];return Object(i.a)(r,r+1,a,a+1,t)}var o=this.getTileCoordExtent(e,n);return this.getTileRangeForExtentAndZ(o,e[0]+1,t)}return null}},{key:"getTileRangeExtent",value:function(e,t,n){var i=this.getOrigin(e),r=this.getResolution(e),a=Object(c.d)(this.getTileSize(e),this.tmpSize_),o=i[0]+t.minX*a[0]*r,l=i[0]+(t.maxX+1)*a[0]*r,u=i[1]+t.minY*a[1]*r,h=i[1]+(t.maxY+1)*a[1]*r;return Object(s.l)(o,u,l,h,n)}},{key:"getTileRangeForExtentAndZ",value:function(e,t,n){var r=h;this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,r);var a=r[1],o=r[2];return this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,r),Object(i.a)(a,r[1],o,r[2],n)}},{key:"getTileCoordCenter",value:function(e){var t=this.getOrigin(e[0]),n=this.getResolution(e[0]),i=Object(c.d)(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*i[0]*n,t[1]-(e[2]+.5)*i[1]*n]}},{key:"getTileCoordExtent",value:function(e,t){var n=this.getOrigin(e[0]),i=this.getResolution(e[0]),r=Object(c.d)(this.getTileSize(e[0]),this.tmpSize_),a=n[0]+e[1]*r[0]*i,o=n[1]-(e[2]+1)*r[1]*i,l=a+r[0]*i,u=o+r[1]*i;return Object(s.l)(a,o,l,u,t)}},{key:"getTileCoordForCoordAndResolution",value:function(e,t,n){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,n)}},{key:"getTileCoordForXYAndResolution_",value:function(e,t,n,i,r){var a=this.getZForResolution(n),o=n/this.getResolution(a),s=this.getOrigin(a),u=Object(c.d)(this.getTileSize(a),this.tmpSize_),h=i?.5:0,d=Math.floor((e-s[0])/n+(i?.5:0)),f=Math.floor((s[1]-t)/n+h),p=o*d/u[0],m=o*f/u[1];return i?(p=Math.ceil(p)-1,m=Math.ceil(m)-1):(p=Math.floor(p),m=Math.floor(m)),Object(l.a)(a,p,m,r)}},{key:"getTileCoordForXYAndZ_",value:function(e,t,n,i,r){var a=this.getOrigin(n),o=this.getResolution(n),s=Object(c.d)(this.getTileSize(n),this.tmpSize_),u=i?.5:0,h=Math.floor((e-a[0])/o+(i?.5:0)),d=Math.floor((a[1]-t)/o+u),f=h/s[0],p=d/s[1];return i?(f=Math.ceil(f)-1,p=Math.ceil(p)-1):(f=Math.floor(f),p=Math.floor(p)),Object(l.a)(n,f,p,r)}},{key:"getTileCoordForCoordAndZ",value:function(e,t,n){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,n)}},{key:"getTileCoordResolution",value:function(e){return this.resolutions_[e[0]]}},{key:"getTileSize",value:function(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}},{key:"getFullTileRange",value:function(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}},{key:"getZForResolution",value:function(e,t){var n=Object(u.h)(this.resolutions_,e,t||0);return Object(o.a)(n,this.minZoom,this.maxZoom)}},{key:"calculateTileRanges_",value:function(e){for(var t=this.resolutions_.length,n=new Array(t),i=this.minZoom;i<t;++i)n[i]=this.getTileRangeForExtentAndZ(e,i);this.fullTileRanges_=n}}]),e}()},"G7/A":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},r={};r[i.DEGREES]=2*Math.PI*6370997/360,r[i.FEET]=.3048,r[i.METERS]=1,r[i.USFEET]=1200/3937,t.b=i},GLbD:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r});var i="1.3.0",r={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1}},GMCd:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return l});var i=n("tFPJ"),r=n("4yuk"),a=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:function(e){return e}}),o=" ".concat(r.f," "),s=function(){function e(t,n,i,r){_(this,e),this.strings=t,this.values=n,this.type=i,this.processor=r}return y(e,[{key:"getHTML",value:function(){for(var e=this.strings.length-1,t="",n=!1,i=0;i<e;i++){var a=this.strings[i],s=a.lastIndexOf("\x3c!--");n=(s>-1||n)&&-1===a.indexOf("--\x3e",s+1);var l=r.e.exec(a);t+=null===l?a+(n?o:r.g):a.substr(0,l.index)+l[1]+l[2]+r.b+l[3]+r.f}return t+=this.strings[e]}},{key:"getTemplateElement",value:function(){var e=document.createElement("template"),t=this.getHTML();return void 0!==a&&(t=a.createHTML(t)),e.innerHTML=t,e}}]),e}(),l=function(e){b(n,e);var t=T(n);function n(){return _(this,n),t.apply(this,arguments)}return y(n,[{key:"getHTML",value:function(){return"<svg>".concat(v(C(n.prototype),"getHTML",this).call(this),"</svg>")}},{key:"getTemplateElement",value:function(){var e=v(C(n.prototype),"getTemplateElement",this).call(this),t=e.content,r=t.firstChild;return t.removeChild(r),Object(i.c)(t,r.firstChild),e}}]),n}(s)},GS7A:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return r}),n.d(t,"d",function(){return p}),n.d(t,"e",function(){return s}),n.d(t,"f",function(){return h}),n.d(t,"g",function(){return l}),n.d(t,"h",function(){return c}),n.d(t,"i",function(){return u}),n.d(t,"j",function(){return d}),n.d(t,"k",function(){return o}),n.d(t,"l",function(){return m}),n.d(t,"m",function(){return v});var i=function e(){_(this,e)},r=function e(){_(this,e)},a="*";function o(e,t){return{type:7,name:e,definitions:t,options:{}}}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:4,styles:t,timings:e}}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:e,options:t}}function u(e){return{type:6,styles:e,offset:null}}function c(e,t,n){return{type:0,name:e,styles:t,options:n}}function h(e){return{type:5,steps:e}}function d(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:1,expr:e,animation:t,options:n}}function f(e){Promise.resolve(null).then(e)}var p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_(this,e),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+n}return y(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var e=this;f(function(){return e._onFinish()})}},{key:"_onStart",value:function(){this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"reset",value:function(){}},{key:"setPosition",value:function(e){this._position=this.totalTime?e*this.totalTime:1}},{key:"getPosition",value:function(){return this.totalTime?this._position/this.totalTime:1}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(e){return e()}),t.length=0}}]),e}(),m=function(){function e(t){var n=this;_(this,e),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;var i=0,r=0,a=0,o=this.players.length;0==o?f(function(){return n._onFinish()}):this.players.forEach(function(e){e.onDone(function(){++i==o&&n._onFinish()}),e.onDestroy(function(){++r==o&&n._onDestroy()}),e.onStart(function(){++a==o&&n._onStart()})}),this.totalTime=this.players.reduce(function(e,t){return Math.max(e,t.totalTime)},0)}return y(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach(function(e){return e.init()})}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[])}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(function(e){return e.play()})}},{key:"pause",value:function(){this.players.forEach(function(e){return e.pause()})}},{key:"restart",value:function(){this.players.forEach(function(e){return e.restart()})}},{key:"finish",value:function(){this._onFinish(),this.players.forEach(function(e){return e.finish()})}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(function(e){return e.destroy()}),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach(function(e){return e.reset()}),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(e){var t=e*this.totalTime;this.players.forEach(function(e){var n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)})}},{key:"getPosition",value:function(){var e=this.players.reduce(function(e,t){return null===e||t.totalTime>e.totalTime?t:e},null);return null!=e?e.getPosition():0}},{key:"beforeDestroy",value:function(){this.players.forEach(function(e){e.beforeDestroy&&e.beforeDestroy()})}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(e){return e()}),t.length=0}}]),e}(),v="!"},GS9G:function(e,t,n){var i,r;void 0===(r="function"==typeof(i=function(){return{WPS_2_0:{n:"WPS_2_0",dens:"http://www.opengis.net/wps/2.0",deps:["OWS_2_0"],tis:[{ln:"OutputDescriptionType",bti:".DescriptionType",ps:[{n:"dataDescription",rq:!0,mx:!1,dom:!1,en:"DataDescription",ti:".DataDescriptionType",t:"er"},{n:"output",rq:!0,col:!0,en:"Output",ti:".OutputDescriptionType"}]},{ln:"DataOutputType",ps:[{n:"data",rq:!0,en:"Data",ti:".Data"},{n:"reference",rq:!0,en:"Reference",ti:".ReferenceType"},{n:"output",rq:!0,en:"Output",ti:".DataOutputType"},{n:"id",rq:!0,an:{lp:"id"},t:"a"}]},{ln:"WPSCapabilitiesType.Extension",tn:null,ps:[{n:"any",mno:0,col:!0,mx:!1,t:"ae"}]},{ln:"Dismiss",tn:null,bti:".RequestBaseType",ps:[{n:"jobID",rq:!0,en:"JobID"}]},{ln:"LiteralDataType",bti:".DataDescriptionType",ps:[{n:"literalDataDomain",rq:!0,col:!0,en:{lp:"LiteralDataDomain"},ti:".LiteralDataType.LiteralDataDomain"}]},{ln:"GetCapabilitiesType",bti:"OWS_2_0.GetCapabilitiesType",ps:[{n:"service",rq:!0,an:{lp:"service"},t:"a"}]},{ln:"Contents",tn:null,ps:[{n:"processSummary",rq:!0,col:!0,en:"ProcessSummary",ti:".ProcessSummaryType"}]},{ln:"DataInputType",ps:[{n:"data",rq:!0,en:"Data",ti:".Data"},{n:"reference",rq:!0,en:"Reference",ti:".ReferenceType"},{n:"input",rq:!0,col:!0,en:"Input",ti:".DataInputType"},{n:"id",rq:!0,an:{lp:"id"},t:"a"}]},{ln:"GetResult",tn:null,bti:".RequestBaseType",ps:[{n:"jobID",rq:!0,en:"JobID"}]},{ln:"SupportedCRS",tn:null,ps:[{n:"value",t:"v"},{n:"_default",ti:"Boolean",an:{lp:"default"},t:"a"}]},{ln:"LiteralDataDomainType",ps:[{n:"allowedValues",rq:!0,en:{lp:"AllowedValues",ns:"http://www.opengis.net/ows/2.0"},ti:"OWS_2_0.AllowedValues"},{n:"anyValue",rq:!0,en:{lp:"AnyValue",ns:"http://www.opengis.net/ows/2.0"},ti:"OWS_2_0.AnyValue"},{n:"valuesReference",rq:!0,en:{lp:"ValuesReference",ns:"http://www.opengis.net/ows/2.0"},ti:"OWS_2_0.ValuesReference"},{n:"dataType",en:{lp:"DataType",ns:"http://www.opengis.net/ows/2.0"},ti:"OWS_2_0.DomainMetadataType"},{n:"uom",en:{lp:"UOM",ns:"http://www.opengis.net/ows/2.0"},ti:"OWS_2_0.DomainMetadataType"},{n:"defaultValue",en:{lp:"DefaultValue",ns:"http://www.opengis.net/ows/2.0"},ti:"OWS_2_0.ValueType"}]},{ln:"DataDescriptionType",ps:[{n:"format",rq:!0,col:!0,en:"Format",ti:".Format"}]},{ln:"StatusInfo",tn:null,ps:[{n:"jobID",rq:!0,en:"JobID"},{n:"status",rq:!0,en:"Status"},{n:"expirationDate",en:"ExpirationDate",ti:"DateTime"},{n:"estimatedCompletion",en:"EstimatedCompletion",ti:"DateTime"},{n:"nextPoll",en:"NextPoll",ti:"DateTime"},{n:"percentCompleted",en:"PercentCompleted",ti:"Int"}]},{ln:"OutputDefinitionType",ps:[{n:"output",en:"Output",ti:".OutputDefinitionType"},{n:"id",rq:!0,an:{lp:"id"},t:"a"},{n:"transmission",an:{lp:"transmission"},t:"a"},{n:"mimeType",an:{lp:"mimeType"},t:"a"},{n:"encoding",an:{lp:"encoding"},t:"a"},{n:"schema",an:{lp:"schema"},t:"a"}]},{ln:"LiteralValue",tn:null,bti:"OWS_2_0.ValueType",ps:[{n:"dataType",an:{lp:"dataType"},t:"a"},{n:"uom",an:{lp:"uom"},t:"a"}]},{ln:"RequestBaseType",ps:[{n:"extension",mno:0,col:!0,en:"Extension",ti:"AnyType"},{n:"service",rq:!0,an:{lp:"service"},t:"a"},{n:"version",rq:!0,an:{lp:"version"},t:"a"}]},{ln:"LiteralDataType.LiteralDataDomain",tn:null,bti:".LiteralDataDomainType",ps:[{n:"_default",ti:"Boolean",an:{lp:"default"},t:"a"}]},{ln:"DescribeProcess",tn:null,bti:".RequestBaseType",ps:[{n:"identifier",rq:!0,col:!0,en:{lp:"Identifier",ns:"http://www.opengis.net/ows/2.0"},ti:"OWS_2_0.CodeType"},{n:"lang",an:{lp:"lang",ns:"http://www.w3.org/XML/1998/namespace"},t:"a"}]},{ln:"Result",tn:null,ps:[{n:"jobID",en:"JobID"},{n:"expirationDate",en:"ExpirationDate",ti:"DateTime"},{n:"output",rq:!0,col:!0,en:"Output",ti:".DataOutputType"}]},{ln:"GenericInputType",bti:".DescriptionType",ps:[{n:"input",mno:0,col:!0,en:"Input",ti:".GenericInputType"},{n:"minOccurs",ti:"NonNegativeInteger",an:{lp:"minOccurs"},t:"a"},{n:"maxOccurs",an:{lp:"maxOccurs"},t:"a"}]},{ln:"Data",tn:null,ps:[{n:"otherAttributes",t:"aa"},{n:"content",col:!0,t:"ae"},{n:"mimeType",an:{lp:"mimeType"},t:"a"},{n:"encoding",an:{lp:"encoding"},t:"a"},{n:"schema",an:{lp:"schema"},t:"a"}]},{ln:"Format",tn:null,ps:[{n:"mimeType",an:{lp:"mimeType"},t:"a"},{n:"encoding",an:{lp:"encoding"},t:"a"},{n:"schema",an:{lp:"schema"},t:"a"},{n:"maximumMegabytes",ti:"PositiveInteger",an:{lp:"maximumMegabytes"},t:"a"},{n:"_default",ti:"Boolean",an:{lp:"default"},t:"a"}]},{ln:"BoundingBoxData",tn:null,bti:".DataDescriptionType",ps:[{n:"supportedCRS",rq:!0,col:!0,en:"SupportedCRS",ti:".SupportedCRS"}]},{ln:"ProcessDescriptionType",bti:".DescriptionType",ps:[{n:"input",mno:0,col:!0,en:"Input",ti:".InputDescriptionType"},{n:"output",rq:!0,col:!0,en:"Output",ti:".OutputDescriptionType"},{n:"lang",an:{lp:"lang",ns:"http://www.w3.org/XML/1998/namespace"},t:"a"}]},{ln:"InputDescriptionType",bti:".DescriptionType",ps:[{n:"dataDescription",rq:!0,mx:!1,dom:!1,en:"DataDescription",ti:".DataDescriptionType",t:"er"},{n:"input",rq:!0,col:!0,en:"Input",ti:".InputDescriptionType"},{n:"minOccurs",ti:"NonNegativeInteger",an:{lp:"minOccurs"},t:"a"},{n:"maxOccurs",an:{lp:"maxOccurs"},t:"a"}]},{ln:"ProcessSummaryType",bti:".DescriptionType",ps:[{n:"jobControlOptions",rq:!0,ti:{t:"l"},an:{lp:"jobControlOptions"},t:"a"},{n:"outputTransmission",ti:{t:"l"},an:{lp:"outputTransmission"},t:"a"},{n:"processVersion",an:{lp:"processVersion"},t:"a"},{n:"processModel",an:{lp:"processModel"},t:"a"}]},{ln:"ReferenceType.BodyReference",tn:null,ps:[{n:"href",rq:!0,an:{lp:"href",ns:"http://www.w3.org/1999/xlink"},t:"a"}]},{ln:"ProcessOfferings",tn:null,ps:[{n:"processOffering",rq:!0,col:!0,en:"ProcessOffering",ti:".ProcessOffering"}]},{ln:"GenericOutputType",bti:".DescriptionType",ps:[{n:"output",mno:0,col:!0,en:"Output",ti:".GenericOutputType"}]},{ln:"ComplexDataType",bti:".DataDescriptionType",ps:[{n:"any",mno:0,col:!0,mx:!1,t:"ae"}]},{ln:"GenericProcessType",bti:".DescriptionType",ps:[{n:"input",mno:0,col:!0,en:"Input",ti:".GenericInputType"},{n:"output",rq:!0,col:!0,en:"Output",ti:".GenericOutputType"}]},{ln:"ReferenceType",ps:[{n:"body",rq:!0,en:"Body",ti:"AnyType"},{n:"bodyReference",rq:!0,en:"BodyReference",ti:".ReferenceType.BodyReference"},{n:"href",rq:!0,an:{lp:"href",ns:"http://www.w3.org/1999/xlink"},t:"a"},{n:"mimeType",an:{lp:"mimeType"},t:"a"},{n:"encoding",an:{lp:"encoding"},t:"a"},{n:"schema",an:{lp:"schema"},t:"a"}]},{ln:"GetStatus",tn:null,bti:".RequestBaseType",ps:[{n:"jobID",rq:!0,en:"JobID"}]},{ln:"ProcessOffering",tn:null,ps:[{n:"process",rq:!0,en:"Process",ti:".ProcessDescriptionType"},{n:"any",rq:!0,mx:!1,t:"ae"},{n:"jobControlOptions",rq:!0,ti:{t:"l"},an:{lp:"jobControlOptions"},t:"a"},{n:"outputTransmission",ti:{t:"l"},an:{lp:"outputTransmission"},t:"a"},{n:"processVersion",an:{lp:"processVersion"},t:"a"},{n:"processModel",an:{lp:"processModel"},t:"a"}]},{ln:"DescriptionType",bti:"OWS_2_0.BasicIdentificationType"},{ln:"ExecuteRequestType",bti:".RequestBaseType",ps:[{n:"identifier",rq:!0,en:{lp:"Identifier",ns:"http://www.opengis.net/ows/2.0"},ti:"OWS_2_0.CodeType"},{n:"input",mno:0,col:!0,en:"Input",ti:".DataInputType"},{n:"output",rq:!0,col:!0,en:"Output",ti:".OutputDefinitionType"},{n:"mode",rq:!0,an:{lp:"mode"},t:"a"},{n:"response",rq:!0,an:{lp:"response"},t:"a"}]},{ln:"WPSCapabilitiesType",bti:"OWS_2_0.CapabilitiesBaseType",ps:[{n:"contents",rq:!0,en:"Contents",ti:".Contents"},{n:"extension",en:"Extension",ti:".WPSCapabilitiesType.Extension"},{n:"service",rq:!0,ti:"AnySimpleType",an:{lp:"service"},t:"a"}]},{t:"enum",ln:"DataTransmissionModeType",vs:["value","reference"]}],eis:[{en:"BoundingBoxData",ti:".BoundingBoxData",sh:"DataDescription"},{en:"DataDescription",ti:".DataDescriptionType"},{en:"SupportedCRS",ti:".SupportedCRS"},{en:"ProcessOffering",ti:".ProcessOffering"},{en:"ExpirationDate",ti:"DateTime"},{en:"GetCapabilities",ti:".GetCapabilitiesType"},{en:"Process",ti:".ProcessDescriptionType"},{en:"LiteralValue",ti:".LiteralValue"},{en:"Result",ti:".Result"},{en:"LiteralData",ti:".LiteralDataType",sh:"DataDescription"},{en:"Contents",ti:".Contents"},{en:"DescribeProcess",ti:".DescribeProcess"},{en:"GenericProcess",ti:".GenericProcessType"},{en:"Execute",ti:".ExecuteRequestType"},{en:"GetStatus",ti:".GetStatus"},{en:"JobID"},{en:"Data",ti:".Data"},{en:"Capabilities",ti:".WPSCapabilitiesType"},{en:"Reference",ti:".ReferenceType"},{en:"ComplexData",ti:".ComplexDataType",sh:"DataDescription"},{en:"StatusInfo",ti:".StatusInfo"},{en:"Format",ti:".Format"},{en:"GetResult",ti:".GetResult"},{en:"Dismiss",ti:".Dismiss"},{en:"ProcessOfferings",ti:".ProcessOfferings"}]}}})?i.apply(t,[]):i)||(e.exports=r)},Gp2b:function(e,t,n){"use strict";t.a=function(){function e(t){_(this,e),this.type=t,this.target=null}return y(e,[{key:"preventDefault",value:function(){this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}]),e}()},Gufx:function(e,t,n){"use strict";var i=n("jnTo"),r=n("avWC"),a=n("bwl8"),o=n("Znq9"),s=n("FHfp");t.a=function(e){b(n,e);var t=T(n);function n(e){var i;_(this,n);var r=e||{},o=document.createElement("div");return o.className=void 0!==r.className?r.className:"ol-mouse-position",(i=t.call(this,{element:o,render:r.render,target:r.target})).addEventListener(Object(a.b)("projection"),i.handleProjectionChanged_),r.coordinateFormat&&i.setCoordinateFormat(r.coordinateFormat),r.projection&&i.setProjection(r.projection),i.undefinedHTML_=void 0!==r.undefinedHTML?r.undefinedHTML:"&#160;",i.renderOnMouseOut_=!!i.undefinedHTML_,i.renderedHTML_=o.innerHTML,i.mapProjection_=null,i.transform_=null,i}return y(n,[{key:"handleProjectionChanged_",value:function(){this.transform_=null}},{key:"getCoordinateFormat",value:function(){return this.get("coordinateFormat")}},{key:"getProjection",value:function(){return this.get("projection")}},{key:"handleMouseMove",value:function(e){var t=this.getMap();this.updateHTML_(t.getEventPixel(e))}},{key:"handleMouseOut",value:function(e){this.updateHTML_(null)}},{key:"setMap",value:function(e){if(v(C(n.prototype),"setMap",this).call(this,e),e){var t=e.getViewport();this.listenerKeys.push(Object(s.a)(t,r.a.POINTERMOVE,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push(Object(s.a)(t,r.a.POINTEROUT,this.handleMouseOut,this))}}},{key:"setCoordinateFormat",value:function(e){this.set("coordinateFormat",e)}},{key:"setProjection",value:function(e){this.set("projection",Object(o.i)(e))}},{key:"updateHTML_",value:function(e){var t=this.undefinedHTML_;if(e&&this.mapProjection_){if(!this.transform_){var n=this.getProjection();this.transform_=n?Object(o.l)(this.mapProjection_,n):o.n}var i=this.getMap().getCoordinateFromPixelInternal(e);if(i){var r=Object(o.m)();r&&(this.transform_=Object(o.l)(this.mapProjection_,r)),this.transform_(i,i);var a=this.getCoordinateFormat();t=a?a(i):i.toString()}}this.renderedHTML_&&t===this.renderedHTML_||(this.element.innerHTML=t,this.renderedHTML_=t)}},{key:"render",value:function(e){var t=e.frameState;t?this.mapProjection_!=t.viewState.projection&&(this.mapProjection_=t.viewState.projection,this.transform_=null):this.mapProjection_=null}}]),n}(i.a)},GyhO:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n("LRne"),r=n("bHdf");function a(){return Object(r.a)(1)(Object(i.a).apply(void 0,arguments))}},HDdC:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var i,r=n("7o/Q"),a=n("2QA8"),o=n("gRHU"),s=n("kJWO"),l=n("SpAZ"),u=n("2fFW"),c=((i=function(){function e(t){_(this,e),this._isScalar=!1,t&&(this._subscribe=t)}return y(e,[{key:"lift",value:function(t){var n=new e;return n.source=this,n.operator=t,n}},{key:"subscribe",value:function(e,t,n){var i=this.operator,s=function(e,t,n){if(e){if(e instanceof r.a)return e;if(e[a.a])return e[a.a]()}return e||t||n?new r.a(e,t,n):new r.a(o.a)}(e,t,n);if(s.add(i?i.call(s,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),u.a.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}},{key:"_trySubscribe",value:function(e){try{return this._subscribe(e)}catch(t){u.a.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e,n=t.closed,i=t.destination,a=t.isStopped;if(n||a)return!1;e=i&&i instanceof r.a?i:null}return!0}(e)?e.error(t):console.warn(t)}}},{key:"forEach",value:function(e,t){var n=this;return new(t=h(t))(function(t,i){var r;r=n.subscribe(function(t){try{e(t)}catch(n){i(n),r&&r.unsubscribe()}},i,t)})}},{key:"_subscribe",value:function(e){var t=this.source;return t&&t.subscribe(e)}},{key:s.a,value:function(){return this}},{key:"pipe",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?this:(0===(i=t).length?l.a:1===i.length?i[0]:function(e){return i.reduce(function(e,t){return t(e)},e)})(this);var i}},{key:"toPromise",value:function(e){var t=this;return new(e=h(e))(function(e,n){var i;t.subscribe(function(e){return i=e},function(e){return n(e)},function(){return e(i)})})}}]),e}()).create=function(e){return new i(e)},i);function h(e){if(e||(e=u.a.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},I55L:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},IAcf:function(e,t,n){"use strict";var i=n("9CgO"),r=n("Nr0W"),a=n("aBeY"),o=n("wEYg"),s=n("Dm0N"),l=n("rA9B"),u=n("i3ci"),c=n("hKKC"),h=n("2I+J");t.a=function(e){b(n,e);var t=T(n);function n(e){var i;return _(this,n),(i=t.call(this,{attributions:e.attributions,wrapX:e.wrapX})).resolution=void 0,i.distance=void 0!==e.distance?e.distance:20,i.features=[],i.geometryFunction=e.geometryFunction||function(e){var t=e.getGeometry();return Object(u.a)(t.getType()==a.a.POINT,10),t},i.boundRefresh_=i.refresh.bind(x(i)),i.setSource(e.source||null),i}return y(n,[{key:"clear",value:function(e){this.features.length=0,v(C(n.prototype),"clear",this).call(this,e)}},{key:"getDistance",value:function(){return this.distance}},{key:"getSource",value:function(){return this.source}},{key:"loadFeatures",value:function(e,t,n){this.source.loadFeatures(e,t,n),t!==this.resolution&&(this.clear(),this.resolution=t,this.cluster(),this.addFeatures(this.features))}},{key:"setDistance",value:function(e){this.distance=e,this.refresh()}},{key:"setSource",value:function(e){this.source&&this.source.removeEventListener(i.a.CHANGE,this.boundRefresh_),this.source=e,e&&e.addEventListener(i.a.CHANGE,this.boundRefresh_),this.refresh()}},{key:"refresh",value:function(){this.clear(),this.cluster(),this.addFeatures(this.features)}},{key:"cluster",value:function(){if(void 0!==this.resolution&&this.source)for(var e=Object(c.k)(),t=this.distance*this.resolution,n=this.source.getFeatures(),i={},r=0,a=n.length;r<a;r++){var o=n[r];if(!(Object(h.c)(o)in i)){var s=this.geometryFunction(o);if(s){var l=s.getCoordinates();Object(c.n)(l,e),Object(c.d)(e,t,e);var u=this.source.getFeaturesInExtent(e);u=u.filter(function(e){var t=Object(h.c)(e);return!(t in i)&&(i[t]=!0,!0)}),this.features.push(this.createCluster(u))}}}}},{key:"createCluster",value:function(e){for(var t=[0,0],n=e.length-1;n>=0;--n){var i=this.geometryFunction(e[n]);i?Object(l.a)(t,i.getCoordinates()):e.splice(n,1)}Object(l.f)(t,1/e.length);var a=new r.a(new o.a(t));return a.set("features",e),a}}]),n}(s.a)},IheW:function(e,t,n){"use strict";n.d(t,"a",function(){return I}),n.d(t,"b",function(){return W}),n.d(t,"c",function(){return p});var i=n("8Y7J"),r=n("LRne"),a=n("HDdC"),o=n("bOdf"),s=n("pLZG"),u=n("lJxs"),c=n("SVse"),h=function e(){_(this,e)},f=function e(){_(this,e)},p=function(){function e(t){var n=this;_(this,e),this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?function(){n.headers=new Map,t.split("\n").forEach(function(e){var t=e.indexOf(":");if(t>0){var i=e.slice(0,t),r=i.toLowerCase(),a=e.slice(t+1).trim();n.maybeSetNormalizedName(i,r),n.headers.has(r)?n.headers.get(r).push(a):n.headers.set(r,[a])}})}:function(){n.headers=new Map,Object.keys(t).forEach(function(e){var i=t[e],r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(n.headers.set(r,i),n.maybeSetNormalizedName(e,r))})}:this.headers=new Map}return y(e,[{key:"has",value:function(e){return this.init(),this.headers.has(e.toLowerCase())}},{key:"get",value:function(e){this.init();var t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(e){return this.init(),this.headers.get(e.toLowerCase())||null}},{key:"append",value:function(e,t){return this.clone({name:e,value:t,op:"a"})}},{key:"set",value:function(e,t){return this.clone({name:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({name:e,value:t,op:"d"})}},{key:"maybeSetNormalizedName",value:function(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}},{key:"init",value:function(){var t=this;this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(e){return t.applyUpdate(e)}),this.lazyUpdate=null))}},{key:"copyFrom",value:function(e){var t=this;e.init(),Array.from(e.headers.keys()).forEach(function(n){t.headers.set(n,e.headers.get(n)),t.normalizedNames.set(n,e.normalizedNames.get(n))})}},{key:"clone",value:function(t){var n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}},{key:"applyUpdate",value:function(e){var t=e.name.toLowerCase();switch(e.op){case"a":case"s":var n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);var i=("a"===e.op?this.headers.get(t):void 0)||[];i.push.apply(i,d(n)),this.headers.set(t,i);break;case"d":var r=e.value;if(r){var a=this.headers.get(t);if(!a)return;0===(a=a.filter(function(e){return-1===r.indexOf(e)})).length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,a)}else this.headers.delete(t),this.normalizedNames.delete(t)}}},{key:"forEach",value:function(e){var t=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(n){return e(t.normalizedNames.get(n),t.headers.get(n))})}}]),e}(),m=function(){function e(){_(this,e)}return y(e,[{key:"encodeKey",value:function(e){return v(e)}},{key:"encodeValue",value:function(e){return v(e)}},{key:"decodeKey",value:function(e){return decodeURIComponent(e)}},{key:"decodeValue",value:function(e){return decodeURIComponent(e)}}]),e}();function v(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var g=function(){function e(){var t,n,i,r=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(_(this,e),this.updates=null,this.cloneFrom=null,this.encoder=a.encoder||new m,a.fromString){if(a.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=(t=a.fromString,n=this.encoder,i=new Map,t.length>0&&t.replace(/^\?/,"").split("&").forEach(function(e){var t=e.indexOf("="),r=l(-1==t?[n.decodeKey(e),""]:[n.decodeKey(e.slice(0,t)),n.decodeValue(e.slice(t+1))],2),a=r[0],o=r[1],s=i.get(a)||[];s.push(o),i.set(a,s)}),i)}else a.fromObject?(this.map=new Map,Object.keys(a.fromObject).forEach(function(e){var t=a.fromObject[e];r.map.set(e,Array.isArray(t)?t:[t])})):this.map=null}return y(e,[{key:"has",value:function(e){return this.init(),this.map.has(e)}},{key:"get",value:function(e){this.init();var t=this.map.get(e);return t?t[0]:null}},{key:"getAll",value:function(e){return this.init(),this.map.get(e)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(e,t){return this.clone({param:e,value:t,op:"a"})}},{key:"appendAll",value:function(e){var t=[];return Object.keys(e).forEach(function(n){var i=e[n];Array.isArray(i)?i.forEach(function(e){t.push({param:n,value:e,op:"a"})}):t.push({param:n,value:i,op:"a"})}),this.clone(t)}},{key:"set",value:function(e,t){return this.clone({param:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({param:e,value:t,op:"d"})}},{key:"toString",value:function(){var e=this;return this.init(),this.keys().map(function(t){var n=e.encoder.encodeKey(t);return e.map.get(t).map(function(t){return n+"="+e.encoder.encodeValue(t)}).join("&")}).filter(function(e){return""!==e}).join("&")}},{key:"clone",value:function(t){var n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}},{key:"init",value:function(){var e=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(t){return e.map.set(t,e.cloneFrom.map.get(t))}),this.updates.forEach(function(t){switch(t.op){case"a":case"s":var n=("a"===t.op?e.map.get(t.param):void 0)||[];n.push(t.value),e.map.set(t.param,n);break;case"d":if(void 0===t.value){e.map.delete(t.param);break}var i=e.map.get(t.param)||[],r=i.indexOf(t.value);-1!==r&&i.splice(r,1),i.length>0?e.map.set(t.param,i):e.map.delete(t.param)}}),this.cloneFrom=this.updates=null)}}]),e}();function S(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function w(e){return"undefined"!=typeof Blob&&e instanceof Blob}function x(e){return"undefined"!=typeof FormData&&e instanceof FormData}var E=function(){function e(t,n,i,r){var a;if(_(this,e),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,a=r):a=i,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.params&&(this.params=a.params)),this.headers||(this.headers=new p),this.params){var o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{var s=n.indexOf("?");this.urlWithParams=n+(-1===s?"?":s<n.length-1?"&":"")+o}}else this.params=new g,this.urlWithParams=n}return y(e,[{key:"serializeBody",value:function(){return null===this.body?null:S(this.body)||w(this.body)||x(this.body)||"string"==typeof this.body?this.body:this.body instanceof g?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||x(this.body)?null:w(this.body)?this.body.type||null:S(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof g?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}},{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,a=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress,l=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce(function(e,n){return e.set(n,t.setHeaders[n])},l)),t.setParams&&(u=Object.keys(t.setParams).reduce(function(e,n){return e.set(n,t.setParams[n])},u)),new e(n,i,a,{params:u,headers:l,reportProgress:s,responseType:r,withCredentials:o})}}]),e}(),C=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}({}),k=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";_(this,e),this.headers=t.headers||new p,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300},M=function(e){b(n,e);var t=T(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _(this,n),(e=t.call(this,i)).type=C.ResponseHeader,e}return y(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(k),O=function(e){b(n,e);var t=T(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _(this,n),(e=t.call(this,i)).type=C.Response,e.body=void 0!==i.body?i.body:null,e}return y(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(k),A=function(e){b(n,e);var t=T(n);function n(e){var i;return _(this,n),(i=t.call(this,e,0,"Unknown Error")).name="HttpErrorResponse",i.ok=!1,i.message=i.status>=200&&i.status<300?"Http failure during parsing for ".concat(e.url||"(unknown url)"):"Http failure response for ".concat(e.url||"(unknown url)",": ").concat(e.status," ").concat(e.statusText),i.error=e.error||null,i}return n}(k);function R(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}var I=function(){var e=function(){function e(t){_(this,e),this.handler=t}return y(e,[{key:"request",value:function(e,t){var n,i,a,l=this,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e instanceof E?n=e:(i=c.headers instanceof p?c.headers:new p(c.headers),c.params&&(a=c.params instanceof g?c.params:new g({fromObject:c.params})),n=new E(e,t,void 0!==c.body?c.body:null,{headers:i,params:a,reportProgress:c.reportProgress,responseType:c.responseType||"json",withCredentials:c.withCredentials}));var h=Object(r.a)(n).pipe(Object(o.a)(function(e){return l.handler.handle(e)}));if(e instanceof E||"events"===c.observe)return h;var d=h.pipe(Object(s.a)(function(e){return e instanceof O}));switch(c.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return d.pipe(Object(u.a)(function(e){if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return d.pipe(Object(u.a)(function(e){if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return d.pipe(Object(u.a)(function(e){if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return d.pipe(Object(u.a)(function(e){return e.body}))}case"response":return d;default:throw new Error("Unreachable: unhandled observe type ".concat(c.observe,"}"))}}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",e,t)}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",e,t)}},{key:"head",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",e,t)}},{key:"jsonp",value:function(e,t){return this.request("JSONP",e,{params:(new g).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",e,t)}},{key:"patch",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",e,R(n,t))}},{key:"post",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",e,R(n,t))}},{key:"put",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",e,R(n,t))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Ub(h))},e.\u0275prov=i.Gb({token:e,factory:e.\u0275fac}),e}(),L=function(){function e(t,n){_(this,e),this.next=t,this.interceptor=n}return y(e,[{key:"handle",value:function(e){return this.interceptor.intercept(e,this.next)}}]),e}(),P=new i.r("HTTP_INTERCEPTORS"),D=function(){var e=function(){function e(){_(this,e)}return y(e,[{key:"intercept",value:function(e,t){return t.handle(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Gb({token:e,factory:e.\u0275fac}),e}(),N=/^\)\]\}',?\n/,j=function e(){_(this,e)},F=function(){var e=function(){function e(){_(this,e)}return y(e,[{key:"build",value:function(){return new XMLHttpRequest}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Gb({token:e,factory:e.\u0275fac}),e}(),U=function(){var e=function(){function e(t){_(this,e),this.xhrFactory=t}return y(e,[{key:"handle",value:function(e){var t=this;if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new a.a(function(n){var i=t.xhrFactory.build();if(i.open(e.method,e.urlWithParams),e.withCredentials&&(i.withCredentials=!0),e.headers.forEach(function(e,t){return i.setRequestHeader(e,t.join(","))}),e.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){var r=e.detectContentTypeHeader();null!==r&&i.setRequestHeader("Content-Type",r)}if(e.responseType){var a=e.responseType.toLowerCase();i.responseType="json"!==a?a:"text"}var o=e.serializeBody(),s=null,l=function(){if(null!==s)return s;var t=1223===i.status?204:i.status,n=i.statusText||"OK",r=new p(i.getAllResponseHeaders()),a=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(i)||e.url;return s=new M({headers:r,status:t,statusText:n,url:a})},u=function(){var t=l(),r=t.headers,a=t.status,o=t.statusText,s=t.url,u=null;204!==a&&(u=void 0===i.response?i.responseText:i.response),0===a&&(a=u?200:0);var c=a>=200&&a<300;if("json"===e.responseType&&"string"==typeof u){var h=u;u=u.replace(N,"");try{u=""!==u?JSON.parse(u):null}catch(d){u=h,c&&(c=!1,u={error:d,text:u})}}c?(n.next(new O({body:u,headers:r,status:a,statusText:o,url:s||void 0})),n.complete()):n.error(new A({error:u,headers:r,status:a,statusText:o,url:s||void 0}))},c=function(e){var t=l().url,r=new A({error:e,status:i.status||0,statusText:i.statusText||"Unknown Error",url:t||void 0});n.error(r)},h=!1,d=function(t){h||(n.next(l()),h=!0);var r={type:C.DownloadProgress,loaded:t.loaded};t.lengthComputable&&(r.total=t.total),"text"===e.responseType&&i.responseText&&(r.partialText=i.responseText),n.next(r)},f=function(e){var t={type:C.UploadProgress,loaded:e.loaded};e.lengthComputable&&(t.total=e.total),n.next(t)};return i.addEventListener("load",u),i.addEventListener("error",c),i.addEventListener("timeout",c),i.addEventListener("abort",c),e.reportProgress&&(i.addEventListener("progress",d),null!==o&&i.upload&&i.upload.addEventListener("progress",f)),i.send(o),n.next({type:C.Sent}),function(){i.removeEventListener("error",c),i.removeEventListener("abort",c),i.removeEventListener("load",u),i.removeEventListener("timeout",c),e.reportProgress&&(i.removeEventListener("progress",d),null!==o&&i.upload&&i.upload.removeEventListener("progress",f)),i.readyState!==i.DONE&&i.abort()}})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Ub(j))},e.\u0275prov=i.Gb({token:e,factory:e.\u0275fac}),e}(),G=new i.r("XSRF_COOKIE_NAME"),V=new i.r("XSRF_HEADER_NAME"),B=function e(){_(this,e)},z=function(){var e=function(){function e(t,n,i){_(this,e),this.doc=t,this.platform=n,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return y(e,[{key:"getToken",value:function(){if("server"===this.platform)return null;var e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Object(c.E)(e,this.cookieName),this.lastCookieString=e),this.lastToken}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Ub(c.d),i.Ub(i.C),i.Ub(G))},e.\u0275prov=i.Gb({token:e,factory:e.\u0275fac}),e}(),H=function(){var e=function(){function e(t,n){_(this,e),this.tokenService=t,this.headerName=n}return y(e,[{key:"intercept",value:function(e,t){var n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);var i=this.tokenService.getToken();return null===i||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,i)})),t.handle(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Ub(B),i.Ub(V))},e.\u0275prov=i.Gb({token:e,factory:e.\u0275fac}),e}(),X=function(){var e=function(){function e(t,n){_(this,e),this.backend=t,this.injector=n,this.chain=null}return y(e,[{key:"handle",value:function(e){if(null===this.chain){var t=this.injector.get(P,[]);this.chain=t.reduceRight(function(e,t){return new L(e,t)},this.backend)}return this.chain.handle(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Ub(f),i.Ub(i.s))},e.\u0275prov=i.Gb({token:e,factory:e.\u0275fac}),e}(),q=function(){var e=function(){function e(){_(this,e)}return y(e,null,[{key:"disable",value:function(){return{ngModule:e,providers:[{provide:H,useClass:D}]}}},{key:"withOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:e,providers:[t.cookieName?{provide:G,useValue:t.cookieName}:[],t.headerName?{provide:V,useValue:t.headerName}:[]]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.Ib({type:e}),e.\u0275inj=i.Hb({providers:[H,{provide:P,useExisting:H,multi:!0},{provide:B,useClass:z},{provide:G,useValue:"XSRF-TOKEN"},{provide:V,useValue:"X-XSRF-TOKEN"}]}),e}(),W=function(){var e=function e(){_(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.Ib({type:e}),e.\u0275inj=i.Hb({providers:[I,{provide:h,useClass:X},U,{provide:f,useExisting:U},F,{provide:j,useExisting:F}],imports:[[q.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),e}()},IjjT:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=function(){var e=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.now;_(this,e),this.SchedulerAction=t,this.now=n}return y(e,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,e).schedule(n,t)}}]),e}();return e.now=function(){return Date.now()},e}(),r=function(e){b(n,e);var t=T(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.now;return _(this,n),(r=t.call(this,e,function(){return n.delegate&&n.delegate!==x(r)?n.delegate.now():a()})).actions=[],r.active=!1,r.scheduled=void 0,r}return y(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(e,t,i):v(C(n.prototype),"schedule",this).call(this,e,t,i)}},{key:"flush",value:function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}}]),n}(i)},IzEk:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("7o/Q"),r=n("4I5i"),a=n("EY2u");function o(e){return function(t){return 0===e?Object(a.b)():t.lift(new s(e))}}var s=function(){function e(t){if(_(this,e),this.total=t,this.total<0)throw new r.a}return y(e,[{key:"call",value:function(e,t){return t.subscribe(new l(e,this.total))}}]),e}(),l=function(e){b(n,e);var t=T(n);function n(e,i){var r;return _(this,n),(r=t.call(this,e)).total=i,r.count=0,r}return y(n,[{key:"_next",value:function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}]),n}(i.a)},JS5d:function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"e",function(){return a}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s});var i={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},r=[i.FILL],a=[i.STROKE],o=[i.BEGIN_PATH],s=[i.CLOSE_PATH];t.c=i},JX91:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n("GyhO"),r=n("z+Ro");function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t[t.length-1];return Object(r.a)(a)?(t.pop(),function(e){return Object(i.a)(t,e,a)}):function(e){return Object(i.a)(t,e)}}},JaUx:function(e,t,n){e.exports=function(){"use strict";function e(e,i,r,a,o){!function e(n,i,r,a,o){for(;a>r;){if(a-r>600){var s=a-r+1,l=i-r+1,u=Math.log(s),c=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*c*(s-c)/s)*(l-s/2<0?-1:1);e(n,i,Math.max(r,Math.floor(i-l*c/s+h)),Math.min(a,Math.floor(i+(s-l)*c/s+h)),o)}var d=n[i],f=r,p=a;for(t(n,r,i),o(n[a],d)>0&&t(n,r,a);f<p;){for(t(n,f,p),f++,p--;o(n[f],d)<0;)f++;for(;o(n[p],d)>0;)p--}0===o(n[r],d)?t(n,r,p):t(n,++p,a),p<=i&&(r=p+1),i<=p&&(a=p-1)}}(e,i,r||0,a||e.length-1,o||n)}function t(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function n(e,t){return e<t?-1:e>t?1:0}var i=function(e){void 0===e&&(e=9),this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function r(e,t,n){if(!n)return t.indexOf(e);for(var i=0;i<t.length;i++)if(n(e,t[i]))return i;return-1}function a(e,t){o(e,0,e.children.length,t,e)}function o(e,t,n,i,r){r||(r=p(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var a=t;a<n;a++){var o=e.children[a];s(r,e.leaf?i(o):o)}return r}function s(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function l(e,t){return e.minX-t.minX}function u(e,t){return e.minY-t.minY}function c(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function h(e){return e.maxX-e.minX+(e.maxY-e.minY)}function d(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function f(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function p(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function m(t,n,i,r,a){for(var o=[n,i];o.length;)if(!((i=o.pop())-(n=o.pop())<=r)){var s=n+Math.ceil((i-n)/r/2)*r;e(t,s,n,i,a),o.push(n,s,s,i)}}return i.prototype.all=function(){return this._all(this.data,[])},i.prototype.search=function(e){var t=this.data,n=[];if(!f(e,t))return n;for(var i=this.toBBox,r=[];t;){for(var a=0;a<t.children.length;a++){var o=t.children[a],s=t.leaf?i(o):o;f(e,s)&&(t.leaf?n.push(o):d(e,s)?this._all(o,n):r.push(o))}t=r.pop()}return n},i.prototype.collides=function(e){var t=this.data;if(!f(e,t))return!1;for(var n=[];t;){for(var i=0;i<t.children.length;i++){var r=t.children[i],a=t.leaf?this.toBBox(r):r;if(f(e,a)){if(t.leaf||d(e,a))return!0;n.push(r)}}t=n.pop()}return!1},i.prototype.load=function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0;t<e.length;t++)this.insert(e[t]);return this}var n=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var i=this.data;this.data=n,n=i}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},i.prototype.insert=function(e){return e&&this._insert(e,this.data.height-1),this},i.prototype.clear=function(){return this.data=p([]),this},i.prototype.remove=function(e,t){if(!e)return this;for(var n,i,a,o=this.data,s=this.toBBox(e),l=[],u=[];o||l.length;){if(o||(o=l.pop(),i=l[l.length-1],n=u.pop(),a=!0),o.leaf){var c=r(e,o.children,t);if(-1!==c)return o.children.splice(c,1),l.push(o),this._condense(l),this}a||o.leaf||!d(o,s)?i?(n++,o=i.children[n],a=!1):o=null:(l.push(o),u.push(n),n=0,i=o,o=o.children[0])}return this},i.prototype.toBBox=function(e){return e},i.prototype.compareMinX=function(e,t){return e.minX-t.minX},i.prototype.compareMinY=function(e,t){return e.minY-t.minY},i.prototype.toJSON=function(){return this.data},i.prototype.fromJSON=function(e){return this.data=e,this},i.prototype._all=function(e,t){for(var n=[];e;)e.leaf?t.push.apply(t,e.children):n.push.apply(n,e.children),e=n.pop();return t},i.prototype._build=function(e,t,n,i){var r,o=n-t+1,s=this._maxEntries;if(o<=s)return a(r=p(e.slice(t,n+1)),this.toBBox),r;i||(i=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,i-1))),(r=p([])).leaf=!1,r.height=i;var l=Math.ceil(o/s),u=l*Math.ceil(Math.sqrt(s));m(e,t,n,u,this.compareMinX);for(var c=t;c<=n;c+=u){var h=Math.min(c+u-1,n);m(e,c,h,l,this.compareMinY);for(var d=c;d<=h;d+=l){var f=Math.min(d+l-1,h);r.children.push(this._build(e,d,f,i-1))}}return a(r,this.toBBox),r},i.prototype._chooseSubtree=function(e,t,n,i){for(;i.push(t),!t.leaf&&i.length-1!==n;){for(var r=1/0,a=1/0,o=void 0,s=0;s<t.children.length;s++){var l=t.children[s],u=c(l),h=(d=e,f=l,(Math.max(f.maxX,d.maxX)-Math.min(f.minX,d.minX))*(Math.max(f.maxY,d.maxY)-Math.min(f.minY,d.minY))-u);h<a?(a=h,r=u<r?u:r,o=l):h===a&&u<r&&(r=u,o=l)}t=o||t.children[0]}var d,f;return t},i.prototype._insert=function(e,t,n){var i=n?e:this.toBBox(e),r=[],a=this._chooseSubtree(i,this.data,t,r);for(a.children.push(e),s(a,i);t>=0&&r[t].children.length>this._maxEntries;)this._split(r,t),t--;this._adjustParentBBoxes(i,r,t)},i.prototype._split=function(e,t){var n=e[t],i=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,i);var o=this._chooseSplitIndex(n,r,i),s=p(n.children.splice(o,n.children.length-o));s.height=n.height,s.leaf=n.leaf,a(n,this.toBBox),a(s,this.toBBox),t?e[t-1].children.push(s):this._splitRoot(n,s)},i.prototype._splitRoot=function(e,t){this.data=p([e,t]),this.data.height=e.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},i.prototype._chooseSplitIndex=function(e,t,n){for(var i,r,a,s,l,u,h,d=1/0,f=1/0,p=t;p<=n-t;p++){var m=o(e,0,p,this.toBBox),v=o(e,p,n,this.toBBox),g=(r=m,a=v,s=Math.max(r.minX,a.minX),l=Math.max(r.minY,a.minY),u=Math.min(r.maxX,a.maxX),h=Math.min(r.maxY,a.maxY),Math.max(0,u-s)*Math.max(0,h-l)),y=c(m)+c(v);g<d?(d=g,i=p,f=y<f?y:f):g===d&&y<f&&(f=y,i=p)}return i||n-t},i.prototype._chooseSplitAxis=function(e,t,n){var i=e.leaf?this.compareMinX:l,r=e.leaf?this.compareMinY:u;this._allDistMargin(e,t,n,i)<this._allDistMargin(e,t,n,r)&&e.children.sort(i)},i.prototype._allDistMargin=function(e,t,n,i){e.children.sort(i);for(var r=this.toBBox,a=o(e,0,t,r),l=o(e,n-t,n,r),u=h(a)+h(l),c=t;c<n-t;c++){var d=e.children[c];s(a,e.leaf?r(d):d),u+=h(a)}for(var f=n-t-1;f>=t;f--){var p=e.children[f];s(l,e.leaf?r(p):p),u+=h(l)}return u},i.prototype._adjustParentBBoxes=function(e,t,n){for(var i=n;i>=0;i--)s(t[i],e)},i.prototype._condense=function(e){for(var t=e.length-1,n=void 0;t>=0;t--)0===e[t].children.length?t>0?(n=e[t-1].children).splice(n.indexOf(e[t]),1):this.clear():a(e[t],this.toBBox)},i}()},JlTo:function(e,t,n){"use strict";var i=n("zmPu"),r=n("gB+7");t.a=function(e){b(n,e);var t=T(n);function n(e){return _(this,n),t.call(this,e)}return y(n,[{key:"createRenderer",value:function(){return new r.a(this)}}]),n}(i.a)},Kj3r:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n("7o/Q"),r=n("D0XW");function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.a;return function(n){return n.lift(new o(e,t))}}var o=function(){function e(t,n){_(this,e),this.dueTime=t,this.scheduler=n}return y(e,[{key:"call",value:function(e,t){return t.subscribe(new s(e,this.dueTime,this.scheduler))}}]),e}(),s=function(e){b(n,e);var t=T(n);function n(e,i,r){var a;return _(this,n),(a=t.call(this,e)).dueTime=i,a.scheduler=r,a.debouncedSubscription=null,a.lastValue=null,a.hasValue=!1,a}return y(n,[{key:"_next",value:function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(l,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}},{key:"clearDebounce",value:function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}]),n}(i.a);function l(e){e.debouncedNext()}},L3Wi:function(e,t,n){"use strict";function i(e,t,n,i,r){for(var a=void 0!==r?r:[],o=0,s=t;s<n;s+=i)a[o++]=e.slice(s,s+i);return a.length=o,a}function r(e,t,n,r,a){for(var o=void 0!==a?a:[],s=0,l=0,u=n.length;l<u;++l){var c=n[l];o[s++]=i(e,t,c,r,o[s]),t=c}return o.length=s,o}function a(e,t,n,i,a){for(var o=void 0!==a?a:[],s=0,l=0,u=n.length;l<u;++l){var c=n[l];o[s++]=r(e,t,c,i,o[s]),t=c[c.length-1]}return o.length=s,o}n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return a})},LRne:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("z+Ro"),r=n("yCtX"),a=n("jZKg");function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=t[t.length-1];return Object(i.a)(o)?(t.pop(),Object(a.a)(t,o)):Object(r.a)(t)}},"LV+m":function(e,t,n){"use strict";function i(e,t,n){return Math.min(Math.max(e,t),n)}n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r}),n.d(t,"d",function(){return a}),n.d(t,"h",function(){return o}),n.d(t,"g",function(){return s}),n.d(t,"f",function(){return l}),n.d(t,"i",function(){return u}),n.d(t,"j",function(){return c}),n.d(t,"e",function(){return h}),n.d(t,"c",function(){return d});var r="cosh"in Math?Math.cosh:function(e){var t=Math.exp(e);return(t+1/t)/2},a="log2"in Math?Math.log2:function(e){return Math.log(e)*Math.LOG2E};function o(e,t,n,i,r,a){var o=r-n,l=a-i;if(0!==o||0!==l){var u=((e-n)*o+(t-i)*l)/(o*o+l*l);u>1?(n=r,i=a):u>0&&(n+=o*u,i+=l*u)}return s(e,t,n,i)}function s(e,t,n,i){var r=n-e,a=i-t;return r*r+a*a}function l(e){for(var t=e.length,n=0;n<t;n++){for(var i=n,r=Math.abs(e[n][n]),a=n+1;a<t;a++){var o=Math.abs(e[a][n]);o>r&&(r=o,i=a)}if(0===r)return null;var s=e[i];e[i]=e[n],e[n]=s;for(var l=n+1;l<t;l++)for(var u=-e[l][n]/e[n][n],c=n;c<t+1;c++)n==c?e[l][c]=0:e[l][c]+=u*e[n][c]}for(var h=new Array(t),d=t-1;d>=0;d--){h[d]=e[d][t]/e[d][d];for(var f=d-1;f>=0;f--)e[f][t]-=e[f][d]*h[d]}return h}function u(e){return 180*e/Math.PI}function c(e){return e*Math.PI/180}function h(e,t){var n=e%t;return n*t<0?n+t:n}function d(e,t,n){return e+n*(t-e)}},LXzw:function(e,t,n){"use strict";var i=n("Nr0W"),r=n("giCN"),a=n("aBeY"),o=n("43os"),s=n("X87I"),l=n("2cyL"),u=n("W74l"),c=n("7tkq"),h=n("wEYg"),d=n("gOFd"),f=n("i3ci"),p=n("Bpkx"),m=n("Znq9"),v=n("c73X");function g(e,t){if(!e)return null;var n;switch(e.type){case a.a.POINT:n=function(e){return new h.a(e.coordinates)}(e);break;case a.a.LINE_STRING:n=function(e){return new s.a(e.coordinates)}(e);break;case a.a.POLYGON:n=function(e){return new d.a(e.coordinates)}(e);break;case a.a.MULTI_POINT:n=function(e){return new u.a(e.coordinates)}(e);break;case a.a.MULTI_LINE_STRING:n=function(e){return new l.a(e.coordinates)}(e);break;case a.a.MULTI_POLYGON:n=function(e){return new c.a(e.coordinates)}(e);break;case a.a.GEOMETRY_COLLECTION:n=function(e,t){var n=e.geometries.map(function(e){return g(e,void 0)});return new r.a(n)}(e);break;default:throw new Error("Unsupported GeoJSON type: "+e.type)}return Object(v.b)(n,!1,t)}function S(e,t){var n,i=(e=Object(v.b)(e,!0,t)).getType();switch(i){case a.a.POINT:n=function(e,t){return{type:"Point",coordinates:e.getCoordinates()}}(e);break;case a.a.LINE_STRING:n=function(e,t){return{type:"LineString",coordinates:e.getCoordinates()}}(e);break;case a.a.POLYGON:n=function(e,t){var n;return t&&(n=t.rightHanded),{type:"Polygon",coordinates:e.getCoordinates(n)}}(e,t);break;case a.a.MULTI_POINT:n=function(e,t){return{type:"MultiPoint",coordinates:e.getCoordinates()}}(e);break;case a.a.MULTI_LINE_STRING:n=function(e,t){return{type:"MultiLineString",coordinates:e.getCoordinates()}}(e);break;case a.a.MULTI_POLYGON:n=function(e,t){var n;return t&&(n=t.rightHanded),{type:"MultiPolygon",coordinates:e.getCoordinates(n)}}(e,t);break;case a.a.GEOMETRY_COLLECTION:n=function(e,t){return{type:"GeometryCollection",geometries:e.getGeometriesArray().map(function(e){var n=Object(p.a)({},t);return delete n.featureProjection,S(e,n)})}}(e,t);break;case a.a.CIRCLE:n={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+i)}return n}t.a=function(e){b(n,e);var t=T(n);function n(e){var i;_(this,n);var r=e||{};return(i=t.call(this)).dataProjection=Object(m.i)(r.dataProjection?r.dataProjection:"EPSG:4326"),r.featureProjection&&(i.defaultFeatureProjection=Object(m.i)(r.featureProjection)),i.geometryName_=r.geometryName,i.extractGeometryName_=r.extractGeometryName,i}return y(n,[{key:"readFeatureFromObject",value:function(e,t){var n,r=g((n="Feature"===e.type?e:{type:"Feature",geometry:e,properties:null}).geometry,t),a=new i.a;return this.geometryName_?a.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in n!==void 0&&a.setGeometryName(n.geometry_name),a.setGeometry(r),"id"in n&&a.setId(n.id),n.properties&&a.setProperties(n.properties,!0),a}},{key:"readFeaturesFromObject",value:function(e,t){var n=null;if("FeatureCollection"===e.type){n=[];for(var i=e.features,r=0,a=i.length;r<a;++r)n.push(this.readFeatureFromObject(i[r],t))}else n=[this.readFeatureFromObject(e,t)];return n}},{key:"readGeometryFromObject",value:function(e,t){return g(e,t)}},{key:"readProjectionFromObject",value:function(e){var t,n=e.crs;return n?"name"==n.type?t=Object(m.i)(n.properties.name):"EPSG"===n.type?t=Object(m.i)("EPSG:"+n.properties.code):Object(f.a)(!1,36):t=this.dataProjection,t}},{key:"writeFeatureObject",value:function(e,t){t=this.adaptOptions(t);var n={type:"Feature",geometry:null,properties:null},i=e.getId();if(void 0!==i&&(n.id=i),!e.hasProperties())return n;var r=e.getProperties(),a=e.getGeometry();return a&&(n.geometry=S(a,t),delete r[e.getGeometryName()]),Object(p.d)(r)||(n.properties=r),n}},{key:"writeFeaturesObject",value:function(e,t){t=this.adaptOptions(t);for(var n=[],i=0,r=e.length;i<r;++i)n.push(this.writeFeatureObject(e[i],t));return{type:"FeatureCollection",features:n}}},{key:"writeGeometryObject",value:function(e,t){return S(e,this.adaptOptions(t))}}]),n}(o.a)},Lhse:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},LuQ5:function(e,t,n){var i,r;void 0===(r="function"==typeof(i=function(){return{WPS_1_0_0:{n:"WPS_1_0_0",dens:"http://www.opengis.net/wps/1.0.0",deps:["OWS_1_1_0"],tis:[{ln:"LiteralInputType",bti:".LiteralOutputType",ps:[{n:"allowedValues",rq:!0,en:{lp:"AllowedValues",ns:"http://www.opengis.net/ows/1.1"},ti:"OWS_1_1_0.AllowedValues"},{n:"anyValue",rq:!0,en:{lp:"AnyValue",ns:"http://www.opengis.net/ows/1.1"},ti:"OWS_1_1_0.AnyValue"},{n:"valuesReference",rq:!0,en:{lp:"ValuesReference"},ti:".ValuesReferenceType"},{n:"defaultValue",en:{lp:"DefaultValue"}}]},{ln:"OutputReferenceType",ps:[{n:"href",rq:!0,an:{lp:"href"},t:"a"},{n:"mimeType",an:{lp:"mimeType"},t:"a"},{n:"encoding",an:{lp:"encoding"},t:"a"},{n:"schema",an:{lp:"schema"},t:"a"}]},{ln:"ResponseFormType",ps:[{n:"responseDocument",rq:!0,en:"ResponseDocument",ti:".ResponseDocumentType"},{n:"rawDataOutput",rq:!0,en:"RawDataOutput",ti:".OutputDefinitionType"}]},{ln:"DataType",ps:[{n:"complexData",rq:!0,en:"ComplexData",ti:".ComplexDataType"},{n:"literalData",rq:!0,en:"LiteralData",ti:".LiteralDataType"},{n:"boundingBoxData",rq:!0,en:"BoundingBoxData",ti:"OWS_1_1_0.BoundingBoxType"}]},{ln:"ComplexDataCombinationsType",ps:[{n:"format",rq:!0,col:!0,en:{lp:"Format"},ti:".ComplexDataDescriptionType"}]},{ln:"ResponseDocumentType",ps:[{n:"output",rq:!0,col:!0,en:"Output",ti:".DocumentOutputDefinitionType"},{n:"storeExecuteResponse",ti:"Boolean",an:{lp:"storeExecuteResponse"},t:"a"},{n:"lineage",ti:"Boolean",an:{lp:"lineage"},t:"a"},{n:"status",ti:"Boolean",an:{lp:"status"},t:"a"}]},{ln:"ProcessDescriptionType.ProcessOutputs",tn:null,ps:[{n:"output",rq:!0,col:!0,en:{lp:"Output"},ti:".OutputDescriptionType"}]},{ln:"InputReferenceType.Header",tn:null,ps:[{n:"key",rq:!0,an:{lp:"key"},t:"a"},{n:"value",rq:!0,an:{lp:"value"},t:"a"}]},{ln:"ProcessOfferings",tn:null,ps:[{n:"process",rq:!0,col:!0,en:"Process",ti:".ProcessBriefType"}]},{ln:"SupportedComplexDataInputType",bti:".SupportedComplexDataType",ps:[{n:"maximumMegabytes",ti:"Integer",an:{lp:"maximumMegabytes"},t:"a"}]},{ln:"SupportedComplexDataType",ps:[{n:"_default",rq:!0,en:{lp:"Default"},ti:".ComplexDataCombinationType"},{n:"supported",rq:!0,en:{lp:"Supported"},ti:".ComplexDataCombinationsType"}]},{ln:"ValuesReferenceType",ps:[{n:"reference",an:{lp:"reference",ns:"http://www.opengis.net/ows/1.1"},t:"a"},{n:"valuesForm",an:{lp:"valuesForm"},t:"a"}]},{ln:"ComplexDataType",ps:[{n:"otherAttributes",t:"aa"},{n:"content",col:!0,t:"ae"},{n:"mimeType",an:{lp:"mimeType"},t:"a"},{n:"encoding",an:{lp:"encoding"},t:"a"},{n:"schema",an:{lp:"schema"},t:"a"}]},{ln:"ProcessBriefType",bti:".DescriptionType",ps:[{n:"profile",mno:0,col:!0,en:"Profile"},{n:"wsdl",en:"WSDL",ti:".WSDL"},{n:"processVersion",rq:!0,an:{lp:"processVersion",ns:"http://www.opengis.net/wps/1.0.0"},t:"a"}]},{ln:"Languages",tn:null,ps:[{n:"_default",rq:!0,en:"Default",ti:".Languages.Default"},{n:"supported",rq:!0,en:"Supported",ti:".LanguagesType"}]},{ln:"ExecuteResponse.ProcessOutputs",tn:null,ps:[{n:"output",rq:!0,col:!0,en:"Output",ti:".OutputDataType"}]},{ln:"DescriptionType",ps:[{n:"identifier",rq:!0,en:{lp:"Identifier",ns:"http://www.opengis.net/ows/1.1"},ti:"OWS_1_1_0.CodeType"},{n:"title",rq:!0,en:{lp:"Title",ns:"http://www.opengis.net/ows/1.1"},ti:"OWS_1_1_0.LanguageStringType"},{n:"_abstract",en:{lp:"Abstract",ns:"http://www.opengis.net/ows/1.1"},ti:"OWS_1_1_0.LanguageStringType"},{n:"metadata",mno:0,col:!0,en:{lp:"Metadata",ns:"http://www.opengis.net/ows/1.1"},ti:"OWS_1_1_0.MetadataType"}]},{ln:"WPSCapabilitiesType",bti:"OWS_1_1_0.CapabilitiesBaseType",ps:[{n:"processOfferings",rq:!0,en:"ProcessOfferings",ti:".ProcessOfferings"},{n:"languages",rq:!0,en:"Languages",ti:".Languages"},{n:"wsdl",en:"WSDL",ti:".WSDL"},{n:"service",rq:!0,ti:"AnySimpleType",an:{lp:"service"},t:"a"},{n:"lang",rq:!0,an:{lp:"lang",ns:"http://www.w3.org/XML/1998/namespace"},t:"a"}]},{ln:"ProcessStartedType",ps:[{n:"value",t:"v"},{n:"percentCompleted",ti:"Int",an:{lp:"percentCompleted"},t:"a"}]},{ln:"DescribeProcess",tn:null,bti:".RequestBaseType",ps:[{n:"identifier",rq:!0,col:!0,en:{lp:"Identifier",ns:"http://www.opengis.net/ows/1.1"},ti:"OWS_1_1_0.CodeType"}]},{ln:"OutputDescriptionType",bti:".DescriptionType",ps:[{n:"complexOutput",rq:!0,en:{lp:"ComplexOutput"},ti:".SupportedComplexDataType"},{n:"literalOutput",rq:!0,en:{lp:"LiteralOutput"},ti:".LiteralOutputType"},{n:"boundingBoxOutput",rq:!0,en:{lp:"BoundingBoxOutput"},ti:".SupportedCRSsType"}]},{ln:"ProcessDescriptions",tn:null,bti:".ResponseBaseType",ps:[{n:"processDescription",rq:!0,col:!0,en:{lp:"ProcessDescription"},ti:".ProcessDescriptionType"}]},{ln:"InputDescriptionType",bti:".DescriptionType",ps:[{n:"complexData",rq:!0,en:{lp:"ComplexData"},ti:".SupportedComplexDataInputType"},{n:"literalData",rq:!0,en:{lp:"LiteralData"},ti:".LiteralInputType"},{n:"boundingBoxData",rq:!0,en:{lp:"BoundingBoxData"},ti:".SupportedCRSsType"},{n:"minOccurs",rq:!0,ti:"NonNegativeInteger",an:{lp:"minOccurs"},t:"a"},{n:"maxOccurs",rq:!0,ti:"PositiveInteger",an:{lp:"maxOccurs"},t:"a"}]},{ln:"RequestBaseType",ps:[{n:"service",rq:!0,an:{lp:"service"},t:"a"},{n:"version",rq:!0,an:{lp:"version"},t:"a"},{n:"language",an:{lp:"language"},t:"a"}]},{ln:"InputReferenceType",ps:[{n:"header",mno:0,col:!0,en:"Header",ti:".InputReferenceType.Header"},{n:"body",rq:!0,en:"Body",ti:"AnyType"},{n:"bodyReference",rq:!0,en:"BodyReference",ti:".InputReferenceType.BodyReference"},{n:"href",rq:!0,an:{lp:"href",ns:"http://www.w3.org/1999/xlink"},t:"a"},{n:"method",an:{lp:"method"},t:"a"},{n:"mimeType",an:{lp:"mimeType"},t:"a"},{n:"encoding",an:{lp:"encoding"},t:"a"},{n:"schema",an:{lp:"schema"},t:"a"}]},{ln:"LiteralOutputType",ps:[{n:"dataType",en:{lp:"DataType",ns:"http://www.opengis.net/ows/1.1"},ti:"OWS_1_1_0.DomainMetadataType"},{n:"uoMs",en:{lp:"UOMs"},ti:".SupportedUOMsType"}]},{ln:"ProcessDescriptionType",bti:".ProcessBriefType",ps:[{n:"dataInputs",en:{lp:"DataInputs"},ti:".ProcessDescriptionType.DataInputs"},{n:"processOutputs",rq:!0,en:{lp:"ProcessOutputs"},ti:".ProcessDescriptionType.ProcessOutputs"},{n:"storeSupported",ti:"Boolean",an:{lp:"storeSupported"},t:"a"},{n:"statusSupported",ti:"Boolean",an:{lp:"statusSupported"},t:"a"}]},{ln:"StatusType",ps:[{n:"processAccepted",rq:!0,en:"ProcessAccepted"},{n:"processStarted",rq:!0,en:"ProcessStarted",ti:".ProcessStartedType"},{n:"processPaused",rq:!0,en:"ProcessPaused",ti:".ProcessStartedType"},{n:"processSucceeded",rq:!0,en:"ProcessSucceeded"},{n:"processFailed",rq:!0,en:"ProcessFailed",ti:".ProcessFailedType"},{n:"creationTime",rq:!0,ti:"DateTime",an:{lp:"creationTime"},t:"a"}]},{ln:"UOMsType",ps:[{n:"uom",rq:!0,col:!0,en:{lp:"UOM",ns:"http://www.opengis.net/ows/1.1"},ti:"OWS_1_1_0.DomainMetadataType"}]},{ln:"ComplexDataCombinationType",ps:[{n:"format",rq:!0,en:{lp:"Format"},ti:".ComplexDataDescriptionType"}]},{ln:"CRSsType",ps:[{n:"crs",rq:!0,col:!0,en:{lp:"CRS"}}]},{ln:"LiteralDataType",ps:[{n:"value",t:"v"},{n:"dataType",an:{lp:"dataType"},t:"a"},{n:"uom",an:{lp:"uom"},t:"a"}]},{ln:"Execute",tn:null,bti:".RequestBaseType",ps:[{n:"identifier",rq:!0,en:{lp:"Identifier",ns:"http://www.opengis.net/ows/1.1"},ti:"OWS_1_1_0.CodeType"},{n:"dataInputs",en:"DataInputs",ti:".DataInputsType"},{n:"responseForm",en:"ResponseForm",ti:".ResponseFormType"}]},{ln:"ComplexDataDescriptionType",ps:[{n:"mimeType",rq:!0,en:{lp:"MimeType"}},{n:"encoding",en:{lp:"Encoding"}},{n:"schema",en:{lp:"Schema"}}]},{ln:"SupportedCRSsType.Default",tn:null,ps:[{n:"crs",rq:!0,en:{lp:"CRS"}}]},{ln:"ExecuteResponse",tn:null,bti:".ResponseBaseType",ps:[{n:"process",rq:!0,en:"Process",ti:".ProcessBriefType"},{n:"status",rq:!0,en:"Status",ti:".StatusType"},{n:"dataInputs",en:"DataInputs",ti:".DataInputsType"},{n:"outputDefinitions",en:"OutputDefinitions",ti:".OutputDefinitionsType"},{n:"processOutputs",en:"ProcessOutputs",ti:".ExecuteResponse.ProcessOutputs"},{n:"serviceInstance",rq:!0,an:{lp:"serviceInstance"},t:"a"},{n:"statusLocation",an:{lp:"statusLocation"},t:"a"}]},{ln:"SupportedUOMsType.Default",tn:null,ps:[{n:"uom",rq:!0,en:{lp:"UOM",ns:"http://www.opengis.net/ows/1.1"},ti:"OWS_1_1_0.DomainMetadataType"}]},{ln:"ProcessFailedType",ps:[{n:"exceptionReport",rq:!0,en:{lp:"ExceptionReport",ns:"http://www.opengis.net/ows/1.1"},ti:"OWS_1_1_0.ExceptionReport"}]},{ln:"LanguagesType",ps:[{n:"language",rq:!0,col:!0,en:{lp:"Language",ns:"http://www.opengis.net/ows/1.1"},ti:"Language"}]},{ln:"OutputDefinitionsType",ps:[{n:"output",rq:!0,col:!0,en:"Output",ti:".DocumentOutputDefinitionType"}]},{ln:"WSDL",tn:null,ps:[{n:"href",rq:!0,an:{lp:"href",ns:"http://www.w3.org/1999/xlink"},t:"a"}]},{ln:"SupportedUOMsType",ps:[{n:"_default",rq:!0,en:{lp:"Default"},ti:".SupportedUOMsType.Default"},{n:"supported",rq:!0,en:{lp:"Supported"},ti:".UOMsType"}]},{ln:"InputReferenceType.BodyReference",tn:null,ps:[{n:"href",rq:!0,an:{lp:"href",ns:"http://www.w3.org/1999/xlink"},t:"a"}]},{ln:"DataInputsType",ps:[{n:"input",rq:!0,col:!0,en:"Input",ti:".InputType"}]},{ln:"SupportedCRSsType",ps:[{n:"_default",rq:!0,en:{lp:"Default"},ti:".SupportedCRSsType.Default"},{n:"supported",rq:!0,en:{lp:"Supported"},ti:".CRSsType"}]},{ln:"Languages.Default",tn:null,ps:[{n:"language",rq:!0,en:{lp:"Language",ns:"http://www.opengis.net/ows/1.1"},ti:"Language"}]},{ln:"DocumentOutputDefinitionType",bti:".OutputDefinitionType",ps:[{n:"title",en:{lp:"Title",ns:"http://www.opengis.net/ows/1.1"},ti:"OWS_1_1_0.LanguageStringType"},{n:"_abstract",en:{lp:"Abstract",ns:"http://www.opengis.net/ows/1.1"},ti:"OWS_1_1_0.LanguageStringType"},{n:"asReference",ti:"Boolean",an:{lp:"asReference"},t:"a"}]},{ln:"ProcessDescriptionType.DataInputs",tn:null,ps:[{n:"input",rq:!0,col:!0,en:{lp:"Input"},ti:".InputDescriptionType"}]},{ln:"OutputDefinitionType",ps:[{n:"identifier",rq:!0,en:{lp:"Identifier",ns:"http://www.opengis.net/ows/1.1"},ti:"OWS_1_1_0.CodeType"},{n:"uom",an:{lp:"uom"},t:"a"},{n:"mimeType",an:{lp:"mimeType"},t:"a"},{n:"encoding",an:{lp:"encoding"},t:"a"},{n:"schema",an:{lp:"schema"},t:"a"}]},{ln:"OutputDataType",bti:".DescriptionType",ps:[{n:"reference",rq:!0,en:"Reference",ti:".OutputReferenceType"},{n:"data",rq:!0,en:"Data",ti:".DataType"}]},{ln:"InputType",ps:[{n:"identifier",rq:!0,en:{lp:"Identifier",ns:"http://www.opengis.net/ows/1.1"},ti:"OWS_1_1_0.CodeType"},{n:"title",en:{lp:"Title",ns:"http://www.opengis.net/ows/1.1"},ti:"OWS_1_1_0.LanguageStringType"},{n:"_abstract",en:{lp:"Abstract",ns:"http://www.opengis.net/ows/1.1"},ti:"OWS_1_1_0.LanguageStringType"},{n:"reference",rq:!0,en:"Reference",ti:".InputReferenceType"},{n:"data",rq:!0,en:"Data",ti:".DataType"}]},{ln:"ResponseBaseType",ps:[{n:"service",rq:!0,an:{lp:"service"},t:"a"},{n:"version",rq:!0,an:{lp:"version"},t:"a"},{n:"lang",rq:!0,an:{lp:"lang",ns:"http://www.w3.org/XML/1998/namespace"},t:"a"}]},{ln:"GetCapabilities",tn:null,ps:[{n:"acceptVersions",en:"AcceptVersions",ti:"OWS_1_1_0.AcceptVersionsType"},{n:"service",rq:!0,an:{lp:"service"},t:"a"},{n:"language",an:{lp:"language"},t:"a"}]}],eis:[{en:"ExecuteResponse",ti:".ExecuteResponse"},{en:"WSDL",ti:".WSDL"},{en:"Languages",ti:".Languages"},{en:"Capabilities",ti:".WPSCapabilitiesType"},{en:"GetCapabilities",ti:".GetCapabilities"},{en:"ProcessDescriptions",ti:".ProcessDescriptions"},{en:"Execute",ti:".Execute"},{en:"ProcessOfferings",ti:".ProcessOfferings"},{en:"DescribeProcess",ti:".DescribeProcess"}]}}})?i.apply(t,[]):i)||(e.exports=r)},Lwyg:function(e,t,n){"use strict";t.a={POINT:"point",LINE:"line"}},Lz6x:function(e,t,n){"use strict";var i=n("aBeY"),r=n("n2w5"),a=n("hKKC"),o=n("oWEL"),s=n("1Ggo"),l=n("Znq9"),u=n("2lJZ"),c=n("broj"),h=n("k/Gk"),d=Object(r.c)(),f=function(){function e(t,n,i,r,a){_(this,e),this.id_=a,this.type_=t,this.flatCoordinates_=n,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=i,this.properties_=r}return y(e,[{key:"get",value:function(e){return this.properties_[e]}},{key:"getExtent",value:function(){return this.extent_||(this.extent_=this.type_===i.a.POINT?Object(a.n)(this.flatCoordinates_):Object(a.p)(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}},{key:"getFlatInteriorPoint",value:function(){if(!this.flatInteriorPoints_){var e=Object(a.y)(this.getExtent());this.flatInteriorPoints_=Object(s.a)(this.flatCoordinates_,0,this.ends_,2,e,0)}return this.flatInteriorPoints_}},{key:"getFlatInteriorPoints",value:function(){if(!this.flatInteriorPoints_){var e=Object(c.a)(this.flatCoordinates_,0,this.ends_,2);this.flatInteriorPoints_=Object(s.b)(this.flatCoordinates_,0,this.ends_,2,e)}return this.flatInteriorPoints_}},{key:"getFlatMidpoint",value:function(){return this.flatMidpoints_||(this.flatMidpoints_=Object(u.a)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}},{key:"getFlatMidpoints",value:function(){if(!this.flatMidpoints_){this.flatMidpoints_=[];for(var e=this.flatCoordinates_,t=0,n=this.ends_,i=0,r=n.length;i<r;++i){var a=n[i],s=Object(u.a)(e,t,a,2,.5);Object(o.c)(this.flatMidpoints_,s),t=a}}return this.flatMidpoints_}},{key:"getId",value:function(){return this.id_}},{key:"getOrientedFlatCoordinates",value:function(){return this.flatCoordinates_}},{key:"getGeometry",value:function(){return this}},{key:"getSimplifiedGeometry",value:function(e){return this}},{key:"simplifyTransformed",value:function(e,t){return this}},{key:"getProperties",value:function(){return this.properties_}},{key:"getStride",value:function(){return 2}},{key:"getStyleFunction",value:function(){}},{key:"getType",value:function(){return this.type_}},{key:"transform",value:function(e){var t=(e=Object(l.i)(e)).getExtent(),n=e.getWorldExtent();if(t&&n){var i=Object(a.B)(n)/Object(a.B)(t);Object(r.b)(d,n[0],n[3],i,-i,0,0,0),Object(h.c)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,d,this.flatCoordinates_)}}},{key:"getEnds",value:function(){return this.ends_}}]),e}();f.prototype.getEndss=f.prototype.getEnds,f.prototype.getFlatCoordinates=f.prototype.getOrientedFlatCoordinates,t.a=f},"M/FA":function(e,t,n){"use strict";var i=n("GLbD"),r=n("7MqJ"),a=n("MvdC"),o=n("oY2l"),s=n("i3ci"),l=n("Bpkx"),u=n("hKKC"),c=n("dvVV"),h=n("i907"),d=n("j5yL"),f=n("Znq9"),p=n("LV+m"),m=n("UMcu");t.a=function(e){b(n,e);var t=T(n);function n(e){var i;_(this,n);var r=e||{},a=r.params||{};return(i=t.call(this,{attributions:r.attributions,cacheSize:r.cacheSize,crossOrigin:r.crossOrigin,imageSmoothing:r.imageSmoothing,opaque:!(!("TRANSPARENT"in a)||a.TRANSPARENT),projection:r.projection,reprojectionErrorThreshold:r.reprojectionErrorThreshold,tileClass:r.tileClass,tileGrid:r.tileGrid,tileLoadFunction:r.tileLoadFunction,url:r.url,urls:r.urls,wrapX:void 0===r.wrapX||r.wrapX,transition:r.transition})).gutter_=void 0!==r.gutter?r.gutter:0,i.params_=a,i.v13_=!0,i.serverType_=r.serverType,i.hidpi_=void 0===r.hidpi||r.hidpi,i.tmpExtent_=Object(u.k)(),i.updateV13_(),i.setKey(i.getKeyForParams_()),i}return y(n,[{key:"getFeatureInfoUrl",value:function(e,t,n,r){var a=Object(f.i)(n),o=this.getProjection(),s=this.getTileGrid();s||(s=this.getTileGridForProjection(a));var d=s.getZForResolution(t,this.zDirection),p=s.getTileCoordForCoordAndZ(e,d);if(!(s.getResolutions().length<=p[0])){var m=s.getResolution(p[0]),v=s.getTileCoordExtent(p,this.tmpExtent_),g=Object(c.d)(s.getTileSize(p[0]),this.tmpSize),y=this.gutter_;0!==y&&(g=Object(c.a)(g,y,this.tmpSize),v=Object(u.d)(v,m*y,v)),o&&o!==a&&(m=Object(h.b)(o,a,e,m),v=Object(f.r)(v,a,o),e=Object(f.q)(e,a,o));var _={SERVICE:"WMS",VERSION:i.a,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};Object(l.a)(_,this.params_,r);var b=Math.floor((e[0]-v[0])/m),S=Math.floor((v[3]-e[1])/m);return _[this.v13_?"I":"X"]=b,_[this.v13_?"J":"Y"]=S,this.getRequestUrl_(p,g,v,1,o||a,_)}}},{key:"getLegendUrl",value:function(e,t){if(void 0!==this.urls[0]){var n={SERVICE:"WMS",VERSION:i.a,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===t||void 0===t.LAYER){var r=this.params_.LAYERS;if(Array.isArray(r)&&1!==r.length)return;n.LAYER=r}if(void 0!==e){var a=this.getProjection()?this.getProjection().getMetersPerUnit():1;n.SCALE=e*a/28e-5}return Object(l.a)(n,t),Object(o.a)(this.urls[0],n)}}},{key:"getGutter",value:function(){return this.gutter_}},{key:"getParams",value:function(){return this.params_}},{key:"getRequestUrl_",value:function(e,t,n,i,r,l){var u=this.urls;if(u){if(l.WIDTH=t[0],l.HEIGHT=t[1],l[this.v13_?"CRS":"SRS"]=r.getCode(),"STYLES"in this.params_||(l.STYLES=""),1!=i)switch(this.serverType_){case a.a.GEOSERVER:var c=90*i+.5|0;"FORMAT_OPTIONS"in l?l.FORMAT_OPTIONS+=";dpi:"+c:l.FORMAT_OPTIONS="dpi:"+c;break;case a.a.MAPSERVER:l.MAP_RESOLUTION=90*i;break;case a.a.CARMENTA_SERVER:case a.a.QGIS:l.DPI=90*i;break;default:Object(s.a)(!1,52)}var h,d,f=r.getAxisOrientation(),v=n;if(this.v13_&&"ne"==f.substr(0,2))h=n[0],v[0]=n[1],v[1]=h,h=n[2],v[2]=n[3],v[3]=h;return l.BBOX=v.join(","),d=1==u.length?u[0]:u[Object(p.e)(Object(m.e)(e),u.length)],Object(o.a)(d,l)}}},{key:"getTilePixelRatio",value:function(e){return this.hidpi_&&void 0!==this.serverType_?e:1}},{key:"getKeyForParams_",value:function(){var e=0,t=[];for(var n in this.params_)t[e++]=n+"-"+this.params_[n];return t.join("/")}},{key:"updateParams",value:function(e){Object(l.a)(this.params_,e),this.updateV13_(),this.setKey(this.getKeyForParams_())}},{key:"updateV13_",value:function(){var e=this.params_.VERSION||i.a;this.v13_=Object(d.a)(e,"1.3")>=0}},{key:"tileUrlFunction",value:function(e,t,n){var r=this.getTileGrid();if(r||(r=this.getTileGridForProjection(n)),!(r.getResolutions().length<=e[0])){1==t||this.hidpi_&&void 0!==this.serverType_||(t=1);var a=r.getResolution(e[0]),o=r.getTileCoordExtent(e,this.tmpExtent_),s=Object(c.d)(r.getTileSize(e[0]),this.tmpSize),h=this.gutter_;0!==h&&(s=Object(c.a)(s,h,this.tmpSize),o=Object(u.d)(o,a*h,o)),1!=t&&(s=Object(c.c)(s,t,this.tmpSize));var d={SERVICE:"WMS",VERSION:i.a,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};return Object(l.a)(d,this.params_),this.getRequestUrl_(e,s,o,t,n,d)}}}]),n}(r.a)},Msoz:function(e,t,n){"use strict";var i=n("G7/A");t.a=function(){function e(t){_(this,e),this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}return y(e,[{key:"canWrapX",value:function(){return this.canWrapX_}},{key:"getCode",value:function(){return this.code_}},{key:"getExtent",value:function(){return this.extent_}},{key:"getUnits",value:function(){return this.units_}},{key:"getMetersPerUnit",value:function(){return this.metersPerUnit_||i.a[this.units_]}},{key:"getWorldExtent",value:function(){return this.worldExtent_}},{key:"getAxisOrientation",value:function(){return this.axisOrientation_}},{key:"isGlobal",value:function(){return this.global_}},{key:"setGlobal",value:function(e){this.global_=e,this.canWrapX_=!(!e||!this.extent_)}},{key:"getDefaultTileGrid",value:function(){return this.defaultTileGrid_}},{key:"setDefaultTileGrid",value:function(e){this.defaultTileGrid_=e}},{key:"setExtent",value:function(e){this.extent_=e,this.canWrapX_=!(!this.global_||!e)}},{key:"setWorldExtent",value:function(e){this.worldExtent_=e}},{key:"setGetPointResolution",value:function(e){this.getPointResolutionFunc_=e}},{key:"getPointResolutionFunc",value:function(){return this.getPointResolutionFunc_}}]),e}()},MtjB:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n("XNiG"),r=n("zx2A");function a(e){return function(t){return t.lift(new o(e,t))}}var o=function(){function e(t,n){_(this,e),this.notifier=t,this.source=n}return y(e,[{key:"call",value:function(e,t){return t.subscribe(new s(e,this.notifier,this.source))}}]),e}(),s=function(e){b(n,e);var t=T(n);function n(e,i,r){var a;return _(this,n),(a=t.call(this,e)).notifier=i,a.source=r,a}return y(n,[{key:"error",value:function(e){if(!this.isStopped){var t=this.errors,a=this.retries,o=this.retriesSubscription;if(a)this.errors=void 0,this.retriesSubscription=void 0;else{t=new i.a;try{a=(0,this.notifier)(t)}catch(s){return v(C(n.prototype),"error",this).call(this,s)}o=Object(r.c)(a,new r.a(this))}this._unsubscribeAndRecycle(),this.errors=t,this.retries=a,this.retriesSubscription=o,t.next(e)}}},{key:"_unsubscribe",value:function(){var e=this.errors,t=this.retriesSubscription;e&&(e.unsubscribe(),this.errors=void 0),t&&(t.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}},{key:"notifyNext",value:function(){var e=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=e,this.source.subscribe(this)}}]),n}(r.b)},MvdC:function(e,t,n){"use strict";t.a={CARMENTA_SERVER:"carmentaserver",GEOSERVER:"geoserver",MAPSERVER:"mapserver",QGIS:"qgis"}},NJ4a:function(e,t,n){"use strict";function i(e){setTimeout(function(){throw e},0)}n.d(t,"a",function(){return i})},NK00:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("Womt"),r=function(){function e(e){i.D.call(this,e),this.dracoLoader=null,this.ddsLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(e){return new s(e)}),this.register(function(e){return new u(e)}),this.register(function(e){return new c(e)}),this.register(function(e){return new l(e)}),this.register(function(e){return new a(e)}),this.register(function(e){return new h(e)})}function t(){var e={};return{get:function(t){return e[t]},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},removeAll:function(){e={}}}}e.prototype=Object.assign(Object.create(i.D.prototype),{constructor:e,load:function(e,t,n,r){var a,o=this;a=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:i.E.extractUrlBase(e),this.manager.itemStart(e);var s=function(t){r?r(t):console.error(t),o.manager.itemError(e),o.manager.itemEnd(e)},l=new i.n(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(n){try{o.parse(n,a,function(n){t(n),o.manager.itemEnd(e)},s)}catch(i){s(i)}},n,s)},setDRACOLoader:function(e){return this.dracoLoader=e,this},setDDSLoader:function(e){return this.ddsLoader=e,this},setKTX2Loader:function(e){return this.ktx2Loader=e,this},setMeshoptDecoder:function(e){return this.meshoptDecoder=e,this},register:function(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this},unregister:function(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this},parse:function(e,t,a,s){var l,u={},c={};if("string"==typeof e)l=e;else if(i.E.decodeText(new Uint8Array(e,0,4))===d){try{u[n.KHR_BINARY_GLTF]=new f(e)}catch(w){return void(s&&s(w))}l=u[n.KHR_BINARY_GLTF].content}else l=i.E.decodeText(new Uint8Array(e));var h=JSON.parse(l);if(void 0===h.asset||h.asset.version[0]<2)s&&s(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));else{var v=new I(h,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});v.fileLoader.setRequestHeader(this.requestHeader);for(var _=0;_<this.pluginCallbacks.length;_++){var b=this.pluginCallbacks[_](v);c[b.name]=b,u[b.name]=!0}if(h.extensionsUsed)for(_=0;_<h.extensionsUsed.length;++_){var S=h.extensionsUsed[_],T=h.extensionsRequired||[];switch(S){case n.KHR_MATERIALS_UNLIT:u[S]=new o;break;case n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:u[S]=new g;break;case n.KHR_DRACO_MESH_COMPRESSION:u[S]=new p(h,this.dracoLoader);break;case n.MSFT_TEXTURE_DDS:u[S]=new r(this.ddsLoader);break;case n.KHR_TEXTURE_TRANSFORM:u[S]=new m;break;case n.KHR_MESH_QUANTIZATION:u[S]=new y;break;default:T.indexOf(S)>=0&&void 0===c[S]&&console.warn('THREE.GLTFLoader: Unknown extension "'+S+'".')}}v.setExtensions(u),v.setPlugins(c),v.parse(a,s)}}});var n={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",MSFT_TEXTURE_DDS:"MSFT_texture_dds"};function r(e){if(!e)throw new Error("THREE.GLTFLoader: Attempting to load .dds texture without importing DDSLoader");this.name=n.MSFT_TEXTURE_DDS,this.ddsLoader=e}function a(e){this.parser=e,this.name=n.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}function o(){this.name=n.KHR_MATERIALS_UNLIT}function s(e){this.parser=e,this.name=n.KHR_MATERIALS_CLEARCOAT}function l(e){this.parser=e,this.name=n.KHR_MATERIALS_TRANSMISSION}function u(e){this.parser=e,this.name=n.KHR_TEXTURE_BASISU}function c(e){this.parser=e,this.name=n.EXT_TEXTURE_WEBP,this.isSupported=null}function h(e){this.name=n.EXT_MESHOPT_COMPRESSION,this.parser=e}a.prototype._markDefs=function(){for(var e=this.parser,t=this.parser.json.nodes||[],n=0,i=t.length;n<i;n++){var r=t[n];r.extensions&&r.extensions[this.name]&&void 0!==r.extensions[this.name].light&&e._addNodeRef(this.cache,r.extensions[this.name].light)}},a.prototype._loadLight=function(e){var t=this.parser,n="light:"+e,r=t.cache.get(n);if(r)return r;var a,o=t.json,s=((o.extensions&&o.extensions[this.name]||{}).lights||[])[e],l=new i.h(16777215);void 0!==s.color&&l.fromArray(s.color);var u=void 0!==s.range?s.range:0;switch(s.type){case"directional":(a=new i.j(l)).target.position.set(0,0,-1),a.add(a.target);break;case"point":(a=new i.W(l)).distance=u;break;case"spot":(a=new i.lb(l)).distance=u,s.spot=s.spot||{},s.spot.innerConeAngle=void 0!==s.spot.innerConeAngle?s.spot.innerConeAngle:0,s.spot.outerConeAngle=void 0!==s.spot.outerConeAngle?s.spot.outerConeAngle:Math.PI/4,a.angle=s.spot.outerConeAngle,a.penumbra=1-s.spot.innerConeAngle/s.spot.outerConeAngle,a.target.position.set(0,0,-1),a.add(a.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+s.type)}return a.position.set(0,0,0),a.decay=2,void 0!==s.intensity&&(a.intensity=s.intensity),a.name=t.createUniqueName(s.name||"light_"+e),r=Promise.resolve(a),t.cache.add(n,r),r},a.prototype.createNodeAttachment=function(e){var t=this,n=this.parser,i=n.json.nodes[e],r=(i.extensions&&i.extensions[this.name]||{}).light;return void 0===r?null:this._loadLight(r).then(function(e){return n._getNodeRef(t.cache,r,e)})},o.prototype.getMaterialType=function(){return i.K},o.prototype.extendParams=function(e,t,n){var r=[];e.color=new i.h(1,1,1),e.opacity=1;var a=t.pbrMetallicRoughness;if(a){if(Array.isArray(a.baseColorFactor)){var o=a.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}void 0!==a.baseColorTexture&&r.push(n.assignTexture(e,"map",a.baseColorTexture))}return Promise.all(r)},s.prototype.getMaterialType=function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?i.M:null},s.prototype.extendMaterialParams=function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var a=[],o=r.extensions[this.name];if(void 0!==o.clearcoatFactor&&(t.clearcoat=o.clearcoatFactor),void 0!==o.clearcoatTexture&&a.push(n.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),void 0!==o.clearcoatRoughnessFactor&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),void 0!==o.clearcoatRoughnessTexture&&a.push(n.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),void 0!==o.clearcoatNormalTexture&&(a.push(n.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),void 0!==o.clearcoatNormalTexture.scale)){var s=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new i.rb(s,-s)}return Promise.all(a)},l.prototype.getMaterialType=function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?i.M:null},l.prototype.extendMaterialParams=function(e,t){var n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();var r=[],a=i.extensions[this.name];return void 0!==a.transmissionFactor&&(t.transmission=a.transmissionFactor),void 0!==a.transmissionTexture&&r.push(n.assignTexture(t,"transmissionMap",a.transmissionTexture)),Promise.all(r)},u.prototype.loadTexture=function(e){var t=this.parser,n=t.json,i=n.textures[e];if(!i.extensions||!i.extensions[this.name])return null;var r=n.images[i.extensions[this.name].source],a=t.options.ktx2Loader;if(!a){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,r,a)},c.prototype.loadTexture=function(e){var t=this.name,n=this.parser,i=n.json,r=i.textures[e];if(!r.extensions||!r.extensions[t])return null;var a=i.images[r.extensions[t].source],o=a.uri?n.options.manager.getHandler(a.uri):n.textureLoader;return this.detectSupport().then(function(r){if(r)return n.loadTextureImage(e,a,o);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(e)})},c.prototype.detectSupport=function(){return this.isSupported||(this.isSupported=new Promise(function(e){var t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(1===t.height)}})),this.isSupported},h.prototype.loadBufferView=function(e){var t=this.parser.json,n=t.bufferViews[e];if(n.extensions&&n.extensions[this.name]){var i=n.extensions[this.name],r=this.parser.getDependency("buffer",i.buffer),a=this.parser.options.meshoptDecoder;if(!a||!a.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Promise.all([r,a.ready]).then(function(e){var t=i.byteOffset||0,n=i.byteLength||0,r=i.count,o=i.byteStride,s=new ArrayBuffer(r*o),l=new Uint8Array(e[0],t,n);return a.decodeGltfBuffer(new Uint8Array(s),r,o,l,i.mode,i.filter),s})}return null};var d="glTF";function f(e){this.name=n.KHR_BINARY_GLTF,this.content=null,this.body=null;var t=new DataView(e,0,12);if(this.header={magic:i.E.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==d)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");for(var r=this.header.length-12,a=new DataView(e,12),o=0;o<r;){var s=a.getUint32(o,!0),l=a.getUint32(o+=4,!0);if(o+=4,1313821514===l){var u=new Uint8Array(e,12+o,s);this.content=i.E.decodeText(u)}else if(5130562===l){var c=12+o;this.body=e.slice(c,c+s)}o+=s}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}function p(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=n.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}function m(){this.name=n.KHR_TEXTURE_TRANSFORM}function v(e){i.N.call(this),this.isGLTFSpecularGlossinessMaterial=!0;var t=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),n=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),r=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),a=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),o=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.specularRoughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.specularRoughness += geometryRoughness;","material.specularRoughness = min( material.specularRoughness, 1.0 );","material.specularColor = specularFactor;"].join("\n"),s={specular:{value:(new i.h).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=s,this.onBeforeCompile=function(e){for(var i in s)e.uniforms[i]=s[i];e.fragmentShader=e.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",t).replace("#include <metalnessmap_pars_fragment>",n).replace("#include <roughnessmap_fragment>",r).replace("#include <metalnessmap_fragment>",a).replace("#include <lights_physical_fragment>",o)},Object.defineProperties(this,{specular:{get:function(){return s.specular.value},set:function(e){s.specular.value=e}},specularMap:{get:function(){return s.specularMap.value},set:function(e){s.specularMap.value=e,e?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return s.glossiness.value},set:function(e){s.glossiness.value=e}},glossinessMap:{get:function(){return s.glossinessMap.value},set:function(e){s.glossinessMap.value=e,e?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}function g(){return{name:n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,specularGlossinessParams:["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"],getMaterialType:function(){return v},extendParams:function(e,t,n){var r=t.extensions[this.name];e.color=new i.h(1,1,1),e.opacity=1;var a=[];if(Array.isArray(r.diffuseFactor)){var o=r.diffuseFactor;e.color.fromArray(o),e.opacity=o[3]}if(void 0!==r.diffuseTexture&&a.push(n.assignTexture(e,"map",r.diffuseTexture)),e.emissive=new i.h(0,0,0),e.glossiness=void 0!==r.glossinessFactor?r.glossinessFactor:1,e.specular=new i.h(1,1,1),Array.isArray(r.specularFactor)&&e.specular.fromArray(r.specularFactor),void 0!==r.specularGlossinessTexture){var s=r.specularGlossinessTexture;a.push(n.assignTexture(e,"glossinessMap",s)),a.push(n.assignTexture(e,"specularMap",s))}return Promise.all(a)},createMaterial:function(e){var t=new v(e);return t.fog=!0,t.color=e.color,t.map=void 0===e.map?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=void 0===e.aoMap?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=1,t.emissiveMap=void 0===e.emissiveMap?null:e.emissiveMap,t.bumpMap=void 0===e.bumpMap?null:e.bumpMap,t.bumpScale=1,t.normalMap=void 0===e.normalMap?null:e.normalMap,t.normalMapType=i.nb,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=void 0===e.specularMap?null:e.specularMap,t.specular=e.specular,t.glossinessMap=void 0===e.glossinessMap?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=void 0===e.envMap?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t}}}function y(){this.name=n.KHR_MESH_QUANTIZATION}function _(e,t,n,r){i.t.call(this,e,t,n,r)}p.prototype.decodePrimitive=function(e,t){var n=this.json,i=this.dracoLoader,r=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,o={},s={},l={};for(var u in a){var c=x[u]||u.toLowerCase();o[c]=a[u]}for(u in e.attributes)if(c=x[u]||u.toLowerCase(),void 0!==a[u]){var h=n.accessors[e.attributes[u]];l[c]=b[h.componentType],s[c]=!0===h.normalized}return t.getDependency("bufferView",r).then(function(e){return new Promise(function(t){i.decodeDracoFile(e,function(e){for(var n in e.attributes){var i=s[n];void 0!==i&&(e.attributes[n].normalized=i)}t(e)},o,l)})})},m.prototype.extendTexture=function(e,t){return e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),void 0!==t.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),e.needsUpdate=!0,e},(v.prototype=Object.create(i.N.prototype)).constructor=v,v.prototype.copy=function(e){return i.N.prototype.copy.call(this,e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this},(_.prototype=Object.create(i.t.prototype)).constructor=_,_.prototype.beforeStart_=_.prototype.copySampleValue_=function(e){for(var t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=e*i*3+i,a=0;a!==i;a++)t[a]=n[r+a];return t},_.prototype.afterEnd_=_.prototype.copySampleValue_,_.prototype.interpolate_=function(e,t,n,i){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=2*o,l=3*o,u=i-t,c=(n-t)/u,h=c*c,d=h*c,f=e*l,p=f-l,m=-2*d+3*h,v=d-h,g=1-m,y=v-h+c,_=0;_!==o;_++)r[_]=g*a[p+_+o]+y*(a[p+_+s]*u)+m*a[f+_+o]+v*(a[f+_]*u);return r};var b={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},S={9728:i.P,9729:i.A,9984:i.R,9985:i.C,9986:i.Q,9987:i.B},T={33071:i.g,33648:i.O,10497:i.db},w={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},x={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},E={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},C={CUBICSPLINE:void 0,LINEAR:i.v,STEP:i.u};function k(e,t){return"string"!=typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}function M(e,t,n){for(var i in n.extensions)void 0===e[i]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[i]=n.extensions[i])}function O(e,t){void 0!==t.extras&&("object"==typeof t.extras?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function A(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(var n=0,i=t.weights.length;n<i;n++)e.morphTargetInfluences[n]=t.weights[n];if(t.extras&&Array.isArray(t.extras.targetNames)){var r=t.extras.targetNames;if(e.morphTargetInfluences.length===r.length)for(e.morphTargetDictionary={},n=0,i=r.length;n<i;n++)e.morphTargetDictionary[r[n]]=n;else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function R(e){for(var t="",n=Object.keys(e).sort(),i=0,r=n.length;i<r;i++)t+=n[i]+":"+e[n[i]]+";";return t}function I(e,n){this.json=e||{},this.extensions={},this.plugins={},this.options=n||{},this.cache=new t,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.nodeNamesUsed={},this.textureLoader="undefined"!=typeof createImageBitmap&&!1===/Firefox/.test(navigator.userAgent)?new i.q(this.options.manager):new i.ob(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.fileLoader=new i.n(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}function L(e,t,n){var r=t.attributes,a=[];function o(t,i){return n.getDependency("accessor",t).then(function(t){e.setAttribute(i,t)})}for(var s in r){var l=x[s]||s.toLowerCase();l in e.attributes||a.push(o(r[s],l))}if(void 0!==t.indices&&!e.index){var u=n.getDependency("accessor",t.indices).then(function(t){e.setIndex(t)});a.push(u)}return O(e,t),function(e,t,n){var r=t.attributes,a=new i.c;if(void 0!==r.POSITION){var o=(d=n.json.accessors[r.POSITION]).max;if(void 0!==(f=d.min)&&void 0!==o){a.set(new i.sb(f[0],f[1],f[2]),new i.sb(o[0],o[1],o[2]));var s=t.targets;if(void 0!==s){for(var l=new i.sb,u=new i.sb,c=0,h=s.length;c<h;c++){var d,f,p=s[c];void 0!==p.POSITION&&(o=(d=n.json.accessors[p.POSITION]).max,void 0!==(f=d.min)&&void 0!==o?(u.setX(Math.max(Math.abs(f[0]),Math.abs(o[0]))),u.setY(Math.max(Math.abs(f[1]),Math.abs(o[1]))),u.setZ(Math.max(Math.abs(f[2]),Math.abs(o[2]))),l.max(u)):console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION."))}a.expandByVector(l)}e.boundingBox=a;var m=new i.jb;a.getCenter(m.center),m.radius=a.min.distanceTo(a.max)/2,e.boundingSphere=m}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}(e,t,n),Promise.all(a).then(function(){return void 0!==t.targets?function(e,t,n){for(var i=!1,r=!1,a=0,o=t.length;a<o&&(void 0!==(u=t[a]).POSITION&&(i=!0),void 0!==u.NORMAL&&(r=!0),!i||!r);a++);if(!i&&!r)return Promise.resolve(e);var s=[],l=[];for(a=0,o=t.length;a<o;a++){var u=t[a];if(i){var c=void 0!==u.POSITION?n.getDependency("accessor",u.POSITION):e.attributes.position;s.push(c)}r&&(c=void 0!==u.NORMAL?n.getDependency("accessor",u.NORMAL):e.attributes.normal,l.push(c))}return Promise.all([Promise.all(s),Promise.all(l)]).then(function(t){var n=t[1];return i&&(e.morphAttributes.position=t[0]),r&&(e.morphAttributes.normal=n),e.morphTargetsRelative=!0,e})}(e,t.targets,n):e})}function P(e,t){var n=e.getIndex();if(null===n){var r=[],a=e.getAttribute("position");if(void 0===a)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(var o=0;o<a.count;o++)r.push(o);e.setIndex(r),n=e.getIndex()}var s=n.count-2,l=[];if(t===i.pb)for(o=1;o<=s;o++)l.push(n.getX(0)),l.push(n.getX(o)),l.push(n.getX(o+1));else for(o=0;o<s;o++)o%2==0?(l.push(n.getX(o)),l.push(n.getX(o+1)),l.push(n.getX(o+2))):(l.push(n.getX(o+2)),l.push(n.getX(o+1)),l.push(n.getX(o)));l.length/3!==s&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var u=e.clone();return u.setIndex(l),u}return I.prototype.setExtensions=function(e){this.extensions=e},I.prototype.setPlugins=function(e){this.plugins=e},I.prototype.parse=function(e,t){var n=this,i=this.json,r=this.extensions;this.cache.removeAll(),this._invokeAll(function(e){return e._markDefs&&e._markDefs()}),Promise.all([this.getDependencies("scene"),this.getDependencies("animation"),this.getDependencies("camera")]).then(function(t){var a={scene:t[0][i.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:i.asset,parser:n,userData:{}};M(r,a,i),O(a,i),e(a)}).catch(t)},I.prototype._markDefs=function(){for(var e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[],i=0,r=t.length;i<r;i++)for(var a=t[i].joints,o=0,s=a.length;o<s;o++)e[a[o]].isBone=!0;for(var l=0,u=e.length;l<u;l++){var c=e[l];void 0!==c.mesh&&(this._addNodeRef(this.meshCache,c.mesh),void 0!==c.skin&&(n[c.mesh].isSkinnedMesh=!0)),void 0!==c.camera&&this._addNodeRef(this.cameraCache,c.camera)}},I.prototype._addNodeRef=function(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)},I.prototype._getNodeRef=function(e,t,n){if(e.refs[t]<=1)return n;var i=n.clone();return i.name+="_instance_"+e.uses[t]++,i},I.prototype._invokeOne=function(e){var t=Object.values(this.plugins);t.push(this);for(var n=0;n<t.length;n++){var i=e(t[n]);if(i)return i}},I.prototype._invokeAll=function(e){var t=Object.values(this.plugins);t.unshift(this);for(var n=[],i=0;i<t.length;i++){var r=e(t[i]);r&&n.push(r)}return n},I.prototype.getDependency=function(e,t){var n=e+":"+t,i=this.cache.get(n);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this.loadNode(t);break;case"mesh":i=this._invokeOne(function(e){return e.loadMesh&&e.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(e){return e.loadBufferView&&e.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(e){return e.loadMaterial&&e.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(e){return e.loadTexture&&e.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this.loadAnimation(t);break;case"camera":i=this.loadCamera(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(n,i)}return i},I.prototype.getDependencies=function(e){var t=this.cache.get(e);if(!t){var n=this;t=Promise.all((this.json[e+("mesh"===e?"es":"s")]||[]).map(function(t,i){return n.getDependency(e,i)})),this.cache.add(e,t)}return t},I.prototype.loadBuffer=function(e){var t=this.json.buffers[e],i=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[n.KHR_BINARY_GLTF].body);var r=this.options;return new Promise(function(e,n){i.load(k(t.uri,r.path),e,void 0,function(){n(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})},I.prototype.loadBufferView=function(e){var t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(e){var n=t.byteOffset||0;return e.slice(n,n+(t.byteLength||0))})},I.prototype.loadAccessor=function(e){var t=this,n=this.json,r=this.json.accessors[e];if(void 0===r.bufferView&&void 0===r.sparse)return Promise.resolve(null);var a=[];return a.push(void 0!==r.bufferView?this.getDependency("bufferView",r.bufferView):null),void 0!==r.sparse&&(a.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),a.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(a).then(function(e){var a,o,s=e[0],l=w[r.type],u=b[r.componentType],c=u.BYTES_PER_ELEMENT,h=r.byteOffset||0,d=void 0!==r.bufferView?n.bufferViews[r.bufferView].byteStride:void 0,f=!0===r.normalized;if(d&&d!==c*l){var p=Math.floor(h/d),m="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+p+":"+r.count,v=t.cache.get(m);v||(a=new u(s,p*d,r.count*d/c),v=new i.r(a,d/c),t.cache.add(m,v)),o=new i.s(v,l,h%d/c,f)}else a=null===s?new u(r.count*l):new u(s,h,r.count*l),o=new i.d(a,l,f);if(void 0!==r.sparse){var g=r.sparse.values.byteOffset||0,y=new(0,b[r.sparse.indices.componentType])(e[1],r.sparse.indices.byteOffset||0,r.sparse.count*w.SCALAR),_=new u(e[2],g,r.sparse.count*l);null!==s&&(o=new i.d(o.array.slice(),o.itemSize,o.normalized));for(var S=0,T=y.length;S<T;S++){var x=y[S];if(o.setX(x,_[S*l]),l>=2&&o.setY(x,_[S*l+1]),l>=3&&o.setZ(x,_[S*l+2]),l>=4&&o.setW(x,_[S*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return o})},I.prototype.loadTexture=function(e){var t,i,r=this.json,a=r.textures[e],o=a.extensions||{};return(t=o[n.MSFT_TEXTURE_DDS]?r.images[o[n.MSFT_TEXTURE_DDS].source]:r.images[a.source]).uri&&(i=this.options.manager.getHandler(t.uri)),i||(i=o[n.MSFT_TEXTURE_DDS]?this.extensions[n.MSFT_TEXTURE_DDS].ddsLoader:this.textureLoader),this.loadTextureImage(e,t,i)},I.prototype.loadTextureImage=function(e,t,n){var r=this,a=this.json,o=this.options,s=a.textures[e],l=self.URL||self.webkitURL,u=t.uri,c=!1,h=!0;return"image/jpeg"===t.mimeType&&(h=!1),void 0!==t.bufferView&&(u=r.getDependency("bufferView",t.bufferView).then(function(e){if("image/png"===t.mimeType){var n=new DataView(e,25,1).getUint8(0,!1);h=6===n||4===n||3===n}c=!0;var i=new Blob([e],{type:t.mimeType});return u=l.createObjectURL(i)})),Promise.resolve(u).then(function(e){return new Promise(function(t,r){var a=t;!0===n.isImageBitmapLoader&&(a=function(e){t(new i.f(e))}),n.load(k(e,o.path),a,void 0,r)})}).then(function(t){!0===c&&l.revokeObjectURL(u),t.flipY=!1,s.name&&(t.name=s.name),h||(t.format=i.cb);var n=(a.samplers||{})[s.sampler]||{};return t.magFilter=S[n.magFilter]||i.A,t.minFilter=S[n.minFilter]||i.B,t.wrapS=T[n.wrapS]||i.db,t.wrapT=T[n.wrapT]||i.db,r.associations.set(t,{type:"textures",index:e}),t})},I.prototype.assignTexture=function(e,t,i){var r=this;return this.getDependency("texture",i.index).then(function(a){if(void 0===i.texCoord||0==i.texCoord||"aoMap"===t&&1==i.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+i.texCoord+" for texture "+t+" not yet supported."),r.extensions[n.KHR_TEXTURE_TRANSFORM]){var o=void 0!==i.extensions?i.extensions[n.KHR_TEXTURE_TRANSFORM]:void 0;if(o){var s=r.associations.get(a);a=r.extensions[n.KHR_TEXTURE_TRANSFORM].extendTexture(a,o),r.associations.set(a,s)}}e[t]=a})},I.prototype.assignFinalMaterial=function(e){var t=e.geometry,n=e.material,r=void 0!==t.attributes.tangent,a=void 0!==t.attributes.color,o=void 0===t.attributes.normal,s=!0===e.isSkinnedMesh,l=Object.keys(t.morphAttributes).length>0,u=l&&void 0!==t.morphAttributes.normal;if(e.isPoints){var c=this.cache.get(d="PointsMaterial:"+n.uuid);c||(c=new i.Y,i.G.prototype.copy.call(c,n),c.color.copy(n.color),c.map=n.map,c.sizeAttenuation=!1,this.cache.add(d,c)),n=c}else if(e.isLine){var h=this.cache.get(d="LineBasicMaterial:"+n.uuid);h||(h=new i.x,i.G.prototype.copy.call(h,n),h.color.copy(n.color),this.cache.add(d,h)),n=h}if(r||a||o||s||l){var d="ClonedMaterial:"+n.uuid+":";n.isGLTFSpecularGlossinessMaterial&&(d+="specular-glossiness:"),s&&(d+="skinning:"),r&&(d+="vertex-tangents:"),a&&(d+="vertex-colors:"),o&&(d+="flat-shading:"),l&&(d+="morph-targets:"),u&&(d+="morph-normals:");var f=this.cache.get(d);f||(f=n.clone(),s&&(f.skinning=!0),a&&(f.vertexColors=!0),o&&(f.flatShading=!0),l&&(f.morphTargets=!0),u&&(f.morphNormals=!0),r&&(f.vertexTangents=!0,f.normalScale&&(f.normalScale.y*=-1),f.clearcoatNormalScale&&(f.clearcoatNormalScale.y*=-1)),this.cache.add(d,f),this.associations.set(f,this.associations.get(n))),n=f}n.aoMap&&void 0===t.attributes.uv2&&void 0!==t.attributes.uv&&t.setAttribute("uv2",t.attributes.uv),e.material=n},I.prototype.getMaterialType=function(){return i.N},I.prototype.loadMaterial=function(e){var t,r=this,a=this.extensions,o=this.json.materials[e],s={},l=o.extensions||{},u=[];if(l[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var c=a[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];t=c.getMaterialType(),u.push(c.extendParams(s,o,r))}else if(l[n.KHR_MATERIALS_UNLIT]){var h=a[n.KHR_MATERIALS_UNLIT];t=h.getMaterialType(),u.push(h.extendParams(s,o,r))}else{var d=o.pbrMetallicRoughness||{};if(s.color=new i.h(1,1,1),s.opacity=1,Array.isArray(d.baseColorFactor)){var f=d.baseColorFactor;s.color.fromArray(f),s.opacity=f[3]}void 0!==d.baseColorTexture&&u.push(r.assignTexture(s,"map",d.baseColorTexture)),s.metalness=void 0!==d.metallicFactor?d.metallicFactor:1,s.roughness=void 0!==d.roughnessFactor?d.roughnessFactor:1,void 0!==d.metallicRoughnessTexture&&(u.push(r.assignTexture(s,"metalnessMap",d.metallicRoughnessTexture)),u.push(r.assignTexture(s,"roughnessMap",d.metallicRoughnessTexture))),t=this._invokeOne(function(t){return t.getMaterialType&&t.getMaterialType(e)}),u.push(Promise.all(this._invokeAll(function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,s)})))}!0===o.doubleSided&&(s.side=i.k);var p=o.alphaMode||"OPAQUE";return"BLEND"===p?(s.transparent=!0,s.depthWrite=!1):(s.transparent=!1,"MASK"===p&&(s.alphaTest=void 0!==o.alphaCutoff?o.alphaCutoff:.5)),void 0!==o.normalTexture&&t!==i.K&&(u.push(r.assignTexture(s,"normalMap",o.normalTexture)),s.normalScale=new i.rb(1,-1),void 0!==o.normalTexture.scale&&s.normalScale.set(o.normalTexture.scale,-o.normalTexture.scale)),void 0!==o.occlusionTexture&&t!==i.K&&(u.push(r.assignTexture(s,"aoMap",o.occlusionTexture)),void 0!==o.occlusionTexture.strength&&(s.aoMapIntensity=o.occlusionTexture.strength)),void 0!==o.emissiveFactor&&t!==i.K&&(s.emissive=(new i.h).fromArray(o.emissiveFactor)),void 0!==o.emissiveTexture&&t!==i.K&&u.push(r.assignTexture(s,"emissiveMap",o.emissiveTexture)),Promise.all(u).then(function(){var l;return l=t===v?a[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(s):new t(s),o.name&&(l.name=o.name),l.map&&(l.map.encoding=i.vb),l.emissiveMap&&(l.emissiveMap.encoding=i.vb),O(l,o),r.associations.set(l,{type:"materials",index:e}),o.extensions&&M(a,l,o),l})},I.prototype.createUniqueName=function(e){for(var t=i.Z.sanitizeNodeName(e||""),n=t,r=1;this.nodeNamesUsed[n];++r)n=t+"_"+r;return this.nodeNamesUsed[n]=!0,n},I.prototype.loadGeometries=function(e){var t=this,r=this.extensions,a=this.primitiveCache;function o(e){return r[n.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then(function(n){return L(n,e,t)})}for(var s,l,u=[],c=0,h=e.length;c<h;c++){var d,f=e[c],p=(l=(s=f).extensions&&s.extensions[n.KHR_DRACO_MESH_COMPRESSION])?"draco:"+l.bufferView+":"+l.indices+":"+R(l.attributes):s.indices+":"+R(s.attributes)+":"+s.mode,m=a[p];m?u.push(m.promise):(d=f.extensions&&f.extensions[n.KHR_DRACO_MESH_COMPRESSION]?o(f):L(new i.e,f,t),a[p]={primitive:f,promise:d},u.push(d))}return Promise.all(u)},I.prototype.loadMesh=function(e){for(var t,n=this,r=this.extensions,a=this.json.meshes[e],o=a.primitives,s=[],l=0,u=o.length;l<u;l++){var c=void 0===o[l].material?(void 0===(t=this.cache).DefaultMaterial&&(t.DefaultMaterial=new i.N({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:i.o})),t.DefaultMaterial):this.getDependency("material",o[l].material);s.push(c)}return s.push(n.loadGeometries(o)),Promise.all(s).then(function(t){for(var s=t.slice(0,t.length-1),l=t[t.length-1],u=[],c=0,h=l.length;c<h;c++){var d,f=l[c],p=o[c],m=s[c];if(4===p.mode||5===p.mode||6===p.mode||void 0===p.mode)d=!0===a.isSkinnedMesh?new i.ib(f,m):new i.J(f,m),!0===m.isMeshStandardMaterial&&m.side===i.k&&null!==f.getIndex()&&!0===f.hasAttribute("position")&&!0===f.hasAttribute("normal")&&!0===f.hasAttribute("uv")&&!1===f.hasAttribute("tangent")&&(f.computeTangents(),m.vertexTangents=!0),!0!==d.isSkinnedMesh||d.geometry.attributes.skinWeight.normalized||d.normalizeSkinWeights(),5===p.mode?d.geometry=P(d.geometry,i.qb):6===p.mode&&(d.geometry=P(d.geometry,i.pb));else if(1===p.mode)d=new i.z(f,m);else if(3===p.mode)d=new i.w(f,m);else if(2===p.mode)d=new i.y(f,m);else{if(0!==p.mode)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+p.mode);d=new i.X(f,m)}Object.keys(d.geometry.morphAttributes).length>0&&A(d,a),d.name=n.createUniqueName(a.name||"mesh_"+e),O(d,a),p.extensions&&M(r,d,p),n.assignFinalMaterial(d),u.push(d)}if(1===u.length)return u[0];var v=new i.p;for(c=0,h=u.length;c<h;c++)v.add(u[c]);return v})},I.prototype.loadCamera=function(e){var t,n=this.json.cameras[e],r=n[n.type];if(r)return"perspective"===n.type?t=new i.V(i.H.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):"orthographic"===n.type&&(t=new i.U(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),O(t,n),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")},I.prototype.loadSkin=function(e){var t=this.json.skins[e],n={joints:t.joints};return void 0===t.inverseBindMatrices?Promise.resolve(n):this.getDependency("accessor",t.inverseBindMatrices).then(function(e){return n.inverseBindMatrices=e,n})},I.prototype.loadAnimation=function(e){for(var t=this.json.animations[e],n=[],r=[],a=[],o=[],s=[],l=0,u=t.channels.length;l<u;l++){var c=t.channels[l],h=t.samplers[c.sampler],d=c.target,f=void 0!==t.parameters?t.parameters[h.input]:h.input,p=void 0!==t.parameters?t.parameters[h.output]:h.output;n.push(this.getDependency("node",void 0!==d.node?d.node:d.id)),r.push(this.getDependency("accessor",f)),a.push(this.getDependency("accessor",p)),o.push(h),s.push(d)}return Promise.all([Promise.all(n),Promise.all(r),Promise.all(a),Promise.all(o),Promise.all(s)]).then(function(n){for(var r=n[0],a=n[1],o=n[2],s=n[3],l=n[4],u=[],c=0,h=r.length;c<h;c++){var d=r[c],f=a[c],p=o[c],m=s[c],v=l[c];if(void 0!==d){var g;switch(d.updateMatrix(),d.matrixAutoUpdate=!0,E[v.path]){case E.weights:g=i.S;break;case E.rotation:g=i.bb;break;case E.position:case E.scale:default:g=i.tb}var y=d.name?d.name:d.uuid,b=void 0!==m.interpolation?C[m.interpolation]:i.v,S=[];E[v.path]===E.weights?d.traverse(function(e){!0===e.isMesh&&e.morphTargetInfluences&&S.push(e.name?e.name:e.uuid)}):S.push(y);var T=p.array;if(p.normalized){var w;if(T.constructor===Int8Array)w=1/127;else if(T.constructor===Uint8Array)w=1/255;else if(T.constructor==Int16Array)w=1/32767;else{if(T.constructor!==Uint16Array)throw new Error("THREE.GLTFLoader: Unsupported output accessor component type.");w=1/65535}for(var x=new Float32Array(T.length),k=0,M=T.length;k<M;k++)x[k]=T[k]*w;T=x}for(k=0,M=S.length;k<M;k++){var O=new g(S[k]+"."+E[v.path],f.array,T,b);"CUBICSPLINE"===m.interpolation&&(O.createInterpolant=function(e){return new _(this.times,this.values,this.getValueSize()/3,e)},O.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),u.push(O)}}}return new i.a(t.name?t.name:"animation_"+e,void 0,u)})},I.prototype.loadNode=function(e){var t,n=this.extensions,r=this,a=this.json.nodes[e],o=a.name?r.createUniqueName(a.name):"";return(t=[],void 0!==a.mesh&&t.push(r.getDependency("mesh",a.mesh).then(function(e){var t=r._getNodeRef(r.meshCache,a.mesh,e);return void 0!==a.weights&&t.traverse(function(e){if(e.isMesh)for(var t=0,n=a.weights.length;t<n;t++)e.morphTargetInfluences[t]=a.weights[t]}),t})),void 0!==a.camera&&t.push(r.getDependency("camera",a.camera).then(function(e){return r._getNodeRef(r.cameraCache,a.camera,e)})),r._invokeAll(function(t){return t.createNodeAttachment&&t.createNodeAttachment(e)}).forEach(function(e){t.push(e)}),Promise.all(t)).then(function(t){var s;if((s=!0===a.isBone?new i.b:t.length>1?new i.p:1===t.length?t[0]:new i.T)!==t[0])for(var l=0,u=t.length;l<u;l++)s.add(t[l]);if(a.name&&(s.userData.name=a.name,s.name=o),O(s,a),a.extensions&&M(n,s,a),void 0!==a.matrix){var c=new i.I;c.fromArray(a.matrix),s.applyMatrix4(c)}else void 0!==a.translation&&s.position.fromArray(a.translation),void 0!==a.rotation&&s.quaternion.fromArray(a.rotation),void 0!==a.scale&&s.scale.fromArray(a.scale);return r.associations.set(s,{type:"nodes",index:e}),s})},I.prototype.loadScene=function(){function e(t,n,r,a){var o=r.nodes[t];return a.getDependency("node",t).then(function(e){return void 0===o.skin?e:a.getDependency("skin",o.skin).then(function(e){for(var n=[],i=0,r=(t=e).joints.length;i<r;i++)n.push(a.getDependency("node",t.joints[i]));return Promise.all(n)}).then(function(n){return e.traverse(function(e){if(e.isMesh){for(var r=[],a=[],o=0,s=n.length;o<s;o++){var l=n[o];if(l){r.push(l);var u=new i.I;void 0!==t.inverseBindMatrices&&u.fromArray(t.inverseBindMatrices.array,16*o),a.push(u)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[o])}e.bind(new i.hb(r,a),e.matrixWorld)}}),e});var t}).then(function(t){n.add(t);var i=[];if(o.children)for(var s=o.children,l=0,u=s.length;l<u;l++)i.push(e(s[l],t,r,a));return Promise.all(i)})}return function(t){var n=this.json,r=this.extensions,a=this.json.scenes[t],o=new i.p;a.name&&(o.name=this.createUniqueName(a.name)),O(o,a),a.extensions&&M(r,o,a);for(var s=a.nodes||[],l=[],u=0,c=s.length;u<c;u++)l.push(e(s[u],o,n,this));return Promise.all(l).then(function(){return o})}}(),e}()},NQ7O:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i=n("6kTr"),r=n("rCez"),a=n("WpFC"),o=n("Yjhu");function s(e){var t=e||{},n=new r.a;return(void 0===t.zoom||t.zoom)&&n.push(new o.a(t.zoomOptions)),(void 0===t.rotate||t.rotate)&&n.push(new a.a(t.rotateOptions)),(void 0===t.attribution||t.attribution)&&n.push(new i.a(t.attributionOptions)),n}},Nehr:function(e,t,n){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},Nr0W:function(e,t,n){"use strict";var i=n("bwl8"),r=n("9CgO"),a=n("i3ci"),o=n("FHfp"),s=function(e){b(n,e);var t=T(n);function n(e){var r;return _(this,n),(r=t.call(this)).id_=void 0,r.geometryName_="geometry",r.style_=null,r.styleFunction_=void 0,r.geometryChangeKey_=null,r.addEventListener(Object(i.b)(r.geometryName_),r.handleGeometryChanged_),e&&("function"==typeof e.getSimplifiedGeometry?r.setGeometry(e):r.setProperties(e)),r}return y(n,[{key:"clone",value:function(){var e=new n(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());var t=this.getGeometry();t&&e.setGeometry(t.clone());var i=this.getStyle();return i&&e.setStyle(i),e}},{key:"getGeometry",value:function(){return this.get(this.geometryName_)}},{key:"getId",value:function(){return this.id_}},{key:"getGeometryName",value:function(){return this.geometryName_}},{key:"getStyle",value:function(){return this.style_}},{key:"getStyleFunction",value:function(){return this.styleFunction_}},{key:"handleGeometryChange_",value:function(){this.changed()}},{key:"handleGeometryChanged_",value:function(){this.geometryChangeKey_&&(Object(o.c)(this.geometryChangeKey_),this.geometryChangeKey_=null);var e=this.getGeometry();e&&(this.geometryChangeKey_=Object(o.a)(e,r.a.CHANGE,this.handleGeometryChange_,this)),this.changed()}},{key:"setGeometry",value:function(e){this.set(this.geometryName_,e)}},{key:"setStyle",value:function(e){var t,n;this.style_=e,this.styleFunction_=e?"function"==typeof(t=e)?t:(Array.isArray(t)?n=t:(Object(a.a)("function"==typeof t.getZIndex,41),n=[t]),function(){return n}):void 0,this.changed()}},{key:"setId",value:function(e){this.id_=e,this.changed()}},{key:"setGeometryName",value:function(e){this.removeEventListener(Object(i.b)(this.geometryName_),this.handleGeometryChanged_),this.geometryName_=e,this.addEventListener(Object(i.b)(this.geometryName_),this.handleGeometryChanged_),this.handleGeometryChanged_()}}]),n}(i.a);t.a=s},NxsL:function(e,t,n){"use strict";var i=n("Nr0W"),r=n("43os"),a=n("X87I"),o=n("2cyL"),s=n("W74l"),l=n("7tkq"),u=n("wEYg"),c=n("gOFd"),h=n("Znq9"),d=n("c73X"),f={Point:function(e,t,n){var i=e.coordinates;return t&&n&&S(i,t,n),new u.a(i)},LineString:function(e,t){var n=p(e.arcs,t);return new a.a(n)},Polygon:function(e,t){for(var n=[],i=0,r=e.arcs.length;i<r;++i)n[i]=p(e.arcs[i],t);return new c.a(n)},MultiPoint:function(e,t,n){var i=e.coordinates;if(t&&n)for(var r=0,a=i.length;r<a;++r)S(i[r],t,n);return new s.a(i)},MultiLineString:function(e,t){for(var n=[],i=0,r=e.arcs.length;i<r;++i)n[i]=p(e.arcs[i],t);return new o.a(n)},MultiPolygon:function(e,t){for(var n=[],i=0,r=e.arcs.length;i<r;++i){for(var a=e.arcs[i],o=[],s=0,u=a.length;s<u;++s)o[s]=p(a[s],t);n[i]=o}return new l.a(n)}};function p(e,t){for(var n,i,r=[],a=0,o=e.length;a<o;++a)n=e[a],a>0&&r.pop(),i=n>=0?t[n]:t[~n].slice().reverse(),r.push.apply(r,i);for(var s=0,l=r.length;s<l;++s)r[s]=r[s].slice();return r}function m(e,t,n,i,r,a,o){for(var s=e.geometries,l=[],u=0,c=s.length;u<c;++u)l[u]=v(s[u],t,n,i,r,a,o);return l}function v(e,t,n,r,a,o,s){var l,u=e.type,c=f[u];l="Point"===u||"MultiPoint"===u?c(e,n,r):c(e,t);var h=new i.a;h.setGeometry(Object(d.b)(l,!1,s)),void 0!==e.id&&h.setId(e.id);var p=e.properties;return a&&(p||(p={}),p[a]=o),p&&h.setProperties(p,!0),h}function g(e,t,n){for(var i=0,r=0,a=0,o=e.length;a<o;++a){var s=e[a];i+=s[0],r+=s[1],s[0]=i,s[1]=r,S(s,t,n)}}function S(e,t,n){e[0]=e[0]*t[0]+n[0],e[1]=e[1]*t[1]+n[1]}t.a=function(e){b(n,e);var t=T(n);function n(e){var i;_(this,n);var r=e||{};return(i=t.call(this)).layerName_=r.layerName,i.layers_=r.layers?r.layers:null,i.dataProjection=Object(h.i)(r.dataProjection?r.dataProjection:"EPSG:4326"),i}return y(n,[{key:"readFeaturesFromObject",value:function(e,t){if("Topology"==e.type){var n,i=e,r=null,a=null;i.transform&&(r=(n=i.transform).scale,a=n.translate);var o=i.arcs;n&&function(e,t,n){for(var i=0,r=e.length;i<r;++i)g(e[i],t,n)}(o,r,a);var s,l=[],u=i.objects,c=this.layerName_;for(var h in u)this.layers_&&-1==this.layers_.indexOf(h)||("GeometryCollection"===u[h].type?(s=u[h],l.push.apply(l,m(s,o,r,a,c,h,t))):(s=u[h],l.push(v(s,o,r,a,c,h,t))));return l}return[]}},{key:"readProjectionFromObject",value:function(e){return this.dataProjection}}]),n}(r.a)},"OT4/":function(e,t,n){"use strict";var i=n("fyJ9"),r=n("Lwyg"),a=n("dvVV"),o=function(){function e(t){_(this,e);var n=t||{};this.font_=n.font,this.rotation_=n.rotation,this.rotateWithView_=n.rotateWithView,this.scale_=n.scale,this.scaleArray_=Object(a.d)(void 0!==n.scale?n.scale:1),this.text_=n.text,this.textAlign_=n.textAlign,this.textBaseline_=n.textBaseline,this.fill_=void 0!==n.fill?n.fill:new i.a({color:"#333"}),this.maxAngle_=void 0!==n.maxAngle?n.maxAngle:Math.PI/4,this.placement_=void 0!==n.placement?n.placement:r.a.POINT,this.overflow_=!!n.overflow,this.stroke_=void 0!==n.stroke?n.stroke:null,this.offsetX_=void 0!==n.offsetX?n.offsetX:0,this.offsetY_=void 0!==n.offsetY?n.offsetY:0,this.backgroundFill_=n.backgroundFill?n.backgroundFill:null,this.backgroundStroke_=n.backgroundStroke?n.backgroundStroke:null,this.padding_=void 0===n.padding?null:n.padding}return y(e,[{key:"clone",value:function(){var t=this.getScale();return new e({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()})}},{key:"getOverflow",value:function(){return this.overflow_}},{key:"getFont",value:function(){return this.font_}},{key:"getMaxAngle",value:function(){return this.maxAngle_}},{key:"getPlacement",value:function(){return this.placement_}},{key:"getOffsetX",value:function(){return this.offsetX_}},{key:"getOffsetY",value:function(){return this.offsetY_}},{key:"getFill",value:function(){return this.fill_}},{key:"getRotateWithView",value:function(){return this.rotateWithView_}},{key:"getRotation",value:function(){return this.rotation_}},{key:"getScale",value:function(){return this.scale_}},{key:"getScaleArray",value:function(){return this.scaleArray_}},{key:"getStroke",value:function(){return this.stroke_}},{key:"getText",value:function(){return this.text_}},{key:"getTextAlign",value:function(){return this.textAlign_}},{key:"getTextBaseline",value:function(){return this.textBaseline_}},{key:"getBackgroundFill",value:function(){return this.backgroundFill_}},{key:"getBackgroundStroke",value:function(){return this.backgroundStroke_}},{key:"getPadding",value:function(){return this.padding_}},{key:"setOverflow",value:function(e){this.overflow_=e}},{key:"setFont",value:function(e){this.font_=e}},{key:"setMaxAngle",value:function(e){this.maxAngle_=e}},{key:"setOffsetX",value:function(e){this.offsetX_=e}},{key:"setOffsetY",value:function(e){this.offsetY_=e}},{key:"setPlacement",value:function(e){this.placement_=e}},{key:"setRotateWithView",value:function(e){this.rotateWithView_=e}},{key:"setFill",value:function(e){this.fill_=e}},{key:"setRotation",value:function(e){this.rotation_=e}},{key:"setScale",value:function(e){this.scale_=e,this.scaleArray_=Object(a.d)(void 0!==e?e:1)}},{key:"setStroke",value:function(e){this.stroke_=e}},{key:"setText",value:function(e){this.text_=e}},{key:"setTextAlign",value:function(e){this.textAlign_=e}},{key:"setTextBaseline",value:function(e){this.textBaseline_=e}},{key:"setBackgroundFill",value:function(e){this.backgroundFill_=e}},{key:"setBackgroundStroke",value:function(e){this.backgroundStroke_=e}},{key:"setPadding",value:function(e){this.padding_=e}}]),e}();t.a=o},PaPA:function(e,t,n){"use strict";var i=n("hKKC"),r=n("Znq9"),a=n("LV+m");t.a=function(){function e(t,n,o,s,l,u){_(this,e),this.sourceProj_=t,this.targetProj_=n;var c={},h=Object(r.k)(this.targetProj_,this.sourceProj_);this.transformInv_=function(e){var t=e[0]+"/"+e[1];return c[t]||(c[t]=h(e)),c[t]},this.maxSourceExtent_=s,this.errorThresholdSquared_=l*l,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!s&&!!this.sourceProj_.getExtent()&&Object(i.F)(s)==Object(i.F)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Object(i.F)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Object(i.F)(this.targetProj_.getExtent()):null;var d=Object(i.D)(o),f=Object(i.E)(o),p=Object(i.x)(o),m=Object(i.w)(o),v=this.transformInv_(d),g=this.transformInv_(f),y=this.transformInv_(p),b=this.transformInv_(m),S=10+(u?Math.max(0,Math.ceil(Object(a.d)(Object(i.v)(o)/(u*u*256*256)))):0);if(this.addQuad_(d,f,p,m,v,g,y,b,S),this.wrapsXInSource_){var T=1/0;this.triangles_.forEach(function(e,t,n){T=Math.min(T,e.source[0][0],e.source[1][0],e.source[2][0])}),this.triangles_.forEach((function(e){if(Math.max(e.source[0][0],e.source[1][0],e.source[2][0])-T>this.sourceWorldWidth_/2){var t=[[e.source[0][0],e.source[0][1]],[e.source[1][0],e.source[1][1]],[e.source[2][0],e.source[2][1]]];t[0][0]-T>this.sourceWorldWidth_/2&&(t[0][0]-=this.sourceWorldWidth_),t[1][0]-T>this.sourceWorldWidth_/2&&(t[1][0]-=this.sourceWorldWidth_),t[2][0]-T>this.sourceWorldWidth_/2&&(t[2][0]-=this.sourceWorldWidth_);var n=Math.min(t[0][0],t[1][0],t[2][0]);Math.max(t[0][0],t[1][0],t[2][0])-n<this.sourceWorldWidth_/2&&(e.source=t)}}).bind(this))}c={}}return y(e,[{key:"addTriangle_",value:function(e,t,n,i,r,a){this.triangles_.push({source:[i,r,a],target:[e,t,n]})}},{key:"addQuad_",value:function(e,t,n,r,o,s,l,u,c){var h=Object(i.c)([o,s,l,u]),d=this.sourceWorldWidth_?Object(i.F)(h)/this.sourceWorldWidth_:null,f=this.sourceWorldWidth_,p=this.sourceProj_.canWrapX()&&d>.5&&d<1,m=!1;if(c>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var v=Object(i.c)([e,t,n,r]);m=Object(i.F)(v)/this.targetWorldWidth_>.25||m}!p&&this.sourceProj_.isGlobal()&&d&&(m=d>.25||m)}if(!(!m&&this.maxSourceExtent_&&isFinite(h[0])&&isFinite(h[1])&&isFinite(h[2])&&isFinite(h[3]))||Object(i.G)(h,this.maxSourceExtent_)){var g=0;if(!(m||isFinite(o[0])&&isFinite(o[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(l[0])&&isFinite(l[1])&&isFinite(u[0])&&isFinite(u[1])))if(c>0)m=!0;else if(1!=(g=(isFinite(o[0])&&isFinite(o[1])?0:8)+(isFinite(s[0])&&isFinite(s[1])?0:4)+(isFinite(l[0])&&isFinite(l[1])?0:2)+(isFinite(u[0])&&isFinite(u[1])?0:1))&&2!=g&&4!=g&&8!=g)return;if(c>0){if(!m){var y,_=this.transformInv_([(e[0]+n[0])/2,(e[1]+n[1])/2]);y=p?(Object(a.e)(o[0],f)+Object(a.e)(l[0],f))/2-Object(a.e)(_[0],f):(o[0]+l[0])/2-_[0];var b=(o[1]+l[1])/2-_[1];m=y*y+b*b>this.errorThresholdSquared_}if(m){if(Math.abs(e[0]-n[0])<=Math.abs(e[1]-n[1])){var S=[(t[0]+n[0])/2,(t[1]+n[1])/2],T=this.transformInv_(S),w=[(r[0]+e[0])/2,(r[1]+e[1])/2],x=this.transformInv_(w);this.addQuad_(e,t,S,w,o,s,T,x,c-1),this.addQuad_(w,S,n,r,x,T,l,u,c-1)}else{var E=[(e[0]+t[0])/2,(e[1]+t[1])/2],C=this.transformInv_(E),k=[(n[0]+r[0])/2,(n[1]+r[1])/2],M=this.transformInv_(k);this.addQuad_(e,E,k,r,o,C,M,u,c-1),this.addQuad_(E,t,n,k,C,s,l,M,c-1)}return}}if(p){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(11&g)&&this.addTriangle_(e,n,r,o,l,u),0==(14&g)&&this.addTriangle_(e,n,t,o,l,s),g&&(0==(13&g)&&this.addTriangle_(t,r,e,s,u,o),0==(7&g)&&this.addTriangle_(t,r,n,s,u,l))}}},{key:"calculateSourceExtent",value:function(){var e=Object(i.k)();return this.triangles_.forEach(function(t,n,r){var a=t.source;Object(i.s)(e,a[0]),Object(i.s)(e,a[1]),Object(i.s)(e,a[2])}),e}},{key:"getTriangles",value:function(){return this.triangles_}}]),e}()},PhKu:function(e,t,n){"use strict";var i=n("9CgO"),r=n("lXae"),a=n("0o2U"),o=n("De+T"),s=n("2I+J");t.a=function(e){b(n,e);var t=T(n);function n(e){var i;return _(this,n),(i=t.call(this)).boundHandleImageChange_=i.handleImageChange_.bind(x(i)),i.layer_=e,i.declutterExecutorGroup=null,i}return y(n,[{key:"getFeatures",value:function(e){return Object(s.b)()}},{key:"prepareFrame",value:function(e){return Object(s.b)()}},{key:"renderFrame",value:function(e,t){return Object(s.b)()}},{key:"loadedTileCallback",value:function(e,t,n){e[t]||(e[t]={}),e[t][n.tileCoord.toString()]=n}},{key:"createLoadedTileFinder",value:function(e,t,n){return(function(i,r){var a=this.loadedTileCallback.bind(this,n,i);return e.forEachLoadedTile(t,i,r,a)}).bind(this)}},{key:"forEachFeatureAtCoordinate",value:function(e,t,n,i,r){}},{key:"getDataAtPixel",value:function(e,t,n){return Object(s.b)()}},{key:"getLayer",value:function(){return this.layer_}},{key:"handleFontsChanged",value:function(){}},{key:"handleImageChange_",value:function(e){e.target.getState()===r.a.LOADED&&this.renderIfReadyAndVisible()}},{key:"loadImage",value:function(e){var t=e.getState();return t!=r.a.LOADED&&t!=r.a.ERROR&&e.addEventListener(i.a.CHANGE,this.boundHandleImageChange_),t==r.a.IDLE&&(e.load(),t=e.getState()),t==r.a.LOADED}},{key:"renderIfReadyAndVisible",value:function(){var e=this.getLayer();e.getVisible()&&e.getSourceState()==o.a.READY&&e.changed()}}]),n}(a.a)},PqYM:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i=n("HDdC"),r=n("D0XW"),a=n("Y7HM"),o=n("z+Ro");function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,s=-1;return Object(a.a)(t)?s=Number(t)<1?1:Number(t):Object(o.a)(t)&&(n=t),Object(o.a)(n)||(n=r.a),new i.a(function(t){var i=Object(a.a)(e)?e:+e-n.now();return n.schedule(l,i,{index:0,period:s,subscriber:t})})}function l(e){var t=e.index,n=e.period,i=e.subscriber;if(i.next(t),!i.closed){if(-1===n)return i.complete();e.index=t+1,this.schedule(e,n)}}},PqmH:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return a});var i=n("4yuk");function r(e){var t=a.get(e.type);void 0===t&&(t={stringsArray:new WeakMap,keyString:new Map},a.set(e.type,t));var n=t.stringsArray.get(e.strings);if(void 0!==n)return n;var r=e.strings.join(i.f);return void 0===(n=t.keyString.get(r))&&(n=new i.a(e,e.getTemplateElement()),t.keyString.set(r,n)),t.stringsArray.set(e.strings,n),n}var a=new Map},PxdU:function(e,t,n){"use strict";var i=n("9CgO"),r=n("ZidN"),a=n("lXae"),o=n("+WER"),s=n("Bpkx"),l=n("Cw4B"),u=n("hKKC"),c=n("Znq9");t.a=function(e){b(n,e);var t=T(n);function n(e){var a;_(this,n);var s=void 0!==e.crossOrigin?e.crossOrigin:null,l=void 0!==e.imageLoadFunction?e.imageLoadFunction:r.b;return(a=t.call(this,{attributions:e.attributions,imageSmoothing:e.imageSmoothing,projection:Object(c.i)(e.projection)})).url_=e.url,a.imageExtent_=e.imageExtent,a.image_=new o.a(a.imageExtent_,void 0,1,a.url_,s,l),a.imageSize_=e.imageSize?e.imageSize:null,a.image_.addEventListener(i.a.CHANGE,a.handleImageChange.bind(x(a))),a}return y(n,[{key:"getImageExtent",value:function(){return this.imageExtent_}},{key:"getImageInternal",value:function(e,t,n,i){return Object(u.G)(e,this.image_.getExtent())?this.image_:null}},{key:"getUrl",value:function(){return this.url_}},{key:"handleImageChange",value:function(e){if(this.image_.getState()==a.a.LOADED){var t,i,r=this.image_.getExtent(),o=this.image_.getImage();this.imageSize_?(t=this.imageSize_[0],i=this.imageSize_[1]):(t=o.width,i=o.height);var c=Object(u.B)(r)/i,h=Math.ceil(Object(u.F)(r)/c);if(h!=t){var d=Object(l.a)(h,i);Object(s.a)(d,this.getContextOptions());var f=d.canvas;d.drawImage(o,0,0,t,i,0,0,f.width,f.height),this.image_.setImage(f)}}v(C(n.prototype),"handleImageChange",this).call(this,e)}}]),n}(r.a)},QBIS:function(e,t,n){"use strict";t.a={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"}},QQLW:function(e,t,n){"use strict";var i=n("y5Nx"),r=n("sFtE");t.a=function(e){b(n,e);var t=T(n);function n(e){return _(this,n),t.call(this,e)}return y(n,[{key:"createRenderer",value:function(){return new r.a(this)}}]),n}(i.a)},QSZX:function(e,t,n){"use strict";var i=n("bwl8"),r=n("l30d"),a=n("2I+J"),o=n("i3ci"),s=n("Bpkx"),l=n("LV+m");t.a=function(e){b(n,e);var t=T(n);function n(e){var i;_(this,n),i=t.call(this);var a=Object(s.a)({},e);return a[r.a.OPACITY]=void 0!==e.opacity?e.opacity:1,Object(o.a)("number"==typeof a[r.a.OPACITY],64),a[r.a.VISIBLE]=void 0===e.visible||e.visible,a[r.a.Z_INDEX]=e.zIndex,a[r.a.MAX_RESOLUTION]=void 0!==e.maxResolution?e.maxResolution:1/0,a[r.a.MIN_RESOLUTION]=void 0!==e.minResolution?e.minResolution:0,a[r.a.MIN_ZOOM]=void 0!==e.minZoom?e.minZoom:-1/0,a[r.a.MAX_ZOOM]=void 0!==e.maxZoom?e.maxZoom:1/0,i.className_=void 0!==a.className?e.className:"ol-layer",delete a.className,i.setProperties(a),i.state_=null,i}return y(n,[{key:"getClassName",value:function(){return this.className_}},{key:"getLayerState",value:function(e){var t=this.state_||{layer:this,managed:void 0===e||e},n=this.getZIndex();return t.opacity=Object(l.a)(Math.round(100*this.getOpacity())/100,0,1),t.sourceState=this.getSourceState(),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=void 0!==n?n:!1===t.managed?1/0:0,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),t.minZoom=this.getMinZoom(),t.maxZoom=this.getMaxZoom(),this.state_=t,t}},{key:"getLayersArray",value:function(e){return Object(a.b)()}},{key:"getLayerStatesArray",value:function(e){return Object(a.b)()}},{key:"getExtent",value:function(){return this.get(r.a.EXTENT)}},{key:"getMaxResolution",value:function(){return this.get(r.a.MAX_RESOLUTION)}},{key:"getMinResolution",value:function(){return this.get(r.a.MIN_RESOLUTION)}},{key:"getMinZoom",value:function(){return this.get(r.a.MIN_ZOOM)}},{key:"getMaxZoom",value:function(){return this.get(r.a.MAX_ZOOM)}},{key:"getOpacity",value:function(){return this.get(r.a.OPACITY)}},{key:"getSourceState",value:function(){return Object(a.b)()}},{key:"getVisible",value:function(){return this.get(r.a.VISIBLE)}},{key:"getZIndex",value:function(){return this.get(r.a.Z_INDEX)}},{key:"setExtent",value:function(e){this.set(r.a.EXTENT,e)}},{key:"setMaxResolution",value:function(e){this.set(r.a.MAX_RESOLUTION,e)}},{key:"setMinResolution",value:function(e){this.set(r.a.MIN_RESOLUTION,e)}},{key:"setMaxZoom",value:function(e){this.set(r.a.MAX_ZOOM,e)}},{key:"setMinZoom",value:function(e){this.set(r.a.MIN_ZOOM,e)}},{key:"setOpacity",value:function(e){Object(o.a)("number"==typeof e,64),this.set(r.a.OPACITY,e)}},{key:"setVisible",value:function(e){this.set(r.a.VISIBLE,e)}},{key:"setZIndex",value:function(e){this.set(r.a.Z_INDEX,e)}},{key:"disposeInternal",value:function(){this.state_&&(this.state_.layer=null,this.state_=null),v(C(n.prototype),"disposeInternal",this).call(this)}}]),n}(i.a)},Qbx7:function(e,t,n){"use strict";var i=n("9CgO"),r=n("jTA9"),a=n("m3va"),o=n("lXae"),s=n("rfxS"),l=n("uJJw"),u=n("i3ci"),c=n("RGpb"),h=n("Cw4B"),d=n("FQWF"),f=n("+WER"),p=null,m=function(e){b(n,e);var t=T(n);function n(e,i,r,a,o,s){var l;return _(this,n),(l=t.call(this)).hitDetectionImage_=null,l.image_=e||new Image,null!==a&&(l.image_.crossOrigin=a),l.canvas_={},l.color_=s,l.unlisten_=null,l.imageState_=o,l.size_=r,l.src_=i,l}return y(n,[{key:"isTainted_",value:function(){if(void 0===this.tainted_&&this.imageState_===o.a.LOADED){p||(p=Object(h.a)(1,1)),p.drawImage(this.image_,0,0);try{p.getImageData(0,0,1,1),this.tainted_=!1}catch(e){p=null,this.tainted_=!0}}return!0===this.tainted_}},{key:"dispatchChangeEvent_",value:function(){this.dispatchEvent(i.a.CHANGE)}},{key:"handleImageError_",value:function(){this.imageState_=o.a.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()}},{key:"handleImageLoad_",value:function(){this.imageState_=o.a.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()}},{key:"getImage",value:function(e){return this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}},{key:"getPixelRatio",value:function(e){return this.replaceColor_(e),this.canvas_[e]?e:1}},{key:"getImageState",value:function(){return this.imageState_}},{key:"getHitDetectionImage",value:function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var e=this.size_[0],t=this.size_[1],n=Object(h.a)(e,t);n.fillRect(0,0,e,t),this.hitDetectionImage_=n.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}},{key:"getSize",value:function(){return this.size_}},{key:"getSrc",value:function(){return this.src_}},{key:"load",value:function(){if(this.imageState_==o.a.IDLE){this.imageState_=o.a.LOADING;try{this.image_.src=this.src_}catch(e){this.handleImageError_()}this.unlisten_=Object(f.b)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}}},{key:"replaceColor_",value:function(e){if(this.color_&&!this.canvas_[e]){var t=document.createElement("canvas");this.canvas_[e]=t,t.width=Math.ceil(this.image_.width*e),t.height=Math.ceil(this.image_.height*e);var n=t.getContext("2d");if(n.scale(e,e),n.drawImage(this.image_,0,0),n.globalCompositeOperation="multiply","multiply"===n.globalCompositeOperation||this.isTainted_())n.fillStyle=Object(l.b)(this.color_),n.fillRect(0,0,t.width,t.height),n.globalCompositeOperation="destination-in",n.drawImage(this.image_,0,0);else{for(var i=n.getImageData(0,0,t.width,t.height),r=i.data,a=this.color_[0]/255,o=this.color_[1]/255,s=this.color_[2]/255,u=this.color_[3],c=0,h=r.length;c<h;c+=4)r[c]*=a,r[c+1]*=o,r[c+2]*=s,r[c+3]*=u;n.putImageData(i,0,0)}}}},{key:"unlistenImage_",value:function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}]),n}(c.a),v=n("2I+J"),g=function(e){b(n,e);var t=T(n);function n(e){var i;_(this,n);var s=e||{};(i=t.call(this,{opacity:void 0!==s.opacity?s.opacity:1,rotation:void 0!==s.rotation?s.rotation:0,scale:void 0!==s.scale?s.scale:1,displacement:void 0!==s.displacement?s.displacement:[0,0],rotateWithView:void 0!==s.rotateWithView&&s.rotateWithView})).anchor_=void 0!==s.anchor?s.anchor:[.5,.5],i.normalizedAnchor_=null,i.anchorOrigin_=void 0!==s.anchorOrigin?s.anchorOrigin:a.a.TOP_LEFT,i.anchorXUnits_=void 0!==s.anchorXUnits?s.anchorXUnits:r.a.FRACTION,i.anchorYUnits_=void 0!==s.anchorYUnits?s.anchorYUnits:r.a.FRACTION,i.crossOrigin_=void 0!==s.crossOrigin?s.crossOrigin:null;var c=void 0!==s.img?s.img:null,h=void 0!==s.imgSize?s.imgSize:null,f=s.src;Object(u.a)(!(void 0!==f&&c),4),Object(u.a)(!c||c&&h,5),void 0!==f&&0!==f.length||!c||(f=c.src||Object(v.c)(c)),Object(u.a)(void 0!==f&&f.length>0,6);var p=void 0!==s.src?o.a.IDLE:o.a.LOADED;return i.color_=void 0!==s.color?Object(l.a)(s.color):null,i.iconImage_=function(e,t,n,i,r,a){var o=d.a.get(t,i,a);return o||(o=new m(e,t,n,i,r,a),d.a.set(t,i,a,o)),o}(c,f,h,i.crossOrigin_,p,i.color_),i.offset_=void 0!==s.offset?s.offset:[0,0],i.offsetOrigin_=void 0!==s.offsetOrigin?s.offsetOrigin:a.a.TOP_LEFT,i.origin_=null,i.size_=void 0!==s.size?s.size:null,i}return y(n,[{key:"clone",value:function(){var e=this.getScale();return new n({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})}},{key:"getAnchor",value:function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var e=this.anchor_,t=this.getSize();if(this.anchorXUnits_==r.a.FRACTION||this.anchorYUnits_==r.a.FRACTION){if(!t)return null;e=this.anchor_.slice(),this.anchorXUnits_==r.a.FRACTION&&(e[0]*=t[0]),this.anchorYUnits_==r.a.FRACTION&&(e[1]*=t[1])}if(this.anchorOrigin_!=a.a.TOP_LEFT){if(!t)return null;e===this.anchor_&&(e=this.anchor_.slice()),this.anchorOrigin_!=a.a.TOP_RIGHT&&this.anchorOrigin_!=a.a.BOTTOM_RIGHT||(e[0]=-e[0]+t[0]),this.anchorOrigin_!=a.a.BOTTOM_LEFT&&this.anchorOrigin_!=a.a.BOTTOM_RIGHT||(e[1]=-e[1]+t[1])}return this.normalizedAnchor_=e,this.normalizedAnchor_}},{key:"setAnchor",value:function(e){this.anchor_=e,this.normalizedAnchor_=null}},{key:"getColor",value:function(){return this.color_}},{key:"getImage",value:function(e){return this.iconImage_.getImage(e)}},{key:"getPixelRatio",value:function(e){return this.iconImage_.getPixelRatio(e)}},{key:"getImageSize",value:function(){return this.iconImage_.getSize()}},{key:"getHitDetectionImageSize",value:function(){return this.getImageSize()}},{key:"getImageState",value:function(){return this.iconImage_.getImageState()}},{key:"getHitDetectionImage",value:function(){return this.iconImage_.getHitDetectionImage()}},{key:"getOrigin",value:function(){if(this.origin_)return this.origin_;var e=this.offset_,t=this.getDisplacement();if(this.offsetOrigin_!=a.a.TOP_LEFT){var n=this.getSize(),i=this.iconImage_.getSize();if(!n||!i)return null;e=e.slice(),this.offsetOrigin_!=a.a.TOP_RIGHT&&this.offsetOrigin_!=a.a.BOTTOM_RIGHT||(e[0]=i[0]-n[0]-e[0]),this.offsetOrigin_!=a.a.BOTTOM_LEFT&&this.offsetOrigin_!=a.a.BOTTOM_RIGHT||(e[1]=i[1]-n[1]-e[1])}return e[0]+=t[0],e[1]+=t[1],this.origin_=e,this.origin_}},{key:"getSrc",value:function(){return this.iconImage_.getSrc()}},{key:"getSize",value:function(){return this.size_?this.size_:this.iconImage_.getSize()}},{key:"listenImageChange",value:function(e){this.iconImage_.addEventListener(i.a.CHANGE,e)}},{key:"load",value:function(){this.iconImage_.load()}},{key:"unlistenImageChange",value:function(e){this.iconImage_.removeEventListener(i.a.CHANGE,e)}}]),n}(s.a);t.a=g},Qz9N:function(e,t,n){"use strict";var i=n("aBeY"),r=n("g38P"),a=n("zJp8"),o=n("n2w5"),s=n("4cD7"),l=n("oWEL"),u=n("hKKC"),c=n("k/Gk"),h=n("AjuZ");t.a=function(e){b(n,e);var t=T(n);function n(e,i,r,a,s,l,u){var c;return _(this,n),(c=t.call(this)).context_=e,c.pixelRatio_=i,c.extent_=r,c.transform_=a,c.viewRotation_=s,c.squaredTolerance_=l,c.userTransform_=u,c.contextFillState_=null,c.contextStrokeState_=null,c.contextTextState_=null,c.fillState_=null,c.strokeState_=null,c.image_=null,c.imageAnchorX_=0,c.imageAnchorY_=0,c.imageHeight_=0,c.imageOpacity_=0,c.imageOriginX_=0,c.imageOriginY_=0,c.imageRotateWithView_=!1,c.imageRotation_=0,c.imageScale_=[0,0],c.imageWidth_=0,c.text_="",c.textOffsetX_=0,c.textOffsetY_=0,c.textRotateWithView_=!1,c.textRotation_=0,c.textScale_=[0,0],c.textFillState_=null,c.textStrokeState_=null,c.textState_=null,c.pixelCoordinates_=[],c.tmpLocalTransform_=Object(o.c)(),c}return y(n,[{key:"drawImages_",value:function(e,t,n,i){if(this.image_){var r=Object(c.c)(e,t,n,2,this.transform_,this.pixelCoordinates_),a=this.context_,s=this.tmpLocalTransform_,l=a.globalAlpha;1!=this.imageOpacity_&&(a.globalAlpha=l*this.imageOpacity_);var u=this.imageRotation_;this.imageRotateWithView_&&(u+=this.viewRotation_);for(var h=0,d=r.length;h<d;h+=2){var f=r[h]-this.imageAnchorX_,p=r[h+1]-this.imageAnchorY_;if(0!==u||1!=this.imageScale_[0]||1!=this.imageScale_[1]){var m=f+this.imageAnchorX_,v=p+this.imageAnchorY_;Object(o.b)(s,m,v,1,1,u,-m,-v),a.setTransform.apply(a,s),a.translate(m,v),a.scale(this.imageScale_[0],this.imageScale_[1]),a.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),a.setTransform(1,0,0,1,0,0)}else a.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,f,p,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(a.globalAlpha=l)}}},{key:"drawText_",value:function(e,t,n,i){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var r=Object(c.c)(e,t,n,i,this.transform_,this.pixelCoordinates_),a=this.context_,s=this.textRotation_;for(this.textRotateWithView_&&(s+=this.viewRotation_);t<n;t+=i){var l=r[t]+this.textOffsetX_,u=r[t+1]+this.textOffsetY_;if(0!==s||1!=this.textScale_[0]||1!=this.textScale_[1]){var h=Object(o.b)(this.tmpLocalTransform_,l,u,1,1,s,-l,-u);a.setTransform.apply(a,h),a.translate(l,u),a.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&a.strokeText(this.text_,0,0),this.textFillState_&&a.fillText(this.text_,0,0),a.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&a.strokeText(this.text_,l,u),this.textFillState_&&a.fillText(this.text_,l,u)}}}},{key:"moveToLineTo_",value:function(e,t,n,i,r){var a=this.context_,o=Object(c.c)(e,t,n,i,this.transform_,this.pixelCoordinates_);a.moveTo(o[0],o[1]);var s=o.length;r&&(s-=2);for(var l=2;l<s;l+=2)a.lineTo(o[l],o[l+1]);return r&&a.closePath(),n}},{key:"drawRings_",value:function(e,t,n,i){for(var r=0,a=n.length;r<a;++r)t=this.moveToLineTo_(e,t,n[r],i,!0);return t}},{key:"drawCircle",value:function(e){if(Object(u.G)(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var t=Object(h.b)(e,this.transform_,this.pixelCoordinates_),n=t[2]-t[0],i=t[3]-t[1],r=Math.sqrt(n*n+i*i),a=this.context_;a.beginPath(),a.arc(t[0],t[1],r,0,2*Math.PI),this.fillState_&&a.fill(),this.strokeState_&&a.stroke()}""!==this.text_&&this.drawText_(e.getCenter(),0,2,2)}}},{key:"setStyle",value:function(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())}},{key:"setTransform",value:function(e){this.transform_=e}},{key:"drawGeometry",value:function(e){switch(e.getType()){case i.a.POINT:this.drawPoint(e);break;case i.a.LINE_STRING:this.drawLineString(e);break;case i.a.POLYGON:this.drawPolygon(e);break;case i.a.MULTI_POINT:this.drawMultiPoint(e);break;case i.a.MULTI_LINE_STRING:this.drawMultiLineString(e);break;case i.a.MULTI_POLYGON:this.drawMultiPolygon(e);break;case i.a.GEOMETRY_COLLECTION:this.drawGeometryCollection(e);break;case i.a.CIRCLE:this.drawCircle(e)}}},{key:"drawFeature",value:function(e,t){var n=t.getGeometryFunction()(e);n&&Object(u.G)(this.extent_,n.getExtent())&&(this.setStyle(t),this.drawGeometry(n))}},{key:"drawGeometryCollection",value:function(e){for(var t=e.getGeometriesArray(),n=0,i=t.length;n<i;++n)this.drawGeometry(t[n])}},{key:"drawPoint",value:function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var t=e.getFlatCoordinates(),n=e.getStride();this.image_&&this.drawImages_(t,0,t.length,n),""!==this.text_&&this.drawText_(t,0,t.length,n)}},{key:"drawMultiPoint",value:function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var t=e.getFlatCoordinates(),n=e.getStride();this.image_&&this.drawImages_(t,0,t.length,n),""!==this.text_&&this.drawText_(t,0,t.length,n)}},{key:"drawLineString",value:function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Object(u.G)(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var t=this.context_,n=e.getFlatCoordinates();t.beginPath(),this.moveToLineTo_(n,0,n.length,e.getStride(),!1),t.stroke()}if(""!==this.text_){var i=e.getFlatMidpoint();this.drawText_(i,0,2,2)}}}},{key:"drawMultiLineString",value:function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var t=e.getExtent();if(Object(u.G)(this.extent_,t)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n=this.context_,i=e.getFlatCoordinates(),r=0,a=e.getEnds(),o=e.getStride();n.beginPath();for(var s=0,l=a.length;s<l;++s)r=this.moveToLineTo_(i,r,a[s],o,!1);n.stroke()}if(""!==this.text_){var c=e.getFlatMidpoints();this.drawText_(c,0,c.length,2)}}}},{key:"drawPolygon",value:function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Object(u.G)(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var t=this.context_;t.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(""!==this.text_){var n=e.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}}},{key:"drawMultiPolygon",value:function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Object(u.G)(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var t=this.context_,n=e.getOrientedFlatCoordinates(),i=0,r=e.getEndss(),a=e.getStride();t.beginPath();for(var o=0,s=r.length;o<s;++o)i=this.drawRings_(n,i,r[o],a);this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(""!==this.text_){var l=e.getFlatInteriorPoints();this.drawText_(l,0,l.length,2)}}}},{key:"setContextFillState_",value:function(e){var t=this.context_,n=this.contextFillState_;n?n.fillStyle!=e.fillStyle&&(n.fillStyle=e.fillStyle,t.fillStyle=e.fillStyle):(t.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})}},{key:"setContextStrokeState_",value:function(e){var t=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=e.lineCap&&(n.lineCap=e.lineCap,t.lineCap=e.lineCap),t.setLineDash&&(Object(l.b)(n.lineDash,e.lineDash)||t.setLineDash(n.lineDash=e.lineDash),n.lineDashOffset!=e.lineDashOffset&&(n.lineDashOffset=e.lineDashOffset,t.lineDashOffset=e.lineDashOffset)),n.lineJoin!=e.lineJoin&&(n.lineJoin=e.lineJoin,t.lineJoin=e.lineJoin),n.lineWidth!=e.lineWidth&&(n.lineWidth=e.lineWidth,t.lineWidth=e.lineWidth),n.miterLimit!=e.miterLimit&&(n.miterLimit=e.miterLimit,t.miterLimit=e.miterLimit),n.strokeStyle!=e.strokeStyle&&(n.strokeStyle=e.strokeStyle,t.strokeStyle=e.strokeStyle)):(t.lineCap=e.lineCap,t.setLineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.lineWidth=e.lineWidth,t.miterLimit=e.miterLimit,t.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}},{key:"setContextTextState_",value:function(e){var t=this.context_,n=this.contextTextState_,i=e.textAlign?e.textAlign:s.m;n?(n.font!=e.font&&(n.font=e.font,t.font=e.font),n.textAlign!=i&&(n.textAlign=i,t.textAlign=i),n.textBaseline!=e.textBaseline&&(n.textBaseline=e.textBaseline,t.textBaseline=e.textBaseline)):(t.font=e.font,t.textAlign=i,t.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:i,textBaseline:e.textBaseline})}},{key:"setFillStrokeStyle",value:function(e,t){if(e){var n=e.getColor();this.fillState_={fillStyle:Object(a.a)(n||s.c)}}else this.fillState_=null;if(t){var i=t.getColor(),r=t.getLineCap(),o=t.getLineDash(),l=t.getLineDashOffset(),u=t.getLineJoin(),c=t.getWidth(),h=t.getMiterLimit();this.strokeState_={lineCap:void 0!==r?r:s.e,lineDash:o||s.f,lineDashOffset:l||s.g,lineJoin:void 0!==u?u:s.h,lineWidth:this.pixelRatio_*(void 0!==c?c:s.i),miterLimit:void 0!==h?h:s.j,strokeStyle:Object(a.a)(i||s.l)}}else this.strokeState_=null}},{key:"setImageStyle",value:function(e){if(e){var t=e.getSize();if(t){var n=e.getAnchor(),i=e.getImage(1),r=e.getOrigin(),a=e.getScaleArray();this.imageAnchorX_=n[0],this.imageAnchorY_=n[1],this.imageHeight_=t[1],this.image_=i,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=r[0],this.imageOriginY_=r[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation(),this.imageScale_=[this.pixelRatio_*a[0],this.pixelRatio_*a[1]],this.imageWidth_=t[0]}else this.image_=null}else this.image_=null}},{key:"setTextStyle",value:function(e){if(e){var t=e.getFill();if(t){var n=t.getColor();this.textFillState_={fillStyle:Object(a.a)(n||s.c)}}else this.textFillState_=null;var i=e.getStroke();if(i){var r=i.getColor(),o=i.getLineCap(),l=i.getLineDash(),u=i.getLineDashOffset(),c=i.getLineJoin(),h=i.getWidth(),d=i.getMiterLimit();this.textStrokeState_={lineCap:void 0!==o?o:s.e,lineDash:l||s.f,lineDashOffset:u||s.g,lineJoin:void 0!==c?c:s.h,lineWidth:void 0!==h?h:s.i,miterLimit:void 0!==d?d:s.j,strokeStyle:Object(a.a)(r||s.l)}}else this.textStrokeState_=null;var f=e.getFont(),p=e.getOffsetX(),m=e.getOffsetY(),v=e.getRotateWithView(),g=e.getRotation(),y=e.getScaleArray(),_=e.getText(),b=e.getTextAlign(),S=e.getTextBaseline();this.textState_={font:void 0!==f?f:s.d,textAlign:void 0!==b?b:s.m,textBaseline:void 0!==S?S:s.n},this.text_=void 0!==_?_:"",this.textOffsetX_=void 0!==p?this.pixelRatio_*p:0,this.textOffsetY_=void 0!==m?this.pixelRatio_*m:0,this.textRotateWithView_=void 0!==v&&v,this.textRotation_=void 0!==g?g:0,this.textScale_=[this.pixelRatio_*y[0],this.pixelRatio_*y[1]]}else this.text_=""}}]),n}(r.a)},RGpb:function(e,t,n){"use strict";var i=n("BbPW"),r=n("Gp2b"),a=n("6Xq6"),o=n("Bpkx");t.a=function(e){b(n,e);var t=T(n);function n(e){var i;return _(this,n),(i=t.call(this)).eventTarget_=e,i.pendingRemovals_=null,i.dispatching_=null,i.listeners_=null,i}return y(n,[{key:"addEventListener",value:function(e,t){if(e&&t){var n=this.listeners_||(this.listeners_={}),i=n[e]||(n[e]=[]);-1===i.indexOf(t)&&i.push(t)}}},{key:"dispatchEvent",value:function(e){var t="string"==typeof e?new r.a(e):e,n=t.type;t.target||(t.target=this.eventTarget_||this);var i,o=this.listeners_&&this.listeners_[n];if(o){var s=this.dispatching_||(this.dispatching_={}),l=this.pendingRemovals_||(this.pendingRemovals_={});n in s||(s[n]=0,l[n]=0),++s[n];for(var u=0,c=o.length;u<c;++u)if(!1===(i="handleEvent"in o[u]?o[u].handleEvent(t):o[u].call(this,t))||t.propagationStopped){i=!1;break}if(--s[n],0===s[n]){var h=l[n];for(delete l[n];h--;)this.removeEventListener(n,a.c);delete s[n]}return i}}},{key:"disposeInternal",value:function(){this.listeners_&&Object(o.b)(this.listeners_)}},{key:"getListeners",value:function(e){return this.listeners_&&this.listeners_[e]||void 0}},{key:"hasListener",value:function(e){return!!this.listeners_&&(e?e in this.listeners_:Object.keys(this.listeners_).length>0)}},{key:"removeEventListener",value:function(e,t){var n=this.listeners_&&this.listeners_[e];if(n){var i=n.indexOf(t);-1!==i&&(this.pendingRemovals_&&e in this.pendingRemovals_?(n[i]=a.c,++this.pendingRemovals_[e]):(n.splice(i,1),0===n.length&&delete this.listeners_[e]))}}}]),n}(i.a)},RZOP:function(e,t,n){var i,r;void 0===(r="function"==typeof(i=function(){return{GML_3_1_1:{n:"GML_3_1_1",dens:"http://www.opengis.net/gml",dans:"http://www.w3.org/1999/xlink",deps:["SMIL_2_0_Language","XLink_1_0"],tis:[{ln:"PointPropertyType",ps:[{n:"point",rq:!0,en:"Point",ti:".PointType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"TopoPrimitiveArrayAssociationType",ps:[{n:"topoPrimitive",mno:0,col:!0,mx:!1,dom:!1,en:"_TopoPrimitive",ti:".AbstractTopoPrimitiveType",t:"er"}]},{ln:"CurveArrayPropertyType",ps:[{n:"curve",mno:0,col:!0,mx:!1,dom:!1,en:"_Curve",ti:".AbstractCurveType",t:"er"}]},{ln:"BaseUnitType",bti:".UnitDefinitionType",ps:[{n:"unitsSystem",rq:!0,ti:".ReferenceType"}]},{ln:"TimeNodeType",bti:".AbstractTimeTopologyPrimitiveType",ps:[{n:"previousEdge",mno:0,col:!0,ti:".TimeEdgePropertyType"},{n:"nextEdge",mno:0,col:!0,ti:".TimeEdgePropertyType"},{n:"position",ti:".TimeInstantPropertyType"}]},{ln:"DirectedEdgePropertyType",ps:[{n:"edge",rq:!0,en:"Edge",ti:".EdgeType"},{n:"orientation",an:{lp:"orientation"},t:"a"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"BagType",bti:".AbstractGMLType",ps:[{n:"member",mno:0,col:!0,ti:".AssociationType"},{n:"members",ti:".ArrayAssociationType"}]},{ln:"DatumRefType",ps:[{n:"datum",rq:!0,mx:!1,dom:!1,en:"_Datum",ti:".AbstractDatumType",t:"er"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"StyleVariationType",ps:[{n:"value",t:"v"},{n:"styleProperty",rq:!0,an:{lp:"styleProperty"},t:"a"},{n:"featurePropertyRange",an:{lp:"featurePropertyRange"},t:"a"}]},{ln:"CurvePropertyType",ps:[{n:"curve",rq:!0,mx:!1,dom:!1,en:"_Curve",ti:".AbstractCurveType",t:"er"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"GeographicCRSType",bti:".AbstractReferenceSystemType",ps:[{n:"usesEllipsoidalCS",rq:!0,ti:".EllipsoidalCSRefType"},{n:"usesGeodeticDatum",rq:!0,ti:".GeodeticDatumRefType"}]},{ln:"MultiSurfaceType",bti:".AbstractGeometricAggregateType",ps:[{n:"surfaceMember",mno:0,col:!0,ti:".SurfacePropertyType"},{n:"surfaceMembers",ti:".SurfaceArrayPropertyType"}]},{ln:"AbstractStyleType",bti:".AbstractGMLType"},{ln:"OperationParameterBaseType",bti:".AbstractGeneralOperationParameterType"},{ln:"TopoPointType",bti:".AbstractTopologyType",ps:[{n:"directedNode",rq:!0,ti:".DirectedNodePropertyType"}]},{ln:"AbstractGeneralDerivedCRSType",bti:".AbstractReferenceSystemType",ps:[{n:"baseCRS",rq:!0,ti:".CoordinateReferenceSystemRefType"},{n:"definedByConversion",rq:!0,ti:".GeneralConversionRefType"}]},{ln:"EllipsoidRefType",ps:[{n:"ellipsoid",rq:!0,en:"Ellipsoid",ti:".EllipsoidType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"TinType.ControlPoint",tn:null,ps:[{n:"posList",rq:!0,ti:".DirectPositionListType"},{n:"geometricPositionGroup",rq:!0,mno:3,col:!0,etis:[{en:"pos",ti:".DirectPositionType"},{en:"pointProperty",ti:".PointPropertyType"}],t:"es"}]},{ln:"PointArrayPropertyType",ps:[{n:"point",mno:0,col:!0,en:"Point",ti:".PointType"}]},{ln:"CoordinatesType",ps:[{n:"value",t:"v"},{n:"decimal",an:{lp:"decimal"},t:"a"},{n:"cs",an:{lp:"cs"},t:"a"},{n:"ts",an:{lp:"ts"},t:"a"}]},{ln:"AbstractDatumType",bti:".AbstractDatumBaseType",ps:[{n:"datumID",mno:0,col:!0,ti:".IdentifierType"},{n:"remarks",ti:".StringOrRefType"},{n:"anchorPoint",ti:".CodeType"},{n:"realizationEpoch",ti:"Date"},{n:"validArea",ti:".ExtentType"},{n:"scope"}]},{ln:"LabelStyleType",bti:".BaseStyleDescriptorType",ps:[{n:"style",rq:!0},{n:"label",rq:!0,ti:".LabelType"}]},{ln:"OperationParameterType",bti:".OperationParameterBaseType",ps:[{n:"parameterID",mno:0,col:!0,ti:".IdentifierType"},{n:"remarks",ti:".StringOrRefType"}]},{ln:"CartesianCSType",bti:".AbstractCoordinateSystemType"},{ln:"ConversionToPreferredUnitType",bti:".UnitOfMeasureType",ps:[{n:"factor",rq:!0,ti:"Double"},{n:"formula",rq:!0,ti:".FormulaType"}]},{ln:"AbstractParametricCurveSurfaceType",bti:".AbstractSurfacePatchType"},{ln:"ProjectedCRSRefType",ps:[{n:"projectedCRS",rq:!0,en:"ProjectedCRS",ti:".ProjectedCRSType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"TimePeriodType",bti:".AbstractTimeGeometricPrimitiveType",ps:[{n:"beginPosition",rq:!0,ti:".TimePositionType"},{n:"begin",rq:!0,ti:".TimeInstantPropertyType"},{n:"endPosition",rq:!0,ti:".TimePositionType"},{n:"end",rq:!0,ti:".TimeInstantPropertyType"},{n:"duration",rq:!0,ti:"Duration"},{n:"timeInterval",rq:!0,ti:".TimeIntervalLengthType"}]},{ln:"SurfacePatchArrayPropertyType",ps:[{n:"surfacePatch",mno:0,col:!0,mx:!1,dom:!1,en:"_SurfacePatch",ti:".AbstractSurfacePatchType",t:"er"}]},{ln:"AreaType",bti:".MeasureType"},{ln:"ArcStringType",bti:".AbstractCurveSegmentType",ps:[{n:"posOrPointPropertyOrPointRep",rq:!0,mno:3,col:!0,mx:!1,dom:!1,etis:[{en:"pointRep",ti:".PointPropertyType"},{en:"pointProperty",ti:".PointPropertyType"},{en:"pos",ti:".DirectPositionType"}],t:"ers"},{n:"posList",rq:!0,ti:".DirectPositionListType"},{n:"coordinates",rq:!0,ti:".CoordinatesType"},{n:"interpolation",an:{lp:"interpolation"},t:"a"},{n:"numArc",ti:"Integer",an:{lp:"numArc"},t:"a"}]},{ln:"TopoSolidType",bti:".AbstractTopoPrimitiveType",ps:[{n:"directedFace",rq:!0,col:!0,ti:".DirectedFacePropertyType"}]},{ln:"RangeParametersType",ps:[{n:"_boolean",rq:!0,en:"Boolean",ti:"Boolean"},{n:"category",rq:!0,en:"Category",ti:".CodeType"},{n:"quantity",rq:!0,en:"Quantity",ti:".MeasureType"},{n:"count",rq:!0,en:"Count",ti:"Integer"},{n:"booleanList",rq:!0,en:"BooleanList",ti:{t:"l"}},{n:"categoryList",rq:!0,en:"CategoryList",ti:".CodeOrNullListType"},{n:"quantityList",rq:!0,en:"QuantityList",ti:".MeasureOrNullListType"},{n:"countList",rq:!0,en:"CountList",ti:{t:"l"}},{n:"categoryExtent",rq:!0,en:"CategoryExtent",ti:".CategoryExtentType"},{n:"quantityExtent",rq:!0,en:"QuantityExtent",ti:".QuantityExtentType"},{n:"countExtent",rq:!0,en:"CountExtent",ti:{t:"l"}},{n:"compositeValue",rq:!0,mx:!1,dom:!1,en:"CompositeValue",ti:".CompositeValueType",t:"er"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"MultiPolygonPropertyType",ps:[{n:"multiPolygon",rq:!0,en:"MultiPolygon",ti:".MultiPolygonType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"GeometryStyleType",bti:".BaseStyleDescriptorType",ps:[{n:"symbol",rq:!0,ti:".SymbolType"},{n:"style",rq:!0},{n:"labelStyle",ti:".LabelStylePropertyType"},{n:"geometryProperty",an:{lp:"geometryProperty"},t:"a"},{n:"geometryType",an:{lp:"geometryType"},t:"a"}]},{ln:"ExtentType",ps:[{n:"description",ti:".StringOrRefType"},{n:"boundingBox",mno:0,col:!0,ti:".EnvelopeType"},{n:"boundingPolygon",mno:0,col:!0,ti:".PolygonType"},{n:"verticalExtent",mno:0,col:!0,ti:".EnvelopeType"},{n:"temporalExtent",mno:0,col:!0,ti:".TimePeriodType"}]},{ln:"UserDefinedCSType",bti:".AbstractCoordinateSystemType"},{ln:"OrientableSurfaceType",bti:".AbstractSurfaceType",ps:[{n:"baseSurface",rq:!0,ti:".SurfacePropertyType"},{n:"orientation",an:{lp:"orientation"},t:"a"}]},{ln:"TemporalDatumRefType",ps:[{n:"temporalDatum",rq:!0,en:"TemporalDatum",ti:".TemporalDatumType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"KnotPropertyType",ps:[{n:"knot",rq:!0,en:"Knot",ti:".KnotType"}]},{ln:"DefinitionProxyType",bti:".DefinitionType",ps:[{n:"definitionRef",rq:!0,ti:".ReferenceType"}]},{ln:"ArcByBulgeType",bti:".ArcStringByBulgeType"},{ln:"GeometricComplexPropertyType",ps:[{n:"geometricComplex",rq:!0,en:"GeometricComplex",ti:".GeometricComplexType"},{n:"compositeCurve",rq:!0,en:"CompositeCurve",ti:".CompositeCurveType"},{n:"compositeSurface",rq:!0,en:"CompositeSurface",ti:".CompositeSurfaceType"},{n:"compositeSolid",rq:!0,en:"CompositeSolid",ti:".CompositeSolidType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"CompositeCurvePropertyType",ps:[{n:"compositeCurve",rq:!0,en:"CompositeCurve",ti:".CompositeCurveType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"OperationParameterGroupBaseType",bti:".AbstractGeneralOperationParameterType"},{ln:"MultiPointCoverageType",bti:".AbstractDiscreteCoverageType"},{ln:"ReferenceType",ps:[{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"ImageCRSRefType",ps:[{n:"imageCRS",rq:!0,en:"ImageCRS",ti:".ImageCRSType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"DefaultStylePropertyType",ps:[{n:"style",mx:!1,dom:!1,en:"_Style",ti:".AbstractStyleType",t:"er"},{n:"about",an:{lp:"about"},t:"a"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"AbstractTimeReferenceSystemType",bti:".DefinitionType",ps:[{n:"domainOfValidity"}]},{ln:"AbsoluteExternalPositionalAccuracyType",bti:".AbstractPositionalAccuracyType",ps:[{n:"result",rq:!0,ti:".MeasureType"}]},{ln:"TopoPrimitiveMemberType",ps:[{n:"topoPrimitive",mx:!1,dom:!1,en:"_TopoPrimitive",ti:".AbstractTopoPrimitiveType",t:"er"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"TimeOrdinalReferenceSystemType",bti:".AbstractTimeReferenceSystemType",ps:[{n:"component",rq:!0,col:!0,ti:".TimeOrdinalEraPropertyType"}]},{ln:"CompositeSolidType",bti:".AbstractSolidType",ps:[{n:"solidMember",rq:!0,col:!0,ti:".SolidPropertyType"}]},{ln:"GeocentricCRSRefType",ps:[{n:"geocentricCRS",rq:!0,en:"GeocentricCRS",ti:".GeocentricCRSType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"MultiCurveType",bti:".AbstractGeometricAggregateType",ps:[{n:"curveMember",mno:0,col:!0,ti:".CurvePropertyType"},{n:"curveMembers",ti:".CurveArrayPropertyType"}]},{ln:"UnitDefinitionType",bti:".DefinitionType",ps:[{n:"quantityType",rq:!0,ti:".StringOrRefType"},{n:"catalogSymbol",ti:".CodeType"}]},{ln:"CurveSegmentArrayPropertyType",ps:[{n:"curveSegment",mno:0,col:!0,mx:!1,dom:!1,en:"_CurveSegment",ti:".AbstractCurveSegmentType",t:"er"}]},{ln:"AbstractTimePrimitiveType",bti:".AbstractTimeObjectType",ps:[{n:"relatedTime",mno:0,col:!0,ti:".RelatedTimeType"}]},{ln:"MultiPointType",bti:".AbstractGeometricAggregateType",ps:[{n:"pointMember",mno:0,col:!0,ti:".PointPropertyType"},{n:"pointMembers",ti:".PointArrayPropertyType"}]},{ln:"MultiPointPropertyType",ps:[{n:"multiPoint",rq:!0,en:"MultiPoint",ti:".MultiPointType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"AbstractTimeTopologyPrimitiveType",bti:".AbstractTimePrimitiveType",ps:[{n:"complex",ti:".ReferenceType"}]},{ln:"KnotType",ps:[{n:"value",rq:!0,ti:"Double"},{n:"multiplicity",rq:!0,ti:"NonNegativeInteger"},{n:"weight",rq:!0,ti:"Double"}]},{ln:"CodeType",ps:[{n:"value",t:"v"},{n:"codeSpace",an:{lp:"codeSpace"},t:"a"}]},{ln:"AbstractTimeSliceType",bti:".AbstractGMLType",ps:[{n:"validTime",rq:!0,ti:".TimePrimitivePropertyType"},{n:"dataSource",ti:".StringOrRefType"}]},{ln:"DynamicFeatureType",bti:".AbstractFeatureType",ps:[{n:"validTime",ti:".TimePrimitivePropertyType"},{n:"history",mx:!1,dom:!1,ti:".HistoryPropertyType",t:"er"},{n:"dataSource",ti:".StringOrRefType"}]},{ln:"RingPropertyType",ps:[{n:"ring",rq:!0,en:"Ring",ti:".RingType"}]},{ln:"EngineeringCRSType",bti:".AbstractReferenceSystemType",ps:[{n:"usesCS",rq:!0,ti:".CoordinateSystemRefType"},{n:"usesEngineeringDatum",rq:!0,ti:".EngineeringDatumRefType"}]},{ln:"BooleanPropertyType",bti:".ValuePropertyType"},{ln:"VerticalCRSRefType",ps:[{n:"verticalCRS",rq:!0,en:"VerticalCRS",ti:".VerticalCRSType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"FormulaType",ps:[{n:"a",ti:"Double"},{n:"b",rq:!0,ti:"Double"},{n:"c",rq:!0,ti:"Double"},{n:"d",ti:"Double"}]},{ln:"EngineeringDatumRefType",ps:[{n:"engineeringDatum",rq:!0,en:"EngineeringDatum",ti:".EngineeringDatumType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"DirectedObservationAtDistanceType",bti:".DirectedObservationType",ps:[{n:"distance",rq:!0,ti:".MeasureType"}]},{ln:"AbstractMetaDataType",ps:[{n:"content",col:!0,dom:!1,t:"ers"},{n:"id",ti:"ID",an:{lp:"id",ns:"http://www.opengis.net/gml"},t:"a"}]},{ln:"AbstractCurveSegmentType",ps:[{n:"numDerivativesAtStart",ti:"Integer",an:{lp:"numDerivativesAtStart"},t:"a"},{n:"numDerivativesAtEnd",ti:"Integer",an:{lp:"numDerivativesAtEnd"},t:"a"},{n:"numDerivativeInterior",ti:"Integer",an:{lp:"numDerivativeInterior"},t:"a"}]},{ln:"RelatedTimeType",bti:".TimePrimitivePropertyType",ps:[{n:"relativePosition",an:{lp:"relativePosition"},t:"a"}]},{ln:"OperationParameterGroupRefType",ps:[{n:"operationParameterGroup",rq:!0,en:"OperationParameterGroup",ti:".OperationParameterGroupType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"GridType",bti:".AbstractGeometryType",ps:[{n:"limits",rq:!0,ti:".GridLimitsType"},{n:"axisName",rq:!0,col:!0},{n:"dimension",rq:!0,ti:"PositiveInteger",an:{lp:"dimension"},t:"a"}]},{ln:"IndexMapType",bti:".GridFunctionType",ps:[{n:"lookUpTable",rq:!0,ti:{t:"l",bti:"Integer"}}]},{ln:"AbstractCurveType",bti:".AbstractGeometricPrimitiveType"},{ln:"MultiGeometryPropertyType",ps:[{n:"geometricAggregate",rq:!0,mx:!1,dom:!1,en:"_GeometricAggregate",ti:".AbstractGeometricAggregateType",t:"er"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"GridCoverageType",bti:".AbstractDiscreteCoverageType"},{ln:"DerivedCRSTypeType",bti:".CodeType"},{ln:"ArrayType",bti:".AbstractGMLType",ps:[{n:"members",ti:".ArrayAssociationType"}]},{ln:"AbstractGriddedSurfaceType",bti:".AbstractParametricCurveSurfaceType",ps:[{n:"row",rq:!0,col:!0,ti:".AbstractGriddedSurfaceType.Row"},{n:"rows",ti:"Integer"},{n:"columns",ti:"Integer"}]},{ln:"AbstractTimeGeometricPrimitiveType",bti:".AbstractTimePrimitiveType",ps:[{n:"frame",an:{lp:"frame"},t:"a"}]},{ln:"ArrayAssociationType",ps:[{n:"object",mno:0,col:!0,mx:!1,dom:!1,en:"_Object",ti:"AnyType",t:"er"}]},{ln:"PassThroughOperationRefType",ps:[{n:"passThroughOperation",rq:!0,en:"PassThroughOperation",ti:".PassThroughOperationType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"PolygonPatchType",bti:".AbstractSurfacePatchType",ps:[{n:"exterior",mx:!1,dom:!1,ti:".AbstractRingPropertyType",t:"er"},{n:"interior",mno:0,col:!0,mx:!1,dom:!1,ti:".AbstractRingPropertyType",t:"er"},{n:"interpolation",an:{lp:"interpolation"},t:"a"}]},{ln:"GeneralTransformationRefType",ps:[{n:"generalTransformation",rq:!0,mx:!1,dom:!1,en:"_GeneralTransformation",ti:".AbstractGeneralTransformationType",t:"er"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"TransformationRefType",ps:[{n:"transformation",rq:!0,en:"Transformation",ti:".TransformationType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"ValueArrayType",bti:".CompositeValueType",ps:[{n:"codeSpace",an:{lp:"codeSpace"},t:"a"},{n:"uom",an:{lp:"uom"},t:"a"}]},{ln:"TimeClockPropertyType",ps:[{n:"timeClock",rq:!0,en:"TimeClock",ti:".TimeClockType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"CylinderType",bti:".AbstractGriddedSurfaceType",ps:[{n:"horizontalCURVETYPE",an:{lp:"horizontalCurveType"},t:"a"},{n:"verticalCURVETYPE",an:{lp:"verticalCurveType"},t:"a"}]},{ln:"MultiSurfaceCoverageType",bti:".AbstractDiscreteCoverageType"},{ln:"VerticalDatumTypeType",bti:".CodeType"},{ln:"GeometryArrayPropertyType",ps:[{n:"geometry",mno:0,col:!0,mx:!1,dom:!1,en:"_Geometry",ti:".AbstractGeometryType",t:"er"}]},{ln:"MultiCurvePropertyType",ps:[{n:"multiCurve",rq:!0,en:"MultiCurve",ti:".MultiCurveType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"DirectedFacePropertyType",ps:[{n:"face",rq:!0,en:"Face",ti:".FaceType"},{n:"orientation",an:{lp:"orientation"},t:"a"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"GridFunctionType",ps:[{n:"sequenceRule",ti:".SequenceRuleType"},{n:"startPoint",ti:{t:"l",bti:"Integer"}}]},{ln:"DMSAngleType",ps:[{n:"degrees",rq:!0,ti:".DegreesType"},{n:"decimalMinutes",rq:!0,ti:"Decimal"},{n:"minutes",rq:!0,ti:"NonNegativeInteger"},{n:"seconds",ti:"Decimal"}]},{ln:"AbstractTimeComplexType",bti:".AbstractTimeObjectType"},{ln:"LocationPropertyType",ps:[{n:"geometry",rq:!0,mx:!1,dom:!1,en:"_Geometry",ti:".AbstractGeometryType",t:"er"},{n:"locationKeyWord",rq:!0,en:"LocationKeyWord",ti:".CodeType"},{n:"locationString",rq:!0,en:"LocationString",ti:".StringOrRefType"},{n:"_null",rq:!0,en:"Null",ti:{t:"l"}},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"SurfaceType",bti:".AbstractSurfaceType",ps:[{n:"patches",rq:!0,mx:!1,dom:!1,ti:".SurfacePatchArrayPropertyType",t:"er"}]},{ln:"LabelType",ps:[{n:"content",col:!0,dom:!1,en:"LabelExpression",t:"er"},{n:"transform",an:{lp:"transform",ns:"http://www.opengis.net/gml"},t:"a"}]},{ln:"OperationParameterRefType",ps:[{n:"operationParameter",rq:!0,en:"OperationParameter",ti:".OperationParameterType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"AbstractSolidType",bti:".AbstractGeometricPrimitiveType"},{ln:"GenericMetaDataType",bti:".AbstractMetaDataType",ps:[{n:"contentOverrideForGenericMetaDataType",t:"ae"}]},{ln:"CoordinateOperationRefType",ps:[{n:"coordinateOperation",rq:!0,mx:!1,dom:!1,en:"_CoordinateOperation",ti:".AbstractCoordinateOperationType",t:"er"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"DataBlockType",ps:[{n:"rangeParameters",rq:!0,ti:".RangeParametersType"},{n:"tupleList",rq:!0,ti:".CoordinatesType"},{n:"doubleOrNullTupleList",rq:!0,ti:{t:"l"}}]},{ln:"TopoComplexType",bti:".AbstractTopologyType",ps:[{n:"maximalComplex",rq:!0,ti:".TopoComplexMemberType"},{n:"superComplex",mno:0,col:!0,ti:".TopoComplexMemberType"},{n:"subComplex",mno:0,col:!0,ti:".TopoComplexMemberType"},{n:"topoPrimitiveMember",mno:0,col:!0,ti:".TopoPrimitiveMemberType"},{n:"topoPrimitiveMembers",ti:".TopoPrimitiveArrayAssociationType"},{n:"isMaximal",ti:"Boolean",an:{lp:"isMaximal"},t:"a"}]},{ln:"NodeType",bti:".AbstractTopoPrimitiveType",ps:[{n:"directedEdge",mno:0,col:!0,ti:".DirectedEdgePropertyType"},{n:"pointProperty",ti:".PointPropertyType"}]},{ln:"PolarCSRefType",ps:[{n:"polarCS",rq:!0,en:"PolarCS",ti:".PolarCSType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"AbstractTopologyType",bti:".AbstractGMLType"},{ln:"ClothoidType",bti:".AbstractCurveSegmentType",ps:[{n:"refLocation",rq:!0,ti:".ClothoidType.RefLocation"},{n:"scaleFactor",rq:!0,ti:"Decimal"},{n:"startParameter",rq:!0,ti:"Double"},{n:"endParameter",rq:!0,ti:"Double"}]},{ln:"MetaDataPropertyType",ps:[{n:"any",rq:!0,mx:!1,t:"ae"},{n:"about",an:{lp:"about"},t:"a"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"ArcByCenterPointType",bti:".AbstractCurveSegmentType",ps:[{n:"pos",rq:!0,ti:".DirectPositionType"},{n:"pointProperty",rq:!0,ti:".PointPropertyType"},{n:"pointRep",rq:!0,ti:".PointPropertyType"},{n:"posList",rq:!0,ti:".DirectPositionListType"},{n:"coordinates",rq:!0,ti:".CoordinatesType"},{n:"radius",rq:!0,ti:".LengthType"},{n:"startAngle",ti:".AngleType"},{n:"endAngle",ti:".AngleType"},{n:"interpolation",an:{lp:"interpolation"},t:"a"},{n:"numARC",rq:!0,ti:"Integer",an:{lp:"numArc"},t:"a"}]},{ln:"ConversionRefType",ps:[{n:"conversion",rq:!0,en:"Conversion",ti:".ConversionType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"DegreesType",ps:[{n:"value",ti:"NonNegativeInteger",t:"v"},{n:"direction",an:{lp:"direction"},t:"a"}]},{ln:"MultiSurfaceDomainType",bti:".DomainSetType"},{ln:"ConcatenatedOperationRefType",ps:[{n:"concatenatedOperation",rq:!0,en:"ConcatenatedOperation",ti:".ConcatenatedOperationType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"OperationMethodType",bti:".OperationMethodBaseType",ps:[{n:"methodID",mno:0,col:!0,ti:".IdentifierType"},{n:"remarks",ti:".StringOrRefType"},{n:"methodFormula",rq:!0,ti:".CodeType"},{n:"sourceDimensions",rq:!0,ti:"PositiveInteger"},{n:"targetDimensions",rq:!0,ti:"PositiveInteger"},{n:"usesParameter",mno:0,col:!0,ti:".AbstractGeneralOperationParameterRefType"}]},{ln:"EllipsoidalCSType",bti:".AbstractCoordinateSystemType"},{ln:"SpeedType",bti:".MeasureType"},{ln:"PolygonType",bti:".AbstractSurfaceType",ps:[{n:"exterior",mx:!1,dom:!1,ti:".AbstractRingPropertyType",t:"er"},{n:"interior",mno:0,col:!0,mx:!1,dom:!1,ti:".AbstractRingPropertyType",t:"er"}]},{ln:"AbstractTopoPrimitiveType",bti:".AbstractTopologyType",ps:[{n:"isolated",mno:0,col:!0,ti:".IsolatedPropertyType"},{n:"container",ti:".ContainerPropertyType"}]},{ln:"BSplineType",bti:".AbstractCurveSegmentType",ps:[{n:"posOrPointPropertyOrPointRep",mno:0,col:!0,mx:!1,dom:!1,etis:[{en:"pointRep",ti:".PointPropertyType"},{en:"pointProperty",ti:".PointPropertyType"},{en:"pos",ti:".DirectPositionType"}],t:"ers"},{n:"posList",rq:!0,ti:".DirectPositionListType"},{n:"coordinates",rq:!0,ti:".CoordinatesType"},{n:"degree",rq:!0,ti:"NonNegativeInteger"},{n:"knot",rq:!0,mno:2,col:!0,ti:".KnotPropertyType"},{n:"interpolation",an:{lp:"interpolation"},t:"a"},{n:"isPolynomial",ti:"Boolean",an:{lp:"isPolynomial"},t:"a"},{n:"knotType",an:{lp:"knotType"},t:"a"}]},{ln:"FileType",ps:[{n:"rangeParameters",rq:!0,ti:".RangeParametersType"},{n:"fileName",rq:!0},{n:"fileStructure",rq:!0},{n:"mimeType"},{n:"compression"}]},{ln:"RectifiedGridType",bti:".GridType",ps:[{n:"origin",rq:!0,ti:".PointPropertyType"},{n:"offsetVector",rq:!0,col:!0,ti:".VectorType"}]},{ln:"TimePeriodPropertyType",ps:[{n:"timePeriod",rq:!0,en:"TimePeriod",ti:".TimePeriodType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"RingType",bti:".AbstractRingType",ps:[{n:"curveMember",rq:!0,col:!0,ti:".CurvePropertyType"}]},{ln:"ClothoidType.RefLocation",tn:null,ps:[{n:"affinePlacement",rq:!0,en:"AffinePlacement",ti:".AffinePlacementType"}]},{ln:"GeometryStylePropertyType",ps:[{n:"geometryStyle",en:"GeometryStyle",ti:".GeometryStyleType"},{n:"about",an:{lp:"about"},t:"a"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"EnvelopeWithTimePeriodType",bti:".EnvelopeType",ps:[{n:"timePosition",rq:!0,mno:2,mxo:2,col:!0,ti:".TimePositionType"},{n:"frame",an:{lp:"frame"},t:"a"}]},{ln:"ValuePropertyType",ps:[{n:"_boolean",rq:!0,en:"Boolean",ti:"Boolean"},{n:"category",rq:!0,en:"Category",ti:".CodeType"},{n:"quantity",rq:!0,en:"Quantity",ti:".MeasureType"},{n:"count",rq:!0,en:"Count",ti:"Integer"},{n:"booleanList",rq:!0,en:"BooleanList",ti:{t:"l"}},{n:"categoryList",rq:!0,en:"CategoryList",ti:".CodeOrNullListType"},{n:"quantityList",rq:!0,en:"QuantityList",ti:".MeasureOrNullListType"},{n:"countList",rq:!0,en:"CountList",ti:{t:"l"}},{n:"categoryExtent",rq:!0,en:"CategoryExtent",ti:".CategoryExtentType"},{n:"quantityExtent",rq:!0,en:"QuantityExtent",ti:".QuantityExtentType"},{n:"countExtent",rq:!0,en:"CountExtent",ti:{t:"l"}},{n:"compositeValue",rq:!0,mx:!1,dom:!1,en:"CompositeValue",ti:".CompositeValueType",t:"er"},{n:"object",rq:!0,mx:!1,dom:!1,en:"_Object",ti:"AnyType",t:"er"},{n:"_null",rq:!0,en:"Null",ti:{t:"l"}},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"GeodesicStringType",bti:".AbstractCurveSegmentType",ps:[{n:"posList",rq:!0,ti:".DirectPositionListType"},{n:"geometricPositionGroup",rq:!0,mno:2,col:!0,etis:[{en:"pos",ti:".DirectPositionType"},{en:"pointProperty",ti:".PointPropertyType"}],t:"es"},{n:"interpolation",an:{lp:"interpolation"},t:"a"}]},{ln:"AbstractDatumBaseType",bti:".DefinitionType"},{ln:"TemporalCRSRefType",ps:[{n:"temporalCRS",rq:!0,en:"TemporalCRS",ti:".TemporalCRSType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"MultiGeometryType",bti:".AbstractGeometricAggregateType",ps:[{n:"geometryMember",mno:0,col:!0,ti:".GeometryPropertyType"},{n:"geometryMembers",ti:".GeometryArrayPropertyType"}]},{ln:"TimeInstantPropertyType",ps:[{n:"timeInstant",rq:!0,en:"TimeInstant",ti:".TimeInstantType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"CompoundCRSRefType",ps:[{n:"compoundCRS",rq:!0,en:"CompoundCRS",ti:".CompoundCRSType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"TrianglePatchArrayPropertyType",bti:".SurfacePatchArrayPropertyType"},{ln:"DomainSetType",ps:[{n:"geometry",rq:!0,mx:!1,dom:!1,en:"_Geometry",ti:".AbstractGeometryType",t:"er"},{n:"timeObject",rq:!0,mx:!1,dom:!1,en:"_TimeObject",ti:".AbstractTimeObjectType",t:"er"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"TemporalCSRefType",ps:[{n:"temporalCS",rq:!0,en:"TemporalCS",ti:".TemporalCSType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"MultiPolygonType",bti:".AbstractGeometricAggregateType",ps:[{n:"polygonMember",mno:0,col:!0,ti:".PolygonPropertyType"}]},{ln:"StyleType",bti:".AbstractStyleType",ps:[{n:"featureStyle",rq:!0,col:!0,ti:".FeatureStylePropertyType"},{n:"graphStyle",ti:".GraphStylePropertyType"}]},{ln:"DynamicFeatureCollectionType",bti:".FeatureCollectionType",ps:[{n:"validTime",ti:".TimePrimitivePropertyType"},{n:"history",mx:!1,dom:!1,ti:".HistoryPropertyType",t:"er"},{n:"dataSource",ti:".StringOrRefType"}]},{ln:"PrimeMeridianBaseType",bti:".DefinitionType"},{ln:"AbstractGriddedSurfaceType.Row",tn:null,ps:[{n:"posList",rq:!0,ti:".DirectPositionListType"},{n:"geometricPositionGroup",rq:!0,col:!0,etis:[{en:"pos",ti:".DirectPositionType"},{en:"pointProperty",ti:".PointPropertyType"}],t:"es"}]},{ln:"DictionaryType",bti:".DefinitionType",ps:[{n:"dictionaryEntryOrIndirectEntry",mno:0,col:!0,mx:!1,dom:!1,etis:[{en:"indirectEntry",ti:".IndirectEntryType"},{en:"dictionaryEntry",ti:".DictionaryEntryType"}],t:"ers"}]},{ln:"CoordType",ps:[{n:"x",rq:!0,en:"X",ti:"Decimal"},{n:"y",en:"Y",ti:"Decimal"},{n:"z",en:"Z",ti:"Decimal"}]},{ln:"RectangleType",bti:".AbstractSurfacePatchType",ps:[{n:"exterior",rq:!0,mx:!1,dom:!1,ti:".AbstractRingPropertyType",t:"er"},{n:"interpolation",an:{lp:"interpolation"},t:"a"}]},{ln:"DirectionPropertyType",ps:[{n:"directionVector",rq:!0,en:"DirectionVector",ti:".DirectionVectorType"},{n:"compassPoint",rq:!0,en:"CompassPoint"},{n:"directionKeyword",rq:!0,en:"DirectionKeyword",ti:".CodeType"},{n:"directionString",rq:!0,en:"DirectionString",ti:".StringOrRefType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"AbstractFeatureCollectionType",bti:".AbstractFeatureType",ps:[{n:"featureMember",mno:0,col:!0,ti:".FeaturePropertyType"},{n:"featureMembers",ti:".FeatureArrayPropertyType"}]},{ln:"PrimeMeridianType",bti:".PrimeMeridianBaseType",ps:[{n:"meridianID",mno:0,col:!0,ti:".IdentifierType"},{n:"remarks",ti:".StringOrRefType"},{n:"greenwichLongitude",rq:!0,ti:".AngleChoiceType"}]},{ln:"SolidPropertyType",ps:[{n:"solid",rq:!0,mx:!1,dom:!1,en:"_Solid",ti:".AbstractSolidType",t:"er"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"FeatureStylePropertyType",ps:[{n:"featureStyle",en:"FeatureStyle",ti:".FeatureStyleType"},{n:"about",an:{lp:"about"},t:"a"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"TimeCalendarType",bti:".AbstractTimeReferenceSystemType",ps:[{n:"referenceFrame",rq:!0,col:!0,ti:".TimeCalendarEraPropertyType"}]},{ln:"AbstractGeneralOperationParameterType",bti:".DefinitionType",ps:[{n:"minimumOccurs",ti:"NonNegativeInteger"}]},{ln:"DerivedCRSType",bti:".AbstractGeneralDerivedCRSType",ps:[{n:"derivedCRSType",rq:!0,ti:".DerivedCRSTypeType"},{n:"usesCS",rq:!0,ti:".CoordinateSystemRefType"}]},{ln:"TimeType",bti:".MeasureType"},{ln:"CylindricalCSType",bti:".AbstractCoordinateSystemType"},{ln:"UnitOfMeasureType",ps:[{n:"uom",rq:!0,an:{lp:"uom"},t:"a"}]},{ln:"GeneralConversionRefType",ps:[{n:"generalConversion",rq:!0,mx:!1,dom:!1,en:"_GeneralConversion",ti:".AbstractGeneralConversionType",t:"er"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"AffinePlacementType",ps:[{n:"location",rq:!0,ti:".DirectPositionType"},{n:"refDirection",rq:!0,col:!0,ti:".VectorType"},{n:"inDimension",rq:!0,ti:"PositiveInteger"},{n:"outDimension",rq:!0,ti:"PositiveInteger"}]},{ln:"PolyhedralSurfaceType",bti:".SurfaceType"},{ln:"IsolatedPropertyType",ps:[{n:"node",rq:!0,en:"Node",ti:".NodeType"},{n:"edge",rq:!0,en:"Edge",ti:".EdgeType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"SolidType",bti:".AbstractSolidType",ps:[{n:"exterior",ti:".SurfacePropertyType"},{n:"interior",mno:0,col:!0,ti:".SurfacePropertyType"}]},{ln:"VerticalCSType",bti:".AbstractCoordinateSystemType"},{ln:"ArcType",bti:".ArcStringType"},{ln:"GeometricPrimitivePropertyType",ps:[{n:"geometricPrimitive",rq:!0,mx:!1,dom:!1,en:"_GeometricPrimitive",ti:".AbstractGeometricPrimitiveType",t:"er"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"AbstractSurfacePatchType"},{ln:"EllipsoidalCSRefType",ps:[{n:"ellipsoidalCS",rq:!0,en:"EllipsoidalCS",ti:".EllipsoidalCSType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"LineStringSegmentType",bti:".AbstractCurveSegmentType",ps:[{n:"posOrPointPropertyOrPointRep",rq:!0,mno:2,col:!0,mx:!1,dom:!1,etis:[{en:"pointRep",ti:".PointPropertyType"},{en:"pointProperty",ti:".PointPropertyType"},{en:"pos",ti:".DirectPositionType"}],t:"ers"},{n:"posList",rq:!0,ti:".DirectPositionListType"},{n:"coordinates",rq:!0,ti:".CoordinatesType"},{n:"interpolation",an:{lp:"interpolation"},t:"a"}]},{ln:"IdentifierType",ps:[{n:"name",rq:!0,mx:!1,dom:!1,ti:".CodeType",t:"er"},{n:"version"},{n:"remarks",ti:".StringOrRefType"}]},{ln:"AbstractGeneralTransformationType",bti:".AbstractCoordinateOperationType"},{ln:"TimeCoordinateSystemType",bti:".AbstractTimeReferenceSystemType",ps:[{n:"originPosition",rq:!0,ti:".TimePositionType"},{n:"origin",rq:!0,ti:".TimeInstantPropertyType"},{n:"interval",rq:!0,ti:".TimeIntervalLengthType"}]},{ln:"TemporalDatumBaseType",bti:".AbstractDatumType"},{ln:"GridLengthType",bti:".MeasureType"},{ln:"IndirectEntryType",ps:[{n:"definitionProxy",rq:!0,en:"DefinitionProxy",ti:".DefinitionProxyType"}]},{ln:"PolygonPatchArrayPropertyType",bti:".SurfacePatchArrayPropertyType"},{ln:"HistoryPropertyType",ps:[{n:"timeSlice",rq:!0,col:!0,mx:!1,dom:!1,en:"_TimeSlice",ti:".AbstractTimeSliceType",t:"er"}]},{ln:"EnvelopeType",ps:[{n:"lowerCorner",rq:!0,ti:".DirectPositionType"},{n:"upperCorner",rq:!0,ti:".DirectPositionType"},{n:"coord",rq:!0,mno:2,mxo:2,col:!0,ti:".CoordType"},{n:"pos",rq:!0,mno:2,mxo:2,col:!0,ti:".DirectPositionType"},{n:"coordinates",rq:!0,ti:".CoordinatesType"},{n:"srsName",an:{lp:"srsName"},t:"a"},{n:"srsDimension",ti:"PositiveInteger",an:{lp:"srsDimension"},t:"a"},{n:"axisLabels",ti:{t:"l",bti:"NCName"},an:{lp:"axisLabels"},t:"a"},{n:"uomLabels",ti:{t:"l",bti:"NCName"},an:{lp:"uomLabels"},t:"a"}]},{ln:"CountPropertyType",bti:".ValuePropertyType"},{ln:"ConversionType",bti:".AbstractGeneralConversionType",ps:[{n:"usesMethod",rq:!0,ti:".OperationMethodRefType"},{n:"usesValue",mno:0,col:!0,ti:".ParameterValueType"}]},{ln:"UserDefinedCSRefType",ps:[{n:"userDefinedCS",rq:!0,en:"UserDefinedCS",ti:".UserDefinedCSType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"LabelStylePropertyType",ps:[{n:"labelStyle",en:"LabelStyle",ti:".LabelStyleType"},{n:"about",an:{lp:"about"},t:"a"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"BaseStyleDescriptorType",bti:".AbstractGMLType",ps:[{n:"spatialResolution",ti:".ScaleType"},{n:"styleVariation",mno:0,col:!0,ti:".StyleVariationType"},{n:"animate",mno:0,col:!0,en:{lp:"animate",ns:"http://www.w3.org/2001/SMIL20/"},ti:"SMIL_2_0_Language.AnimateType"},{n:"animateMotion",mno:0,col:!0,en:{lp:"animateMotion",ns:"http://www.w3.org/2001/SMIL20/"},ti:"SMIL_2_0_Language.AnimateMotionType"},{n:"animateColor",mno:0,col:!0,en:{lp:"animateColor",ns:"http://www.w3.org/2001/SMIL20/"},ti:"SMIL_2_0_Language.AnimateColorType"},{n:"set",mno:0,col:!0,en:{lp:"set",ns:"http://www.w3.org/2001/SMIL20/"},ti:"SMIL_2_0_Language.SetType"}]},{ln:"SphericalCSRefType",ps:[{n:"sphericalCS",rq:!0,en:"SphericalCS",ti:".SphericalCSType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"GeodeticDatumType",bti:".AbstractDatumType",ps:[{n:"usesPrimeMeridian",rq:!0,ti:".PrimeMeridianRefType"},{n:"usesEllipsoid",rq:!0,ti:".EllipsoidRefType"}]},{ln:"OperationMethodBaseType",bti:".DefinitionType"},{ln:"LineStringSegmentArrayPropertyType",ps:[{n:"lineStringSegment",mno:0,col:!0,en:"LineStringSegment",ti:".LineStringSegmentType"}]},{ln:"MeasureListType",ps:[{n:"value",ti:{t:"l",bti:"Double"},t:"v"},{n:"uom",rq:!0,an:{lp:"uom"},t:"a"}]},{ln:"EngineeringDatumType",bti:".AbstractDatumType"},{ln:"ScalarValuePropertyType",bti:".ValuePropertyType"},{ln:"TopoVolumeType",bti:".AbstractTopologyType",ps:[{n:"directedTopoSolid",rq:!0,col:!0,ti:".DirectedTopoSolidPropertyType"}]},{ln:"TopoCurvePropertyType",ps:[{n:"topoCurve",rq:!0,en:"TopoCurve",ti:".TopoCurveType"}]},{ln:"TransformationType",bti:".AbstractGeneralTransformationType",ps:[{n:"usesMethod",rq:!0,ti:".OperationMethodRefType"},{n:"usesValue",mno:0,col:!0,ti:".ParameterValueType"}]},{ln:"ParameterValueType",bti:".AbstractGeneralParameterValueType",ps:[{n:"value",rq:!0,ti:".MeasureType"},{n:"dmsAngleValue",rq:!0,ti:".DMSAngleType"},{n:"stringValue",rq:!0},{n:"integerValue",rq:!0,ti:"PositiveInteger"},{n:"booleanValue",rq:!0,ti:"Boolean"},{n:"valueList",rq:!0,ti:".MeasureListType"},{n:"integerValueList",rq:!0,ti:{t:"l",bti:"Integer"}},{n:"valueFile",rq:!0},{n:"valueOfParameter",rq:!0,ti:".OperationParameterRefType"}]},{ln:"TimeGeometricPrimitivePropertyType",ps:[{n:"timeGeometricPrimitive",rq:!0,mx:!1,dom:!1,en:"_TimeGeometricPrimitive",ti:".AbstractTimeGeometricPrimitiveType",t:"er"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"TimeClockType",bti:".AbstractTimeReferenceSystemType",ps:[{n:"referenceEvent",rq:!0,ti:".StringOrRefType"},{n:"referenceTime",rq:!0,ti:"Time"},{n:"utcReference",rq:!0,ti:"Time"},{n:"dateBasis",mno:0,col:!0,ti:".TimeCalendarPropertyType"}]},{ln:"CubicSplineType",bti:".AbstractCurveSegmentType",ps:[{n:"posOrPointPropertyOrPointRep",rq:!0,mno:2,col:!0,mx:!1,dom:!1,etis:[{en:"pointRep",ti:".PointPropertyType"},{en:"pointProperty",ti:".PointPropertyType"},{en:"pos",ti:".DirectPositionType"}],t:"ers"},{n:"posList",rq:!0,ti:".DirectPositionListType"},{n:"coordinates",rq:!0,ti:".CoordinatesType"},{n:"vectorAtStart",rq:!0,ti:".VectorType"},{n:"vectorAtEnd",rq:!0,ti:".VectorType"},{n:"interpolation",an:{lp:"interpolation"},t:"a"},{n:"degree",ti:"Integer",an:{lp:"degree"},t:"a"}]},{ln:"OperationMethodRefType",ps:[{n:"operationMethod",rq:!0,en:"OperationMethod",ti:".OperationMethodType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"LineStringPropertyType",ps:[{n:"lineString",rq:!0,en:"LineString",ti:".LineStringType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"AbstractCoverageType",bti:".AbstractFeatureType",ps:[{n:"domainSet",rq:!0,mx:!1,dom:!1,ti:".DomainSetType",t:"er"},{n:"rangeSet",rq:!0,ti:".RangeSetType"},{n:"dimension",ti:"PositiveInteger",an:{lp:"dimension"},t:"a"}]},{ln:"TargetPropertyType",ps:[{n:"feature",rq:!0,mx:!1,en:"_Feature",ti:".AbstractFeatureType",t:"er"},{n:"geometry",rq:!0,mx:!1,dom:!1,en:"_Geometry",ti:".AbstractGeometryType",t:"er"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"TimePrimitivePropertyType",ps:[{n:"timePrimitive",rq:!0,mx:!1,dom:!1,en:"_TimePrimitive",ti:".AbstractTimePrimitiveType",t:"er"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"CategoryPropertyType",bti:".ValuePropertyType"},{ln:"LineStringType",bti:".AbstractCurveType",ps:[{n:"posOrPointPropertyOrPointRep",rq:!0,mno:2,col:!0,mx:!1,dom:!1,etis:[{en:"pointRep",ti:".PointPropertyType"},{en:"pointProperty",ti:".PointPropertyType"},{en:"coord",ti:".CoordType"},{en:"pos",ti:".DirectPositionType"}],t:"ers"},{n:"posList",rq:!0,ti:".DirectPositionListType"},{n:"coordinates",rq:!0,ti:".CoordinatesType"}]},{ln:"DerivationUnitTermType",bti:".UnitOfMeasureType",ps:[{n:"exponent",ti:"Integer",an:{lp:"exponent"},t:"a"}]},{ln:"TinType",bti:".TriangulatedSurfaceType",ps:[{n:"stopLines",mno:0,col:!0,ti:".LineStringSegmentArrayPropertyType"},{n:"breakLines",mno:0,col:!0,ti:".LineStringSegmentArrayPropertyType"},{n:"maxLength",rq:!0,ti:".LengthType"},{n:"controlPoint",rq:!0,ti:".TinType.ControlPoint"}]},{ln:"GeodeticDatumRefType",ps:[{n:"geodeticDatum",rq:!0,en:"GeodeticDatum",ti:".GeodeticDatumType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"TimePositionType",ps:[{n:"value",ti:{t:"l"},t:"v"},{n:"frame",an:{lp:"frame"},t:"a"},{n:"calendarEraName",an:{lp:"calendarEraName"},t:"a"},{n:"indeterminatePosition",an:{lp:"indeterminatePosition"},t:"a"}]},{ln:"PrimeMeridianRefType",ps:[{n:"primeMeridian",rq:!0,en:"PrimeMeridian",ti:".PrimeMeridianType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"VolumeType",bti:".MeasureType"},{ln:"TimeIntervalLengthType",ps:[{n:"value",ti:"Decimal",t:"v"},{n:"unit",rq:!0,an:{lp:"unit"},t:"a"},{n:"radix",ti:"PositiveInteger",an:{lp:"radix"},t:"a"},{n:"factor",ti:"Integer",an:{lp:"factor"},t:"a"}]},{ln:"ParameterValueGroupType",bti:".AbstractGeneralParameterValueType",ps:[{n:"includesValue",rq:!0,mno:2,col:!0,ti:".AbstractGeneralParameterValueType"},{n:"valuesOfGroup",rq:!0,ti:".OperationParameterGroupRefType"}]},{ln:"CartesianCSRefType",ps:[{n:"cartesianCS",rq:!0,en:"CartesianCS",ti:".CartesianCSType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"TimeEdgePropertyType",ps:[{n:"timeEdge",rq:!0,en:"TimeEdge",ti:".TimeEdgeType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"TopoPointPropertyType",ps:[{n:"topoPoint",rq:!0,en:"TopoPoint",ti:".TopoPointType"}]},{ln:"ProjectedCRSType",bti:".AbstractGeneralDerivedCRSType",ps:[{n:"usesCartesianCS",rq:!0,ti:".CartesianCSRefType"}]},{ln:"MultiCurveDomainType",bti:".DomainSetType"},{ln:"AbstractReferenceSystemBaseType",bti:".DefinitionType"},{ln:"PolygonPropertyType",ps:[{n:"polygon",rq:!0,en:"Polygon",ti:".PolygonType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"PolarCSType",bti:".AbstractCoordinateSystemType"},{ln:"AbstractGeometricPrimitiveType",bti:".AbstractGeometryType"},{ln:"MultiSolidDomainType",bti:".DomainSetType"},{ln:"TopoVolumePropertyType",ps:[{n:"topoVolume",rq:!0,en:"TopoVolume",ti:".TopoVolumeType"}]},{ln:"CircleType",bti:".ArcType"},{ln:"ValueArrayPropertyType",ps:[{n:"value",rq:!0,col:!0,mx:!1,dom:!1,etis:[{en:"CountExtent",ti:{t:"l"}},{en:"Quantity",ti:".MeasureType"},{en:"Null",ti:{t:"l"}},{en:"CountList",ti:{t:"l"}},{en:"Count",ti:"Integer"},{en:"QuantityExtent",ti:".QuantityExtentType"},{en:"_Object",ti:"AnyType"},{en:"CategoryList",ti:".CodeOrNullListType"},{en:"CompositeValue",ti:".CompositeValueType"},{en:"CategoryExtent",ti:".CategoryExtentType"},{en:"Category",ti:".CodeType"},{en:"BooleanList",ti:{t:"l"}},{en:"QuantityList",ti:".MeasureOrNullListType"},{en:"Boolean",ti:"Boolean"}],t:"ers"}]},{ln:"GraphStyleType",bti:".BaseStyleDescriptorType",ps:[{n:"planar",ti:"Boolean"},{n:"directed",ti:"Boolean"},{n:"grid",ti:"Boolean"},{n:"minDistance",ti:"Double"},{n:"minAngle",ti:"Double"},{n:"graphType"},{n:"drawingType"},{n:"lineType"},{n:"aestheticCriteria",mno:0,col:!0}]},{ln:"AbstractGeneralConversionType",bti:".AbstractCoordinateOperationType"},{ln:"TopoSurfaceType",bti:".AbstractTopologyType",ps:[{n:"directedFace",rq:!0,col:!0,ti:".DirectedFacePropertyType"}]},{ln:"MultiPointDomainType",bti:".DomainSetType"},{ln:"CircleByCenterPointType",bti:".ArcByCenterPointType"},{ln:"CompositeSurfaceType",bti:".AbstractSurfaceType",ps:[{n:"surfaceMember",rq:!0,col:!0,ti:".SurfacePropertyType"}]},{ln:"MultiCurveCoverageType",bti:".AbstractDiscreteCoverageType"},{ln:"MultiLineStringType",bti:".AbstractGeometricAggregateType",ps:[{n:"lineStringMember",mno:0,col:!0,ti:".LineStringPropertyType"}]},{ln:"ImageCRSType",bti:".AbstractReferenceSystemType",ps:[{n:"usesCartesianCS",rq:!0,ti:".CartesianCSRefType"},{n:"usesObliqueCartesianCS",rq:!0,ti:".ObliqueCartesianCSRefType"},{n:"usesImageDatum",rq:!0,ti:".ImageDatumRefType"}]},{ln:"FeaturePropertyType",ps:[{n:"feature",rq:!0,mx:!1,en:"_Feature",ti:".AbstractFeatureType",t:"er"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"CoordinateSystemAxisBaseType",bti:".DefinitionType"},{ln:"GeodesicType",bti:".GeodesicStringType"},{ln:"CovarianceElementType",ps:[{n:"rowIndex",rq:!0,ti:"PositiveInteger"},{n:"columnIndex",rq:!0,ti:"PositiveInteger"},{n:"covariance",rq:!0,ti:"Double"}]},{ln:"DerivedUnitType",bti:".UnitDefinitionType",ps:[{n:"derivationUnitTerm",rq:!0,col:!0,ti:".DerivationUnitTermType"}]},{ln:"EdgeType",bti:".AbstractTopoPrimitiveType",ps:[{n:"directedNode",rq:!0,mno:2,mxo:2,col:!0,ti:".DirectedNodePropertyType"},{n:"directedFace",mno:0,col:!0,ti:".DirectedFacePropertyType"},{n:"curveProperty",ti:".CurvePropertyType"}]},{ln:"CompositeSolidPropertyType",ps:[{n:"compositeSolid",rq:!0,en:"CompositeSolid",ti:".CompositeSolidType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"CRSRefType",ps:[{n:"crs",rq:!0,mx:!1,dom:!1,en:"_CRS",ti:".AbstractReferenceSystemType",t:"er"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"AssociationType",ps:[{n:"object",rq:!0,mx:!1,dom:!1,en:"_Object",ti:"AnyType",t:"er"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"TimeOrdinalEraPropertyType",ps:[{n:"timeOrdinalEra",rq:!0,en:"TimeOrdinalEra",ti:".TimeOrdinalEraType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"AbstractCoordinateSystemType",bti:".AbstractCoordinateSystemBaseType",ps:[{n:"csID",mno:0,col:!0,ti:".IdentifierType"},{n:"remarks",ti:".StringOrRefType"},{n:"usesAxis",rq:!0,col:!0,ti:".CoordinateSystemAxisRefType"}]},{ln:"GridDomainType",bti:".DomainSetType"},{ln:"SolidArrayPropertyType",ps:[{n:"solid",mno:0,col:!0,mx:!1,dom:!1,en:"_Solid",ti:".AbstractSolidType",t:"er"}]},{ln:"ConventionalUnitType",bti:".UnitDefinitionType",ps:[{n:"conversionToPreferredUnit",rq:!0,ti:".ConversionToPreferredUnitType"},{n:"roughConversionToPreferredUnit",rq:!0,ti:".ConversionToPreferredUnitType"},{n:"derivationUnitTerm",mno:0,col:!0,ti:".DerivationUnitTermType"}]},{ln:"OrientableCurveType",bti:".AbstractCurveType",ps:[{n:"baseCurve",rq:!0,ti:".CurvePropertyType"},{n:"orientation",an:{lp:"orientation"},t:"a"}]},{ln:"SphereType",bti:".AbstractGriddedSurfaceType",ps:[{n:"horizontalCURVETYPE",an:{lp:"horizontalCurveType"},t:"a"},{n:"verticalCURVETYPE",an:{lp:"verticalCurveType"},t:"a"}]},{ln:"AbstractGeometricAggregateType",bti:".AbstractGeometryType"},{ln:"CurveType",bti:".AbstractCurveType",ps:[{n:"segments",rq:!0,ti:".CurveSegmentArrayPropertyType"}]},{ln:"GridEnvelopeType",ps:[{n:"low",rq:!0,ti:{t:"l",bti:"Integer"}},{n:"high",rq:!0,ti:{t:"l",bti:"Integer"}}]},{ln:"ObservationType",bti:".AbstractFeatureType",ps:[{n:"validTime",rq:!0,ti:".TimePrimitivePropertyType"},{n:"using",ti:".FeaturePropertyType"},{n:"target",mx:!1,dom:!1,ti:".TargetPropertyType",t:"er"},{n:"resultOf",rq:!0,ti:".AssociationType"}]},{ln:"BoundedFeatureType",bti:".AbstractFeatureType"},{ln:"TopoCurveType",bti:".AbstractTopologyType",ps:[{n:"directedEdge",rq:!0,col:!0,ti:".DirectedEdgePropertyType"}]},{ln:"CovarianceMatrixType",bti:".AbstractPositionalAccuracyType",ps:[{n:"unitOfMeasure",rq:!0,col:!0,ti:".UnitOfMeasureType"},{n:"includesElement",rq:!0,col:!0,ti:".CovarianceElementType"}]},{ln:"ConcatenatedOperationType",bti:".AbstractCoordinateOperationType",ps:[{n:"usesSingleOperation",rq:!0,mno:2,col:!0,ti:".SingleOperationRefType"}]},{ln:"AbstractGeneralOperationParameterRefType",ps:[{n:"generalOperationParameter",rq:!0,mx:!1,dom:!1,en:"_GeneralOperationParameter",ti:".AbstractGeneralOperationParameterType",t:"er"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"MultiSolidCoverageType",bti:".AbstractDiscreteCoverageType"},{ln:"GeographicCRSRefType",ps:[{n:"geographicCRS",rq:!0,en:"GeographicCRS",ti:".GeographicCRSType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"SymbolType",ps:[{n:"any",mno:0,col:!0,typed:!1,mx:!1,t:"ae"},{n:"symbolType",rq:!0,an:{lp:"symbolType"},t:"a"},{n:"transform",an:{lp:"transform",ns:"http://www.opengis.net/gml"},t:"a"},{n:"about",an:{lp:"about"},t:"a"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"DirectedTopoSolidPropertyType",ps:[{n:"topoSolid",rq:!0,en:"TopoSolid",ti:".TopoSolidType"},{n:"orientation",an:{lp:"orientation"},t:"a"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"QuantityPropertyType",bti:".ValuePropertyType"},{ln:"SurfacePropertyType",ps:[{n:"surface",rq:!0,mx:!1,dom:!1,en:"_Surface",ti:".AbstractSurfaceType",t:"er"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"TemporalCRSType",bti:".AbstractReferenceSystemType",ps:[{n:"usesTemporalCS",rq:!0,ti:".TemporalCSRefType"},{n:"usesTemporalDatum",rq:!0,ti:".TemporalDatumRefType"}]},{ln:"FeatureStyleType",bti:".AbstractGMLType",ps:[{n:"featureConstraint"},{n:"geometryStyle",mno:0,col:!0,ti:".GeometryStylePropertyType"},{n:"topologyStyle",mno:0,col:!0,ti:".TopologyStylePropertyType"},{n:"labelStyle",ti:".LabelStylePropertyType"},{n:"featureType",an:{lp:"featureType"},t:"a"},{n:"baseType",an:{lp:"baseType"},t:"a"},{n:"queryGrammar",an:{lp:"queryGrammar"},t:"a"}]},{ln:"AbstractSurfaceType",bti:".AbstractGeometricPrimitiveType"},{ln:"AbstractDiscreteCoverageType",bti:".AbstractCoverageType",ps:[{n:"coverageFunction",ti:".CoverageFunctionType"}]},{ln:"MeasureOrNullListType",ps:[{n:"value",ti:{t:"l"},t:"v"},{n:"uom",rq:!0,an:{lp:"uom"},t:"a"}]},{ln:"TopologyStyleType",bti:".BaseStyleDescriptorType",ps:[{n:"symbol",rq:!0,ti:".SymbolType"},{n:"style",rq:!0},{n:"labelStyle",ti:".LabelStylePropertyType"},{n:"topologyProperty",an:{lp:"topologyProperty"},t:"a"},{n:"topologyType",an:{lp:"topologyType"},t:"a"}]},{ln:"DictionaryEntryType",ps:[{n:"definition",rq:!0,mx:!1,dom:!1,en:"Definition",ti:".DefinitionType",t:"er"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"CompositeSurfacePropertyType",ps:[{n:"compositeSurface",rq:!0,en:"CompositeSurface",ti:".CompositeSurfaceType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"MultiLineStringPropertyType",ps:[{n:"multiLineString",rq:!0,en:"MultiLineString",ti:".MultiLineStringType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"MeasureType",ps:[{n:"value",ti:"Double",t:"v"},{n:"uom",rq:!0,an:{lp:"uom"},t:"a"}]},{ln:"TopologyStylePropertyType",ps:[{n:"topologyStyle",en:"TopologyStyle",ti:".TopologyStyleType"},{n:"about",an:{lp:"about"},t:"a"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"OffsetCurveType",bti:".AbstractCurveSegmentType",ps:[{n:"offsetBase",rq:!0,ti:".CurvePropertyType"},{n:"distance",rq:!0,ti:".LengthType"},{n:"refDirection",ti:".VectorType"}]},{ln:"StringOrRefType",ps:[{n:"value",t:"v"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"VerticalCRSType",bti:".AbstractReferenceSystemType",ps:[{n:"usesVerticalCS",rq:!0,ti:".VerticalCSRefType"},{n:"usesVerticalDatum",rq:!0,ti:".VerticalDatumRefType"}]},{ln:"AngleType",bti:".MeasureType"},{ln:"BoundingShapeType",ps:[{n:"envelope",rq:!0,mx:!1,dom:!1,en:"Envelope",ti:".EnvelopeType",t:"er"},{n:"_null",rq:!0,en:"Null",ti:{t:"l"}}]},{ln:"TemporalCSType",bti:".AbstractCoordinateSystemType"},{ln:"GridLimitsType",ps:[{n:"gridEnvelope",rq:!0,en:"GridEnvelope",ti:".GridEnvelopeType"}]},{ln:"LinearCSType",bti:".AbstractCoordinateSystemType"},{ln:"AbstractGeneralParameterValueType"},{ln:"DirectedNodePropertyType",ps:[{n:"node",rq:!0,en:"Node",ti:".NodeType"},{n:"orientation",an:{lp:"orientation"},t:"a"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"SurfaceArrayPropertyType",ps:[{n:"surface",mno:0,col:!0,mx:!1,dom:!1,en:"_Surface",ti:".AbstractSurfaceType",t:"er"}]},{ln:"SecondDefiningParameterType",ps:[{n:"inverseFlattening",rq:!0,ti:".MeasureType"},{n:"semiMinorAxis",rq:!0,ti:".MeasureType"},{n:"isSphere",rq:!0}]},{ln:"AbstractGeometryType",bti:".AbstractGMLType",ps:[{n:"gid",an:{lp:"gid"},t:"a"},{n:"srsName",an:{lp:"srsName"},t:"a"},{n:"srsDimension",ti:"PositiveInteger",an:{lp:"srsDimension"},t:"a"},{n:"axisLabels",ti:{t:"l",bti:"NCName"},an:{lp:"axisLabels"},t:"a"},{n:"uomLabels",ti:{t:"l",bti:"NCName"},an:{lp:"uomLabels"},t:"a"}]},{ln:"PassThroughOperationType",bti:".AbstractCoordinateOperationType",ps:[{n:"modifiedCoordinate",rq:!0,col:!0,ti:"PositiveInteger"},{n:"usesOperation",rq:!0,ti:".OperationRefType"}]},{ln:"AbstractCoordinateOperationBaseType",bti:".DefinitionType"},{ln:"ArcStringByBulgeType",bti:".AbstractCurveSegmentType",ps:[{n:"posOrPointPropertyOrPointRep",rq:!0,mno:2,col:!0,mx:!1,dom:!1,etis:[{en:"pointRep",ti:".PointPropertyType"},{en:"pointProperty",ti:".PointPropertyType"},{en:"pos",ti:".DirectPositionType"}],t:"ers"},{n:"posList",rq:!0,ti:".DirectPositionListType"},{n:"coordinates",rq:!0,ti:".CoordinatesType"},{n:"bulge",rq:!0,col:!0,ti:"Double"},{n:"normal",rq:!0,col:!0,ti:".VectorType"},{n:"interpolation",an:{lp:"interpolation"},t:"a"},{n:"numArc",ti:"Integer",an:{lp:"numArc"},t:"a"}]},{ln:"MovingObjectStatusType",bti:".AbstractTimeSliceType",ps:[{n:"location",rq:!0,mx:!1,dom:!1,ti:".LocationPropertyType",t:"er"},{n:"speed",ti:".MeasureType"},{n:"bearing",ti:".DirectionPropertyType"},{n:"acceleration",ti:".MeasureType"},{n:"elevation",ti:".MeasureType"},{n:"status",ti:".StringOrRefType"}]},{ln:"FeatureArrayPropertyType",ps:[{n:"feature",mno:0,col:!0,mx:!1,en:"_Feature",ti:".AbstractFeatureType",t:"er"}]},{ln:"CoordinateSystemAxisRefType",ps:[{n:"coordinateSystemAxis",rq:!0,en:"CoordinateSystemAxis",ti:".CoordinateSystemAxisType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"FeatureCollectionType",bti:".AbstractFeatureCollectionType"},{ln:"TimeEdgeType",bti:".AbstractTimeTopologyPrimitiveType",ps:[{n:"start",rq:!0,ti:".TimeNodePropertyType"},{n:"end",rq:!0,ti:".TimeNodePropertyType"},{n:"extent",ti:".TimePeriodPropertyType"}]},{ln:"OperationRefType",ps:[{n:"operation",rq:!0,mx:!1,dom:!1,en:"_Operation",ti:".AbstractCoordinateOperationType",t:"er"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"RelativeInternalPositionalAccuracyType",bti:".AbstractPositionalAccuracyType",ps:[{n:"result",rq:!0,ti:".MeasureType"}]},{ln:"DirectedObservationType",bti:".ObservationType",ps:[{n:"direction",rq:!0,ti:".DirectionPropertyType"}]},{ln:"CompositeValueType",bti:".AbstractGMLType",ps:[{n:"valueComponent",mno:0,col:!0,ti:".ValuePropertyType"},{n:"valueComponents",ti:".ValueArrayPropertyType"}]},{ln:"TriangleType",bti:".AbstractSurfacePatchType",ps:[{n:"exterior",rq:!0,mx:!1,dom:!1,ti:".AbstractRingPropertyType",t:"er"},{n:"interpolation",an:{lp:"interpolation"},t:"a"}]},{ln:"RangeSetType",ps:[{n:"valueArray",rq:!0,col:!0,en:"ValueArray",ti:".ValueArrayType"},{n:"scalarValueList",rq:!0,col:!0,mx:!1,dom:!1,etis:[{en:"CategoryList",ti:".CodeOrNullListType"},{en:"CountList",ti:{t:"l"}},{en:"QuantityList",ti:".MeasureOrNullListType"},{en:"BooleanList",ti:{t:"l"}}],t:"ers"},{n:"dataBlock",rq:!0,en:"DataBlock",ti:".DataBlockType"},{n:"file",rq:!0,en:"File",ti:".FileType"}]},{ln:"PriorityLocationPropertyType",bti:".LocationPropertyType",ps:[{n:"priority",an:{lp:"priority"},t:"a"}]},{ln:"TriangulatedSurfaceType",bti:".SurfaceType"},{ln:"VerticalCSRefType",ps:[{n:"verticalCS",rq:!0,en:"VerticalCS",ti:".VerticalCSType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"MultiSurfacePropertyType",ps:[{n:"multiSurface",rq:!0,en:"MultiSurface",ti:".MultiSurfaceType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"ReferenceSystemRefType",ps:[{n:"referenceSystem",rq:!0,mx:!1,dom:!1,en:"_ReferenceSystem",ti:".AbstractReferenceSystemType",t:"er"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"TimeCalendarPropertyType",ps:[{n:"timeCalendar",rq:!0,en:"TimeCalendar",ti:".TimeCalendarType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"CodeOrNullListType",ps:[{n:"value",ti:{t:"l"},t:"v"},{n:"codeSpace",an:{lp:"codeSpace"},t:"a"}]},{ln:"AbstractPositionalAccuracyType",ps:[{n:"measureDescription",ti:".CodeType"}]},{ln:"GeocentricCRSType",bti:".AbstractReferenceSystemType",ps:[{n:"usesCartesianCS",rq:!0,ti:".CartesianCSRefType"},{n:"usesSphericalCS",rq:!0,ti:".SphericalCSRefType"},{n:"usesGeodeticDatum",rq:!0,ti:".GeodeticDatumRefType"}]},{ln:"VectorType",ps:[{n:"value",ti:{t:"l",bti:"Double"},t:"v"},{n:"srsName",an:{lp:"srsName"},t:"a"},{n:"srsDimension",ti:"PositiveInteger",an:{lp:"srsDimension"},t:"a"},{n:"axisLabels",ti:{t:"l",bti:"NCName"},an:{lp:"axisLabels"},t:"a"},{n:"uomLabels",ti:{t:"l",bti:"NCName"},an:{lp:"uomLabels"},t:"a"}]},{ln:"LinearRingType",bti:".AbstractRingType",ps:[{n:"posOrPointPropertyOrPointRep",rq:!0,mno:4,col:!0,mx:!1,dom:!1,etis:[{en:"pointRep",ti:".PointPropertyType"},{en:"pointProperty",ti:".PointPropertyType"},{en:"pos",ti:".DirectPositionType"}],t:"ers"},{n:"posList",rq:!0,ti:".DirectPositionListType"},{n:"coordinates",rq:!0,ti:".CoordinatesType"},{n:"coord",rq:!0,mno:4,col:!0,ti:".CoordType"}]},{ln:"GeometricComplexType",bti:".AbstractGeometryType",ps:[{n:"element",rq:!0,col:!0,ti:".GeometricPrimitivePropertyType"}]},{ln:"SequenceRuleType",ps:[{n:"value",t:"v"},{n:"order",an:{lp:"order"},t:"a"}]},{ln:"CompositeCurveType",bti:".AbstractCurveType",ps:[{n:"curveMember",rq:!0,col:!0,ti:".CurvePropertyType"}]},{ln:"ConeType",bti:".AbstractGriddedSurfaceType",ps:[{n:"horizontalCURVETYPE",an:{lp:"horizontalCurveType"},t:"a"},{n:"verticalCURVETYPE",an:{lp:"verticalCurveType"},t:"a"}]},{ln:"PixelInCellType",bti:".CodeType"},{ln:"VerticalDatumType",bti:".AbstractDatumType",ps:[{n:"verticalDatumType",ti:".VerticalDatumTypeType"}]},{ln:"TrackType",bti:".HistoryPropertyType"},{ln:"ContainerPropertyType",ps:[{n:"face",rq:!0,en:"Face",ti:".FaceType"},{n:"topoSolid",rq:!0,en:"TopoSolid",ti:".TopoSolidType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"ImageDatumRefType",ps:[{n:"imageDatum",rq:!0,en:"ImageDatum",ti:".ImageDatumType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"PointType",bti:".AbstractGeometricPrimitiveType",ps:[{n:"pos",rq:!0,ti:".DirectPositionType"},{n:"coordinates",rq:!0,ti:".CoordinatesType"},{n:"coord",rq:!0,ti:".CoordType"}]},{ln:"AbstractGMLType",ps:[{n:"metaDataProperty",mno:0,col:!0,ti:".MetaDataPropertyType"},{n:"description",ti:".StringOrRefType"},{n:"name",mno:0,col:!0,mx:!1,dom:!1,ti:".CodeType",t:"er"},{n:"id",ti:"ID",an:{lp:"id",ns:"http://www.opengis.net/gml"},t:"a"}]},{ln:"EllipsoidBaseType",bti:".DefinitionType"},{ln:"BezierType",bti:".BSplineType"},{ln:"CoordinateReferenceSystemRefType",ps:[{n:"coordinateReferenceSystem",rq:!0,mx:!1,dom:!1,en:"_CoordinateReferenceSystem",ti:".AbstractReferenceSystemType",t:"er"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"GeometryPropertyType",ps:[{n:"geometry",rq:!0,mx:!1,dom:!1,en:"_Geometry",ti:".AbstractGeometryType",t:"er"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"AngleChoiceType",ps:[{n:"angle",rq:!0,ti:".MeasureType"},{n:"dmsAngle",rq:!0,ti:".DMSAngleType"}]},{ln:"GraphStylePropertyType",ps:[{n:"graphStyle",en:"GraphStyle",ti:".GraphStyleType"},{n:"about",an:{lp:"about"},t:"a"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"TopoSurfacePropertyType",ps:[{n:"topoSurface",rq:!0,en:"TopoSurface",ti:".TopoSurfaceType"}]},{ln:"TimeOrdinalEraType",bti:".DefinitionType",ps:[{n:"relatedTime",mno:0,col:!0,ti:".RelatedTimeType"},{n:"start",rq:!0,ti:".TimeNodePropertyType"},{n:"end",rq:!0,ti:".TimeNodePropertyType"},{n:"extent",ti:".TimePeriodPropertyType"},{n:"member",mno:0,col:!0,ti:".TimeOrdinalEraPropertyType"},{n:"group",ti:".ReferenceType"}]},{ln:"DirectPositionType",ps:[{n:"value",ti:{t:"l",bti:"Double"},t:"v"},{n:"srsName",an:{lp:"srsName"},t:"a"},{n:"srsDimension",ti:"PositiveInteger",an:{lp:"srsDimension"},t:"a"},{n:"axisLabels",ti:{t:"l",bti:"NCName"},an:{lp:"axisLabels"},t:"a"},{n:"uomLabels",ti:{t:"l",bti:"NCName"},an:{lp:"uomLabels"},t:"a"}]},{ln:"CompoundCRSType",bti:".AbstractReferenceSystemType",ps:[{n:"includesCRS",rq:!0,mno:2,col:!0,ti:".CoordinateReferenceSystemRefType"}]},{ln:"AbstractCoordinateSystemBaseType",bti:".DefinitionType"},{ln:"CategoryExtentType",bti:".CodeOrNullListType"},{ln:"RectifiedGridCoverageType",bti:".AbstractDiscreteCoverageType"},{ln:"CoordinateSystemRefType",ps:[{n:"coordinateSystem",rq:!0,mx:!1,dom:!1,en:"_CoordinateSystem",ti:".AbstractCoordinateSystemType",t:"er"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"AbstractFeatureType",bti:".AbstractGMLType",ps:[{n:"boundedBy",ti:".BoundingShapeType"},{n:"location",mx:!1,dom:!1,ti:".LocationPropertyType",t:"er"}]},{ln:"TemporalDatumType",bti:".TemporalDatumBaseType",ps:[{n:"origin",rq:!0,ti:"DateTime"}]},{ln:"AbstractTimeObjectType",bti:".AbstractGMLType"},{ln:"TimeTopologyComplexPropertyType",ps:[{n:"timeTopologyComplex",rq:!0,en:"TimeTopologyComplex",ti:".TimeTopologyComplexType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"DirectPositionListType",ps:[{n:"value",ti:{t:"l",bti:"Double"},t:"v"},{n:"count",ti:"PositiveInteger",an:{lp:"count"},t:"a"},{n:"srsName",an:{lp:"srsName"},t:"a"},{n:"srsDimension",ti:"PositiveInteger",an:{lp:"srsDimension"},t:"a"},{n:"axisLabels",ti:{t:"l",bti:"NCName"},an:{lp:"axisLabels"},t:"a"},{n:"uomLabels",ti:{t:"l",bti:"NCName"},an:{lp:"uomLabels"},t:"a"}]},{ln:"TimeCalendarEraPropertyType",ps:[{n:"timeCalendarEra",rq:!0,en:"TimeCalendarEra",ti:".TimeCalendarEraType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"ObliqueCartesianCSType",bti:".AbstractCoordinateSystemType"},{ln:"ImageDatumType",bti:".AbstractDatumType",ps:[{n:"pixelInCell",rq:!0,ti:".PixelInCellType"}]},{ln:"QuantityExtentType",bti:".MeasureOrNullListType"},{ln:"CodeListType",ps:[{n:"value",ti:{t:"l",bti:"Name"},t:"v"},{n:"codeSpace",an:{lp:"codeSpace"},t:"a"}]},{ln:"AbstractContinuousCoverageType",bti:".AbstractCoverageType",ps:[{n:"coverageFunction",ti:".CoverageFunctionType"}]},{ln:"LengthType",bti:".MeasureType"},{ln:"OperationParameterGroupType",bti:".OperationParameterGroupBaseType",ps:[{n:"groupID",mno:0,col:!0,ti:".IdentifierType"},{n:"remarks",ti:".StringOrRefType"},{n:"maximumOccurs",ti:"PositiveInteger"},{n:"includesParameter",rq:!0,mno:2,col:!0,ti:".AbstractGeneralOperationParameterRefType"}]},{ln:"AbstractCoordinateOperationType",bti:".AbstractCoordinateOperationBaseType",ps:[{n:"coordinateOperationID",mno:0,col:!0,ti:".IdentifierType"},{n:"remarks",ti:".StringOrRefType"},{n:"operationVersion"},{n:"validArea",ti:".ExtentType"},{n:"scope"},{n:"positionalAccuracy",mno:0,col:!0,mx:!1,dom:!1,en:"_positionalAccuracy",ti:".AbstractPositionalAccuracyType",t:"er"},{n:"sourceCRS",ti:".CRSRefType"},{n:"targetCRS",ti:".CRSRefType"}]},{ln:"LinearCSRefType",ps:[{n:"linearCS",rq:!0,en:"LinearCS",ti:".LinearCSType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"VerticalDatumRefType",ps:[{n:"verticalDatum",rq:!0,en:"VerticalDatum",ti:".VerticalDatumType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"DerivedCRSRefType",ps:[{n:"derivedCRS",rq:!0,en:"DerivedCRS",ti:".DerivedCRSType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"MultiSolidType",bti:".AbstractGeometricAggregateType",ps:[{n:"solidMember",mno:0,col:!0,ti:".SolidPropertyType"},{n:"solidMembers",ti:".SolidArrayPropertyType"}]},{ln:"TimeInstantType",bti:".AbstractTimeGeometricPrimitiveType",ps:[{n:"timePosition",rq:!0,ti:".TimePositionType"}]},{ln:"ObliqueCartesianCSRefType",ps:[{n:"obliqueCartesianCS",rq:!0,en:"ObliqueCartesianCS",ti:".ObliqueCartesianCSType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"AbstractRingType",bti:".AbstractGeometryType"},{ln:"SphericalCSType",bti:".AbstractCoordinateSystemType"},{ln:"RectifiedGridDomainType",bti:".DomainSetType"},{ln:"MultiSolidPropertyType",ps:[{n:"multiSolid",rq:!0,en:"MultiSolid",ti:".MultiSolidType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"DefinitionType",bti:".AbstractGMLType"},{ln:"FaceType",bti:".AbstractTopoPrimitiveType",ps:[{n:"directedEdge",rq:!0,col:!0,ti:".DirectedEdgePropertyType"},{n:"directedTopoSolid",mno:0,mxo:2,col:!0,ti:".DirectedTopoSolidPropertyType"},{n:"surfaceProperty",ti:".SurfacePropertyType"}]},{ln:"CylindricalCSRefType",ps:[{n:"cylindricalCS",rq:!0,en:"CylindricalCS",ti:".CylindricalCSType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"AbstractReferenceSystemType",bti:".AbstractReferenceSystemBaseType",ps:[{n:"srsID",mno:0,col:!0,ti:".IdentifierType"},{n:"remarks",ti:".StringOrRefType"},{n:"validArea",ti:".ExtentType"},{n:"scope"}]},{ln:"SingleOperationRefType",ps:[{n:"singleOperation",rq:!0,mx:!1,dom:!1,en:"_SingleOperation",ti:".AbstractCoordinateOperationType",t:"er"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"TimeTopologyPrimitivePropertyType",ps:[{n:"timeTopologyPrimitive",rq:!0,mx:!1,dom:!1,en:"_TimeTopologyPrimitive",ti:".AbstractTimeTopologyPrimitiveType",t:"er"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"EngineeringCRSRefType",ps:[{n:"engineeringCRS",rq:!0,en:"EngineeringCRS",ti:".EngineeringCRSType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"ScaleType",bti:".MeasureType"},{ln:"TimeCalendarEraType",bti:".DefinitionType",ps:[{n:"referenceEvent",rq:!0,ti:".StringOrRefType"},{n:"referenceDate",ti:"Date"},{n:"julianReference",rq:!0,ti:"Decimal"},{n:"epochOfUse",rq:!0,ti:".TimePeriodPropertyType"}]},{ln:"CoordinateSystemAxisType",bti:".CoordinateSystemAxisBaseType",ps:[{n:"axisID",mno:0,col:!0,ti:".IdentifierType"},{n:"remarks",ti:".StringOrRefType"},{n:"axisAbbrev",rq:!0,ti:".CodeType"},{n:"axisDirection",rq:!0,ti:".CodeType"},{n:"uom",rq:!0,an:{lp:"uom",ns:"http://www.opengis.net/gml"},t:"a"}]},{ln:"EllipsoidType",bti:".EllipsoidBaseType",ps:[{n:"ellipsoidID",mno:0,col:!0,ti:".IdentifierType"},{n:"remarks",ti:".StringOrRefType"},{n:"semiMajorAxis",rq:!0,ti:".MeasureType"},{n:"secondDefiningParameter",rq:!0,ti:".SecondDefiningParameterType"}]},{ln:"TopoComplexMemberType",ps:[{n:"topoComplex",en:"TopoComplex",ti:".TopoComplexType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"CoverageFunctionType",ps:[{n:"mappingRule",rq:!0,en:"MappingRule",ti:".StringOrRefType"},{n:"gridFunction",rq:!0,mx:!1,dom:!1,en:"GridFunction",ti:".GridFunctionType",t:"er"}]},{ln:"TimeNodePropertyType",ps:[{n:"timeNode",rq:!0,en:"TimeNode",ti:".TimeNodeType"},{n:"remoteSchema",an:{lp:"remoteSchema",ns:"http://www.opengis.net/gml"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"AbstractRingPropertyType",ps:[{n:"ring",rq:!0,mx:!1,dom:!1,en:"_Ring",ti:".AbstractRingType",t:"er"}]},{ln:"LinearRingPropertyType",ps:[{n:"linearRing",rq:!0,en:"LinearRing",ti:".LinearRingType"}]},{ln:"DirectionVectorType",ps:[{n:"vector",rq:!0,ti:".VectorType"},{n:"horizontalAngle",rq:!0,ti:".AngleType"},{n:"verticalAngle",rq:!0,ti:".AngleType"}]},{ln:"TimeTopologyComplexType",bti:".AbstractTimeComplexType",ps:[{n:"primitive",rq:!0,col:!0,ti:".TimeTopologyPrimitivePropertyType"}]},{t:"enum",ln:"SignType",vs:["-","+"]},{t:"enum",ln:"CompassPointEnumeration",vs:["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW"]},{t:"enum",ln:"AesheticCriteriaType",vs:["MIN_CROSSINGS","MIN_AREA","MIN_BENDS","MAX_BENDS","UNIFORM_BENDS","MIN_SLOPES","MIN_EDGE_LENGTH","MAX_EDGE_LENGTH","UNIFORM_EDGE_LENGTH","MAX_ANGULAR_RESOLUTION","MIN_ASPECT_RATIO","MAX_SYMMETRIES"]},{t:"enum",ln:"IncrementOrder",vs:["+x+y","+y+x","+x-y","-x-y"]},{t:"enum",ln:"KnotTypesType",vs:["uniform","quasiUniform","piecewiseBezier"]},{t:"enum",ln:"TimeIndeterminateValueType",vs:["after","before","now","unknown"]},{t:"enum",ln:"CurveInterpolationType",vs:["linear","geodesic","circularArc3Points","circularArc2PointWithBulge","circularArcCenterPointWithRadius","elliptical","clothoid","conic","polynomialSpline","cubicSpline","rationalSpline"]},{t:"enum",ln:"GraphTypeType",vs:["TREE","BICONNECTED"]},{t:"enum",ln:"SuccessionType",vs:["substitution","division","fusion","initiation"]},{t:"enum",ln:"SurfaceInterpolationType",vs:["none","planar","spherical","elliptical","conic","tin","parametricCurve","polynomialSpline","rationalSpline","triangulatedSpline"]},{t:"enum",ln:"QueryGrammarEnumeration",vs:["xpath","xquery","other"]},{t:"enum",ln:"DrawingTypeType",vs:["POLYLINE","ORTHOGONAL"]},{t:"enum",ln:"SequenceRuleNames",vs:["Linear","Boustrophedonic","Cantor-diagonal","Spiral","Morton","Hilbert"]},{t:"enum",ln:"SymbolTypeEnumeration",vs:["svg","xpath","other"]},{t:"enum",ln:"LineTypeType",vs:["STRAIGHT","BENT"]},{t:"enum",ln:"FileValueModelType",vs:["Record Interleaved"]}],eis:[{en:"topoPointProperty",ti:".TopoPointPropertyType"},{en:"CartesianCS",ti:".CartesianCSType",sh:"_CoordinateSystem"},{en:"solidMembers",ti:".SolidArrayPropertyType"},{en:"sourceCRS",ti:".CRSRefType"},{en:"version"},{en:"DerivedCRS",ti:".DerivedCRSType",sh:"_GeneralDerivedCRS"},{en:"Face",ti:".FaceType",sh:"_TopoPrimitive"},{en:"boundedBy",ti:".BoundingShapeType"},{en:"_TopoPrimitive",ti:".AbstractTopoPrimitiveType",sh:"_Topology"},{en:"usesEllipsoidalCS",ti:".EllipsoidalCSRefType"},{en:"usesTemporalDatum",ti:".TemporalDatumRefType"},{en:"srsID",ti:".IdentifierType"},{en:"multiCurveProperty",ti:".MultiCurvePropertyType"},{en:"RectifiedGrid",ti:".RectifiedGridType",sh:"_ImplicitGeometry"},{en:"degrees",ti:".DegreesType"},{en:"obliqueCartesianCSRef",ti:".ObliqueCartesianCSRefType"},{en:"usesEngineeringDatum",ti:".EngineeringDatumRefType"},{en:"domainSet",ti:".DomainSetType"},{en:"ConcatenatedOperation",ti:".ConcatenatedOperationType",sh:"_CoordinateOperation"},{en:"operationMethodRef",ti:".OperationMethodRefType"},{en:"sourceDimensions",ti:"PositiveInteger"},{en:"GraphStyle",ti:".GraphStyleType",sh:"_GML"},{en:"TimePeriod",ti:".TimePeriodType",sh:"_TimeGeometricPrimitive"},{en:"doubleOrNullTupleList",ti:{t:"l"}},{en:"surfaceMember",ti:".SurfacePropertyType"},{en:"Cone",ti:".ConeType",sh:"_GriddedSurface"},{en:"polygonProperty",ti:".PolygonPropertyType"},{en:"pointMember",ti:".PointPropertyType"},{en:"integerValue",ti:"PositiveInteger"},{en:"_Ring",ti:".AbstractRingType",sh:"_Geometry"},{en:"CompositeValue",ti:".CompositeValueType"},{en:"temporalDatumRef",ti:".TemporalDatumRefType"},{en:"semiMinorAxis",ti:".MeasureType"},{en:"geometryMembers",ti:".GeometryArrayPropertyType"},{en:"coordinateSystemAxisRef",ti:".CoordinateSystemAxisRefType"},{en:"polarCSRef",ti:".PolarCSRefType"},{en:"_ParametricCurveSurface",ti:".AbstractParametricCurveSurfaceType",sh:"_SurfacePatch"},{en:"TimeCalendar",ti:".TimeCalendarType",sh:"_TimeReferenceSystem"},{en:"Ring",ti:".RingType",sh:"_Ring"},{en:"verticalDatumRef",ti:".VerticalDatumRefType"},{en:"temporalExtent",ti:".TimePeriodType"},{en:"relativeInternalPositionalAccuracy",ti:".RelativeInternalPositionalAccuracyType",sh:"_positionalAccuracy"},{en:"Quantity",ti:".MeasureType"},{en:"Sphere",ti:".SphereType",sh:"_GriddedSurface"},{en:"multiEdgeOf",ti:".MultiCurvePropertyType"},{en:"_GeometricAggregate",ti:".AbstractGeometricAggregateType",sh:"_Geometry"},{en:"symbol",ti:".SymbolType"},{en:"graphStyle",ti:".GraphStylePropertyType"},{en:"cylindricalCSRef",ti:".CylindricalCSRefType"},{en:"geographicCRSRef",ti:".GeographicCRSRefType"},{en:"parameterValueGroup",ti:".ParameterValueGroupType",sh:"_generalParameterValue"},{en:"coordinateSystemRef",ti:".CoordinateSystemRefType"},{en:"_strictAssociation",ti:".AssociationType"},{en:"DefinitionCollection",ti:".DictionaryType",sh:"Definition"},{en:"GeometricComplex",ti:".GeometricComplexType",sh:"_Geometry"},{en:"FeatureCollection",ti:".FeatureCollectionType",sh:"_Feature"},{en:"Clothoid",ti:".ClothoidType",sh:"_CurveSegment"},{en:"methodFormula",ti:".CodeType"},{en:"Edge",ti:".EdgeType",sh:"_TopoPrimitive"},{en:"polygonPatches",ti:".PolygonPatchArrayPropertyType",sh:"patches"},{en:"meridianName",ti:".CodeType",sh:"name"},{en:"CategoryList",ti:".CodeOrNullListType"},{en:"integerValueList",ti:{t:"l",bti:"Integer"}},{en:"usesParameter",ti:".AbstractGeneralOperationParameterRefType"},{en:"track",ti:".TrackType",sh:"history"},{en:"ImageCRS",ti:".ImageCRSType",sh:"_CoordinateReferenceSystem"},{en:"temporalCRSRef",ti:".TemporalCRSRefType"},{en:"dmsAngle",ti:".DMSAngleType"},{en:"columnIndex",ti:"PositiveInteger"},{en:"target",ti:".TargetPropertyType"},{en:"DerivedUnit",ti:".DerivedUnitType",sh:"UnitDefinition"},{en:"outerBoundaryIs",ti:".AbstractRingPropertyType",sh:"exterior"},{en:"ProjectedCRS",ti:".ProjectedCRSType",sh:"_GeneralDerivedCRS"},{en:"duration",ti:"Duration"},{en:"indirectEntry",ti:".IndirectEntryType"},{en:"pointArrayProperty",ti:".PointArrayPropertyType"},{en:"GridCoverage",ti:".GridCoverageType",sh:"_DiscreteCoverage"},{en:"solidMember",ti:".SolidPropertyType"},{en:"MultiPointCoverage",ti:".MultiPointCoverageType",sh:"_DiscreteCoverage"},{en:"verticalCSRef",ti:".VerticalCSRefType"},{en:"featureProperty",ti:".FeaturePropertyType"},{en:"cartesianCSRef",ti:".CartesianCSRefType"},{en:"concatenatedOperationRef",ti:".ConcatenatedOperationRefType"},{en:"Polygon",ti:".PolygonType",sh:"_Surface"},{en:"Style",ti:".StyleType",sh:"_Style"},{en:"TopoSolid",ti:".TopoSolidType",sh:"_TopoPrimitive"},{en:"engineeringCRSRef",ti:".EngineeringCRSRefType"},{en:"segments",ti:".CurveSegmentArrayPropertyType"},{en:"derivedCRSRef",ti:".DerivedCRSRefType"},{en:"BaseUnit",ti:".BaseUnitType",sh:"UnitDefinition"},{en:"DirectedObservationAtDistance",ti:".DirectedObservationAtDistanceType",sh:"DirectedObservation"},{en:"LineStringSegment",ti:".LineStringSegmentType",sh:"_CurveSegment"},{en:"coord",ti:".CoordType"},{en:"CoordinateSystemAxis",ti:".CoordinateSystemAxisType",sh:"Definition"},{en:"MultiSolidCoverage",ti:".MultiSolidCoverageType",sh:"_DiscreteCoverage"},{en:"dataSource",ti:".StringOrRefType"},{en:"subComplex",ti:".TopoComplexMemberType"},{en:"featureMember",ti:".FeaturePropertyType"},{en:"TopoVolume",ti:".TopoVolumeType"},{en:"rectifiedGridDomain",ti:".RectifiedGridDomainType",sh:"domainSet"},{en:"rowIndex",ti:"PositiveInteger"},{en:"LabelStyle",ti:".LabelStyleType",sh:"_GML"},{en:"TimeInstant",ti:".TimeInstantType",sh:"_TimeGeometricPrimitive"},{en:"trianglePatches",ti:".TrianglePatchArrayPropertyType",sh:"patches"},{en:"_SingleOperation",ti:".AbstractCoordinateOperationType",sh:"_CoordinateOperation"},{en:"IndexMap",ti:".IndexMapType",sh:"GridFunction"},{en:"OperationMethod",ti:".OperationMethodType",sh:"Definition"},{en:"ellipsoidalCSRef",ti:".EllipsoidalCSRefType"},{en:"directedNode",ti:".DirectedNodePropertyType"},{en:"TopologyStyle",ti:".TopologyStyleType",sh:"_GML"},{en:"generalConversionRef",ti:".GeneralConversionRefType"},{en:"crsRef",ti:".CRSRefType"},{en:"CountList",ti:{t:"l"}},{en:"dictionaryEntry",ti:".DictionaryEntryType"},{en:"description",ti:".StringOrRefType"},{en:"GeocentricCRS",ti:".GeocentricCRSType",sh:"_CoordinateReferenceSystem"},{en:"TemporalDatum",ti:".TemporalDatumType",sh:"_Datum"},{en:"position",ti:".PointPropertyType"},{en:"_GeometricPrimitive",ti:".AbstractGeometricPrimitiveType",sh:"_Geometry"},{en:"OrientableCurve",ti:".OrientableCurveType",sh:"_Curve"},{en:"ArcString",ti:".ArcStringType",sh:"_CurveSegment"},{en:"pixelInCell",ti:".PixelInCellType"},{en:"patches",ti:".SurfacePatchArrayPropertyType"},{en:"_Solid",ti:".AbstractSolidType",sh:"_GeometricPrimitive"},{en:"featureMembers",ti:".FeatureArrayPropertyType"},{en:"verticalDatumType",ti:".VerticalDatumTypeType"},{en:"_SurfacePatch",ti:".AbstractSurfacePatchType"},{en:"directedFace",ti:".DirectedFacePropertyType"},{en:"File",ti:".FileType"},{en:"includesValue",ti:".AbstractGeneralParameterValueType",sh:"_generalParameterValue"},{en:"temporalCSRef",ti:".TemporalCSRefType"},{en:"MultiPolygon",ti:".MultiPolygonType",sh:"_GeometricAggregate"},{en:"result",ti:".MeasureType"},{en:"Count",ti:"Integer"},{en:"RectifiedGridCoverage",ti:".RectifiedGridCoverageType",sh:"_DiscreteCoverage"},{en:"_Geometry",ti:".AbstractGeometryType",sh:"_GML"},{en:"minimumOccurs",ti:"NonNegativeInteger"},{en:"stringValue"},{en:"multiPosition",ti:".MultiPointPropertyType"},{en:"datumID",ti:".IdentifierType"},{en:"decimalMinutes",ti:"Decimal"},{en:"MultiSurface",ti:".MultiSurfaceType",sh:"_GeometricAggregate"},{en:"defaultStyle",ti:".DefaultStylePropertyType"},{en:"Definition",ti:".DefinitionType",sh:"_GML"},{en:"engineeringDatumRef",ti:".EngineeringDatumRefType"},{en:"CountExtent",ti:{t:"l"}},{en:"operationRef",ti:".OperationRefType"},{en:"PolyhedralSurface",ti:".PolyhedralSurfaceType",sh:"Surface"},{en:"projectedCRSRef",ti:".ProjectedCRSRefType"},{en:"methodID",ti:".IdentifierType"},{en:"_Datum",ti:".AbstractDatumType",sh:"Definition"},{en:"innerBoundaryIs",ti:".AbstractRingPropertyType",sh:"interior"},{en:"inverseFlattening",ti:".MeasureType"},{en:"operationParameterGroupRef",ti:".OperationParameterRefType"},{en:"isolated",ti:".IsolatedPropertyType"},{en:"FeatureStyle",ti:".FeatureStyleType",sh:"_GML"},{en:"TemporalCS",ti:".TemporalCSType",sh:"_CoordinateSystem"},{en:"gridDomain",ti:".GridDomainType",sh:"domainSet"},{en:"derivedCRSType",ti:".DerivedCRSTypeType"},{en:"Node",ti:".NodeType",sh:"_TopoPrimitive"},{en:"definitionMember",ti:".DictionaryEntryType",sh:"dictionaryEntry"},{en:"coordinateOperationName",ti:".CodeType",sh:"name"},{en:"TopoComplex",ti:".TopoComplexType",sh:"_Topology"},{en:"lineStringMember",ti:".LineStringPropertyType"},{en:"DefinitionProxy",ti:".DefinitionProxyType",sh:"Definition"},{en:"modifiedCoordinate",ti:"PositiveInteger"},{en:"groupName",ti:".CodeType",sh:"name"},{en:"EngineeringCRS",ti:".EngineeringCRSType",sh:"_CoordinateReferenceSystem"},{en:"groupID",ti:".IdentifierType"},{en:"_GeneralDerivedCRS",ti:".AbstractGeneralDerivedCRSType",sh:"_CoordinateReferenceSystem"},{en:"CylindricalCS",ti:".CylindricalCSType",sh:"_CoordinateSystem"},{en:"directedEdge",ti:".DirectedEdgePropertyType"},{en:"multiCurveDomain",ti:".MultiCurveDomainType",sh:"domainSet"},{en:"topoPrimitiveMembers",ti:".TopoPrimitiveArrayAssociationType"},{en:"OperationParameterGroup",ti:".OperationParameterGroupType",sh:"_GeneralOperationParameter"},{en:"GeographicCRS",ti:".GeographicCRSType",sh:"_CoordinateReferenceSystem"},{en:"coordinates",ti:".CoordinatesType"},{en:"QuantityExtent",ti:".QuantityExtentType"},{en:"pointMembers",ti:".PointArrayPropertyType"},{en:"LineString",ti:".LineStringType",sh:"_Curve"},{en:"LocationKeyWord",ti:".CodeType"},{en:"_TimePrimitive",ti:".AbstractTimePrimitiveType",sh:"_TimeObject"},{en:"MultiCurve",ti:".MultiCurveType",sh:"_GeometricAggregate"},{en:"featureStyle",ti:".FeatureStylePropertyType"},{en:"booleanValue",ti:"Boolean"},{en:"_FeatureCollection",ti:".AbstractFeatureCollectionType",sh:"_Feature"},{en:"Solid",ti:".SolidType",sh:"_Solid"},{en:"Geodesic",ti:".GeodesicType",sh:"GeodesicString"},{en:"metaDataProperty",ti:".MetaDataPropertyType"},{en:"Bag",ti:".BagType",sh:"_GML"},{en:"multiCoverage",ti:".MultiSurfacePropertyType"},{en:"usesValue",ti:".ParameterValueType"},{en:"tupleList",ti:".CoordinatesType"},{en:"PassThroughOperation",ti:".PassThroughOperationType",sh:"_SingleOperation"},{en:"LabelExpression",sc:".LabelType"},{en:"multiPointProperty",ti:".MultiPointPropertyType"},{en:"parameterID",ti:".IdentifierType"},{en:"superComplex",ti:".TopoComplexMemberType"},{en:"Surface",ti:".SurfaceType",sh:"_Surface"},{en:"EngineeringDatum",ti:".EngineeringDatumType",sh:"_Datum"},{en:"_ContinuousCoverage",ti:".AbstractContinuousCoverageType",sh:"_Coverage"},{en:"greenwichLongitude",ti:".AngleChoiceType"},{en:"sphericalCSRef",ti:".SphericalCSRefType"},{en:"OffsetCurve",ti:".OffsetCurveType",sh:"_CurveSegment"},{en:"EllipsoidalCS",ti:".EllipsoidalCSType",sh:"_CoordinateSystem"},{en:"VerticalDatum",ti:".VerticalDatumType",sh:"_Datum"},{en:"baseCRS",ti:".CoordinateReferenceSystemRefType"},{en:"SphericalCS",ti:".SphericalCSType",sh:"_CoordinateSystem"},{en:"boundingBox",ti:".EnvelopeType"},{en:"definedByConversion",ti:".GeneralConversionRefType"},{en:"_Surface",ti:".AbstractSurfaceType",sh:"_GeometricPrimitive"},{en:"_generalParameterValue",ti:".AbstractGeneralParameterValueType"},{en:"DirectionVector",ti:".DirectionVectorType"},{en:"_association",ti:".AssociationType"},{en:"_GML",ti:".AbstractGMLType",sh:"_Object"},{en:"multiExtentOf",ti:".MultiSurfacePropertyType"},{en:"datumRef",ti:".DatumRefType"},{en:"passThroughOperationRef",ti:".PassThroughOperationRefType"},{en:"referenceSystemRef",ti:".ReferenceSystemRefType"},{en:"_GeneralOperationParameter",ti:".AbstractGeneralOperationParameterType",sh:"Definition"},{en:"_CurveSegment",ti:".AbstractCurveSegmentType"},{en:"geocentricCRSRef",ti:".GeocentricCRSRefType"},{en:"geometryMember",ti:".GeometryPropertyType"},{en:"surfaceMembers",ti:".SurfaceArrayPropertyType"},{en:"TimeOrdinalEra",ti:".TimeOrdinalEraType"},{en:"_reference",ti:".ReferenceType"},{en:"ellipsoidName",ti:".CodeType",sh:"name"},{en:"_TimeComplex",ti:".AbstractTimeComplexType",sh:"_TimeObject"},{en:"boundingPolygon",ti:".PolygonType"},{en:"subject",ti:".TargetPropertyType",sh:"target"},{en:"Rectangle",ti:".RectangleType",sh:"_SurfacePatch"},{en:"Cylinder",ti:".CylinderType",sh:"_GriddedSurface"},{en:"multiSurfaceProperty",ti:".MultiSurfacePropertyType"},{en:"_Style",ti:".AbstractStyleType",sh:"_GML"},{en:"generalTransformationRef",ti:".GeneralTransformationRefType"},{en:"CompositeSurface",ti:".CompositeSurfaceType",sh:"_Surface"},{en:"validArea",ti:".ExtentType"},{en:"MultiGeometry",ti:".MultiGeometryType",sh:"_GeometricAggregate"},{en:"timeInterval",ti:".TimeIntervalLengthType"},{en:"maximalComplex",ti:".TopoComplexMemberType"},{en:"Point",ti:".PointType",sh:"_GeometricPrimitive"},{en:"VerticalCS",ti:".VerticalCSType",sh:"_CoordinateSystem"},{en:"usesSingleOperation",ti:".SingleOperationRefType"},{en:"catalogSymbol",ti:".CodeType"},{en:"transformationRef",ti:".TransformationRefType"},{en:"Envelope",ti:".EnvelopeType"},{en:"CompoundCRS",ti:".CompoundCRSType",sh:"_CRS"},{en:"value",ti:".MeasureType"},{en:"Boolean",ti:"Boolean"},{en:"primeMeridianRef",ti:".PrimeMeridianRefType"},{en:"includesElement",ti:".CovarianceElementType"},{en:"Ellipsoid",ti:".EllipsoidType",sh:"Definition"},{en:"topoSurfaceProperty",ti:".TopoSurfacePropertyType"},{en:"surfaceProperty",ti:".SurfacePropertyType"},{en:"pos",ti:".DirectPositionType"},{en:"PrimeMeridian",ti:".PrimeMeridianType",sh:"Definition"},{en:"_Curve",ti:".AbstractCurveType",sh:"_GeometricPrimitive"},{en:"definitionRef",ti:".ReferenceType"},{en:"axisAbbrev",ti:".CodeType"},{en:"LinearCS",ti:".LinearCSType",sh:"_CoordinateSystem"},{en:"TimeClock",ti:".TimeClockType",sh:"_TimeReferenceSystem"},{en:"multiCenterLineOf",ti:".MultiCurvePropertyType"},{en:"UserDefinedCS",ti:".UserDefinedCSType",sh:"_CoordinateSystem"},{en:"TimeNode",ti:".TimeNodeType",sh:"_TimeTopologyPrimitive"},{en:"_TimeSlice",ti:".AbstractTimeSliceType",sh:"_GML"},{en:"valueList",ti:".MeasureListType"},{en:"targetCRS",ti:".CRSRefType"},{en:"isSphere"},{en:"direction",ti:".DirectionPropertyType"},{en:"geometryStyle",ti:".GeometryStylePropertyType"},{en:"rangeParameters",ti:".RangeParametersType"},{en:"Bezier",ti:".BezierType",sh:"BSpline"},{en:"includesCRS",ti:".CoordinateReferenceSystemRefType"},{en:"linearCSRef",ti:".LinearCSRefType"},{en:"compoundCRSRef",ti:".CompoundCRSRefType"},{en:"CompositeSolid",ti:".CompositeSolidType",sh:"_Solid"},{en:"usesTemporalCS",ti:".TemporalCSRefType"},{en:"csID",ti:".IdentifierType"},{en:"usesSphericalCS",ti:".SphericalCSRefType"},{en:"geodeticDatumRef",ti:".GeodeticDatumRefType"},{en:"multiSolidDomain",ti:".MultiSolidDomainType",sh:"domainSet"},{en:"directedTopoSolid",ti:".DirectedTopoSolidPropertyType"},{en:"userDefinedCSRef",ti:".UserDefinedCSRefType"},{en:"measure",ti:".MeasureType"},{en:"origin",ti:"DateTime"},{en:"dmsAngleValue",ti:".DMSAngleType"},{en:"MultiSolid",ti:".MultiSolidType",sh:"_GeometricAggregate"},{en:"Array",ti:".ArrayType",sh:"_GML"},{en:"parameterValue",ti:".ParameterValueType",sh:"_generalParameterValue"},{en:"maximumOccurs",ti:"PositiveInteger"},{en:"CircleByCenterPoint",ti:".CircleByCenterPointType",sh:"ArcByCenterPoint"},{en:"roughConversionToPreferredUnit",ti:".ConversionToPreferredUnitType"},{en:"remarks",ti:".StringOrRefType"},{en:"Null",ti:{t:"l"}},{en:"Transformation",ti:".TransformationType",sh:"_GeneralTransformation"},{en:"PolygonPatch",ti:".PolygonPatchType",sh:"_SurfacePatch"},{en:"topologyStyle",ti:".TopologyStylePropertyType"},{en:"ImageDatum",ti:".ImageDatumType",sh:"_Datum"},{en:"CategoryExtent",ti:".CategoryExtentType"},{en:"coordinateReferenceSystemRef",ti:".CoordinateReferenceSystemRefType"},{en:"multiLocation",ti:".MultiPointPropertyType"},{en:"TimeCoordinateSystem",ti:".TimeCoordinateSystemType",sh:"_TimeReferenceSystem"},{en:"interior",ti:".AbstractRingPropertyType"},{en:"MovingObjectStatus",ti:".MovingObjectStatusType",sh:"_TimeSlice"},{en:"secondDefiningParameter",ti:".SecondDefiningParameterType"},{en:"polygonMember",ti:".PolygonPropertyType"},{en:"PolarCS",ti:".PolarCSType",sh:"_CoordinateSystem"},{en:"usesEllipsoid",ti:".EllipsoidRefType"},{en:"_Operation",ti:".AbstractCoordinateOperationType",sh:"_SingleOperation"},{en:"multiPointDomain",ti:".MultiPointDomainType",sh:"domainSet"},{en:"timePosition",ti:".TimePositionType"},{en:"coordinateOperationRef",ti:".CoordinateOperationRefType"},{en:"usesCartesianCS",ti:".CartesianCSRefType"},{en:"absoluteExternalPositionalAccuracy",ti:".AbsoluteExternalPositionalAccuracyType",sh:"_positionalAccuracy"},{en:"coverageFunction",ti:".CoverageFunctionType"},{en:"usesVerticalCS",ti:".VerticalCSRefType"},{en:"operationParameterRef",ti:".OperationParameterRefType"},{en:"meridianID",ti:".IdentifierType"},{en:"ArcStringByBulge",ti:".ArcStringByBulgeType",sh:"_CurveSegment"},{en:"LocationString",ti:".StringOrRefType"},{en:"MultiSurfaceCoverage",ti:".MultiSurfaceCoverageType",sh:"_DiscreteCoverage"},{en:"Grid",ti:".GridType",sh:"_ImplicitGeometry"},{en:"CompassPoint"},{en:"location",ti:".LocationPropertyType"},{en:"imageDatumRef",ti:".ImageDatumRefType"},{en:"labelStyle",ti:".LabelStylePropertyType"},{en:"targetDimensions",ti:"PositiveInteger"},{en:"OrientableSurface",ti:".OrientableSurfaceType",sh:"_Surface"},{en:"CubicSpline",ti:".CubicSplineType",sh:"_CurveSegment"},{en:"baseSurface",ti:".SurfacePropertyType"},{en:"Category",ti:".CodeType"},{en:"MappingRule",ti:".StringOrRefType"},{en:"DataBlock",ti:".DataBlockType"},{en:"verticalExtent",ti:".EnvelopeType"},{en:"BooleanList",ti:{t:"l"}},{en:"usesMethod",ti:".OperationMethodRefType"},{en:"_TimeObject",ti:".AbstractTimeObjectType",sh:"_GML"},{en:"methodName",ti:".CodeType",sh:"name"},{en:"valueComponents",ti:".ValueArrayPropertyType"},{en:"members",ti:".ArrayAssociationType"},{en:"container",ti:".ContainerPropertyType"},{en:"lineStringProperty",ti:".LineStringPropertyType"},{en:"vector",ti:".VectorType"},{en:"singleOperationRef",ti:".SingleOperationRefType"},{en:"TimeTopologyComplex",ti:".TimeTopologyComplexType",sh:"_TimeComplex"},{en:"curveArrayProperty",ti:".CurveArrayPropertyType"},{en:"axisID",ti:".IdentifierType"},{en:"usesAxis",ti:".CoordinateSystemAxisRefType"},{en:"name",ti:".CodeType"},{en:"CompositeCurve",ti:".CompositeCurveType",sh:"_Curve"},{en:"solidProperty",ti:".SolidPropertyType"},{en:"valueProperty",ti:".ValuePropertyType"},{en:"GeodesicString",ti:".GeodesicStringType",sh:"_CurveSegment"},{en:"usesVerticalDatum",ti:".VerticalDatumRefType"},{en:"_GriddedSurface",ti:".AbstractGriddedSurfaceType",sh:"_ParametricCurveSurface"},{en:"resultOf",ti:".AssociationType"},{en:"_positionalAccuracy",ti:".AbstractPositionalAccuracyType"},{en:"_Feature",ti:".AbstractFeatureType",sh:"_GML"},{en:"ArcByCenterPoint",ti:".ArcByCenterPointType",sh:"_CurveSegment"},{en:"_CoordinateReferenceSystem",ti:".AbstractReferenceSystemType",sh:"_CRS"},{en:"covariance",ti:"Double"},{en:"multiSurfaceDomain",ti:".MultiSurfaceDomainType",sh:"domainSet"},{en:"usesCS",ti:".CoordinateSystemRefType"},{en:"ArcByBulge",ti:".ArcByBulgeType",sh:"ArcStringByBulge"},{en:"angle",ti:".MeasureType"},{en:"covarianceMatrix",ti:".CovarianceMatrixType",sh:"_positionalAccuracy"},{en:"_Object",ti:"AnyType"},{en:"EnvelopeWithTimePeriod",ti:".EnvelopeWithTimePeriodType",sh:"Envelope"},{en:"ObliqueCartesianCS",ti:".ObliqueCartesianCSType",sh:"_CoordinateSystem"},{en:"Observation",ti:".ObservationType",sh:"_Feature"},{en:"status",ti:".StringOrRefType"},{en:"centerLineOf",ti:".CurvePropertyType"},{en:"topoPrimitiveMember",ti:".TopoPrimitiveMemberType"},{en:"_MetaData",ti:".AbstractMetaDataType",sh:"_Object"},{en:"TimeOrdinalReferenceSystem",ti:".TimeOrdinalReferenceSystemType",sh:"_TimeReferenceSystem"},{en:"srsName",ti:".CodeType",sh:"name"},{en:"unitOfMeasure",ti:".UnitOfMeasureType"},{en:"VerticalCRS",ti:".VerticalCRSType",sh:"_CoordinateReferenceSystem"},{en:"centerOf",ti:".PointPropertyType"},{en:"_GeneralTransformation",ti:".AbstractGeneralTransformationType",sh:"_Operation"},{en:"multiSolidProperty",ti:".MultiSolidPropertyType"},{en:"_CoordinateSystem",ti:".AbstractCoordinateSystemType",sh:"Definition"},{en:"solidArrayProperty",ti:".SolidArrayPropertyType"},{en:"_Topology",ti:".AbstractTopologyType",sh:"_GML"},{en:"seconds",ti:"Decimal"},{en:"imageCRSRef",ti:".ImageCRSRefType"},{en:"Arc",ti:".ArcType",sh:"ArcString"},{en:"baseCurve",ti:".CurvePropertyType"},{en:"Triangle",ti:".TriangleType",sh:"_SurfacePatch"},{en:"valueFile"},{en:"TopoSurface",ti:".TopoSurfaceType"},{en:"TopoCurve",ti:".TopoCurveType"},{en:"csName",ti:".CodeType",sh:"name"},{en:"usesImageDatum",ti:".ImageDatumRefType"},{en:"derivationUnitTerm",ti:".DerivationUnitTermType"},{en:"usesObliqueCartesianCS",ti:".ObliqueCartesianCSRefType"},{en:"curveMembers",ti:".CurveArrayPropertyType"},{en:"curveProperty",ti:".CurvePropertyType"},{en:"QuantityList",ti:".MeasureOrNullListType"},{en:"Circle",ti:".CircleType",sh:"Arc"},{en:"anchorPoint",ti:".CodeType"},{en:"Curve",ti:".CurveType",sh:"_Curve"},{en:"MultiCurveCoverage",ti:".MultiCurveCoverageType",sh:"_DiscreteCoverage"},{en:"TimeEdge",ti:".TimeEdgeType",sh:"_TimeTopologyPrimitive"},{en:"MultiPoint",ti:".MultiPointType",sh:"_GeometricAggregate"},{en:"GridFunction",ti:".GridFunctionType"},{en:"semiMajorAxis",ti:".MeasureType"},{en:"history",ti:".HistoryPropertyType"},{en:"valueComponent",ti:".ValuePropertyType"},{en:"topoCurveProperty",ti:".TopoCurvePropertyType"},{en:"DirectedObservation",ti:".DirectedObservationType",sh:"Observation"},{en:"OperationParameter",ti:".OperationParameterType",sh:"_GeneralOperationParameter"},{en:"UnitDefinition",ti:".UnitDefinitionType",sh:"Definition"},{en:"pointRep",ti:".PointPropertyType"},{en:"_TimeReferenceSystem",ti:".AbstractTimeReferenceSystemType",sh:"Definition"},{en:"quantityType",ti:".StringOrRefType"},{en:"valueOfParameter",ti:".OperationParameterRefType"},{en:"_CoordinateOperation",ti:".AbstractCoordinateOperationType",sh:"Definition"},{en:"GeodeticDatum",ti:".GeodeticDatumType",sh:"_Datum"},{en:"_CRS",ti:".AbstractReferenceSystemType",sh:"_ReferenceSystem"},{en:"usesOperation",ti:".OperationRefType"},{en:"minutes",ti:"NonNegativeInteger"},{en:"datumName",ti:".CodeType",sh:"name"},{en:"LinearRing",ti:".LinearRingType",sh:"_Ring"},{en:"abstractGeneralOperationParameterRef",ti:".AbstractGeneralOperationParameterRefType"},{en:"usesGeodeticDatum",ti:".GeodeticDatumRefType"},{en:"edgeOf",ti:".CurvePropertyType"},{en:"using",ti:".FeaturePropertyType"},{en:"GeometryStyle",ti:".GeometryStyleType",sh:"_GML"},{en:"curveMember",ti:".CurvePropertyType"},{en:"conversionToPreferredUnit",ti:".ConversionToPreferredUnitType"},{en:"_DiscreteCoverage",ti:".AbstractDiscreteCoverageType",sh:"_Coverage"},{en:"posList",ti:".DirectPositionListType"},{en:"_TimeGeometricPrimitive",ti:".AbstractTimeGeometricPrimitiveType",sh:"_TimePrimitive"},{en:"conversionRef",ti:".ConversionRefType"},{en:"surfaceArrayProperty",ti:".SurfaceArrayPropertyType"},{en:"rangeSet",ti:".RangeSetType"},{en:"valuesOfGroup",ti:".OperationParameterGroupRefType"},{en:"axisDirection",ti:".CodeType"},{en:"coordinateOperationID",ti:".IdentifierType"},{en:"TemporalCRS",ti:".TemporalCRSType",sh:"_CoordinateReferenceSystem"},{en:"_GeneralConversion",ti:".AbstractGeneralConversionType",sh:"_Operation"},{en:"multiCenterOf",ti:".MultiPointPropertyType"},{en:"includesParameter",ti:".AbstractGeneralOperationParameterRefType"},{en:"BSpline",ti:".BSplineType",sh:"_CurveSegment"},{en:"TimeCalendarEra",ti:".TimeCalendarEraType",sh:"Definition"},{en:"priorityLocation",ti:".PriorityLocationPropertyType",sh:"location"},{en:"usesPrimeMeridian",ti:".PrimeMeridianRefType"},{en:"TopoPoint",ti:".TopoPointType"},{en:"ValueArray",ti:".ValueArrayType",sh:"CompositeValue"},{en:"Dictionary",ti:".DictionaryType",sh:"Definition"},{en:"_ImplicitGeometry",ti:".AbstractGeometryType",sh:"_Geometry"},{en:"scope"},{en:"AffinePlacement",ti:".AffinePlacementType"},{en:"multiGeometryProperty",ti:".MultiGeometryPropertyType"},{en:"topoComplexProperty",ti:".TopoComplexMemberType"},{en:"GenericMetaData",ti:".GenericMetaDataType",sh:"_MetaData"},{en:"validTime",ti:".TimePrimitivePropertyType"},{en:"_ReferenceSystem",ti:".AbstractReferenceSystemType",sh:"Definition"},{en:"member",ti:".AssociationType"},{en:"ellipsoidID",ti:".IdentifierType"},{en:"ellipsoidRef",ti:".EllipsoidRefType"},{en:"MultiLineString",ti:".MultiLineStringType",sh:"_GeometricAggregate"},{en:"_TimeTopologyPrimitive",ti:".AbstractTimeTopologyPrimitiveType",sh:"_TimePrimitive"},{en:"parameterName",ti:".CodeType",sh:"name"},{en:"measureDescription",ti:".CodeType"},{en:"ConventionalUnit",ti:".ConventionalUnitType",sh:"UnitDefinition"},{en:"extentOf",ti:".SurfacePropertyType"},{en:"_Coverage",ti:".AbstractCoverageType",sh:"_Feature"},{en:"TriangulatedSurface",ti:".TriangulatedSurfaceType",sh:"Surface"},{en:"Tin",ti:".TinType",sh:"TriangulatedSurface"},{en:"operationVersion"},{en:"pointProperty",ti:".PointPropertyType"},{en:"Conversion",ti:".ConversionType",sh:"_GeneralConversion"},{en:"verticalCRSRef",ti:".VerticalCRSRefType"},{en:"topoVolumeProperty",ti:".TopoVolumePropertyType"},{en:"exterior",ti:".AbstractRingPropertyType"},{en:"realizationEpoch",ti:"Date"}]}}})?i.apply(t,[]):i)||(e.exports=r)},RuG3:function(e,t,n){"use strict";t.a={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"}},RyHr:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("Womt"),r=function(e,t){var n,r,a,o,s,l;void 0===t&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=e,this.domElement=t,this.enabled=!0,this.target=new i.sb,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={LEFT:i.F.ROTATE,MIDDLE:i.F.DOLLY,RIGHT:i.F.PAN},this.touches={ONE:i.mb.ROTATE,TWO:i.mb.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return v.phi},this.getAzimuthalAngle=function(){return v.theta},this.listenToKeyEvents=function(e){e.addEventListener("keydown",J),this._domElementKeyEvents=e},this.saveState=function(){u.target0.copy(u.target),u.position0.copy(u.object.position),u.zoom0=u.object.zoom},this.reset=function(){u.target.copy(u.target0),u.object.position.copy(u.position0),u.object.zoom=u.zoom0,u.object.updateProjectionMatrix(),u.dispatchEvent(c),u.update(),p=f.NONE},this.update=(n=new i.sb,r=(new i.ab).setFromUnitVectors(e.up,new i.sb(0,1,0)),a=r.clone().invert(),o=new i.sb,s=new i.ab,l=2*Math.PI,function(){var e=u.object.position;n.copy(e).sub(u.target),n.applyQuaternion(r),v.setFromVector3(n),u.autoRotate&&p===f.NONE&&R(2*Math.PI/60/60*u.autoRotateSpeed),u.enableDamping?(v.theta+=g.theta*u.dampingFactor,v.phi+=g.phi*u.dampingFactor):(v.theta+=g.theta,v.phi+=g.phi);var t=u.minAzimuthAngle,i=u.maxAzimuthAngle;return isFinite(t)&&isFinite(i)&&(t<-Math.PI?t+=l:t>Math.PI&&(t-=l),i<-Math.PI?i+=l:i>Math.PI&&(i-=l),v.theta=t<=i?Math.max(t,Math.min(i,v.theta)):v.theta>(t+i)/2?Math.max(t,v.theta):Math.min(i,v.theta)),v.phi=Math.max(u.minPolarAngle,Math.min(u.maxPolarAngle,v.phi)),v.makeSafe(),v.radius*=y,v.radius=Math.max(u.minDistance,Math.min(u.maxDistance,v.radius)),!0===u.enableDamping?u.target.addScaledVector(_,u.dampingFactor):u.target.add(_),n.setFromSpherical(v),n.applyQuaternion(a),e.copy(u.target).add(n),u.object.lookAt(u.target),!0===u.enableDamping?(g.theta*=1-u.dampingFactor,g.phi*=1-u.dampingFactor,_.multiplyScalar(1-u.dampingFactor)):(g.set(0,0,0),_.set(0,0,0)),y=1,!!(b||o.distanceToSquared(u.object.position)>m||8*(1-s.dot(u.object.quaternion))>m)&&(u.dispatchEvent(c),o.copy(u.object.position),s.copy(u.object.quaternion),b=!1,!0)}),this.dispose=function(){u.domElement.removeEventListener("contextmenu",te),u.domElement.removeEventListener("pointerdown",W),u.domElement.removeEventListener("wheel",Z),u.domElement.removeEventListener("touchstart",Q),u.domElement.removeEventListener("touchend",ee),u.domElement.removeEventListener("touchmove",$),u.domElement.ownerDocument.removeEventListener("pointermove",Y),u.domElement.ownerDocument.removeEventListener("pointerup",K),null!==u._domElementKeyEvents&&u._domElementKeyEvents.removeEventListener("keydown",J)};var u=this,c={type:"change"},h={type:"start"},d={type:"end"},f={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},p=f.NONE,m=1e-6,v=new i.kb,g=new i.kb,y=1,_=new i.sb,b=!1,S=new i.rb,T=new i.rb,w=new i.rb,x=new i.rb,E=new i.rb,C=new i.rb,k=new i.rb,M=new i.rb,O=new i.rb;function A(){return Math.pow(.95,u.zoomSpeed)}function R(e){g.theta-=e}function I(e){g.phi-=e}var L,P=(L=new i.sb,function(e,t){L.setFromMatrixColumn(t,0),L.multiplyScalar(-e),_.add(L)}),D=function(){var e=new i.sb;return function(t,n){!0===u.screenSpacePanning?e.setFromMatrixColumn(n,1):(e.setFromMatrixColumn(n,0),e.crossVectors(u.object.up,e)),e.multiplyScalar(t),_.add(e)}}(),N=function(){var e=new i.sb;return function(t,n){var i=u.domElement;if(u.object.isPerspectiveCamera){e.copy(u.object.position).sub(u.target);var r=e.length();r*=Math.tan(u.object.fov/2*Math.PI/180),P(2*t*r/i.clientHeight,u.object.matrix),D(2*n*r/i.clientHeight,u.object.matrix)}else u.object.isOrthographicCamera?(P(t*(u.object.right-u.object.left)/u.object.zoom/i.clientWidth,u.object.matrix),D(n*(u.object.top-u.object.bottom)/u.object.zoom/i.clientHeight,u.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),u.enablePan=!1)}}();function j(e){u.object.isPerspectiveCamera?y/=e:u.object.isOrthographicCamera?(u.object.zoom=Math.max(u.minZoom,Math.min(u.maxZoom,u.object.zoom*e)),u.object.updateProjectionMatrix(),b=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),u.enableZoom=!1)}function F(e){u.object.isPerspectiveCamera?y*=e:u.object.isOrthographicCamera?(u.object.zoom=Math.max(u.minZoom,Math.min(u.maxZoom,u.object.zoom/e)),u.object.updateProjectionMatrix(),b=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),u.enableZoom=!1)}function U(e){S.set(e.clientX,e.clientY)}function G(e){x.set(e.clientX,e.clientY)}function V(e){1==e.touches.length?S.set(e.touches[0].pageX,e.touches[0].pageY):S.set(.5*(e.touches[0].pageX+e.touches[1].pageX),.5*(e.touches[0].pageY+e.touches[1].pageY))}function B(e){1==e.touches.length?x.set(e.touches[0].pageX,e.touches[0].pageY):x.set(.5*(e.touches[0].pageX+e.touches[1].pageX),.5*(e.touches[0].pageY+e.touches[1].pageY))}function z(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,i=Math.sqrt(t*t+n*n);k.set(0,i)}function H(e){1==e.touches.length?T.set(e.touches[0].pageX,e.touches[0].pageY):T.set(.5*(e.touches[0].pageX+e.touches[1].pageX),.5*(e.touches[0].pageY+e.touches[1].pageY)),w.subVectors(T,S).multiplyScalar(u.rotateSpeed);var t=u.domElement;R(2*Math.PI*w.x/t.clientHeight),I(2*Math.PI*w.y/t.clientHeight),S.copy(T)}function X(e){1==e.touches.length?E.set(e.touches[0].pageX,e.touches[0].pageY):E.set(.5*(e.touches[0].pageX+e.touches[1].pageX),.5*(e.touches[0].pageY+e.touches[1].pageY)),C.subVectors(E,x).multiplyScalar(u.panSpeed),N(C.x,C.y),x.copy(E)}function q(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,i=Math.sqrt(t*t+n*n);M.set(0,i),O.set(0,Math.pow(M.y/k.y,u.zoomSpeed)),j(O.y),k.copy(M)}function W(e){if(!1!==u.enabled)switch(e.pointerType){case"mouse":case"pen":!function(e){var t;switch(e.preventDefault(),u.domElement.focus?u.domElement.focus():window.focus(),e.button){case 0:t=u.mouseButtons.LEFT;break;case 1:t=u.mouseButtons.MIDDLE;break;case 2:t=u.mouseButtons.RIGHT;break;default:t=-1}switch(t){case i.F.DOLLY:if(!1===u.enableZoom)return;!function(e){k.set(e.clientX,e.clientY)}(e),p=f.DOLLY;break;case i.F.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===u.enablePan)return;G(e),p=f.PAN}else{if(!1===u.enableRotate)return;U(e),p=f.ROTATE}break;case i.F.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===u.enableRotate)return;U(e),p=f.ROTATE}else{if(!1===u.enablePan)return;G(e),p=f.PAN}break;default:p=f.NONE}p!==f.NONE&&(u.domElement.ownerDocument.addEventListener("pointermove",Y),u.domElement.ownerDocument.addEventListener("pointerup",K),u.dispatchEvent(h))}(e)}}function Y(e){if(!1!==u.enabled)switch(e.pointerType){case"mouse":case"pen":!function(e){if(!1!==u.enabled)switch(e.preventDefault(),p){case f.ROTATE:if(!1===u.enableRotate)return;!function(e){T.set(e.clientX,e.clientY),w.subVectors(T,S).multiplyScalar(u.rotateSpeed);var t=u.domElement;R(2*Math.PI*w.x/t.clientHeight),I(2*Math.PI*w.y/t.clientHeight),S.copy(T),u.update()}(e);break;case f.DOLLY:if(!1===u.enableZoom)return;!function(e){M.set(e.clientX,e.clientY),O.subVectors(M,k),O.y>0?j(A()):O.y<0&&F(A()),k.copy(M),u.update()}(e);break;case f.PAN:if(!1===u.enablePan)return;!function(e){E.set(e.clientX,e.clientY),C.subVectors(E,x).multiplyScalar(u.panSpeed),N(C.x,C.y),x.copy(E),u.update()}(e)}}(e)}}function K(e){switch(e.pointerType){case"mouse":case"pen":u.domElement.ownerDocument.removeEventListener("pointermove",Y),u.domElement.ownerDocument.removeEventListener("pointerup",K),!1!==u.enabled&&(u.dispatchEvent(d),p=f.NONE)}}function Z(e){!1===u.enabled||!1===u.enableZoom||p!==f.NONE&&p!==f.ROTATE||(e.preventDefault(),e.stopPropagation(),u.dispatchEvent(h),function(e){e.deltaY<0?F(A()):e.deltaY>0&&j(A()),u.update()}(e),u.dispatchEvent(d))}function J(e){!1!==u.enabled&&!1!==u.enablePan&&function(e){var t=!1;switch(e.keyCode){case u.keys.UP:N(0,u.keyPanSpeed),t=!0;break;case u.keys.BOTTOM:N(0,-u.keyPanSpeed),t=!0;break;case u.keys.LEFT:N(u.keyPanSpeed,0),t=!0;break;case u.keys.RIGHT:N(-u.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),u.update())}(e)}function Q(e){if(!1!==u.enabled){switch(e.preventDefault(),e.touches.length){case 1:switch(u.touches.ONE){case i.mb.ROTATE:if(!1===u.enableRotate)return;V(e),p=f.TOUCH_ROTATE;break;case i.mb.PAN:if(!1===u.enablePan)return;B(e),p=f.TOUCH_PAN;break;default:p=f.NONE}break;case 2:switch(u.touches.TWO){case i.mb.DOLLY_PAN:if(!1===u.enableZoom&&!1===u.enablePan)return;!function(e){u.enableZoom&&z(e),u.enablePan&&B(e)}(e),p=f.TOUCH_DOLLY_PAN;break;case i.mb.DOLLY_ROTATE:if(!1===u.enableZoom&&!1===u.enableRotate)return;!function(e){u.enableZoom&&z(e),u.enableRotate&&V(e)}(e),p=f.TOUCH_DOLLY_ROTATE;break;default:p=f.NONE}break;default:p=f.NONE}p!==f.NONE&&u.dispatchEvent(h)}}function $(e){if(!1!==u.enabled)switch(e.preventDefault(),e.stopPropagation(),p){case f.TOUCH_ROTATE:if(!1===u.enableRotate)return;H(e),u.update();break;case f.TOUCH_PAN:if(!1===u.enablePan)return;X(e),u.update();break;case f.TOUCH_DOLLY_PAN:if(!1===u.enableZoom&&!1===u.enablePan)return;!function(e){u.enableZoom&&q(e),u.enablePan&&X(e)}(e),u.update();break;case f.TOUCH_DOLLY_ROTATE:if(!1===u.enableZoom&&!1===u.enableRotate)return;!function(e){u.enableZoom&&q(e),u.enableRotate&&H(e)}(e),u.update();break;default:p=f.NONE}}function ee(e){!1!==u.enabled&&(u.dispatchEvent(d),p=f.NONE)}function te(e){!1!==u.enabled&&e.preventDefault()}u.domElement.addEventListener("contextmenu",te),u.domElement.addEventListener("pointerdown",W),u.domElement.addEventListener("wheel",Z),u.domElement.addEventListener("touchstart",Q),u.domElement.addEventListener("touchend",ee),u.domElement.addEventListener("touchmove",$),this.update()};r.prototype=Object.create(i.l.prototype),r.prototype.constructor=r;var a=function(e,t){r.call(this,e,t),this.screenSpacePanning=!1,this.mouseButtons.LEFT=i.F.PAN,this.mouseButtons.RIGHT=i.F.ROTATE,this.touches.ONE=i.mb.PAN,this.touches.TWO=i.mb.DOLLY_ROTATE};(a.prototype=Object.create(i.l.prototype)).constructor=a},SVse:function(e,t,n){"use strict";n.d(t,"a",function(){return k}),n.d(t,"b",function(){return se}),n.d(t,"c",function(){return ce}),n.d(t,"d",function(){return u}),n.d(t,"e",function(){return P}),n.d(t,"f",function(){return N}),n.d(t,"g",function(){return O}),n.d(t,"h",function(){return le}),n.d(t,"i",function(){return f}),n.d(t,"j",function(){return A}),n.d(t,"k",function(){return E}),n.d(t,"l",function(){return q}),n.d(t,"m",function(){return Y}),n.d(t,"n",function(){return Z}),n.d(t,"o",function(){return ne}),n.d(t,"p",function(){return ee}),n.d(t,"q",function(){return te}),n.d(t,"r",function(){return ie}),n.d(t,"s",function(){return M}),n.d(t,"t",function(){return c}),n.d(t,"u",function(){return D}),n.d(t,"v",function(){return fe}),n.d(t,"w",function(){return G}),n.d(t,"x",function(){return j}),n.d(t,"y",function(){return U}),n.d(t,"z",function(){return F}),n.d(t,"A",function(){return de}),n.d(t,"B",function(){return s}),n.d(t,"C",function(){return he}),n.d(t,"D",function(){return a}),n.d(t,"E",function(){return X}),n.d(t,"F",function(){return o});var i=n("8Y7J"),r=null;function a(){return r}function o(e){r||(r=e)}var s=function e(){_(this,e)},u=new i.r("DocumentToken"),c=function(){var e=function e(){_(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(i.Gb)({factory:d,token:e,providedIn:"platform"}),e}();function d(){return Object(i.Ub)(p)}var f=new i.r("Location Initialized"),p=function(){var e=function(e){b(n,e);var t=T(n);function n(e){var i;return _(this,n),(i=t.call(this))._doc=e,i._init(),i}return y(n,[{key:"_init",value:function(){this.location=a().getLocation(),this._history=a().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return a().getBaseHref(this._doc)}},{key:"onPopState",value:function(e){a().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}},{key:"onHashChange",value:function(e){a().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(e){this.location.pathname=e}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}},{key:"pushState",value:function(e,t,n){m()?this._history.pushState(e,t,n):this.location.hash=n}},{key:"replaceState",value:function(e,t,n){m()?this._history.replaceState(e,t,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}}]),n}(c);return e.\u0275fac=function(t){return new(t||e)(i.Ub(u))},e.\u0275prov=Object(i.Gb)({factory:v,token:e,providedIn:"platform"}),e}();function m(){return!!window.history.pushState}function v(){return new p(Object(i.Ub)(u))}function g(e,t){if(0==e.length)return t;if(0==t.length)return e;var n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function S(e){var t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function x(e){return e&&"?"!==e[0]?"?"+e:e}var E=function(){var e=function e(){_(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(i.Gb)({factory:C,token:e,providedIn:"root"}),e}();function C(e){var t=Object(i.Ub)(u).location;return new M(Object(i.Ub)(c),t&&t.origin||"")}var k=new i.r("appBaseHref"),M=function(){var e=function(e){b(n,e);var t=T(n);function n(e,i){var r;if(_(this,n),(r=t.call(this))._platformLocation=e,null==i&&(i=r._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return r._baseHref=i,w(r)}return y(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(e){return g(this._baseHref,e)}},{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._platformLocation.pathname+x(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?"".concat(t).concat(n):t}},{key:"pushState",value:function(e,t,n,i){var r=this.prepareExternalUrl(n+x(i));this._platformLocation.pushState(e,t,r)}},{key:"replaceState",value:function(e,t,n,i){var r=this.prepareExternalUrl(n+x(i));this._platformLocation.replaceState(e,t,r)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(E);return e.\u0275fac=function(t){return new(t||e)(i.Ub(c),i.Ub(k,8))},e.\u0275prov=i.Gb({token:e,factory:e.\u0275fac}),e}(),O=function(){var e=function(e){b(n,e);var t=T(n);function n(e,i){var r;return _(this,n),(r=t.call(this))._platformLocation=e,r._baseHref="",null!=i&&(r._baseHref=i),r}return y(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}},{key:"prepareExternalUrl",value:function(e){var t=g(this._baseHref,e);return t.length>0?"#"+t:t}},{key:"pushState",value:function(e,t,n,i){var r=this.prepareExternalUrl(n+x(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(e,t,r)}},{key:"replaceState",value:function(e,t,n,i){var r=this.prepareExternalUrl(n+x(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,r)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(E);return e.\u0275fac=function(t){return new(t||e)(i.Ub(c),i.Ub(k,8))},e.\u0275prov=i.Gb({token:e,factory:e.\u0275fac}),e}(),A=function(){var e=function(){function e(t,n){var r=this;_(this,e),this._subject=new i.n,this._urlChangeListeners=[],this._platformStrategy=t;var a=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=S(I(a)),this._platformStrategy.onPopState(function(e){r._subject.emit({url:r.path(!0),pop:!0,state:e.state,type:e.type})})}return y(e,[{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(e))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(e+x(t))}},{key:"normalize",value:function(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,I(t)))}},{key:"prepareExternalUrl",value:function(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}},{key:"go",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+x(t)),n)}},{key:"replaceState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+x(t)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(e){var t=this;this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(function(e){t._notifyUrlChangeListeners(e.url,e.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach(function(n){return n(e,t)})}},{key:"subscribe",value:function(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Ub(E),i.Ub(c))},e.normalizeQueryParams=x,e.joinWithSlash=g,e.stripTrailingSlash=S,e.\u0275prov=Object(i.Gb)({factory:R,token:e,providedIn:"root"}),e}();function R(){return new A(Object(i.Ub)(E),Object(i.Ub)(c))}function I(e){return e.replace(/\/index.html$/,"")}var L=function(e){return e[e.Zero=0]="Zero",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Few=3]="Few",e[e.Many=4]="Many",e[e.Other=5]="Other",e}({}),P=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}({}),D=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}({}),N=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}({});function j(e,t,n){var r=Object(i.ib)(e),a=B([r[i.Z.DaysFormat],r[i.Z.DaysStandalone]],t);return B(a,n)}function F(e,t,n){var r=Object(i.ib)(e),a=B([r[i.Z.MonthsFormat],r[i.Z.MonthsStandalone]],t);return B(a,n)}function U(e){return Object(i.ib)(e)[i.Z.FirstDayOfWeek]}function G(e,t){return B(Object(i.ib)(e)[i.Z.DateFormat],t)}var V=i.lb;function B(e,t){for(var n=t;n>-1;n--)if(void 0!==e[n])return e[n];throw new Error("Locale data API: locale data undefined")}var z=function e(){_(this,e)},H=function(){var e=function(e){b(n,e);var t=T(n);function n(e){var i;return _(this,n),(i=t.call(this)).locale=e,i}return y(n,[{key:"getPluralCategory",value:function(e,t){switch(V(t||this.locale)(e)){case L.Zero:return"zero";case L.One:return"one";case L.Two:return"two";case L.Few:return"few";case L.Many:return"many";default:return"other"}}}]),n}(z);return e.\u0275fac=function(t){return new(t||e)(i.Ub(i.v))},e.\u0275prov=i.Gb({token:e,factory:e.\u0275fac}),e}();function X(e,t){t=encodeURIComponent(t);var n,i=h(e.split(";"));try{for(i.s();!(n=i.n()).done;){var r=n.value,a=r.indexOf("="),o=l(-1==a?[r,""]:[r.slice(0,a),r.slice(a+1)],2),s=o[0],u=o[1];if(s.trim()===t)return decodeURIComponent(u)}}catch(c){i.e(c)}finally{i.f()}return null}var q=function(){var e=function(){function e(t,n,i,r){_(this,e),this._iterableDiffers=t,this._keyValueDiffers=n,this._ngEl=i,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return y(e,[{key:"klass",set:function(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Object(i.ob)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}},{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){var t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}},{key:"_applyKeyValueChanges",value:function(e){var t=this;e.forEachAddedItem(function(e){return t._toggleClass(e.key,e.currentValue)}),e.forEachChangedItem(function(e){return t._toggleClass(e.key,e.currentValue)}),e.forEachRemovedItem(function(e){e.previousValue&&t._toggleClass(e.key,!1)})}},{key:"_applyIterableChanges",value:function(e){var t=this;e.forEachAddedItem(function(e){if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got ".concat(Object(i.ub)(e.item)));t._toggleClass(e.item,!0)}),e.forEachRemovedItem(function(e){return t._toggleClass(e.item,!1)})}},{key:"_applyClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach(function(e){return t._toggleClass(e,!0)}):Object.keys(e).forEach(function(n){return t._toggleClass(n,!!e[n])}))}},{key:"_removeClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach(function(e){return t._toggleClass(e,!1)}):Object.keys(e).forEach(function(e){return t._toggleClass(e,!1)}))}},{key:"_toggleClass",value:function(e,t){var n=this;(e=e.trim())&&e.split(/\s+/g).forEach(function(e){t?n._renderer.addClass(n._ngEl.nativeElement,e):n._renderer.removeClass(n._ngEl.nativeElement,e)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Kb(i.t),i.Kb(i.u),i.Kb(i.l),i.Kb(i.E))},e.\u0275dir=i.Fb({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),e}(),W=function(){function e(t,n,i,r){_(this,e),this.$implicit=t,this.ngForOf=n,this.index=i,this.count=r}return y(e,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),e}(),Y=function(){var e=function(){function e(t,n,i){_(this,e),this._viewContainer=t,this._template=n,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return y(e,[{key:"ngForOf",set:function(e){this._ngForOf=e,this._ngForOfDirty=!0}},{key:"ngForTrackBy",get:function(){return this._trackByFn},set:function(e){this._trackByFn=e}},{key:"ngForTemplate",set:function(e){e&&(this._template=e)}},{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(i){throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'. NgFor only supports binding to Iterables such as Arrays."))}}var t;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(e){var t=this,n=[];e.forEachOperation(function(e,i,r){if(null==e.previousIndex){var a=t._viewContainer.createEmbeddedView(t._template,new W(null,t._ngForOf,-1,-1),null===r?void 0:r),o=new K(e,a);n.push(o)}else if(null==r)t._viewContainer.remove(null===i?void 0:i);else if(null!==i){var s=t._viewContainer.get(i);t._viewContainer.move(s,r);var l=new K(e,s);n.push(l)}});for(var i=0;i<n.length;i++)this._perViewChange(n[i].view,n[i].record);for(var r=0,a=this._viewContainer.length;r<a;r++){var o=this._viewContainer.get(r);o.context.index=r,o.context.count=a,o.context.ngForOf=this._ngForOf}e.forEachIdentityChange(function(e){t._viewContainer.get(e.currentIndex).context.$implicit=e.item})}},{key:"_perViewChange",value:function(e,t){e.context.$implicit=t.item}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Kb(i.P),i.Kb(i.L),i.Kb(i.t))},e.\u0275dir=i.Fb({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e}(),K=function e(t,n){_(this,e),this.record=t,this.view=n},Z=function(){var e=function(){function e(t,n){_(this,e),this._viewContainer=t,this._context=new J,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return y(e,[{key:"ngIf",set:function(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}},{key:"ngIfThen",set:function(e){Q("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(e){Q("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}},{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Kb(i.P),i.Kb(i.L))},e.\u0275dir=i.Fb({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e}(),J=function e(){_(this,e),this.$implicit=null,this.ngIf=null};function Q(e,t){if(t&&!t.createEmbeddedView)throw new Error("".concat(e," must be a TemplateRef, but received '").concat(Object(i.ub)(t),"'."))}var $=function(){function e(t,n){_(this,e),this._viewContainerRef=t,this._templateRef=n,this._created=!1}return y(e,[{key:"create",value:function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}},{key:"destroy",value:function(){this._created=!1,this._viewContainerRef.clear()}},{key:"enforceState",value:function(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}]),e}(),ee=function(){var e=function(){function e(){_(this,e),this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return y(e,[{key:"ngSwitch",set:function(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}},{key:"_addCase",value:function(){return this._caseCount++}},{key:"_addDefault",value:function(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}},{key:"_matchCase",value:function(e){var t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}},{key:"_updateDefaultCases",value:function(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(var t=0;t<this._defaultViews.length;t++)this._defaultViews[t].enforceState(e)}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i.Fb({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),e}(),te=function(){var e=function(){function e(t,n,i){_(this,e),this.ngSwitch=i,i._addCase(),this._view=new $(t,n)}return y(e,[{key:"ngDoCheck",value:function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Kb(i.P),i.Kb(i.L),i.Kb(ee,1))},e.\u0275dir=i.Fb({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),e}(),ne=function(){var e=function(){function e(t,n,i){_(this,e),this._ngEl=t,this._differs=n,this._renderer=i,this._ngStyle=null,this._differ=null}return y(e,[{key:"ngStyle",set:function(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}},{key:"ngDoCheck",value:function(){if(this._differ){var e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}},{key:"_setStyle",value:function(e,t){var n=l(e.split("."),2),i=n[0],r=n[1];null!=(t=null!=t&&r?"".concat(t).concat(r):t)?this._renderer.setStyle(this._ngEl.nativeElement,i,t):this._renderer.removeStyle(this._ngEl.nativeElement,i)}},{key:"_applyChanges",value:function(e){var t=this;e.forEachRemovedItem(function(e){return t._setStyle(e.key,null)}),e.forEachAddedItem(function(e){return t._setStyle(e.key,e.currentValue)}),e.forEachChangedItem(function(e){return t._setStyle(e.key,e.currentValue)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Kb(i.l),i.Kb(i.u),i.Kb(i.E))},e.\u0275dir=i.Fb({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),e}(),ie=function(){var e=function(){function e(t){_(this,e),this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}return y(e,[{key:"ngOnChanges",value:function(e){if(this._shouldRecreateView(e)){var t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}},{key:"_shouldRecreateView",value:function(e){var t=e.ngTemplateOutletContext;return!!e.ngTemplateOutlet||t&&this._hasContextShapeChanged(t)}},{key:"_hasContextShapeChanged",value:function(e){var t=Object.keys(e.previousValue||{}),n=Object.keys(e.currentValue||{});if(t.length===n.length){var i,r=h(n);try{for(r.s();!(i=r.n()).done;){var a=i.value;if(-1===t.indexOf(a))return!0}}catch(o){r.e(o)}finally{r.f()}return!1}return!0}},{key:"_updateExistingContext",value:function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var i=n[t];this._viewRef.context[i]=this.ngTemplateOutletContext[i]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Kb(i.P))},e.\u0275dir=i.Fb({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[i.xb]}),e}(),re=function(){function e(){_(this,e)}return y(e,[{key:"createSubscription",value:function(e,t){return e.subscribe({next:t,error:function(e){throw e}})}},{key:"dispose",value:function(e){e.unsubscribe()}},{key:"onDestroy",value:function(e){e.unsubscribe()}}]),e}(),ae=new(function(){function e(){_(this,e)}return y(e,[{key:"createSubscription",value:function(e,t){return e.then(t,function(e){throw e})}},{key:"dispose",value:function(e){}},{key:"onDestroy",value:function(e){}}]),e}()),oe=new re,se=function(){var e=function(){function e(t){_(this,e),this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}return y(e,[{key:"ngOnDestroy",value:function(){this._subscription&&this._dispose()}},{key:"transform",value:function(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}},{key:"_subscribe",value:function(e){var t=this;this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,function(n){return t._updateLatestValue(e,n)})}},{key:"_selectStrategy",value:function(t){if(Object(i.qb)(t))return ae;if(Object(i.rb)(t))return oe;throw n=e,Error("InvalidPipeArgument: '".concat(t,"' for pipe '").concat(Object(i.ub)(n),"'"));var n}},{key:"_dispose",value:function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}},{key:"_updateLatestValue",value:function(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Wb())},e.\u0275pipe=i.Jb({name:"async",type:e,pure:!1}),e}(),le=function(){var e=function(){function e(t){_(this,e),this.differs=t,this.keyValues=[]}return y(e,[{key:"transform",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ue;if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());var i=this.differ.diff(e);return i&&(this.keyValues=[],i.forEachItem(function(e){t.keyValues.push({key:e.key,value:e.currentValue})}),this.keyValues.sort(n)),this.keyValues}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Kb(i.u))},e.\u0275pipe=i.Jb({name:"keyvalue",type:e,pure:!1}),e}();function ue(e,t){var n=e.key,i=t.key;if(n===i)return 0;if(void 0===n)return 1;if(void 0===i)return-1;if(null===n)return 1;if(null===i)return-1;if("string"==typeof n&&"string"==typeof i)return n<i?-1:1;if("number"==typeof n&&"number"==typeof i)return n-i;if("boolean"==typeof n&&"boolean"==typeof i)return n<i?-1:1;var r=String(n),a=String(i);return r==a?0:r<a?-1:1}var ce=function(){var e=function e(){_(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.Ib({type:e}),e.\u0275inj=i.Hb({providers:[{provide:z,useClass:H}]}),e}(),he="browser";function de(e){return e===he}var fe=function(){var e=function e(){_(this,e)};return e.\u0275prov=Object(i.Gb)({token:e,providedIn:"root",factory:function(){return new pe(Object(i.Ub)(u),window)}}),e}(),pe=function(){function e(t,n){_(this,e),this.document=t,this.window=n,this.offset=function(){return[0,0]}}return y(e,[{key:"setOffset",value:function(e){this.offset=Array.isArray(e)?function(){return e}:e}},{key:"getScrollPosition",value:function(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}},{key:"scrollToPosition",value:function(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}},{key:"scrollToAnchor",value:function(e){if(this.supportsScrolling()){var t=function(e,t){var n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow))for(var i=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;r;){var a=r.shadowRoot;if(a){var o=a.getElementById(t)||a.querySelector('[name="'.concat(t,'"]'));if(o)return o}r=i.nextNode()}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}}},{key:"setHistoryScrollRestoration",value:function(e){if(this.supportScrollRestoration()){var t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}},{key:"scrollToElement",value:function(e){var t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],i-r[1])}},{key:"attemptFocus",value:function(e){return e.focus(),this.document.activeElement===e}},{key:"supportScrollRestoration",value:function(){try{if(!this.supportsScrolling())return!1;var e=me(this.window.history)||me(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(t){return!1}}},{key:"supportsScrolling",value:function(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}]),e}();function me(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}},SeVD:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var i=n("ngJS"),r=n("NJ4a"),a=n("Lhse"),o=n("kJWO"),s=n("I55L"),l=n("c2HN"),u=n("XoHu"),c=function(e){if(e&&"function"==typeof e[o.a])return c=e,function(e){var t=c[o.a]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(Object(s.a)(e))return Object(i.a)(e);if(Object(l.a)(e))return n=e,function(e){return n.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,r.a),e};if(e&&"function"==typeof e[a.a])return t=e,function(e){for(var n=t[a.a]();;){var i=void 0;try{i=n.next()}catch(r){return e.error(r),e}if(i.done){e.complete();break}if(e.next(i.value),e.closed)break}return"function"==typeof n.return&&e.add(function(){n.return&&n.return()}),e};var t,n,c,h=Object(u.a)(e)?"an invalid object":"'".concat(e,"'");throw new TypeError("You provided ".concat(h," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))}},SpAZ:function(e,t,n){"use strict";function i(e){return e}n.d(t,"a",function(){return i})},SxV6:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var i=n("sVev"),r=n("pLZG"),a=n("IzEk"),o=n("xbPD"),s=n("XDbj"),l=n("SpAZ");function u(e,t){var n=arguments.length>=2;return function(u){return u.pipe(e?Object(r.a)(function(t,n){return e(t,n,u)}):l.a,Object(a.a)(1),n?Object(o.a)(t):Object(s.a)(function(){return new i.a}))}}},Tu8L:function(e,t,n){var i,r;void 0===(r="function"==typeof(i=function(){return{SMIL_2_0:{n:"SMIL_2_0",dens:"http://www.w3.org/2001/SMIL20/",deps:["SMIL_2_0_Language"],tis:[{ln:"AnimateMotionPrototype",tn:"animateMotionPrototype",ps:[{n:"origin",an:{lp:"origin"},t:"a"},{n:"from",an:{lp:"from"},t:"a"},{n:"by",an:{lp:"by"},t:"a"},{n:"values",an:{lp:"values"},t:"a"},{n:"to",an:{lp:"to"},t:"a"},{n:"additive",an:{lp:"additive"},t:"a"},{n:"accumulate",an:{lp:"accumulate"},t:"a"}]},{ln:"SetPrototype",tn:"setPrototype",ps:[{n:"attributeName",rq:!0,an:{lp:"attributeName"},t:"a"},{n:"attributeType",an:{lp:"attributeType"},t:"a"},{n:"to",an:{lp:"to"},t:"a"}]},{ln:"AnimateColorPrototype",tn:"animateColorPrototype",ps:[{n:"additive",an:{lp:"additive"},t:"a"},{n:"accumulate",an:{lp:"accumulate"},t:"a"},{n:"attributeName",rq:!0,an:{lp:"attributeName"},t:"a"},{n:"attributeType",an:{lp:"attributeType"},t:"a"},{n:"from",an:{lp:"from"},t:"a"},{n:"by",an:{lp:"by"},t:"a"},{n:"values",an:{lp:"values"},t:"a"},{n:"to",an:{lp:"to"},t:"a"}]},{ln:"AnimatePrototype",tn:"animatePrototype",ps:[{n:"additive",an:{lp:"additive"},t:"a"},{n:"accumulate",an:{lp:"accumulate"},t:"a"},{n:"from",an:{lp:"from"},t:"a"},{n:"by",an:{lp:"by"},t:"a"},{n:"values",an:{lp:"values"},t:"a"},{n:"to",an:{lp:"to"},t:"a"},{n:"attributeName",rq:!0,an:{lp:"attributeName"},t:"a"},{n:"attributeType",an:{lp:"attributeType"},t:"a"}]},{t:"enum",ln:"SyncBehaviorDefaultType",vs:["canSlip","locked","independent","inherit"]},{t:"enum",ln:"SyncBehaviorType",vs:["canSlip","locked","independent","default"]},{t:"enum",ln:"FillTimingAttrsType",vs:["remove","freeze","hold","auto","default","transition"]},{t:"enum",ln:"RestartDefaultType",vs:["never","always","whenNotActive","inherit"]},{t:"enum",ln:"FillDefaultType",vs:["remove","freeze","hold","auto","inherit","transition"]},{t:"enum",ln:"RestartTimingType",vs:["never","always","whenNotActive","default"]}],eis:[{en:"set",ti:"SMIL_2_0_Language.SetType",sh:{lp:"set",ns:"http://www.w3.org/2001/SMIL20/Language"}},{en:"animate",ti:"SMIL_2_0_Language.AnimateType",sh:{lp:"animate",ns:"http://www.w3.org/2001/SMIL20/Language"}},{en:"animateMotion",ti:"SMIL_2_0_Language.AnimateMotionType",sh:{lp:"animateMotion",ns:"http://www.w3.org/2001/SMIL20/Language"}},{en:"animateColor",ti:"SMIL_2_0_Language.AnimateColorType",sh:{lp:"animateColor",ns:"http://www.w3.org/2001/SMIL20/Language"}}]}}})?i.apply(t,[]):i)||(e.exports=r)},U1NS:function(e,t,n){"use strict";n.d(t,"b",function(){return d});var i=n("QSZX"),r=n("9CgO"),a=n("l30d"),o=n("RuG3"),s=n("De+T"),l=n("i3ci"),u=n("Bpkx"),c=n("bwl8"),h=n("FHfp");function d(e,t){if(!e.visible)return!1;var n=t.resolution;if(n<e.minResolution||n>=e.maxResolution)return!1;var i=t.zoom;return i>e.minZoom&&i<=e.maxZoom}t.a=function(e){b(n,e);var t=T(n);function n(e){var i;_(this,n);var r=Object(u.a)({},e);return delete r.source,(i=t.call(this,r)).mapPrecomposeKey_=null,i.mapRenderKey_=null,i.sourceChangeKey_=null,i.renderer_=null,e.render&&(i.render=e.render),e.map&&i.setMap(e.map),i.addEventListener(Object(c.b)(a.a.SOURCE),i.handleSourcePropertyChange_),i.setSource(e.source?e.source:null),i}return y(n,[{key:"getLayersArray",value:function(e){var t=e||[];return t.push(this),t}},{key:"getLayerStatesArray",value:function(e){var t=e||[];return t.push(this.getLayerState()),t}},{key:"getSource",value:function(){return this.get(a.a.SOURCE)||null}},{key:"getSourceState",value:function(){var e=this.getSource();return e?e.getState():s.a.UNDEFINED}},{key:"handleSourceChange_",value:function(){this.changed()}},{key:"handleSourcePropertyChange_",value:function(){this.sourceChangeKey_&&(Object(h.c)(this.sourceChangeKey_),this.sourceChangeKey_=null);var e=this.getSource();e&&(this.sourceChangeKey_=Object(h.a)(e,r.a.CHANGE,this.handleSourceChange_,this)),this.changed()}},{key:"getFeatures",value:function(e){return this.renderer_.getFeatures(e)}},{key:"render",value:function(e,t){var n=this.getRenderer();if(n.prepareFrame(e))return n.renderFrame(e,t)}},{key:"setMap",value:function(e){this.mapPrecomposeKey_&&(Object(h.c)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(Object(h.c)(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=Object(h.a)(e,o.a.PRECOMPOSE,function(e){var t=e.frameState.layerStatesArray,n=this.getLayerState(!1);Object(l.a)(!t.some(function(e){return e.layer===n.layer}),67),t.push(n)},this),this.mapRenderKey_=Object(h.a)(this,r.a.CHANGE,e.render,e),this.changed())}},{key:"setSource",value:function(e){this.set(a.a.SOURCE,e)}},{key:"getRenderer",value:function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}},{key:"hasRenderer",value:function(){return!!this.renderer_}},{key:"createRenderer",value:function(){return null}},{key:"disposeInternal",value:function(){this.setSource(null),v(C(n.prototype),"disposeInternal",this).call(this)}}]),n}(i.a)},UMcu:function(e,t,n){"use strict";function i(e,t,n,i){return void 0!==i?(i[0]=e,i[1]=t,i[2]=n,i):[e,t,n]}function r(e,t,n){return e+"/"+t+"/"+n}function a(e){return r(e[0],e[1],e[2])}function o(e){return e.split("/").map(Number)}function s(e){return(e[1]<<e[0])+e[2]}function l(e,t){var n=e[0],i=e[1],r=e[2];if(t.getMinZoom()>n||n>t.getMaxZoom())return!1;var a=t.getFullTileRange(n);return!a||a.containsXY(i,r)}n.d(t,"a",function(){return i}),n.d(t,"d",function(){return r}),n.d(t,"c",function(){return a}),n.d(t,"b",function(){return o}),n.d(t,"e",function(){return s}),n.d(t,"f",function(){return l})},VJnl:function(e,t,n){"use strict";t.a={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"}},VRyK:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i=n("HDdC"),r=n("z+Ro"),a=n("bHdf"),o=n("yCtX");function s(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var s=Number.POSITIVE_INFINITY,l=null,u=t[t.length-1];return Object(r.a)(u)?(l=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(s=t.pop())):"number"==typeof u&&(s=t.pop()),null===l&&1===t.length&&t[0]instanceof i.a?t[0]:Object(a.a)(s)(Object(o.a)(t,l))}},VvGk:function(e,t,n){"use strict";function i(e,t,n,i){for(var r=0,a=n.length;r<a;++r)e[t++]=n[r];return t}function r(e,t,n,i){for(var r=0,a=n.length;r<a;++r)for(var o=n[r],s=0;s<i;++s)e[t++]=o[s];return t}function a(e,t,n,i,a){for(var o=a||[],s=0,l=0,u=n.length;l<u;++l){var c=r(e,t,n[l],i);o[s++]=c,t=c}return o.length=s,o}function o(e,t,n,i,r){for(var o=r||[],s=0,l=0,u=n.length;l<u;++l){var c=a(e,t,n[l],i,o[s]);o[s++]=c,t=c[c.length-1]}return o.length=s,o}n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return o})},"W/Sn":function(e,t,n){"use strict";var i=n("1M8w"),r=n("JS5d"),a=n("4cD7"),o=n("8pO4"),s=function(e){b(n,e);var t=T(n);function n(e,i,r,a){return _(this,n),t.call(this,e,i,r,a)}return y(n,[{key:"drawFlatCoordinatess_",value:function(e,t,n,i){var a=this.state,o=void 0!==a.fillStyle,s=void 0!==a.strokeStyle,l=n.length;this.instructions.push(r.a),this.hitDetectionInstructions.push(r.a);for(var u=0;u<l;++u){var c=n[u],h=this.coordinates.length,d=this.appendFlatLineCoordinates(e,t,c,i,!0,!s),f=[r.c.MOVE_TO_LINE_TO,h,d];this.instructions.push(f),this.hitDetectionInstructions.push(f),s&&(this.instructions.push(r.b),this.hitDetectionInstructions.push(r.b)),t=c}return o&&(this.instructions.push(r.d),this.hitDetectionInstructions.push(r.d)),s&&(this.instructions.push(r.e),this.hitDetectionInstructions.push(r.e)),t}},{key:"drawCircle",value:function(e,t){var n=this.state;if(void 0!==n.fillStyle||void 0!==n.strokeStyle){this.setFillStrokeStyles_(),this.beginGeometry(e,t),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([r.c.SET_FILL_STYLE,a.c]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([r.c.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var i=e.getFlatCoordinates(),o=e.getStride(),s=this.coordinates.length;this.appendFlatLineCoordinates(i,0,i.length,o,!1,!1);var l=[r.c.CIRCLE,s];this.instructions.push(r.a,l),this.hitDetectionInstructions.push(r.a,l),void 0!==n.fillStyle&&(this.instructions.push(r.d),this.hitDetectionInstructions.push(r.d)),void 0!==n.strokeStyle&&(this.instructions.push(r.e),this.hitDetectionInstructions.push(r.e)),this.endGeometry(t)}}},{key:"drawPolygon",value:function(e,t){var n=this.state;if(void 0!==n.fillStyle||void 0!==n.strokeStyle){this.setFillStrokeStyles_(),this.beginGeometry(e,t),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([r.c.SET_FILL_STYLE,a.c]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([r.c.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var i=e.getEnds(),o=e.getOrientedFlatCoordinates(),s=e.getStride();this.drawFlatCoordinatess_(o,0,i,s),this.endGeometry(t)}}},{key:"drawMultiPolygon",value:function(e,t){var n=this.state;if(void 0!==n.fillStyle||void 0!==n.strokeStyle){this.setFillStrokeStyles_(),this.beginGeometry(e,t),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([r.c.SET_FILL_STYLE,a.c]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([r.c.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);for(var i=e.getEndss(),o=e.getOrientedFlatCoordinates(),s=e.getStride(),l=0,u=0,c=i.length;u<c;++u)l=this.drawFlatCoordinatess_(o,l,i[u],s);this.endGeometry(t)}}},{key:"finish",value:function(){this.reverseHitDetectionInstructions(),this.state=null;var e=this.tolerance;if(0!==e)for(var t=this.coordinates,i=0,r=t.length;i<r;++i)t[i]=Object(o.e)(t[i],e);return v(C(n.prototype),"finish",this).call(this)}},{key:"setFillStrokeStyles_",value:function(){var e=this.state;void 0!==e.fillStyle&&this.updateFillStyle(e,this.createFill),void 0!==e.strokeStyle&&this.updateStrokeStyle(e,this.applyStroke)}}]),n}(i.a),l=n("0sIq"),u={Circle:s,Default:i.a,Image:function(e){b(n,e);var t=T(n);function n(e,i,r,a){var o;return _(this,n),(o=t.call(this,e,i,r,a)).hitDetectionImage_=null,o.image_=null,o.imagePixelRatio_=void 0,o.anchorX_=void 0,o.anchorY_=void 0,o.height_=void 0,o.opacity_=void 0,o.originX_=void 0,o.originY_=void 0,o.rotateWithView_=void 0,o.rotation_=void 0,o.scale_=void 0,o.width_=void 0,o.declutterImageWithText_=void 0,o}return y(n,[{key:"drawPoint",value:function(e,t){if(this.image_){this.beginGeometry(e,t);var n=e.getFlatCoordinates(),i=e.getStride(),a=this.coordinates.length,o=this.appendFlatPointCoordinates(n,i);this.instructions.push([r.c.DRAW_IMAGE,a,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([r.c.DRAW_IMAGE,a,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(t)}}},{key:"drawMultiPoint",value:function(e,t){if(this.image_){this.beginGeometry(e,t);var n=e.getFlatCoordinates(),i=e.getStride(),a=this.coordinates.length,o=this.appendFlatPointCoordinates(n,i);this.instructions.push([r.c.DRAW_IMAGE,a,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([r.c.DRAW_IMAGE,a,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(t)}}},{key:"finish",value:function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,v(C(n.prototype),"finish",this).call(this)}},{key:"setImageStyle",value:function(e,t){var n=e.getAnchor(),i=e.getSize(),r=e.getHitDetectionImage(),a=e.getImage(this.pixelRatio),o=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=n[0],this.anchorY_=n[1],this.hitDetectionImage_=r,this.image_=a,this.height_=i[1],this.opacity_=e.getOpacity(),this.originX_=o[0],this.originY_=o[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=i[0],this.declutterImageWithText_=t}}]),n}(i.a),LineString:function(e){b(n,e);var t=T(n);function n(e,i,r,a){return _(this,n),t.call(this,e,i,r,a)}return y(n,[{key:"drawFlatCoordinates_",value:function(e,t,n,i){var a=this.coordinates.length,o=this.appendFlatLineCoordinates(e,t,n,i,!1,!1),s=[r.c.MOVE_TO_LINE_TO,a,o];return this.instructions.push(s),this.hitDetectionInstructions.push(s),n}},{key:"drawLineString",value:function(e,t){var n=this.state;if(void 0!==n.strokeStyle&&void 0!==n.lineWidth){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(e,t),this.hitDetectionInstructions.push([r.c.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],r.a);var i=e.getFlatCoordinates(),a=e.getStride();this.drawFlatCoordinates_(i,0,i.length,a),this.hitDetectionInstructions.push(r.e),this.endGeometry(t)}}},{key:"drawMultiLineString",value:function(e,t){var n=this.state;if(void 0!==n.strokeStyle&&void 0!==n.lineWidth){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(e,t),this.hitDetectionInstructions.push([r.c.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],r.a);for(var i=e.getEnds(),a=e.getFlatCoordinates(),o=e.getStride(),s=0,l=0,u=i.length;l<u;++l)s=this.drawFlatCoordinates_(a,s,i[l],o);this.hitDetectionInstructions.push(r.e),this.endGeometry(t)}}},{key:"finish",value:function(){var e=this.state;return null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push(r.e),this.reverseHitDetectionInstructions(),this.state=null,v(C(n.prototype),"finish",this).call(this)}},{key:"applyStroke",value:function(e){null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(r.e),e.lastStroke=this.coordinates.length),e.lastStroke=0,v(C(n.prototype),"applyStroke",this).call(this,e),this.instructions.push(r.a)}}]),n}(i.a),Polygon:s,Text:l.b};t.a=function(){function e(t,n,i,r){_(this,e),this.tolerance_=t,this.maxExtent_=n,this.pixelRatio_=r,this.resolution_=i,this.buildersByZIndex_={}}return y(e,[{key:"finish",value:function(){var e={};for(var t in this.buildersByZIndex_){e[t]=e[t]||{};var n=this.buildersByZIndex_[t];for(var i in n){var r=n[i].finish();e[t][i]=r}}return e}},{key:"getBuilder",value:function(e,t){var n=void 0!==e?e.toString():"0",i=this.buildersByZIndex_[n];void 0===i&&(i={},this.buildersByZIndex_[n]=i);var r=i[t];return void 0===r&&(r=new(0,u[t])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[t]=r),r}}]),e}()},W74l:function(e,t,n){"use strict";var i=n("aBeY"),r=n("wEYg"),a=n("AjuZ"),o=n("hKKC"),s=n("VvGk"),l=n("oWEL"),u=n("L3Wi"),c=n("LV+m"),h=function(e){b(n,e);var t=T(n);function n(e,i){var r;return _(this,n),r=t.call(this),i&&!Array.isArray(e[0])?r.setFlatCoordinates(i,e):r.setCoordinates(e,i),r}return y(n,[{key:"appendPoint",value:function(e){this.flatCoordinates?Object(l.c)(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.changed()}},{key:"clone",value:function(){var e=new n(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}},{key:"closestPointXY",value:function(e,t,n,i){if(i<Object(o.f)(this.getExtent(),e,t))return i;for(var r=this.flatCoordinates,a=this.stride,s=0,l=r.length;s<l;s+=a){var u=Object(c.g)(e,t,r[s],r[s+1]);if(u<i){i=u;for(var h=0;h<a;++h)n[h]=r[s+h];n.length=a}}return i}},{key:"getCoordinates",value:function(){return Object(u.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}},{key:"getPoint",value:function(e){return e<0||(this.flatCoordinates?this.flatCoordinates.length/this.stride:0)<=e?null:new r.a(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)}},{key:"getPoints",value:function(){for(var e=this.flatCoordinates,t=this.layout,n=this.stride,i=[],a=0,o=e.length;a<o;a+=n){var s=new r.a(e.slice(a,a+n),t);i.push(s)}return i}},{key:"getType",value:function(){return i.a.MULTI_POINT}},{key:"intersectsExtent",value:function(e){for(var t=this.flatCoordinates,n=this.stride,i=0,r=t.length;i<r;i+=n){var a=t[i],s=t[i+1];if(Object(o.i)(e,a,s))return!0}return!1}},{key:"setCoordinates",value:function(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(s.b)(this.flatCoordinates,0,e,this.stride),this.changed()}}]),n}(a.a);t.a=h},WMd4:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i,r=n("EY2u"),a=n("LRne"),o=n("HDdC"),s=((i=function(){function e(t,n,i){_(this,e),this.kind=t,this.value=n,this.error=i,this.hasValue="N"===t}return y(e,[{key:"observe",value:function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}},{key:"do",value:function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}},{key:"accept",value:function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Object(a.a)(this.value);case"E":return e=this.error,new o.a(function(t){return t.error(e)});case"C":return Object(r.b)()}var e;throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}},{key:"createError",value:function(t){return new e("E",void 0,t)}},{key:"createComplete",value:function(){return e.completeNotification}}]),e}()).completeNotification=new i("C"),i.undefinedValueNotification=new i("N",void 0),i)},Womt:function(e,t,n){"use strict";n.d(t,"a",function(){return Uo}),n.d(t,"b",function(){return oa}),n.d(t,"c",function(){return J}),n.d(t,"d",function(){return Tt}),n.d(t,"e",function(){return zt}),n.d(t,"f",function(){return Da}),n.d(t,"g",function(){return c}),n.d(t,"h",function(){return mt}),n.d(t,"i",function(){return Ko}),n.d(t,"j",function(){return As}),n.d(t,"k",function(){return l}),n.d(t,"l",function(){return L}),n.d(t,"m",function(){return co}),n.d(t,"n",function(){return Xo}),n.d(t,"o",function(){return a}),n.d(t,"p",function(){return Er}),n.d(t,"q",function(){return Gs}),n.d(t,"r",function(){return Ir}),n.d(t,"s",function(){return Dr}),n.d(t,"t",function(){return ko}),n.d(t,"u",function(){return k}),n.d(t,"v",function(){return M}),n.d(t,"w",function(){return Sa}),n.d(t,"x",function(){return ma}),n.d(t,"y",function(){return Ea}),n.d(t,"z",function(){return xa}),n.d(t,"A",function(){return g}),n.d(t,"B",function(){return w}),n.d(t,"C",function(){return S}),n.d(t,"D",function(){return zo}),n.d(t,"E",function(){return Ns}),n.d(t,"F",function(){return i}),n.d(t,"G",function(){return yt}),n.d(t,"H",function(){return F}),n.d(t,"I",function(){return Te}),n.d(t,"J",function(){return ln}),n.d(t,"K",function(){return _t}),n.d(t,"L",function(){return _o}),n.d(t,"M",function(){return yo}),n.d(t,"N",function(){return go}),n.d(t,"O",function(){return d}),n.d(t,"P",function(){return f}),n.d(t,"Q",function(){return m}),n.d(t,"R",function(){return p}),n.d(t,"S",function(){return Po}),n.d(t,"T",function(){return We}),n.d(t,"U",function(){return Ms}),n.d(t,"V",function(){return vn}),n.d(t,"W",function(){return ks}),n.d(t,"X",function(){return Ra}),n.d(t,"Y",function(){return Ca}),n.d(t,"Z",function(){return sl}),n.d(t,"ab",function(){return W}),n.d(t,"bb",function(){return No}),n.d(t,"cb",function(){return E}),n.d(t,"db",function(){return u}),n.d(t,"eb",function(){return Rr}),n.d(t,"fb",function(){return pn}),n.d(t,"gb",function(){return bs}),n.d(t,"hb",function(){return ua}),n.d(t,"ib",function(){return aa}),n.d(t,"jb",function(){return fe}),n.d(t,"kb",function(){return vl}),n.d(t,"lb",function(){return Es}),n.d(t,"mb",function(){return r}),n.d(t,"nb",function(){return I}),n.d(t,"ob",function(){return Jo}),n.d(t,"pb",function(){return A}),n.d(t,"qb",function(){return O}),n.d(t,"rb",function(){return U}),n.d(t,"sb",function(){return Y}),n.d(t,"tb",function(){return Fo}),n.d(t,"ub",function(){return Or}),n.d(t,"vb",function(){return R});var i={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},r={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},a=0,l=2,u=1e3,c=1001,d=1002,f=1003,p=1004,m=1005,g=1006,S=1007,w=1008,E=1022,k=2300,M=2301,O=1,A=2,R=3001,I=0;function L(){}Object.assign(L.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)},removeEventListener:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var i=n.indexOf(t);-1!==i&&n.splice(i,1)}}},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),i=0,r=n.length;i<r;i++)n[i].call(this,e)}}}});for(var P=[],D=0;D<256;D++)P[D]=(D<16?"0":"")+D.toString(16);var N,j=1234567,F={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(P[255&e]+P[e>>8&255]+P[e>>16&255]+P[e>>24&255]+"-"+P[255&t]+P[t>>8&255]+"-"+P[t>>16&15|64]+P[t>>24&255]+"-"+P[63&n|128]+P[n>>8&255]+"-"+P[n>>16&255]+P[n>>24&255]+P[255&i]+P[i>>8&255]+P[i>>16&255]+P[i>>24&255]).toUpperCase()},clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,i,r){return i+(e-t)*(r-i)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},damp:function(e,t,n,i){return F.lerp(e,t,1-Math.exp(-n*i))},pingpong:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t-Math.abs(F.euclideanModulo(e,2*t)-t)},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){return void 0!==e&&(j=e%2147483647),((j=16807*j%2147483647)-1)/2147483646},degToRad:function(e){return e*F.DEG2RAD},radToDeg:function(e){return e*F.RAD2DEG},isPowerOfTwo:function(e){return 0==(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,n,i,r){var a=Math.cos,o=Math.sin,s=a(n/2),l=o(n/2),u=a((t+i)/2),c=o((t+i)/2),h=a((t-i)/2),d=o((t-i)/2),f=a((i-t)/2),p=o((i-t)/2);switch(r){case"XYX":e.set(s*c,l*h,l*d,s*u);break;case"YZY":e.set(l*d,s*c,l*h,s*u);break;case"ZXZ":e.set(l*h,l*d,s*c,s*u);break;case"XZX":e.set(s*c,l*p,l*f,s*u);break;case"YXY":e.set(l*f,s*c,l*p,s*u);break;case"ZYZ":e.set(l*p,l*f,s*c,s*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}},U=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_(this,e),Object.defineProperty(this,"isVector2",{value:!0}),this.x=t,this.y=n}return y(e,[{key:"width",get:function(){return this.x},set:function(e){this.x=e}},{key:"height",get:function(){return this.y},set:function(e){this.y=e}},{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this}},{key:"add",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}},{key:"sub",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6],this.y=i[1]*t+i[4]*n+i[7],this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"cross",value:function(e){return this.x*e.y-this.y*e.x}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"angle",value:function(){return Math.atan2(-this.y,-this.x)+Math.PI}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e}},{key:"fromBufferAttribute",value:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}},{key:"rotateAround",value:function(e,t){var n=Math.cos(t),i=Math.sin(t),r=this.x-e.x,a=this.y-e.y;return this.x=r*n-a*i+e.x,this.y=r*i+a*n+e.y,this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this}}]),e}(),G=function(){function e(){_(this,e),Object.defineProperty(this,"isMatrix3",{value:!0}),this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}return y(e,[{key:"set",value:function(e,t,n,i,r,a,o,s,l){var u=this.elements;return u[0]=e,u[1]=i,u[2]=o,u[3]=t,u[4]=r,u[5]=s,u[6]=n,u[7]=a,u[8]=l,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}},{key:"setFromMatrix4",value:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,i=t.elements,r=this.elements,a=n[0],o=n[3],s=n[6],l=n[1],u=n[4],c=n[7],h=n[2],d=n[5],f=n[8],p=i[0],m=i[3],v=i[6],g=i[1],y=i[4],_=i[7],b=i[2],S=i[5],T=i[8];return r[0]=a*p+o*g+s*b,r[3]=a*m+o*y+s*S,r[6]=a*v+o*_+s*T,r[1]=l*p+u*g+c*b,r[4]=l*m+u*y+c*S,r[7]=l*v+u*_+c*T,r[2]=h*p+d*g+f*b,r[5]=h*m+d*y+f*S,r[8]=h*v+d*_+f*T,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8];return t*a*u-t*o*l-n*r*u+n*o*s+i*r*l-i*a*s}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8],c=u*a-o*l,h=o*s-u*r,d=l*r-a*s,f=t*c+n*h+i*d;if(0===f)return this.set(0,0,0,0,0,0,0,0,0);var p=1/f;return e[0]=c*p,e[1]=(i*l-u*n)*p,e[2]=(o*n-i*a)*p,e[3]=h*p,e[4]=(u*t-i*s)*p,e[5]=(i*r-o*t)*p,e[6]=d*p,e[7]=(n*s-l*t)*p,e[8]=(a*t-n*r)*p,this}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}},{key:"getNormalMatrix",value:function(e){return this.setFromMatrix4(e).copy(this).invert().transpose()}},{key:"transposeIntoArray",value:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}},{key:"setUvTransform",value:function(e,t,n,i,r,a,o){var s=Math.cos(r),l=Math.sin(r);return this.set(n*s,n*l,-n*(s*a+l*o)+a+e,-i*l,i*s,-i*(-l*a+s*o)+o+t,0,0,1),this}},{key:"scale",value:function(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this}},{key:"rotate",value:function(e){var t=Math.cos(e),n=Math.sin(e),i=this.elements,r=i[0],a=i[3],o=i[6],s=i[1],l=i[4],u=i[7];return i[0]=t*r+n*s,i[3]=t*a+n*l,i[6]=t*o+n*u,i[1]=-n*r+t*s,i[4]=-n*a+t*l,i[7]=-n*o+t*u,this}},{key:"translate",value:function(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,i=0;i<9;i++)if(t[i]!==n[i])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<9;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}}]),e}(),V={getDataURL:function(e){if(/^data:/i.test(e.src))return e.src;if("undefined"==typeof HTMLCanvasElement)return e.src;var t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===N&&(N=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),N.width=e.width,N.height=e.height;var n=N.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=N}return t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}},B=0;function z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z.DEFAULT_IMAGE,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z.DEFAULT_MAPPING,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:c,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:g,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:w,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1023,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1009,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1,u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:3e3;Object.defineProperty(this,"id",{value:B++}),this.uuid=F.generateUUID(),this.name="",this.image=e,this.mipmaps=[],this.mapping=t,this.wrapS=n,this.wrapT=i,this.magFilter=r,this.minFilter=a,this.anisotropy=l,this.format=o,this.internalFormat=null,this.type=s,this.offset=new U(0,0),this.repeat=new U(1,1),this.center=new U(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new G,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=u,this.version=0,this.onUpdate=null}function H(e){return"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap?V.getDataURL(e):e.data?{data:Array.prototype.slice.call(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}z.DEFAULT_IMAGE=void 0,z.DEFAULT_MAPPING=300,z.prototype=Object.assign(Object.create(L.prototype),{constructor:z,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){var t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var i=this.image;if(void 0===i.uuid&&(i.uuid=F.generateUUID()),!t&&void 0===e.images[i.uuid]){var r;if(Array.isArray(i)){r=[];for(var a=0,o=i.length;a<o;a++)r.push(H(i[a].isDataTexture?i[a].image:i[a]))}else r=H(i);e.images[i.uuid]={uuid:i.uuid,url:r}}n.image=i.uuid}return t||(e.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case u:e.x=e.x-Math.floor(e.x);break;case c:e.x=e.x<0?0:1;break;case d:e.x=1===Math.abs(Math.floor(e.x)%2)?Math.ceil(e.x)-e.x:e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case u:e.y=e.y-Math.floor(e.y);break;case c:e.y=e.y<0?0:1;break;case d:e.y=1===Math.abs(Math.floor(e.y)%2)?Math.ceil(e.y)-e.y:e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}}),Object.defineProperty(z.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}});var X=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;_(this,e),Object.defineProperty(this,"isVector4",{value:!0}),this.x=t,this.y=n,this.z=i,this.w=r}return y(e,[{key:"width",get:function(){return this.z},set:function(e){this.z=e}},{key:"height",get:function(){return this.w},set:function(e){this.w=e}},{key:"set",value:function(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setW",value:function(e){return this.w=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z,this.w)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}},{key:"add",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}},{key:"sub",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,i=this.z,r=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*i+a[12]*r,this.y=a[1]*t+a[5]*n+a[9]*i+a[13]*r,this.z=a[2]*t+a[6]*n+a[10]*i+a[14]*r,this.w=a[3]*t+a[7]*n+a[11]*i+a[15]*r,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"setAxisAngleFromQuaternion",value:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}},{key:"setAxisAngleFromRotationMatrix",value:function(e){var t,n,i,r,a=e.elements,o=a[0],s=a[4],l=a[8],u=a[1],c=a[5],h=a[9],d=a[2],f=a[6],p=a[10];if(Math.abs(s-u)<.01&&Math.abs(l-d)<.01&&Math.abs(h-f)<.01){if(Math.abs(s+u)<.1&&Math.abs(l+d)<.1&&Math.abs(h+f)<.1&&Math.abs(o+c+p-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;var m=(o+1)/2,v=(c+1)/2,g=(p+1)/2,y=(s+u)/4,_=(l+d)/4,b=(h+f)/4;return m>v&&m>g?m<.01?(n=0,i=.707106781,r=.707106781):(i=y/(n=Math.sqrt(m)),r=_/n):v>g?v<.01?(n=.707106781,i=0,r=.707106781):(n=y/(i=Math.sqrt(v)),r=b/i):g<.01?(n=.707106781,i=.707106781,r=0):(n=_/(r=Math.sqrt(g)),i=b/r),this.set(n,i,r,t),this}var S=Math.sqrt((f-h)*(f-h)+(l-d)*(l-d)+(u-s)*(u-s));return Math.abs(S)<.001&&(S=1),this.x=(f-h)/S,this.y=(l-d)/S,this.z=(u-s)/S,this.w=Math.acos((o+c+p-1)/2),this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}},{key:"fromBufferAttribute",value:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}]),e}(),q=function(e){b(n,e);var t=T(n);function n(e,i,r){var a;return _(this,n),a=t.call(this),Object.defineProperty(x(a),"isWebGLRenderTarget",{value:!0}),a.width=e,a.height=i,a.scissor=new X(0,0,e,i),a.scissorTest=!1,a.viewport=new X(0,0,e,i),a.texture=new z(void 0,(r=r||{}).mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),a.texture.image={},a.texture.image.width=e,a.texture.image.height=i,a.texture.generateMipmaps=void 0!==r.generateMipmaps&&r.generateMipmaps,a.texture.minFilter=void 0!==r.minFilter?r.minFilter:g,a.depthBuffer=void 0===r.depthBuffer||r.depthBuffer,a.stencilBuffer=void 0!==r.stencilBuffer&&r.stencilBuffer,a.depthTexture=void 0!==r.depthTexture?r.depthTexture:null,a}return y(n,[{key:"setSize",value:function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t,this.texture.image.width=e,this.texture.image.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(L),W=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;_(this,e),Object.defineProperty(this,"isQuaternion",{value:!0}),this._x=t,this._y=n,this._z=i,this._w=r}return y(e,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._w=i,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._w)}},{key:"copy",value:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}},{key:"setFromEuler",value:function(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=e._x,i=e._y,r=e._z,a=e._order,o=Math.cos,s=Math.sin,l=o(n/2),u=o(i/2),c=o(r/2),h=s(n/2),d=s(i/2),f=s(r/2);switch(a){case"XYZ":this._x=h*u*c+l*d*f,this._y=l*d*c-h*u*f,this._z=l*u*f+h*d*c,this._w=l*u*c-h*d*f;break;case"YXZ":this._x=h*u*c+l*d*f,this._y=l*d*c-h*u*f,this._z=l*u*f-h*d*c,this._w=l*u*c+h*d*f;break;case"ZXY":this._x=h*u*c-l*d*f,this._y=l*d*c+h*u*f,this._z=l*u*f+h*d*c,this._w=l*u*c-h*d*f;break;case"ZYX":this._x=h*u*c-l*d*f,this._y=l*d*c+h*u*f,this._z=l*u*f-h*d*c,this._w=l*u*c+h*d*f;break;case"YZX":this._x=h*u*c+l*d*f,this._y=l*d*c+h*u*f,this._z=l*u*f-h*d*c,this._w=l*u*c-h*d*f;break;case"XZY":this._x=h*u*c-l*d*f,this._y=l*d*c-h*u*f,this._z=l*u*f+h*d*c,this._w=l*u*c+h*d*f;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!1!==t&&this._onChangeCallback(),this}},{key:"setFromAxisAngle",value:function(e,t){var n=t/2,i=Math.sin(n);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(n),this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=e.elements,n=t[0],i=t[4],r=t[8],a=t[1],o=t[5],s=t[9],l=t[2],u=t[6],c=t[10],h=n+o+c;if(h>0){var d=.5/Math.sqrt(h+1);this._w=.25/d,this._x=(u-s)*d,this._y=(r-l)*d,this._z=(a-i)*d}else if(n>o&&n>c){var f=2*Math.sqrt(1+n-o-c);this._w=(u-s)/f,this._x=.25*f,this._y=(i+a)/f,this._z=(r+l)/f}else if(o>c){var p=2*Math.sqrt(1+o-n-c);this._w=(r-l)/p,this._x=(i+a)/p,this._y=.25*p,this._z=(s+u)/p}else{var m=2*Math.sqrt(1+c-n-o);this._w=(a-i)/m,this._x=(r+l)/m,this._y=(s+u)/m,this._z=.25*m}return this._onChangeCallback(),this}},{key:"setFromUnitVectors",value:function(e,t){var n=e.dot(t)+1;return n<1e-6?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}},{key:"angleTo",value:function(e){return 2*Math.acos(Math.abs(F.clamp(this.dot(e),-1,1)))}},{key:"rotateTowards",value:function(e,t){var n=this.angleTo(e);if(0===n)return this;var i=Math.min(1,t/n);return this.slerp(e,i),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}},{key:"dot",value:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}},{key:"lengthSq",value:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}},{key:"length",value:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}},{key:"normalize",value:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}},{key:"multiply",value:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}},{key:"premultiply",value:function(e){return this.multiplyQuaternions(e,this)}},{key:"multiplyQuaternions",value:function(e,t){var n=e._x,i=e._y,r=e._z,a=e._w,o=t._x,s=t._y,l=t._z,u=t._w;return this._x=n*u+a*o+i*l-r*s,this._y=i*u+a*s+r*o-n*l,this._z=r*u+a*l+n*s-i*o,this._w=a*u-n*o-i*s-r*l,this._onChangeCallback(),this}},{key:"slerp",value:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,i=this._y,r=this._z,a=this._w,o=a*e._w+n*e._x+i*e._y+r*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=n,this._y=i,this._z=r,this;var s=1-o*o;if(s<=Number.EPSILON){var l=1-t;return this._w=l*a+t*this._w,this._x=l*n+t*this._x,this._y=l*i+t*this._y,this._z=l*r+t*this._z,this.normalize(),this._onChangeCallback(),this}var u=Math.sqrt(s),c=Math.atan2(u,o),h=Math.sin((1-t)*c)/u,d=Math.sin(t*c)/u;return this._w=a*h+this._w*d,this._x=n*h+this._x*d,this._y=i*h+this._y*d,this._z=r*h+this._z*d,this._onChangeCallback(),this}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}},{key:"fromBufferAttribute",value:function(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}}],[{key:"slerp",value:function(e,t,n,i){return n.copy(e).slerp(t,i)}},{key:"slerpFlat",value:function(e,t,n,i,r,a,o){var s=n[i+0],l=n[i+1],u=n[i+2],c=n[i+3],h=r[a+0],d=r[a+1],f=r[a+2],p=r[a+3];if(c!==p||s!==h||l!==d||u!==f){var m=1-o,v=s*h+l*d+u*f+c*p,g=v>=0?1:-1,y=1-v*v;if(y>Number.EPSILON){var _=Math.sqrt(y),b=Math.atan2(_,v*g);m=Math.sin(m*b)/_,o=Math.sin(o*b)/_}var S=o*g;if(s=s*m+h*S,l=l*m+d*S,u=u*m+f*S,c=c*m+p*S,m===1-o){var T=1/Math.sqrt(s*s+l*l+u*u+c*c);s*=T,l*=T,u*=T,c*=T}}e[t]=s,e[t+1]=l,e[t+2]=u,e[t+3]=c}},{key:"multiplyQuaternionsFlat",value:function(e,t,n,i,r,a){var o=n[i],s=n[i+1],l=n[i+2],u=n[i+3],c=r[a],h=r[a+1],d=r[a+2],f=r[a+3];return e[t]=o*f+u*c+s*d-l*h,e[t+1]=s*f+u*h+l*c-o*d,e[t+2]=l*f+u*d+o*h-s*c,e[t+3]=u*f-o*c-s*h-l*d,e}}]),e}(),Y=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;_(this,e),Object.defineProperty(this,"isVector3",{value:!0}),this.x=t,this.y=n,this.z=i}return y(e,[{key:"set",value:function(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}},{key:"add",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}},{key:"sub",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}},{key:"multiply",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this}},{key:"multiplyVectors",value:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}},{key:"applyEuler",value:function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(Z.setFromEuler(e))}},{key:"applyAxisAngle",value:function(e,t){return this.applyQuaternion(Z.setFromAxisAngle(e,t))}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6]*i,this.y=r[1]*t+r[4]*n+r[7]*i,this.z=r[2]*t+r[5]*n+r[8]*i,this}},{key:"applyNormalMatrix",value:function(e){return this.applyMatrix3(e).normalize()}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,i=this.z,r=e.elements,a=1/(r[3]*t+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*t+r[4]*n+r[8]*i+r[12])*a,this.y=(r[1]*t+r[5]*n+r[9]*i+r[13])*a,this.z=(r[2]*t+r[6]*n+r[10]*i+r[14])*a,this}},{key:"applyQuaternion",value:function(e){var t=this.x,n=this.y,i=this.z,r=e.x,a=e.y,o=e.z,s=e.w,l=s*t+a*i-o*n,u=s*n+o*t-r*i,c=s*i+r*n-a*t,h=-r*t-a*n-o*i;return this.x=l*s+h*-r+u*-o-c*-a,this.y=u*s+h*-a+c*-r-l*-o,this.z=c*s+h*-o+l*-a-u*-r,this}},{key:"project",value:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}},{key:"unproject",value:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}},{key:"transformDirection",value:function(e){var t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[4]*n+r[8]*i,this.y=r[1]*t+r[5]*n+r[9]*i,this.z=r[2]*t+r[6]*n+r[10]*i,this.normalize()}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}},{key:"cross",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}},{key:"crossVectors",value:function(e,t){var n=e.x,i=e.y,r=e.z,a=t.x,o=t.y,s=t.z;return this.x=i*s-r*o,this.y=r*a-n*s,this.z=n*o-i*a,this}},{key:"projectOnVector",value:function(e){var t=e.lengthSq();if(0===t)return this.set(0,0,0);var n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}},{key:"projectOnPlane",value:function(e){return K.copy(this).projectOnVector(e),this.sub(K)}},{key:"reflect",value:function(e){return this.sub(K.copy(e).multiplyScalar(2*this.dot(e)))}},{key:"angleTo",value:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var n=this.dot(e)/t;return Math.acos(F.clamp(n,-1,1))}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y,i=this.z-e.z;return t*t+n*n+i*i}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}},{key:"setFromSpherical",value:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}},{key:"setFromSphericalCoords",value:function(e,t,n){var i=Math.sin(t)*e;return this.x=i*Math.sin(n),this.y=Math.cos(t)*e,this.z=i*Math.cos(n),this}},{key:"setFromCylindrical",value:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}},{key:"setFromCylindricalCoords",value:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}},{key:"setFromMatrixPosition",value:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}},{key:"setFromMatrixScale",value:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=i,this}},{key:"setFromMatrixColumn",value:function(e,t){return this.fromArray(e.elements,4*t)}},{key:"setFromMatrix3Column",value:function(e,t){return this.fromArray(e.elements,3*t)}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}},{key:"fromBufferAttribute",value:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}]),e}(),K=new Y,Z=new W,J=function(){function e(t,n){_(this,e),Object.defineProperty(this,"isBox3",{value:!0}),this.min=void 0!==t?t:new Y(1/0,1/0,1/0),this.max=void 0!==n?n:new Y(-1/0,-1/0,-1/0)}return y(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromArray",value:function(e){for(var t=1/0,n=1/0,i=1/0,r=-1/0,a=-1/0,o=-1/0,s=0,l=e.length;s<l;s+=3){var u=e[s],c=e[s+1],h=e[s+2];u<t&&(t=u),c<n&&(n=c),h<i&&(i=h),u>r&&(r=u),c>a&&(a=c),h>o&&(o=h)}return this.min.set(t,n,i),this.max.set(r,a,o),this}},{key:"setFromBufferAttribute",value:function(e){for(var t=1/0,n=1/0,i=1/0,r=-1/0,a=-1/0,o=-1/0,s=0,l=e.count;s<l;s++){var u=e.getX(s),c=e.getY(s),h=e.getZ(s);u<t&&(t=u),c<n&&(n=c),h<i&&(i=h),u>r&&(r=u),c>a&&(a=c),h>o&&(o=h)}return this.min.set(t,n,i),this.max.set(r,a,o),this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=ee.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"setFromObject",value:function(e){return this.makeEmpty(),this.expandByObject(e)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}},{key:"getCenter",value:function(e){return void 0===e&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new Y),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return void 0===e&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new Y),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"expandByObject",value:function(e){e.updateWorldMatrix(!1,!1);var t=e.geometry;void 0!==t&&(null===t.boundingBox&&t.computeBoundingBox(),te.copy(t.boundingBox),te.applyMatrix4(e.matrixWorld),this.union(te));for(var n=e.children,i=0,r=n.length;i<r;i++)this.expandByObject(n[i]);return this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}},{key:"getParameter",value:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .getParameter() target is now required"),t=new Y),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}},{key:"intersectsSphere",value:function(e){return this.clampPoint(e.center,ee),ee.distanceToSquared(e.center)<=e.radius*e.radius}},{key:"intersectsPlane",value:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}},{key:"intersectsTriangle",value:function(e){if(this.isEmpty())return!1;this.getCenter(le),ue.subVectors(this.max,le),ne.subVectors(e.a,le),ie.subVectors(e.b,le),re.subVectors(e.c,le),ae.subVectors(ie,ne),oe.subVectors(re,ie),se.subVectors(ne,re);var t=[0,-ae.z,ae.y,0,-oe.z,oe.y,0,-se.z,se.y,ae.z,0,-ae.x,oe.z,0,-oe.x,se.z,0,-se.x,-ae.y,ae.x,0,-oe.y,oe.x,0,-se.y,se.x,0];return!!Q(t,ne,ie,re,ue)&&(!!Q(t=[1,0,0,0,1,0,0,0,1],ne,ie,re,ue)&&(ce.crossVectors(ae,oe),Q(t=[ce.x,ce.y,ce.z],ne,ie,re,ue)))}},{key:"clampPoint",value:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .clampPoint() target is now required"),t=new Y),t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return ee.copy(e).clamp(this.min,this.max).sub(e).length()}},{key:"getBoundingSphere",value:function(e){return void 0===e&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(e.center),e.radius=.5*this.getSize(ee).length(),e}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"applyMatrix4",value:function(e){return this.isEmpty()||($[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),$[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),$[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),$[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),$[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),$[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),$[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),$[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints($)),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}();function Q(e,t,n,i,r){for(var a=0,o=e.length-3;a<=o;a+=3){he.fromArray(e,a);var s=r.x*Math.abs(he.x)+r.y*Math.abs(he.y)+r.z*Math.abs(he.z),l=t.dot(he),u=n.dot(he),c=i.dot(he);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>s)return!1}return!0}var $=[new Y,new Y,new Y,new Y,new Y,new Y,new Y,new Y],ee=new Y,te=new J,ne=new Y,ie=new Y,re=new Y,ae=new Y,oe=new Y,se=new Y,le=new Y,ue=new Y,ce=new Y,he=new Y,de=new J,fe=function(){function e(t,n){_(this,e),this.center=void 0!==t?t:new Y,this.radius=void 0!==n?n:-1}return y(e,[{key:"set",value:function(e,t){return this.center.copy(e),this.radius=t,this}},{key:"setFromPoints",value:function(e,t){var n=this.center;void 0!==t?n.copy(t):de.setFromPoints(e).getCenter(n);for(var i=0,r=0,a=e.length;r<a;r++)i=Math.max(i,n.distanceToSquared(e[r]));return this.radius=Math.sqrt(i),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.center.copy(e.center),this.radius=e.radius,this}},{key:"isEmpty",value:function(){return this.radius<0}},{key:"makeEmpty",value:function(){return this.center.set(0,0,0),this.radius=-1,this}},{key:"containsPoint",value:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}},{key:"distanceToPoint",value:function(e){return e.distanceTo(this.center)-this.radius}},{key:"intersectsSphere",value:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}},{key:"intersectsBox",value:function(e){return e.intersectsSphere(this)}},{key:"intersectsPlane",value:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}},{key:"clampPoint",value:function(e,t){var n=this.center.distanceToSquared(e);return void 0===t&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),t=new Y),t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}},{key:"getBoundingBox",value:function(e){return void 0===e&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new J),this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}},{key:"applyMatrix4",value:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}},{key:"translate",value:function(e){return this.center.add(e),this}},{key:"equals",value:function(e){return e.center.equals(this.center)&&e.radius===this.radius}}]),e}(),pe=new Y,me=new Y,ve=new Y,ge=new Y,ye=new Y,_e=new Y,be=new Y,Se=function(){function e(t,n){_(this,e),this.origin=void 0!==t?t:new Y,this.direction=void 0!==n?n:new Y(0,0,-1)}return y(e,[{key:"set",value:function(e,t){return this.origin.copy(e),this.direction.copy(t),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}},{key:"at",value:function(e,t){return void 0===t&&(console.warn("THREE.Ray: .at() target is now required"),t=new Y),t.copy(this.direction).multiplyScalar(e).add(this.origin)}},{key:"lookAt",value:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this}},{key:"recast",value:function(e){return this.origin.copy(this.at(e,pe)),this}},{key:"closestPointToPoint",value:function(e,t){void 0===t&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),t=new Y),t.subVectors(e,this.origin);var n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)}},{key:"distanceToPoint",value:function(e){return Math.sqrt(this.distanceSqToPoint(e))}},{key:"distanceSqToPoint",value:function(e){var t=pe.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(pe.copy(this.direction).multiplyScalar(t).add(this.origin),pe.distanceToSquared(e))}},{key:"distanceSqToSegment",value:function(e,t,n,i){me.copy(e).add(t).multiplyScalar(.5),ve.copy(t).sub(e).normalize(),ge.copy(this.origin).sub(me);var r,a,o,s,l=.5*e.distanceTo(t),u=-this.direction.dot(ve),c=ge.dot(this.direction),h=-ge.dot(ve),d=ge.lengthSq(),f=Math.abs(1-u*u);if(f>0)if(a=u*c-h,s=l*f,(r=u*h-c)>=0)if(a>=-s)if(a<=s){var p=1/f;o=(r*=p)*(r+u*(a*=p)+2*c)+a*(u*r+a+2*h)+d}else a=l,o=-(r=Math.max(0,-(u*a+c)))*r+a*(a+2*h)+d;else a=-l,o=-(r=Math.max(0,-(u*a+c)))*r+a*(a+2*h)+d;else a<=-s?o=-(r=Math.max(0,-(-u*l+c)))*r+(a=r>0?-l:Math.min(Math.max(-l,-h),l))*(a+2*h)+d:a<=s?(r=0,o=(a=Math.min(Math.max(-l,-h),l))*(a+2*h)+d):o=-(r=Math.max(0,-(u*l+c)))*r+(a=r>0?l:Math.min(Math.max(-l,-h),l))*(a+2*h)+d;else a=u>0?-l:l,o=-(r=Math.max(0,-(u*a+c)))*r+a*(a+2*h)+d;return n&&n.copy(this.direction).multiplyScalar(r).add(this.origin),i&&i.copy(ve).multiplyScalar(a).add(me),o}},{key:"intersectSphere",value:function(e,t){pe.subVectors(e.center,this.origin);var n=pe.dot(this.direction),i=pe.dot(pe)-n*n,r=e.radius*e.radius;if(i>r)return null;var a=Math.sqrt(r-i),o=n-a,s=n+a;return o<0&&s<0?null:this.at(o<0?s:o,t)}},{key:"intersectsSphere",value:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}},{key:"distanceToPlane",value:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}},{key:"intersectPlane",value:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}},{key:"intersectsPlane",value:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}},{key:"intersectBox",value:function(e,t){var n,i,r,a,o,s,l=1/this.direction.x,u=1/this.direction.y,c=1/this.direction.z,h=this.origin;return l>=0?(n=(e.min.x-h.x)*l,i=(e.max.x-h.x)*l):(n=(e.max.x-h.x)*l,i=(e.min.x-h.x)*l),u>=0?(r=(e.min.y-h.y)*u,a=(e.max.y-h.y)*u):(r=(e.max.y-h.y)*u,a=(e.min.y-h.y)*u),n>a||r>i?null:((r>n||n!=n)&&(n=r),(a<i||i!=i)&&(i=a),c>=0?(o=(e.min.z-h.z)*c,s=(e.max.z-h.z)*c):(o=(e.max.z-h.z)*c,s=(e.min.z-h.z)*c),n>s||o>i?null:((o>n||n!=n)&&(n=o),(s<i||i!=i)&&(i=s),i<0?null:this.at(n>=0?n:i,t)))}},{key:"intersectsBox",value:function(e){return null!==this.intersectBox(e,pe)}},{key:"intersectTriangle",value:function(e,t,n,i,r){ye.subVectors(t,e),_e.subVectors(n,e),be.crossVectors(ye,_e);var a,o=this.direction.dot(be);if(o>0){if(i)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}ge.subVectors(this.origin,e);var s=a*this.direction.dot(_e.crossVectors(ge,_e));if(s<0)return null;var l=a*this.direction.dot(ye.cross(ge));if(l<0)return null;if(s+l>o)return null;var u=-a*ge.dot(be);return u<0?null:this.at(u/o,r)}},{key:"applyMatrix4",value:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}},{key:"equals",value:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}}]),e}(),Te=function(){function e(){_(this,e),Object.defineProperty(this,"isMatrix4",{value:!0}),this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}return y(e,[{key:"set",value:function(e,t,n,i,r,a,o,s,l,u,c,h,d,f,p,m){var v=this.elements;return v[0]=e,v[4]=t,v[8]=n,v[12]=i,v[1]=r,v[5]=a,v[9]=o,v[13]=s,v[2]=l,v[6]=u,v[10]=c,v[14]=h,v[3]=d,v[7]=f,v[11]=p,v[15]=m,this}},{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}},{key:"clone",value:function(){return(new e).fromArray(this.elements)}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}},{key:"copyPosition",value:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}},{key:"setFromMatrix3",value:function(e){var t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}},{key:"makeBasis",value:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}},{key:"extractRotation",value:function(e){var t=this.elements,n=e.elements,i=1/we.setFromMatrixColumn(e,0).length(),r=1/we.setFromMatrixColumn(e,1).length(),a=1/we.setFromMatrixColumn(e,2).length();return t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i,t[3]=0,t[4]=n[4]*r,t[5]=n[5]*r,t[6]=n[6]*r,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromEuler",value:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,n=e.x,i=e.y,r=e.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(i),l=Math.sin(i),u=Math.cos(r),c=Math.sin(r);if("XYZ"===e.order){var h=a*u,d=a*c,f=o*u,p=o*c;t[0]=s*u,t[4]=-s*c,t[8]=l,t[1]=d+f*l,t[5]=h-p*l,t[9]=-o*s,t[2]=p-h*l,t[6]=f+d*l,t[10]=a*s}else if("YXZ"===e.order){var m=s*u,v=s*c,g=l*u,y=l*c;t[0]=m+y*o,t[4]=g*o-v,t[8]=a*l,t[1]=a*c,t[5]=a*u,t[9]=-o,t[2]=v*o-g,t[6]=y+m*o,t[10]=a*s}else if("ZXY"===e.order){var _=s*u,b=s*c,S=l*u,T=l*c;t[0]=_-T*o,t[4]=-a*c,t[8]=S+b*o,t[1]=b+S*o,t[5]=a*u,t[9]=T-_*o,t[2]=-a*l,t[6]=o,t[10]=a*s}else if("ZYX"===e.order){var w=a*u,x=a*c,E=o*u,C=o*c;t[0]=s*u,t[4]=E*l-x,t[8]=w*l+C,t[1]=s*c,t[5]=C*l+w,t[9]=x*l-E,t[2]=-l,t[6]=o*s,t[10]=a*s}else if("YZX"===e.order){var k=a*s,M=a*l,O=o*s,A=o*l;t[0]=s*u,t[4]=A-k*c,t[8]=O*c+M,t[1]=c,t[5]=a*u,t[9]=-o*u,t[2]=-l*u,t[6]=M*c+O,t[10]=k-A*c}else if("XZY"===e.order){var R=a*s,I=a*l,L=o*s,P=o*l;t[0]=s*u,t[4]=-c,t[8]=l*u,t[1]=R*c+P,t[5]=a*u,t[9]=I*c-L,t[2]=L*c-I,t[6]=o*u,t[10]=P*c+R}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromQuaternion",value:function(e){return this.compose(Ee,e,Ce)}},{key:"lookAt",value:function(e,t,n){var i=this.elements;return Oe.subVectors(e,t),0===Oe.lengthSq()&&(Oe.z=1),Oe.normalize(),ke.crossVectors(n,Oe),0===ke.lengthSq()&&(1===Math.abs(n.z)?Oe.x+=1e-4:Oe.z+=1e-4,Oe.normalize(),ke.crossVectors(n,Oe)),ke.normalize(),Me.crossVectors(Oe,ke),i[0]=ke.x,i[4]=Me.x,i[8]=Oe.x,i[1]=ke.y,i[5]=Me.y,i[9]=Oe.y,i[2]=ke.z,i[6]=Me.z,i[10]=Oe.z,this}},{key:"multiply",value:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,i=t.elements,r=this.elements,a=n[0],o=n[4],s=n[8],l=n[12],u=n[1],c=n[5],h=n[9],d=n[13],f=n[2],p=n[6],m=n[10],v=n[14],g=n[3],y=n[7],_=n[11],b=n[15],S=i[0],T=i[4],w=i[8],x=i[12],E=i[1],C=i[5],k=i[9],M=i[13],O=i[2],A=i[6],R=i[10],I=i[14],L=i[3],P=i[7],D=i[11],N=i[15];return r[0]=a*S+o*E+s*O+l*L,r[4]=a*T+o*C+s*A+l*P,r[8]=a*w+o*k+s*R+l*D,r[12]=a*x+o*M+s*I+l*N,r[1]=u*S+c*E+h*O+d*L,r[5]=u*T+c*C+h*A+d*P,r[9]=u*w+c*k+h*R+d*D,r[13]=u*x+c*M+h*I+d*N,r[2]=f*S+p*E+m*O+v*L,r[6]=f*T+p*C+m*A+v*P,r[10]=f*w+p*k+m*R+v*D,r[14]=f*x+p*M+m*I+v*N,r[3]=g*S+y*E+_*O+b*L,r[7]=g*T+y*C+_*A+b*P,r[11]=g*w+y*k+_*R+b*D,r[15]=g*x+y*M+_*I+b*N,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[4],i=e[8],r=e[12],a=e[1],o=e[5],s=e[9],l=e[13],u=e[2],c=e[6],h=e[10],d=e[14];return e[3]*(+r*s*c-i*l*c-r*o*h+n*l*h+i*o*d-n*s*d)+e[7]*(+t*s*d-t*l*h+r*a*h-i*a*d+i*l*u-r*s*u)+e[11]*(+t*l*c-t*o*d-r*a*c+n*a*d+r*o*u-n*l*u)+e[15]*(-i*o*u-t*s*c+t*o*h+i*a*c-n*a*h+n*s*u)}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}},{key:"setPosition",value:function(e,t,n){var i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=n),this}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8],c=e[9],h=e[10],d=e[11],f=e[12],p=e[13],m=e[14],v=e[15],g=c*m*l-p*h*l+p*s*d-o*m*d-c*s*v+o*h*v,y=f*h*l-u*m*l-f*s*d+a*m*d+u*s*v-a*h*v,_=u*p*l-f*c*l+f*o*d-a*p*d-u*o*v+a*c*v,b=f*c*s-u*p*s-f*o*h+a*p*h+u*o*m-a*c*m,S=t*g+n*y+i*_+r*b;if(0===S)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var T=1/S;return e[0]=g*T,e[1]=(p*h*r-c*m*r-p*i*d+n*m*d+c*i*v-n*h*v)*T,e[2]=(o*m*r-p*s*r+p*i*l-n*m*l-o*i*v+n*s*v)*T,e[3]=(c*s*r-o*h*r-c*i*l+n*h*l+o*i*d-n*s*d)*T,e[4]=y*T,e[5]=(u*m*r-f*h*r+f*i*d-t*m*d-u*i*v+t*h*v)*T,e[6]=(f*s*r-a*m*r-f*i*l+t*m*l+a*i*v-t*s*v)*T,e[7]=(a*h*r-u*s*r+u*i*l-t*h*l-a*i*d+t*s*d)*T,e[8]=_*T,e[9]=(f*c*r-u*p*r-f*n*d+t*p*d+u*n*v-t*c*v)*T,e[10]=(a*p*r-f*o*r+f*n*l-t*p*l-a*n*v+t*o*v)*T,e[11]=(u*o*r-a*c*r-u*n*l+t*c*l+a*n*d-t*o*d)*T,e[12]=b*T,e[13]=(u*p*i-f*c*i+f*n*h-t*p*h-u*n*m+t*c*m)*T,e[14]=(f*o*i-a*p*i-f*n*s+t*p*s+a*n*m-t*o*m)*T,e[15]=(a*c*i-u*o*i+u*n*s-t*c*s-a*n*h+t*o*h)*T,this}},{key:"scale",value:function(e){var t=this.elements,n=e.x,i=e.y,r=e.z;return t[0]*=n,t[4]*=i,t[8]*=r,t[1]*=n,t[5]*=i,t[9]*=r,t[2]*=n,t[6]*=i,t[10]*=r,t[3]*=n,t[7]*=i,t[11]*=r,this}},{key:"getMaxScaleOnAxis",value:function(){var e=this.elements;return Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1]+e[2]*e[2],e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e[8]*e[8]+e[9]*e[9]+e[10]*e[10]))}},{key:"makeTranslation",value:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}},{key:"makeRotationX",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}},{key:"makeRotationY",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}},{key:"makeRotationZ",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}},{key:"makeRotationAxis",value:function(e,t){var n=Math.cos(t),i=Math.sin(t),r=1-n,a=e.x,o=e.y,s=e.z,l=r*a,u=r*o;return this.set(l*a+n,l*o-i*s,l*s+i*o,0,l*o+i*s,u*o+n,u*s-i*a,0,l*s-i*o,u*s+i*a,r*s*s+n,0,0,0,0,1),this}},{key:"makeScale",value:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}},{key:"makeShear",value:function(e,t,n){return this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1),this}},{key:"compose",value:function(e,t,n){var i=this.elements,r=t._x,a=t._y,o=t._z,s=t._w,l=r+r,u=a+a,c=o+o,h=r*l,d=r*u,f=r*c,p=a*u,m=a*c,v=o*c,g=s*l,y=s*u,_=s*c,b=n.x,S=n.y,T=n.z;return i[0]=(1-(p+v))*b,i[1]=(d+_)*b,i[2]=(f-y)*b,i[3]=0,i[4]=(d-_)*S,i[5]=(1-(h+v))*S,i[6]=(m+g)*S,i[7]=0,i[8]=(f+y)*T,i[9]=(m-g)*T,i[10]=(1-(h+p))*T,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}},{key:"decompose",value:function(e,t,n){var i=this.elements,r=we.set(i[0],i[1],i[2]).length(),a=we.set(i[4],i[5],i[6]).length(),o=we.set(i[8],i[9],i[10]).length();this.determinant()<0&&(r=-r),e.x=i[12],e.y=i[13],e.z=i[14],xe.copy(this);var s=1/r,l=1/a,u=1/o;return xe.elements[0]*=s,xe.elements[1]*=s,xe.elements[2]*=s,xe.elements[4]*=l,xe.elements[5]*=l,xe.elements[6]*=l,xe.elements[8]*=u,xe.elements[9]*=u,xe.elements[10]*=u,t.setFromRotationMatrix(xe),n.x=r,n.y=a,n.z=o,this}},{key:"makePerspective",value:function(e,t,n,i,r,a){void 0===a&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var o=this.elements,s=2*r/(n-i),l=(t+e)/(t-e),u=(n+i)/(n-i),c=-(a+r)/(a-r),h=-2*a*r/(a-r);return o[0]=2*r/(t-e),o[4]=0,o[8]=l,o[12]=0,o[1]=0,o[5]=s,o[9]=u,o[13]=0,o[2]=0,o[6]=0,o[10]=c,o[14]=h,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}},{key:"makeOrthographic",value:function(e,t,n,i,r,a){var o=this.elements,s=1/(t-e),l=1/(n-i),u=1/(a-r),c=(t+e)*s,h=(n+i)*l,d=(a+r)*u;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-c,o[1]=0,o[5]=2*l,o[9]=0,o[13]=-h,o[2]=0,o[6]=0,o[10]=-2*u,o[14]=-d,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,i=0;i<16;i++)if(t[i]!==n[i])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<16;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}]),e}(),we=new Y,xe=new Te,Ee=new Y(0,0,0),Ce=new Y(1,1,1),ke=new Y,Me=new Y,Oe=new Y,Ae=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.DefaultOrder;_(this,e),Object.defineProperty(this,"isEuler",{value:!0}),this._x=t,this._y=n,this._z=i,this._order=r}return y(e,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"order",get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._order=i||this._order,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._order)}},{key:"copy",value:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e,t,n){var i=F.clamp,r=e.elements,a=r[0],o=r[4],s=r[8],l=r[1],u=r[5],c=r[9],h=r[2],d=r[6],f=r[10];switch(t=t||this._order){case"XYZ":this._y=Math.asin(i(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,f),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(d,u),this._z=0);break;case"YXZ":this._x=Math.asin(-i(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(s,f),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-h,a),this._z=0);break;case"ZXY":this._x=Math.asin(i(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-h,f),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,a));break;case"ZYX":this._y=Math.asin(-i(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(d,f),this._z=Math.atan2(l,a)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(i(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-h,a)):(this._x=0,this._y=Math.atan2(s,f));break;case"XZY":this._z=Math.asin(-i(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(d,u),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-c,f),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!1!==n&&this._onChangeCallback(),this}},{key:"setFromQuaternion",value:function(e,t,n){return Re.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Re,t,n)}},{key:"setFromVector3",value:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)}},{key:"reorder",value:function(e){return Ie.setFromEuler(this),this.setFromQuaternion(Ie,e)}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}},{key:"fromArray",value:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}},{key:"toVector3",value:function(e){return e?e.set(this._x,this._y,this._z):new Y(this._x,this._y,this._z)}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}}]),e}();Ae.DefaultOrder="XYZ",Ae.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];var Re=new Te,Ie=new W,Le=function(){function e(){_(this,e),this.mask=1}return y(e,[{key:"set",value:function(e){this.mask=1<<e|0}},{key:"enable",value:function(e){this.mask|=1<<e|0}},{key:"enableAll",value:function(){this.mask=-1}},{key:"toggle",value:function(e){this.mask^=1<<e|0}},{key:"disable",value:function(e){this.mask&=~(1<<e|0)}},{key:"disableAll",value:function(){this.mask=0}},{key:"test",value:function(e){return 0!=(this.mask&e.mask)}}]),e}(),Pe=0,De=new Y,Ne=new W,je=new Te,Fe=new Y,Ue=new Y,Ge=new Y,Ve=new W,Be=new Y(1,0,0),ze=new Y(0,1,0),He=new Y(0,0,1),Xe={type:"added"},qe={type:"removed"};function We(){Object.defineProperty(this,"id",{value:Pe++}),this.uuid=F.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=We.DefaultUp.clone();var e=new Y,t=new Ae,n=new W,i=new Y(1,1,1);t._onChange(function(){n.setFromEuler(t,!1)}),n._onChange(function(){t.setFromQuaternion(n,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Te},normalMatrix:{value:new G}}),this.matrix=new Te,this.matrixWorld=new Te,this.matrixAutoUpdate=We.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Le,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}We.DefaultUp=new Y(0,1,0),We.DefaultMatrixAutoUpdate=!0,We.prototype=Object.assign(Object.create(L.prototype),{constructor:We,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(e,t){return Ne.setFromAxisAngle(e,t),this.quaternion.multiply(Ne),this},rotateOnWorldAxis:function(e,t){return Ne.setFromAxisAngle(e,t),this.quaternion.premultiply(Ne),this},rotateX:function(e){return this.rotateOnAxis(Be,e)},rotateY:function(e){return this.rotateOnAxis(ze,e)},rotateZ:function(e){return this.rotateOnAxis(He,e)},translateOnAxis:function(e,t){return De.copy(e).applyQuaternion(this.quaternion),this.position.add(De.multiplyScalar(t)),this},translateX:function(e){return this.translateOnAxis(Be,e)},translateY:function(e){return this.translateOnAxis(ze,e)},translateZ:function(e){return this.translateOnAxis(He,e)},localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(e){return e.applyMatrix4(je.copy(this.matrixWorld).invert())},lookAt:function(e,t,n){e.isVector3?Fe.copy(e):Fe.set(e,t,n);var i=this.parent;this.updateWorldMatrix(!0,!1),Ue.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?je.lookAt(Ue,Fe,this.up):je.lookAt(Fe,Ue,this.up),this.quaternion.setFromRotationMatrix(je),i&&(je.extractRotation(i.matrixWorld),Ne.setFromRotationMatrix(je),this.quaternion.premultiply(Ne.invert()))},add:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Xe)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(qe)),this},clear:function(){for(var e=0;e<this.children.length;e++){var t=this.children[e];t.parent=null,t.dispatchEvent(qe)}return this.children.length=0,this},attach:function(e){return this.updateWorldMatrix(!0,!1),je.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),je.multiply(e.parent.matrixWorld)),e.applyMatrix4(je),e.updateWorldMatrix(!1,!1),this.add(e),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var n=0,i=this.children.length;n<i;n++){var r=this.children[n].getObjectByProperty(e,t);if(void 0!==r)return r}},getWorldPosition:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new Y),this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),e=new W),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ue,e,Ge),e},getWorldScale:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),e=new Y),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ue,Ve,e),e},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new Y),this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()},raycast:function(){},traverse:function(e){e(this);for(var t=this.children,n=0,i=t.length;n<i;n++)t[n].traverse(e)},traverseVisible:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,i=t.length;n<i;n++)t[n].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,i=t.length;n<i;n++)t[n].updateMatrixWorld(e)},updateWorldMatrix:function(e,t){var n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var i=this.children,r=0,a=i.length;r<a;r++)i[r].updateWorldMatrix(!1,!0)},toJSON:function(e){var t=void 0===e||"string"==typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var i={};function r(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),!0===this.castShadow&&(i.castShadow=!0),!0===this.receiveShadow&&(i.receiveShadow=!0),!1===this.visible&&(i.visible=!1),!1===this.frustumCulled&&(i.frustumCulled=!1),0!==this.renderOrder&&(i.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON()),this.isMesh||this.isLine||this.isPoints){i.geometry=r(e.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var s=0,l=o.length;s<l;s++)r(e.shapes,o[s]);else r(e.shapes,o)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(r(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){for(var u=[],c=0,h=this.material.length;c<h;c++)u.push(r(e.materials,this.material[c]));i.material=u}else i.material=r(e.materials,this.material);if(this.children.length>0){i.children=[];for(var d=0;d<this.children.length;d++)i.children.push(this.children[d].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(var f=0;f<this.animations.length;f++)i.animations.push(r(e.animations,this.animations[f]))}if(t){var p=S(e.geometries),m=S(e.materials),v=S(e.textures),g=S(e.images),y=S(e.shapes),_=S(e.skeletons),b=S(e.animations);p.length>0&&(n.geometries=p),m.length>0&&(n.materials=m),v.length>0&&(n.textures=v),g.length>0&&(n.images=g),y.length>0&&(n.shapes=y),_.length>0&&(n.skeletons=_),b.length>0&&(n.animations=b)}return n.object=i,n;function S(e){var t=[];for(var n in e){var i=e[n];delete i.metadata,t.push(i)}return t}},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++)this.add(e.children[n].clone());return this}});var Ye=new Y,Ke=new Y,Ze=new G,Je=function(){function e(t,n){_(this,e),Object.defineProperty(this,"isPlane",{value:!0}),this.normal=void 0!==t?t:new Y(1,0,0),this.constant=void 0!==n?n:0}return y(e,[{key:"set",value:function(e,t){return this.normal.copy(e),this.constant=t,this}},{key:"setComponents",value:function(e,t,n,i){return this.normal.set(e,t,n),this.constant=i,this}},{key:"setFromNormalAndCoplanarPoint",value:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}},{key:"setFromCoplanarPoints",value:function(e,t,n){var i=Ye.subVectors(n,t).cross(Ke.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this}},{key:"normalize",value:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}},{key:"negate",value:function(){return this.constant*=-1,this.normal.negate(),this}},{key:"distanceToPoint",value:function(e){return this.normal.dot(e)+this.constant}},{key:"distanceToSphere",value:function(e){return this.distanceToPoint(e.center)-e.radius}},{key:"projectPoint",value:function(e,t){return void 0===t&&(console.warn("THREE.Plane: .projectPoint() target is now required"),t=new Y),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}},{key:"intersectLine",value:function(e,t){void 0===t&&(console.warn("THREE.Plane: .intersectLine() target is now required"),t=new Y);var n=e.delta(Ye),i=this.normal.dot(n);if(0===i)return 0===this.distanceToPoint(e.start)?t.copy(e.start):void 0;var r=-(e.start.dot(this.normal)+this.constant)/i;return r<0||r>1?void 0:t.copy(n).multiplyScalar(r).add(e.start)}},{key:"intersectsLine",value:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}},{key:"intersectsBox",value:function(e){return e.intersectsPlane(this)}},{key:"intersectsSphere",value:function(e){return e.intersectsPlane(this)}},{key:"coplanarPoint",value:function(e){return void 0===e&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new Y),e.copy(this.normal).multiplyScalar(-this.constant)}},{key:"applyMatrix4",value:function(e,t){var n=t||Ze.getNormalMatrix(e),i=this.coplanarPoint(Ye).applyMatrix4(e),r=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(r),this}},{key:"translate",value:function(e){return this.constant-=e.dot(this.normal),this}},{key:"equals",value:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}}]),e}(),Qe=new Y,$e=new Y,et=new Y,tt=new Y,nt=new Y,it=new Y,rt=new Y,at=new Y,ot=new Y,st=new Y,lt=function(){function e(t,n,i){_(this,e),this.a=void 0!==t?t:new Y,this.b=void 0!==n?n:new Y,this.c=void 0!==i?i:new Y}return y(e,[{key:"set",value:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}},{key:"setFromPointsAndIndices",value:function(e,t,n,i){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[i]),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}},{key:"getArea",value:function(){return Qe.subVectors(this.c,this.b),$e.subVectors(this.a,this.b),.5*Qe.cross($e).length()}},{key:"getMidpoint",value:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new Y),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}},{key:"getNormal",value:function(t){return e.getNormal(this.a,this.b,this.c,t)}},{key:"getPlane",value:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new Je),e.setFromCoplanarPoints(this.a,this.b,this.c)}},{key:"getBarycoord",value:function(t,n){return e.getBarycoord(t,this.a,this.b,this.c,n)}},{key:"getUV",value:function(t,n,i,r,a){return e.getUV(t,this.a,this.b,this.c,n,i,r,a)}},{key:"containsPoint",value:function(t){return e.containsPoint(t,this.a,this.b,this.c)}},{key:"isFrontFacing",value:function(t){return e.isFrontFacing(this.a,this.b,this.c,t)}},{key:"intersectsBox",value:function(e){return e.intersectsTriangle(this)}},{key:"closestPointToPoint",value:function(e,t){void 0===t&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),t=new Y);var n,i,r=this.a,a=this.b,o=this.c;nt.subVectors(a,r),it.subVectors(o,r),at.subVectors(e,r);var s=nt.dot(at),l=it.dot(at);if(s<=0&&l<=0)return t.copy(r);ot.subVectors(e,a);var u=nt.dot(ot),c=it.dot(ot);if(u>=0&&c<=u)return t.copy(a);var h=s*c-u*l;if(h<=0&&s>=0&&u<=0)return n=s/(s-u),t.copy(r).addScaledVector(nt,n);st.subVectors(e,o);var d=nt.dot(st),f=it.dot(st);if(f>=0&&d<=f)return t.copy(o);var p=d*l-s*f;if(p<=0&&l>=0&&f<=0)return i=l/(l-f),t.copy(r).addScaledVector(it,i);var m=u*f-d*c;if(m<=0&&c-u>=0&&d-f>=0)return rt.subVectors(o,a),i=(c-u)/(c-u+(d-f)),t.copy(a).addScaledVector(rt,i);var v=1/(m+p+h);return n=p*v,i=h*v,t.copy(r).addScaledVector(nt,n).addScaledVector(it,i)}},{key:"equals",value:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}],[{key:"getNormal",value:function(e,t,n,i){void 0===i&&(console.warn("THREE.Triangle: .getNormal() target is now required"),i=new Y),i.subVectors(n,t),Qe.subVectors(e,t),i.cross(Qe);var r=i.lengthSq();return r>0?i.multiplyScalar(1/Math.sqrt(r)):i.set(0,0,0)}},{key:"getBarycoord",value:function(e,t,n,i,r){Qe.subVectors(i,t),$e.subVectors(n,t),et.subVectors(e,t);var a=Qe.dot(Qe),o=Qe.dot($e),s=Qe.dot(et),l=$e.dot($e),u=$e.dot(et),c=a*l-o*o;if(void 0===r&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),r=new Y),0===c)return r.set(-2,-1,-1);var h=1/c,d=(l*s-o*u)*h,f=(a*u-o*s)*h;return r.set(1-d-f,f,d)}},{key:"containsPoint",value:function(e,t,n,i){return this.getBarycoord(e,t,n,i,tt),tt.x>=0&&tt.y>=0&&tt.x+tt.y<=1}},{key:"getUV",value:function(e,t,n,i,r,a,o,s){return this.getBarycoord(e,t,n,i,tt),s.set(0,0),s.addScaledVector(r,tt.x),s.addScaledVector(a,tt.y),s.addScaledVector(o,tt.z),s}},{key:"isFrontFacing",value:function(e,t,n,i){return Qe.subVectors(n,t),$e.subVectors(e,t),Qe.cross($e).dot(i)<0}}]),e}(),ut={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ct={h:0,s:0,l:0},ht={h:0,s:0,l:0};function dt(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}function ft(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function pt(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}var mt=function(){function e(t,n,i){return _(this,e),Object.defineProperty(this,"isColor",{value:!0}),void 0===n&&void 0===i?this.set(t):this.setRGB(t,n,i)}return y(e,[{key:"set",value:function(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this}},{key:"setScalar",value:function(e){return this.r=e,this.g=e,this.b=e,this}},{key:"setHex",value:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this}},{key:"setRGB",value:function(e,t,n){return this.r=e,this.g=t,this.b=n,this}},{key:"setHSL",value:function(e,t,n){if(e=F.euclideanModulo(e,1),t=F.clamp(t,0,1),n=F.clamp(n,0,1),0===t)this.r=this.g=this.b=n;else{var i=n<=.5?n*(1+t):n+t-n*t,r=2*n-i;this.r=dt(r,i,e+1/3),this.g=dt(r,i,e),this.b=dt(r,i,e-1/3)}return this}},{key:"setStyle",value:function(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){var i,r=n[2];switch(n[1]){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(r))return this.r=Math.min(255,parseInt(i[1],10))/255,this.g=Math.min(255,parseInt(i[2],10))/255,this.b=Math.min(255,parseInt(i[3],10))/255,t(i[4]),this;if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(r))return this.r=Math.min(100,parseInt(i[1],10))/100,this.g=Math.min(100,parseInt(i[2],10))/100,this.b=Math.min(100,parseInt(i[3],10))/100,t(i[4]),this;break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(r)){var a=parseFloat(i[1])/360,o=parseInt(i[2],10)/100,s=parseInt(i[3],10)/100;return t(i[4]),this.setHSL(a,o,s)}}}else if(n=/^\#([A-Fa-f\d]+)$/.exec(e)){var l=n[1],u=l.length;if(3===u)return this.r=parseInt(l.charAt(0)+l.charAt(0),16)/255,this.g=parseInt(l.charAt(1)+l.charAt(1),16)/255,this.b=parseInt(l.charAt(2)+l.charAt(2),16)/255,this;if(6===u)return this.r=parseInt(l.charAt(0)+l.charAt(1),16)/255,this.g=parseInt(l.charAt(2)+l.charAt(3),16)/255,this.b=parseInt(l.charAt(4)+l.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this}},{key:"setColorName",value:function(e){var t=ut[e];return void 0!==t?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this}},{key:"clone",value:function(){return new this.constructor(this.r,this.g,this.b)}},{key:"copy",value:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}},{key:"copyGammaToLinear",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this}},{key:"copyLinearToGamma",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=t>0?1/t:1;return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this}},{key:"convertGammaToLinear",value:function(e){return this.copyGammaToLinear(this,e),this}},{key:"convertLinearToGamma",value:function(e){return this.copyLinearToGamma(this,e),this}},{key:"copySRGBToLinear",value:function(e){return this.r=ft(e.r),this.g=ft(e.g),this.b=ft(e.b),this}},{key:"copyLinearToSRGB",value:function(e){return this.r=pt(e.r),this.g=pt(e.g),this.b=pt(e.b),this}},{key:"convertSRGBToLinear",value:function(){return this.copySRGBToLinear(this),this}},{key:"convertLinearToSRGB",value:function(){return this.copyLinearToSRGB(this),this}},{key:"getHex",value:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0}},{key:"getHexString",value:function(){return("000000"+this.getHex().toString(16)).slice(-6)}},{key:"getHSL",value:function(e){void 0===e&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});var t,n,i=this.r,r=this.g,a=this.b,o=Math.max(i,r,a),s=Math.min(i,r,a),l=(s+o)/2;if(s===o)t=0,n=0;else{var u=o-s;switch(n=l<=.5?u/(o+s):u/(2-o-s),o){case i:t=(r-a)/u+(r<a?6:0);break;case r:t=(a-i)/u+2;break;case a:t=(i-r)/u+4}t/=6}return e.h=t,e.s=n,e.l=l,e}},{key:"getStyle",value:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"}},{key:"offsetHSL",value:function(e,t,n){return this.getHSL(ct),ct.h+=e,ct.s+=t,ct.l+=n,this.setHSL(ct.h,ct.s,ct.l),this}},{key:"add",value:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}},{key:"addColors",value:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}},{key:"addScalar",value:function(e){return this.r+=e,this.g+=e,this.b+=e,this}},{key:"sub",value:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}},{key:"multiply",value:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}},{key:"multiplyScalar",value:function(e){return this.r*=e,this.g*=e,this.b*=e,this}},{key:"lerp",value:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}},{key:"lerpColors",value:function(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}},{key:"lerpHSL",value:function(e,t){this.getHSL(ct),e.getHSL(ht);var n=F.lerp(ct.h,ht.h,t),i=F.lerp(ct.s,ht.s,t),r=F.lerp(ct.l,ht.l,t);return this.setHSL(n,i,r),this}},{key:"equals",value:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}},{key:"fromBufferAttribute",value:function(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),!0===e.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}},{key:"toJSON",value:function(){return this.getHex()}}]),e}();mt.NAMES=ut,mt.prototype.r=1,mt.prototype.g=1,mt.prototype.b=1;var vt=function(){function e(t,n,i,r,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;_(this,e),this.a=t,this.b=n,this.c=i,this.normal=r&&r.isVector3?r:new Y,this.vertexNormals=Array.isArray(r)?r:[],this.color=a&&a.isColor?a:new mt,this.vertexColors=Array.isArray(a)?a:[],this.materialIndex=o}return y(e,[{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,n=e.vertexNormals.length;t<n;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(var i=0,r=e.vertexColors.length;i<r;i++)this.vertexColors[i]=e.vertexColors[i].clone();return this}}]),e}(),gt=0;function yt(){Object.defineProperty(this,"id",{value:gt++}),this.uuid=F.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=1,this.side=a,this.flatShading=!1,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}function _t(e){yt.call(this),this.type="MeshBasicMaterial",this.color=new mt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(e)}yt.prototype=Object.assign(Object.create(L.prototype),{constructor:yt,isMaterial:!0,onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n)if("shading"!==t){var i=this[t];void 0!==i?i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[t]=n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===n;else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}},toJSON:function(e){var t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function i(e){var t=[];for(var n in e){var i=e[n];delete i.metadata,t.push(i)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(n.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,n.reflectivity=this.reflectivity,n.refractionRatio=this.refractionRatio,void 0!==this.combine&&(n.combine=this.combine),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),!0===this.flatShading&&(n.flatShading=this.flatShading),this.side!==a&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(n.morphTargets=!0),!0===this.morphNormals&&(n.morphNormals=!0),!0===this.skinning&&(n.skinning=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t){var r=i(e.textures),o=i(e.images);r.length>0&&(n.textures=r),o.length>0&&(n.images=o)}return n},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var t=e.clippingPlanes,n=null;if(null!==t){var i=t.length;n=new Array(i);for(var r=0;r!==i;++r)n[r]=t[r].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(yt.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),(_t.prototype=Object.create(yt.prototype)).constructor=_t,_t.prototype.isMeshBasicMaterial=!0,_t.prototype.copy=function(e){return yt.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this};var bt=new Y,St=new U;function Tt(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===n,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}function wt(e,t,n){Tt.call(this,new Int8Array(e),t,n)}function xt(e,t,n){Tt.call(this,new Uint8Array(e),t,n)}function Et(e,t,n){Tt.call(this,new Uint8ClampedArray(e),t,n)}function Ct(e,t,n){Tt.call(this,new Int16Array(e),t,n)}function kt(e,t,n){Tt.call(this,new Uint16Array(e),t,n)}function Mt(e,t,n){Tt.call(this,new Int32Array(e),t,n)}function Ot(e,t,n){Tt.call(this,new Uint32Array(e),t,n)}function At(e,t,n){Tt.call(this,new Uint16Array(e),t,n)}function Rt(e,t,n){Tt.call(this,new Float32Array(e),t,n)}function It(e,t,n){Tt.call(this,new Float64Array(e),t,n)}function Lt(e){if(0===e.length)return-1/0;for(var t=e[0],n=1,i=e.length;n<i;++n)e[n]>t&&(t=e[n]);return t}Object.defineProperty(Tt.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(Tt.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var i=0,r=this.itemSize;i<r;i++)this.array[e+i]=t.array[n+i];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,n=0,i=0,r=e.length;i<r;i++){var a=e[i];void 0===a&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),a=new mt),t[n++]=a.r,t[n++]=a.g,t[n++]=a.b}return this},copyVector2sArray:function(e){for(var t=this.array,n=0,i=0,r=e.length;i<r;i++){var a=e[i];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),a=new U),t[n++]=a.x,t[n++]=a.y}return this},copyVector3sArray:function(e){for(var t=this.array,n=0,i=0,r=e.length;i<r;i++){var a=e[i];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),a=new Y),t[n++]=a.x,t[n++]=a.y,t[n++]=a.z}return this},copyVector4sArray:function(e){for(var t=this.array,n=0,i=0,r=e.length;i<r;i++){var a=e[i];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),a=new X),t[n++]=a.x,t[n++]=a.y,t[n++]=a.z,t[n++]=a.w}return this},applyMatrix3:function(e){if(2===this.itemSize)for(var t=0,n=this.count;t<n;t++)St.fromBufferAttribute(this,t),St.applyMatrix3(e),this.setXY(t,St.x,St.y);else if(3===this.itemSize)for(var i=0,r=this.count;i<r;i++)bt.fromBufferAttribute(this,i),bt.applyMatrix3(e),this.setXYZ(i,bt.x,bt.y,bt.z);return this},applyMatrix4:function(e){for(var t=0,n=this.count;t<n;t++)bt.x=this.getX(t),bt.y=this.getY(t),bt.z=this.getZ(t),bt.applyMatrix4(e),this.setXYZ(t,bt.x,bt.y,bt.z);return this},applyNormalMatrix:function(e){for(var t=0,n=this.count;t<n;t++)bt.x=this.getX(t),bt.y=this.getY(t),bt.z=this.getZ(t),bt.applyNormalMatrix(e),this.setXYZ(t,bt.x,bt.y,bt.z);return this},transformDirection:function(e){for(var t=0,n=this.count;t<n;t++)bt.x=this.getX(t),bt.y=this.getY(t),bt.z=this.getZ(t),bt.transformDirection(e),this.setXYZ(t,bt.x,bt.y,bt.z);return this},set:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return this.array[0+(e*=this.itemSize)]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,i){return this.array[0+(e*=this.itemSize)]=t,this.array[e+1]=n,this.array[e+2]=i,this},setXYZW:function(e,t,n,i,r){return this.array[0+(e*=this.itemSize)]=t,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=r,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),(wt.prototype=Object.create(Tt.prototype)).constructor=wt,(xt.prototype=Object.create(Tt.prototype)).constructor=xt,(Et.prototype=Object.create(Tt.prototype)).constructor=Et,(Ct.prototype=Object.create(Tt.prototype)).constructor=Ct,(kt.prototype=Object.create(Tt.prototype)).constructor=kt,(Mt.prototype=Object.create(Tt.prototype)).constructor=Mt,(Ot.prototype=Object.create(Tt.prototype)).constructor=Ot,(At.prototype=Object.create(Tt.prototype)).constructor=At,At.prototype.isFloat16BufferAttribute=!0,(Rt.prototype=Object.create(Tt.prototype)).constructor=Rt,(It.prototype=Object.create(Tt.prototype)).constructor=It;var Pt={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function Dt(e,t){return new Pt[e](t)}var Nt=0,jt=new Te,Ft=new We,Ut=new Y,Gt=new J,Vt=new J,Bt=new Y;function zt(){Object.defineProperty(this,"id",{value:Nt++}),this.uuid=F.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}zt.prototype=Object.assign(Object.create(L.prototype),{constructor:zt,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){return this.index=Array.isArray(e)?new(Lt(e)>65535?Ot:kt)(e,1):e,this},getAttribute:function(e){return this.attributes[e]},setAttribute:function(e,t){return this.attributes[e]=t,this},deleteAttribute:function(e){return delete this.attributes[e],this},hasAttribute:function(e){return void 0!==this.attributes[e]},addGroup:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:e,count:t,materialIndex:n})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix4:function(e){var t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){var i=(new G).getNormalMatrix(e);n.applyNormalMatrix(i),n.needsUpdate=!0}var r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(e),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(e){return jt.makeRotationX(e),this.applyMatrix4(jt),this},rotateY:function(e){return jt.makeRotationY(e),this.applyMatrix4(jt),this},rotateZ:function(e){return jt.makeRotationZ(e),this.applyMatrix4(jt),this},translate:function(e,t,n){return jt.makeTranslation(e,t,n),this.applyMatrix4(jt),this},scale:function(e,t,n){return jt.makeScale(e,t,n),this.applyMatrix4(jt),this},lookAt:function(e){return Ft.lookAt(e),Ft.updateMatrix(),this.applyMatrix4(Ft.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ut).negate(),this.translate(Ut.x,Ut.y,Ut.z),this},setFromPoints:function(e){for(var t=[],n=0,i=e.length;n<i;n++){var r=e[n];t.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new Rt(t,3)),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new J);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new Y(-1/0,-1/0,-1/0),new Y(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(var n=0,i=t.length;n<i;n++)Gt.setFromBufferAttribute(t[n]),this.morphTargetsRelative?(Bt.addVectors(this.boundingBox.min,Gt.min),this.boundingBox.expandByPoint(Bt),Bt.addVectors(this.boundingBox.max,Gt.max),this.boundingBox.expandByPoint(Bt)):(this.boundingBox.expandByPoint(Gt.min),this.boundingBox.expandByPoint(Gt.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new fe);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new Y,1/0);if(e){var n=this.boundingSphere.center;if(Gt.setFromBufferAttribute(e),t)for(var i=0,r=t.length;i<r;i++)Vt.setFromBufferAttribute(t[i]),this.morphTargetsRelative?(Bt.addVectors(Gt.min,Vt.min),Gt.expandByPoint(Bt),Bt.addVectors(Gt.max,Vt.max),Gt.expandByPoint(Bt)):(Gt.expandByPoint(Vt.min),Gt.expandByPoint(Vt.max));Gt.getCenter(n);for(var a=0,o=0,s=e.count;o<s;o++)Bt.fromBufferAttribute(e,o),a=Math.max(a,n.distanceToSquared(Bt));if(t)for(var l=0,u=t.length;l<u;l++)for(var c=t[l],h=this.morphTargetsRelative,d=0,f=c.count;d<f;d++)Bt.fromBufferAttribute(c,d),h&&(Ut.fromBufferAttribute(e,d),Bt.add(Ut)),a=Math.max(a,n.distanceToSquared(Bt));this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeTangents:function(){var e=this.index,t=this.attributes;if(null!==e&&void 0!==t.position&&void 0!==t.normal&&void 0!==t.uv){var n=e.array,i=t.position.array,r=t.normal.array,a=t.uv.array,o=i.length/3;void 0===t.tangent&&this.setAttribute("tangent",new Tt(new Float32Array(4*o),4));for(var s=t.tangent.array,l=[],u=[],c=0;c<o;c++)l[c]=new Y,u[c]=new Y;var h=new Y,d=new Y,f=new Y,p=new U,m=new U,v=new U,g=new Y,y=new Y,_=this.groups;0===_.length&&(_=[{start:0,count:n.length}]);for(var b=0,S=_.length;b<S;++b)for(var T=_[b],w=T.start,x=w,E=w+T.count;x<E;x+=3)N(n[x+0],n[x+1],n[x+2]);for(var C=new Y,k=new Y,M=new Y,O=new Y,A=0,R=_.length;A<R;++A)for(var I=_[A],L=I.start,P=L,D=L+I.count;P<D;P+=3)j(n[P+0]),j(n[P+1]),j(n[P+2])}else console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");function N(e,t,n){h.fromArray(i,3*e),d.fromArray(i,3*t),f.fromArray(i,3*n),p.fromArray(a,2*e),m.fromArray(a,2*t),v.fromArray(a,2*n),d.sub(h),f.sub(h),m.sub(p),v.sub(p);var r=1/(m.x*v.y-v.x*m.y);isFinite(r)&&(g.copy(d).multiplyScalar(v.y).addScaledVector(f,-m.y).multiplyScalar(r),y.copy(f).multiplyScalar(m.x).addScaledVector(d,-v.x).multiplyScalar(r),l[e].add(g),l[t].add(g),l[n].add(g),u[e].add(y),u[t].add(y),u[n].add(y))}function j(e){M.fromArray(r,3*e),O.copy(M);var t=l[e];C.copy(t),C.sub(M.multiplyScalar(M.dot(t))).normalize(),k.crossVectors(O,t);var n=k.dot(u[e])<0?-1:1;s[4*e]=C.x,s[4*e+1]=C.y,s[4*e+2]=C.z,s[4*e+3]=n}},computeVertexNormals:function(){var e=this.index,t=this.getAttribute("position");if(void 0!==t){var n=this.getAttribute("normal");if(void 0===n)n=new Tt(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(var i=0,r=n.count;i<r;i++)n.setXYZ(i,0,0,0);var a=new Y,o=new Y,s=new Y,l=new Y,u=new Y,c=new Y,h=new Y,d=new Y;if(e)for(var f=0,p=e.count;f<p;f+=3){var m=e.getX(f+0),v=e.getX(f+1),g=e.getX(f+2);a.fromBufferAttribute(t,m),o.fromBufferAttribute(t,v),s.fromBufferAttribute(t,g),h.subVectors(s,o),d.subVectors(a,o),h.cross(d),l.fromBufferAttribute(n,m),u.fromBufferAttribute(n,v),c.fromBufferAttribute(n,g),l.add(h),u.add(h),c.add(h),n.setXYZ(m,l.x,l.y,l.z),n.setXYZ(v,u.x,u.y,u.z),n.setXYZ(g,c.x,c.y,c.z)}else for(var y=0,_=t.count;y<_;y+=3)a.fromBufferAttribute(t,y+0),o.fromBufferAttribute(t,y+1),s.fromBufferAttribute(t,y+2),h.subVectors(s,o),d.subVectors(a,o),h.cross(d),n.setXYZ(y+0,h.x,h.y,h.z),n.setXYZ(y+1,h.x,h.y,h.z),n.setXYZ(y+2,h.x,h.y,h.z);this.normalizeNormals(),n.needsUpdate=!0}},merge:function(e,t){if(e&&e.isBufferGeometry){void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var n=this.attributes;for(var i in n)if(void 0!==e.attributes[i])for(var r=n[i].array,a=e.attributes[i],o=a.array,s=a.itemSize*t,l=Math.min(o.length,r.length-s),u=0,c=s;u<l;u++,c++)r[c]=o[u];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e)},normalizeNormals:function(){for(var e=this.attributes.normal,t=0,n=e.count;t<n;t++)Bt.fromBufferAttribute(e,t),Bt.normalize(),e.setXYZ(t,Bt.x,Bt.y,Bt.z)},toNonIndexed:function(){function e(e,t){for(var n=e.array,i=e.itemSize,r=e.normalized,a=new n.constructor(t.length*i),o=0,s=0,l=0,u=t.length;l<u;l++){o=t[l]*i;for(var c=0;c<i;c++)a[s++]=n[o++]}return new Tt(a,i,r)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;var t=new zt,n=this.index.array,i=this.attributes;for(var r in i){var a=e(i[r],n);t.setAttribute(r,a)}var o=this.morphAttributes;for(var s in o){for(var l=[],u=o[s],c=0,h=u.length;c<h;c++){var d=e(u[c],n);l.push(d)}t.morphAttributes[s]=l}t.morphTargetsRelative=this.morphTargetsRelative;for(var f=this.groups,p=0,m=f.length;p<m;p++){var v=f[p];t.addGroup(v.start,v.count,v.materialIndex)}return t},toJSON:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var i=this.index;null!==i&&(e.data.index={type:i.array.constructor.name,array:Array.prototype.slice.call(i.array)});var r=this.attributes;for(var a in r){var o=r[a],s=o.toJSON(e.data);""!==o.name&&(s.name=o.name),e.data.attributes[a]=s}var l={},u=!1;for(var c in this.morphAttributes){for(var h=this.morphAttributes[c],d=[],f=0,p=h.length;f<p;f++){var m=h[f],v=m.toJSON(e.data);""!==m.name&&(v.name=m.name),d.push(v)}d.length>0&&(l[c]=d,u=!0)}u&&(e.data.morphAttributes=l,e.data.morphTargetsRelative=this.morphTargetsRelative);var g=this.groups;g.length>0&&(e.data.groups=JSON.parse(JSON.stringify(g)));var y=this.boundingSphere;return null!==y&&(e.data.boundingSphere={center:y.center.toArray(),radius:y.radius}),e},clone:function(){return(new zt).copy(this)},copy:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var t={};this.name=e.name;var n=e.index;null!==n&&this.setIndex(n.clone(t));var i=e.attributes;for(var r in i)this.setAttribute(r,i[r].clone(t));var a=e.morphAttributes;for(var o in a){for(var s=[],l=a[o],u=0,c=l.length;u<c;u++)s.push(l[u].clone(t));this.morphAttributes[o]=s}this.morphTargetsRelative=e.morphTargetsRelative;for(var h=e.groups,d=0,f=h.length;d<f;d++){var p=h[d];this.addGroup(p.start,p.count,p.materialIndex)}var m=e.boundingBox;null!==m&&(this.boundingBox=m.clone());var v=e.boundingSphere;return null!==v&&(this.boundingSphere=v.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var Ht=new Te,Xt=new Se,qt=new fe,Wt=new Y,Yt=new Y,Kt=new Y,Zt=new Y,Jt=new Y,Qt=new Y,$t=new Y,en=new Y,tn=new Y,nn=new U,rn=new U,an=new U,on=new Y,sn=new Y;function ln(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new zt,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new _t;We.call(this),this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}function un(e,t,n,i,r,a,o,s,u,c,h,d){Wt.fromBufferAttribute(r,c),Yt.fromBufferAttribute(r,h),Kt.fromBufferAttribute(r,d);var f=e.morphTargetInfluences;if(t.morphTargets&&a&&f){$t.set(0,0,0),en.set(0,0,0),tn.set(0,0,0);for(var p=0,m=a.length;p<m;p++){var v=f[p],g=a[p];0!==v&&(Zt.fromBufferAttribute(g,c),Jt.fromBufferAttribute(g,h),Qt.fromBufferAttribute(g,d),o?($t.addScaledVector(Zt,v),en.addScaledVector(Jt,v),tn.addScaledVector(Qt,v)):($t.addScaledVector(Zt.sub(Wt),v),en.addScaledVector(Jt.sub(Yt),v),tn.addScaledVector(Qt.sub(Kt),v)))}Wt.add($t),Yt.add(en),Kt.add(tn)}e.isSkinnedMesh&&(e.boneTransform(c,Wt),e.boneTransform(h,Yt),e.boneTransform(d,Kt));var y=function(e,t,n,i,r,a,o,s){if(null===(1===t.side?i.intersectTriangle(o,a,r,!0,s):i.intersectTriangle(r,a,o,t.side!==l,s)))return null;sn.copy(s),sn.applyMatrix4(e.matrixWorld);var u=n.ray.origin.distanceTo(sn);return u<n.near||u>n.far?null:{distance:u,point:sn.clone(),object:e}}(e,t,n,i,Wt,Yt,Kt,on);if(y){s&&(nn.fromBufferAttribute(s,c),rn.fromBufferAttribute(s,h),an.fromBufferAttribute(s,d),y.uv=lt.getUV(on,Wt,Yt,Kt,nn,rn,an,new U)),u&&(nn.fromBufferAttribute(u,c),rn.fromBufferAttribute(u,h),an.fromBufferAttribute(u,d),y.uv2=lt.getUV(on,Wt,Yt,Kt,nn,rn,an,new U));var _=new vt(c,h,d);lt.getNormal(Wt,Yt,Kt,_.normal),y.face=_}return y}ln.prototype=Object.assign(Object.create(We.prototype),{constructor:ln,isMesh:!0,copy:function(e){return We.prototype.copy.call(this,e),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this},updateMorphTargets:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,n=Object.keys(t);if(n.length>0){var i=t[n[0]];if(void 0!==i){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,a=i.length;r<a;r++){var o=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=r}}}}else{var s=e.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(e,t){var n,i=this.geometry,r=this.material,a=this.matrixWorld;if(void 0!==r&&(null===i.boundingSphere&&i.computeBoundingSphere(),qt.copy(i.boundingSphere),qt.applyMatrix4(a),!1!==e.ray.intersectsSphere(qt)&&(Ht.copy(a).invert(),Xt.copy(e.ray).applyMatrix4(Ht),null===i.boundingBox||!1!==Xt.intersectsBox(i.boundingBox))))if(i.isBufferGeometry){var o=i.index,s=i.attributes.position,l=i.morphAttributes.position,u=i.morphTargetsRelative,c=i.attributes.uv,h=i.attributes.uv2,d=i.groups,f=i.drawRange;if(null!==o)if(Array.isArray(r))for(var p=0,m=d.length;p<m;p++)for(var v=d[p],g=r[v.materialIndex],y=Math.max(v.start,f.start),_=Math.min(v.start+v.count,f.start+f.count);y<_;y+=3){var b=o.getX(y),S=o.getX(y+1),T=o.getX(y+2);(n=un(this,g,e,Xt,s,l,u,c,h,b,S,T))&&(n.faceIndex=Math.floor(y/3),n.face.materialIndex=v.materialIndex,t.push(n))}else for(var w=Math.max(0,f.start),x=Math.min(o.count,f.start+f.count);w<x;w+=3){var E=o.getX(w),C=o.getX(w+1),k=o.getX(w+2);(n=un(this,r,e,Xt,s,l,u,c,h,E,C,k))&&(n.faceIndex=Math.floor(w/3),t.push(n))}else if(void 0!==s)if(Array.isArray(r))for(var M=0,O=d.length;M<O;M++)for(var A=d[M],R=r[A.materialIndex],I=Math.max(A.start,f.start),L=Math.min(A.start+A.count,f.start+f.count);I<L;I+=3)(n=un(this,R,e,Xt,s,l,u,c,h,I,I+1,I+2))&&(n.faceIndex=Math.floor(I/3),n.face.materialIndex=A.materialIndex,t.push(n));else for(var P=Math.max(0,f.start),D=Math.min(s.count,f.start+f.count);P<D;P+=3)(n=un(this,r,e,Xt,s,l,u,c,h,P,P+1,P+2))&&(n.faceIndex=Math.floor(P/3),t.push(n))}else i.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}});var cn=function(e){b(n,e);var t=T(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;_(this,n),(e=t.call(this)).type="BoxGeometry",e.parameters={width:i,height:r,depth:a,widthSegments:o,heightSegments:s,depthSegments:l};var u=x(e);o=Math.floor(o),s=Math.floor(s),l=Math.floor(l);var c=[],h=[],d=[],f=[],p=0,m=0;function v(e,t,n,i,r,a,o,s,l,v,g){for(var y=a/l,_=o/v,b=a/2,S=o/2,T=s/2,w=l+1,x=v+1,E=0,C=0,k=new Y,M=0;M<x;M++)for(var O=M*_-S,A=0;A<w;A++)k[e]=(A*y-b)*i,k[t]=O*r,k[n]=T,h.push(k.x,k.y,k.z),k[e]=0,k[t]=0,k[n]=s>0?1:-1,d.push(k.x,k.y,k.z),f.push(A/l),f.push(1-M/v),E+=1;for(var R=0;R<v;R++)for(var I=0;I<l;I++){var L=p+I+w*(R+1),P=p+(I+1)+w*(R+1),D=p+(I+1)+w*R;c.push(p+I+w*R,L,D),c.push(L,P,D),C+=6}u.addGroup(m,C,g),m+=C,p+=E}return v("z","y","x",-1,-1,a,r,i,l,s,0),v("z","y","x",1,-1,a,r,-i,l,s,1),v("x","z","y",1,1,i,a,r,o,l,2),v("x","z","y",1,-1,i,a,-r,o,l,3),v("x","y","z",1,-1,i,r,a,o,s,4),v("x","y","z",-1,-1,i,r,-a,o,s,5),e.setIndex(c),e.setAttribute("position",new Rt(h,3)),e.setAttribute("normal",new Rt(d,3)),e.setAttribute("uv",new Rt(f,2)),e}return n}(zt);function hn(e){var t={};for(var n in e)for(var i in t[n]={},e[n]){var r=e[n][i];t[n][i]=r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture)?r.clone():Array.isArray(r)?r.slice():r}return t}function dn(e){for(var t={},n=0;n<e.length;n++){var i=hn(e[n]);for(var r in i)t[r]=i[r]}return t}var fn={clone:hn,merge:dn};function pn(e){yt.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}function mn(){We.call(this),this.type="Camera",this.matrixWorldInverse=new Te,this.projectionMatrix=new Te,this.projectionMatrixInverse=new Te}function vn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;mn.call(this),this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function gn(e,t,n){if(We.call(this),this.type="CubeCamera",!0===n.isWebGLCubeRenderTarget){this.renderTarget=n;var i=new vn(90,1,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new Y(1,0,0)),this.add(i);var r=new vn(90,1,e,t);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new Y(-1,0,0)),this.add(r);var a=new vn(90,1,e,t);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(new Y(0,1,0)),this.add(a);var o=new vn(90,1,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(new Y(0,-1,0)),this.add(o);var s=new vn(90,1,e,t);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new Y(0,0,1)),this.add(s);var l=new vn(90,1,e,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new Y(0,0,-1)),this.add(l),this.update=function(e,t){null===this.parent&&this.updateMatrixWorld();var u=e.xr.enabled,c=e.getRenderTarget();e.xr.enabled=!1;var h=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,i),e.setRenderTarget(n,1),e.render(t,r),e.setRenderTarget(n,2),e.render(t,a),e.setRenderTarget(n,3),e.render(t,o),e.setRenderTarget(n,4),e.render(t,s),n.texture.generateMipmaps=h,e.setRenderTarget(n,5),e.render(t,l),e.setRenderTarget(c),e.xr.enabled=u}}else console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.")}function yn(e,t,n,i,r,a,o,s,l,u){z.call(this,e=void 0!==e?e:[],t=void 0!==t?t:301,n,i,r,a,o=void 0!==o?o:E,s,l,u),this.flipY=!1,this._needsFlipEnvMap=!0}(pn.prototype=Object.create(yt.prototype)).constructor=pn,pn.prototype.isShaderMaterial=!0,pn.prototype.copy=function(e){return yt.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=hn(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this},pn.prototype.toJSON=function(e){var t=yt.prototype.toJSON.call(this,e);for(var n in t.glslVersion=this.glslVersion,t.uniforms={},this.uniforms){var i=this.uniforms[n].value;t.uniforms[n]=i&&i.isTexture?{type:"t",value:i.toJSON(e).uuid}:i&&i.isColor?{type:"c",value:i.getHex()}:i&&i.isVector2?{type:"v2",value:i.toArray()}:i&&i.isVector3?{type:"v3",value:i.toArray()}:i&&i.isVector4?{type:"v4",value:i.toArray()}:i&&i.isMatrix3?{type:"m3",value:i.toArray()}:i&&i.isMatrix4?{type:"m4",value:i.toArray()}:{value:i}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;var r={};for(var a in this.extensions)!0===this.extensions[a]&&(r[a]=!0);return Object.keys(r).length>0&&(t.extensions=r),t},mn.prototype=Object.assign(Object.create(We.prototype),{constructor:mn,isCamera:!0,copy:function(e,t){return We.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new Y),this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()},updateMatrixWorld:function(e){We.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()},updateWorldMatrix:function(e,t){We.prototype.updateWorldMatrix.call(this,e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()},clone:function(){return(new this.constructor).copy(this)}}),vn.prototype=Object.assign(Object.create(mn.prototype),{constructor:vn,isPerspectiveCamera:!0,copy:function(e,t){return mn.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*F.RAD2DEG*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(.5*F.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*F.RAD2DEG*Math.atan(Math.tan(.5*F.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,n,i,r,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,t=e*Math.tan(.5*F.DEG2RAD*this.fov)/this.zoom,n=2*t,i=this.aspect*n,r=-.5*i,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;r+=a.offsetX*i/o,t-=a.offsetY*n/s,i*=a.width/o,n*=a.height/s}var l=this.filmOffset;0!==l&&(r+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()},toJSON:function(e){var t=We.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}),(gn.prototype=Object.create(We.prototype)).constructor=gn,(yn.prototype=Object.create(z.prototype)).constructor=yn,yn.prototype.isCubeTexture=!0,Object.defineProperty(yn.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}});var _n=function(e){b(n,e);var t=T(n);function n(e,i,r){var a;return _(this,n),Number.isInteger(i)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),i=r),a=t.call(this,e,e,i),Object.defineProperty(x(a),"isWebGLCubeRenderTarget",{value:!0}),a.texture=new yn(void 0,(i=i||{}).mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),a.texture._needsFlipEnvMap=!1,a}return y(n,[{key:"fromEquirectangularTexture",value:function(e,t){this.texture.type=t.type,this.texture.format=1023,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;var n=new cn(5,5,5),i=new pn({name:"CubemapFromEquirect",uniforms:hn({tEquirect:{value:null}}),vertexShader:"\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",fragmentShader:"\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",side:1,blending:0});i.uniforms.tEquirect.value=t;var r=new ln(n,i),a=t.minFilter;return t.minFilter===w&&(t.minFilter=g),new gn(1,10,this).update(e,r),t.minFilter=a,r.geometry.dispose(),r.material.dispose(),this}},{key:"clear",value:function(e,t,n,i){for(var r=e.getRenderTarget(),a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,n,i);e.setRenderTarget(r)}}]),n}(q);function bn(e,t,n,i,r,a,o,s,l,u,c,h){z.call(this,null,a,o,s,l,u,i,r,c,h),this.image={data:e||null,width:t||1,height:n||1},this.magFilter=void 0!==l?l:f,this.minFilter=void 0!==u?u:f,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}(bn.prototype=Object.create(z.prototype)).constructor=bn,bn.prototype.isDataTexture=!0;var Sn=new fe,Tn=new Y,wn=function(){function e(t,n,i,r,a,o){_(this,e),this.planes=[void 0!==t?t:new Je,void 0!==n?n:new Je,void 0!==i?i:new Je,void 0!==r?r:new Je,void 0!==a?a:new Je,void 0!==o?o:new Je]}return y(e,[{key:"set",value:function(e,t,n,i,r,a){var o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(i),o[4].copy(r),o[5].copy(a),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this}},{key:"setFromProjectionMatrix",value:function(e){var t=this.planes,n=e.elements,i=n[0],r=n[1],a=n[2],o=n[3],s=n[4],l=n[5],u=n[6],c=n[7],h=n[8],d=n[9],f=n[10],p=n[11],m=n[12],v=n[13],g=n[14],y=n[15];return t[0].setComponents(o-i,c-s,p-h,y-m).normalize(),t[1].setComponents(o+i,c+s,p+h,y+m).normalize(),t[2].setComponents(o+r,c+l,p+d,y+v).normalize(),t[3].setComponents(o-r,c-l,p-d,y-v).normalize(),t[4].setComponents(o-a,c-u,p-f,y-g).normalize(),t[5].setComponents(o+a,c+u,p+f,y+g).normalize(),this}},{key:"intersectsObject",value:function(e){var t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),Sn.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Sn)}},{key:"intersectsSprite",value:function(e){return Sn.center.set(0,0,0),Sn.radius=.7071067811865476,Sn.applyMatrix4(e.matrixWorld),this.intersectsSphere(Sn)}},{key:"intersectsSphere",value:function(e){for(var t=this.planes,n=e.center,i=-e.radius,r=0;r<6;r++)if(t[r].distanceToPoint(n)<i)return!1;return!0}},{key:"intersectsBox",value:function(e){for(var t=this.planes,n=0;n<6;n++){var i=t[n];if(Tn.x=i.normal.x>0?e.max.x:e.min.x,Tn.y=i.normal.y>0?e.max.y:e.min.y,Tn.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Tn)<0)return!1}return!0}},{key:"containsPoint",value:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}}]),e}();function xn(){var e=null,t=!1,n=null,i=null;function r(t,a){n(t,a),i=e.requestAnimationFrame(r)}return{start:function(){!0!==t&&null!==n&&(i=e.requestAnimationFrame(r),t=!0)},stop:function(){e.cancelAnimationFrame(i),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function En(e,t){var n=t.isWebGL2,i=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),i.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);var n=i.get(t);n&&(e.deleteBuffer(n.buffer),i.delete(t))},update:function(t,r){if(t.isGLBufferAttribute){var a=i.get(t);(!a||a.version<t.version)&&i.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version})}else{t.isInterleavedBufferAttribute&&(t=t.data);var o=i.get(t);void 0===o?i.set(t,function(t,i){var r=t.array,a=t.usage,o=e.createBuffer();e.bindBuffer(i,o),e.bufferData(i,r,a),t.onUploadCallback();var s=5126;return r instanceof Float32Array?s=5126:r instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):r instanceof Uint16Array?t.isFloat16BufferAttribute?n?s=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):s=5123:r instanceof Int16Array?s=5122:r instanceof Uint32Array?s=5125:r instanceof Int32Array?s=5124:r instanceof Int8Array?s=5120:r instanceof Uint8Array&&(s=5121),{buffer:o,type:s,bytesPerElement:r.BYTES_PER_ELEMENT,version:t.version}}(t,r)):o.version<t.version&&(function(t,i,r){var a=i.array,o=i.updateRange;e.bindBuffer(r,t),-1===o.count?e.bufferSubData(r,0,a):(n?e.bufferSubData(r,o.offset*a.BYTES_PER_ELEMENT,a,o.offset,o.count):e.bufferSubData(r,o.offset*a.BYTES_PER_ELEMENT,a.subarray(o.offset,o.offset+o.count)),o.count=-1)}(o.buffer,t,r),o.version=t.version)}}}}var Cn=function(e){b(n,e);var t=T(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;_(this,n),(e=t.call(this)).type="PlaneGeometry",e.parameters={width:i,height:r,widthSegments:a,heightSegments:o};for(var s=i/2,l=r/2,u=Math.floor(a),c=Math.floor(o),h=u+1,d=c+1,f=i/u,p=r/c,m=[],v=[],g=[],y=[],b=0;b<d;b++)for(var S=b*p-l,T=0;T<h;T++)v.push(T*f-s,-S,0),g.push(0,0,1),y.push(T/u),y.push(1-b/c);for(var w=0;w<c;w++)for(var x=0;x<u;x++){var E=x+h*(w+1),C=x+1+h*(w+1),k=x+1+h*w;m.push(x+h*w,E,k),m.push(E,C,k)}return e.setIndex(m),e.setAttribute("position",new Rt(v,3)),e.setAttribute("normal",new Rt(g,3)),e.setAttribute("uv",new Rt(y,2)),e}return n}(zt),kn={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor.xyz *= color.xyz;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_maxMipLevel 8.0\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_maxTileSize 256.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\n\t\tvec2 f = fract( uv );\n\t\tuv += 0.5 - f;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tif ( mipInt < cubeUV_maxMipLevel ) {\n\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\n\t\t}\n\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\n\t\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\n\t\tuv *= texelSize;\n\t\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x += texelSize;\n\t\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.y += texelSize;\n\t\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x -= texelSize;\n\t\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tvec3 tm = mix( tl, tr, f.x );\n\t\tvec3 bm = mix( bl, br, f.x );\n\t\treturn mix( tm, bm, f.y );\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value ) {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat specularRoughness;\n\tvec3 specularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\t\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\t\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\tvec3 N = normalize( surf_norm );\n\t\tmat3 tsn = mat3( S, T, N );\n\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmissionmap_fragment:"#ifdef USE_TRANSMISSIONMAP\n\ttotalTransmission *= texture2D( transmissionMap, vUv ).r;\n#endif",transmissionmap_pars_fragment:"#ifdef USE_TRANSMISSIONMAP\n\tuniform sampler2D transmissionMap;\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSMISSION\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSMISSION\n\tuniform float transmission;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <transmissionmap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#ifdef TRANSMISSION\n\t\tfloat totalTransmission = transmission;\n\t#endif\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <transmissionmap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#ifdef TRANSMISSION\n\t\tdiffuseColor.a *= mix( saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) ), 1.0, metalness );\n\t#endif\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},Mn={common:{diffuse:{value:new mt(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new G},uv2Transform:{value:new G},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new U(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new mt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new mt(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new G}},sprite:{diffuse:{value:new mt(15658734)},opacity:{value:1},center:{value:new U(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new G}}},On={basic:{uniforms:dn([Mn.common,Mn.specularmap,Mn.envmap,Mn.aomap,Mn.lightmap,Mn.fog]),vertexShader:kn.meshbasic_vert,fragmentShader:kn.meshbasic_frag},lambert:{uniforms:dn([Mn.common,Mn.specularmap,Mn.envmap,Mn.aomap,Mn.lightmap,Mn.emissivemap,Mn.fog,Mn.lights,{emissive:{value:new mt(0)}}]),vertexShader:kn.meshlambert_vert,fragmentShader:kn.meshlambert_frag},phong:{uniforms:dn([Mn.common,Mn.specularmap,Mn.envmap,Mn.aomap,Mn.lightmap,Mn.emissivemap,Mn.bumpmap,Mn.normalmap,Mn.displacementmap,Mn.fog,Mn.lights,{emissive:{value:new mt(0)},specular:{value:new mt(1118481)},shininess:{value:30}}]),vertexShader:kn.meshphong_vert,fragmentShader:kn.meshphong_frag},standard:{uniforms:dn([Mn.common,Mn.envmap,Mn.aomap,Mn.lightmap,Mn.emissivemap,Mn.bumpmap,Mn.normalmap,Mn.displacementmap,Mn.roughnessmap,Mn.metalnessmap,Mn.fog,Mn.lights,{emissive:{value:new mt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:kn.meshphysical_vert,fragmentShader:kn.meshphysical_frag},toon:{uniforms:dn([Mn.common,Mn.aomap,Mn.lightmap,Mn.emissivemap,Mn.bumpmap,Mn.normalmap,Mn.displacementmap,Mn.gradientmap,Mn.fog,Mn.lights,{emissive:{value:new mt(0)}}]),vertexShader:kn.meshtoon_vert,fragmentShader:kn.meshtoon_frag},matcap:{uniforms:dn([Mn.common,Mn.bumpmap,Mn.normalmap,Mn.displacementmap,Mn.fog,{matcap:{value:null}}]),vertexShader:kn.meshmatcap_vert,fragmentShader:kn.meshmatcap_frag},points:{uniforms:dn([Mn.points,Mn.fog]),vertexShader:kn.points_vert,fragmentShader:kn.points_frag},dashed:{uniforms:dn([Mn.common,Mn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:kn.linedashed_vert,fragmentShader:kn.linedashed_frag},depth:{uniforms:dn([Mn.common,Mn.displacementmap]),vertexShader:kn.depth_vert,fragmentShader:kn.depth_frag},normal:{uniforms:dn([Mn.common,Mn.bumpmap,Mn.normalmap,Mn.displacementmap,{opacity:{value:1}}]),vertexShader:kn.normal_vert,fragmentShader:kn.normal_frag},sprite:{uniforms:dn([Mn.sprite,Mn.fog]),vertexShader:kn.sprite_vert,fragmentShader:kn.sprite_frag},background:{uniforms:{uvTransform:{value:new G},t2D:{value:null}},vertexShader:kn.background_vert,fragmentShader:kn.background_frag},cube:{uniforms:dn([Mn.envmap,{opacity:{value:1}}]),vertexShader:kn.cube_vert,fragmentShader:kn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:kn.equirect_vert,fragmentShader:kn.equirect_frag},distanceRGBA:{uniforms:dn([Mn.common,Mn.displacementmap,{referencePosition:{value:new Y},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:kn.distanceRGBA_vert,fragmentShader:kn.distanceRGBA_frag},shadow:{uniforms:dn([Mn.lights,Mn.fog,{color:{value:new mt(0)},opacity:{value:1}}]),vertexShader:kn.shadow_vert,fragmentShader:kn.shadow_frag}};function An(e,t,n,i,r){var o,s,l=new mt(0),u=0,c=null,h=0,d=null;function f(e,t){n.buffers.color.setClear(e.r,e.g,e.b,t,r)}return{getClearColor:function(){return l},setClearColor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;l.set(e),f(l,u=t)},getClearAlpha:function(){return u},setClearAlpha:function(e){f(l,u=e)},render:function(n,r,p,m){var v=!0===r.isScene?r.background:null;v&&v.isTexture&&(v=t.get(v));var g=e.xr,y=g.getSession&&g.getSession();y&&"additive"===y.environmentBlendMode&&(v=null),null===v?f(l,u):v&&v.isColor&&(f(v,1),m=!0),(e.autoClear||m)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),v&&(v.isCubeTexture||v.isWebGLCubeRenderTarget||306===v.mapping)?(void 0===s&&((s=new ln(new cn(1,1,1),new pn({name:"BackgroundCubeMaterial",uniforms:hn(On.cube.uniforms),vertexShader:On.cube.vertexShader,fragmentShader:On.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),s.geometry.deleteAttribute("uv"),s.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(s.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(s)),v.isWebGLCubeRenderTarget&&(v=v.texture),s.material.uniforms.envMap.value=v,s.material.uniforms.flipEnvMap.value=v.isCubeTexture&&v._needsFlipEnvMap?-1:1,c===v&&h===v.version&&d===e.toneMapping||(s.material.needsUpdate=!0,c=v,h=v.version,d=e.toneMapping),n.unshift(s,s.geometry,s.material,0,0,null)):v&&v.isTexture&&(void 0===o&&((o=new ln(new Cn(2,2),new pn({name:"BackgroundMaterial",uniforms:hn(On.background.uniforms),vertexShader:On.background.vertexShader,fragmentShader:On.background.fragmentShader,side:a,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(o.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(o)),o.material.uniforms.t2D.value=v,!0===v.matrixAutoUpdate&&v.updateMatrix(),o.material.uniforms.uvTransform.value.copy(v.matrix),c===v&&h===v.version&&d===e.toneMapping||(o.material.needsUpdate=!0,c=v,h=v.version,d=e.toneMapping),n.unshift(o,o.geometry,o.material,0,0,null))}}}function Rn(e,t,n,i){var r=e.getParameter(34921),a=i.isWebGL2?null:t.get("OES_vertex_array_object"),o=i.isWebGL2||null!==a,s={},l=d(null),u=l;function c(t){return i.isWebGL2?e.bindVertexArray(t):a.bindVertexArrayOES(t)}function h(t){return i.isWebGL2?e.deleteVertexArray(t):a.deleteVertexArrayOES(t)}function d(e){for(var t=[],n=[],i=[],a=0;a<r;a++)t[a]=0,n[a]=0,i[a]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:n,attributeDivisors:i,object:e,attributes:{},index:null}}function f(){for(var e=u.newAttributes,t=0,n=e.length;t<n;t++)e[t]=0}function p(e){m(e,0)}function m(n,r){var a=u.enabledAttributes,o=u.attributeDivisors;u.newAttributes[n]=1,0===a[n]&&(e.enableVertexAttribArray(n),a[n]=1),o[n]!==r&&((i.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,r),o[n]=r)}function v(){for(var t=u.newAttributes,n=u.enabledAttributes,i=0,r=n.length;i<r;i++)n[i]!==t[i]&&(e.disableVertexAttribArray(i),n[i]=0)}function g(t,n,r,a,o,s){!0!==i.isWebGL2||5124!==r&&5125!==r?e.vertexAttribPointer(t,n,r,a,o,s):e.vertexAttribIPointer(t,n,r,o,s)}function y(){_(),u!==l&&c((u=l).object)}function _(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function(r,l,h,y,_){var b=!1;if(o){var S=function(t,n,r){var o=!0===r.wireframe,l=s[t.id];void 0===l&&(l={},s[t.id]=l);var u=l[n.id];void 0===u&&(u={},l[n.id]=u);var c=u[o];return void 0===c&&(c=d(i.isWebGL2?e.createVertexArray():a.createVertexArrayOES()),u[o]=c),c}(y,h,l);u!==S&&c((u=S).object),(b=function(e,t){var n=u.attributes,i=e.attributes,r=0;for(var a in i){var o=n[a],s=i[a];if(void 0===o)return!0;if(o.attribute!==s)return!0;if(o.data!==s.data)return!0;r++}return u.attributesNum!==r||u.index!==t}(y,_))&&function(e,t){var n={},i=e.attributes,r=0;for(var a in i){var o=i[a],s={};s.attribute=o,o.data&&(s.data=o.data),n[a]=s,r++}u.attributes=n,u.attributesNum=r,u.index=t}(y,_)}else{var T=!0===l.wireframe;u.geometry===y.id&&u.program===h.id&&u.wireframe===T||(u.geometry=y.id,u.program=h.id,u.wireframe=T,b=!0)}!0===r.isInstancedMesh&&(b=!0),null!==_&&n.update(_,34963),b&&(function(r,a,o,s){if(!1!==i.isWebGL2||!r.isInstancedMesh&&!s.isInstancedBufferGeometry||null!==t.get("ANGLE_instanced_arrays")){f();var l=s.attributes,u=o.getAttributes(),c=a.defaultAttributeValues;for(var h in u){var d=u[h];if(d>=0){var y=l[h];if(void 0!==y){var _=y.normalized,b=y.itemSize,S=n.get(y);if(void 0===S)continue;var T=S.buffer,w=S.type,x=S.bytesPerElement;if(y.isInterleavedBufferAttribute){var E=y.data,C=E.stride,k=y.offset;E&&E.isInstancedInterleavedBuffer?(m(d,E.meshPerAttribute),void 0===s._maxInstanceCount&&(s._maxInstanceCount=E.meshPerAttribute*E.count)):p(d),e.bindBuffer(34962,T),g(d,b,w,_,C*x,k*x)}else y.isInstancedBufferAttribute?(m(d,y.meshPerAttribute),void 0===s._maxInstanceCount&&(s._maxInstanceCount=y.meshPerAttribute*y.count)):p(d),e.bindBuffer(34962,T),g(d,b,w,_,0,0)}else if("instanceMatrix"===h){var M=n.get(r.instanceMatrix);if(void 0===M)continue;var O=M.buffer,A=M.type;m(d+0,1),m(d+1,1),m(d+2,1),m(d+3,1),e.bindBuffer(34962,O),e.vertexAttribPointer(d+0,4,A,!1,64,0),e.vertexAttribPointer(d+1,4,A,!1,64,16),e.vertexAttribPointer(d+2,4,A,!1,64,32),e.vertexAttribPointer(d+3,4,A,!1,64,48)}else if("instanceColor"===h){var R=n.get(r.instanceColor);if(void 0===R)continue;var I=R.buffer,L=R.type;m(d,1),e.bindBuffer(34962,I),e.vertexAttribPointer(d,3,L,!1,12,0)}else if(void 0!==c){var P=c[h];if(void 0!==P)switch(P.length){case 2:e.vertexAttrib2fv(d,P);break;case 3:e.vertexAttrib3fv(d,P);break;case 4:e.vertexAttrib4fv(d,P);break;default:e.vertexAttrib1fv(d,P)}}}}v()}}(r,l,h,y),null!==_&&e.bindBuffer(34963,n.get(_).buffer))},reset:y,resetDefaultState:_,dispose:function(){for(var e in y(),s){var t=s[e];for(var n in t){var i=t[n];for(var r in i)h(i[r].object),delete i[r];delete t[n]}delete s[e]}},releaseStatesOfGeometry:function(e){if(void 0!==s[e.id]){var t=s[e.id];for(var n in t){var i=t[n];for(var r in i)h(i[r].object),delete i[r];delete t[n]}delete s[e.id]}},releaseStatesOfProgram:function(e){for(var t in s){var n=s[t];if(void 0!==n[e.id]){var i=n[e.id];for(var r in i)h(i[r].object),delete i[r];delete n[e.id]}}},initAttributes:f,enableAttribute:p,disableUnusedAttributes:v}}function In(e,t,n,i){var r,a=i.isWebGL2;this.setMode=function(e){r=e},this.render=function(t,i){e.drawArrays(r,t,i),n.update(i,r,1)},this.renderInstances=function(i,o,s){if(0!==s){var l,u;if(a)l=e,u="drawArraysInstanced";else if(u="drawArraysInstancedANGLE",null===(l=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[u](r,i,o,s),n.update(o,r,s)}}}function Ln(e,t,n){var i;function r(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var a="undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&e instanceof WebGL2ComputeRenderingContext,o=void 0!==n.precision?n.precision:"highp",s=r(o);s!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",s,"instead."),o=s);var l=!0===n.logarithmicDepthBuffer,u=e.getParameter(34930),c=e.getParameter(35660),h=e.getParameter(3379),d=e.getParameter(34076),f=e.getParameter(34921),p=e.getParameter(36347),m=e.getParameter(36348),v=e.getParameter(36349),g=c>0,y=a||!!t.get("OES_texture_float");return{isWebGL2:a,getMaxAnisotropy:function(){if(void 0!==i)return i;var n=t.get("EXT_texture_filter_anisotropic");return i=null!==n?e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:r,precision:o,logarithmicDepthBuffer:l,maxTextures:u,maxVertexTextures:c,maxTextureSize:h,maxCubemapSize:d,maxAttributes:f,maxVertexUniforms:p,maxVaryings:m,maxFragmentUniforms:v,vertexTextures:g,floatFragmentTextures:y,floatVertexTextures:g&&y,maxSamples:a?e.getParameter(36183):0}}function Pn(e){var t=this,n=null,i=0,r=!1,a=!1,o=new Je,s=new G,l={value:null,needsUpdate:!1};function u(){l.value!==n&&(l.value=n,l.needsUpdate=i>0),t.numPlanes=i,t.numIntersection=0}function c(e,n,i,r){var a=null!==e?e.length:0,u=null;if(0!==a){if(u=l.value,!0!==r||null===u){var c=i+4*a,h=n.matrixWorldInverse;s.getNormalMatrix(h),(null===u||u.length<c)&&(u=new Float32Array(c));for(var d=0,f=i;d!==a;++d,f+=4)o.copy(e[d]).applyMatrix4(h,s),o.normal.toArray(u,f),u[f+3]=o.constant}l.value=u,l.needsUpdate=!0}return t.numPlanes=a,t.numIntersection=0,u}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t,a){var o=0!==e.length||t||0!==i||r;return r=t,n=c(e,a,0),i=e.length,o},this.beginShadows=function(){a=!0,c(null)},this.endShadows=function(){a=!1,u()},this.setState=function(t,o,s){var h=t.clippingPlanes,d=t.clipIntersection,f=t.clipShadows,p=e.get(t);if(!r||null===h||0===h.length||a&&!f)a?c(null):u();else{var m=a?0:i,v=4*m,g=p.clippingState||null;l.value=g,g=c(h,o,v,s);for(var y=0;y!==v;++y)g[y]=n[y];p.clippingState=g,this.numIntersection=d?this.numPlanes:0,this.numPlanes+=m}}}function Dn(e){var t=new WeakMap;function n(e,t){return 303===t?e.mapping=301:304===t&&(e.mapping=302),e}function i(e){var n=e.target;n.removeEventListener("dispose",i);var r=t.get(n);void 0!==r&&(t.delete(n),r.dispose())}return{get:function(r){if(r&&r.isTexture){var a=r.mapping;if(303===a||304===a){if(t.has(r))return n(t.get(r).texture,r.mapping);var o=r.image;if(o&&o.height>0){var s=e.getRenderList(),l=e.getRenderTarget(),u=new _n(o.height/2);return u.fromEquirectangularTexture(e,r),t.set(r,u),e.setRenderTarget(l),e.setRenderList(s),r.addEventListener("dispose",i),n(u.texture,r.mapping)}return null}}return r},dispose:function(){t=new WeakMap}}}function Nn(e){var t={};function n(n){if(void 0!==t[n])return t[n];var i;switch(n){case"WEBGL_depth_texture":i=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=e.getExtension(n)}return t[n]=i,i}return{has:function(e){return null!==n(e)},init:function(e){e.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float")},get:function(e){var t=n(e);return null===t&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function jn(e,t,n,i){var r={},a=new WeakMap;function o(e){var s=e.target;for(var l in null!==s.index&&t.remove(s.index),s.attributes)t.remove(s.attributes[l]);s.removeEventListener("dispose",o),delete r[s.id];var u=a.get(s);u&&(t.remove(u),a.delete(s)),i.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(e){var n=[],i=e.index,r=e.attributes.position,o=0;if(null!==i){var s=i.array;o=i.version;for(var l=0,u=s.length;l<u;l+=3){var c=s[l+0],h=s[l+1],d=s[l+2];n.push(c,h,h,d,d,c)}}else{o=r.version;for(var f=0,p=r.array.length/3-1;f<p;f+=3){var m=f+0,v=f+1,g=f+2;n.push(m,v,v,g,g,m)}}var y=new(Lt(n)>65535?Ot:kt)(n,1);y.version=o;var _=a.get(e);_&&t.remove(_),a.set(e,y)}return{get:function(e,t){return!0===r[t.id]||(t.addEventListener("dispose",o),r[t.id]=!0,n.memory.geometries++),t},update:function(e){var n=e.attributes;for(var i in n)t.update(n[i],34962);var r=e.morphAttributes;for(var a in r)for(var o=r[a],s=0,l=o.length;s<l;s++)t.update(o[s],34962)},getWireframeAttribute:function(e){var t=a.get(e);if(t){var n=e.index;null!==n&&t.version<n.version&&s(e)}else s(e);return a.get(e)}}}function Fn(e,t,n,i){var r,a,o,s=i.isWebGL2;this.setMode=function(e){r=e},this.setIndex=function(e){a=e.type,o=e.bytesPerElement},this.render=function(t,i){e.drawElements(r,i,a,t*o),n.update(i,r,1)},this.renderInstances=function(i,l,u){if(0!==u){var c,h;if(s)c=e,h="drawElementsInstanced";else if(h="drawElementsInstancedANGLE",null===(c=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");c[h](r,l,a,i*o,u),n.update(l,r,u)}}}function Un(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,n,i){switch(t.calls++,n){case 4:t.triangles+=i*(e/3);break;case 1:t.lines+=i*(e/2);break;case 3:t.lines+=i*(e-1);break;case 2:t.lines+=i*e;break;case 0:t.points+=i*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function Gn(e,t){return e[0]-t[0]}function Vn(e,t){return Math.abs(t[1])-Math.abs(e[1])}function Bn(e){for(var t={},n=new Float32Array(8),i=[],r=0;r<8;r++)i[r]=[r,0];return{update:function(r,a,o,s){var l=r.morphTargetInfluences,u=void 0===l?0:l.length,c=t[a.id];if(void 0===c){c=[];for(var h=0;h<u;h++)c[h]=[h,0];t[a.id]=c}for(var d=0;d<u;d++){var f=c[d];f[0]=d,f[1]=l[d]}c.sort(Vn);for(var p=0;p<8;p++)p<u&&c[p][1]?(i[p][0]=c[p][0],i[p][1]=c[p][1]):(i[p][0]=Number.MAX_SAFE_INTEGER,i[p][1]=0);i.sort(Gn);for(var m=o.morphTargets&&a.morphAttributes.position,v=o.morphNormals&&a.morphAttributes.normal,g=0,y=0;y<8;y++){var _=i[y],b=_[0],S=_[1];b!==Number.MAX_SAFE_INTEGER&&S?(m&&a.getAttribute("morphTarget"+y)!==m[b]&&a.setAttribute("morphTarget"+y,m[b]),v&&a.getAttribute("morphNormal"+y)!==v[b]&&a.setAttribute("morphNormal"+y,v[b]),n[y]=S,g+=S):(m&&!0===a.hasAttribute("morphTarget"+y)&&a.deleteAttribute("morphTarget"+y),v&&!0===a.hasAttribute("morphNormal"+y)&&a.deleteAttribute("morphNormal"+y),n[y]=0)}var T=a.morphTargetsRelative?1:1-g;s.getUniforms().setValue(e,"morphTargetBaseInfluence",T),s.getUniforms().setValue(e,"morphTargetInfluences",n)}}}function zn(e,t,n,i){var r=new WeakMap;function a(e){var t=e.target;t.removeEventListener("dispose",a),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(e){var o=i.render.frame,s=t.get(e,e.geometry);return r.get(s)!==o&&(t.update(s),r.set(s,o)),e.isInstancedMesh&&(!1===e.hasEventListener("dispose",a)&&e.addEventListener("dispose",a),n.update(e.instanceMatrix,34962),null!==e.instanceColor&&n.update(e.instanceColor,34962)),s},dispose:function(){r=new WeakMap}}}function Hn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;z.call(this,null),this.image={data:e,width:t,height:n,depth:i},this.magFilter=f,this.minFilter=f,this.wrapR=c,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}function Xn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;z.call(this,null),this.image={data:e,width:t,height:n,depth:i},this.magFilter=f,this.minFilter=f,this.wrapR=c,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}On.physical={uniforms:dn([On.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new U(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new mt(0)},transmission:{value:0},transmissionMap:{value:null}}]),vertexShader:kn.meshphysical_vert,fragmentShader:kn.meshphysical_frag},(Hn.prototype=Object.create(z.prototype)).constructor=Hn,Hn.prototype.isDataTexture2DArray=!0,(Xn.prototype=Object.create(z.prototype)).constructor=Xn,Xn.prototype.isDataTexture3D=!0;var qn=new z,Wn=new Hn,Yn=new Xn,Kn=new yn,Zn=[],Jn=[],Qn=new Float32Array(16),$n=new Float32Array(9),ei=new Float32Array(4);function ti(e,t,n){var i=e[0];if(i<=0||i>0)return e;var r=t*n,a=Zn[r];if(void 0===a&&(a=new Float32Array(r),Zn[r]=a),0!==t){i.toArray(a,0);for(var o=1,s=0;o!==t;++o)s+=n,e[o].toArray(a,s)}return a}function ni(e,t){if(e.length!==t.length)return!1;for(var n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0}function ii(e,t){for(var n=0,i=t.length;n<i;n++)e[n]=t[n]}function ri(e,t){var n=Jn[t];void 0===n&&(n=new Int32Array(t),Jn[t]=n);for(var i=0;i!==t;++i)n[i]=e.allocateTextureUnit();return n}function ai(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function oi(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(ni(n,t))return;e.uniform2fv(this.addr,t),ii(n,t)}}function si(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(ni(n,t))return;e.uniform3fv(this.addr,t),ii(n,t)}}function li(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(ni(n,t))return;e.uniform4fv(this.addr,t),ii(n,t)}}function ui(e,t){var n=this.cache,i=t.elements;if(void 0===i){if(ni(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),ii(n,t)}else{if(ni(n,i))return;ei.set(i),e.uniformMatrix2fv(this.addr,!1,ei),ii(n,i)}}function ci(e,t){var n=this.cache,i=t.elements;if(void 0===i){if(ni(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),ii(n,t)}else{if(ni(n,i))return;$n.set(i),e.uniformMatrix3fv(this.addr,!1,$n),ii(n,i)}}function hi(e,t){var n=this.cache,i=t.elements;if(void 0===i){if(ni(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),ii(n,t)}else{if(ni(n,i))return;Qn.set(i),e.uniformMatrix4fv(this.addr,!1,Qn),ii(n,i)}}function di(e,t,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.safeSetTexture2D(t||qn,r)}function fi(e,t,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(t||Wn,r)}function pi(e,t,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(t||Yn,r)}function mi(e,t,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.safeSetTextureCube(t||Kn,r)}function vi(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function gi(e,t){var n=this.cache;ni(n,t)||(e.uniform2iv(this.addr,t),ii(n,t))}function yi(e,t){var n=this.cache;ni(n,t)||(e.uniform3iv(this.addr,t),ii(n,t))}function _i(e,t){var n=this.cache;ni(n,t)||(e.uniform4iv(this.addr,t),ii(n,t))}function bi(e,t){var n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function Si(e,t){e.uniform1fv(this.addr,t)}function Ti(e,t){e.uniform1iv(this.addr,t)}function wi(e,t){e.uniform2iv(this.addr,t)}function xi(e,t){e.uniform3iv(this.addr,t)}function Ei(e,t){e.uniform4iv(this.addr,t)}function Ci(e,t){var n=ti(t,this.size,2);e.uniform2fv(this.addr,n)}function ki(e,t){var n=ti(t,this.size,3);e.uniform3fv(this.addr,n)}function Mi(e,t){var n=ti(t,this.size,4);e.uniform4fv(this.addr,n)}function Oi(e,t){var n=ti(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function Ai(e,t){var n=ti(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function Ri(e,t){var n=ti(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function Ii(e,t,n){var i=t.length,r=ri(n,i);e.uniform1iv(this.addr,r);for(var a=0;a!==i;++a)n.safeSetTexture2D(t[a]||qn,r[a])}function Li(e,t,n){var i=t.length,r=ri(n,i);e.uniform1iv(this.addr,r);for(var a=0;a!==i;++a)n.safeSetTextureCube(t[a]||Kn,r[a])}function Pi(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=function(e){switch(e){case 5126:return ai;case 35664:return oi;case 35665:return si;case 35666:return li;case 35674:return ui;case 35675:return ci;case 35676:return hi;case 5124:case 35670:return vi;case 35667:case 35671:return gi;case 35668:case 35672:return yi;case 35669:case 35673:return _i;case 5125:return bi;case 35678:case 36198:case 36298:case 36306:case 35682:return di;case 35679:case 36299:case 36307:return pi;case 35680:case 36300:case 36308:case 36293:return mi;case 36289:case 36303:case 36311:case 36292:return fi}}(t.type)}function Di(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return Si;case 35664:return Ci;case 35665:return ki;case 35666:return Mi;case 35674:return Oi;case 35675:return Ai;case 35676:return Ri;case 5124:case 35670:return Ti;case 35667:case 35671:return wi;case 35668:case 35672:return xi;case 35669:case 35673:return Ei;case 35678:case 36198:case 36298:case 36306:case 35682:return Ii;case 35680:case 36300:case 36308:case 36293:return Li}}(t.type)}function Ni(e){this.id=e,this.seq=[],this.map={}}Di.prototype.updateCache=function(e){var t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),ii(t,e)},Ni.prototype.setValue=function(e,t,n){for(var i=this.seq,r=0,a=i.length;r!==a;++r){var o=i[r];o.setValue(e,t[o.id],n)}};var ji=/(\w+)(\])?(\[|\.)?/g;function Fi(e,t){e.seq.push(t),e.map[t.id]=t}function Ui(e,t,n){var i=e.name,r=i.length;for(ji.lastIndex=0;;){var a=ji.exec(i),o=ji.lastIndex,s=a[1],l=a[3];if("]"===a[2]&&(s|=0),void 0===l||"["===l&&o+2===r){Fi(n,void 0===l?new Pi(s,e,t):new Di(s,e,t));break}var u=n.map[s];void 0===u&&Fi(n,u=new Ni(s)),n=u}}function Gi(e,t){this.seq=[],this.map={};for(var n=e.getProgramParameter(t,35718),i=0;i<n;++i){var r=e.getActiveUniform(t,i);Ui(r,e.getUniformLocation(t,r.name),this)}}function Vi(e,t,n){var i=e.createShader(t);return e.shaderSource(i,n),e.compileShader(i),i}Gi.prototype.setValue=function(e,t,n,i){var r=this.map[t];void 0!==r&&r.setValue(e,n,i)},Gi.prototype.setOptional=function(e,t,n){var i=t[n];void 0!==i&&this.setValue(e,n,i)},Gi.upload=function(e,t,n,i){for(var r=0,a=t.length;r!==a;++r){var o=t[r],s=n[o.id];!1!==s.needsUpdate&&o.setValue(e,s.value,i)}},Gi.seqWithValue=function(e,t){for(var n=[],i=0,r=e.length;i!==r;++i){var a=e[i];a.id in t&&n.push(a)}return n};var Bi=0;function zi(e){switch(e){case 3e3:return["Linear","( value )"];case R:return["sRGB","( value )"];case 3002:return["RGBE","( value )"];case 3004:return["RGBM","( value, 7.0 )"];case 3005:return["RGBM","( value, 16.0 )"];case 3006:return["RGBD","( value, 256.0 )"];case 3007:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case 3003:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}function Hi(e,t,n){var i=e.getShaderParameter(t,35713),r=e.getShaderInfoLog(t).trim();return i&&""===r?"":"THREE.WebGLShader: gl.getShaderInfoLog() "+n+"\n"+r+function(e){for(var t=e.split("\n"),n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join("\n")}(e.getShaderSource(t))}function Xi(e,t){var n=zi(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function qi(e,t){var n;switch(t){case 1:n="Linear";break;case 2:n="Reinhard";break;case 3:n="OptimizedCineon";break;case 4:n="ACESFilmic";break;case 5:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Wi(e){return""!==e}function Yi(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function Ki(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var Zi=/^[ \t]*#include +<([\w\d./]+)>/gm;function Ji(e){return e.replace(Zi,Qi)}function Qi(e,t){var n=kn[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return Ji(n)}var $i=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,er=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function tr(e){return e.replace(er,ir).replace($i,nr)}function nr(e,t,n,i){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),ir(0,t,n,i)}function ir(e,t,n,i){for(var r="",a=parseInt(t);a<parseInt(n);a++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return r}function rr(e){var t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function ar(e,t,n,i){var r,a,o,s,l,u=e.getContext(),c=n.defines,h=n.vertexShader,d=n.fragmentShader,f=function(e){var t="SHADOWMAP_TYPE_BASIC";return 1===e.shadowMapType?t="SHADOWMAP_TYPE_PCF":2===e.shadowMapType?t="SHADOWMAP_TYPE_PCF_SOFT":3===e.shadowMapType&&(t="SHADOWMAP_TYPE_VSM"),t}(n),p=function(e){var t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case 301:case 302:t="ENVMAP_TYPE_CUBE";break;case 306:case 307:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),m=function(e){var t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case 302:case 307:t="ENVMAP_MODE_REFRACTION"}return t}(n),v=function(e){var t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case 0:t="ENVMAP_BLENDING_MULTIPLY";break;case 1:t="ENVMAP_BLENDING_MIX";break;case 2:t="ENVMAP_BLENDING_ADD"}return t}(n),g=e.gammaFactor>0?e.gammaFactor:1,y=n.isWebGL2?"":function(e){return[e.extensionDerivatives||e.envMapCubeUV||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Wi).join("\n")}(n),_=function(e){var t=[];for(var n in e){var i=e[n];!1!==i&&t.push("#define "+n+" "+i)}return t.join("\n")}(c),b=u.createProgram(),S=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?((r=[_].filter(Wi).join("\n")).length>0&&(r+="\n"),(a=[y,_].filter(Wi).join("\n")).length>0&&(a+="\n")):(r=[rr(n),"#define SHADER_NAME "+n.shaderName,_,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+g,"#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+m:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+f:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Wi).join("\n"),a=[y,rr(n),"#define SHADER_NAME "+n.shaderName,_,n.alphaTest?"#define ALPHATEST "+n.alphaTest+(n.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+g,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+p:"",n.envMap?"#define "+m:"",n.envMap?"#define "+v:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.sheen?"#define USE_SHEEN":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+f:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(n.extensionShaderTextureLOD||n.envMap)&&n.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==n.toneMapping?"#define TONE_MAPPING":"",0!==n.toneMapping?kn.tonemapping_pars_fragment:"",0!==n.toneMapping?qi("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",kn.encodings_pars_fragment,n.map?Xi("mapTexelToLinear",n.mapEncoding):"",n.matcap?Xi("matcapTexelToLinear",n.matcapEncoding):"",n.envMap?Xi("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMap?Xi("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.lightMap?Xi("lightMapTexelToLinear",n.lightMapEncoding):"",(o="linearToOutputTexel",s=n.outputEncoding,l=zi(s),"vec4 "+o+"( vec4 value ) { return LinearTo"+l[0]+l[1]+"; }"),n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(Wi).join("\n")),h=Ki(h=Yi(h=Ji(h),n),n),d=Ki(d=Yi(d=Ji(d),n),n),h=tr(h),d=tr(d),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(S="#version 300 es\n",r=["#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+r,a=["#define varying in","300 es"===n.glslVersion?"":"out highp vec4 pc_fragColor;","300 es"===n.glslVersion?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+a);var T,w,x=S+a+d,E=Vi(u,35633,S+r+h),C=Vi(u,35632,x);if(u.attachShader(b,E),u.attachShader(b,C),void 0!==n.index0AttributeName?u.bindAttribLocation(b,0,n.index0AttributeName):!0===n.morphTargets&&u.bindAttribLocation(b,0,"position"),u.linkProgram(b),e.debug.checkShaderErrors){var k=u.getProgramInfoLog(b).trim(),M=u.getShaderInfoLog(E).trim(),O=u.getShaderInfoLog(C).trim(),A=!0,R=!0;if(!1===u.getProgramParameter(b,35714)){A=!1;var I=Hi(u,E,"vertex"),L=Hi(u,C,"fragment");console.error("THREE.WebGLProgram: shader error: ",u.getError(),"35715",u.getProgramParameter(b,35715),"gl.getProgramInfoLog",k,I,L)}else""!==k?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",k):""!==M&&""!==O||(R=!1);R&&(this.diagnostics={runnable:A,programLog:k,vertexShader:{log:M,prefix:r},fragmentShader:{log:O,prefix:a}})}return u.deleteShader(E),u.deleteShader(C),this.getUniforms=function(){return void 0===T&&(T=new Gi(u,b)),T},this.getAttributes=function(){return void 0===w&&(w=function(e,t){for(var n={},i=e.getProgramParameter(t,35721),r=0;r<i;r++){var a=e.getActiveAttrib(t,r).name;n[a]=e.getAttribLocation(t,a)}return n}(u,b)),w},this.destroy=function(){i.releaseStatesOfProgram(this),u.deleteProgram(b),this.program=void 0},this.name=n.shaderName,this.id=Bi++,this.cacheKey=t,this.usedTimes=1,this.program=b,this.vertexShader=E,this.fragmentShader=C,this}function or(e,t,n,i,r,a){var o=[],s=i.isWebGL2,u=i.logarithmicDepthBuffer,c=i.floatVertexTextures,h=i.maxVertexUniforms,d=i.vertexTextures,f=i.precision,p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},m=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen","transmissionMap"];function v(e){var t;return e&&e.isTexture?t=e.encoding:e&&e.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),t=e.texture.encoding):t=3e3,t}return{getParameters:function(r,o,m,g,y){var _,b,S=g.fog,T=t.get(r.envMap||(r.isMeshStandardMaterial?g.environment:null)),w=p[r.type],x=y.isSkinnedMesh?function(e){var t=e.skeleton.bones;if(c)return 1024;var n=Math.floor((h-20)/4),i=Math.min(n,t.length);return i<t.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+t.length+" bones. This GPU supports "+i+"."),0):i}(y):0;if(null!==r.precision&&((f=i.getMaxPrecision(r.precision))!==r.precision&&console.warn("THREE.WebGLProgram.getParameters:",r.precision,"not supported, using",f,"instead.")),w){var E=On[w];_=E.vertexShader,b=E.fragmentShader}else _=r.vertexShader,b=r.fragmentShader;var C=e.getRenderTarget();return{isWebGL2:s,shaderID:w,shaderName:r.type,vertexShader:_,fragmentShader:b,defines:r.defines,isRawShaderMaterial:!0===r.isRawShaderMaterial,glslVersion:r.glslVersion,precision:f,instancing:!0===y.isInstancedMesh,instancingColor:!0===y.isInstancedMesh&&null!==y.instanceColor,supportsVertexTextures:d,outputEncoding:null!==C?v(C.texture):e.outputEncoding,map:!!r.map,mapEncoding:v(r.map),matcap:!!r.matcap,matcapEncoding:v(r.matcap),envMap:!!T,envMapMode:T&&T.mapping,envMapEncoding:v(T),envMapCubeUV:!!T&&(306===T.mapping||307===T.mapping),lightMap:!!r.lightMap,lightMapEncoding:v(r.lightMap),aoMap:!!r.aoMap,emissiveMap:!!r.emissiveMap,emissiveMapEncoding:v(r.emissiveMap),bumpMap:!!r.bumpMap,normalMap:!!r.normalMap,objectSpaceNormalMap:1===r.normalMapType,tangentSpaceNormalMap:r.normalMapType===I,clearcoatMap:!!r.clearcoatMap,clearcoatRoughnessMap:!!r.clearcoatRoughnessMap,clearcoatNormalMap:!!r.clearcoatNormalMap,displacementMap:!!r.displacementMap,roughnessMap:!!r.roughnessMap,metalnessMap:!!r.metalnessMap,specularMap:!!r.specularMap,alphaMap:!!r.alphaMap,gradientMap:!!r.gradientMap,sheen:!!r.sheen,transmissionMap:!!r.transmissionMap,combine:r.combine,vertexTangents:r.normalMap&&r.vertexTangents,vertexColors:r.vertexColors,vertexUvs:!!(r.map||r.bumpMap||r.normalMap||r.specularMap||r.alphaMap||r.emissiveMap||r.roughnessMap||r.metalnessMap||r.clearcoatMap||r.clearcoatRoughnessMap||r.clearcoatNormalMap||r.displacementMap||r.transmissionMap),uvsVertexOnly:!(r.map||r.bumpMap||r.normalMap||r.specularMap||r.alphaMap||r.emissiveMap||r.roughnessMap||r.metalnessMap||r.clearcoatNormalMap||r.transmissionMap||!r.displacementMap),fog:!!S,useFog:r.fog,fogExp2:S&&S.isFogExp2,flatShading:r.flatShading,sizeAttenuation:r.sizeAttenuation,logarithmicDepthBuffer:u,skinning:r.skinning&&x>0,maxBones:x,useVertexTexture:c,morphTargets:r.morphTargets,morphNormals:r.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:o.directional.length,numPointLights:o.point.length,numSpotLights:o.spot.length,numRectAreaLights:o.rectArea.length,numHemiLights:o.hemi.length,numDirLightShadows:o.directionalShadowMap.length,numPointLightShadows:o.pointShadowMap.length,numSpotLightShadows:o.spotShadowMap.length,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:r.dithering,shadowMapEnabled:e.shadowMap.enabled&&m.length>0,shadowMapType:e.shadowMap.type,toneMapping:r.toneMapped?e.toneMapping:0,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:r.premultipliedAlpha,alphaTest:r.alphaTest,doubleSided:r.side===l,flipSided:1===r.side,depthPacking:void 0!==r.depthPacking&&r.depthPacking,index0AttributeName:r.index0AttributeName,extensionDerivatives:r.extensions&&r.extensions.derivatives,extensionFragDepth:r.extensions&&r.extensions.fragDepth,extensionDrawBuffers:r.extensions&&r.extensions.drawBuffers,extensionShaderTextureLOD:r.extensions&&r.extensions.shaderTextureLOD,rendererExtensionFragDepth:s||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:s||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:s||n.has("EXT_shader_texture_lod"),customProgramCacheKey:r.customProgramCacheKey()}},getProgramCacheKey:function(t){var n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.fragmentShader),n.push(t.vertexShader)),void 0!==t.defines)for(var i in t.defines)n.push(i),n.push(t.defines[i]);if(!1===t.isRawShaderMaterial){for(var r=0;r<m.length;r++)n.push(t[m[r]]);n.push(e.outputEncoding),n.push(e.gammaFactor)}return n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){var t=p[e.type];return t?fn.clone(On[t].uniforms):e.uniforms},acquireProgram:function(t,n){for(var i,a=0,s=o.length;a<s;a++){var l=o[a];if(l.cacheKey===n){++(i=l).usedTimes;break}}return void 0===i&&(i=new ar(e,n,t,r),o.push(i)),i},releaseProgram:function(e){if(0==--e.usedTimes){var t=o.indexOf(e);o[t]=o[o.length-1],o.pop(),e.destroy()}},programs:o}}function sr(){var e=new WeakMap;return{get:function(t){var n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,i){e.get(t)[n]=i},dispose:function(){e=new WeakMap}}}function lr(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function ur(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function cr(e){var t=[],n=0,i=[],r=[],a={id:-1};function o(i,r,o,s,l,u){var c=t[n],h=e.get(o);return void 0===c?(c={id:i.id,object:i,geometry:r,material:o,program:h.program||a,groupOrder:s,renderOrder:i.renderOrder,z:l,group:u},t[n]=c):(c.id=i.id,c.object=i,c.geometry=r,c.material=o,c.program=h.program||a,c.groupOrder=s,c.renderOrder=i.renderOrder,c.z=l,c.group=u),n++,c}return{opaque:i,transparent:r,init:function(){n=0,i.length=0,r.length=0},push:function(e,t,n,a,s,l){var u=o(e,t,n,a,s,l);(!0===n.transparent?r:i).push(u)},unshift:function(e,t,n,a,s,l){var u=o(e,t,n,a,s,l);(!0===n.transparent?r:i).unshift(u)},finish:function(){for(var e=n,i=t.length;e<i;e++){var r=t[e];if(null===r.id)break;r.id=null,r.object=null,r.geometry=null,r.material=null,r.program=null,r.group=null}},sort:function(e,t){i.length>1&&i.sort(e||lr),r.length>1&&r.sort(t||ur)}}}function hr(e){var t=new WeakMap;return{get:function(n,i){var r,a=t.get(n);return void 0===a?(r=new cr(e),t.set(n,new WeakMap),t.get(n).set(i,r)):void 0===(r=a.get(i))&&(r=new cr(e),a.set(i,r)),r},dispose:function(){t=new WeakMap}}}function dr(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new Y,color:new mt};break;case"SpotLight":n={position:new Y,direction:new Y,color:new mt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Y,color:new mt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Y,skyColor:new mt,groundColor:new mt};break;case"RectAreaLight":n={color:new mt,position:new Y,halfWidth:new Y,halfHeight:new Y}}return e[t.id]=n,n}}}var fr=0;function pr(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function mr(e,t){for(var n,i=new dr,r=(n={},{get:function(e){if(void 0!==n[e.id])return n[e.id];var t;switch(e.type){case"DirectionalLight":case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new U};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new U,shadowCameraNear:1,shadowCameraFar:1e3}}return n[e.id]=t,t}}),a={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},o=0;o<9;o++)a.probe.push(new Y);var s=new Y,l=new Te,u=new Te;return{setup:function(n){for(var o=0,s=0,l=0,u=0;u<9;u++)a.probe[u].set(0,0,0);var c=0,h=0,d=0,f=0,p=0,m=0,v=0,g=0;n.sort(pr);for(var y=0,_=n.length;y<_;y++){var b=n[y],S=b.color,T=b.intensity,w=b.distance,x=b.shadow&&b.shadow.map?b.shadow.map.texture:null;if(b.isAmbientLight)o+=S.r*T,s+=S.g*T,l+=S.b*T;else if(b.isLightProbe)for(var E=0;E<9;E++)a.probe[E].addScaledVector(b.sh.coefficients[E],T);else if(b.isDirectionalLight){var C=i.get(b);if(C.color.copy(b.color).multiplyScalar(b.intensity),b.castShadow){var k=b.shadow,M=r.get(b);M.shadowBias=k.bias,M.shadowNormalBias=k.normalBias,M.shadowRadius=k.radius,M.shadowMapSize=k.mapSize,a.directionalShadow[c]=M,a.directionalShadowMap[c]=x,a.directionalShadowMatrix[c]=b.shadow.matrix,m++}a.directional[c]=C,c++}else if(b.isSpotLight){var O=i.get(b);if(O.position.setFromMatrixPosition(b.matrixWorld),O.color.copy(S).multiplyScalar(T),O.distance=w,O.coneCos=Math.cos(b.angle),O.penumbraCos=Math.cos(b.angle*(1-b.penumbra)),O.decay=b.decay,b.castShadow){var A=b.shadow,R=r.get(b);R.shadowBias=A.bias,R.shadowNormalBias=A.normalBias,R.shadowRadius=A.radius,R.shadowMapSize=A.mapSize,a.spotShadow[d]=R,a.spotShadowMap[d]=x,a.spotShadowMatrix[d]=b.shadow.matrix,g++}a.spot[d]=O,d++}else if(b.isRectAreaLight){var I=i.get(b);I.color.copy(S).multiplyScalar(T),I.halfWidth.set(.5*b.width,0,0),I.halfHeight.set(0,.5*b.height,0),a.rectArea[f]=I,f++}else if(b.isPointLight){var L=i.get(b);if(L.color.copy(b.color).multiplyScalar(b.intensity),L.distance=b.distance,L.decay=b.decay,b.castShadow){var P=b.shadow,D=r.get(b);D.shadowBias=P.bias,D.shadowNormalBias=P.normalBias,D.shadowRadius=P.radius,D.shadowMapSize=P.mapSize,D.shadowCameraNear=P.camera.near,D.shadowCameraFar=P.camera.far,a.pointShadow[h]=D,a.pointShadowMap[h]=x,a.pointShadowMatrix[h]=b.shadow.matrix,v++}a.point[h]=L,h++}else if(b.isHemisphereLight){var N=i.get(b);N.skyColor.copy(b.color).multiplyScalar(T),N.groundColor.copy(b.groundColor).multiplyScalar(T),a.hemi[p]=N,p++}}f>0&&(t.isWebGL2||!0===e.has("OES_texture_float_linear")?(a.rectAreaLTC1=Mn.LTC_FLOAT_1,a.rectAreaLTC2=Mn.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")?(a.rectAreaLTC1=Mn.LTC_HALF_1,a.rectAreaLTC2=Mn.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),a.ambient[0]=o,a.ambient[1]=s,a.ambient[2]=l;var j=a.hash;j.directionalLength===c&&j.pointLength===h&&j.spotLength===d&&j.rectAreaLength===f&&j.hemiLength===p&&j.numDirectionalShadows===m&&j.numPointShadows===v&&j.numSpotShadows===g||(a.directional.length=c,a.spot.length=d,a.rectArea.length=f,a.point.length=h,a.hemi.length=p,a.directionalShadow.length=m,a.directionalShadowMap.length=m,a.pointShadow.length=v,a.pointShadowMap.length=v,a.spotShadow.length=g,a.spotShadowMap.length=g,a.directionalShadowMatrix.length=m,a.pointShadowMatrix.length=v,a.spotShadowMatrix.length=g,j.directionalLength=c,j.pointLength=h,j.spotLength=d,j.rectAreaLength=f,j.hemiLength=p,j.numDirectionalShadows=m,j.numPointShadows=v,j.numSpotShadows=g,a.version=fr++)},setupView:function(e,t){for(var n=0,i=0,r=0,o=0,c=0,h=t.matrixWorldInverse,d=0,f=e.length;d<f;d++){var p=e[d];if(p.isDirectionalLight){var m=a.directional[n];m.direction.setFromMatrixPosition(p.matrixWorld),s.setFromMatrixPosition(p.target.matrixWorld),m.direction.sub(s),m.direction.transformDirection(h),n++}else if(p.isSpotLight){var v=a.spot[r];v.position.setFromMatrixPosition(p.matrixWorld),v.position.applyMatrix4(h),v.direction.setFromMatrixPosition(p.matrixWorld),s.setFromMatrixPosition(p.target.matrixWorld),v.direction.sub(s),v.direction.transformDirection(h),r++}else if(p.isRectAreaLight){var g=a.rectArea[o];g.position.setFromMatrixPosition(p.matrixWorld),g.position.applyMatrix4(h),u.identity(),l.copy(p.matrixWorld),l.premultiply(h),u.extractRotation(l),g.halfWidth.set(.5*p.width,0,0),g.halfHeight.set(0,.5*p.height,0),g.halfWidth.applyMatrix4(u),g.halfHeight.applyMatrix4(u),o++}else if(p.isPointLight){var y=a.point[i];y.position.setFromMatrixPosition(p.matrixWorld),y.position.applyMatrix4(h),i++}else if(p.isHemisphereLight){var _=a.hemi[c];_.direction.setFromMatrixPosition(p.matrixWorld),_.direction.transformDirection(h),_.direction.normalize(),c++}}},state:a}}function vr(e,t){var n=new mr(e,t),i=[],r=[];return{init:function(){i.length=0,r.length=0},state:{lightsArray:i,shadowsArray:r,lights:n},setupLights:function(){n.setup(i)},setupLightsView:function(e){n.setupView(i,e)},pushLight:function(e){i.push(e)},pushShadow:function(e){r.push(e)}}}function gr(e,t){var n=new WeakMap;return{get:function(i){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return!1===n.has(i)?(r=new vr(e,t),n.set(i,[]),n.get(i).push(r)):a>=n.get(i).length?(r=new vr(e,t),n.get(i).push(r)):r=n.get(i)[a],r},dispose:function(){n=new WeakMap}}}function yr(e){yt.call(this),this.type="MeshDepthMaterial",this.depthPacking=3200,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}function _r(e){yt.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new Y,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}function br(e,t,n){var i=new wn,r=new U,o=new U,s=new X,u=[],c=[],h={},d={0:1,1:a,2:l},p=new pn({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new U},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );\n\tfor ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean * HALF_SAMPLE_RATE;\n\tsquared_mean = squared_mean * HALF_SAMPLE_RATE;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),m=p.clone();m.defines.HORIZONTAL_PASS=1;var v=new zt;v.setAttribute("position",new Tt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var y=new ln(v,p),_=this;function b(n,i){var r=t.update(y);p.uniforms.shadow_pass.value=n.map.texture,p.uniforms.resolution.value=n.mapSize,p.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(i,null,r,p,y,null),m.uniforms.shadow_pass.value=n.mapPass.texture,m.uniforms.resolution.value=n.mapSize,m.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(i,null,r,m,y,null)}function S(e,t,n){var i=e<<0|t<<1|n<<2,r=u[i];return void 0===r&&(r=new yr({depthPacking:3201,morphTargets:e,skinning:t}),u[i]=r),r}function T(e,t,n){var i=e<<0|t<<1|n<<2,r=c[i];return void 0===r&&(r=new _r({morphTargets:e,skinning:t}),c[i]=r),r}function w(t,n,i,r,a,o,s){var l=null,u=S,c=t.customDepthMaterial;if(!0===r.isPointLight&&(u=T,c=t.customDistanceMaterial),void 0===c){var f=!1;!0===i.morphTargets&&(f=n.morphAttributes&&n.morphAttributes.position&&n.morphAttributes.position.length>0);var p=!1;!0===t.isSkinnedMesh&&(!0===i.skinning?p=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",t)),l=u(f,p,!0===t.isInstancedMesh)}else l=c;if(e.localClippingEnabled&&!0===i.clipShadows&&0!==i.clippingPlanes.length){var m=l.uuid,v=i.uuid,g=h[m];void 0===g&&(g={},h[m]=g);var y=g[v];void 0===y&&(y=l.clone(),g[v]=y),l=y}return l.visible=i.visible,l.wireframe=i.wireframe,l.side=3===s?null!==i.shadowSide?i.shadowSide:i.side:null!==i.shadowSide?i.shadowSide:d[i.side],l.clipShadows=i.clipShadows,l.clippingPlanes=i.clippingPlanes,l.clipIntersection=i.clipIntersection,l.wireframeLinewidth=i.wireframeLinewidth,l.linewidth=i.linewidth,!0===r.isPointLight&&!0===l.isMeshDistanceMaterial&&(l.referencePosition.setFromMatrixPosition(r.matrixWorld),l.nearDistance=a,l.farDistance=o),l}function x(n,r,a,o,s){if(!1!==n.visible){if(n.layers.test(r.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&3===s)&&(!n.frustumCulled||i.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);var l=t.update(n),u=n.material;if(Array.isArray(u))for(var c=l.groups,h=0,d=c.length;h<d;h++){var f=c[h],p=u[f.materialIndex];if(p&&p.visible){var m=w(n,l,p,o,a.near,a.far,s);e.renderBufferDirect(a,null,l,m,n,f)}}else if(u.visible){var v=w(n,l,u,o,a.near,a.far,s);e.renderBufferDirect(a,null,l,v,n,null)}}for(var g=n.children,y=0,_=g.length;y<_;y++)x(g[y],r,a,o,s)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(t,a,l){if(!1!==_.enabled&&(!1!==_.autoUpdate||!1!==_.needsUpdate)&&0!==t.length){var u=e.getRenderTarget(),c=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),d=e.state;d.setBlending(0),d.buffers.color.setClear(1,1,1,1),d.buffers.depth.setTest(!0),d.setScissorTest(!1);for(var p=0,m=t.length;p<m;p++){var v=t[p],y=v.shadow;if(void 0!==y){if(!1!==y.autoUpdate||!1!==y.needsUpdate){r.copy(y.mapSize);var S=y.getFrameExtents();if(r.multiply(S),o.copy(y.mapSize),(r.x>n||r.y>n)&&(r.x>n&&(o.x=Math.floor(n/S.x),r.x=o.x*S.x,y.mapSize.x=o.x),r.y>n&&(o.y=Math.floor(n/S.y),r.y=o.y*S.y,y.mapSize.y=o.y)),null===y.map&&!y.isPointLightShadow&&3===this.type){var T={minFilter:g,magFilter:g,format:1023};y.map=new q(r.x,r.y,T),y.map.texture.name=v.name+".shadowMap",y.mapPass=new q(r.x,r.y,T),y.camera.updateProjectionMatrix()}null===y.map&&(y.map=new q(r.x,r.y,{minFilter:f,magFilter:f,format:1023}),y.map.texture.name=v.name+".shadowMap",y.camera.updateProjectionMatrix()),e.setRenderTarget(y.map),e.clear();for(var w=y.getViewportCount(),E=0;E<w;E++){var C=y.getViewport(E);s.set(o.x*C.x,o.y*C.y,o.x*C.z,o.y*C.w),d.viewport(s),y.updateMatrices(v,E),i=y.getFrustum(),x(a,l,y.camera,v,this.type)}y.isPointLightShadow||3!==this.type||b(y,l),y.needsUpdate=!1}}else console.warn("THREE.WebGLShadowMap:",v,"has no shadow.")}_.needsUpdate=!1,e.setRenderTarget(u,c,h)}}}function Sr(e,t,n){var i=n.isWebGL2,r=new function(){var t=!1,n=new X,i=null,r=new X(0,0,0,0);return{setMask:function(n){i===n||t||(e.colorMask(n,n,n,n),i=n)},setLocked:function(e){t=e},setClear:function(t,i,a,o,s){!0===s&&(t*=o,i*=o,a*=o),n.set(t,i,a,o),!1===r.equals(n)&&(e.clearColor(t,i,a,o),r.copy(n))},reset:function(){t=!1,i=null,r.set(-1,0,0,0)}}},a=new function(){var t=!1,n=null,i=null,r=null;return{setTest:function(e){e?P(2929):D(2929)},setMask:function(i){n===i||t||(e.depthMask(i),n=i)},setFunc:function(t){if(i!==t){if(t)switch(t){case 0:e.depthFunc(512);break;case 1:e.depthFunc(519);break;case 2:e.depthFunc(513);break;case 3:e.depthFunc(515);break;case 4:e.depthFunc(514);break;case 5:e.depthFunc(518);break;case 6:e.depthFunc(516);break;case 7:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);i=t}},setLocked:function(e){t=e},setClear:function(t){r!==t&&(e.clearDepth(t),r=t)},reset:function(){t=!1,n=null,i=null,r=null}}},o=new function(){var t=!1,n=null,i=null,r=null,a=null,o=null,s=null,l=null,u=null;return{setTest:function(e){t||(e?P(2960):D(2960))},setMask:function(i){n===i||t||(e.stencilMask(i),n=i)},setFunc:function(t,n,o){i===t&&r===n&&a===o||(e.stencilFunc(t,n,o),i=t,r=n,a=o)},setOp:function(t,n,i){o===t&&s===n&&l===i||(e.stencilOp(t,n,i),o=t,s=n,l=i)},setLocked:function(e){t=e},setClear:function(t){u!==t&&(e.clearStencil(t),u=t)},reset:function(){t=!1,n=null,i=null,r=null,a=null,o=null,s=null,l=null,u=null}}},s={},u=null,c=null,h=null,d=null,f=null,p=null,m=null,v=null,g=null,y=!1,_=null,b=null,S=null,T=null,w=null,x=e.getParameter(35661),E=!1,C=0,k=e.getParameter(7938);-1!==k.indexOf("WebGL")?(C=parseFloat(/^WebGL (\d)/.exec(k)[1]),E=C>=1):-1!==k.indexOf("OpenGL ES")&&(C=parseFloat(/^OpenGL ES (\d)/.exec(k)[1]),E=C>=2);var M=null,O={},A=new X,R=new X;function I(t,n,i){var r=new Uint8Array(4),a=e.createTexture();e.bindTexture(t,a),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(var o=0;o<i;o++)e.texImage2D(n+o,0,6408,1,1,0,6408,5121,r);return a}var L={};function P(t){!0!==s[t]&&(e.enable(t),s[t]=!0)}function D(t){!1!==s[t]&&(e.disable(t),s[t]=!1)}L[3553]=I(3553,3553,1),L[34067]=I(34067,34069,6),r.setClear(0,0,0,1),a.setClear(1),o.setClear(0),P(2929),a.setFunc(3),G(!1),V(1),P(2884),U(0);var N={100:32774,101:32778,102:32779};if(i)N[103]=32775,N[104]=32776;else{var j=t.get("EXT_blend_minmax");null!==j&&(N[103]=j.MIN_EXT,N[104]=j.MAX_EXT)}var F={200:0,201:1,202:768,204:770,210:776,208:774,206:772,203:769,205:771,209:775,207:773};function U(t,n,i,r,a,o,s,l){if(0!==t){if(c||(P(3042),c=!0),5===t)a=a||n,o=o||i,s=s||r,n===d&&a===m||(e.blendEquationSeparate(N[n],N[a]),d=n,m=a),i===f&&r===p&&o===v&&s===g||(e.blendFuncSeparate(F[i],F[r],F[o],F[s]),f=i,p=r,v=o,g=s),h=t,y=null;else if(t!==h||l!==y){if(100===d&&100===m||(e.blendEquation(32774),d=100,m=100),l)switch(t){case 1:e.blendFuncSeparate(1,771,1,771);break;case 2:e.blendFunc(1,1);break;case 3:e.blendFuncSeparate(0,0,769,771);break;case 4:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case 1:e.blendFuncSeparate(770,771,1,771);break;case 2:e.blendFunc(770,1);break;case 3:e.blendFunc(0,769);break;case 4:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}f=null,p=null,v=null,g=null,h=t,y=l}}else c&&(D(3042),c=!1)}function G(t){_!==t&&(e.frontFace(t?2304:2305),_=t)}function V(t){0!==t?(P(2884),t!==b&&e.cullFace(1===t?1029:2===t?1028:1032)):D(2884),b=t}function B(t,n,i){t?(P(32823),T===n&&w===i||(e.polygonOffset(n,i),T=n,w=i)):D(32823)}function z(t){void 0===t&&(t=33984+x-1),M!==t&&(e.activeTexture(t),M=t)}return{buffers:{color:r,depth:a,stencil:o},enable:P,disable:D,useProgram:function(t){return u!==t&&(e.useProgram(t),u=t,!0)},setBlending:U,setMaterial:function(e,t){e.side===l?D(2884):P(2884);var n=1===e.side;t&&(n=!n),G(n),1===e.blending&&!1===e.transparent?U(0):U(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),a.setFunc(e.depthFunc),a.setTest(e.depthTest),a.setMask(e.depthWrite),r.setMask(e.colorWrite);var i=e.stencilWrite;o.setTest(i),i&&(o.setMask(e.stencilWriteMask),o.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),o.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),B(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)},setFlipSided:G,setCullFace:V,setLineWidth:function(t){t!==S&&(E&&e.lineWidth(t),S=t)},setPolygonOffset:B,setScissorTest:function(e){e?P(3089):D(3089)},activeTexture:z,bindTexture:function(t,n){null===M&&z();var i=O[M];void 0===i&&(i={type:void 0,texture:void 0},O[M]=i),i.type===t&&i.texture===n||(e.bindTexture(t,n||L[t]),i.type=t,i.texture=n)},unbindTexture:function(){var t=O[M];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(t){!1===A.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),A.copy(t))},viewport:function(t){!1===R.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),R.copy(t))},reset:function(){s={},M=null,O={},u=null,c=null,h=null,d=null,f=null,p=null,m=null,v=null,g=null,y=!1,_=null,b=null,S=null,T=null,w=null,r.reset(),a.reset(),o.reset()}}}function Tr(e,t,n,i,r,a,o){var l,h,v,y=r.isWebGL2,_=r.maxTextures,b=r.maxCubemapSize,T=r.maxTextureSize,x=r.maxSamples,C=new WeakMap,k=!1;try{k="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(J){}function M(e,t){return k?new OffscreenCanvas(e,t):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function O(e,t,n,i){var r=1;if((e.width>i||e.height>i)&&(r=i/Math.max(e.width,e.height)),r<1||!0===t){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){var a=t?F.floorPowerOfTwo:Math.floor,o=a(r*e.width),s=a(r*e.height);void 0===v&&(v=M(o,s));var l=n?M(o,s):v;return l.width=o,l.height=s,l.getContext("2d").drawImage(e,0,0,o,s),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+o+"x"+s+")."),l}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function A(e){return F.isPowerOfTwo(e.width)&&F.isPowerOfTwo(e.height)}function R(e,t){return e.generateMipmaps&&t&&e.minFilter!==f&&e.minFilter!==g}function I(t,n,r,a){e.generateMipmap(t),i.get(n).__maxMipLevel=Math.log(Math.max(r,a))*Math.LOG2E}function L(n,i,r){if(!1===y)return i;if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}var a=i;return 6403===i&&(5126===r&&(a=33326),5131===r&&(a=33325),5121===r&&(a=33321)),6407===i&&(5126===r&&(a=34837),5131===r&&(a=34843),5121===r&&(a=32849)),6408===i&&(5126===r&&(a=34836),5131===r&&(a=34842),5121===r&&(a=32856)),33325!==a&&33326!==a&&34842!==a&&34836!==a||t.get("EXT_color_buffer_float"),a}function P(e){return e===f||e===p||e===m?9728:9729}function D(t){var n=t.target;n.removeEventListener("dispose",D),function(t){var n=i.get(t);void 0!==n.__webglInit&&(e.deleteTexture(n.__webglTexture),i.remove(t))}(n),n.isVideoTexture&&C.delete(n),o.memory.textures--}function N(t){var n=t.target;n.removeEventListener("dispose",N),function(t){var n=i.get(t),r=i.get(t.texture);if(t){if(void 0!==r.__webglTexture&&e.deleteTexture(r.__webglTexture),t.depthTexture&&t.depthTexture.dispose(),t.isWebGLCubeRenderTarget)for(var a=0;a<6;a++)e.deleteFramebuffer(n.__webglFramebuffer[a]),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[a]);else e.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer),n.__webglMultisampledFramebuffer&&e.deleteFramebuffer(n.__webglMultisampledFramebuffer),n.__webglColorRenderbuffer&&e.deleteRenderbuffer(n.__webglColorRenderbuffer),n.__webglDepthRenderbuffer&&e.deleteRenderbuffer(n.__webglDepthRenderbuffer);i.remove(t.texture),i.remove(t)}}(n),o.memory.textures--}var j=0;function U(e,t){var r=i.get(e);if(e.isVideoTexture&&function(e){var t=o.render.frame;C.get(e)!==t&&(C.set(e,t),e.update())}(e),e.version>0&&r.__version!==e.version){var a=e.image;if(void 0===a)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==a.complete)return void X(r,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(33984+t),n.bindTexture(3553,r.__webglTexture)}function G(t,r){var o=i.get(t);t.version>0&&o.__version!==t.version?function(t,i,r){if(6===i.image.length){H(t,i),n.activeTexture(33984+r),n.bindTexture(34067,t.__webglTexture),e.pixelStorei(37440,i.flipY),e.pixelStorei(37441,i.premultiplyAlpha),e.pixelStorei(3317,i.unpackAlignment);for(var o=i&&(i.isCompressedTexture||i.image[0].isCompressedTexture),s=i.image[0]&&i.image[0].isDataTexture,l=[],u=0;u<6;u++)l[u]=o||s?s?i.image[u].image:i.image[u]:O(i.image[u],!1,!0,b);var c,h=l[0],d=A(h)||y,f=a.convert(i.format),p=a.convert(i.type),m=L(i.internalFormat,f,p);if(z(34067,i,d),o){for(var v=0;v<6;v++){c=l[v].mipmaps;for(var g=0;g<c.length;g++){var _=c[g];1023!==i.format&&i.format!==E?null!==f?n.compressedTexImage2D(34069+v,g,m,_.width,_.height,0,_.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+v,g,m,_.width,_.height,0,f,p,_.data)}}t.__maxMipLevel=c.length-1}else{c=i.mipmaps;for(var S=0;S<6;S++)if(s){n.texImage2D(34069+S,0,m,l[S].width,l[S].height,0,f,p,l[S].data);for(var T=0;T<c.length;T++){var w=c[T].image[S].image;n.texImage2D(34069+S,T+1,m,w.width,w.height,0,f,p,w.data)}}else{n.texImage2D(34069+S,0,m,f,p,l[S]);for(var x=0;x<c.length;x++)n.texImage2D(34069+S,x+1,m,f,p,c[x].image[S])}t.__maxMipLevel=c.length}R(i,d)&&I(34067,i,h.width,h.height),t.__version=i.version,i.onUpdate&&i.onUpdate(i)}}(o,t,r):(n.activeTexture(33984+r),n.bindTexture(34067,o.__webglTexture))}var V=(s(l={},u,10497),s(l,c,33071),s(l,d,33648),l),B=(s(h={},f,9728),s(h,p,9984),s(h,m,9986),s(h,g,9729),s(h,S,9985),s(h,w,9987),h);function z(n,a,o){o?(e.texParameteri(n,10242,V[a.wrapS]),e.texParameteri(n,10243,V[a.wrapT]),32879!==n&&35866!==n||e.texParameteri(n,32882,V[a.wrapR]),e.texParameteri(n,10240,B[a.magFilter]),e.texParameteri(n,10241,B[a.minFilter])):(e.texParameteri(n,10242,33071),e.texParameteri(n,10243,33071),32879!==n&&35866!==n||e.texParameteri(n,32882,33071),a.wrapS===c&&a.wrapT===c||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,10240,P(a.magFilter)),e.texParameteri(n,10241,P(a.minFilter)),a.minFilter!==f&&a.minFilter!==g&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));var s=t.get("EXT_texture_filter_anisotropic");if(s){if(1015===a.type&&null===t.get("OES_texture_float_linear"))return;if(1016===a.type&&null===(y||t.get("OES_texture_half_float_linear")))return;(a.anisotropy>1||i.get(a).__currentAnisotropy)&&(e.texParameterf(n,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,r.getMaxAnisotropy())),i.get(a).__currentAnisotropy=a.anisotropy)}}function H(t,n){void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",D),t.__webglTexture=e.createTexture(),o.memory.textures++)}function X(t,i,r){var o=3553;i.isDataTexture2DArray&&(o=35866),i.isDataTexture3D&&(o=32879),H(t,i),n.activeTexture(33984+r),n.bindTexture(o,t.__webglTexture),e.pixelStorei(37440,i.flipY),e.pixelStorei(37441,i.premultiplyAlpha),e.pixelStorei(3317,i.unpackAlignment);var s,l=function(e){return!y&&(e.wrapS!==c||e.wrapT!==c||e.minFilter!==f&&e.minFilter!==g)}(i)&&!1===A(i.image),u=O(i.image,l,!1,T),h=A(u)||y,d=a.convert(i.format),p=a.convert(i.type),m=L(i.internalFormat,d,p);z(o,i,h);var v=i.mipmaps;if(i.isDepthTexture)m=6402,y?m=1015===i.type?36012:1014===i.type?33190:1020===i.type?35056:33189:1015===i.type&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),1026===i.format&&6402===m&&1012!==i.type&&1014!==i.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),i.type=1012,p=a.convert(i.type)),1027===i.format&&6402===m&&(m=34041,1020!==i.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),i.type=1020,p=a.convert(i.type))),n.texImage2D(3553,0,m,u.width,u.height,0,d,p,null);else if(i.isDataTexture)if(v.length>0&&h){for(var _=0,b=v.length;_<b;_++)s=v[_],n.texImage2D(3553,_,m,s.width,s.height,0,d,p,s.data);i.generateMipmaps=!1,t.__maxMipLevel=v.length-1}else n.texImage2D(3553,0,m,u.width,u.height,0,d,p,u.data),t.__maxMipLevel=0;else if(i.isCompressedTexture){for(var S=0,w=v.length;S<w;S++)s=v[S],1023!==i.format&&i.format!==E?null!==d?n.compressedTexImage2D(3553,S,m,s.width,s.height,0,s.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,S,m,s.width,s.height,0,d,p,s.data);t.__maxMipLevel=v.length-1}else if(i.isDataTexture2DArray)n.texImage3D(35866,0,m,u.width,u.height,u.depth,0,d,p,u.data),t.__maxMipLevel=0;else if(i.isDataTexture3D)n.texImage3D(32879,0,m,u.width,u.height,u.depth,0,d,p,u.data),t.__maxMipLevel=0;else if(v.length>0&&h){for(var x=0,C=v.length;x<C;x++)s=v[x],n.texImage2D(3553,x,m,d,p,s);i.generateMipmaps=!1,t.__maxMipLevel=v.length-1}else n.texImage2D(3553,0,m,d,p,u),t.__maxMipLevel=0;R(i,h)&&I(o,i,u.width,u.height),t.__version=i.version,i.onUpdate&&i.onUpdate(i)}function q(t,r,o,s){var l=a.convert(r.texture.format),u=a.convert(r.texture.type),c=L(r.texture.internalFormat,l,u);n.texImage2D(s,0,c,r.width,r.height,0,l,u,null),e.bindFramebuffer(36160,t),e.framebufferTexture2D(36160,o,s,i.get(r.texture).__webglTexture,0),e.bindFramebuffer(36160,null)}function W(t,n,i){if(e.bindRenderbuffer(36161,t),n.depthBuffer&&!n.stencilBuffer){var r=33189;if(i){var o=n.depthTexture;o&&o.isDepthTexture&&(1015===o.type?r=36012:1014===o.type&&(r=33190));var s=Y(n);e.renderbufferStorageMultisample(36161,s,r,n.width,n.height)}else e.renderbufferStorage(36161,r,n.width,n.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(n.depthBuffer&&n.stencilBuffer){if(i){var l=Y(n);e.renderbufferStorageMultisample(36161,l,35056,n.width,n.height)}else e.renderbufferStorage(36161,34041,n.width,n.height);e.framebufferRenderbuffer(36160,33306,36161,t)}else{var u=a.convert(n.texture.format),c=a.convert(n.texture.type),h=L(n.texture.internalFormat,u,c);if(i){var d=Y(n);e.renderbufferStorageMultisample(36161,d,h,n.width,n.height)}else e.renderbufferStorage(36161,h,n.width,n.height)}e.bindRenderbuffer(36161,null)}function Y(e){return y&&e.isWebGLMultisampleRenderTarget?Math.min(x,e.samples):0}var K=!1,Z=!1;this.allocateTextureUnit=function(){var e=j;return e>=_&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+_),j+=1,e},this.resetTextureUnits=function(){j=0},this.setTexture2D=U,this.setTexture2DArray=function(e,t){var r=i.get(e);e.version>0&&r.__version!==e.version?X(r,e,t):(n.activeTexture(33984+t),n.bindTexture(35866,r.__webglTexture))},this.setTexture3D=function(e,t){var r=i.get(e);e.version>0&&r.__version!==e.version?X(r,e,t):(n.activeTexture(33984+t),n.bindTexture(32879,r.__webglTexture))},this.setTextureCube=G,this.setupRenderTarget=function(t){var r=i.get(t),s=i.get(t.texture);t.addEventListener("dispose",N),s.__webglTexture=e.createTexture(),o.memory.textures++;var l=!0===t.isWebGLCubeRenderTarget,u=!0===t.isWebGLMultisampleRenderTarget,c=A(t)||y;if(!y||t.texture.format!==E||1015!==t.texture.type&&1016!==t.texture.type||(t.texture.format=1023,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),l){r.__webglFramebuffer=[];for(var h=0;h<6;h++)r.__webglFramebuffer[h]=e.createFramebuffer()}else if(r.__webglFramebuffer=e.createFramebuffer(),u)if(y){r.__webglMultisampledFramebuffer=e.createFramebuffer(),r.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,r.__webglColorRenderbuffer);var d=a.convert(t.texture.format),f=a.convert(t.texture.type),p=L(t.texture.internalFormat,d,f),m=Y(t);e.renderbufferStorageMultisample(36161,m,p,t.width,t.height),e.bindFramebuffer(36160,r.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,r.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),t.depthBuffer&&(r.__webglDepthRenderbuffer=e.createRenderbuffer(),W(r.__webglDepthRenderbuffer,t,!0)),e.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(l){n.bindTexture(34067,s.__webglTexture),z(34067,t.texture,c);for(var v=0;v<6;v++)q(r.__webglFramebuffer[v],t,36064,34069+v);R(t.texture,c)&&I(34067,t.texture,t.width,t.height),n.bindTexture(34067,null)}else n.bindTexture(3553,s.__webglTexture),z(3553,t.texture,c),q(r.__webglFramebuffer,t,36064,3553),R(t.texture,c)&&I(3553,t.texture,t.width,t.height),n.bindTexture(3553,null);t.depthBuffer&&function(t){var n=i.get(t),r=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture){if(r)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,n){if(n&&n.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(36160,t),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");i.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),U(n.depthTexture,0);var r=i.get(n.depthTexture).__webglTexture;if(1026===n.depthTexture.format)e.framebufferTexture2D(36160,36096,3553,r,0);else{if(1027!==n.depthTexture.format)throw new Error("Unknown depthTexture format");e.framebufferTexture2D(36160,33306,3553,r,0)}}(n.__webglFramebuffer,t)}else if(r){n.__webglDepthbuffer=[];for(var a=0;a<6;a++)e.bindFramebuffer(36160,n.__webglFramebuffer[a]),n.__webglDepthbuffer[a]=e.createRenderbuffer(),W(n.__webglDepthbuffer[a],t,!1)}else e.bindFramebuffer(36160,n.__webglFramebuffer),n.__webglDepthbuffer=e.createRenderbuffer(),W(n.__webglDepthbuffer,t,!1);e.bindFramebuffer(36160,null)}(t)},this.updateRenderTargetMipmap=function(e){var t=e.texture;if(R(t,A(e)||y)){var r=e.isWebGLCubeRenderTarget?34067:3553,a=i.get(t).__webglTexture;n.bindTexture(r,a),I(r,t,e.width,e.height),n.bindTexture(r,null)}},this.updateMultisampleRenderTarget=function(t){if(t.isWebGLMultisampleRenderTarget)if(y){var n=i.get(t);e.bindFramebuffer(36008,n.__webglMultisampledFramebuffer),e.bindFramebuffer(36009,n.__webglFramebuffer);var r=t.width,a=t.height,o=16384;t.depthBuffer&&(o|=256),t.stencilBuffer&&(o|=1024),e.blitFramebuffer(0,0,r,a,0,0,r,a,o,9728),e.bindFramebuffer(36160,n.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(e,t){e&&e.isWebGLRenderTarget&&(!1===K&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),K=!0),e=e.texture),U(e,t)},this.safeSetTextureCube=function(e,t){e&&e.isWebGLCubeRenderTarget&&(!1===Z&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),Z=!0),e=e.texture),G(e,t)}}function wr(e,t,n){var i=n.isWebGL2;return{convert:function(e){var n;if(1009===e)return 5121;if(1017===e)return 32819;if(1018===e)return 32820;if(1019===e)return 33635;if(1010===e)return 5120;if(1011===e)return 5122;if(1012===e)return 5123;if(1013===e)return 5124;if(1014===e)return 5125;if(1015===e)return 5126;if(1016===e)return i?5131:null!==(n=t.get("OES_texture_half_float"))?n.HALF_FLOAT_OES:null;if(1021===e)return 6406;if(e===E)return 6407;if(1023===e)return 6408;if(1024===e)return 6409;if(1025===e)return 6410;if(1026===e)return 6402;if(1027===e)return 34041;if(1028===e)return 6403;if(1029===e)return 36244;if(1030===e)return 33319;if(1031===e)return 33320;if(1032===e)return 36248;if(1033===e)return 36249;if(33776===e||33777===e||33778===e||33779===e){if(null===(n=t.get("WEBGL_compressed_texture_s3tc")))return null;if(33776===e)return n.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===e)return n.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===e)return n.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===e)return n.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===e||35841===e||35842===e||35843===e){if(null===(n=t.get("WEBGL_compressed_texture_pvrtc")))return null;if(35840===e)return n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===e)return n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===e)return n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===e)return n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===e)return null!==(n=t.get("WEBGL_compressed_texture_etc1"))?n.COMPRESSED_RGB_ETC1_WEBGL:null;if((37492===e||37496===e)&&null!==(n=t.get("WEBGL_compressed_texture_etc"))){if(37492===e)return n.COMPRESSED_RGB8_ETC2;if(37496===e)return n.COMPRESSED_RGBA8_ETC2_EAC}return 37808===e||37809===e||37810===e||37811===e||37812===e||37813===e||37814===e||37815===e||37816===e||37817===e||37818===e||37819===e||37820===e||37821===e||37840===e||37841===e||37842===e||37843===e||37844===e||37845===e||37846===e||37847===e||37848===e||37849===e||37850===e||37851===e||37852===e||37853===e?null!==(n=t.get("WEBGL_compressed_texture_astc"))?e:null:36492===e?null!==(n=t.get("EXT_texture_compression_bptc"))?e:null:1020===e?i?34042:null!==(n=t.get("WEBGL_depth_texture"))?n.UNSIGNED_INT_24_8_WEBGL:null:void 0}}}function xr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];vn.call(this),this.cameras=e}function Er(){We.call(this),this.type="Group"}function Cr(){this._targetRay=null,this._grip=null,this._hand=null}function kr(e,t){var n=this,i=null,r=1,a=null,s="local-floor",l=null,u=[],c=new Map,h=new vn;h.layers.enable(1),h.viewport=new X;var d=new vn;d.layers.enable(2),d.viewport=new X;var f=[h,d],p=new xr;p.layers.enable(1),p.layers.enable(2);var m=null,v=null;function g(e){var t=c.get(e.inputSource);t&&t.dispatchEvent({type:e.type,data:e.inputSource})}function y(){c.forEach(function(e,t){e.disconnect(t)}),c.clear(),m=null,v=null,e.setFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),x.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function _(e){for(var t=i.inputSources,n=0;n<u.length;n++)c.set(t[n],u[n]);for(var r=0;r<e.removed.length;r++){var a=e.removed[r],o=c.get(a);o&&(o.dispatchEvent({type:"disconnected",data:a}),c.delete(a))}for(var s=0;s<e.added.length;s++){var l=e.added[s],h=c.get(l);h&&h.dispatchEvent({type:"connected",data:l})}}this.enabled=!1,this.isPresenting=!1,this.getController=function(e){var t=u[e];return void 0===t&&(t=new Cr,u[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){var t=u[e];return void 0===t&&(t=new Cr,u[e]=t),t.getGripSpace()},this.getHand=function(e){var t=u[e];return void 0===t&&(t=new Cr,u[e]=t),t.getHandSpace()},this.setFramebufferScaleFactor=function(e){r=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(e){s=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return a},this.getSession=function(){return i},this.setSession=function(){var e=o(regeneratorRuntime.mark(function e(o){var l,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(i=o)){e.next=16;break}if(i.addEventListener("select",g),i.addEventListener("selectstart",g),i.addEventListener("selectend",g),i.addEventListener("squeeze",g),i.addEventListener("squeezestart",g),i.addEventListener("squeezeend",g),i.addEventListener("end",y),i.addEventListener("inputsourceschange",_),l=t.getContextAttributes(),e.t0=!0!==l.xrCompatible,!e.t0){e.next=7;break}return e.next=7,t.makeXRCompatible();case 7:return u=new XRWebGLLayer(i,t,{antialias:l.antialias,alpha:l.alpha,depth:l.depth,stencil:l.stencil,framebufferScaleFactor:r}),i.updateRenderState({baseLayer:u}),e.next=11,i.requestReferenceSpace(s);case 11:a=e.sent,x.setContext(i),x.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"});case 16:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();var b=new Y,S=new Y;function T(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}this.getCamera=function(e){p.near=d.near=h.near=e.near,p.far=d.far=h.far=e.far,m===p.near&&v===p.far||(i.updateRenderState({depthNear:p.near,depthFar:p.far}),m=p.near,v=p.far);var t=e.parent,n=p.cameras;T(p,t);for(var r=0;r<n.length;r++)T(n[r],t);e.matrixWorld.copy(p.matrixWorld),e.matrix.copy(p.matrix),e.matrix.decompose(e.position,e.quaternion,e.scale);for(var a=e.children,o=0,s=a.length;o<s;o++)a[o].updateMatrixWorld(!0);return 2===n.length?function(e,t,n){b.setFromMatrixPosition(t.matrixWorld),S.setFromMatrixPosition(n.matrixWorld);var i=b.distanceTo(S),r=t.projectionMatrix.elements,a=n.projectionMatrix.elements,o=r[14]/(r[10]-1),s=r[14]/(r[10]+1),l=(r[9]+1)/r[5],u=(r[9]-1)/r[5],c=(r[8]-1)/r[0],h=(a[8]+1)/a[0],d=o*c,f=o*h,p=i/(-c+h),m=p*-c;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(m),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();var v=o+p,g=s+p;e.projectionMatrix.makePerspective(d-m,f+(i-m),l*s/g*v,u*s/g*v,v,g)}(p,h,d):p.projectionMatrix.copy(h.projectionMatrix),p};var w=null,x=new xn;x.setAnimationLoop(function(t,n){if(null!==(l=n.getViewerPose(a))){var r=l.views,o=i.renderState.baseLayer;e.setFramebuffer(o.framebuffer);var s=!1;r.length!==p.cameras.length&&(p.cameras.length=0,s=!0);for(var c=0;c<r.length;c++){var h=r[c],d=o.getViewport(h),m=f[c];m.matrix.fromArray(h.transform.matrix),m.projectionMatrix.fromArray(h.projectionMatrix),m.viewport.set(d.x,d.y,d.width,d.height),0===c&&p.matrix.copy(m.matrix),!0===s&&p.cameras.push(m)}}for(var v=i.inputSources,g=0;g<u.length;g++)u[g].update(v[g],n,a);w&&w(t,n)}),this.setAnimationLoop=function(e){w=e},this.dispose=function(){}}function Mr(e){function t(t,n){t.opacity.value=n.opacity,n.color&&t.diffuse.value.copy(n.color),n.emissive&&t.emissive.value.copy(n.emissive).multiplyScalar(n.emissiveIntensity),n.map&&(t.map.value=n.map),n.alphaMap&&(t.alphaMap.value=n.alphaMap),n.specularMap&&(t.specularMap.value=n.specularMap);var i,r,a=e.get(n).envMap;if(a){t.envMap.value=a,t.flipEnvMap.value=a.isCubeTexture&&a._needsFlipEnvMap?-1:1,t.reflectivity.value=n.reflectivity,t.refractionRatio.value=n.refractionRatio;var o=e.get(a).__maxMipLevel;void 0!==o&&(t.maxMipLevel.value=o)}n.lightMap&&(t.lightMap.value=n.lightMap,t.lightMapIntensity.value=n.lightMapIntensity),n.aoMap&&(t.aoMap.value=n.aoMap,t.aoMapIntensity.value=n.aoMapIntensity),n.map?i=n.map:n.specularMap?i=n.specularMap:n.displacementMap?i=n.displacementMap:n.normalMap?i=n.normalMap:n.bumpMap?i=n.bumpMap:n.roughnessMap?i=n.roughnessMap:n.metalnessMap?i=n.metalnessMap:n.alphaMap?i=n.alphaMap:n.emissiveMap?i=n.emissiveMap:n.clearcoatMap?i=n.clearcoatMap:n.clearcoatNormalMap?i=n.clearcoatNormalMap:n.clearcoatRoughnessMap&&(i=n.clearcoatRoughnessMap),void 0!==i&&(i.isWebGLRenderTarget&&(i=i.texture),!0===i.matrixAutoUpdate&&i.updateMatrix(),t.uvTransform.value.copy(i.matrix)),n.aoMap?r=n.aoMap:n.lightMap&&(r=n.lightMap),void 0!==r&&(r.isWebGLRenderTarget&&(r=r.texture),!0===r.matrixAutoUpdate&&r.updateMatrix(),t.uv2Transform.value.copy(r.matrix))}function n(t,n){t.roughness.value=n.roughness,t.metalness.value=n.metalness,n.roughnessMap&&(t.roughnessMap.value=n.roughnessMap),n.metalnessMap&&(t.metalnessMap.value=n.metalnessMap),n.emissiveMap&&(t.emissiveMap.value=n.emissiveMap),n.bumpMap&&(t.bumpMap.value=n.bumpMap,t.bumpScale.value=n.bumpScale,1===n.side&&(t.bumpScale.value*=-1)),n.normalMap&&(t.normalMap.value=n.normalMap,t.normalScale.value.copy(n.normalScale),1===n.side&&t.normalScale.value.negate()),n.displacementMap&&(t.displacementMap.value=n.displacementMap,t.displacementScale.value=n.displacementScale,t.displacementBias.value=n.displacementBias),e.get(n).envMap&&(t.envMapIntensity.value=n.envMapIntensity)}return{refreshFogUniforms:function(e,t){e.fogColor.value.copy(t.color),t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)},refreshMaterialUniforms:function(e,i,r,a){i.isMeshBasicMaterial?t(e,i):i.isMeshLambertMaterial?(t(e,i),function(e,t){t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}(e,i)):i.isMeshToonMaterial?(t(e,i),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,i)):i.isMeshPhongMaterial?(t(e,i),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,i)):i.isMeshStandardMaterial?(t(e,i),i.isMeshPhysicalMaterial?function(e,t){n(e,t),e.reflectivity.value=t.reflectivity,e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.sheen&&e.sheen.value.copy(t.sheen),t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap),t.clearcoatNormalMap&&(e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),e.clearcoatNormalMap.value=t.clearcoatNormalMap,1===t.side&&e.clearcoatNormalScale.value.negate()),e.transmission.value=t.transmission,t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap)}(e,i):n(e,i)):i.isMeshMatcapMaterial?(t(e,i),function(e,t){t.matcap&&(e.matcap.value=t.matcap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,i)):i.isMeshDepthMaterial?(t(e,i),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,i)):i.isMeshDistanceMaterial?(t(e,i),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(e,i)):i.isMeshNormalMaterial?(t(e,i),function(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,i)):i.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity}(e,i),i.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,i)):i.isPointsMaterial?function(e,t,n,i){var r;e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*n,e.scale.value=.5*i,t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.map?r=t.map:t.alphaMap&&(r=t.alphaMap),void 0!==r&&(!0===r.matrixAutoUpdate&&r.updateMatrix(),e.uvTransform.value.copy(r.matrix))}(e,i,r,a):i.isSpriteMaterial?function(e,t){var n;e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.map?n=t.map:t.alphaMap&&(n=t.alphaMap),void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}(e,i):i.isShadowMaterial?(e.color.value.copy(i.color),e.opacity.value=i.opacity):i.isShaderMaterial&&(i.uniformsNeedUpdate=!1)}}}function Or(e){var t,n=void 0!==(e=e||{}).canvas?e.canvas:((t=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")).style.display="block",t),i=void 0!==e.context?e.context:null,r=void 0!==e.alpha&&e.alpha,a=void 0===e.depth||e.depth,o=void 0===e.stencil||e.stencil,s=void 0!==e.antialias&&e.antialias,l=void 0===e.premultipliedAlpha||e.premultipliedAlpha,u=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,c=void 0!==e.powerPreference?e.powerPreference:"default",h=void 0!==e.failIfMajorPerformanceCaveat&&e.failIfMajorPerformanceCaveat,d=null,f=null,p=[];this.domElement=n,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=3e3,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingExposure=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var m=this,v=!1,g=null,y=0,_=0,b=null,S=null,T=-1,w=null,x=new X,E=new X,C=null,k=n.width,M=n.height,O=1,A=null,R=null,I=new X(0,0,k,M),L=new X(0,0,k,M),P=!1,D=new wn,N=!1,j=!1,G=new Te,V=new Y,B={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function z(){return null===b?O:1}var H,q,W,K,Z,J,Q,$,ee,te,ne,ie,re,ae,oe,se,le,ue,ce,he,de,fe=i;function pe(e,t){for(var i=0;i<e.length;i++){var r=n.getContext(e[i],t);if(null!==r)return r}return null}try{var me={alpha:r,depth:a,stencil:o,antialias:s,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:c,failIfMajorPerformanceCaveat:h};if(n.addEventListener("webglcontextlost",be,!1),n.addEventListener("webglcontextrestored",Se,!1),null===fe){var ve=["webgl2","webgl","experimental-webgl"];if(!0===m.isWebGL1Renderer&&ve.shift(),null===(fe=pe(ve,me)))throw pe(ve)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===fe.getShaderPrecisionFormat&&(fe.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Ie){throw console.error("THREE.WebGLRenderer: "+Ie.message),Ie}function ge(){H=new Nn(fe),q=new Ln(fe,H,e),H.init(q),he=new wr(fe,H,q),(W=new Sr(fe,H,q)).scissor(E.copy(L).multiplyScalar(O).floor()),W.viewport(x.copy(I).multiplyScalar(O).floor()),K=new Un(fe),Z=new sr,J=new Tr(fe,H,W,Z,q,he,K),Q=new Dn(m),$=new En(fe,q),de=new Rn(fe,H,$,q),ee=new jn(fe,$,K,de),te=new zn(fe,ee,$,K),le=new Bn(fe),oe=new Pn(Z),ne=new or(m,Q,H,q,de,oe),ie=new Mr(Z),re=new hr(Z),ae=new gr(H,q),se=new An(m,Q,W,te,l),ue=new In(fe,H,K,q),ce=new Fn(fe,H,K,q),K.programs=ne.programs,m.capabilities=q,m.extensions=H,m.properties=Z,m.renderLists=re,m.state=W,m.info=K}ge();var ye=new kr(m,fe);this.xr=ye;var _e=new br(m,te,q.maxTextureSize);function be(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),v=!0}function Se(){console.log("THREE.WebGLRenderer: Context Restored."),v=!1,ge()}function we(e){var t=e.target;t.removeEventListener("dispose",we),function(e){xe(e),Z.remove(e)}(t)}function xe(e){var t=Z.get(e).program;void 0!==t&&ne.releaseProgram(t)}this.shadowMap=_e,this.getContext=function(){return fe},this.getContextAttributes=function(){return fe.getContextAttributes()},this.forceContextLoss=function(){var e=H.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=H.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return O},this.setPixelRatio=function(e){void 0!==e&&(O=e,this.setSize(k,M,!1))},this.getSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),e=new U),e.set(k,M)},this.setSize=function(e,t,i){ye.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(k=e,M=t,n.width=Math.floor(e*O),n.height=Math.floor(t*O),!1!==i&&(n.style.width=e+"px",n.style.height=t+"px"),this.setViewport(0,0,e,t))},this.getDrawingBufferSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),e=new U),e.set(k*O,M*O).floor()},this.setDrawingBufferSize=function(e,t,i){k=e,M=t,O=i,n.width=Math.floor(e*i),n.height=Math.floor(t*i),this.setViewport(0,0,e,t)},this.getCurrentViewport=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),e=new X),e.copy(x)},this.getViewport=function(e){return e.copy(I)},this.setViewport=function(e,t,n,i){e.isVector4?I.set(e.x,e.y,e.z,e.w):I.set(e,t,n,i),W.viewport(x.copy(I).multiplyScalar(O).floor())},this.getScissor=function(e){return e.copy(L)},this.setScissor=function(e,t,n,i){e.isVector4?L.set(e.x,e.y,e.z,e.w):L.set(e,t,n,i),W.scissor(E.copy(L).multiplyScalar(O).floor())},this.getScissorTest=function(){return P},this.setScissorTest=function(e){W.setScissorTest(P=e)},this.setOpaqueSort=function(e){A=e},this.setTransparentSort=function(e){R=e},this.getClearColor=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getClearColor() now requires a Color as an argument"),e=new mt),e.copy(se.getClearColor())},this.setClearColor=function(){se.setClearColor.apply(se,arguments)},this.getClearAlpha=function(){return se.getClearAlpha()},this.setClearAlpha=function(){se.setClearAlpha.apply(se,arguments)},this.clear=function(e,t,n){var i=0;(void 0===e||e)&&(i|=16384),(void 0===t||t)&&(i|=256),(void 0===n||n)&&(i|=1024),fe.clear(i)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",be,!1),n.removeEventListener("webglcontextrestored",Se,!1),re.dispose(),ae.dispose(),Z.dispose(),Q.dispose(),te.dispose(),de.dispose(),ye.dispose(),Ce.stop()},this.renderBufferImmediate=function(e,t){de.initAttributes();var n=Z.get(e);e.hasPositions&&!n.position&&(n.position=fe.createBuffer()),e.hasNormals&&!n.normal&&(n.normal=fe.createBuffer()),e.hasUvs&&!n.uv&&(n.uv=fe.createBuffer()),e.hasColors&&!n.color&&(n.color=fe.createBuffer());var i=t.getAttributes();e.hasPositions&&(fe.bindBuffer(34962,n.position),fe.bufferData(34962,e.positionArray,35048),de.enableAttribute(i.position),fe.vertexAttribPointer(i.position,3,5126,!1,0,0)),e.hasNormals&&(fe.bindBuffer(34962,n.normal),fe.bufferData(34962,e.normalArray,35048),de.enableAttribute(i.normal),fe.vertexAttribPointer(i.normal,3,5126,!1,0,0)),e.hasUvs&&(fe.bindBuffer(34962,n.uv),fe.bufferData(34962,e.uvArray,35048),de.enableAttribute(i.uv),fe.vertexAttribPointer(i.uv,2,5126,!1,0,0)),e.hasColors&&(fe.bindBuffer(34962,n.color),fe.bufferData(34962,e.colorArray,35048),de.enableAttribute(i.color),fe.vertexAttribPointer(i.color,3,5126,!1,0,0)),de.disableUnusedAttributes(),fe.drawArrays(4,0,e.count),e.count=0},this.renderBufferDirect=function(e,t,n,i,r,a){null===t&&(t=B);var o=r.isMesh&&r.matrixWorld.determinant()<0,s=Re(e,t,i,r);W.setMaterial(i,o);var l=n.index,u=n.attributes.position;if(null===l){if(void 0===u||0===u.count)return}else if(0===l.count)return;var c,h=1;!0===i.wireframe&&(l=ee.getWireframeAttribute(n),h=2),(i.morphTargets||i.morphNormals)&&le.update(r,n,i,s),de.setup(r,i,s,n,l);var d=ue;null!==l&&(c=$.get(l),(d=ce).setIndex(c));var f=null!==l?l.count:u.count,p=n.drawRange.start*h,m=n.drawRange.count*h,v=null!==a?a.start*h:0,g=null!==a?a.count*h:1/0,y=Math.max(p,v),_=Math.min(f,p+m,v+g)-1,b=Math.max(0,_-y+1);if(0!==b){if(r.isMesh)!0===i.wireframe?(W.setLineWidth(i.wireframeLinewidth*z()),d.setMode(1)):d.setMode(4);else if(r.isLine){var S=i.linewidth;void 0===S&&(S=1),W.setLineWidth(S*z()),d.setMode(r.isLineSegments?1:r.isLineLoop?2:3)}else r.isPoints?d.setMode(0):r.isSprite&&d.setMode(4);if(r.isInstancedMesh)d.renderInstances(y,b,r.count);else if(n.isInstancedBufferGeometry){var T=Math.min(n.instanceCount,n._maxInstanceCount);d.renderInstances(y,b,T)}else d.render(y,b)}},this.compile=function(e,t){(f=ae.get(e)).init(),e.traverseVisible(function(e){e.isLight&&e.layers.test(t.layers)&&(f.pushLight(e),e.castShadow&&f.pushShadow(e))}),f.setupLights();var n=new WeakMap;e.traverse(function(t){var i=t.material;if(i)if(Array.isArray(i))for(var r=0;r<i.length;r++){var a=i[r];!1===n.has(a)&&(Ae(a,e,t),n.set(a))}else!1===n.has(i)&&(Ae(i,e,t),n.set(i))})};var Ee=null,Ce=new xn;function ke(e,t,n,i){if(!1!==e.visible){if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)f.pushLight(e),e.castShadow&&f.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||D.intersectsSprite(e)){i&&V.setFromMatrixPosition(e.matrixWorld).applyMatrix4(G);var r=te.update(e),a=e.material;a.visible&&d.push(e,r,a,n,V.z,null)}}else if(e.isImmediateRenderObject)i&&V.setFromMatrixPosition(e.matrixWorld).applyMatrix4(G),d.push(e,null,e.material,n,V.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.frame!==K.render.frame&&(e.skeleton.update(),e.skeleton.frame=K.render.frame),!e.frustumCulled||D.intersectsObject(e))){i&&V.setFromMatrixPosition(e.matrixWorld).applyMatrix4(G);var o=te.update(e),s=e.material;if(Array.isArray(s))for(var l=o.groups,u=0,c=l.length;u<c;u++){var h=l[u],p=s[h.materialIndex];p&&p.visible&&d.push(e,o,p,n,V.z,h)}else s.visible&&d.push(e,o,s,n,V.z,null)}for(var m=e.children,v=0,g=m.length;v<g;v++)ke(m[v],t,n,i)}}function Me(e,t,n){for(var i=!0===t.isScene?t.overrideMaterial:null,r=0,a=e.length;r<a;r++){var o=e[r],s=o.object,l=o.geometry,u=null===i?o.material:i,c=o.group;if(n.isArrayCamera)for(var h=n.cameras,d=0,p=h.length;d<p;d++){var m=h[d];s.layers.test(m.layers)&&(W.viewport(x.copy(m.viewport)),f.setupLightsView(m),Oe(s,t,m,l,u,c))}else Oe(s,t,n,l,u,c)}}function Oe(e,t,n,i,r,a){if(e.onBeforeRender(m,t,n,i,r,a),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){var o=Re(n,t,r,e);W.setMaterial(r),de.reset(),function(e,t){e.render(function(e){m.renderBufferImmediate(e,t)})}(e,o)}else m.renderBufferDirect(n,t,i,r,e,a);e.onAfterRender(m,t,n,i,r,a)}function Ae(e,t,n){!0!==t.isScene&&(t=B);var i=Z.get(e),r=f.state.lights,a=r.state.version,o=ne.getParameters(e,r.state,f.state.shadowsArray,t,n),s=ne.getProgramCacheKey(o),l=i.program,u=!0;if(i.environment=e.isMeshStandardMaterial?t.environment:null,i.fog=t.fog,i.envMap=Q.get(e.envMap||i.environment),void 0===l)e.addEventListener("dispose",we);else if(l.cacheKey!==s)xe(e);else if(i.lightsStateVersion!==a)u=!1;else{if(void 0!==o.shaderID)return;u=!1}u&&(o.uniforms=ne.getUniforms(e),e.onBeforeCompile(o,m),l=ne.acquireProgram(o,s),i.program=l,i.uniforms=o.uniforms,i.outputEncoding=o.outputEncoding);var c=i.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(i.numClippingPlanes=oe.numPlanes,i.numIntersection=oe.numIntersection,c.clippingPlanes=oe.uniform),i.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),i.lightsStateVersion=a,i.needsLights&&(c.ambientLightColor.value=r.state.ambient,c.lightProbe.value=r.state.probe,c.directionalLights.value=r.state.directional,c.directionalLightShadows.value=r.state.directionalShadow,c.spotLights.value=r.state.spot,c.spotLightShadows.value=r.state.spotShadow,c.rectAreaLights.value=r.state.rectArea,c.ltc_1.value=r.state.rectAreaLTC1,c.ltc_2.value=r.state.rectAreaLTC2,c.pointLights.value=r.state.point,c.pointLightShadows.value=r.state.pointShadow,c.hemisphereLights.value=r.state.hemi,c.directionalShadowMap.value=r.state.directionalShadowMap,c.directionalShadowMatrix.value=r.state.directionalShadowMatrix,c.spotShadowMap.value=r.state.spotShadowMap,c.spotShadowMatrix.value=r.state.spotShadowMatrix,c.pointShadowMap.value=r.state.pointShadowMap,c.pointShadowMatrix.value=r.state.pointShadowMatrix);var h=i.program.getUniforms(),d=Gi.seqWithValue(h.seq,c);i.uniformsList=d}function Re(e,t,n,i){!0!==t.isScene&&(t=B),J.resetTextureUnits();var r=t.fog,a=n.isMeshStandardMaterial?t.environment:null,o=null===b?m.outputEncoding:b.texture.encoding,s=Q.get(n.envMap||a),l=Z.get(n),u=f.state.lights;!0!==N||!0!==j&&e===w||oe.setState(n,e,e===w&&n.id===T),n.version===l.__version?n.fog&&l.fog!==r||l.environment!==a||l.needsLights&&l.lightsStateVersion!==u.state.version?Ae(n,t,i):void 0===l.numClippingPlanes||l.numClippingPlanes===oe.numPlanes&&l.numIntersection===oe.numIntersection?(l.outputEncoding!==o||l.envMap!==s)&&Ae(n,t,i):Ae(n,t,i):(Ae(n,t,i),l.__version=n.version);var c,h,d=!1,p=!1,v=!1,g=l.program,y=g.getUniforms(),_=l.uniforms;if(W.useProgram(g.program)&&(d=!0,p=!0,v=!0),n.id!==T&&(T=n.id,p=!0),d||w!==e){if(y.setValue(fe,"projectionMatrix",e.projectionMatrix),q.logarithmicDepthBuffer&&y.setValue(fe,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),w!==e&&(w=e,p=!0,v=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshStandardMaterial||n.envMap){var S=y.map.cameraPosition;void 0!==S&&S.setValue(fe,V.setFromMatrixPosition(e.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial)&&y.setValue(fe,"isOrthographic",!0===e.isOrthographicCamera),(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.isShadowMaterial||n.skinning)&&y.setValue(fe,"viewMatrix",e.matrixWorldInverse)}if(n.skinning){y.setOptional(fe,i,"bindMatrix"),y.setOptional(fe,i,"bindMatrixInverse");var x=i.skeleton;if(x){var E=x.bones;if(q.floatVertexTextures){if(null===x.boneTexture){var C=Math.sqrt(4*E.length);C=F.ceilPowerOfTwo(C),C=Math.max(C,4);var k=new Float32Array(C*C*4);k.set(x.boneMatrices);var A=new bn(k,C,C,1023,1015);x.boneMatrices=k,x.boneTexture=A,x.boneTextureSize=C}y.setValue(fe,"boneTexture",x.boneTexture,J),y.setValue(fe,"boneTextureSize",x.boneTextureSize)}else y.setOptional(fe,x,"boneMatrices")}}return(p||l.receiveShadow!==i.receiveShadow)&&(l.receiveShadow=i.receiveShadow,y.setValue(fe,"receiveShadow",i.receiveShadow)),p&&(y.setValue(fe,"toneMappingExposure",m.toneMappingExposure),l.needsLights&&((c=_).ambientLightColor.needsUpdate=h=v,c.lightProbe.needsUpdate=h,c.directionalLights.needsUpdate=h,c.directionalLightShadows.needsUpdate=h,c.pointLights.needsUpdate=h,c.pointLightShadows.needsUpdate=h,c.spotLights.needsUpdate=h,c.spotLightShadows.needsUpdate=h,c.rectAreaLights.needsUpdate=h,c.hemisphereLights.needsUpdate=h),r&&n.fog&&ie.refreshFogUniforms(_,r),ie.refreshMaterialUniforms(_,n,O,M),Gi.upload(fe,l.uniformsList,_,J)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(Gi.upload(fe,l.uniformsList,_,J),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&y.setValue(fe,"center",i.center),y.setValue(fe,"modelViewMatrix",i.modelViewMatrix),y.setValue(fe,"normalMatrix",i.normalMatrix),y.setValue(fe,"modelMatrix",i.matrixWorld),g}Ce.setAnimationLoop(function(e){ye.isPresenting||Ee&&Ee(e)}),"undefined"!=typeof window&&Ce.setContext(window),this.setAnimationLoop=function(e){Ee=e,ye.setAnimationLoop(e),null===e?Ce.stop():Ce.start()},this.render=function(e,t){var n,i;if(void 0!==arguments[2]&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),n=arguments[2]),void 0!==arguments[3]&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),i=arguments[3]),void 0===t||!0===t.isCamera){if(!0!==v){de.resetDefaultState(),T=-1,w=null,!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),!0===ye.enabled&&!0===ye.isPresenting&&(t=ye.getCamera(t)),!0===e.isScene&&e.onBeforeRender(m,e,t,n||b),(f=ae.get(e,p.length)).init(),p.push(f),G.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),D.setFromProjectionMatrix(G),j=this.localClippingEnabled,N=oe.init(this.clippingPlanes,j,t),(d=re.get(e,t)).init(),ke(e,t,0,m.sortObjects),d.finish(),!0===m.sortObjects&&d.sort(A,R),!0===N&&oe.beginShadows();var r=f.state.shadowsArray;_e.render(r,e,t),f.setupLights(),f.setupLightsView(t),!0===N&&oe.endShadows(),!0===this.info.autoReset&&this.info.reset(),void 0!==n&&this.setRenderTarget(n),se.render(d,e,t,i);var a=d.opaque,o=d.transparent;a.length>0&&Me(a,e,t),o.length>0&&Me(o,e,t),!0===e.isScene&&e.onAfterRender(m,e,t),null!==b&&(J.updateRenderTargetMipmap(b),J.updateMultisampleRenderTarget(b)),W.buffers.depth.setTest(!0),W.buffers.depth.setMask(!0),W.buffers.color.setMask(!0),W.setPolygonOffset(!1),p.pop(),f=p.length>0?p[p.length-1]:null,d=null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.setFramebuffer=function(e){g!==e&&null===b&&fe.bindFramebuffer(36160,e),g=e},this.getActiveCubeFace=function(){return y},this.getActiveMipmapLevel=function(){return _},this.getRenderList=function(){return d},this.setRenderList=function(e){d=e},this.getRenderTarget=function(){return b},this.setRenderTarget=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;b=e,y=t,_=n,e&&void 0===Z.get(e).__webglFramebuffer&&J.setupRenderTarget(e);var i=g,r=!1;if(e){var a=Z.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(i=a[t],r=!0):i=e.isWebGLMultisampleRenderTarget?Z.get(e).__webglMultisampledFramebuffer:a,x.copy(e.viewport),E.copy(e.scissor),C=e.scissorTest}else x.copy(I).multiplyScalar(O).floor(),E.copy(L).multiplyScalar(O).floor(),C=P;if(S!==i&&(fe.bindFramebuffer(36160,i),S=i),W.viewport(x),W.scissor(E),W.setScissorTest(C),r){var o=Z.get(e.texture);fe.framebufferTexture2D(36160,36064,34069+t,o.__webglTexture,n)}},this.readRenderTargetPixels=function(e,t,n,i,r,a,o){if(e&&e.isWebGLRenderTarget){var s=Z.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(s=s[o]),s){var l=!1;s!==S&&(fe.bindFramebuffer(36160,s),l=!0);try{var u=e.texture,c=u.format,h=u.type;if(1023!==c&&he.convert(c)!==fe.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");var d=1016===h&&(H.has("EXT_color_buffer_half_float")||q.isWebGL2&&H.has("EXT_color_buffer_float"));if(!(1009===h||he.convert(h)===fe.getParameter(35738)||1015===h&&(q.isWebGL2||H.has("OES_texture_float")||H.has("WEBGL_color_buffer_float"))||d))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===fe.checkFramebufferStatus(36160)?t>=0&&t<=e.width-i&&n>=0&&n<=e.height-r&&fe.readPixels(t,n,i,r,he.convert(c),he.convert(h),a):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{l&&fe.bindFramebuffer(36160,S)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=Math.pow(2,-n),r=Math.floor(t.image.width*i),a=Math.floor(t.image.height*i),o=he.convert(t.format);J.setTexture2D(t,0),fe.copyTexImage2D(3553,n,o,e.x,e.y,r,a,0),W.unbindTexture()},this.copyTextureToTexture=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=t.image.width,a=t.image.height,o=he.convert(n.format),s=he.convert(n.type);J.setTexture2D(n,0),fe.pixelStorei(37440,n.flipY),fe.pixelStorei(37441,n.premultiplyAlpha),fe.pixelStorei(3317,n.unpackAlignment),t.isDataTexture?fe.texSubImage2D(3553,i,e.x,e.y,r,a,o,s,t.image.data):t.isCompressedTexture?fe.compressedTexSubImage2D(3553,i,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,o,t.mipmaps[0].data):fe.texSubImage2D(3553,i,e.x,e.y,o,s,t.image),0===i&&n.generateMipmaps&&fe.generateMipmap(3553),W.unbindTexture()},this.initTexture=function(e){J.setTexture2D(e,0),W.unbindTexture()},this.resetState=function(){W.reset(),de.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function Ar(e){Or.call(this,e)}(yr.prototype=Object.create(yt.prototype)).constructor=yr,yr.prototype.isMeshDepthMaterial=!0,yr.prototype.copy=function(e){return yt.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},(_r.prototype=Object.create(yt.prototype)).constructor=_r,_r.prototype.isMeshDistanceMaterial=!0,_r.prototype.copy=function(e){return yt.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this},xr.prototype=Object.assign(Object.create(vn.prototype),{constructor:xr,isArrayCamera:!0}),Er.prototype=Object.assign(Object.create(We.prototype),{constructor:Er,isGroup:!0}),Object.assign(Cr.prototype,{constructor:Cr,getHandSpace:function(){return null===this._hand&&(this._hand=new Er,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand},getTargetRaySpace:function(){return null===this._targetRay&&(this._targetRay=new Er,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return null===this._grip&&(this._grip=new Er,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this},disconnect:function(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this},update:function(e,t,n){var i=null,r=null,a=null,o=this._targetRay,s=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState)if(l&&e.hand){a=!0;var u,c=h(e.hand.values());try{for(c.s();!(u=c.n()).done;){var d=u.value,f=t.getJointPose(d,n);if(void 0===l.joints[d.jointName]){var p=new Er;p.matrixAutoUpdate=!1,p.visible=!1,l.joints[d.jointName]=p,l.add(p)}var m=l.joints[d.jointName];null!==f&&(m.matrix.fromArray(f.transform.matrix),m.matrix.decompose(m.position,m.rotation,m.scale),m.jointRadius=f.radius),m.visible=null!==f}}catch(g){c.e(g)}finally{c.f()}var v=l.joints["index-finger-tip"].position.distanceTo(l.joints["thumb-tip"].position);l.inputState.pinching&&v>.025?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&v<=.015&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==o&&(null!==(i=t.getPose(e.targetRaySpace,n))&&(o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale))),null!==s&&e.gripSpace&&(null!==(r=t.getPose(e.gripSpace,n))&&(s.matrix.fromArray(r.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale)));return null!==o&&(o.visible=null!==i),null!==s&&(s.visible=null!==r),null!==l&&(l.visible=null!==a),this}}),Object.assign(kr.prototype,L.prototype),Ar.prototype=Object.assign(Object.create(Or.prototype),{constructor:Ar,isWebGL1Renderer:!0});var Rr=function(e){b(n,e);var t=T(n);function n(){var e;return _(this,n),e=t.call(this),Object.defineProperty(x(e),"isScene",{value:!0}),e.type="Scene",e.background=null,e.environment=null,e.fog=null,e.overrideMaterial=null,e.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:x(e)})),e}return y(n,[{key:"copy",value:function(e,t){return v(C(n.prototype),"copy",this).call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}},{key:"toJSON",value:function(e){var t=v(C(n.prototype),"toJSON",this).call(this,e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.environment&&(t.object.environment=this.environment.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t}}]),n}(We);function Ir(e,t){this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=F.generateUUID()}Object.defineProperty(Ir.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(Ir.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(var i=0,r=this.stride;i<r;i++)this.array[e+i]=t.array[n+i];return this},set:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this},clone:function(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=F.generateUUID()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);var t=new Ir(new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),this.stride);return t.setUsage(this.usage),t},onUpload:function(e){return this.onUploadCallback=e,this},toJSON:function(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=F.generateUUID()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}});var Lr,Pr=new Y;function Dr(e,t,n,i){this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=!0===i}function Nr(e){yt.call(this),this.type="SpriteMaterial",this.color=new mt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}Object.defineProperties(Dr.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}},needsUpdate:{set:function(e){this.data.needsUpdate=e}}}),Object.assign(Dr.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(e){for(var t=0,n=this.data.count;t<n;t++)Pr.x=this.getX(t),Pr.y=this.getY(t),Pr.z=this.getZ(t),Pr.applyMatrix4(e),this.setXYZ(t,Pr.x,Pr.y,Pr.z);return this},setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return this.data.array[(e=e*this.data.stride+this.offset)+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,i){return this.data.array[(e=e*this.data.stride+this.offset)+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this},setXYZW:function(e,t,n,i,r){return this.data.array[(e=e*this.data.stride+this.offset)+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this.data.array[e+3]=r,this},clone:function(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");for(var t=[],n=0;n<this.count;n++)for(var i=n*this.data.stride+this.offset,r=0;r<this.itemSize;r++)t.push(this.data.array[i+r]);return new Tt(new this.array.constructor(t),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Dr(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)},toJSON:function(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");for(var t=[],n=0;n<this.count;n++)for(var i=n*this.data.stride+this.offset,r=0;r<this.itemSize;r++)t.push(this.data.array[i+r]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}),(Nr.prototype=Object.create(yt.prototype)).constructor=Nr,Nr.prototype.isSpriteMaterial=!0,Nr.prototype.copy=function(e){return yt.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this};var jr=new Y,Fr=new Y,Ur=new Y,Gr=new U,Vr=new U,Br=new Te,zr=new Y,Hr=new Y,Xr=new Y,qr=new U,Wr=new U,Yr=new U;function Kr(e){if(We.call(this),this.type="Sprite",void 0===Lr){Lr=new zt;var t=new Ir(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);Lr.setIndex([0,1,2,0,2,3]),Lr.setAttribute("position",new Dr(t,3,0,!1)),Lr.setAttribute("uv",new Dr(t,2,3,!1))}this.geometry=Lr,this.material=void 0!==e?e:new Nr,this.center=new U(.5,.5)}function Zr(e,t,n,i,r,a){Gr.subVectors(e,n).addScalar(.5).multiply(i),void 0!==r?(Vr.x=a*Gr.x-r*Gr.y,Vr.y=r*Gr.x+a*Gr.y):Vr.copy(Gr),e.copy(t),e.x+=Vr.x,e.y+=Vr.y,e.applyMatrix4(Br)}Kr.prototype=Object.assign(Object.create(We.prototype),{constructor:Kr,isSprite:!0,raycast:function(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Fr.setFromMatrixScale(this.matrixWorld),Br.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Ur.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&Fr.multiplyScalar(-Ur.z);var n,i,r=this.material.rotation;0!==r&&(i=Math.cos(r),n=Math.sin(r));var a=this.center;Zr(zr.set(-.5,-.5,0),Ur,a,Fr,n,i),Zr(Hr.set(.5,-.5,0),Ur,a,Fr,n,i),Zr(Xr.set(.5,.5,0),Ur,a,Fr,n,i),qr.set(0,0),Wr.set(1,0),Yr.set(1,1);var o=e.ray.intersectTriangle(zr,Hr,Xr,!1,jr);if(null!==o||(Zr(Hr.set(-.5,.5,0),Ur,a,Fr,n,i),Wr.set(0,1),null!==(o=e.ray.intersectTriangle(zr,Xr,Hr,!1,jr)))){var s=e.ray.origin.distanceTo(jr);s<e.near||s>e.far||t.push({distance:s,point:jr.clone(),uv:lt.getUV(jr,zr,Hr,Xr,qr,Wr,Yr,new U),face:null,object:this})}},copy:function(e){return We.prototype.copy.call(this,e),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}});var Jr=new Y,Qr=new Y;function $r(){We.call(this),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}$r.prototype=Object.assign(Object.create(We.prototype),{constructor:$r,isLOD:!0,copy:function(e){We.prototype.copy.call(this,e,!1);for(var t=e.levels,n=0,i=t.length;n<i;n++){var r=t[n];this.addLevel(r.object.clone(),r.distance)}return this.autoUpdate=e.autoUpdate,this},addLevel:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t=Math.abs(t);var n,i=this.levels;for(n=0;n<i.length&&!(t<i[n].distance);n++);return i.splice(n,0,{distance:t,object:e}),this.add(e),this},getCurrentLevel:function(){return this._currentLevel},getObjectForDistance:function(e){var t=this.levels;if(t.length>0){var n,i;for(n=1,i=t.length;n<i&&!(e<t[n].distance);n++);return t[n-1].object}return null},raycast:function(e,t){if(this.levels.length>0){Jr.setFromMatrixPosition(this.matrixWorld);var n=e.ray.origin.distanceTo(Jr);this.getObjectForDistance(n).raycast(e,t)}},update:function(e){var t=this.levels;if(t.length>1){Jr.setFromMatrixPosition(e.matrixWorld),Qr.setFromMatrixPosition(this.matrixWorld);var n,i,r=Jr.distanceTo(Qr)/e.zoom;for(t[0].object.visible=!0,n=1,i=t.length;n<i&&r>=t[n].distance;n++)t[n-1].object.visible=!1,t[n].object.visible=!0;for(this._currentLevel=n-1;n<i;n++)t[n].object.visible=!1}},toJSON:function(e){var t=We.prototype.toJSON.call(this,e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];for(var n=this.levels,i=0,r=n.length;i<r;i++){var a=n[i];t.object.levels.push({object:a.object.uuid,distance:a.distance})}return t}});var ea=new Y,ta=new X,na=new X,ia=new Y,ra=new Te;function aa(e,t){e&&e.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),ln.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Te,this.bindMatrixInverse=new Te}function oa(){We.call(this),this.type="Bone"}aa.prototype=Object.assign(Object.create(ln.prototype),{constructor:aa,isSkinnedMesh:!0,copy:function(e){return ln.prototype.copy.call(this,e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this},bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var e=new X,t=this.geometry.attributes.skinWeight,n=0,i=t.count;n<i;n++){e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.w=t.getW(n);var r=1/e.manhattanLength();r!==1/0?e.multiplyScalar(r):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}},updateMatrixWorld:function(e){ln.prototype.updateMatrixWorld.call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},boneTransform:function(e,t){var n=this.skeleton,i=this.geometry;ta.fromBufferAttribute(i.attributes.skinIndex,e),na.fromBufferAttribute(i.attributes.skinWeight,e),ea.fromBufferAttribute(i.attributes.position,e).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(var r=0;r<4;r++){var a=na.getComponent(r);if(0!==a){var o=ta.getComponent(r);ra.multiplyMatrices(n.bones[o].matrixWorld,n.boneInverses[o]),t.addScaledVector(ia.copy(ea).applyMatrix4(ra),a)}}return t.applyMatrix4(this.bindMatrixInverse)}}),oa.prototype=Object.assign(Object.create(We.prototype),{constructor:oa,isBone:!0});var sa=new Te,la=new Te;function ua(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.uuid=F.generateUUID(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}Object.assign(ua.prototype,{init:function(){var e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(var n=0,i=this.bones.length;n<i;n++)this.boneInverses.push(new Te)}},calculateInverses:function(){this.boneInverses.length=0;for(var e=0,t=this.bones.length;e<t;e++){var n=new Te;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}},pose:function(){for(var e=0,t=this.bones.length;e<t;e++){var n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(var i=0,r=this.bones.length;i<r;i++){var a=this.bones[i];a&&(a.parent&&a.parent.isBone?(a.matrix.copy(a.parent.matrixWorld).invert(),a.matrix.multiply(a.matrixWorld)):a.matrix.copy(a.matrixWorld),a.matrix.decompose(a.position,a.quaternion,a.scale))}},update:function(){for(var e=this.bones,t=this.boneInverses,n=this.boneMatrices,i=this.boneTexture,r=0,a=e.length;r<a;r++)sa.multiplyMatrices(e[r]?e[r].matrixWorld:la,t[r]),sa.toArray(n,16*r);null!==i&&(i.needsUpdate=!0)},clone:function(){return new ua(this.bones,this.boneInverses)},getBoneByName:function(e){for(var t=0,n=this.bones.length;t<n;t++){var i=this.bones[t];if(i.name===e)return i}},dispose:function(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)},fromJSON:function(e,t){this.uuid=e.uuid;for(var n=0,i=e.bones.length;n<i;n++){var r=e.bones[n],a=t[r];void 0===a&&(console.warn("THREE.Skeleton: No bone found with UUID:",r),a=new oa),this.bones.push(a),this.boneInverses.push((new Te).fromArray(e.boneInverses[n]))}return this.init(),this},toJSON:function(){var e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;for(var t=this.bones,n=this.boneInverses,i=0,r=t.length;i<r;i++)e.bones.push(t[i].uuid),e.boneInverses.push(n[i].toArray());return e}});var ca=new Te,ha=new Te,da=[],fa=new ln;function pa(e,t,n){ln.call(this,e,t),this.instanceMatrix=new Tt(new Float32Array(16*n),16),this.instanceColor=null,this.count=n,this.frustumCulled=!1}function ma(e){yt.call(this),this.type="LineBasicMaterial",this.color=new mt(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.morphTargets=!1,this.setValues(e)}pa.prototype=Object.assign(Object.create(ln.prototype),{constructor:pa,isInstancedMesh:!0,copy:function(e){return ln.prototype.copy.call(this,e),this.instanceMatrix.copy(e.instanceMatrix),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this},getColorAt:function(e,t){t.fromArray(this.instanceColor.array,3*e)},getMatrixAt:function(e,t){t.fromArray(this.instanceMatrix.array,16*e)},raycast:function(e,t){var n=this.matrixWorld,i=this.count;if(fa.geometry=this.geometry,fa.material=this.material,void 0!==fa.material)for(var r=0;r<i;r++){this.getMatrixAt(r,ca),ha.multiplyMatrices(n,ca),fa.matrixWorld=ha,fa.raycast(e,da);for(var a=0,o=da.length;a<o;a++){var s=da[a];s.instanceId=r,s.object=this,t.push(s)}da.length=0}},setColorAt:function(e,t){null===this.instanceColor&&(this.instanceColor=new Tt(new Float32Array(3*this.count),3)),t.toArray(this.instanceColor.array,3*e)},setMatrixAt:function(e,t){t.toArray(this.instanceMatrix.array,16*e)},updateMorphTargets:function(){},dispose:function(){this.dispatchEvent({type:"dispose"})}}),(ma.prototype=Object.create(yt.prototype)).constructor=ma,ma.prototype.isLineBasicMaterial=!0,ma.prototype.copy=function(e){return yt.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.morphTargets=e.morphTargets,this};var va=new Y,ga=new Y,ya=new Te,_a=new Se,ba=new fe;function Sa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new zt,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ma;We.call(this),this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}Sa.prototype=Object.assign(Object.create(We.prototype),{constructor:Sa,isLine:!0,copy:function(e){return We.prototype.copy.call(this,e),this.material=e.material,this.geometry=e.geometry,this},computeLineDistances:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[0],i=1,r=t.count;i<r;i++)va.fromBufferAttribute(t,i-1),ga.fromBufferAttribute(t,i),n[i]=n[i-1],n[i]+=va.distanceTo(ga);e.setAttribute("lineDistance",new Rt(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this},raycast:function(e,t){var n=this.geometry,i=this.matrixWorld,r=e.params.Line.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),ba.copy(n.boundingSphere),ba.applyMatrix4(i),ba.radius+=r,!1!==e.ray.intersectsSphere(ba)){ya.copy(i).invert(),_a.copy(e.ray).applyMatrix4(ya);var a=r/((this.scale.x+this.scale.y+this.scale.z)/3),o=a*a,s=new Y,l=new Y,u=new Y,c=new Y,h=this.isLineSegments?2:1;if(n.isBufferGeometry){var d=n.index,f=n.attributes.position;if(null!==d)for(var p=d.array,m=0,v=p.length-1;m<v;m+=h){var g=p[m+1];if(s.fromBufferAttribute(f,p[m]),l.fromBufferAttribute(f,g),!(_a.distanceSqToSegment(s,l,c,u)>o)){c.applyMatrix4(this.matrixWorld);var y=e.ray.origin.distanceTo(c);y<e.near||y>e.far||t.push({distance:y,point:u.clone().applyMatrix4(this.matrixWorld),index:m,face:null,faceIndex:null,object:this})}}else for(var _=0,b=f.count-1;_<b;_+=h)if(s.fromBufferAttribute(f,_),l.fromBufferAttribute(f,_+1),!(_a.distanceSqToSegment(s,l,c,u)>o)){c.applyMatrix4(this.matrixWorld);var S=e.ray.origin.distanceTo(c);S<e.near||S>e.far||t.push({distance:S,point:u.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}else n.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},updateMorphTargets:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,n=Object.keys(t);if(n.length>0){var i=t[n[0]];if(void 0!==i){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,a=i.length;r<a;r++){var o=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=r}}}}else{var s=e.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});var Ta=new Y,wa=new Y;function xa(e,t){Sa.call(this,e,t),this.type="LineSegments"}function Ea(e,t){Sa.call(this,e,t),this.type="LineLoop"}function Ca(e){yt.call(this),this.type="PointsMaterial",this.color=new mt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(e)}xa.prototype=Object.assign(Object.create(Sa.prototype),{constructor:xa,isLineSegments:!0,computeLineDistances:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[],i=0,r=t.count;i<r;i+=2)Ta.fromBufferAttribute(t,i),wa.fromBufferAttribute(t,i+1),n[i]=0===i?0:n[i-1],n[i+1]=n[i]+Ta.distanceTo(wa);e.setAttribute("lineDistance",new Rt(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}),Ea.prototype=Object.assign(Object.create(Sa.prototype),{constructor:Ea,isLineLoop:!0}),(Ca.prototype=Object.create(yt.prototype)).constructor=Ca,Ca.prototype.isPointsMaterial=!0,Ca.prototype.copy=function(e){return yt.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this};var ka=new Te,Ma=new Se,Oa=new fe,Aa=new Y;function Ra(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new zt,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ca;We.call(this),this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}function Ia(e,t,n,i,r,a,o){var s=Ma.distanceSqToPoint(e);if(s<n){var l=new Y;Ma.closestPointToPoint(e,l),l.applyMatrix4(i);var u=r.ray.origin.distanceTo(l);if(u<r.near||u>r.far)return;a.push({distance:u,distanceToRay:Math.sqrt(s),point:l,index:t,face:null,object:o})}}function La(e,t,n,i,r,a,o,s,l){z.call(this,e,t,n,i,r,a,o,s,l),this.format=void 0!==o?o:E,this.minFilter=void 0!==a?a:g,this.magFilter=void 0!==r?r:g,this.generateMipmaps=!1;var u=this;"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(function t(){u.needsUpdate=!0,e.requestVideoFrameCallback(t)})}function Pa(e,t,n,i,r,a,o,s,l,u,c,h){z.call(this,null,a,o,s,l,u,i,r,c,h),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}function Da(e,t,n,i,r,a,o,s,l){z.call(this,e,t,n,i,r,a,o,s,l),this.needsUpdate=!0}function Na(e,t,n,i,r,a,o,s,l,u){if(1026!==(u=void 0!==u?u:1026)&&1027!==u)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&1026===u&&(n=1012),void 0===n&&1027===u&&(n=1020),z.call(this,null,i,r,a,o,s,u,n,l),this.image={width:e,height:t},this.magFilter=void 0!==o?o:f,this.minFilter=void 0!==s?s:f,this.flipY=!1,this.generateMipmaps=!1}function ja(e,t,n,i,r){var a,o;if(r===function(e,t,n,i){for(var r=0,a=t,o=n-i;a<n;a+=i)r+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return r}(e,t,n,i)>0)for(a=t;a<n;a+=i)o=ro(a,e[a],e[a+1],o);else for(a=n-i;a>=t;a-=i)o=ro(a,e[a],e[a+1],o);return o&&Qa(o,o.next)&&(ao(o),o=o.next),o}function Fa(e,t){if(!e)return e;t||(t=e);var n,i=e;do{if(n=!1,i.steiner||!Qa(i,i.next)&&0!==Ja(i.prev,i,i.next))i=i.next;else{if(ao(i),(i=t=i.prev)===i.next)break;n=!0}}while(n||i!==t);return t}function Ua(e,t,n,i,r,a,o){if(e){!o&&a&&function(e,t,n,i){var r=e;do{null===r.z&&(r.z=Wa(r.x,r.y,t,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==e);r.prevZ.nextZ=null,r.prevZ=null,function(e){var t,n,i,r,a,o,s,l,u=1;do{for(n=e,e=null,a=null,o=0;n;){for(o++,i=n,s=0,t=0;t<u&&(s++,i=i.nextZ);t++);for(l=u;s>0||l>0&&i;)0!==s&&(0===l||!i||n.z<=i.z)?(r=n,n=n.nextZ,s--):(r=i,i=i.nextZ,l--),a?a.nextZ=r:e=r,r.prevZ=a,a=r;n=i}a.nextZ=null,u*=2}while(o>1)}(r)}(e,i,r,a);for(var s,l,u=e;e.prev!==e.next;)if(s=e.prev,l=e.next,a?Va(e,i,r,a):Ga(e))t.push(s.i/n),t.push(e.i/n),t.push(l.i/n),ao(e),e=l.next,u=l.next;else if((e=l)===u){o?1===o?Ua(e=Ba(Fa(e),t,n),t,n,i,r,a,2):2===o&&za(e,t,n,i,r,a):Ua(Fa(e),t,n,i,r,a,1);break}}}function Ga(e){var t=e.prev,n=e,i=e.next;if(Ja(t,n,i)>=0)return!1;for(var r=e.next.next;r!==e.prev;){if(Ka(t.x,t.y,n.x,n.y,i.x,i.y,r.x,r.y)&&Ja(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function Va(e,t,n,i){var r=e.prev,a=e,o=e.next;if(Ja(r,a,o)>=0)return!1;for(var s=r.x>a.x?r.x>o.x?r.x:o.x:a.x>o.x?a.x:o.x,l=r.y>a.y?r.y>o.y?r.y:o.y:a.y>o.y?a.y:o.y,u=Wa(r.x<a.x?r.x<o.x?r.x:o.x:a.x<o.x?a.x:o.x,r.y<a.y?r.y<o.y?r.y:o.y:a.y<o.y?a.y:o.y,t,n,i),c=Wa(s,l,t,n,i),h=e.prevZ,d=e.nextZ;h&&h.z>=u&&d&&d.z<=c;){if(h!==e.prev&&h!==e.next&&Ka(r.x,r.y,a.x,a.y,o.x,o.y,h.x,h.y)&&Ja(h.prev,h,h.next)>=0)return!1;if(h=h.prevZ,d!==e.prev&&d!==e.next&&Ka(r.x,r.y,a.x,a.y,o.x,o.y,d.x,d.y)&&Ja(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(;h&&h.z>=u;){if(h!==e.prev&&h!==e.next&&Ka(r.x,r.y,a.x,a.y,o.x,o.y,h.x,h.y)&&Ja(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;d&&d.z<=c;){if(d!==e.prev&&d!==e.next&&Ka(r.x,r.y,a.x,a.y,o.x,o.y,d.x,d.y)&&Ja(d.prev,d,d.next)>=0)return!1;d=d.nextZ}return!0}function Ba(e,t,n){var i=e;do{var r=i.prev,a=i.next.next;!Qa(r,a)&&$a(r,i,i.next,a)&&no(r,a)&&no(a,r)&&(t.push(r.i/n),t.push(i.i/n),t.push(a.i/n),ao(i),ao(i.next),i=e=a),i=i.next}while(i!==e);return Fa(i)}function za(e,t,n,i,r,a){var o=e;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&Za(o,s)){var l=io(o,s);return o=Fa(o,o.next),l=Fa(l,l.next),Ua(o,t,n,i,r,a),void Ua(l,t,n,i,r,a)}s=s.next}o=o.next}while(o!==e)}function Ha(e,t){return e.x-t.x}function Xa(e,t){if(t=function(e,t){var n,i=t,r=e.x,a=e.y,o=-1/0;do{if(a<=i.y&&a>=i.next.y&&i.next.y!==i.y){var s=i.x+(a-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(s<=r&&s>o){if(o=s,s===r){if(a===i.y)return i;if(a===i.next.y)return i.next}n=i.x<i.next.x?i:i.next}}i=i.next}while(i!==t);if(!n)return null;if(r===o)return n;var l,u=n,c=n.x,h=n.y,d=1/0;i=n;do{r>=i.x&&i.x>=c&&r!==i.x&&Ka(a<h?r:o,a,c,h,a<h?o:r,a,i.x,i.y)&&(l=Math.abs(a-i.y)/(r-i.x),no(i,e)&&(l<d||l===d&&(i.x>n.x||i.x===n.x&&qa(n,i)))&&(n=i,d=l)),i=i.next}while(i!==u);return n}(e,t)){var n=io(t,e);Fa(t,t.next),Fa(n,n.next)}}function qa(e,t){return Ja(e.prev,e,t.prev)<0&&Ja(t.next,e,e.next)<0}function Wa(e,t,n,i,r){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*r)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*r)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Ya(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function Ka(e,t,n,i,r,a,o,s){return(r-o)*(t-s)-(e-o)*(a-s)>=0&&(e-o)*(i-s)-(n-o)*(t-s)>=0&&(n-o)*(a-s)-(r-o)*(i-s)>=0}function Za(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&$a(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(no(e,t)&&no(t,e)&&function(e,t){var n=e,i=!1,r=(e.x+t.x)/2,a=(e.y+t.y)/2;do{n.y>a!=n.next.y>a&&n.next.y!==n.y&&r<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==e);return i}(e,t)&&(Ja(e.prev,e,t.prev)||Ja(e,t.prev,t))||Qa(e,t)&&Ja(e.prev,e,e.next)>0&&Ja(t.prev,t,t.next)>0)}function Ja(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Qa(e,t){return e.x===t.x&&e.y===t.y}function $a(e,t,n,i){var r=to(Ja(e,t,n)),a=to(Ja(e,t,i)),o=to(Ja(n,i,e)),s=to(Ja(n,i,t));return r!==a&&o!==s||!(0!==r||!eo(e,n,t))||!(0!==a||!eo(e,i,t))||!(0!==o||!eo(n,e,i))||!(0!==s||!eo(n,t,i))}function eo(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function to(e){return e>0?1:e<0?-1:0}function no(e,t){return Ja(e.prev,e,e.next)<0?Ja(e,t,e.next)>=0&&Ja(e,e.prev,t)>=0:Ja(e,t,e.prev)<0||Ja(e,e.next,t)<0}function io(e,t){var n=new oo(e.i,e.x,e.y),i=new oo(t.i,t.x,t.y),r=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=r,r.prev=n,i.next=n,n.prev=i,a.next=i,i.prev=a,i}function ro(e,t,n,i){var r=new oo(e,t,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function ao(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function oo(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}Ra.prototype=Object.assign(Object.create(We.prototype),{constructor:Ra,isPoints:!0,copy:function(e){return We.prototype.copy.call(this,e),this.material=e.material,this.geometry=e.geometry,this},raycast:function(e,t){var n=this.geometry,i=this.matrixWorld,r=e.params.Points.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),Oa.copy(n.boundingSphere),Oa.applyMatrix4(i),Oa.radius+=r,!1!==e.ray.intersectsSphere(Oa)){ka.copy(i).invert(),Ma.copy(e.ray).applyMatrix4(ka);var a=r/((this.scale.x+this.scale.y+this.scale.z)/3),o=a*a;if(n.isBufferGeometry){var s=n.index,l=n.attributes.position;if(null!==s)for(var u=s.array,c=0,h=u.length;c<h;c++){var d=u[c];Aa.fromBufferAttribute(l,d),Ia(Aa,d,o,i,e,t,this)}else for(var f=0,p=l.count;f<p;f++)Aa.fromBufferAttribute(l,f),Ia(Aa,f,o,i,e,t,this)}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},updateMorphTargets:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,n=Object.keys(t);if(n.length>0){var i=t[n[0]];if(void 0!==i){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,a=i.length;r<a;r++){var o=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=r}}}}else{var s=e.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}),La.prototype=Object.assign(Object.create(z.prototype),{constructor:La,clone:function(){return new this.constructor(this.image).copy(this)},isVideoTexture:!0,update:function(){var e=this.image;0=="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),(Pa.prototype=Object.create(z.prototype)).constructor=Pa,Pa.prototype.isCompressedTexture=!0,(Da.prototype=Object.create(z.prototype)).constructor=Da,Da.prototype.isCanvasTexture=!0,(Na.prototype=Object.create(z.prototype)).constructor=Na,Na.prototype.isDepthTexture=!0,new Y,new Y,new Y,new lt;var so={area:function(e){for(var t=e.length,n=0,i=t-1,r=0;r<t;i=r++)n+=e[i].x*e[r].y-e[r].x*e[i].y;return.5*n},isClockWise:function(e){return so.area(e)<0},triangulateShape:function(e,t){var n=[],i=[],r=[];lo(e),uo(n,e);var a=e.length;t.forEach(lo);for(var o=0;o<t.length;o++)i.push(a),a+=t[o].length,uo(n,t[o]);for(var s=function(e,t,n){n=n||2;var i,r,a,o,s,l,u,c=t&&t.length,h=c?t[0]*n:e.length,d=ja(e,0,h,n,!0),f=[];if(!d||d.next===d.prev)return f;if(c&&(d=function(e,t,n,i){var r,a,o,s=[];for(r=0,a=t.length;r<a;r++)(o=ja(e,t[r]*i,r<a-1?t[r+1]*i:e.length,i,!1))===o.next&&(o.steiner=!0),s.push(Ya(o));for(s.sort(Ha),r=0;r<s.length;r++)Xa(s[r],n),n=Fa(n,n.next);return n}(e,t,d,n)),e.length>80*n){i=a=e[0],r=o=e[1];for(var p=n;p<h;p+=n)(s=e[p])<i&&(i=s),(l=e[p+1])<r&&(r=l),s>a&&(a=s),l>o&&(o=l);u=0!==(u=Math.max(a-i,o-r))?1/u:0}return Ua(d,f,n,i,r,u),f}(n,i),l=0;l<s.length;l+=3)r.push(s.slice(l,l+3));return r}};function lo(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function uo(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}var co=function(e){b(n,e);var t=T(n);function n(e,i){var r;_(this,n),(r=t.call(this)).type="ExtrudeGeometry",r.parameters={shapes:e,options:i},e=Array.isArray(e)?e:[e];for(var a=x(r),o=[],s=[],l=0,u=e.length;l<u;l++)c(e[l]);function c(e){var t=[],n=void 0!==i.curveSegments?i.curveSegments:12,r=void 0!==i.steps?i.steps:1,l=void 0!==i.depth?i.depth:100,u=void 0===i.bevelEnabled||i.bevelEnabled,c=void 0!==i.bevelThickness?i.bevelThickness:6,h=void 0!==i.bevelSize?i.bevelSize:c-2,d=void 0!==i.bevelOffset?i.bevelOffset:0,f=void 0!==i.bevelSegments?i.bevelSegments:3,p=i.extrudePath,m=void 0!==i.UVGenerator?i.UVGenerator:ho;void 0!==i.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),l=i.amount);var v,g,y,_,b,S=!1;p&&(v=p.getSpacedPoints(r),S=!0,u=!1,g=p.computeFrenetFrames(r,!1),y=new Y,_=new Y,b=new Y),u||(f=0,c=0,h=0,d=0);var T=e.extractPoints(n),w=T.shape,x=T.holes;if(!so.isClockWise(w)){w=w.reverse();for(var E=0,C=x.length;E<C;E++){var k=x[E];so.isClockWise(k)&&(x[E]=k.reverse())}}for(var M=so.triangulateShape(w,x),O=w,A=0,R=x.length;A<R;A++)w=w.concat(x[A]);function I(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}var L=w.length,P=M.length;function D(e,t,n){var i,r,a,o=e.x-t.x,s=e.y-t.y,l=n.x-e.x,u=n.y-e.y,c=o*o+s*s;if(Math.abs(o*u-s*l)>Number.EPSILON){var h=Math.sqrt(c),d=Math.sqrt(l*l+u*u),f=t.x-s/h,p=t.y+o/h,m=((n.x-u/d-f)*u-(n.y+l/d-p)*l)/(o*u-s*l),v=(i=f+o*m-e.x)*i+(r=p+s*m-e.y)*r;if(v<=2)return new U(i,r);a=Math.sqrt(v/2)}else{var g=!1;o>Number.EPSILON?l>Number.EPSILON&&(g=!0):o<-Number.EPSILON?l<-Number.EPSILON&&(g=!0):Math.sign(s)===Math.sign(u)&&(g=!0),g?(i=-s,r=o,a=Math.sqrt(c)):(i=o,r=s,a=Math.sqrt(c/2))}return new U(i/a,r/a)}for(var N=[],j=0,F=O.length,G=F-1,V=j+1;j<F;j++,G++,V++)G===F&&(G=0),V===F&&(V=0),N[j]=D(O[j],O[G],O[V]);for(var B,z=[],H=N.concat(),X=0,q=x.length;X<q;X++){var W=x[X];B=[];for(var K=0,Z=W.length,J=Z-1,Q=K+1;K<Z;K++,J++,Q++)J===Z&&(J=0),Q===Z&&(Q=0),B[K]=D(W[K],W[J],W[Q]);z.push(B),H=H.concat(B)}for(var $=0;$<f;$++){for(var ee=$/f,te=c*Math.cos(ee*Math.PI/2),ne=h*Math.sin(ee*Math.PI/2)+d,ie=0,re=O.length;ie<re;ie++){var ae=I(O[ie],N[ie],ne);Ie(ae.x,ae.y,-te)}for(var oe=0,se=x.length;oe<se;oe++){var le=x[oe];B=z[oe];for(var ue=0,ce=le.length;ue<ce;ue++){var he=I(le[ue],B[ue],ne);Ie(he.x,he.y,-te)}}}for(var de=h+d,fe=0;fe<L;fe++){var pe=u?I(w[fe],H[fe],de):w[fe];S?(_.copy(g.normals[0]).multiplyScalar(pe.x),y.copy(g.binormals[0]).multiplyScalar(pe.y),b.copy(v[0]).add(_).add(y),Ie(b.x,b.y,b.z)):Ie(pe.x,pe.y,0)}for(var me=1;me<=r;me++)for(var ve=0;ve<L;ve++){var ge=u?I(w[ve],H[ve],de):w[ve];S?(_.copy(g.normals[me]).multiplyScalar(ge.x),y.copy(g.binormals[me]).multiplyScalar(ge.y),b.copy(v[me]).add(_).add(y),Ie(b.x,b.y,b.z)):Ie(ge.x,ge.y,l/r*me)}for(var ye=f-1;ye>=0;ye--){for(var _e=ye/f,be=c*Math.cos(_e*Math.PI/2),Se=h*Math.sin(_e*Math.PI/2)+d,Te=0,we=O.length;Te<we;Te++){var xe=I(O[Te],N[Te],Se);Ie(xe.x,xe.y,l+be)}for(var Ee=0,Ce=x.length;Ee<Ce;Ee++){var ke=x[Ee];B=z[Ee];for(var Me=0,Oe=ke.length;Me<Oe;Me++){var Ae=I(ke[Me],B[Me],Se);S?Ie(Ae.x,Ae.y+v[r-1].y,v[r-1].x+be):Ie(Ae.x,Ae.y,l+be)}}}function Re(e,t){for(var n=e.length;--n>=0;){var i=n,a=n-1;a<0&&(a=e.length-1);for(var o=0,s=r+2*f;o<s;o++){var l=L*o,u=L*(o+1);Pe(t+i+l,t+a+l,t+a+u,t+i+u)}}}function Ie(e,n,i){t.push(e),t.push(n),t.push(i)}function Le(e,t,n){De(e),De(t),De(n);var i=o.length/3,r=m.generateTopUV(a,o,i-3,i-2,i-1);Ne(r[0]),Ne(r[1]),Ne(r[2])}function Pe(e,t,n,i){De(e),De(t),De(i),De(t),De(n),De(i);var r=o.length/3,s=m.generateSideWallUV(a,o,r-6,r-3,r-2,r-1);Ne(s[0]),Ne(s[1]),Ne(s[3]),Ne(s[1]),Ne(s[2]),Ne(s[3])}function De(e){o.push(t[3*e+0]),o.push(t[3*e+1]),o.push(t[3*e+2])}function Ne(e){s.push(e.x),s.push(e.y)}!function(){var e=o.length/3;if(u){for(var t=0,n=L*t,i=0;i<P;i++){var s=M[i];Le(s[2]+n,s[1]+n,s[0]+n)}n=L*(t=r+2*f);for(var l=0;l<P;l++){var c=M[l];Le(c[0]+n,c[1]+n,c[2]+n)}}else{for(var h=0;h<P;h++){var d=M[h];Le(d[2],d[1],d[0])}for(var p=0;p<P;p++){var m=M[p];Le(m[0]+L*r,m[1]+L*r,m[2]+L*r)}}a.addGroup(e,o.length/3-e,0)}(),function(){var e=o.length/3,t=0;Re(O,t),t+=O.length;for(var n=0,i=x.length;n<i;n++){var r=x[n];Re(r,t),t+=r.length}a.addGroup(e,o.length/3-e,1)}()}return r.setAttribute("position",new Rt(o,3)),r.setAttribute("uv",new Rt(s,2)),r.computeVertexNormals(),r}return y(n,[{key:"toJSON",value:function(){var e=zt.prototype.toJSON.call(this);return function(e,t,n){if(n.shapes=[],Array.isArray(e))for(var i=0,r=e.length;i<r;i++)n.shapes.push(e[i].uuid);else n.shapes.push(e.uuid);return void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON()),n}(this.parameters.shapes,this.parameters.options,e)}}]),n}(zt),ho={generateTopUV:function(e,t,n,i,r){var a=t[3*i],o=t[3*i+1],s=t[3*r],l=t[3*r+1];return[new U(t[3*n],t[3*n+1]),new U(a,o),new U(s,l)]},generateSideWallUV:function(e,t,n,i,r,a){var o=t[3*n],s=t[3*n+1],l=t[3*n+2],u=t[3*i],c=t[3*i+1],h=t[3*i+2],d=t[3*r],f=t[3*r+1],p=t[3*r+2],m=t[3*a],v=t[3*a+1],g=t[3*a+2];return Math.abs(s-c)<.01?[new U(o,1-l),new U(u,1-h),new U(d,1-p),new U(m,1-g)]:[new U(s,1-l),new U(c,1-h),new U(f,1-p),new U(v,1-g)]}};function fo(e,t,n){zt.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:n};var i=[],r=[],a=[],o=[],s=1e-5,l=new Y,u=new Y,c=new Y,h=new Y,d=new Y;e.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");for(var f=t+1,p=0;p<=n;p++)for(var m=p/n,v=0;v<=t;v++){var g=v/t;e(g,m,u),r.push(u.x,u.y,u.z),g-s>=0?(e(g-s,m,c),h.subVectors(u,c)):(e(g+s,m,c),h.subVectors(c,u)),m-s>=0?(e(g,m-s,c),d.subVectors(u,c)):(e(g,m+s,c),d.subVectors(c,u)),l.crossVectors(h,d).normalize(),a.push(l.x,l.y,l.z),o.push(g,m)}for(var y=0;y<n;y++)for(var _=0;_<t;_++){var b=y*f+_+1,S=(y+1)*f+_+1,T=(y+1)*f+_;i.push(y*f+_,b,T),i.push(b,S,T)}this.setIndex(i),this.setAttribute("position",new Rt(r,3)),this.setAttribute("normal",new Rt(a,3)),this.setAttribute("uv",new Rt(o,2))}(fo.prototype=Object.create(zt.prototype)).constructor=fo;var po=function(e){b(n,e);var t=T(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;_(this,n),(i=t.call(this)).type="ShapeGeometry",i.parameters={shapes:e,curveSegments:r};var a=[],o=[],s=[],l=[],u=0,c=0;if(!1===Array.isArray(e))d(e);else for(var h=0;h<e.length;h++)d(e[h]),i.addGroup(u,c,h),u+=c,c=0;function d(e){var t=o.length/3,n=e.extractPoints(r),i=n.shape,u=n.holes;!1===so.isClockWise(i)&&(i=i.reverse());for(var h=0,d=u.length;h<d;h++){var f=u[h];!0===so.isClockWise(f)&&(u[h]=f.reverse())}for(var p=so.triangulateShape(i,u),m=0,v=u.length;m<v;m++)i=i.concat(u[m]);for(var g=0,y=i.length;g<y;g++){var _=i[g];o.push(_.x,_.y,0),s.push(0,0,1),l.push(_.x,_.y)}for(var b=0,S=p.length;b<S;b++){var T=p[b];a.push(T[0]+t,T[1]+t,T[2]+t),c+=3}}return i.setIndex(a),i.setAttribute("position",new Rt(o,3)),i.setAttribute("normal",new Rt(s,3)),i.setAttribute("uv",new Rt(l,2)),i}return y(n,[{key:"toJSON",value:function(){var e=zt.prototype.toJSON.call(this);return function(e,t){if(t.shapes=[],Array.isArray(e))for(var n=0,i=e.length;n<i;n++)t.shapes.push(e[n].uuid);else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)}}]),n}(zt);function mo(e){yt.call(this),this.type="ShadowMaterial",this.color=new mt(0),this.transparent=!0,this.setValues(e)}function vo(e){pn.call(this,e),this.type="RawShaderMaterial"}function go(e){yt.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new mt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new mt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=I,this.normalScale=new U(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.vertexTangents=!1,this.setValues(e)}function yo(e){go.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new U(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,Object.defineProperty(this,"ior",{get:function(){return(1+.4*this.reflectivity)/(1-.4*this.reflectivity)},set:function(e){this.reflectivity=F.clamp(2.5*(e-1)/(e+1),0,1)}}),this.sheen=null,this.transmission=0,this.transmissionMap=null,this.setValues(e)}function _o(e){yt.call(this),this.type="MeshPhongMaterial",this.color=new mt(16777215),this.specular=new mt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new mt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=I,this.normalScale=new U(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function bo(e){yt.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new mt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new mt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=I,this.normalScale=new U(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function So(e){yt.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=I,this.normalScale=new U(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function To(e){yt.call(this),this.type="MeshLambertMaterial",this.color=new mt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new mt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function wo(e){yt.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new mt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=I,this.normalScale=new U(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function xo(e){ma.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}(mo.prototype=Object.create(yt.prototype)).constructor=mo,mo.prototype.isShadowMaterial=!0,mo.prototype.copy=function(e){return yt.prototype.copy.call(this,e),this.color.copy(e.color),this},(vo.prototype=Object.create(pn.prototype)).constructor=vo,vo.prototype.isRawShaderMaterial=!0,(go.prototype=Object.create(yt.prototype)).constructor=go,go.prototype.isMeshStandardMaterial=!0,go.prototype.copy=function(e){return yt.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.vertexTangents=e.vertexTangents,this},(yo.prototype=Object.create(go.prototype)).constructor=yo,yo.prototype.isMeshPhysicalMaterial=!0,yo.prototype.copy=function(e){return go.prototype.copy.call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.reflectivity=e.reflectivity,this.sheen=e.sheen?(this.sheen||new mt).copy(e.sheen):null,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this},(_o.prototype=Object.create(yt.prototype)).constructor=_o,_o.prototype.isMeshPhongMaterial=!0,_o.prototype.copy=function(e){return yt.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},(bo.prototype=Object.create(yt.prototype)).constructor=bo,bo.prototype.isMeshToonMaterial=!0,bo.prototype.copy=function(e){return yt.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},(So.prototype=Object.create(yt.prototype)).constructor=So,So.prototype.isMeshNormalMaterial=!0,So.prototype.copy=function(e){return yt.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},(To.prototype=Object.create(yt.prototype)).constructor=To,To.prototype.isMeshLambertMaterial=!0,To.prototype.copy=function(e){return yt.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},(wo.prototype=Object.create(yt.prototype)).constructor=wo,wo.prototype.isMeshMatcapMaterial=!0,wo.prototype.copy=function(e){return yt.prototype.copy.call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},(xo.prototype=Object.create(ma.prototype)).constructor=xo,xo.prototype.isLineDashedMaterial=!0,xo.prototype.copy=function(e){return ma.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var Eo=Object.freeze({__proto__:null,ShadowMaterial:mo,SpriteMaterial:Nr,RawShaderMaterial:vo,ShaderMaterial:pn,PointsMaterial:Ca,MeshPhysicalMaterial:yo,MeshStandardMaterial:go,MeshPhongMaterial:_o,MeshToonMaterial:bo,MeshNormalMaterial:So,MeshLambertMaterial:To,MeshDepthMaterial:yr,MeshDistanceMaterial:_r,MeshBasicMaterial:_t,MeshMatcapMaterial:wo,LineDashedMaterial:xo,LineBasicMaterial:ma,Material:yt}),Co={arraySlice:function(e,t,n){return Co.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){for(var t=e.length,n=new Array(t),i=0;i!==t;++i)n[i]=i;return n.sort(function(t,n){return e[t]-e[n]}),n},sortedArray:function(e,t,n){for(var i=e.length,r=new e.constructor(i),a=0,o=0;o!==i;++a)for(var s=n[a]*t,l=0;l!==t;++l)r[o++]=e[s+l];return r},flattenJSON:function(e,t,n,i){for(var r=1,a=e[0];void 0!==a&&void 0===a[i];)a=e[r++];if(void 0!==a){var o=a[i];if(void 0!==o)if(Array.isArray(o))do{void 0!==(o=a[i])&&(t.push(a.time),n.push.apply(n,o)),a=e[r++]}while(void 0!==a);else if(void 0!==o.toArray)do{void 0!==(o=a[i])&&(t.push(a.time),o.toArray(n,n.length)),a=e[r++]}while(void 0!==a);else do{void 0!==(o=a[i])&&(t.push(a.time),n.push(o)),a=e[r++]}while(void 0!==a)}},subclip:function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:30,a=e.clone();a.name=t;for(var o=[],s=0;s<a.tracks.length;++s){for(var l=a.tracks[s],u=l.getValueSize(),c=[],h=[],d=0;d<l.times.length;++d){var f=l.times[d]*r;if(!(f<n||f>=i)){c.push(l.times[d]);for(var p=0;p<u;++p)h.push(l.values[d*u+p])}}0!==c.length&&(l.times=Co.convertArray(c,l.times.constructor),l.values=Co.convertArray(h,l.values.constructor),o.push(l))}a.tracks=o;for(var m=1/0,v=0;v<a.tracks.length;++v)m>a.tracks[v].times[0]&&(m=a.tracks[v].times[0]);for(var g=0;g<a.tracks.length;++g)a.tracks[g].shift(-1*m);return a.resetDuration(),a},makeClipAdditive:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30;i<=0&&(i=30);for(var r=n.tracks.length,a=t/i,o=function(t){var i=n.tracks[t],r=i.ValueTypeName;if("bool"===r||"string"===r)return"continue";var o=e.tracks.find(function(e){return e.name===i.name&&e.ValueTypeName===r});if(void 0===o)return"continue";var s=0,l=i.getValueSize();i.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(s=l/3);var u=0,c=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=c/3);var h=i.times.length-1,d=void 0;if(a<=i.times[0])d=Co.arraySlice(i.values,s,l-s);else if(a>=i.times[h]){var f=h*l+s;d=Co.arraySlice(i.values,f,f+l-s)}else{var p=i.createInterpolant(),m=s,v=l-s;p.evaluate(a),d=Co.arraySlice(p.resultBuffer,m,v)}"quaternion"===r&&(new W).fromArray(d).normalize().conjugate().toArray(d);for(var g=o.times.length,y=0;y<g;++y){var _=y*c+u;if("quaternion"===r)W.multiplyQuaternionsFlat(o.values,_,d,0,o.values,_);else for(var b=c-2*u,S=0;S<b;++S)o.values[_+S]-=d[S]}},s=0;s<r;++s)o(s);return e.blendMode=2501,e}};function ko(e,t,n,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new t.constructor(n),this.sampleValues=t,this.valueSize=n}function Mo(e,t,n,i){ko.call(this,e,t,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function Oo(e,t,n,i){ko.call(this,e,t,n,i)}function Ao(e,t,n,i){ko.call(this,e,t,n,i)}function Ro(e,t,n,i){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Co.convertArray(t,this.TimeBufferType),this.values=Co.convertArray(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}function Io(e,t,n){Ro.call(this,e,t,n)}function Lo(e,t,n,i){Ro.call(this,e,t,n,i)}function Po(e,t,n,i){Ro.call(this,e,t,n,i)}function Do(e,t,n,i){ko.call(this,e,t,n,i)}function No(e,t,n,i){Ro.call(this,e,t,n,i)}function jo(e,t,n,i){Ro.call(this,e,t,n,i)}function Fo(e,t,n,i){Ro.call(this,e,t,n,i)}function Uo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2500;this.name=e,this.tracks=n,this.duration=t,this.blendMode=i,this.uuid=F.generateUUID(),this.duration<0&&this.resetDuration()}function Go(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Po;case"vector":case"vector2":case"vector3":case"vector4":return Fo;case"color":return Lo;case"quaternion":return No;case"bool":case"boolean":return Io;case"string":return jo}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){var n=[],i=[];Co.flattenJSON(e.keys,n,i,"value"),e.times=n,e.values=i}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}Object.assign(ko.prototype,{evaluate:function(e){var t=this.parameterPositions,n=this._cachedIndex,i=t[n],r=t[n-1];e:{t:{var a;n:{i:if(!(e<i)){for(var o=n+2;;){if(void 0===i){if(e<r)break i;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,r)}if(n===o)break;if(r=i,e<(i=t[++n]))break t}a=t.length;break n}if(e>=r)break e;var s=t[1];e<s&&(n=2,r=s);for(var l=n-2;;){if(void 0===r)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(n===l)break;if(i=r,e>=(r=t[--n-1]))break t}a=n,n=0}for(;n<a;){var u=n+a>>>1;e<t[u]?a=u:n=u+1}if(i=t[n],void 0===(r=t[n-1]))return this._cachedIndex=0,this.beforeStart_(0,e,i);if(void 0===i)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,r,e)}this._cachedIndex=n,this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,e,i)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){for(var t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=e*i,a=0;a!==i;++a)t[a]=n[r+a];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(ko.prototype,{beforeStart_:ko.prototype.copySampleValue_,afterEnd_:ko.prototype.copySampleValue_}),Mo.prototype=Object.assign(Object.create(ko.prototype),{constructor:Mo,DefaultSettings_:{endingStart:2400,endingEnd:2400},intervalChanged_:function(e,t,n){var i=this.parameterPositions,r=e-2,a=e+1,o=i[r],s=i[a];if(void 0===o)switch(this.getSettings_().endingStart){case 2401:r=e,o=2*t-n;break;case 2402:o=t+i[r=i.length-2]-i[r+1];break;default:r=e,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case 2401:a=e,s=2*n-t;break;case 2402:a=1,s=n+i[1]-i[0];break;default:a=e-1,s=t}var l=.5*(n-t),u=this.valueSize;this._weightPrev=l/(t-o),this._weightNext=l/(s-n),this._offsetPrev=r*u,this._offsetNext=a*u},interpolate_:function(e,t,n,i){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,u=this._offsetPrev,c=this._offsetNext,h=this._weightPrev,d=this._weightNext,f=(n-t)/(i-t),p=f*f,m=p*f,v=-h*m+2*h*p-h*f,g=(1+h)*m+(-1.5-2*h)*p+(-.5+h)*f+1,y=(-1-d)*m+(1.5+d)*p+.5*f,_=d*m-d*p,b=0;b!==o;++b)r[b]=v*a[u+b]+g*a[l+b]+y*a[s+b]+_*a[c+b];return r}}),Oo.prototype=Object.assign(Object.create(ko.prototype),{constructor:Oo,interpolate_:function(e,t,n,i){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,u=(n-t)/(i-t),c=1-u,h=0;h!==o;++h)r[h]=a[l+h]*c+a[s+h]*u;return r}}),Ao.prototype=Object.assign(Object.create(ko.prototype),{constructor:Ao,interpolate_:function(e){return this.copySampleValue_(e-1)}}),Object.assign(Ro,{toJSON:function(e){var t,n=e.constructor;if(void 0!==n.toJSON)t=n.toJSON(e);else{t={name:e.name,times:Co.convertArray(e.times,Array),values:Co.convertArray(e.values,Array)};var i=e.getInterpolation();i!==e.DefaultInterpolation&&(t.interpolation=i)}return t.type=e.ValueTypeName,t}}),Object.assign(Ro.prototype,{constructor:Ro,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:M,InterpolantFactoryMethodDiscrete:function(e){return new Ao(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new Oo(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new Mo(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){var t;switch(e){case k:t=this.InterpolantFactoryMethodDiscrete;break;case M:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return k;case this.InterpolantFactoryMethodLinear:return M;case this.InterpolantFactoryMethodSmooth:return 2302}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e)for(var t=this.times,n=0,i=t.length;n!==i;++n)t[n]+=e;return this},scale:function(e){if(1!==e)for(var t=this.times,n=0,i=t.length;n!==i;++n)t[n]*=e;return this},trim:function(e,t){for(var n=this.times,i=n.length,r=0,a=i-1;r!==i&&n[r]<e;)++r;for(;-1!==a&&n[a]>t;)--a;if(++a,0!==r||a!==i){r>=a&&(r=(a=Math.max(a,1))-1);var o=this.getValueSize();this.times=Co.arraySlice(n,r,a),this.values=Co.arraySlice(this.values,r*o,a*o)}return this},validate:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var n=this.times,i=this.values,r=n.length;0===r&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var a=null,o=0;o!==r;o++){var s=n[o];if("number"==typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,s),e=!1;break}if(null!==a&&a>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,s,a),e=!1;break}a=s}if(void 0!==i&&Co.isTypedArray(i))for(var l=0,u=i.length;l!==u;++l){var c=i[l];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,c),e=!1;break}}return e},optimize:function(){for(var e=Co.arraySlice(this.times),t=Co.arraySlice(this.values),n=this.getValueSize(),i=2302===this.getInterpolation(),r=e.length-1,a=1,o=1;o<r;++o){var s=!1,l=e[o];if(l!==e[o+1]&&(1!==o||l!==e[0]))if(i)s=!0;else for(var u=o*n,c=u-n,h=u+n,d=0;d!==n;++d){var f=t[u+d];if(f!==t[c+d]||f!==t[h+d]){s=!0;break}}if(s){if(o!==a){e[a]=e[o];for(var p=o*n,m=a*n,v=0;v!==n;++v)t[m+v]=t[p+v]}++a}}if(r>0){e[a]=e[r];for(var g=r*n,y=a*n,_=0;_!==n;++_)t[y+_]=t[g+_];++a}return a!==e.length?(this.times=Co.arraySlice(e,0,a),this.values=Co.arraySlice(t,0,a*n)):(this.times=e,this.values=t),this},clone:function(){var e=Co.arraySlice(this.times,0),t=Co.arraySlice(this.values,0),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}),Io.prototype=Object.assign(Object.create(Ro.prototype),{constructor:Io,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:k,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Lo.prototype=Object.assign(Object.create(Ro.prototype),{constructor:Lo,ValueTypeName:"color"}),Po.prototype=Object.assign(Object.create(Ro.prototype),{constructor:Po,ValueTypeName:"number"}),Do.prototype=Object.assign(Object.create(ko.prototype),{constructor:Do,interpolate_:function(e,t,n,i){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=(n-t)/(i-t),l=e*o,u=l+o;l!==u;l+=4)W.slerpFlat(r,0,a,l-o,a,l,s);return r}}),No.prototype=Object.assign(Object.create(Ro.prototype),{constructor:No,ValueTypeName:"quaternion",DefaultInterpolation:M,InterpolantFactoryMethodLinear:function(e){return new Do(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),jo.prototype=Object.assign(Object.create(Ro.prototype),{constructor:jo,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:k,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Fo.prototype=Object.assign(Object.create(Ro.prototype),{constructor:Fo,ValueTypeName:"vector"}),Object.assign(Uo,{parse:function(e){for(var t=[],n=e.tracks,i=1/(e.fps||1),r=0,a=n.length;r!==a;++r)t.push(Go(n[r]).scale(i));var o=new Uo(e.name,e.duration,t,e.blendMode);return o.uuid=e.uuid,o},toJSON:function(e){for(var t=[],n=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode},r=0,a=n.length;r!==a;++r)t.push(Ro.toJSON(n[r]));return i},CreateFromMorphTargetSequence:function(e,t,n,i){for(var r=t.length,a=[],o=0;o<r;o++){var s=[],l=[];s.push((o+r-1)%r,o,(o+1)%r),l.push(0,1,0);var u=Co.getKeyframeOrder(s);s=Co.sortedArray(s,1,u),l=Co.sortedArray(l,1,u),i||0!==s[0]||(s.push(r),l.push(l[0])),a.push(new Po(".morphTargetInfluences["+t[o].name+"]",s,l).scale(1/n))}return new Uo(e,-1,a)},findByName:function(e,t){var n=e;if(!Array.isArray(e)){var i=e;n=i.geometry&&i.geometry.animations||i.animations}for(var r=0;r<n.length;r++)if(n[r].name===t)return n[r];return null},CreateClipsFromMorphTargetSequences:function(e,t,n){for(var i={},r=/^([\w-]*?)([\d]+)$/,a=0,o=e.length;a<o;a++){var s=e[a],l=s.name.match(r);if(l&&l.length>1){var u=l[1],c=i[u];c||(i[u]=c=[]),c.push(s)}}var h=[];for(var d in i)h.push(Uo.CreateFromMorphTargetSequence(d,i[d],t,n));return h},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(e,t,n,i,r){if(0!==n.length){var a=[],o=[];Co.flattenJSON(n,a,o,i),0!==a.length&&r.push(new e(t,a,o))}},i=[],r=e.name||"default",a=e.fps||30,o=e.blendMode,s=e.length||-1,l=e.hierarchy||[],u=0;u<l.length;u++){var c=l[u].keys;if(c&&0!==c.length)if(c[0].morphTargets){var h={},d=void 0;for(d=0;d<c.length;d++)if(c[d].morphTargets)for(var f=0;f<c[d].morphTargets.length;f++)h[c[d].morphTargets[f]]=-1;for(var p in h){for(var m=[],v=[],g=0;g!==c[d].morphTargets.length;++g){var y=c[d];m.push(y.time),v.push(y.morphTarget===p?1:0)}i.push(new Po(".morphTargetInfluence["+p+"]",m,v))}s=h.length*(a||1)}else{var _=".bones["+t[u].name+"]";n(Fo,_+".position",c,"pos",i),n(No,_+".quaternion",c,"rot",i),n(Fo,_+".scale",c,"scl",i)}}return 0===i.length?null:new Uo(r,s,i,o)}}),Object.assign(Uo.prototype,{resetDuration:function(){for(var e=0,t=0,n=this.tracks.length;t!==n;++t){var i=this.tracks[t];e=Math.max(e,i.times[i.times.length-1])}return this.duration=e,this},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},validate:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this},clone:function(){for(var e=[],t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new Uo(this.name,this.duration,e,this.blendMode)},toJSON:function(){return Uo.toJSON(this)}});var Vo={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},Bo=new function(e,t,n){var i,r=this,a=!1,o=0,s=0,l=[];this.onStart=void 0,this.onLoad=void 0,this.onProgress=void 0,this.onError=void 0,this.itemStart=function(e){s++,!1===a&&void 0!==r.onStart&&r.onStart(e,o,s),a=!0},this.itemEnd=function(e){o++,void 0!==r.onProgress&&r.onProgress(e,o,s),o===s&&(a=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)},this.resolveURL=function(e){return i?i(e):e},this.setURLModifier=function(e){return i=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){var t=l.indexOf(e);return-1!==t&&l.splice(t,2),this},this.getHandler=function(e){for(var t=0,n=l.length;t<n;t+=2){var i=l[t],r=l[t+1];if(i.global&&(i.lastIndex=0),i.test(e))return r}return null}};function zo(e){this.manager=void 0!==e?e:Bo,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}Object.assign(zo.prototype,{load:function(){},loadAsync:function(e,t){var n=this;return new Promise(function(i,r){n.load(e,i,t,r)})},parse:function(){},setCrossOrigin:function(e){return this.crossOrigin=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}});var Ho={};function Xo(e){zo.call(this,e)}function qo(e){zo.call(this,e)}function Wo(e){zo.call(this,e)}function Yo(e){zo.call(this,e)}function Ko(e){zo.call(this,e)}function Zo(e){zo.call(this,e)}function Jo(e){zo.call(this,e)}function Qo(){this.type="Curve",this.arcLengthDivisions=200}function $o(e,t,n,i,r,a,o,s){Qo.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=n||1,this.yRadius=i||1,this.aStartAngle=r||0,this.aEndAngle=a||2*Math.PI,this.aClockwise=o||!1,this.aRotation=s||0}function es(e,t,n,i,r,a){$o.call(this,e,t,n,n,i,r,a),this.type="ArcCurve"}function ts(){var e=0,t=0,n=0,i=0;function r(r,a,o,s){e=r,t=o,n=-3*r+3*a-2*o-s,i=2*r-2*a+o+s}return{initCatmullRom:function(e,t,n,i,a){r(t,n,a*(n-e),a*(i-t))},initNonuniformCatmullRom:function(e,t,n,i,a,o,s){var l=(t-e)/a-(n-e)/(a+o)+(n-t)/o,u=(n-t)/o-(i-t)/(o+s)+(i-n)/s;r(t,n,l*=o,u*=o)},calc:function(r){var a=r*r;return e+t*r+n*a+i*(a*r)}}}Xo.prototype=Object.assign(Object.create(zo.prototype),{constructor:Xo,load:function(e,t,n,i){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var r=this,a=Vo.get(e);if(void 0!==a)return r.manager.itemStart(e),setTimeout(function(){t&&t(a),r.manager.itemEnd(e)},0),a;if(void 0===Ho[e]){var o,s=e.match(/^data:(.*?)(;base64)?,(.*)$/);if(s){var l=s[1],u=!!s[2],c=s[3];c=decodeURIComponent(c),u&&(c=atob(c));try{var h,d=(this.responseType||"").toLowerCase();switch(d){case"arraybuffer":case"blob":for(var f=new Uint8Array(c.length),p=0;p<c.length;p++)f[p]=c.charCodeAt(p);h="blob"===d?new Blob([f.buffer],{type:l}):f.buffer;break;case"document":var m=new DOMParser;h=m.parseFromString(c,l);break;case"json":h=JSON.parse(c);break;default:h=c}setTimeout(function(){t&&t(h),r.manager.itemEnd(e)},0)}catch(g){setTimeout(function(){i&&i(g),r.manager.itemError(e),r.manager.itemEnd(e)},0)}}else{for(var v in Ho[e]=[],Ho[e].push({onLoad:t,onProgress:n,onError:i}),(o=new XMLHttpRequest).open("GET",e,!0),o.addEventListener("load",function(t){var n=this.response,i=Ho[e];if(delete Ho[e],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),Vo.add(e,n);for(var a=0,o=i.length;a<o;a++){var s=i[a];s.onLoad&&s.onLoad(n)}r.manager.itemEnd(e)}else{for(var l=0,u=i.length;l<u;l++){var c=i[l];c.onError&&c.onError(t)}r.manager.itemError(e),r.manager.itemEnd(e)}},!1),o.addEventListener("progress",function(t){for(var n=Ho[e],i=0,r=n.length;i<r;i++){var a=n[i];a.onProgress&&a.onProgress(t)}},!1),o.addEventListener("error",function(t){var n=Ho[e];delete Ho[e];for(var i=0,a=n.length;i<a;i++){var o=n[i];o.onError&&o.onError(t)}r.manager.itemError(e),r.manager.itemEnd(e)},!1),o.addEventListener("abort",function(t){var n=Ho[e];delete Ho[e];for(var i=0,a=n.length;i<a;i++){var o=n[i];o.onError&&o.onError(t)}r.manager.itemError(e),r.manager.itemEnd(e)},!1),void 0!==this.responseType&&(o.responseType=this.responseType),void 0!==this.withCredentials&&(o.withCredentials=this.withCredentials),o.overrideMimeType&&o.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)o.setRequestHeader(v,this.requestHeader[v]);o.send(null)}return r.manager.itemStart(e),o}Ho[e].push({onLoad:t,onProgress:n,onError:i})},setResponseType:function(e){return this.responseType=e,this},setMimeType:function(e){return this.mimeType=e,this}}),qo.prototype=Object.assign(Object.create(zo.prototype),{constructor:qo,load:function(e,t,n,i){var r=this,a=new Xo(r.manager);a.setPath(r.path),a.setRequestHeader(r.requestHeader),a.setWithCredentials(r.withCredentials),a.load(e,function(n){try{t(r.parse(JSON.parse(n)))}catch(a){i?i(a):console.error(a),r.manager.itemError(e)}},n,i)},parse:function(e){for(var t=[],n=0;n<e.length;n++){var i=Uo.parse(e[n]);t.push(i)}return t}}),Wo.prototype=Object.assign(Object.create(zo.prototype),{constructor:Wo,load:function(e,t,n,i){var r=this,a=[],o=new Pa,s=new Xo(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(r.withCredentials);var l=0;function u(u){s.load(e[u],function(e){var n=r.parse(e,!0);a[u]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(l+=1)&&(1===n.mipmapCount&&(o.minFilter=g),o.image=a,o.format=n.format,o.needsUpdate=!0,t&&t(o))},n,i)}if(Array.isArray(e))for(var c=0,h=e.length;c<h;++c)u(c);else s.load(e,function(e){var n=r.parse(e,!0);if(n.isCubemap){for(var i=n.mipmaps.length/n.mipmapCount,s=0;s<i;s++){a[s]={mipmaps:[]};for(var l=0;l<n.mipmapCount;l++)a[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+l]),a[s].format=n.format,a[s].width=n.width,a[s].height=n.height}o.image=a}else o.image.width=n.width,o.image.height=n.height,o.mipmaps=n.mipmaps;1===n.mipmapCount&&(o.minFilter=g),o.format=n.format,o.needsUpdate=!0,t&&t(o)},n,i);return o}}),Yo.prototype=Object.assign(Object.create(zo.prototype),{constructor:Yo,load:function(e,t,n,i){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var r=this,a=Vo.get(e);if(void 0!==a)return r.manager.itemStart(e),setTimeout(function(){t&&t(a),r.manager.itemEnd(e)},0),a;var o=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){o.removeEventListener("load",s,!1),o.removeEventListener("error",l,!1),Vo.add(e,this),t&&t(this),r.manager.itemEnd(e)}function l(t){o.removeEventListener("load",s,!1),o.removeEventListener("error",l,!1),i&&i(t),r.manager.itemError(e),r.manager.itemEnd(e)}return o.addEventListener("load",s,!1),o.addEventListener("error",l,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),r.manager.itemStart(e),o.src=e,o}}),Ko.prototype=Object.assign(Object.create(zo.prototype),{constructor:Ko,load:function(e,t,n,i){var r=new yn,a=new Yo(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);var o=0;function s(n){a.load(e[n],function(e){r.images[n]=e,6===++o&&(r.needsUpdate=!0,t&&t(r))},void 0,i)}for(var l=0;l<e.length;++l)s(l);return r}}),Zo.prototype=Object.assign(Object.create(zo.prototype),{constructor:Zo,load:function(e,t,n,i){var r=this,a=new bn,o=new Xo(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(r.withCredentials),o.load(e,function(e){var n=r.parse(e);n&&(void 0!==n.image?a.image=n.image:void 0!==n.data&&(a.image.width=n.width,a.image.height=n.height,a.image.data=n.data),a.wrapS=void 0!==n.wrapS?n.wrapS:c,a.wrapT=void 0!==n.wrapT?n.wrapT:c,a.magFilter=void 0!==n.magFilter?n.magFilter:g,a.minFilter=void 0!==n.minFilter?n.minFilter:g,a.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.encoding&&(a.encoding=n.encoding),void 0!==n.flipY&&(a.flipY=n.flipY),void 0!==n.format&&(a.format=n.format),void 0!==n.type&&(a.type=n.type),void 0!==n.mipmaps&&(a.mipmaps=n.mipmaps,a.minFilter=w),1===n.mipmapCount&&(a.minFilter=g),a.needsUpdate=!0,t&&t(a,n))},n,i),a}}),Jo.prototype=Object.assign(Object.create(zo.prototype),{constructor:Jo,load:function(e,t,n,i){var r=new z,a=new Yo(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(n){r.image=n;var i=e.search(/\.jpe?g($|\?)/i)>0||0===e.search(/^data\:image\/jpeg/);r.format=i?E:1023,r.needsUpdate=!0,void 0!==t&&t(r)},n,i),r}}),Object.assign(Qo.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)},getPoints:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t},getSpacedPoints:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n=[],i=this.getPoint(0),r=0;n.push(0);for(var a=1;a<=e;a++)r+=(t=this.getPoint(a/e)).distanceTo(i),n.push(r),i=t;return this.cacheArcLengths=n,n},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){var n,i=this.getLengths(),r=0,a=i.length;n=t||e*i[a-1];for(var o,s=0,l=a-1;s<=l;)if((o=i[r=Math.floor(s+(l-s)/2)]-n)<0)s=r+1;else{if(!(o>0)){l=r;break}l=r-1}if(i[r=l]===n)return r/(a-1);var u=i[r];return(r+(n-u)/(i[r+1]-u))/(a-1)},getTangent:function(e,t){var n=e-1e-4,i=e+1e-4;n<0&&(n=0),i>1&&(i=1);var r=this.getPoint(n),a=this.getPoint(i),o=t||(r.isVector2?new U:new Y);return o.copy(a).sub(r).normalize(),o},getTangentAt:function(e,t){var n=this.getUtoTmapping(e);return this.getTangent(n,t)},computeFrenetFrames:function(e,t){for(var n=new Y,i=[],r=[],a=[],o=new Y,s=new Te,l=0;l<=e;l++)i[l]=this.getTangentAt(l/e,new Y),i[l].normalize();r[0]=new Y,a[0]=new Y;var u=Number.MAX_VALUE,c=Math.abs(i[0].x),h=Math.abs(i[0].y),d=Math.abs(i[0].z);c<=u&&(u=c,n.set(1,0,0)),h<=u&&(u=h,n.set(0,1,0)),d<=u&&n.set(0,0,1),o.crossVectors(i[0],n).normalize(),r[0].crossVectors(i[0],o),a[0].crossVectors(i[0],r[0]);for(var f=1;f<=e;f++){if(r[f]=r[f-1].clone(),a[f]=a[f-1].clone(),o.crossVectors(i[f-1],i[f]),o.length()>Number.EPSILON){o.normalize();var p=Math.acos(F.clamp(i[f-1].dot(i[f]),-1,1));r[f].applyMatrix4(s.makeRotationAxis(o,p))}a[f].crossVectors(i[f],r[f])}if(!0===t){var m=Math.acos(F.clamp(r[0].dot(r[e]),-1,1));m/=e,i[0].dot(o.crossVectors(r[0],r[e]))>0&&(m=-m);for(var v=1;v<=e;v++)r[v].applyMatrix4(s.makeRotationAxis(i[v],m*v)),a[v].crossVectors(i[v],r[v])}return{tangents:i,normals:r,binormals:a}},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}),($o.prototype=Object.create(Qo.prototype)).constructor=$o,$o.prototype.isEllipseCurve=!0,$o.prototype.getPoint=function(e,t){for(var n=t||new U,i=2*Math.PI,r=this.aEndAngle-this.aStartAngle,a=Math.abs(r)<Number.EPSILON;r<0;)r+=i;for(;r>i;)r-=i;r<Number.EPSILON&&(r=a?0:i),!0!==this.aClockwise||a||(r===i?r=-i:r-=i);var o=this.aStartAngle+e*r,s=this.aX+this.xRadius*Math.cos(o),l=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var u=Math.cos(this.aRotation),c=Math.sin(this.aRotation),h=s-this.aX,d=l-this.aY;s=h*u-d*c+this.aX,l=h*c+d*u+this.aY}return n.set(s,l)},$o.prototype.copy=function(e){return Qo.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},$o.prototype.toJSON=function(){var e=Qo.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e},$o.prototype.fromJSON=function(e){return Qo.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},(es.prototype=Object.create($o.prototype)).constructor=es,es.prototype.isArcCurve=!0;var ns=new Y,is=new ts,rs=new ts,as=new ts;function os(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"centripetal",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;Qo.call(this),this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=i}function ss(e,t,n,i,r){var a=.5*(i-t),o=.5*(r-n),s=e*e;return(2*n-2*i+a+o)*(e*s)+(-3*n+3*i-2*a-o)*s+a*e+n}function ls(e,t,n,i){return function(e,t){var n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,i)}function us(e,t,n,i,r){return function(e,t){var n=1-e;return n*n*n*t}(e,t)+function(e,t){var n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,i)+function(e,t){return e*e*e*t}(e,r)}function cs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new U,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new U,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new U,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new U;Qo.call(this),this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=i}function hs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Y,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Y,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Y,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Y;Qo.call(this),this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=i}function ds(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new U,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new U;Qo.call(this),this.type="LineCurve",this.v1=e,this.v2=t}function fs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Y,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Y;Qo.call(this),this.type="LineCurve3",this.v1=e,this.v2=t}function ps(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new U,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new U,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new U;Qo.call(this),this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}function ms(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Y,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Y,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Y;Qo.call(this),this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}function vs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Qo.call(this),this.type="SplineCurve",this.points=e}(os.prototype=Object.create(Qo.prototype)).constructor=os,os.prototype.isCatmullRomCurve3=!0,os.prototype.getPoint=function(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Y,r=i,a=this.points,o=a.length,s=(o-(this.closed?0:1))*e,l=Math.floor(s),u=s-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/o)+1)*o:0===u&&l===o-1&&(l=o-2,u=1),this.closed||l>0?t=a[(l-1)%o]:(ns.subVectors(a[0],a[1]).add(a[0]),t=ns);var c=a[l%o],h=a[(l+1)%o];if(this.closed||l+2<o?n=a[(l+2)%o]:(ns.subVectors(a[o-1],a[o-2]).add(a[o-1]),n=ns),"centripetal"===this.curveType||"chordal"===this.curveType){var d="chordal"===this.curveType?.5:.25,f=Math.pow(t.distanceToSquared(c),d),p=Math.pow(c.distanceToSquared(h),d),m=Math.pow(h.distanceToSquared(n),d);p<1e-4&&(p=1),f<1e-4&&(f=p),m<1e-4&&(m=p),is.initNonuniformCatmullRom(t.x,c.x,h.x,n.x,f,p,m),rs.initNonuniformCatmullRom(t.y,c.y,h.y,n.y,f,p,m),as.initNonuniformCatmullRom(t.z,c.z,h.z,n.z,f,p,m)}else"catmullrom"===this.curveType&&(is.initCatmullRom(t.x,c.x,h.x,n.x,this.tension),rs.initCatmullRom(t.y,c.y,h.y,n.y,this.tension),as.initCatmullRom(t.z,c.z,h.z,n.z,this.tension));return r.set(is.calc(u),rs.calc(u),as.calc(u)),r},os.prototype.copy=function(e){Qo.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++)this.points.push(e.points[t].clone());return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},os.prototype.toJSON=function(){var e=Qo.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++)e.points.push(this.points[t].toArray());return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e},os.prototype.fromJSON=function(e){Qo.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var i=e.points[t];this.points.push((new Y).fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},(cs.prototype=Object.create(Qo.prototype)).constructor=cs,cs.prototype.isCubicBezierCurve=!0,cs.prototype.getPoint=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new U,n=t,i=this.v0,r=this.v1,a=this.v2,o=this.v3;return n.set(us(e,i.x,r.x,a.x,o.x),us(e,i.y,r.y,a.y,o.y)),n},cs.prototype.copy=function(e){return Qo.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},cs.prototype.toJSON=function(){var e=Qo.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},cs.prototype.fromJSON=function(e){return Qo.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},(hs.prototype=Object.create(Qo.prototype)).constructor=hs,hs.prototype.isCubicBezierCurve3=!0,hs.prototype.getPoint=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Y,n=t,i=this.v0,r=this.v1,a=this.v2,o=this.v3;return n.set(us(e,i.x,r.x,a.x,o.x),us(e,i.y,r.y,a.y,o.y),us(e,i.z,r.z,a.z,o.z)),n},hs.prototype.copy=function(e){return Qo.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},hs.prototype.toJSON=function(){var e=Qo.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},hs.prototype.fromJSON=function(e){return Qo.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},(ds.prototype=Object.create(Qo.prototype)).constructor=ds,ds.prototype.isLineCurve=!0,ds.prototype.getPoint=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new U,n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},ds.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},ds.prototype.getTangent=function(e,t){var n=t||new U;return n.copy(this.v2).sub(this.v1).normalize(),n},ds.prototype.copy=function(e){return Qo.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},ds.prototype.toJSON=function(){var e=Qo.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},ds.prototype.fromJSON=function(e){return Qo.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},(fs.prototype=Object.create(Qo.prototype)).constructor=fs,fs.prototype.isLineCurve3=!0,fs.prototype.getPoint=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Y,n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},fs.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},fs.prototype.copy=function(e){return Qo.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},fs.prototype.toJSON=function(){var e=Qo.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},fs.prototype.fromJSON=function(e){return Qo.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},(ps.prototype=Object.create(Qo.prototype)).constructor=ps,ps.prototype.isQuadraticBezierCurve=!0,ps.prototype.getPoint=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new U,n=t,i=this.v0,r=this.v1,a=this.v2;return n.set(ls(e,i.x,r.x,a.x),ls(e,i.y,r.y,a.y)),n},ps.prototype.copy=function(e){return Qo.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},ps.prototype.toJSON=function(){var e=Qo.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},ps.prototype.fromJSON=function(e){return Qo.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},(ms.prototype=Object.create(Qo.prototype)).constructor=ms,ms.prototype.isQuadraticBezierCurve3=!0,ms.prototype.getPoint=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Y,n=t,i=this.v0,r=this.v1,a=this.v2;return n.set(ls(e,i.x,r.x,a.x),ls(e,i.y,r.y,a.y),ls(e,i.z,r.z,a.z)),n},ms.prototype.copy=function(e){return Qo.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},ms.prototype.toJSON=function(){var e=Qo.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},ms.prototype.fromJSON=function(e){return Qo.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},(vs.prototype=Object.create(Qo.prototype)).constructor=vs,vs.prototype.isSplineCurve=!0,vs.prototype.getPoint=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new U,n=t,i=this.points,r=(i.length-1)*e,a=Math.floor(r),o=r-a,s=i[0===a?a:a-1],l=i[a],u=i[a>i.length-2?i.length-1:a+1],c=i[a>i.length-3?i.length-1:a+2];return n.set(ss(o,s.x,l.x,u.x,c.x),ss(o,s.y,l.y,u.y,c.y)),n},vs.prototype.copy=function(e){Qo.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++)this.points.push(e.points[t].clone());return this},vs.prototype.toJSON=function(){var e=Qo.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++)e.points.push(this.points[t].toArray());return e},vs.prototype.fromJSON=function(e){Qo.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var i=e.points[t];this.points.push((new U).fromArray(i))}return this};var gs=Object.freeze({__proto__:null,ArcCurve:es,CatmullRomCurve3:os,CubicBezierCurve:cs,CubicBezierCurve3:hs,EllipseCurve:$o,LineCurve:ds,LineCurve3:fs,QuadraticBezierCurve:ps,QuadraticBezierCurve3:ms,SplineCurve:vs});function ys(){Qo.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function _s(e){ys.call(this),this.type="Path",this.currentPoint=new U,e&&this.setFromPoints(e)}function bs(e){_s.call(this,e),this.uuid=F.generateUUID(),this.type="Shape",this.holes=[]}function Ss(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;We.call(this),this.type="Light",this.color=new mt(e),this.intensity=t}function Ts(e,t,n){Ss.call(this,e,n),this.type="HemisphereLight",this.position.copy(We.DefaultUp),this.updateMatrix(),this.groundColor=new mt(t)}function ws(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new U(512,512),this.map=null,this.mapPass=null,this.matrix=new Te,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new wn,this._frameExtents=new U(1,1),this._viewportCount=1,this._viewports=[new X(0,0,1,1)]}function xs(){ws.call(this,new vn(50,1,.5,500)),this.focus=1}function Es(e,t,n,i,r,a){Ss.call(this,e,t),this.type="SpotLight",this.position.copy(We.DefaultUp),this.updateMatrix(),this.target=new We,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==i?i:Math.PI/3,this.penumbra=void 0!==r?r:0,this.decay=void 0!==a?a:1,this.shadow=new xs}function Cs(){ws.call(this,new vn(90,1,.5,500)),this._frameExtents=new U(4,2),this._viewportCount=6,this._viewports=[new X(2,1,1,1),new X(0,1,1,1),new X(3,1,1,1),new X(1,1,1,1),new X(3,0,1,1),new X(1,0,1,1)],this._cubeDirections=[new Y(1,0,0),new Y(-1,0,0),new Y(0,0,1),new Y(0,0,-1),new Y(0,1,0),new Y(0,-1,0)],this._cubeUps=[new Y(0,1,0),new Y(0,1,0),new Y(0,1,0),new Y(0,1,0),new Y(0,0,1),new Y(0,0,-1)]}function ks(e,t,n,i){Ss.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==i?i:1,this.shadow=new Cs}function Ms(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2e3;mn.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=i,this.near=r,this.far=a,this.updateProjectionMatrix()}function Os(){ws.call(this,new Ms(-5,5,5,-5,.5,500))}function As(e,t){Ss.call(this,e,t),this.type="DirectionalLight",this.position.copy(We.DefaultUp),this.updateMatrix(),this.target=new We,this.shadow=new Os}function Rs(e,t){Ss.call(this,e,t),this.type="AmbientLight"}function Is(e,t,n,i){Ss.call(this,e,t),this.type="RectAreaLight",this.width=void 0!==n?n:10,this.height=void 0!==i?i:10}ys.prototype=Object.assign(Object.create(Qo.prototype),{constructor:ys,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new ds(t,e))},getPoint:function(e){for(var t=e*this.getLength(),n=this.getCurveLengths(),i=0;i<n.length;){if(n[i]>=t){var r=n[i]-t,a=this.curves[i],o=a.getLength();return a.getPointAt(0===o?0:1-r/o)}i++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,i=this.curves.length;n<i;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:40,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(){for(var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,n=[],i=0,r=this.curves;i<r.length;i++)for(var a=r[i],o=a.getPoints(a&&a.isEllipseCurve?2*t:a&&(a.isLineCurve||a.isLineCurve3)?1:a&&a.isSplineCurve?t*a.points.length:t),s=0;s<o.length;s++){var l=o[s];e&&e.equals(l)||(n.push(l),e=l)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},copy:function(e){Qo.prototype.copy.call(this,e),this.curves=[];for(var t=0,n=e.curves.length;t<n;t++)this.curves.push(e.curves[t].clone());return this.autoClose=e.autoClose,this},toJSON:function(){var e=Qo.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,n=this.curves.length;t<n;t++)e.curves.push(this.curves[t].toJSON());return e},fromJSON:function(e){Qo.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var i=e.curves[t];this.curves.push((new gs[i.type]).fromJSON(i))}return this}}),_s.prototype=Object.assign(Object.create(ys.prototype),{constructor:_s,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this},moveTo:function(e,t){return this.currentPoint.set(e,t),this},lineTo:function(e,t){var n=new ds(this.currentPoint.clone(),new U(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this},quadraticCurveTo:function(e,t,n,i){var r=new ps(this.currentPoint.clone(),new U(e,t),new U(n,i));return this.curves.push(r),this.currentPoint.set(n,i),this},bezierCurveTo:function(e,t,n,i,r,a){var o=new cs(this.currentPoint.clone(),new U(e,t),new U(n,i),new U(r,a));return this.curves.push(o),this.currentPoint.set(r,a),this},splineThru:function(e){var t=new vs([this.currentPoint.clone()].concat(e));return this.curves.push(t),this.currentPoint.copy(e[e.length-1]),this},arc:function(e,t,n,i,r,a){return this.absarc(e+this.currentPoint.x,t+this.currentPoint.y,n,i,r,a),this},absarc:function(e,t,n,i,r,a){return this.absellipse(e,t,n,n,i,r,a),this},ellipse:function(e,t,n,i,r,a,o,s){return this.absellipse(e+this.currentPoint.x,t+this.currentPoint.y,n,i,r,a,o,s),this},absellipse:function(e,t,n,i,r,a,o,s){var l=new $o(e,t,n,i,r,a,o,s);if(this.curves.length>0){var u=l.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(l);var c=l.getPoint(1);return this.currentPoint.copy(c),this},copy:function(e){return ys.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){var e=ys.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return ys.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}),bs.prototype=Object.assign(Object.create(_s.prototype),{constructor:bs,getPointsHoles:function(e){for(var t=[],n=0,i=this.holes.length;n<i;n++)t[n]=this.holes[n].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){_s.prototype.copy.call(this,e),this.holes=[];for(var t=0,n=e.holes.length;t<n;t++)this.holes.push(e.holes[t].clone());return this},toJSON:function(){var e=_s.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,n=this.holes.length;t<n;t++)e.holes.push(this.holes[t].toJSON());return e},fromJSON:function(e){_s.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var i=e.holes[t];this.holes.push((new _s).fromJSON(i))}return this}}),Ss.prototype=Object.assign(Object.create(We.prototype),{constructor:Ss,isLight:!0,copy:function(e){return We.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){var t=We.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}),Ts.prototype=Object.assign(Object.create(Ss.prototype),{constructor:Ts,isHemisphereLight:!0,copy:function(e){return Ss.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}),Object.assign(ws.prototype,{_projScreenMatrix:new Te,_lightPositionWorld:new Y,_lookTarget:new Y,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(e){var t=this.camera,n=this.matrix,i=this._projScreenMatrix,r=this._lookTarget,a=this._lightPositionWorld;a.setFromMatrixPosition(e.matrixWorld),t.position.copy(a),r.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(r),t.updateMatrixWorld(),i.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(i),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(t.projectionMatrix),n.multiply(t.matrixWorldInverse)},getViewport:function(e){return this._viewports[e]},getFrameExtents:function(){return this._frameExtents},copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}),xs.prototype=Object.assign(Object.create(ws.prototype),{constructor:xs,isSpotLightShadow:!0,updateMatrices:function(e){var t=this.camera,n=2*F.RAD2DEG*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,r=e.distance||t.far;n===t.fov&&i===t.aspect&&r===t.far||(t.fov=n,t.aspect=i,t.far=r,t.updateProjectionMatrix()),ws.prototype.updateMatrices.call(this,e)}}),Es.prototype=Object.assign(Object.create(Ss.prototype),{constructor:Es,isSpotLight:!0,copy:function(e){return Ss.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Cs.prototype=Object.assign(Object.create(ws.prototype),{constructor:Cs,isPointLightShadow:!0,updateMatrices:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.camera,i=this.matrix,r=this._lightPositionWorld,a=this._lookTarget,o=this._projScreenMatrix;r.setFromMatrixPosition(e.matrixWorld),n.position.copy(r),a.copy(n.position),a.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(a),n.updateMatrixWorld(),i.makeTranslation(-r.x,-r.y,-r.z),o.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(o)}}),ks.prototype=Object.assign(Object.create(Ss.prototype),{constructor:ks,isPointLight:!0,copy:function(e){return Ss.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),Ms.prototype=Object.assign(Object.create(mn.prototype),{constructor:Ms,isOrthographicCamera:!0,copy:function(e,t){return mn.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this},setViewOffset:function(e,t,n,i,r,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2,r=n-e,a=n+e,o=i+t,s=i-t;if(null!==this.view&&this.view.enabled){var l=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a=(r+=l*this.view.offsetX)+l*this.view.width,s=(o-=u*this.view.offsetY)-u*this.view.height}this.projectionMatrix.makeOrthographic(r,a,o,s,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()},toJSON:function(e){var t=We.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}),Os.prototype=Object.assign(Object.create(ws.prototype),{constructor:Os,isDirectionalLightShadow:!0,updateMatrices:function(e){ws.prototype.updateMatrices.call(this,e)}}),As.prototype=Object.assign(Object.create(Ss.prototype),{constructor:As,isDirectionalLight:!0,copy:function(e){return Ss.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Rs.prototype=Object.assign(Object.create(Ss.prototype),{constructor:Rs,isAmbientLight:!0}),Is.prototype=Object.assign(Object.create(Ss.prototype),{constructor:Is,isRectAreaLight:!0,copy:function(e){return Ss.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){var t=Ss.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}});var Ls=function(){function e(){_(this,e),Object.defineProperty(this,"isSphericalHarmonics3",{value:!0}),this.coefficients=[];for(var t=0;t<9;t++)this.coefficients.push(new Y)}return y(e,[{key:"set",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}},{key:"zero",value:function(){for(var e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}},{key:"getAt",value:function(e,t){var n=e.x,i=e.y,r=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*i),t.addScaledVector(a[2],.488603*r),t.addScaledVector(a[3],.488603*n),t.addScaledVector(a[4],n*i*1.092548),t.addScaledVector(a[5],i*r*1.092548),t.addScaledVector(a[6],.315392*(3*r*r-1)),t.addScaledVector(a[7],n*r*1.092548),t.addScaledVector(a[8],.546274*(n*n-i*i)),t}},{key:"getIrradianceAt",value:function(e,t){var n=e.x,i=e.y,r=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],1.023328*i),t.addScaledVector(a[2],1.023328*r),t.addScaledVector(a[3],1.023328*n),t.addScaledVector(a[4],.858086*n*i),t.addScaledVector(a[5],.858086*i*r),t.addScaledVector(a[6],.743125*r*r-.247708),t.addScaledVector(a[7],.858086*n*r),t.addScaledVector(a[8],.429043*(n*n-i*i)),t}},{key:"add",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}},{key:"addScaledSH",value:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}},{key:"scale",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}},{key:"lerp",value:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}},{key:"equals",value:function(e){for(var t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}},{key:"copy",value:function(e){return this.set(e.coefficients)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,i=0;i<9;i++)n[i].fromArray(e,t+3*i);return this}},{key:"toArray",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,i=0;i<9;i++)n[i].toArray(e,t+3*i);return e}}],[{key:"getBasisAt",value:function(e,t){var n=e.x,i=e.y,r=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*r,t[3]=.488603*n,t[4]=1.092548*n*i,t[5]=1.092548*i*r,t[6]=.315392*(3*r*r-1),t[7]=1.092548*n*r,t[8]=.546274*(n*n-i*i)}}]),e}();function Ps(e,t){Ss.call(this,void 0,t),this.type="LightProbe",this.sh=void 0!==e?e:new Ls}function Ds(e){zo.call(this,e),this.textures={}}Ps.prototype=Object.assign(Object.create(Ss.prototype),{constructor:Ps,isLightProbe:!0,copy:function(e){return Ss.prototype.copy.call(this,e),this.sh.copy(e.sh),this},fromJSON:function(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this},toJSON:function(e){var t=Ss.prototype.toJSON.call(this,e);return t.object.sh=this.sh.toArray(),t}}),Ds.prototype=Object.assign(Object.create(zo.prototype),{constructor:Ds,load:function(e,t,n,i){var r=this,a=new Xo(r.manager);a.setPath(r.path),a.setRequestHeader(r.requestHeader),a.setWithCredentials(r.withCredentials),a.load(e,function(n){try{t(r.parse(JSON.parse(n)))}catch(a){i?i(a):console.error(a),r.manager.itemError(e)}},n,i)},parse:function(e){var t=this.textures;function n(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}var i=new Eo[e.type];if(void 0!==e.uuid&&(i.uuid=e.uuid),void 0!==e.name&&(i.name=e.name),void 0!==e.color&&void 0!==i.color&&i.color.setHex(e.color),void 0!==e.roughness&&(i.roughness=e.roughness),void 0!==e.metalness&&(i.metalness=e.metalness),void 0!==e.sheen&&(i.sheen=(new mt).setHex(e.sheen)),void 0!==e.emissive&&void 0!==i.emissive&&i.emissive.setHex(e.emissive),void 0!==e.specular&&void 0!==i.specular&&i.specular.setHex(e.specular),void 0!==e.shininess&&(i.shininess=e.shininess),void 0!==e.clearcoat&&(i.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(i.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.fog&&(i.fog=e.fog),void 0!==e.flatShading&&(i.flatShading=e.flatShading),void 0!==e.blending&&(i.blending=e.blending),void 0!==e.combine&&(i.combine=e.combine),void 0!==e.side&&(i.side=e.side),void 0!==e.opacity&&(i.opacity=e.opacity),void 0!==e.transparent&&(i.transparent=e.transparent),void 0!==e.alphaTest&&(i.alphaTest=e.alphaTest),void 0!==e.depthTest&&(i.depthTest=e.depthTest),void 0!==e.depthWrite&&(i.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(i.colorWrite=e.colorWrite),void 0!==e.stencilWrite&&(i.stencilWrite=e.stencilWrite),void 0!==e.stencilWriteMask&&(i.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(i.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(i.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(i.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(i.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(i.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(i.stencilZPass=e.stencilZPass),void 0!==e.wireframe&&(i.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(i.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(i.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(i.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(i.rotation=e.rotation),1!==e.linewidth&&(i.linewidth=e.linewidth),void 0!==e.dashSize&&(i.dashSize=e.dashSize),void 0!==e.gapSize&&(i.gapSize=e.gapSize),void 0!==e.scale&&(i.scale=e.scale),void 0!==e.polygonOffset&&(i.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(i.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(i.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.skinning&&(i.skinning=e.skinning),void 0!==e.morphTargets&&(i.morphTargets=e.morphTargets),void 0!==e.morphNormals&&(i.morphNormals=e.morphNormals),void 0!==e.dithering&&(i.dithering=e.dithering),void 0!==e.vertexTangents&&(i.vertexTangents=e.vertexTangents),void 0!==e.visible&&(i.visible=e.visible),void 0!==e.toneMapped&&(i.toneMapped=e.toneMapped),void 0!==e.userData&&(i.userData=e.userData),void 0!==e.vertexColors&&(i.vertexColors="number"==typeof e.vertexColors?e.vertexColors>0:e.vertexColors),void 0!==e.uniforms)for(var r in e.uniforms){var a=e.uniforms[r];switch(i.uniforms[r]={},a.type){case"t":i.uniforms[r].value=n(a.value);break;case"c":i.uniforms[r].value=(new mt).setHex(a.value);break;case"v2":i.uniforms[r].value=(new U).fromArray(a.value);break;case"v3":i.uniforms[r].value=(new Y).fromArray(a.value);break;case"v4":i.uniforms[r].value=(new X).fromArray(a.value);break;case"m3":i.uniforms[r].value=(new G).fromArray(a.value);break;case"m4":i.uniforms[r].value=(new Te).fromArray(a.value);break;default:i.uniforms[r].value=a.value}}if(void 0!==e.defines&&(i.defines=e.defines),void 0!==e.vertexShader&&(i.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(i.fragmentShader=e.fragmentShader),void 0!==e.extensions)for(var o in e.extensions)i.extensions[o]=e.extensions[o];if(void 0!==e.shading&&(i.flatShading=1===e.shading),void 0!==e.size&&(i.size=e.size),void 0!==e.sizeAttenuation&&(i.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(i.map=n(e.map)),void 0!==e.matcap&&(i.matcap=n(e.matcap)),void 0!==e.alphaMap&&(i.alphaMap=n(e.alphaMap)),void 0!==e.bumpMap&&(i.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(i.bumpScale=e.bumpScale),void 0!==e.normalMap&&(i.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(i.normalMapType=e.normalMapType),void 0!==e.normalScale){var s=e.normalScale;!1===Array.isArray(s)&&(s=[s,s]),i.normalScale=(new U).fromArray(s)}return void 0!==e.displacementMap&&(i.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(i.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(i.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(i.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(i.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(i.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(i.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(i.specularMap=n(e.specularMap)),void 0!==e.envMap&&(i.envMap=n(e.envMap)),void 0!==e.envMapIntensity&&(i.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(i.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(i.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(i.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(i.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(i.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(i.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(i.gradientMap=n(e.gradientMap)),void 0!==e.clearcoatMap&&(i.clearcoatMap=n(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(i.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(i.clearcoatNormalMap=n(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(i.clearcoatNormalScale=(new U).fromArray(e.clearcoatNormalScale)),void 0!==e.transmission&&(i.transmission=e.transmission),void 0!==e.transmissionMap&&(i.transmissionMap=n(e.transmissionMap)),i},setTextures:function(e){return this.textures=e,this}});var Ns={decodeText:function(e){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",n=0,i=e.length;n<i;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(r){return t}},extractUrlBase:function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.substr(0,t+1)}};function js(){zt.call(this),this.type="InstancedBufferGeometry",this.instanceCount=1/0}function Fs(e,t,n,i){"number"==typeof n&&(i=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),Tt.call(this,e,t,n),this.meshPerAttribute=i||1}function Us(e){zo.call(this,e)}function Gs(e){"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),zo.call(this,e),this.options={premultiplyAlpha:"none"}}function Vs(){this.type="ShapePath",this.color=new mt,this.subPaths=[],this.currentPath=null}js.prototype=Object.assign(Object.create(zt.prototype),{constructor:js,isInstancedBufferGeometry:!0,copy:function(e){return zt.prototype.copy.call(this,e),this.instanceCount=e.instanceCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e=zt.prototype.toJSON.call(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}),Fs.prototype=Object.assign(Object.create(Tt.prototype),{constructor:Fs,isInstancedBufferAttribute:!0,copy:function(e){return Tt.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},toJSON:function(){var e=Tt.prototype.toJSON.call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}),Us.prototype=Object.assign(Object.create(zo.prototype),{constructor:Us,load:function(e,t,n,i){var r=this,a=new Xo(r.manager);a.setPath(r.path),a.setRequestHeader(r.requestHeader),a.setWithCredentials(r.withCredentials),a.load(e,function(n){try{t(r.parse(JSON.parse(n)))}catch(a){i?i(a):console.error(a),r.manager.itemError(e)}},n,i)},parse:function(e){var t={},n={};function i(e,i){if(void 0!==t[i])return t[i];var r=e.interleavedBuffers[i],a=function(e,t){if(void 0!==n[t])return n[t];var i=new Uint32Array(e.arrayBuffers[t]).buffer;return n[t]=i,i}(e,r.buffer),o=new Ir(Dt(r.type,a),r.stride);return o.uuid=r.uuid,t[i]=o,o}var r=e.isInstancedBufferGeometry?new js:new zt,a=e.data.index;if(void 0!==a){var o=Dt(a.type,a.array);r.setIndex(new Tt(o,1))}var s=e.data.attributes;for(var l in s){var u=s[l],c=void 0;if(u.isInterleavedBufferAttribute)c=new Dr(i(e.data,u.data),u.itemSize,u.offset,u.normalized);else{var h=Dt(u.type,u.array);c=new(u.isInstancedBufferAttribute?Fs:Tt)(h,u.itemSize,u.normalized)}void 0!==u.name&&(c.name=u.name),r.setAttribute(l,c)}var d=e.data.morphAttributes;if(d)for(var f in d){for(var p=d[f],m=[],v=0,g=p.length;v<g;v++){var y=p[v],_=void 0;_=y.isInterleavedBufferAttribute?new Dr(i(e.data,y.data),y.itemSize,y.offset,y.normalized):new Tt(Dt(y.type,y.array),y.itemSize,y.normalized),void 0!==y.name&&(_.name=y.name),m.push(_)}r.morphAttributes[f]=m}e.data.morphTargetsRelative&&(r.morphTargetsRelative=!0);var b=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==b)for(var S=0,T=b.length;S!==T;++S){var w=b[S];r.addGroup(w.start,w.count,w.materialIndex)}var x=e.data.boundingSphere;if(void 0!==x){var E=new Y;void 0!==x.center&&E.fromArray(x.center),r.boundingSphere=new fe(E,x.radius)}return e.name&&(r.name=e.name),e.userData&&(r.userData=e.userData),r}}),Gs.prototype=Object.assign(Object.create(zo.prototype),{constructor:Gs,isImageBitmapLoader:!0,setOptions:function(e){return this.options=e,this},load:function(e,t,n,i){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var r=this,a=Vo.get(e);if(void 0!==a)return r.manager.itemStart(e),setTimeout(function(){t&&t(a),r.manager.itemEnd(e)},0),a;var o={};o.credentials="anonymous"===this.crossOrigin?"same-origin":"include",fetch(e,o).then(function(e){return e.blob()}).then(function(e){return createImageBitmap(e,r.options)}).then(function(n){Vo.add(e,n),t&&t(n),r.manager.itemEnd(e)}).catch(function(t){i&&i(t),r.manager.itemError(e),r.manager.itemEnd(e)}),r.manager.itemStart(e)}}),Object.assign(Vs.prototype,{moveTo:function(e,t){return this.currentPath=new _s,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this},lineTo:function(e,t){return this.currentPath.lineTo(e,t),this},quadraticCurveTo:function(e,t,n,i){return this.currentPath.quadraticCurveTo(e,t,n,i),this},bezierCurveTo:function(e,t,n,i,r,a){return this.currentPath.bezierCurveTo(e,t,n,i,r,a),this},splineThru:function(e){return this.currentPath.splineThru(e),this},toShapes:function(e,t){function n(e){for(var t=[],n=0,i=e.length;n<i;n++){var r=e[n],a=new bs;a.curves=r.curves,t.push(a)}return t}function i(e,t){for(var n=t.length,i=!1,r=n-1,a=0;a<n;r=a++){var o=t[r],s=t[a],l=s.x-o.x,u=s.y-o.y;if(Math.abs(u)>Number.EPSILON){if(u<0&&(o=t[a],l=-l,s=t[r],u=-u),e.y<o.y||e.y>s.y)continue;if(e.y===o.y){if(e.x===o.x)return!0}else{var c=u*(e.x-o.x)-l*(e.y-o.y);if(0===c)return!0;if(c<0)continue;i=!i}}else{if(e.y!==o.y)continue;if(s.x<=e.x&&e.x<=o.x||o.x<=e.x&&e.x<=s.x)return!0}}return i}var r,a,o,s=so.isClockWise,l=this.subPaths;if(0===l.length)return[];if(!0===t)return n(l);var u=[];if(1===l.length)return a=l[0],(o=new bs).curves=a.curves,u.push(o),u;var c=!s(l[0].getPoints());c=e?!c:c;var h,d,f=[],p=[],m=[],v=0;p[v]=void 0,m[v]=[];for(var g=0,y=l.length;g<y;g++)r=s(h=(a=l[g]).getPoints()),(r=e?!r:r)?(!c&&p[v]&&v++,p[v]={s:new bs,p:h},p[v].s.curves=a.curves,c&&v++,m[v]=[]):m[v].push({h:a,p:h[0]});if(!p[0])return n(l);if(p.length>1){for(var _=!1,b=[],S=0,T=p.length;S<T;S++)f[S]=[];for(var w=0,x=p.length;w<x;w++)for(var E=m[w],C=0;C<E.length;C++){for(var k=E[C],M=!0,O=0;O<p.length;O++)i(k.p,p[O].p)&&(w!==O&&b.push({froms:w,tos:O,hole:C}),M?(M=!1,f[O].push(k)):_=!0);M&&f[w].push(k)}b.length>0&&(_||(m=f))}for(var A=0,R=p.length;A<R;A++){o=p[A].s,u.push(o);for(var I=0,L=(d=m[A]).length;I<L;I++)o.holes.push(d[I].h)}return u}});var Bs,zs=function(){function e(t){_(this,e),Object.defineProperty(this,"isFont",{value:!0}),this.type="Font",this.data=t}return y(e,[{key:"generateShapes",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=[],i=function(e,t,n){for(var i=Array.from?Array.from(e):String(e).split(""),r=t/n.resolution,a=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*r,o=[],s=0,l=0,u=0;u<i.length;u++){var c=i[u];if("\n"===c)s=0,l-=a;else{var h=Hs(c,r,s,l,n);s+=h.offsetX,o.push(h.path)}}return o}(e,t,this.data),r=0,a=i.length;r<a;r++)Array.prototype.push.apply(n,i[r].toShapes());return n}}]),e}();function Hs(e,t,n,i,r){var a=r.glyphs[e]||r.glyphs["?"];if(a){var o,s,l,u,c,h,d,f,p=new Vs;if(a.o)for(var m=a._cachedOutline||(a._cachedOutline=a.o.split(" ")),v=0,g=m.length;v<g;)switch(m[v++]){case"m":o=m[v++]*t+n,s=m[v++]*t+i,p.moveTo(o,s);break;case"l":o=m[v++]*t+n,s=m[v++]*t+i,p.lineTo(o,s);break;case"q":l=m[v++]*t+n,u=m[v++]*t+i,c=m[v++]*t+n,h=m[v++]*t+i,p.quadraticCurveTo(c,h,l,u);break;case"b":l=m[v++]*t+n,u=m[v++]*t+i,c=m[v++]*t+n,h=m[v++]*t+i,d=m[v++]*t+n,f=m[v++]*t+i,p.bezierCurveTo(c,h,d,f,l,u)}return{offsetX:a.ha*t,path:p}}console.error('THREE.Font: character "'+e+'" does not exists in font family '+r.familyName+".")}function Xs(e){zo.call(this,e)}function qs(e){zo.call(this,e)}function Ws(e,t,n){Ps.call(this,void 0,n);var i=(new mt).set(e),r=(new mt).set(t),a=new Y(i.r,i.g,i.b),o=new Y(r.r,r.g,r.b),s=Math.sqrt(Math.PI),l=s*Math.sqrt(.75);this.sh.coefficients[0].copy(a).add(o).multiplyScalar(s),this.sh.coefficients[1].copy(a).sub(o).multiplyScalar(l)}function Ys(e,t){Ps.call(this,void 0,t);var n=(new mt).set(e);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}Xs.prototype=Object.assign(Object.create(zo.prototype),{constructor:Xs,load:function(e,t,n,i){var r=this,a=new Xo(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(r.withCredentials),a.load(e,function(e){var n;try{n=JSON.parse(e)}catch(a){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(e.substring(65,e.length-2))}var i=r.parse(n);t&&t(i)},n,i)},parse:function(e){return new zs(e)}}),qs.prototype=Object.assign(Object.create(zo.prototype),{constructor:qs,load:function(e,t,n,i){var r=this,a=new Xo(r.manager);a.setResponseType("arraybuffer"),a.setPath(r.path),a.setRequestHeader(r.requestHeader),a.setWithCredentials(r.withCredentials),a.load(e,function(n){try{var a=n.slice(0);(void 0===Bs&&(Bs=new(window.AudioContext||window.webkitAudioContext)),Bs).decodeAudioData(a,function(e){t(e)})}catch(o){i?i(o):console.error(o),r.manager.itemError(e)}},n,i)}}),Ws.prototype=Object.assign(Object.create(Ps.prototype),{constructor:Ws,isHemisphereLightProbe:!0,copy:function(e){return Ps.prototype.copy.call(this,e),this},toJSON:function(e){return Ps.prototype.toJSON.call(this,e)}}),Ys.prototype=Object.assign(Object.create(Ps.prototype),{constructor:Ys,isAmbientLightProbe:!0,copy:function(e){return Ps.prototype.copy.call(this,e),this},toJSON:function(e){return Ps.prototype.toJSON.call(this,e)}});var Ks=new Te,Zs=new Te;function Js(e,t,n){var i,r,a;switch(this.binding=e,this.valueSize=n,t){case"quaternion":i=this._slerp,r=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":i=this._select,r=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(5*n);break;default:i=this._lerp,r=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=r,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}Object.assign((function(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new vn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new vn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}).prototype,{update:function(e){var t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep;var n,i,r=e.projectionMatrix.clone(),a=t.eyeSep/2,o=a*t.near/t.focus,s=t.near*Math.tan(F.DEG2RAD*t.fov*.5)/t.zoom;Zs.elements[12]=-a,Ks.elements[12]=a,n=-s*t.aspect+o,i=s*t.aspect+o,r.elements[0]=2*t.near/(i-n),r.elements[8]=(i+n)/(i-n),this.cameraL.projectionMatrix.copy(r),n=-s*t.aspect-o,i=s*t.aspect-o,r.elements[0]=2*t.near/(i-n),r.elements[8]=(i+n)/(i-n),this.cameraR.projectionMatrix.copy(r)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(Zs),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Ks)}}),Object.assign(Js.prototype,{accumulate:function(e,t){var n=this.buffer,i=this.valueSize,r=e*i+i,a=this.cumulativeWeight;if(0===a){for(var o=0;o!==i;++o)n[r+o]=n[o];a=t}else a+=t,this._mixBufferRegion(n,r,0,t/a,i);this.cumulativeWeight=a},accumulateAdditive:function(e){var t=this.buffer,n=this.valueSize,i=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,n),this.cumulativeWeightAdditive+=e},apply:function(e){var t=this.valueSize,n=this.buffer,i=e*t+t,r=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1&&this._mixBufferRegion(n,i,t*this._origIndex,1-r,t),a>0&&this._mixBufferRegionAdditive(n,i,this._addIndex*t,1,t);for(var s=t,l=t+t;s!==l;++s)if(n[s]!==n[s+t]){o.setValue(n,i);break}},saveOriginalState:function(){var e=this.buffer,t=this.valueSize,n=t*this._origIndex;this.binding.getValue(e,n);for(var i=t,r=n;i!==r;++i)e[i]=e[n+i%t];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0},restoreOriginalState:function(){this.binding.setValue(this.buffer,3*this.valueSize)},_setAdditiveIdentityNumeric:function(){for(var e=this._addIndex*this.valueSize,t=e+this.valueSize,n=e;n<t;n++)this.buffer[n]=0},_setAdditiveIdentityQuaternion:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1},_setAdditiveIdentityOther:function(){for(var e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize,n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]},_select:function(e,t,n,i,r){if(i>=.5)for(var a=0;a!==r;++a)e[t+a]=e[n+a]},_slerp:function(e,t,n,i){W.slerpFlat(e,t,e,t,e,n,i)},_slerpAdditive:function(e,t,n,i,r){var a=this._workIndex*r;W.multiplyQuaternionsFlat(e,a,e,t,e,n),W.slerpFlat(e,t,e,t,e,a,i)},_lerp:function(e,t,n,i,r){for(var a=1-i,o=0;o!==r;++o){var s=t+o;e[s]=e[s]*a+e[n+o]*i}},_lerpAdditive:function(e,t,n,i,r){for(var a=0;a!==r;++a){var o=t+a;e[o]=e[o]+e[n+a]*i}}});var Qs=new RegExp("[\\[\\]\\.:\\/]","g"),$s="[^"+"\\[\\]\\.:\\/".replace("\\.","")+"]",el=/((?:WC+[\/:])*)/.source.replace("WC","[^\\[\\]\\.:\\/]"),tl=/(WCOD+)?/.source.replace("WCOD",$s),nl=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC","[^\\[\\]\\.:\\/]"),il=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC","[^\\[\\]\\.:\\/]"),rl=new RegExp("^"+el+tl+nl+il+"$"),al=["material","materials","bones"];function ol(e,t,n){var i=n||sl.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}function sl(e,t,n){this.path=t,this.parsedPath=n||sl.parseTrackName(t),this.node=sl.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}Object.assign(ol.prototype,{getValue:function(e,t){this.bind();var n=this._bindings[this._targetGroup.nCachedObjects_];void 0!==n&&n.getValue(e,t)},setValue:function(e,t){for(var n=this._bindings,i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(e,t)},bind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()},unbind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}),Object.assign(sl,{Composite:ol,create:function(e,t,n){return e&&e.isAnimationObjectGroup?new sl.Composite(e,t,n):new sl(e,t,n)},sanitizeNodeName:function(e){return e.replace(/\s/g,"_").replace(Qs,"")},parseTrackName:function(e){var t=rl.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==i&&-1!==i){var r=n.nodeName.substring(i+1);-1!==al.indexOf(r)&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=r)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n},findNode:function(e,t){if(!t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){var i=function e(n){for(var i=0;i<n.length;i++){var r=n[i];if(r.name===t||r.uuid===t)return r;var a=e(r.children);if(a)return a}return null}(e.children);if(i)return i}return null}}),Object.assign(sl.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)e[t++]=n[i]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.targetObject[this.propertyName]=e[t]},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=e[t++]},function(e,t){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){var e=this.node,t=this.parsedPath,n=t.objectName,i=t.propertyName,r=t.propertyIndex;if(e||(e=sl.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,e){if(n){var a=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(var o=0;o<e.length;o++)if(e[o].name===a){a=o;break}break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==a){if(void 0===e[a])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[a]}}var s=e[i];if(void 0!==s){var l=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?l=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate);var u=this.BindingType.Direct;if(void 0!==r){if("morphTargetInfluences"===i){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[r]&&(r=e.morphTargetDictionary[r])}u=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=r}else void 0!==s.fromArray&&void 0!==s.toArray?(u=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(u=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[u],this.setValue=this.SetterByBindingTypeAndVersioning[u][l]}else console.error("THREE.PropertyBinding: Trying to update property for track: "+t.nodeName+"."+i+" but it wasn't found.",e)}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(sl.prototype,{_getValue_unbound:sl.prototype.getValue,_setValue_unbound:sl.prototype.setValue}),Object.assign((function(){this.uuid=F.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var t=0,n=arguments.length;t!==n;++t)e[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}).prototype,{isAnimationObjectGroup:!0,add:function(){for(var e,t=this._objects,n=this._indicesByUUID,i=this._paths,r=this._parsedPaths,a=this._bindings,o=a.length,s=t.length,l=this.nCachedObjects_,u=0,c=arguments.length;u!==c;++u){var h=arguments[u],d=h.uuid,f=n[d];if(void 0===f){f=s++,n[d]=f,t.push(h);for(var p=0,m=o;p!==m;++p)a[p].push(new sl(h,i[p],r[p]))}else if(f<l){e=t[f];var v=--l,g=t[v];n[g.uuid]=f,t[f]=g,n[d]=v,t[v]=h;for(var y=0,_=o;y!==_;++y){var b=a[y],S=b[f];b[f]=b[v],void 0===S&&(S=new sl(h,i[y],r[y])),b[v]=S}}else t[f]!==e&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=l},remove:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length,r=this.nCachedObjects_,a=0,o=arguments.length;a!==o;++a){var s=arguments[a],l=s.uuid,u=t[l];if(void 0!==u&&u>=r){var c=r++,h=e[c];t[h.uuid]=u,e[u]=h,t[l]=c,e[c]=s;for(var d=0,f=i;d!==f;++d){var p=n[d],m=p[u];p[u]=p[c],p[c]=m}}}this.nCachedObjects_=r},uncache:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length,r=this.nCachedObjects_,a=e.length,o=0,s=arguments.length;o!==s;++o){var l=arguments[o].uuid,u=t[l];if(void 0!==u)if(delete t[l],u<r){var c=--r,h=e[c],d=--a,f=e[d];t[h.uuid]=u,e[u]=h,t[f.uuid]=c,e[c]=f,e.pop();for(var p=0,m=i;p!==m;++p){var v=n[p],g=v[d];v[u]=v[c],v[c]=g,v.pop()}}else{var y=--a,_=e[y];y>0&&(t[_.uuid]=u),e[u]=_,e.pop();for(var b=0,S=i;b!==S;++b){var T=n[b];T[u]=T[y],T.pop()}}}this.nCachedObjects_=r},subscribe_:function(e,t){var n=this._bindingsIndicesByPath,i=n[e],r=this._bindings;if(void 0!==i)return r[i];var a=this._paths,o=this._parsedPaths,s=this._objects,l=this.nCachedObjects_,u=new Array(s.length);i=r.length,n[e]=i,a.push(e),o.push(t),r.push(u);for(var c=l,h=s.length;c!==h;++c)u[c]=new sl(s[c],e,t);return u},unsubscribe_:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){var i=this._paths,r=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o];t[e[o]]=n,a[n]=s,a.pop(),r[n]=r[o],r.pop(),i[n]=i[o],i.pop()}}});var ll=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.blendMode;_(this,e),this._mixer=t,this._clip=n,this._localRoot=i,this.blendMode=r;for(var a=n.tracks,o=a.length,s=new Array(o),l={endingStart:2400,endingEnd:2400},u=0;u!==o;++u){var c=a[u].createInterpolant(null);s[u]=c,c.settings=l}this._interpolantSettings=l,this._interpolants=s,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}return y(e,[{key:"play",value:function(){return this._mixer._activateAction(this),this}},{key:"stop",value:function(){return this._mixer._deactivateAction(this),this.reset()}},{key:"reset",value:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}},{key:"isRunning",value:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}},{key:"isScheduled",value:function(){return this._mixer._isActiveAction(this)}},{key:"startAt",value:function(e){return this._startTime=e,this}},{key:"setLoop",value:function(e,t){return this.loop=e,this.repetitions=t,this}},{key:"setEffectiveWeight",value:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}},{key:"getEffectiveWeight",value:function(){return this._effectiveWeight}},{key:"fadeIn",value:function(e){return this._scheduleFading(e,0,1)}},{key:"fadeOut",value:function(e){return this._scheduleFading(e,1,0)}},{key:"crossFadeFrom",value:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var i=this._clip.duration,r=e._clip.duration,a=i/r;e.warp(1,r/i,t),this.warp(a,1,t)}return this}},{key:"crossFadeTo",value:function(e,t,n){return e.crossFadeFrom(this,t,n)}},{key:"stopFading",value:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"setEffectiveTimeScale",value:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}},{key:"getEffectiveTimeScale",value:function(){return this._effectiveTimeScale}},{key:"setDuration",value:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}},{key:"syncWith",value:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}},{key:"halt",value:function(e){return this.warp(this._effectiveTimeScale,0,e)}},{key:"warp",value:function(e,t,n){var i=this._mixer,r=i.time,a=this.timeScale,o=this._timeScaleInterpolant;null===o&&(o=i._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,l=o.sampleValues;return s[0]=r,s[1]=r+n,l[0]=e/a,l[1]=t/a,this}},{key:"stopWarping",value:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"getMixer",value:function(){return this._mixer}},{key:"getClip",value:function(){return this._clip}},{key:"getRoot",value:function(){return this._localRoot||this._mixer._root}},{key:"_update",value:function(e,t,n,i){if(this.enabled){var r=this._startTime;if(null!==r){var a=(e-r)*n;if(a<0||0===n)return;this._startTime=null,t=n*a}t*=this._updateTimeScale(e);var o=this._updateTime(t),s=this._updateWeight(e);if(s>0){var l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case 2501:for(var c=0,h=l.length;c!==h;++c)l[c].evaluate(o),u[c].accumulateAdditive(s);break;case 2500:default:for(var d=0,f=l.length;d!==f;++d)l[d].evaluate(o),u[d].accumulate(i,s)}}}else this._updateWeight(e)}},{key:"_updateWeight",value:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var i=n.evaluate(e)[0];t*=i,e>n.parameterPositions[1]&&(this.stopFading(),0===i&&(this.enabled=!1))}}return this._effectiveWeight=t,t}},{key:"_updateTimeScale",value:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;null!==n&&(t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t))}return this._effectiveTimeScale=t,t}},{key:"_updateTime",value:function(e){var t=this._clip.duration,n=this.loop,i=this.time+e,r=this._loopCount,a=2202===n;if(0===e)return-1===r?i:a&&1==(1&r)?t-i:i;if(2200===n){-1===r&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else{if(!(i<0)){this.time=i;break e}i=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===r&&(e>=0?(r=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),i>=t||i<0){var o=Math.floor(i/t);i-=t*o,r+=Math.abs(o);var s=this.repetitions-r;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===s){var l=e<0;this._setEndings(l,!l,a)}else this._setEndings(!1,!1,a);this._loopCount=r,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=i;if(a&&1==(1&r))return t-i}return i}},{key:"_setEndings",value:function(e,t,n){var i=this._interpolantSettings;n?(i.endingStart=2401,i.endingEnd=2401):(i.endingStart=e?this.zeroSlopeAtStart?2401:2400:2402,i.endingEnd=t?this.zeroSlopeAtEnd?2401:2400:2402)}},{key:"_scheduleFading",value:function(e,t,n){var i=this._mixer,r=i.time,a=this._weightInterpolant;null===a&&(a=i._lendControlInterpolant(),this._weightInterpolant=a);var o=a.parameterPositions,s=a.sampleValues;return o[0]=r,s[0]=t,o[1]=r+e,s[1]=n,this}}]),e}();function ul(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}ul.prototype=Object.assign(Object.create(L.prototype),{constructor:ul,_bindAction:function(e,t){var n=e._localRoot||this._root,i=e._clip.tracks,r=i.length,a=e._propertyBindings,o=e._interpolants,s=n.uuid,l=this._bindingsByRootAndName,u=l[s];void 0===u&&(u={},l[s]=u);for(var c=0;c!==r;++c){var h=i[c],d=h.name,f=u[d];if(void 0!==f)a[c]=f;else{if(void 0!==(f=a[c])){null===f._cacheIndex&&(++f.referenceCount,this._addInactiveBinding(f,s,d));continue}++(f=new Js(sl.create(n,d,t&&t._propertyBindings[c].binding.parsedPath),h.ValueTypeName,h.getValueSize())).referenceCount,this._addInactiveBinding(f,s,d),a[c]=f}o[c].resultBuffer=f.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,i=this._actionsByClip[n];this._bindAction(e,i&&i.knownActions[0]),this._addInactiveAction(e,n,t)}for(var r=e._propertyBindings,a=0,o=r.length;a!==o;++a){var s=r[a];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,i=t.length;n!==i;++n){var r=t[n];0==--r.useCount&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions},_addInactiveAction:function(e,t,n){var i=this._actions,r=this._actionsByClip,a=r[t];if(void 0===a)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,r[t]=a;else{var o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=i.length,i.push(e),a.actionByRoot[n]=e},_removeInactiveAction:function(e){var t=this._actions,n=t[t.length-1],i=e._cacheIndex;n._cacheIndex=i,t[i]=n,t.pop(),e._cacheIndex=null;var r=e._clip.uuid,a=this._actionsByClip,o=a[r],s=o.knownActions,l=s[s.length-1],u=e._byClipCacheIndex;l._byClipCacheIndex=u,s[u]=l,s.pop(),e._byClipCacheIndex=null,delete o.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete a[r],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){for(var t=e._propertyBindings,n=0,i=t.length;n!==i;++n){var r=t[n];0==--r.referenceCount&&this._removeInactiveBinding(r)}},_lendAction:function(e){var t=this._actions,n=e._cacheIndex,i=this._nActiveActions++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_takeBackAction:function(e){var t=this._actions,n=e._cacheIndex,i=--this._nActiveActions,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_addInactiveBinding:function(e,t,n){var i=this._bindingsByRootAndName,r=this._bindings,a=i[t];void 0===a&&(a={},i[t]=a),a[n]=e,e._cacheIndex=r.length,r.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,n=e.binding,i=n.rootNode.uuid,r=n.path,a=this._bindingsByRootAndName,o=a[i],s=t[t.length-1],l=e._cacheIndex;s._cacheIndex=l,t[l]=s,t.pop(),delete o[r],0===Object.keys(o).length&&delete a[i]},_lendBinding:function(e){var t=this._bindings,n=e._cacheIndex,i=this._nActiveBindings++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_takeBackBinding:function(e){var t=this._bindings,n=e._cacheIndex,i=--this._nActiveBindings,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&((n=new Oo(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=t,e[t]=n),n},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,i=--this._nActiveControlInterpolants,r=t[i];e.__cacheIndex=i,t[i]=e,r.__cacheIndex=n,t[n]=r},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t,n){var i=t||this._root,r=i.uuid,a="string"==typeof e?Uo.findByName(i,e):e,o=null!==a?a.uuid:e,s=this._actionsByClip[o],l=null;if(void 0===n&&(n=null!==a?a.blendMode:2500),void 0!==s){var u=s.actionByRoot[r];if(void 0!==u&&u.blendMode===n)return u;l=s.knownActions[0],null===a&&(a=l._clip)}if(null===a)return null;var c=new ll(this,a,t,n);return this._bindAction(c,l),this._addInactiveAction(c,o,r),c},existingAction:function(e,t){var n=t||this._root,i=n.uuid,r="string"==typeof e?Uo.findByName(n,e):e,a=this._actionsByClip[r?r.uuid:e];return void 0!==a&&a.actionByRoot[i]||null},stopAllAction:function(){for(var e=this._actions,t=this._nActiveActions-1;t>=0;--t)e[t].stop();return this},update:function(e){for(var t=this._actions,n=this._nActiveActions,i=this.time+=e*=this.timeScale,r=Math.sign(e),a=this._accuIndex^=1,o=0;o!==n;++o)t[o]._update(i,e,r,a);for(var s=this._bindings,l=this._nActiveBindings,u=0;u!==l;++u)s[u].apply(a);return this},setTime:function(e){this.time=0;for(var t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)},getRoot:function(){return this._root},uncacheClip:function(e){var t=this._actions,n=e.uuid,i=this._actionsByClip,r=i[n];if(void 0!==r){for(var a=r.knownActions,o=0,s=a.length;o!==s;++o){var l=a[o];this._deactivateAction(l);var u=l._cacheIndex,c=t[t.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,c._cacheIndex=u,t[u]=c,t.pop(),this._removeInactiveBindingsForAction(l)}delete i[n]}},uncacheRoot:function(e){var t=e.uuid,n=this._actionsByClip;for(var i in n){var r=n[i].actionByRoot[t];void 0!==r&&(this._deactivateAction(r),this._removeInactiveAction(r))}var a=this._bindingsByRootAndName[t];if(void 0!==a)for(var o in a){var s=a[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}},uncacheAction:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}});var cl=function(){function e(t){_(this,e),"string"==typeof t&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}return y(e,[{key:"clone",value:function(){return new e(void 0===this.value.clone?this.value:this.value.clone())}}]),e}();function hl(e,t,n){Ir.call(this,e,t),this.meshPerAttribute=n||1}function dl(e,t,n,i,r){this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=i,this.count=r,this.version=0}function fl(e,t,n,i){this.ray=new Se(e,t),this.near=n||0,this.far=i||1/0,this.camera=null,this.layers=new Le,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function pl(e,t){return e.distance-t.distance}function ml(e,t,n,i){if(e.layers.test(t.layers)&&e.raycast(t,n),!0===i)for(var r=e.children,a=0,o=r.length;a<o;a++)ml(r[a],t,n,!0)}hl.prototype=Object.assign(Object.create(Ir.prototype),{constructor:hl,isInstancedInterleavedBuffer:!0,copy:function(e){return Ir.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},clone:function(e){var t=Ir.prototype.clone.call(this,e);return t.meshPerAttribute=this.meshPerAttribute,t},toJSON:function(e){var t=Ir.prototype.toJSON.call(this,e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}),Object.defineProperty(dl.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(dl.prototype,{isGLBufferAttribute:!0,setBuffer:function(e){return this.buffer=e,this},setType:function(e,t){return this.type=e,this.elementSize=t,this},setItemSize:function(e){return this.itemSize=e,this},setCount:function(e){return this.count=e,this}}),Object.assign(fl.prototype,{set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)},intersectObject:function(e,t,n){var i=n||[];return ml(e,this,i,t),i.sort(pl),i},intersectObjects:function(e,t,n){var i=n||[];if(!1===Array.isArray(e))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),i;for(var r=0,a=e.length;r<a;r++)ml(e[r],this,i,t);return i.sort(pl),i}});var vl=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _(this,e),this.radius=t,this.phi=n,this.theta=i,this}return y(e,[{key:"set",value:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}},{key:"makeSafe",value:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}},{key:"setFromVector3",value:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}},{key:"setFromCartesianCoords",value:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(F.clamp(t/this.radius,-1,1))),this}}]),e}(),gl=new U;function yl(e){We.call(this),this.material=e,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}(yl.prototype=Object.create(We.prototype)).constructor=yl,yl.prototype.isImmediateRenderObject=!0;var _l=new Y,bl=new Te,Sl=new Te;function Tl(e){var t=[];e&&e.isBone&&t.push(e);for(var n=0;n<e.children.length;n++)t.push.apply(t,Tl(e.children[n]));return t}var wl=new Float32Array(1),xl=(new Int32Array(wl.buffer),Math.pow(2,8),new _t({side:1,depthWrite:!1,depthTest:!1}));function El(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),os.call(this,e),this.type="catmullrom"}new ln(new cn,xl),Math.sqrt(5),Qo.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(Qo.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},Object.assign(_s.prototype,{fromPoints:function(e){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}}),Object.create(os.prototype),Object.create(os.prototype),El.prototype=Object.create(os.prototype),Object.assign(El.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),function(e){b(n,e);var t=T(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4473924,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8947848;_(this,n),a=new mt(a),o=new mt(o);for(var s=r/2,l=i/r,u=i/2,c=[],h=[],d=0,f=0,p=-u;d<=r;d++,p+=l){c.push(-u,0,p,u,0,p),c.push(p,0,-u,p,0,u);var m=d===s?a:o;m.toArray(h,f),f+=3,m.toArray(h,f),f+=3,m.toArray(h,f),f+=3,m.toArray(h,f),f+=3}var v=new zt;return v.setAttribute("position",new Rt(c,3)),v.setAttribute("color",new Rt(h,3)),(e=t.call(this,v,new ma({vertexColors:!0,toneMapped:!1}))).type="GridHelper",e}return n}(xa).prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},function(e){b(n,e);var t=T(n);function n(e){var i;_(this,n);for(var r=Tl(e),a=new zt,o=[],s=[],l=new mt(0,0,1),u=new mt(0,1,0),c=0;c<r.length;c++){var h=r[c];h.parent&&h.parent.isBone&&(o.push(0,0,0),o.push(0,0,0),s.push(l.r,l.g,l.b),s.push(u.r,u.g,u.b))}return a.setAttribute("position",new Rt(o,3)),a.setAttribute("color",new Rt(s,3)),(i=t.call(this,a,new ma({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0}))).type="SkeletonHelper",i.isSkeletonHelper=!0,i.root=e,i.bones=r,i.matrix=e.matrixWorld,i.matrixAutoUpdate=!1,i}return y(n,[{key:"updateMatrixWorld",value:function(e){var t=this.bones,i=this.geometry,r=i.getAttribute("position");Sl.copy(this.root.matrixWorld).invert();for(var a=0,o=0;a<t.length;a++){var s=t[a];s.parent&&s.parent.isBone&&(bl.multiplyMatrices(Sl,s.matrixWorld),_l.setFromMatrixPosition(bl),r.setXYZ(o,_l.x,_l.y,_l.z),bl.multiplyMatrices(Sl,s.parent.matrixWorld),_l.setFromMatrixPosition(bl),r.setXYZ(o+1,_l.x,_l.y,_l.z),o+=2)}i.getAttribute("position").needsUpdate=!0,v(C(n.prototype),"updateMatrixWorld",this).call(this,e)}}]),n}(xa).prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(zo.prototype,{extractUrlBase:function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Ns.extractUrlBase(e)}}),zo.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Object.assign(function(){function e(t,n){_(this,e),Object.defineProperty(this,"isBox2",{value:!0}),this.min=void 0!==t?t:new U(1/0,1/0),this.max=void 0!==n?n:new U(-1/0,-1/0)}return y(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=gl.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y}},{key:"getCenter",value:function(e){return void 0===e&&(console.warn("THREE.Box2: .getCenter() target is now required"),e=new U),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return void 0===e&&(console.warn("THREE.Box2: .getSize() target is now required"),e=new U),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}},{key:"getParameter",value:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .getParameter() target is now required"),t=new U),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}},{key:"clampPoint",value:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .clampPoint() target is now required"),t=new U),t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return gl.copy(e).clamp(this.min,this.max).sub(e).length()}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}().prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(J.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(fe.prototype,{empty:function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()}}),wn.prototype.setFromMatrix=function(e){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(e)},Object.assign(F,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),F.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),F.ceilPowerOfTwo(e)}}),Object.assign(G.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},getInverse:function(e){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(e).invert()}}),Object.assign(Te.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new Y).setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,n,i,r,a){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,i,n,r,a)},getInverse:function(e){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(e).invert()}}),Je.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},Object.assign(W.prototype,{multiplyVector3:function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},inverse:function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()}}),Object.assign(Se.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}}),Object.assign(lt.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},midpoint:function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},normal:function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},plane:function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)}}),Object.assign(lt,{barycoordFromPoint:function(e,t,n,i,r){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),lt.getBarycoord(e,t,n,i,r)},normal:function(e,t,n,i){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),lt.getNormal(e,t,n,i)}}),Object.assign(bs.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new co(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new po(this,e)}}),Object.assign(U.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Y.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(X.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(We.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},applyMatrix:function(e){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Object.defineProperties(We.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.assign(ln.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}),Object.defineProperties(ln.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),0},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Object.defineProperties($r.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(ua.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),aa.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(Qo.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}}),vn.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(Ss.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(Tt.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),35048===this.usage},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(35048)}}}),Object.assign(Tt.prototype,{setDynamic:function(e){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?35048:35044),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(zt.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addAttribute:function(e,t){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(e,t):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(e,new Tt(arguments[1],arguments[2])))},addDrawCall:function(e,t,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(e){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(e)},applyMatrix:function(e){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Object.defineProperties(zt.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(js.prototype,{maxInstancedCount:{get:function(){return console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount},set:function(e){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount=e}}}),Object.defineProperties(fl.prototype,{linePrecision:{get:function(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set:function(e){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=e}}}),Object.defineProperties(Ir.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),35048===this.usage},set:function(e){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(e)}}}),Object.assign(Ir.prototype,{setDynamic:function(e){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?35048:35044),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(co.prototype,{getArrays:function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")}}),Object.assign(Rr.prototype,{dispose:function(){console.error("THREE.Scene: .dispose() has been removed.")}}),Object.defineProperties(cl.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(yt.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new mt}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===e}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}}}),Object.defineProperties(_o.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(yo.prototype,{transparency:{get:function(){return console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission},set:function(e){console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission=e}}}),Object.defineProperties(pn.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Object.assign(Or.prototype,{clearTarget:function(e,t,n,i){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,n,i)},animate:function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}}),Object.defineProperties(Or.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(e){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===e?R:3e3}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}}),Object.defineProperties(br.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(q.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),Object.defineProperties(function(e){b(n,e);var t=T(n);function n(e){var i;return _(this,n),(i=t.call(this)).type="Audio",i.listener=e,i.context=e.context,i.gain=i.context.createGain(),i.gain.connect(e.getInput()),i.autoplay=!1,i.buffer=null,i.detune=0,i.loop=!1,i.loopStart=0,i.loopEnd=0,i.offset=0,i.duration=void 0,i.playbackRate=1,i.isPlaying=!1,i.hasPlaybackControl=!0,i.source=null,i.sourceType="empty",i._startedAt=0,i._progress=0,i._connected=!1,i.filters=[],i}return y(n,[{key:"getOutput",value:function(){return this.gain}},{key:"setNodeSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}},{key:"setMediaElementSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}},{key:"setMediaStreamSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}},{key:"setBuffer",value:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}},{key:"play",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){this._startedAt=this.context.currentTime+e;var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")}},{key:"pause",value:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"stop",value:function(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"connect",value:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}},{key:"disconnect",value:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}},{key:"getFilters",value:function(){return this.filters}},{key:"setFilters",value:function(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}},{key:"setDetune",value:function(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}},{key:"getDetune",value:function(){return this.detune}},{key:"getFilter",value:function(){return this.getFilters()[0]}},{key:"setFilter",value:function(e){return this.setFilters(e?[e]:[])}},{key:"setPlaybackRate",value:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"getPlaybackRate",value:function(){return this.playbackRate}},{key:"onEnded",value:function(){this.isPlaying=!1}},{key:"getLoop",value:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}},{key:"setLoop",value:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"setLoopStart",value:function(e){return this.loopStart=e,this}},{key:"setLoopEnd",value:function(e){return this.loopEnd=e,this}},{key:"getVolume",value:function(){return this.gain.gain.value}},{key:"setVolume",value:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}]),n}(We).prototype,{load:{value:function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this;return(new qs).load(e,function(e){t.setBuffer(e)}),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}}),gn.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)},gn.prototype.clear=function(e,t,n,i){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(e,t,n,i)},V.crossOrigin=void 0,V.loadTexture=function(e,t,n,i){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var r=new Jo;r.setCrossOrigin(this.crossOrigin);var a=r.load(e,n,void 0,i);return t&&(a.mapping=t),a},V.loadTextureCube=function(e,t,n,i){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var r=new Ko;r.setCrossOrigin(this.crossOrigin);var a=r.load(e,n,void 0,i);return t&&(a.mapping=t),a},V.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},V.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"125"}})),"undefined"!=typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="125")},WpFC:function(e,t,n){"use strict";var i=n("jnTo"),r=n("9CgO"),a=n("e4iU"),o=n("orbG");t.a=function(e){b(n,e);var t=T(n);function n(e){var i;_(this,n);var o=e||{};i=t.call(this,{element:document.createElement("div"),render:o.render,target:o.target});var s=void 0!==o.className?o.className:"ol-rotate",l=void 0!==o.label?o.label:"\u21e7",u=void 0!==o.compassClassName?o.compassClassName:"ol-compass";i.label_=null,"string"==typeof l?(i.label_=document.createElement("span"),i.label_.className=u,i.label_.textContent=l):(i.label_=l,i.label_.classList.add(u));var c=o.tipLabel?o.tipLabel:"Reset rotation",h=document.createElement("button");h.className=s+"-reset",h.setAttribute("type","button"),h.title=c,h.appendChild(i.label_),h.addEventListener(r.a.CLICK,i.handleClick_.bind(x(i)),!1);var d=i.element;return d.className=s+" "+a.e+" "+a.b,d.appendChild(h),i.callResetNorth_=o.resetNorth?o.resetNorth:void 0,i.duration_=void 0!==o.duration?o.duration:250,i.autoHide_=void 0===o.autoHide||o.autoHide,i.rotation_=void 0,i.autoHide_&&i.element.classList.add(a.c),i}return y(n,[{key:"handleClick_",value:function(e){e.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()}},{key:"resetNorth_",value:function(){var e=this.getMap().getView();if(e){var t=e.getRotation();void 0!==t&&(this.duration_>0&&t%(2*Math.PI)!=0?e.animate({rotation:0,duration:this.duration_,easing:o.b}):e.setRotation(0))}}},{key:"render",value:function(e){var t=e.frameState;if(t){var n=t.viewState.rotation;if(n!=this.rotation_){var i="rotate("+n+"rad)";if(this.autoHide_){var r=this.element.classList.contains(a.c);r||0!==n?r&&0!==n&&this.element.classList.remove(a.c):this.element.classList.add(a.c)}this.label_.style.transform=i}this.rotation_=n}}}]),n}(i.a)},X69f:function(a,s,c){"use strict";c.d(s,"a",function(){return Jh}),c.d(s,"b",function(){return Xc}),c.d(s,"c",function(){return co}),c.d(s,"d",function(){return ho}),c.d(s,"e",function(){return uo}),c.d(s,"f",function(){return no}),c.d(s,"g",function(){return nc}),c.d(s,"h",function(){return Fu}),c.d(s,"i",function(){return Ou}),c.d(s,"j",function(){return lc}),c.d(s,"k",function(){return Zu}),c.d(s,"l",function(){return ro}),c.d(s,"m",function(){return nh}),c.d(s,"n",function(){return Tr}),c.d(s,"o",function(){return bo}),c.d(s,"p",function(){return Po}),c.d(s,"q",function(){return Io}),c.d(s,"r",function(){return $a}),c.d(s,"s",function(){return ao}),c.d(s,"t",function(){return Jc}),c.d(s,"u",function(){return ih}),c.d(s,"v",function(){return rs}),c.d(s,"w",function(){return is}),c.d(s,"x",function(){return es}),c.d(s,"y",function(){return $o}),c.d(s,"z",function(){return Nu}),c.d(s,"A",function(){return jh}),c.d(s,"B",function(){return Ll}),c.d(s,"C",function(){return kh}),c.d(s,"D",function(){return Oh}),c.d(s,"E",function(){return Ah}),c.d(s,"F",function(){return Rh}),c.d(s,"G",function(){return $c}),c.d(s,"H",function(){return th}),c.d(s,"I",function(){return Su}),c.d(s,"J",function(){return dc}),c.d(s,"K",function(){return fc}),c.d(s,"L",function(){return gc}),c.d(s,"M",function(){return mc}),c.d(s,"N",function(){return _u}),c.d(s,"O",function(){return xu});var f=c("8Y7J"),p=function(){function e(t,n){_(this,e),this.fn=t,this.subscriptions=n}return y(e,[{key:"unsubscribe",value:function(){var e=this.subscriptions.indexOf(this);-1!==e&&this.subscriptions.splice(e,1)}}]),e}();function m(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(e){return t.apply(this,arguments)};case 2:return function(e,n){return t.apply(this,arguments)};case 3:return function(e,n,i){return t.apply(this,arguments)};case 4:return function(e,n,i,r){return t.apply(this,arguments)};case 5:return function(e,n,i,r,a){return t.apply(this,arguments)};case 6:return function(e,n,i,r,a,o){return t.apply(this,arguments)};case 7:return function(e,n,i,r,a,o,s){return t.apply(this,arguments)};case 8:return function(e,n,i,r,a,o,s,l){return t.apply(this,arguments)};case 9:return function(e,n,i,r,a,o,s,l,u){return t.apply(this,arguments)};case 10:return function(e,n,i,r,a,o,s,l,u,c){return t.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function g(e){return null!=e&&"object"==typeof e&&!0===e["@@functional/placeholder"]}function S(e){return function t(n){return 0===arguments.length||g(n)?t:e.apply(this,arguments)}}function x(e){return function t(n,i){switch(arguments.length){case 0:return t;case 1:return g(n)?t:S(function(t){return e(n,t)});default:return g(n)&&g(i)?t:g(n)?S(function(t){return e(t,i)}):g(i)?S(function(t){return e(n,t)}):e(n,i)}}}function E(e,t,n){return function(){for(var i=[],r=0,a=e,o=0;o<t.length||r<arguments.length;){var s;o<t.length&&(!g(t[o])||r>=arguments.length)?s=t[o]:(s=arguments[r],r+=1),i[o]=s,g(s)||(a-=1),o+=1}return a<=0?n.apply(this,i):m(a,E(e,i,n))}}var k=x(function(e,t){return 1===e?S(t):m(e,E(e,[],t))}),M=S(function(e){return null==e}),O=Number.isInteger||function(e){return e<<0===e};function A(e){return"[object String]"===Object.prototype.toString.call(e)}var R=x(function(e,t){var n=e<0?t.length+e:e;return A(t)?t.charAt(n):t[n]}),I=x(function(e,t){return e.map(function(e){for(var n,i=t,r=0;r<e.length;){if(null==i)return;i=O(n=e[r])?R(n,i):i[n],r+=1}return i})}),L=x(function(e,t){return I([e],t)[0]}),P=k(2,function(e,t){return void 0!==L(e,t)}),D=P({"@@functional/placeholder":!0},window);function N(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return!M(e)}function j(e,t){return Object.prototype.hasOwnProperty.call(t,e)}var F,U,G,V,B,z=x(function(e,t){if(0===e.length||M(t))return!1;for(var n=t,i=0;i<e.length;){if(M(n)||!j(e[i],n))return!1;n=n[e[i]],i+=1}return!0}),H=x(function(e,t){return z([e],t)}),X=new(function(){function e(){_(this,e),this.subscriptions=[]}return y(e,[{key:"subscribe",value:function(e){var t=new p(e,this.subscriptions);return this.subscriptions.push(t),t}},{key:"emit",value:function(e){this.subscriptions.forEach(function(t){return t.fn(e)})}},{key:"toEventObservable",value:function(){return this}}]),e}()),q=new Proxy({unknown:{outline:'<circle class="cds-internal-dot-3" cx="31.1" cy="18" r="2.9"/><circle class="cds-internal-dot-2" cx="18" cy="18" r="2.9"/><circle class="cds-internal-dot-1" cx="4.9" cy="18" r="2.9"/>'}},{set:function(e,t,n){return X.emit(t),e[t]=n,!0}}),W=((F=function(){function e(){_(this,e)}return y(e,null,[{key:"registry",get:function(){return q}},{key:"addIcons",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];!function(e,t){e.forEach(function(e){!function(e,t){(function(e,t){return H(e,t)})(l(e,1)[0],t)||function(e,t){var n=l(e,2),i=n[0],r=n[1];t[i]=r}(e,t)}(e,t)})}(t,q)}},{key:"addAliases",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(function(e){var t,n;(n=q)[(t=e)[0]]&&t[1].forEach(function(e){!function(e,t,n){P([e],n)&&Object.defineProperty(n,t,{get:function(){return n[e]},enumerable:!0,configurable:!0})}(t[0],e,n)})})}},{key:"getIconNameFromShape",value:function(e){return e[0]}}]),e}()).iconUpdates=X.toEventObservable(),F),Y=["ellipsis-horizontal",{outline:'<circle cx="31.1" cy="18" r="2.9"/><circle cx="18" cy="18" r="2.9"/><circle cx="4.9" cy="18" r="2.9"/>',outlineBadged:'<circle cx="31.1" cy="18" r="2.9"/><circle cx="18" cy="18" r="2.9"/><circle cx="4.9" cy="18" r="2.9"/>'}],K=["exclamation-circle",{outline:'<path d="M18,6A12,12,0,1,0,30,18,12,12,0,0,0,18,6Zm0,22A10,10,0,1,1,28,18,10,10,0,0,1,18,28Z"/><path d="M18,20.07a1.3,1.3,0,0,1-1.3-1.3v-6a1.3,1.3,0,1,1,2.6,0v6A1.3,1.3,0,0,1,18,20.07Z"/><circle cx="17.95" cy="23.02" r="1.5"/>',solid:'<path d="M18,6A12,12,0,1,0,30,18,12,12,0,0,0,18,6Zm-1.49,6a1.49,1.49,0,0,1,3,0v6.89a1.49,1.49,0,1,1-3,0ZM18,25.5a1.72,1.72,0,1,1,1.72-1.72A1.72,1.72,0,0,1,18,25.5Z"/>'}],Z=["check-circle",{outline:'<path d="M18,6A12,12,0,1,0,30,18,12,12,0,0,0,18,6Zm0,22A10,10,0,1,1,28,18,10,10,0,0,1,18,28Z"/><path d="M16.34,23.74l-5-5a1,1,0,0,1,1.41-1.41l3.59,3.59,6.78-6.78a1,1,0,0,1,1.41,1.41Z"/>',solid:'<path d="M30,18A12,12,0,1,1,18,6,12,12,0,0,1,30,18Zm-4.77-2.16a1.4,1.4,0,0,0-2-2l-6.77,6.77L13,17.16a1.4,1.4,0,0,0-2,2l5.45,5.45Z"/>'}],J=["angle",{outline:'<path d="M29.52,22.52,18,10.6,6.48,22.52a1.7,1.7,0,0,0,2.45,2.36L18,15.49l9.08,9.39a1.7,1.7,0,0,0,2.45-2.36Z"/>'}],Q=["event",{outline:'<path d="M16.17,25.86,10.81,20.5a1,1,0,0,1,1.41-1.41L16.17,23l8.64-8.64a1,1,0,0,1,1.41,1.41Z"/><path d="M32.25,6H29V8h3V30H4V8H7V6H3.75A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V7.81A1.78,1.78,0,0,0,32.25,6Z"/><path d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"/><path d="M26,10a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V9A1,1,0,0,0,26,10Z"/><rect x="13" y="6" width="10" height="2"/>',outlineAlerted:'<path d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"/><path d="M10.81,20.5l5.36,5.36L26.22,15.81a1,1,0,0,0,.23-.41H23.8L16.17,23l-3.94-3.94a1,1,0,0,0-1.41,1.41Z"/><polygon points="21.29 6 13 6 13 8 20.14 8 21.29 6"/><path d="M33.68,15.4H32V30H4V8H7V6H3.75A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V15.38Z"/>',outlineBadged:'<path d="M10.81,20.5l5.36,5.36L26.22,15.81a1,1,0,0,0-1.41-1.41L16.17,23l-3.94-3.94a1,1,0,0,0-1.41,1.41Z"/><path d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"/><path d="M32,13.22V30H4V8H7V6H3.75A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V12.34A7.45,7.45,0,0,1,32,13.22Z"/><path d="M22.5,6H13V8h9.78A7.49,7.49,0,0,1,22.5,6Z"/>',solid:'<path d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"/><path d="M26,10a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V9A1,1,0,0,0,26,10Z"/><path d="M32.25,6h-4V9a2.2,2.2,0,0,1-4.4,0V6H12.2V9A2.2,2.2,0,0,1,7.8,9V6h-4A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V7.81A1.78,1.78,0,0,0,32.25,6ZM25.94,16.58l-9.67,9.67L11,20.94A1.36,1.36,0,0,1,12.9,19l3.38,3.38L24,14.66a1.36,1.36,0,1,1,1.93,1.93Z"/>',solidAlerted:'<path d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"/><path d="M33.68,15.4H26.3a1.34,1.34,0,0,1-.36,1.18l-9.67,9.67L11,20.94A1.36,1.36,0,0,1,12.9,19l3.38,3.38,7-7h-1A3.68,3.68,0,0,1,19,9.89L21.29,6H12.2V9A2.2,2.2,0,0,1,7.8,9V6h-4A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V15.38Z"/>',solidBadged:'<path d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"/><path d="M30,13.5A7.5,7.5,0,0,1,22.5,6H12.2V9A2.2,2.2,0,0,1,7.8,9V6h-4A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V12.34A7.45,7.45,0,0,1,30,13.5Zm-4.06,3.08-9.67,9.67L11,20.94A1.36,1.36,0,0,1,12.9,19l3.38,3.38L24,14.66a1.36,1.36,0,1,1,1.93,1.93Z"/>'}],$=["calendar",{outline:'<path d="M32.25,6H29V8h3V30H4V8H7V6H3.75A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V7.81A1.78,1.78,0,0,0,32.25,6Z"/><rect x="8" y="14" width="2" height="2"/><rect x="14" y="14" width="2" height="2"/><rect x="20" y="14" width="2" height="2"/><rect x="26" y="14" width="2" height="2"/><rect x="8" y="19" width="2" height="2"/><rect x="14" y="19" width="2" height="2"/><rect x="20" y="19" width="2" height="2"/><rect x="26" y="19" width="2" height="2"/><rect x="8" y="24" width="2" height="2"/><rect" x="14" y="24" width="2" height="2"/><rect x="20" y="24" width="2" height="2"/><rect x="26" y="24" width="2" height="2"/><path d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"/><path d="M26,10a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V9A1,1,0,0,0,26,10Z"/><rect x="13" y="6" width="10" height="2"/>',outlineAlerted:'<path d="M33.68,15.4H32V30H4V8H7V6H3.75A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V15.38Z"/><rect x="8" y="14" width="2" height="2"/><rect x="14" y="14" width="2" height="2"/><rect x="8" y="19" width="2" height="2"/><rect x="14" y="19" width="2" height="2"/><rect x="20" y="19" width="2" height="2"/><rect x="26" y="19" width="2" height="2"/><rect x="8" y="24" width="2" height="2"/><rect x="14" y="24" width="2" height="2"/><rect x="20" y="24" width="2" height="2"/><rect x="26" y="24" width="2" height="2"/><path d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"/><polygon points="21.29 6 13 6 13 8 20.14 8 21.29 6"/>',outlineBadged:'<path d="M32,13.22V30H4V8H7V6H3.75A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V12.34A7.45,7.45,0,0,1,32,13.22Z"/><rect x="8" y="14" width="2" height="2"/><rect x="14" y="14" width="2" height="2"/><rect x="20" y="14" width="2" height="2"/><rect x="26" y="14" width="2" height="2"/><rect x="8" y="19" width="2" height="2"/><rect x="14" y="19" width="2" height="2"/><rect x="20" y="19" width="2" height="2"/><rect x="26" y="19" width="2" height="2"/><rect x="8" y="24" width="2" height="2"/><rect x="14" y="24" width="2" height="2"/><rect x="20" y="24" width="2" height="2"/><rect x="26" y="24" width="2" height="2"/><path d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"/><path d="M22.5,6H13V8h9.78A7.49,7.49,0,0,1,22.5,6Z"/>',solid:'<path d="M32.25,6h-4V9a2.2,2.2,0,1,1-4.4,0V6H12.2V9A2.2,2.2,0,0,1,7.8,9V6h-4A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V7.81A1.78,1.78,0,0,0,32.25,6ZM10,26H8V24h2Zm0-5H8V19h2Zm0-5H8V14h2Zm6,10H14V24h2Zm0-5H14V19h2Zm0-5H14V14h2Zm6,10H20V24h2Zm0-5H20V19h2Zm0-5H20V14h2Zm6,10H26V24h2Zm0-5H26V19h2Zm0-5H26V14h2Z"/><path d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"/><path d="M26,10a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V9A1,1,0,0,0,26,10Z"/>',solidAlerted:'<path d="M33.68,15.4H22.23A3.68,3.68,0,0,1,19,9.89L21.29,6H12.2V9A2.2,2.2,0,0,1,7.8,9V6h-4A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V15.38ZM10,26H8V24h2Zm0-5H8V19h2Zm0-5H8V14h2Zm6,10H14V24h2Zm0-5H14V19h2Zm0-5H14V14h2Zm6,10H20V24h2Zm0-5H20V19h2Zm6,5H26V24h2Zm0-5H26V19h2Z"/><path d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"/>',solidBadged:'<path d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"/><path d="M30,13.5A7.5,7.5,0,0,1,22.5,6H12.2V9A2.2,2.2,0,0,1,7.8,9V6h-4A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V12.34A7.45,7.45,0,0,1,30,13.5ZM10,26H8V24h2Zm0-5H8V19h2Zm0-5H8V14h2Zm6,10H14V24h2Zm0-5H14V19h2Zm0-5H14V14h2Zm6,10H20V24h2Zm0-5H20V19h2Zm0-5H20V14h2Zm6,10H26V24h2Zm0-5H26V19h2Zm0-5H26V14h2Z"/>'}],ee=["eye-hide",{outline:'<path d="M25.19,20.4A6.78,6.78,0,0,0,25.62,18a6.86,6.86,0,0,0-6.86-6.86,6.79,6.79,0,0,0-2.37.43L18,13.23a4.78,4.78,0,0,1,.74-.06A4.87,4.87,0,0,1,23.62,18a4.79,4.79,0,0,1-.06.74Z"/><path d="M34.29,17.53c-3.37-6.23-9.28-10-15.82-10a16.82,16.82,0,0,0-5.24.85L14.84,10a14.78,14.78,0,0,1,3.63-.47c5.63,0,10.75,3.14,13.8,8.43a17.75,17.75,0,0,1-4.37,5.1l1.42,1.42a19.93,19.93,0,0,0,5-6l.26-.48Z"/><path d="M4.87,5.78l4.46,4.46a19.52,19.52,0,0,0-6.69,7.29L2.38,18l.26.48c3.37,6.23,9.28,10,15.82,10a16.93,16.93,0,0,0,7.37-1.69l5,5,1.75-1.5-26-26Zm9.75,9.75,6.65,6.65a4.81,4.81,0,0,1-2.5.72A4.87,4.87,0,0,1,13.9,18,4.81,4.81,0,0,1,14.62,15.53Zm-1.45-1.45a6.85,6.85,0,0,0,9.55,9.55l1.6,1.6a14.91,14.91,0,0,1-5.86,1.2c-5.63,0-10.75-3.14-13.8-8.43a17.29,17.29,0,0,1,6.12-6.3Z"/>',solid:'<path d="M18.37,11.17A6.79,6.79,0,0,0,16,11.6l8.8,8.8A6.78,6.78,0,0,0,25.23,18,6.86,6.86,0,0,0,18.37,11.17Z"/><path d="M34.29,17.53c-3.37-6.23-9.28-10-15.82-10a16.82,16.82,0,0,0-5.24.85L14.84,10a14.78,14.78,0,0,1,3.63-.47c5.63,0,10.75,3.14,13.8,8.43a17.75,17.75,0,0,1-4.37,5.1l1.42,1.42a19.93,19.93,0,0,0,5-6l.26-.48Z"/><path d="M4.87,5.78l4.46,4.46a19.52,19.52,0,0,0-6.69,7.29L2.38,18l.26.48c3.37,6.23,9.28,10,15.82,10a16.93,16.93,0,0,0,7.37-1.69l5,5,1.75-1.5-26-26Zm8.3,8.3a6.85,6.85,0,0,0,9.55,9.55l1.6,1.6a14.91,14.91,0,0,1-5.86,1.2c-5.63,0-10.75-3.14-13.8-8.43a17.29,17.29,0,0,1,6.12-6.3Z"/>'}],te=["eye",{outline:'<path d="M33.62,17.53c-3.37-6.23-9.28-10-15.82-10S5.34,11.3,2,17.53L1.72,18l.26.48c3.37,6.23,9.28,10,15.82,10s12.46-3.72,15.82-10l.26-.48ZM17.8,26.43C12.17,26.43,7,23.29,4,18c3-5.29,8.17-8.43,13.8-8.43S28.54,12.72,31.59,18C28.54,23.29,23.42,26.43,17.8,26.43Z"/><path d="M18.09,11.17A6.86,6.86,0,1,0,25,18,6.86,6.86,0,0,0,18.09,11.17Zm0,11.72A4.86,4.86,0,1,1,23,18,4.87,4.87,0,0,1,18.09,22.89Z"/>',solid:'<path d="M33.62,17.53c-3.37-6.23-9.28-10-15.82-10S5.34,11.3,2,17.53L1.72,18l.26.48c3.37,6.23,9.28,10,15.82,10s12.46-3.72,15.82-10l.26-.48ZM17.8,26.43C12.17,26.43,7,23.29,4,18c3-5.29,8.17-8.43,13.8-8.43S28.54,12.72,31.59,18C28.54,23.29,23.42,26.43,17.8,26.43Z"/><circle cx="18.09" cy="18.03" r="6.86"/>'}],ne=["window-close",{outline:'<path d="M19.41,18l7.29-7.29a1,1,0,0,0-1.41-1.41L18,16.59,10.71,9.29a1,1,0,0,0-1.41,1.41L16.59,18,9.29,25.29a1,1,0,1,0,1.41,1.41L18,19.41l7.29,7.29a1,1,0,0,0,1.41-1.41Z"/>'}],ie=["ellipsis-vertical",{outline:'<circle cx="18" cy="4.9" r="2.9"/><circle cx="18" cy="18" r="2.9"/><circle cx="18" cy="31.1" r="2.9"/>',outlineBadged:'<circle cx="18" cy="4.9" r="2.9"/><circle cx="18" cy="18" r="2.9"/><circle cx="18" cy="31.1" r="2.9"/>'}],re=["view-columns",{outline:'<path d="M31,5H5A2,2,0,0,0,3,7V29a2,2,0,0,0,2,2H31a2,2,0,0,0,2-2V7A2,2,0,0,0,31,5ZM13,29H5V7h8Zm10,0H15V7h8Z"/>'}],ae=["arrow",{outline:'<path d="M27.66,15.61,18,6,8.34,15.61A1,1,0,1,0,9.75,17L17,9.81V28.94a1,1,0,1,0,2,0V9.81L26.25,17a1,1,0,0,0,1.41-1.42Z"/>'}],oe=["times",{outline:'<path d="M19.41,18l8.29-8.29a1,1,0,0,0-1.41-1.41L18,16.59,9.71,8.29A1,1,0,0,0,8.29,9.71L16.59,18,8.29,26.29a1,1,0,1,0,1.41,1.41L18,19.41l8.29,8.29a1,1,0,0,0,1.41-1.41Z"/>'}],se=["step-forward-2",{outline:'<path d="M7.08,6.52a1.68,1.68,0,0,0,0,2.4L16.51,18,7.12,27.08a1.7,1.7,0,0,0,2.36,2.44h0L21.4,18,9.48,6.47A1.69,1.69,0,0,0,7.08,6.52Z"/><path d="M26.49,5a1.7,1.7,0,0,0-1.7,1.7V29.3a1.7,1.7,0,0,0,3.4,0V6.7A1.7,1.7,0,0,0,26.49,5Z"/>'}],le=["angle-double",{outline:'<path d="M29,19.41a1,1,0,0,1-.71-.29L18,8.83,7.71,19.12a1,1,0,0,1-1.41-1.41L18,6,29.71,17.71A1,1,0,0,1,29,19.41Z"/><path d="M29,30.41a1,1,0,0,1-.71-.29L18,19.83,7.71,30.12a1,1,0,0,1-1.41-1.41L18,17,29.71,28.71A1,1,0,0,1,29,30.41Z"/>'}],ue=["filter-grid-circle",{outline:'<path d="M15,25.86l2,1V20.27a1,1,0,0,0-.29-.7L10.23,13H25.79l-6.47,6.57a1,1,0,0,0-.29.7L19,28l2,1V20.68L27.58,14A1.46,1.46,0,0,0,28,13V12a1,1,0,0,0-1-1H9a1,1,0,0,0-1,1v1a1.46,1.46,0,0,0,.42,1L15,20.68Z"/><path d="M18,2A16,16,0,1,0,34,18,16,16,0,0,0,18,2Zm0,30A14,14,0,1,1,32,18,14,14,0,0,1,18,32Z"/>',solid:'<path d="M18,2A16,16,0,1,0,34,18,16,16,0,0,0,18,2Zm0,30A14,14,0,1,1,32,18,14,14,0,0,1,18,32Z"/><path d="M8,11v1.12a.5.5,0,0,0,.15.35l7.28,7.36a.5.5,0,0,1,.15.35v6.89a.5.5,0,0,0,.28.45l3.95,1.41a.5.5,0,0,0,.72-.45l0-8.39a.54.54,0,0,1,.18-.35l7.12-7.25a.5.5,0,0,0,.15-.35V11Z"/>'}],ce=["filter-grid",{outline:'<path d="M15,25.86l2,1V20.27a1,1,0,0,0-.29-.7L10.23,13H25.79l-6.47,6.57a1,1,0,0,0-.29.7L19,28l2,1V20.68L27.58,14A1.46,1.46,0,0,0,28,13V12a1,1,0,0,0-1-1H9a1,1,0,0,0-1,1v1a1.46,1.46,0,0,0,.42,1L15,20.68Z"/>',solid:'<path d="M8,11v1.12a.5.5,0,0,0,.15.35l7.28,7.36a.5.5,0,0,1,.15.35v6.89a.5.5,0,0,0,.28.45l3.95,1.41a.5.5,0,0,0,.72-.45l0-8.39a.54.54,0,0,1,.18-.35l7.12-7.25a.5.5,0,0,0,.15-.35V11Z"/>'}],he=["info-circle",{outline:'<circle cx="17.93" cy="11.9" r="1.4"/><path d="M21,23H19V15H16a1,1,0,0,0,0,2h1v6H15a1,1,0,1,0,0,2h6a1,1,0,0,0,0-2Z"/><path d="M18,6A12,12,0,1,0,30,18,12,12,0,0,0,18,6Zm0,22A10,10,0,1,1,28,18,10,10,0,0,1,18,28Z"/>',solid:'<path d="M18,6A12,12,0,1,0,30,18,12,12,0,0,0,18,6Zm-2,5.15a2,2,0,1,1,2,2A2,2,0,0,1,15.9,11.15ZM23,24a1,1,0,0,1-1,1H15a1,1,0,1,1,0-2h2V17H16a1,1,0,0,1,0-2h4v8h2A1,1,0,0,1,23,24Z"/>'}],de=["exclamation-triangle",{outline:'<path d="M18,21.32a1.3,1.3,0,0,0,1.3-1.3V14a1.3,1.3,0,1,0-2.6,0v6A1.3,1.3,0,0,0,18,21.32Z"/><circle cx="17.95" cy="24.27" r="1.5"/><path d="M30.33,25.54,20.59,7.6a3,3,0,0,0-5.27,0L5.57,25.54A3,3,0,0,0,8.21,30H27.69a3,3,0,0,0,2.64-4.43Zm-1.78,1.94a1,1,0,0,1-.86.49H8.21a1,1,0,0,1-.88-1.48L17.07,8.55a1,1,0,0,1,1.76,0l9.74,17.94A1,1,0,0,1,28.55,27.48Z"/>',solid:'<path d="M30.33,25.54,20.59,7.6a3,3,0,0,0-5.27,0L5.57,25.54A3,3,0,0,0,8.21,30H27.69a3,3,0,0,0,2.64-4.43ZM16.46,12.74a1.49,1.49,0,0,1,3,0v6.89a1.49,1.49,0,1,1-3,0ZM18,26.25a1.72,1.72,0,1,1,1.72-1.72A1.72,1.72,0,0,1,18,26.25Z"/>'}],fe=["error-standard",{outline:'<circle cx="18" cy="26.06" r="1.33"/><path d="M18,22.61a1,1,0,0,1-1-1v-12a1,1,0,1,1,2,0v12A1,1,0,0,1,18,22.61Z"/><path d="M18,34A16,16,0,1,1,34,18,16,16,0,0,1,18,34ZM18,4A14,14,0,1,0,32,18,14,14,0,0,0,18,4Z"/>',solid:'<path d="M18,2.1a16,16,0,1,0,16,16A16,16,0,0,0,18,2.1ZM16.6,8.8a1.4,1.4,0,0,1,2.8,0v12a1.4,1.4,0,0,1-2.8,0ZM18,28.6a1.8,1.8,0,1,1,1.8-1.8A1.8,1.8,0,0,1,18,28.6Z"/>'}],pe=["circle",{outline:'<path d="M18,34A16,16,0,1,1,34,18,16,16,0,0,1,18,34ZM18,4A14,14,0,1,0,32,18,14,14,0,0,0,18,4Z"/>',solid:'<path d="M18,34A16,16,0,1,1,34,18,16,16,0,0,1,18,34Z"/>'}],me=["dot-circle",{outline:'<path d="M18,11a7,7,0,1,1-7,7,7,7,0,0,1,7-7"/><path d="M18,34A16,16,0,1,1,34,18,16,16,0,0,1,18,34ZM18,4A14,14,0,1,0,32,18,14,14,0,0,0,18,4Z"/>'}],ve=["success-standard",{outline:'<path d="M18,2A16,16,0,1,0,34,18,16,16,0,0,0,18,2Zm0,30A14,14,0,1,1,32,18,14,14,0,0,1,18,32Z"/><path d="M28,12.1a1,1,0,0,0-1.41,0L15.49,23.15l-6-6A1,1,0,0,0,8,18.53L15.49,26,28,13.52A1,1,0,0,0,28,12.1Z"/>',solid:'<path d="M18,2A16,16,0,1,0,34,18,16,16,0,0,0,18,2ZM28.45,12.63,15.31,25.76,7.55,18a1.4,1.4,0,0,1,2-2l5.78,5.78L26.47,10.65a1.4,1.4,0,1,1,2,2Z"/>'}],ge=c("SVse"),ye=c("XNiG"),_e=c("xgIS"),be=c("2Vo4"),Se=c("LRne"),Te=c("jtHE"),we=c("7+OI"),xe=c("itXk"),Ee=c("HDdC"),Ce=c("pLZG"),ke=c("Kj3r"),Me=(c("SxV6"),c("eIep"),c("IzEk")),Oe=c("lJxs"),Ae=(c("JX91"),c("vkgz"),c("/uUt"),c("GS7A")),Re=c("s7LF");function Ie(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!e||!U){var t=document&&document.querySelector("[ng-version]");U=t?"".concat(t.getAttribute("ng-version")):void 0}return U}function Le(){var e,t,n,i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return i&&U||(G=null===(n=null===(t=null===(e=window)||void 0===e?void 0:e.angular)||void 0===t?void 0:t.version)||void 0===n?void 0:n.full),G}function Pe(){var e,t,n,i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return i&&V||(V=(null===(n=null===(t=null===(e=window)||void 0===e?void 0:e.CDS)||void 0===t?void 0:t._react)||void 0===n?void 0:n.version)?window.CDS._react.version:document.querySelector("[data-reactroot], [data-reactid]")?"unknown version":void 0),V}function De(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!e||!B){for(var t,n=document.querySelectorAll("*"),i=0;i<n.length;i++)if(n[i].__vue__){t=n[i];break}B=t?"unknown version":void 0}return B}var Ne=x(function(e,t){return null!=t&&t.constructor===e||t instanceof e}),je=Object.prototype.toString,Fe=function(){return"[object Arguments]"===je.call(arguments)?function(e){return"[object Arguments]"===je.call(e)}:function(e){return j("callee",e)}}(),Ue=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)},Ge=S(function(e){return null!=e&&"function"==typeof e["fantasy-land/empty"]?e["fantasy-land/empty"]():null!=e&&null!=e.constructor&&"function"==typeof e.constructor["fantasy-land/empty"]?e.constructor["fantasy-land/empty"]():null!=e&&"function"==typeof e.empty?e.empty():null!=e&&null!=e.constructor&&"function"==typeof e.constructor.empty?e.constructor.empty():Ue(e)?[]:A(e)?"":function(e){return"[object Object]"===Object.prototype.toString.call(e)}(e)?{}:Fe(e)?function(){return arguments}():void 0});function Ve(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function Be(e,t,n){for(var i=0,r=n.length;i<r;){if(e(t,n[i]))return!0;i+=1}return!1}var ze="function"==typeof Object.is?Object.is:function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t},He=!{toString:null}.propertyIsEnumerable("toString"),Xe=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],qe=function(){return arguments.propertyIsEnumerable("length")}(),We=function(e,t){for(var n=0;n<e.length;){if(e[n]===t)return!0;n+=1}return!1},Ye=S("function"!=typeof Object.keys||qe?function(e){if(Object(e)!==e)return[];var t,n,i=[],r=qe&&Fe(e);for(t in e)!j(t,e)||r&&"length"===t||(i[i.length]=t);if(He)for(n=Xe.length-1;n>=0;)j(t=Xe[n],e)&&!We(i,t)&&(i[i.length]=t),n-=1;return i}:function(e){return Object(e)!==e?[]:Object.keys(e)}),Ke=S(function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)});function Ze(e,t,n,i){var r=Ve(e);function a(e,t){return Je(e,t,n.slice(),i.slice())}return!Be(function(e,t){return!Be(a,t,e)},Ve(t),r)}function Je(e,t,n,i){if(ze(e,t))return!0;var r,a=Ke(e);if(a!==Ke(t))return!1;if(null==e||null==t)return!1;if("function"==typeof e["fantasy-land/equals"]||"function"==typeof t["fantasy-land/equals"])return"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t)&&"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e);if("function"==typeof e.equals||"function"==typeof t.equals)return"function"==typeof e.equals&&e.equals(t)&&"function"==typeof t.equals&&t.equals(e);switch(a){case"Arguments":case"Array":case"Object":if("function"==typeof e.constructor&&"Promise"===(null==(r=String(e.constructor).match(/^function (\w*)/))?"":r[1]))return e===t;break;case"Boolean":case"Number":case"String":if(typeof e!=typeof t||!ze(e.valueOf(),t.valueOf()))return!1;break;case"Date":if(!ze(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(e.source!==t.source||e.global!==t.global||e.ignoreCase!==t.ignoreCase||e.multiline!==t.multiline||e.sticky!==t.sticky||e.unicode!==t.unicode)return!1}for(var o=n.length-1;o>=0;){if(n[o]===e)return i[o]===t;o-=1}switch(a){case"Map":return e.size===t.size&&Ze(e.entries(),t.entries(),n.concat([e]),i.concat([t]));case"Set":return e.size===t.size&&Ze(e.values(),t.values(),n.concat([e]),i.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var s=Ye(e);if(s.length!==Ye(t).length)return!1;var l=n.concat([e]),u=i.concat([t]);for(o=s.length-1;o>=0;){var c=s[o];if(!j(c,t)||!Je(t[c],e[c],l,u))return!1;o-=1}return!0}var Qe=x(function(e,t){return Je(e,t,[],[])}),$e=S(function(e){return null!=e&&Qe(e,Ge(e))});function et(e){return M(e)||$e(e)}function tt(e,t){return e!==t}function nt(e){return e.replace(/[A-Z]/g,function(e){return"-".concat(e.toLowerCase())})}function it(e){return e.charAt(0).toUpperCase()+e.slice(1)}var rt=new(function(){return function e(){var t=this;if(_(this,e),this.supports={js:!0,flexGap:at()},!document.body.hasAttribute("cds-supports")||"no-js"===document.body.getAttribute("cds-supports")){var n=nt(Object.keys(this.supports).reduce(function(e,n){return"".concat(e," ").concat(t.supports[n]?n:"no-".concat(n))},"")).trim();document.body.setAttribute("cds-supports",n)}}}());function at(){var e=document.createElement("div");e.style.display="flex",e.style.flexDirection="column",e.style.rowGap="1px",e.appendChild(document.createElement("div")),e.appendChild(document.createElement("div")),document.body.appendChild(e);var t=1===e.scrollHeight;return e.parentNode.removeChild(e),t}var ot=function(){function e(){_(this,e)}return y(e,null,[{key:"log",value:function(){var e;lt()&&st()&&(e=console).log.apply(e,arguments)}},{key:"warn",value:function(){var e;lt()&&st()&&(e=console).warn.apply(e,arguments)}},{key:"error",value:function(){var e;lt()&&st()&&(e=console).error.apply(e,arguments)}}]),e}();function st(){return!D(["jasmine"])}function lt(){return!window.CDS.environment.production}function ut(){return{versions:window.CDS._version,environment:window.CDS.environment,userAgent:navigator.userAgent,supports:window.CDS._supports,angularVersion:Ie(!1),angularJSVersion:Le(!1),reactVersion:Pe(!1),vueVersion:De(!1),loadedElements:window.CDS._loadedElements}}function ct(){console.log(JSON.stringify(ut(),null,2))}var ht=k(3,function(e,t,n){!function(e,t){return t||(t=window&&window.customElements),!t||!!t.get(e)}(e)||window.location.href.includes("localhost:6006")?(n.define(e,function(e){return rt.supports.flexGap?e:function(e){b(n,e);var t=T(n);function n(){return _(this,n),t.apply(this,arguments)}return y(n,[{key:"connectedCallback",value:function(){v(C(n.prototype),"connectedCallback",this).call(this),this.setAttribute("_nfg","")}}]),n}(e)}(t)),N()&&(window.CDS=window.CDS||{_version:[],_loadedElements:[],_react:{version:void 0},_supports:rt.supports,environment:{production:!1},getVersion:ut,logVersion:ct},window.CDS._version.indexOf("5.1.1")<0&&window.CDS._version.push("5.1.1"),document.querySelector("body").setAttribute("cds-version",window.CDS._version[0]),window.CDS._version.length>1&&ot.warn("Running more than one version of Clarity can cause unexpected issues. Please ensure only one version is loaded.")),window.CDS._loadedElements.some(function(t){return t===e})||window.CDS._loadedElements.push(e)):ot.warn("".concat(e," has already been registered"))}),dt=c("mrSG"),ft=c("tFPJ"),pt=c("4yuk");function mt(e,t){for(var n=e.element.content,i=e.parts,r=document.createTreeWalker(n,133,null,!1),a=gt(i),o=i[a],s=-1,l=0,u=[],c=null;r.nextNode();){s++;var h=r.currentNode;for(h.previousSibling===c&&(c=null),t.has(h)&&(u.push(h),null===c&&(c=h)),null!==c&&l++;void 0!==o&&o.index===s;)o.index=null!==c?-1:o.index-l,o=i[a=gt(i,a)]}u.forEach(function(e){return e.parentNode.removeChild(e)})}var vt=function(e){for(var t=11===e.nodeType?0:1,n=document.createTreeWalker(e,133,null,!1);n.nextNode();)t++;return t},gt=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=t+1;n<e.length;n++){var i=e[n];if(Object(pt.d)(i))return n}return-1},yt=c("wmha"),_t=c("PqmH"),bt=c("6unr"),St=c("AaG5"),Tt=function(e,t){return"".concat(e,"--").concat(t)},wt=!0;void 0===window.ShadyCSS?wt=!1:void 0===window.ShadyCSS.prepareTemplateDom&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),wt=!1);var xt=function(e){return function(t){var n=Tt(t.type,e),i=_t.a.get(n);void 0===i&&(i={stringsArray:new WeakMap,keyString:new Map},_t.a.set(n,i));var r=i.stringsArray.get(t.strings);if(void 0!==r)return r;var a=t.strings.join(pt.f);if(void 0===(r=i.keyString.get(a))){var o=t.getTemplateElement();wt&&window.ShadyCSS.prepareTemplateDom(o,e),r=new pt.a(t,o),i.keyString.set(a,r)}return i.stringsArray.set(t.strings,r),r}},Et=["html","svg"],Ct=new Set,kt=function(e,t,n){if(!n||"object"!=typeof n||!n.scopeName)throw new Error("The `scopeName` option is required.");var i=n.scopeName,r=yt.a.has(t),a=wt&&11===t.nodeType&&!!t.host,o=a&&!Ct.has(i),s=o?document.createDocumentFragment():t;if(Object(yt.b)(e,s,Object.assign({templateFactory:xt(i)},n)),o){var l=yt.a.get(s);yt.a.delete(s),function(e,t,n){Ct.add(e);var i=n?n.element:document.createElement("template"),r=t.querySelectorAll("style"),a=r.length;if(0!==a){for(var o=document.createElement("style"),s=0;s<a;s++){var l=r[s];l.parentNode.removeChild(l),o.textContent+=l.textContent}!function(e){Et.forEach(function(t){var n=_t.a.get(Tt(t,e));void 0!==n&&n.keyString.forEach(function(e){var t=e.element.content,n=new Set;Array.from(t.querySelectorAll("style")).forEach(function(e){n.add(e)}),mt(e,n)})})}(e);var u=i.content;n?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=e.element.content,r=e.parts;if(null!=n)for(var a=document.createTreeWalker(i,133,null,!1),o=gt(r),s=0,l=-1;a.nextNode();)for(l++,a.currentNode===n&&(s=vt(t),n.parentNode.insertBefore(t,n));-1!==o&&r[o].index===l;){if(s>0){for(;-1!==o;)r[o].index+=s,o=gt(r,o);return}o=gt(r,o)}else i.appendChild(t)}(n,o,u.firstChild):u.insertBefore(o,u.firstChild),window.ShadyCSS.prepareTemplateStyles(i,e);var c=u.querySelector("style");if(window.ShadyCSS.nativeShadow&&null!==c)t.insertBefore(c.cloneNode(!0),t.firstChild);else if(n){u.insertBefore(o,u.firstChild);var h=new Set;h.add(o),mt(n,h)}}else window.ShadyCSS.prepareTemplateStyles(i,e)}(i,s,l.value instanceof bt.a?l.value.template:void 0),Object(ft.b)(t,t.firstChild),t.appendChild(s),yt.a.set(t,l)}!r&&a&&window.ShadyCSS.styleElement(t.host)};window.JSCompiler_renameProperty=function(e,t){return e};var Mt={toAttribute:function(e,t){switch(t){case Boolean:return e?"":null;case Object:case Array:return null==e?e:JSON.stringify(e)}return e},fromAttribute:function(e,t){switch(t){case Boolean:return null!==e;case Number:return null===e?null:Number(e);case Object:case Array:return JSON.parse(e)}return e}},Ot=function(e,t){return t!==e&&(t==t||e==e)},At={attribute:!0,type:String,converter:Mt,reflect:!1,hasChanged:Ot},Rt=function(e){b(i,e);var t,n=T(i);function i(){var e;return _(this,i),(e=n.call(this)).initialize(),e}return y(i,[{key:"initialize",value:function(){var e=this;this._updateState=0,this._updatePromise=new Promise(function(t){return e._enableUpdatingResolver=t}),this._changedProperties=new Map,this._saveInstanceProperties(),this.requestUpdateInternal()}},{key:"_saveInstanceProperties",value:function(){var e=this;this.constructor._classProperties.forEach(function(t,n){if(e.hasOwnProperty(n)){var i=e[n];delete e[n],e._instanceProperties||(e._instanceProperties=new Map),e._instanceProperties.set(n,i)}})}},{key:"_applyInstanceProperties",value:function(){var e=this;this._instanceProperties.forEach(function(t,n){return e[n]=t}),this._instanceProperties=void 0}},{key:"connectedCallback",value:function(){this.enableUpdating()}},{key:"enableUpdating",value:function(){void 0!==this._enableUpdatingResolver&&(this._enableUpdatingResolver(),this._enableUpdatingResolver=void 0)}},{key:"disconnectedCallback",value:function(){}},{key:"attributeChangedCallback",value:function(e,t,n){t!==n&&this._attributeToProperty(e,n)}},{key:"_propertyToAttribute",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:At,i=this.constructor,r=i._attributeNameForProperty(e,n);if(void 0!==r){var a=i._propertyValueToAttribute(t,n);if(void 0===a)return;this._updateState=8|this._updateState,null==a?this.removeAttribute(r):this.setAttribute(r,a),this._updateState=-9&this._updateState}}},{key:"_attributeToProperty",value:function(e,t){if(!(8&this._updateState)){var n=this.constructor,i=n._attributeToPropertyMap.get(e);if(void 0!==i){var r=n.getPropertyOptions(i);this._updateState=16|this._updateState,this[i]=n._propertyValueFromAttribute(t,r),this._updateState=-17&this._updateState}}}},{key:"requestUpdateInternal",value:function(e,t,n){var i=!0;if(void 0!==e){var r=this.constructor;n=n||r.getPropertyOptions(e),r._valueHasChanged(this[e],t,n.hasChanged)?(this._changedProperties.has(e)||this._changedProperties.set(e,t),!0!==n.reflect||16&this._updateState||(void 0===this._reflectingProperties&&(this._reflectingProperties=new Map),this._reflectingProperties.set(e,n))):i=!1}!this._hasRequestedUpdate&&i&&(this._updatePromise=this._enqueueUpdate())}},{key:"requestUpdate",value:function(e,t){return this.requestUpdateInternal(e,t),this.updateComplete}},{key:"_enqueueUpdate",value:(t=o(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._updateState=4|this._updateState,e.prev=1,e.next=4,this._updatePromise;case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:if(t=this.performUpdate(),e.t1=null!=t,!e.t1){e.next=13;break}return e.next=13,t;case 13:return e.abrupt("return",!this._hasRequestedUpdate);case 14:case"end":return e.stop()}},e,this,[[1,6]])})),function(){return t.apply(this,arguments)})},{key:"_hasRequestedUpdate",get:function(){return 4&this._updateState}},{key:"hasUpdated",get:function(){return 1&this._updateState}},{key:"performUpdate",value:function(){if(this._hasRequestedUpdate){this._instanceProperties&&this._applyInstanceProperties();var e=!1,t=this._changedProperties;try{(e=this.shouldUpdate(t))?this.update(t):this._markUpdated()}catch(n){throw e=!1,this._markUpdated(),n}e&&(1&this._updateState||(this._updateState=1|this._updateState,this.firstUpdated(t)),this.updated(t))}}},{key:"_markUpdated",value:function(){this._changedProperties=new Map,this._updateState=-5&this._updateState}},{key:"updateComplete",get:function(){return this._getUpdateComplete()}},{key:"_getUpdateComplete",value:function(){return this.getUpdateComplete()}},{key:"getUpdateComplete",value:function(){return this._updatePromise}},{key:"shouldUpdate",value:function(e){return!0}},{key:"update",value:function(e){var t=this;void 0!==this._reflectingProperties&&this._reflectingProperties.size>0&&(this._reflectingProperties.forEach(function(e,n){return t._propertyToAttribute(n,t[n],e)}),this._reflectingProperties=void 0),this._markUpdated()}},{key:"updated",value:function(e){}},{key:"firstUpdated",value:function(e){}}],[{key:"observedAttributes",get:function(){var e=this;this.finalize();var t=[];return this._classProperties.forEach(function(n,i){var r=e._attributeNameForProperty(i,n);void 0!==r&&(e._attributeToPropertyMap.set(r,i),t.push(r))}),t}},{key:"_ensureClassProperties",value:function(){var e=this;if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;var t=Object.getPrototypeOf(this)._classProperties;void 0!==t&&t.forEach(function(t,n){return e._classProperties.set(n,t)})}}},{key:"createProperty",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:At;if(this._ensureClassProperties(),this._classProperties.set(e,t),!t.noAccessor&&!this.prototype.hasOwnProperty(e)){var n="symbol"==typeof e?Symbol():"__".concat(e),i=this.getPropertyDescriptor(e,n,t);void 0!==i&&Object.defineProperty(this.prototype,e,i)}}},{key:"getPropertyDescriptor",value:function(e,t,n){return{get:function(){return this[t]},set:function(i){var r=this[e];this[t]=i,this.requestUpdateInternal(e,r,n)},configurable:!0,enumerable:!0}}},{key:"getPropertyOptions",value:function(e){return this._classProperties&&this._classProperties.get(e)||At}},{key:"finalize",value:function(){var e=Object.getPrototypeOf(this);if(e.hasOwnProperty("finalized")||e.finalize(),this.finalized=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){var t,n=this.properties,i=h([].concat(d(Object.getOwnPropertyNames(n)),d("function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(n):[])));try{for(i.s();!(t=i.n()).done;){var r=t.value;this.createProperty(r,n[r])}}catch(a){i.e(a)}finally{i.f()}}}},{key:"_attributeNameForProperty",value:function(e,t){var n=t.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof e?e.toLowerCase():void 0}},{key:"_valueHasChanged",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ot;return n(e,t)}},{key:"_propertyValueFromAttribute",value:function(e,t){var n=t.converter||Mt,i="function"==typeof n?n:n.fromAttribute;return i?i(e,t.type):e}},{key:"_propertyValueToAttribute",value:function(e,t){if(void 0!==t.reflect){var n=t.converter;return(n&&n.toAttribute||Mt.toAttribute)(e,t.type)}}}]),i}(u(HTMLElement));Rt.finalized=!0;function It(e){return function(t,n){return void 0!==n?function(e,t,n){t.constructor.createProperty(n,e)}(e,t,n):function(e,t){return"method"===t.kind&&t.descriptor&&!("value"in t.descriptor)?Object.assign(Object.assign({},t),{finisher:function(n){n.createProperty(t.key,e)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},initializer:function(){"function"==typeof t.initializer&&(this[t.key]=t.initializer.call(this))},finisher:function(n){n.createProperty(t.key,e)}}}(e,t)}}Element;var Lt=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Pt=Symbol(),Dt=function(){function e(t,n){if(_(this,e),n!==Pt)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t}return y(e,[{key:"styleSheet",get:function(){return void 0===this._styleSheet&&(Lt?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}},{key:"toString",value:function(){return this.cssText}}]),e}(),Nt=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=n.reduce(function(t,n,i){return t+function(e){if(e instanceof Dt)return e.cssText;if("number"==typeof e)return e;throw new Error("Value passed to 'css' function must be a 'css' function result: ".concat(e,". Use 'unsafeCSS' to pass non-literal values, but\n            take care to ensure page security."))}(n)+e[i+1]},e[0]);return new Dt(r,Pt)};(window.litElementVersions||(window.litElementVersions=[])).push("2.5.1");var jt,Ft={},Ut=((jt=function(e){b(n,e);var t=T(n);function n(){return _(this,n),t.apply(this,arguments)}return y(n,[{key:"initialize",value:function(){v(C(n.prototype),"initialize",this).call(this),this.constructor._getUniqueStyles(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}},{key:"createRenderRoot",value:function(){return this.attachShadow(this.constructor.shadowRootOptions)}},{key:"adoptStyles",value:function(){var e=this.constructor._styles;0!==e.length&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow?Lt?this.renderRoot.adoptedStyleSheets=e.map(function(e){return e instanceof CSSStyleSheet?e:e.styleSheet}):this._needsShimAdoptedStyleSheets=!0:window.ShadyCSS.ScopingShim.prepareAdoptedCssText(e.map(function(e){return e.cssText}),this.localName))}},{key:"connectedCallback",value:function(){v(C(n.prototype),"connectedCallback",this).call(this),this.hasUpdated&&void 0!==window.ShadyCSS&&window.ShadyCSS.styleElement(this)}},{key:"update",value:function(e){var t=this,i=this.render();v(C(n.prototype),"update",this).call(this,e),i!==Ft&&this.constructor.render(i,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach(function(e){var n=document.createElement("style");n.textContent=e.cssText,t.renderRoot.appendChild(n)}))}},{key:"render",value:function(){return Ft}}],[{key:"getStyles",value:function(){return this.styles}},{key:"_getUniqueStyles",value:function(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_styles",this))){var e=this.getStyles();if(Array.isArray(e)){var t=function e(t,n){return t.reduceRight(function(t,n){return Array.isArray(n)?e(n,t):(t.add(n),t)},n)}(e,new Set),n=[];t.forEach(function(e){return n.unshift(e)}),this._styles=n}else this._styles=void 0===e?[]:[e];this._styles=this._styles.map(function(e){if(e instanceof CSSStyleSheet&&!Lt){var t=Array.prototype.slice.call(e.cssRules).reduce(function(e,t){return e+t.cssText},"");return new Dt(String(t),Pt)}return e})}}}]),n}(Rt)).finalized=!0,jt.render=kt,jt.shadowRootOptions={mode:"open"},jt),Gt=Nt(e||(e=r([":root,:host{--cxxs: var(--cds-global-layout-space-xxs, .125rem);--cxs: var(--cds-global-layout-space-xs, .25rem);--csm: var(--cds-global-layout-space-sm, .375rem);--cmd: var(--cds-global-layout-space-md, .75rem);--clg: var(--cds-global-layout-space-lg, 1.5rem);--cxl: var(--cds-global-layout-space-xl, 3rem);--cxxl: var(--cds-global-layout-space-xxl, 6rem)}[cds-layout~='wrap:none']{flex-wrap:nowrap !important}[cds-layout*='align:stretch']{flex-grow:1 !important}[cds-layout*='align:shrink']{flex-shrink:1 !important;flex-grow:0 !important}[cds-layout~='horizontal']{display:flex;flex-direction:row;flex-wrap:wrap;justify-items:flex-start;align-items:flex-start;width:100%;margin:0;min-height:0}[cds-layout~='horizontal']>[cds-layout~='horizontal'],[cds-layout~='horizontal']>[cds-layout~='vertical'],[cds-layout~='horizontal']>[cds-text]{width:initial !important}[cds-layout~='horizontal'][cds-layout*='align:top']{align-items:flex-start}[cds-layout~='horizontal'][cds-layout*='align:right']{justify-content:flex-end}[cds-layout~='horizontal'][cds-layout*='align:vertical-center']{align-items:center;align-content:center}[cds-layout~='horizontal'][cds-layout*='align:horizontal-center']{justify-content:center}[cds-layout~='horizontal'][cds-layout*='align:center']{align-items:center;align-content:center;justify-content:center}[cds-layout~='horizontal'][cds-layout*='order:reverse']{flex-direction:row-reverse}[cds-layout~='horizontal'][cds-layout*='align:horizontal-stretch']{justify-content:stretch;flex-grow:1}[cds-layout~='horizontal'][cds-layout*='align:horizontal-stretch']>*{flex-grow:1}[cds-layout~='horizontal'][cds-layout*='align:stretch']{align-items:stretch;align-content:stretch;flex-grow:1}[cds-layout~='horizontal'][cds-layout*='align:stretch']>*{flex-grow:1}[cds-layout~='horizontal']>[cds-layout*='align:center'],[cds-layout~='horizontal']>[cds-layout*='align:vertical-center']{align-self:center}[cds-layout~='horizontal']>[cds-layout*='align:center'],[cds-layout~='horizontal']>[cds-layout*='align:horizontal-center']{margin-left:auto !important;margin-right:auto !important}[cds-layout~='horizontal']>[cds-layout*='align:top']{align-self:flex-start}[cds-layout~='horizontal']>[cds-layout*='align:right']{margin-left:auto !important}[cds-layout~='vertical']{width:100%;display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start}[cds-layout~='vertical'][cds-layout*='align:top']{justify-content:flex-start}[cds-layout~='vertical'][cds-layout*='align:right']{align-items:flex-end}[cds-layout~='vertical'][cds-layout*='align:vertical-center']{justify-content:center}[cds-layout~='vertical'][cds-layout*='align:horizontal-center']{align-items:center}[cds-layout~='vertical'][cds-layout*='align:center']{align-items:center;justify-content:center}[cds-layout~='vertical'][cds-layout*='order:reverse']{flex-direction:column-reverse}[cds-layout~='vertical'][cds-layout*='align:horizontal-stretch']{align-items:stretch}[cds-layout~='vertical'][cds-layout*='align:stretch']{align-items:stretch;justify-content:stretch}[cds-layout~='vertical'][cds-layout*='align:stretch']>*{flex-grow:1}[cds-layout~='vertical']>[cds-layout*='align:center'],[cds-layout~='vertical']>[cds-layout*='align:vertical-center']{margin-top:auto;margin-bottom:auto}[cds-layout~='vertical']>[cds-layout*='align:center'],[cds-layout~='vertical']>[cds-layout*='align:horizontal-center']{align-self:center}[cds-layout~='vertical']>[cds-layout*='align:top']{margin-bottom:auto !important}[cds-layout~='vertical']>[cds-layout*='align:right']{margin-left:auto}[cds-layout~='display:screen-reader-only']{position:absolute !important;clip:rect(1px, 1px, 1px, 1px);clip-path:inset(50%);padding:0;border:0;height:1px;width:1px;overflow:hidden;white-space:nowrap;top:0;left:0;display:block !important}[cds-layout*='gap:none']{gap:0}[cds-layout*='gap:xs']{gap:var(--cxs)}[cds-layout*='gap:sm']{gap:var(--csm)}[cds-layout*='gap:md']{gap:var(--cmd)}[cds-layout*='gap:lg']{gap:var(--clg)}[cds-layout~='p:none']{padding:0 !important}[cds-layout~='p:xs']{padding:var(--cxs) !important}[cds-layout~='p:sm']{padding:var(--csm) !important}[cds-layout~='p:md']{padding:var(--cmd) !important}[cds-layout~='m:md']{margin:var(--cmd) !important}[cds-layout~='p:lg']{padding:var(--clg) !important}[cds-layout~='p-y:xs']{padding-top:var(--cxs) !important;padding-bottom:var(--cxs) !important}[cds-layout~='p-x:lg']{padding-left:var(--clg) !important;padding-right:var(--clg) !important}[cds-layout~='p-l:md']{padding-left:var(--cmd) !important}[cds-layout~='p-t:lg']{padding-top:var(--clg) !important}[cds-layout~='p-b:lg']{padding-bottom:var(--clg) !important}@media (min-width: 62rem){[cds-layout*='gap@md:lg']{gap:var(--clg)}[cds-layout~='p@md:lg']{padding:var(--clg) !important}[cds-layout~='m@md:xl']{margin:var(--cxl) !important}}[cds-layout~='fill']{width:100% !important}*,*:before,*:after,:host{box-sizing:border-box}[cds-layout~='vertical'][cds-layout*='align:stretch']>::slotted(*){flex-grow:1}[cds-layout~='vertical'] ::slotted([cds-layout*='align:center']),[cds-layout~='vertical'] ::slotted([cds-layout*='align:vertical-center']){margin-top:auto;margin-bottom:auto}[cds-layout~='vertical'] ::slotted([cds-layout*='align:center']),[cds-layout~='vertical'] ::slotted([cds-layout*='align:horizontal-center']){align-self:center}[cds-layout~='vertical'] ::slotted([cds-layout*='align:top']){margin-bottom:auto !important}[cds-layout~='vertical'] ::slotted([cds-layout*='align:bottom']){margin-top:auto !important}[cds-layout~='vertical'] ::slotted([cds-layout*='align:right']){margin-left:auto}[cds-layout~='vertical'] ::slotted([cds-layout*='align:left']){margin-right:auto}@media (min-width: 36rem){[cds-layout~='vertical'] ::slotted([cds-layout*='align@xs:center']),[cds-layout~='vertical'] ::slotted([cds-layout*='align@xs:vertical-center']){margin-top:auto;margin-bottom:auto}[cds-layout~='vertical'] ::slotted([cds-layout*='align@xs:center']),[cds-layout~='vertical'] ::slotted([cds-layout*='align@xs:horizontal-center']){align-self:center}[cds-layout~='vertical'] ::slotted([cds-layout*='align@xs:top']){margin-bottom:auto !important}[cds-layout~='vertical'] ::slotted([cds-layout*='align@xs:bottom']){margin-top:auto !important}[cds-layout~='vertical'] ::slotted([cds-layout*='align@xs:right']){margin-left:auto}[cds-layout~='vertical'] ::slotted([cds-layout*='align@xs:left']){margin-right:auto}}@media (min-width: 48rem){[cds-layout~='vertical'] ::slotted([cds-layout*='align@sm:center']),[cds-layout~='vertical'] ::slotted([cds-layout*='align@sm:vertical-center']){margin-top:auto;margin-bottom:auto}[cds-layout~='vertical'] ::slotted([cds-layout*='align@sm:center']),[cds-layout~='vertical'] ::slotted([cds-layout*='align@sm:horizontal-center']){align-self:center}[cds-layout~='vertical'] ::slotted([cds-layout*='align@sm:top']){margin-bottom:auto !important}[cds-layout~='vertical'] ::slotted([cds-layout*='align@sm:bottom']){margin-top:auto !important}[cds-layout~='vertical'] ::slotted([cds-layout*='align@sm:right']){margin-left:auto}[cds-layout~='vertical'] ::slotted([cds-layout*='align@sm:left']){margin-right:auto}}@media (min-width: 62rem){[cds-layout~='vertical'] ::slotted([cds-layout*='align@md:center']),[cds-layout~='vertical'] ::slotted([cds-layout*='align@md:vertical-center']){margin-top:auto;margin-bottom:auto}[cds-layout~='vertical'] ::slotted([cds-layout*='align@md:center']),[cds-layout~='vertical'] ::slotted([cds-layout*='align@md:horizontal-center']){align-self:center}[cds-layout~='vertical'] ::slotted([cds-layout*='align@md:top']){margin-bottom:auto !important}[cds-layout~='vertical'] ::slotted([cds-layout*='align@md:bottom']){margin-top:auto !important}[cds-layout~='vertical'] ::slotted([cds-layout*='align@md:right']){margin-left:auto}[cds-layout~='vertical'] ::slotted([cds-layout*='align@md:left']){margin-right:auto}}@media (min-width: 75rem){[cds-layout~='vertical'] ::slotted([cds-layout*='align@lg:center']),[cds-layout~='vertical'] ::slotted([cds-layout*='align@lg:vertical-center']){margin-top:auto;margin-bottom:auto}[cds-layout~='vertical'] ::slotted([cds-layout*='align@lg:center']),[cds-layout~='vertical'] ::slotted([cds-layout*='align@lg:horizontal-center']){align-self:center}[cds-layout~='vertical'] ::slotted([cds-layout*='align@lg:top']){margin-bottom:auto !important}[cds-layout~='vertical'] ::slotted([cds-layout*='align@lg:bottom']){margin-top:auto !important}[cds-layout~='vertical'] ::slotted([cds-layout*='align@lg:right']){margin-left:auto}[cds-layout~='vertical'] ::slotted([cds-layout*='align@lg:left']){margin-right:auto}}@media (min-width: 90rem){[cds-layout~='vertical'] ::slotted([cds-layout*='align@xl:center']),[cds-layout~='vertical'] ::slotted([cds-layout*='align@xl:vertical-center']){margin-top:auto;margin-bottom:auto}[cds-layout~='vertical'] ::slotted([cds-layout*='align@xl:center']),[cds-layout~='vertical'] ::slotted([cds-layout*='align@xl:horizontal-center']){align-self:center}[cds-layout~='vertical'] ::slotted([cds-layout*='align@xl:top']){margin-bottom:auto !important}[cds-layout~='vertical'] ::slotted([cds-layout*='align@xl:bottom']){margin-top:auto !important}[cds-layout~='vertical'] ::slotted([cds-layout*='align@xl:right']){margin-left:auto}[cds-layout~='vertical'] ::slotted([cds-layout*='align@xl:left']){margin-right:auto}}[cds-layout~='horizontal'][cds-layout*='align:horizontal-stretch']>::slotted(*){flex-grow:1}[cds-layout~='horizontal'][cds-layout*='align:stretch']>::slotted(*){flex-grow:1}[cds-layout~='horizontal'] ::slotted([cds-layout*='align:center']),[cds-layout~='horizontal'] ::slotted([cds-layout*='align:vertical-center']){align-self:center}[cds-layout~='horizontal'] ::slotted([cds-layout*='align:center']),[cds-layout~='horizontal'] ::slotted([cds-layout*='align:horizontal-center']){margin-left:auto !important;margin-right:auto !important}[cds-layout~='horizontal'] ::slotted([cds-layout*='align:top']){align-self:flex-start}[cds-layout~='horizontal'] ::slotted([cds-layout*='align:bottom']){align-self:flex-end}[cds-layout~='horizontal'] ::slotted([cds-layout*='align:right']){margin-left:auto !important}[cds-layout~='horizontal'] ::slotted([cds-layout*='align:left']){margin-right:auto !important}@media (min-width: 36rem){[cds-layout~='horizontal'] ::slotted([cds-layout*='align@xs:center']),[cds-layout~='horizontal'] ::slotted([cds-layout*='align@xs:vertical-center']){align-self:center}[cds-layout~='horizontal'] ::slotted([cds-layout*='align@xs:center']),[cds-layout~='horizontal'] ::slotted([cds-layout*='align@xs:horizontal-center']){margin-left:auto !important;margin-right:auto !important}[cds-layout~='horizontal'] ::slotted([cds-layout*='align@xs:top']){align-self:flex-start}[cds-layout~='horizontal'] ::slotted([cds-layout*='align@xs:bottom']){align-self:flex-end}[cds-layout~='horizontal'] ::slotted([cds-layout*='align@xs:right']){margin-left:auto !important}[cds-layout~='horizontal'] ::slotted([cds-layout*='align@xs:left']){margin-right:auto !important}}@media (min-width: 48rem){[cds-layout~='horizontal'] ::slotted([cds-layout*='align@sm:center']),[cds-layout~='horizontal'] ::slotted([cds-layout*='align@sm:vertical-center']){align-self:center}[cds-layout~='horizontal'] ::slotted([cds-layout*='align@sm:center']),[cds-layout~='horizontal'] ::slotted([cds-layout*='align@sm:horizontal-center']){margin-left:auto !important;margin-right:auto !important}[cds-layout~='horizontal'] ::slotted([cds-layout*='align@sm:top']){align-self:flex-start}[cds-layout~='horizontal'] ::slotted([cds-layout*='align@sm:bottom']){align-self:flex-end}[cds-layout~='horizontal'] ::slotted([cds-layout*='align@sm:right']){margin-left:auto !important}[cds-layout~='horizontal'] ::slotted([cds-layout*='align@sm:left']){margin-right:auto !important}}@media (min-width: 62rem){[cds-layout~='horizontal'] ::slotted([cds-layout*='align@md:center']),[cds-layout~='horizontal'] ::slotted([cds-layout*='align@md:vertical-center']){align-self:center}[cds-layout~='horizontal'] ::slotted([cds-layout*='align@md:center']),[cds-layout~='horizontal'] ::slotted([cds-layout*='align@md:horizontal-center']){margin-left:auto !important;margin-right:auto !important}[cds-layout~='horizontal'] ::slotted([cds-layout*='align@md:top']){align-self:flex-start}[cds-layout~='horizontal'] ::slotted([cds-layout*='align@md:bottom']){align-self:flex-end}[cds-layout~='horizontal'] ::slotted([cds-layout*='align@md:right']){margin-left:auto !important}[cds-layout~='horizontal'] ::slotted([cds-layout*='align@md:left']){margin-right:auto !important}}@media (min-width: 75rem){[cds-layout~='horizontal'] ::slotted([cds-layout*='align@lg:center']),[cds-layout~='horizontal'] ::slotted([cds-layout*='align@lg:vertical-center']){align-self:center}[cds-layout~='horizontal'] ::slotted([cds-layout*='align@lg:center']),[cds-layout~='horizontal'] ::slotted([cds-layout*='align@lg:horizontal-center']){margin-left:auto !important;margin-right:auto !important}[cds-layout~='horizontal'] ::slotted([cds-layout*='align@lg:top']){align-self:flex-start}[cds-layout~='horizontal'] ::slotted([cds-layout*='align@lg:bottom']){align-self:flex-end}[cds-layout~='horizontal'] ::slotted([cds-layout*='align@lg:right']){margin-left:auto !important}[cds-layout~='horizontal'] ::slotted([cds-layout*='align@lg:left']){margin-right:auto !important}}@media (min-width: 90rem){[cds-layout~='horizontal'] ::slotted([cds-layout*='align@xl:center']),[cds-layout~='horizontal'] ::slotted([cds-layout*='align@xl:vertical-center']){align-self:center}[cds-layout~='horizontal'] ::slotted([cds-layout*='align@xl:center']),[cds-layout~='horizontal'] ::slotted([cds-layout*='align@xl:horizontal-center']){margin-left:auto !important;margin-right:auto !important}[cds-layout~='horizontal'] ::slotted([cds-layout*='align@xl:top']){align-self:flex-start}[cds-layout~='horizontal'] ::slotted([cds-layout*='align@xl:bottom']){align-self:flex-end}[cds-layout~='horizontal'] ::slotted([cds-layout*='align@xl:right']){margin-left:auto !important}[cds-layout~='horizontal'] ::slotted([cds-layout*='align@xl:left']){margin-right:auto !important}}[cds-text]{font-family:var(--cds-global-typography-font-family, \"Clarity City\", \"Avenir Next\", sans-serif);margin-top:0;margin-bottom:0}[cds-text][cds-layout~='vertical']::before,[cds-text][cds-layout~='vertical']::after,[cds-text][cds-layout~='horizontal']::before,[cds-text][cds-layout~='horizontal']::after{display:none}[cds-text*='display'],[cds-text*='title'],[cds-text*='section']{font-family:var(--cds-global-typography-header-font-family, \"Clarity City\", \"Avenir Next\", sans-serif);color:var(--cds-global-typography-color-400, var(--cds-global-color-construction-900, #21333b))}[cds-text*='body'],[cds-text*='message'],[cds-text*='secondary']{color:var(--cds-global-typography-color-500, var(--cds-global-color-black, #000))}[cds-text*='inline']{width:auto !important;display:inline-block !important}[cds-text*='display']{font-size:var(--cds-global-typography-display-font-size, 2rem);font-weight:var(--cds-global-typography-display-font-weight, 400);line-height:var(--cds-global-typography-display-line-height, 1.1em);letter-spacing:var(--cds-global-typography-display-letter-spacing, -0.0125em)}[cds-text*='display']::before{content:'';display:block;height:0;width:0;margin-bottom:calc(((var(--cds-global-typography-top-gap-height, 0.1475em) + calc((var(--cds-global-typography-display-line-height, 1.1em) - 1em) / 2)) * -1) + .037em)}[cds-text*='display']::after{content:'';display:block;height:0;width:0;margin-top:calc( (((1em - var(--cds-global-typography-top-gap-height, 0.1475em) - var(--cds-global-typography-ascender-height, 0.1703em) - var(--cds-global-typography-x-height, 0.517em)) + calc((var(--cds-global-typography-display-line-height, 1.1em) - 1em) / 2)) * -1) - .044em)}[cds-text*='title']{font-size:var(--cds-global-typography-title-font-size, 1.2rem);font-weight:var(--cds-global-typography-title-font-weight, 400);line-height:var(--cds-global-typography-title-line-height, 1.16667em);letter-spacing:var(--cds-global-typography-title-letter-spacing, -0.00833em)}[cds-text*='title']::before{content:'';display:block;height:0;width:0;margin-bottom:calc(((var(--cds-global-typography-top-gap-height, 0.1475em) + calc((var(--cds-global-typography-title-line-height, 1.16667em) - 1em) / 2)) * -1) + .037em)}[cds-text*='title']::after{content:'';display:block;height:0;width:0;margin-top:calc( (((1em - var(--cds-global-typography-top-gap-height, 0.1475em) - var(--cds-global-typography-ascender-height, 0.1703em) - var(--cds-global-typography-x-height, 0.517em)) + calc((var(--cds-global-typography-title-line-height, 1.16667em) - 1em) / 2)) * -1) - .044em)}[cds-text*='section']{font-size:var(--cds-global-typography-section-font-size, 1rem);font-weight:var(--cds-global-typography-section-font-weight, 400);line-height:var(--cds-global-typography-section-line-height, 1.2em);letter-spacing:var(--cds-global-typography-section-letter-spacing, -0.01em)}[cds-text*='section']::before{content:'';display:block;height:0;width:0;margin-bottom:calc(((var(--cds-global-typography-top-gap-height, 0.1475em) + calc((var(--cds-global-typography-section-line-height, 1.2em) - 1em) / 2)) * -1) + .037em)}[cds-text*='section']::after{content:'';display:block;height:0;width:0;margin-top:calc( (((1em - var(--cds-global-typography-top-gap-height, 0.1475em) - var(--cds-global-typography-ascender-height, 0.1703em) - var(--cds-global-typography-x-height, 0.517em)) + calc((var(--cds-global-typography-section-line-height, 1.2em) - 1em) / 2)) * -1) - .044em)}[cds-text*='body']{font-weight:var(--cds-global-typography-body-font-weight, 400);font-size:var(--cds-global-typography-body-font-size, 0.7rem);letter-spacing:var(--cds-global-typography-body-letter-spacing, -0.01429em);line-height:var(--cds-global-typography-body-line-height, 1.42857em)}[cds-text*='body']::before{content:'';display:block;height:0;width:0;margin-bottom:calc(((var(--cds-global-typography-top-gap-height, 0.1475em) + calc((var(--cds-global-typography-body-line-height, 1.42857em) - 1em) / 2)) * -1) + .1em)}[cds-text*='body']::after{content:'';display:block;height:0;width:0;margin-top:calc( (((1em - var(--cds-global-typography-top-gap-height, 0.1475em) - var(--cds-global-typography-ascender-height, 0.1703em) - var(--cds-global-typography-x-height, 0.517em)) + calc((var(--cds-global-typography-body-line-height, 1.42857em) - 1em) / 2)) * -1) - .044em)}[cds-text*='message']{font-size:var(--cds-global-typography-message-font-size, 0.8rem);font-weight:var(--cds-global-typography-message-font-weight, 20rem);line-height:var(--cds-global-typography-message-line-height, 1.25em);letter-spacing:var(--cds-global-typography-message-letter-spacing, -0.0125em)}[cds-text*='message']::before{content:'';display:block;height:0;width:0;margin-bottom:calc(((var(--cds-global-typography-top-gap-height, 0.1475em) + calc((var(--cds-global-typography-message-line-height, 1.25em) - 1em) / 2)) * -1) + .037em)}[cds-text*='message']::after{content:'';display:block;height:0;width:0;margin-top:calc( (((1em - var(--cds-global-typography-top-gap-height, 0.1475em) - var(--cds-global-typography-ascender-height, 0.1703em) - var(--cds-global-typography-x-height, 0.517em)) + calc((var(--cds-global-typography-message-line-height, 1.25em) - 1em) / 2)) * -1) - .044em)}[cds-text*='secondary']{font-size:var(--cds-global-typography-secondary-font-size, 0.65rem);font-weight:var(--cds-global-typography-secondary-font-weight, 400);line-height:var(--cds-global-typography-secondary-line-height, 1.23077em);letter-spacing:var(--cds-global-typography-secondary-letter-spacing, -0.00769em)}[cds-text*='secondary']::before{content:'';display:block;height:0;width:0;margin-bottom:calc(((var(--cds-global-typography-top-gap-height, 0.1475em) + calc((var(--cds-global-typography-secondary-line-height, 1.23077em) - 1em) / 2)) * -1) + .037em)}[cds-text*='secondary']::after{content:'';display:block;height:0;width:0;margin-top:calc( (((1em - var(--cds-global-typography-top-gap-height, 0.1475em) - var(--cds-global-typography-ascender-height, 0.1703em) - var(--cds-global-typography-x-height, 0.517em)) + calc((var(--cds-global-typography-secondary-line-height, 1.23077em) - 1em) / 2)) * -1) - .044em)}[cds-text~='link']{color:var(--cds-global-typography-link-color, var(--cds-global-color-blue-800, #00608a)) !important;text-decoration:underline !important;line-height:inherit !important;font-size:inherit !important}[cds-text~='link']:hover{color:var(--cds-global-typography-link-color-hover, var(--cds-global-color-blue-900, #004b6b)) !important}[cds-text~='link']:visited:not([cds-text~='static']){color:var(--cds-global-typography-link-color-visited, var(--cds-global-color-lavender-600, #3b40ce)) !important}[cds-text~='link']:visited:not([cds-text~='static']):hover{color:var(--cds-global-typography-link-color-visited-hover, var(--cds-global-color-lavender-700, #2429c2)) !important}[cds-divider]{display:block;height:var(--cds-alias-object-border-width-100, 0.05rem);overflow:hidden;box-shadow:var(--cds-alias-object-border-color, var(--cds-global-color-construction-200, #cbd4d8)) 0 0 0 var(--cds-alias-object-border-width-100, 0.05rem) inset}[cds-text~='light']{font-weight:var(--cds-global-typography-font-weight-light, 400) !important}[cds-text~='left']{text-align:left !important}[cds-text~='right']{text-align:right !important}[cds-text~='center']{text-align:center !important}[cds-text~='lhe']{padding:0.05px 0}[cds-text~='lhe']::before{content:'';margin-top:-0.124em;display:block;height:0}[cds-text~='lhe']::after{content:'';margin-bottom:-0.221em;display:block;height:0}[cds-text*='h2']{font-family:var(--cds-global-typography-header-font-family, \"Clarity City\", \"Avenir Next\", sans-serif);font-size:1.4rem;font-weight:200;color:#333;line-height:1.7143em;letter-spacing:-.01786em}[cds-text*='h2']::before{content:'';display:block;height:0;width:0;margin-bottom:calc(((var(--cds-global-typography-top-gap-height, 0.1475em) + calc((1.7143em - 1em) / 2)) * -1) + .037em)}[cds-text*='h2']::after{content:'';display:block;height:0;width:0;margin-top:calc( (((1em - var(--cds-global-typography-top-gap-height, 0.1475em) - var(--cds-global-typography-ascender-height, 0.1703em) - var(--cds-global-typography-x-height, 0.517em)) + calc((1.7143em - 1em) / 2)) * -1) - .044em)}[cds-text*='h3']{font-family:var(--cds-global-typography-header-font-family, \"Clarity City\", \"Avenir Next\", sans-serif);font-size:1.1rem;font-weight:200;color:#333;line-height:1.0909em;letter-spacing:-.01364em}[cds-text*='h3']::before{content:'';display:block;height:0;width:0;margin-bottom:calc(((var(--cds-global-typography-top-gap-height, 0.1475em) + calc((1.0909em - 1em) / 2)) * -1) + .037em)}[cds-text*='h3']::after{content:'';display:block;height:0;width:0;margin-top:calc( (((1em - var(--cds-global-typography-top-gap-height, 0.1475em) - var(--cds-global-typography-ascender-height, 0.1703em) - var(--cds-global-typography-x-height, 0.517em)) + calc((1.0909em - 1em) / 2)) * -1) - .044em)}:host([_nfg]) [cds-layout~='horizontal'][cds-layout*='gap:none']{width:calc(100% + 0);margin-bottom:calc(0 * -1) !important;margin-right:calc(0 * -1) !important}:host([_nfg]) [cds-layout~='horizontal'][cds-layout*='gap:none']>*,:host([_nfg]) [cds-layout~='horizontal'][cds-layout*='gap:none']>::slotted(*){margin-top:0;margin-left:0;top:calc(-1 * 0) !important;left:calc(-1 * 0) !important;position:relative !important}:host([_nfg]) [cds-layout~='horizontal'][cds-layout*='gap:xs']{width:calc(100% + var(--cxs));margin-bottom:calc(var(--cxs) * -1) !important;margin-right:calc(var(--cxs) * -1) !important}:host([_nfg]) [cds-layout~='horizontal'][cds-layout*='gap:xs']>*,:host([_nfg]) [cds-layout~='horizontal'][cds-layout*='gap:xs']>::slotted(*){margin-top:var(--cxs);margin-left:var(--cxs);top:calc(-1 * var(--cxs)) !important;left:calc(-1 * var(--cxs)) !important;position:relative !important}:host([_nfg]) [cds-layout~='horizontal'][cds-layout*='gap:sm']{width:calc(100% + var(--csm));margin-bottom:calc(var(--csm) * -1) !important;margin-right:calc(var(--csm) * -1) !important}:host([_nfg]) [cds-layout~='horizontal'][cds-layout*='gap:sm']>*,:host([_nfg]) [cds-layout~='horizontal'][cds-layout*='gap:sm']>::slotted(*){margin-top:var(--csm);margin-left:var(--csm);top:calc(-1 * var(--csm)) !important;left:calc(-1 * var(--csm)) !important;position:relative !important}:host([_nfg]) [cds-layout~='horizontal'][cds-layout*='gap:md']{width:calc(100% + var(--cmd));margin-bottom:calc(var(--cmd) * -1) !important;margin-right:calc(var(--cmd) * -1) !important}:host([_nfg]) [cds-layout~='horizontal'][cds-layout*='gap:md']>*,:host([_nfg]) [cds-layout~='horizontal'][cds-layout*='gap:md']>::slotted(*){margin-top:var(--cmd);margin-left:var(--cmd);top:calc(-1 * var(--cmd)) !important;left:calc(-1 * var(--cmd)) !important;position:relative !important}:host([_nfg]) [cds-layout~='horizontal'][cds-layout*='gap:lg']{width:calc(100% + var(--clg));margin-bottom:calc(var(--clg) * -1) !important;margin-right:calc(var(--clg) * -1) !important}:host([_nfg]) [cds-layout~='horizontal'][cds-layout*='gap:lg']>*,:host([_nfg]) [cds-layout~='horizontal'][cds-layout*='gap:lg']>::slotted(*){margin-top:var(--clg);margin-left:var(--clg);top:calc(-1 * var(--clg)) !important;left:calc(-1 * var(--clg)) !important;position:relative !important}:host([_nfg]) [cds-layout~='vertical'][cds-layout*='gap:none']>*,:host([_nfg]) [cds-layout~='vertical'][cds-layout*='gap:none']>::slotted(*){margin-top:0}:host([_nfg]) [cds-layout~='vertical'][cds-layout*='gap:none']>*:first-child,:host([_nfg]) [cds-layout~='vertical'][cds-layout*='gap:none']>::slotted(*:first-child),:host([_nfg]) [cds-layout~='vertical'][cds-layout*='gap:none']>::slotted([slot]:first-of-type){margin-top:0}:host([_nfg]) [cds-layout~='vertical'][cds-layout*='gap:xs']>*,:host([_nfg]) [cds-layout~='vertical'][cds-layout*='gap:xs']>::slotted(*){margin-top:var(--cxs)}:host([_nfg]) [cds-layout~='vertical'][cds-layout*='gap:xs']>*:first-child,:host([_nfg]) [cds-layout~='vertical'][cds-layout*='gap:xs']>::slotted(*:first-child),:host([_nfg]) [cds-layout~='vertical'][cds-layout*='gap:xs']>::slotted([slot]:first-of-type){margin-top:0}:host([_nfg]) [cds-layout~='vertical'][cds-layout*='gap:sm']>*,:host([_nfg]) [cds-layout~='vertical'][cds-layout*='gap:sm']>::slotted(*){margin-top:var(--csm)}:host([_nfg]) [cds-layout~='vertical'][cds-layout*='gap:sm']>*:first-child,:host([_nfg]) [cds-layout~='vertical'][cds-layout*='gap:sm']>::slotted(*:first-child),:host([_nfg]) [cds-layout~='vertical'][cds-layout*='gap:sm']>::slotted([slot]:first-of-type){margin-top:0}:host([_nfg]) [cds-layout~='vertical'][cds-layout*='gap:md']>*,:host([_nfg]) [cds-layout~='vertical'][cds-layout*='gap:md']>::slotted(*){margin-top:var(--cmd)}:host([_nfg]) [cds-layout~='vertical'][cds-layout*='gap:md']>*:first-child,:host([_nfg]) [cds-layout~='vertical'][cds-layout*='gap:md']>::slotted(*:first-child),:host([_nfg]) [cds-layout~='vertical'][cds-layout*='gap:md']>::slotted([slot]:first-of-type){margin-top:0}:host([_nfg]) [cds-layout~='vertical'][cds-layout*='gap:lg']>*,:host([_nfg]) [cds-layout~='vertical'][cds-layout*='gap:lg']>::slotted(*){margin-top:var(--clg)}:host([_nfg]) [cds-layout~='vertical'][cds-layout*='gap:lg']>*:first-child,:host([_nfg]) [cds-layout~='vertical'][cds-layout*='gap:lg']>::slotted(*:first-child),:host([_nfg]) [cds-layout~='vertical'][cds-layout*='gap:lg']>::slotted([slot]:first-of-type){margin-top:0}@media (min-width: 62rem){:host([_nfg]) [cds-layout~='horizontal'][cds-layout*='gap@md:lg']{width:calc(100% + var(--clg));margin-bottom:calc(var(--clg) * -1) !important;margin-right:calc(var(--clg) * -1) !important}:host([_nfg]) [cds-layout~='horizontal'][cds-layout*='gap@md:lg']>*,:host([_nfg]) [cds-layout~='horizontal'][cds-layout*='gap@md:lg']>::slotted(*){margin-top:var(--clg);margin-left:var(--clg);top:calc(-1 * var(--clg)) !important;left:calc(-1 * var(--clg)) !important;position:relative !important}}@media (min-width: 62rem){:host([_nfg]) [cds-layout~='vertical'][cds-layout*='gap@md:lg']>*,:host([_nfg]) [cds-layout~='vertical'][cds-layout*='gap@md:lg']>::slotted(*){margin-top:var(--clg)}:host([_nfg]) [cds-layout~='vertical'][cds-layout*='gap@md:lg']>*:first-child,:host([_nfg]) [cds-layout~='vertical'][cds-layout*='gap@md:lg']>::slotted(*:first-child),:host([_nfg]) [cds-layout~='vertical'][cds-layout*='gap@md:lg']>::slotted([slot]:first-of-type){margin-top:0}}:host{all:initial;display:block;visibility:inherit;font-family:var(--cds-global-typography-font-family, \"Clarity City\", \"Avenir Next\", sans-serif);contain:layout;box-sizing:border-box !important;-webkit-appearance:none !important}*,*:before,*:after{box-sizing:inherit !important}slot{font-family:var(--cds-global-typography-font-family, \"Clarity City\", \"Avenir Next\", sans-serif);display:contents !important}:host([role='button']),:host([_is-anchor]){cursor:pointer !important}:host([role='button']) ::slotted(*),:host([_is-anchor]) ::slotted(*){cursor:pointer !important}:host([role='button'][disabled]){cursor:not-allowed !important}:host([role='button'][disabled]) ::slotted(*){cursor:not-allowed !important}:host([hidden]){display:none !important}:host([hidden*='false']){display:block !important}:host([tabindex='0']:focus),:host([_focused]) .input{outline:Highlight solid var(--cds-global-space-2, 0.1rem);outline-offset:var(--cds-global-space-1, 0.05rem)}@media (-webkit-min-device-pixel-ratio: 0){:host([tabindex='0']:focus),:host([_focused]) .input{outline-color:-webkit-focus-ring-color}}\n"])));function Vt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return n.forEach(function(t){var n=l(t,2),i=n[0],r=n[1];e.style[i]=r}),e}function Bt(e){var t=parseInt(document.documentElement.getAttribute("cds-base-font"));if(!t){var n=window.getComputedStyle(document.body,null).getPropertyValue("--cds-global-typography-base-font-size");t=16*parseInt(""!==n?n:"100%")/100,document.documentElement.setAttribute("cds-base-font","".concat(t))}return e/t+"rem"}function zt(e,t){switch(t?t.type:t){case Array:case Object:return Object.assign({reflect:!1},t);case String:return Object.assign({reflect:!0,attribute:nt(e),converter:{toAttribute:function(e){return e||null}}},t);case Number:return Object.assign({reflect:!0,attribute:nt(e)},t);case Boolean:return Object.assign({reflect:!0,attribute:nt(e),converter:{toAttribute:function(e){return e?"":null},fromAttribute:function(e){return"false"!==e&&null!==e}}},t);case Date:return Object.assign({reflect:!1,converter:{fromAttribute:function(e){return new Date(e)}}},t);default:return t}}function Ht(e){return function(t,n){return function(e,t,n){var i=e.firstUpdated;e.firstUpdated=function(e){if(n&&n.required&&et(this[t])){var r=n.requiredMessage||function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"warning",n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,r=i.toLocaleLowerCase();return"".concat(it(t),": ").concat(n," is required to use ").concat(r," component. Set the JS Property or HTML Attribute.\n\n")+(Ie()?"Angular: <".concat(r," [").concat(n,']="..."></').concat(r,">\n"):"")+(De()?"Vue: <".concat(r," :").concat(n,'="..."></').concat(r,">\n"):"")+(Pe()?"React: <".concat((e=r,it(e.split("-").map(function(e,t){return t?e.charAt(0).toUpperCase()+e.slice(1).toLowerCase():e}).join("")))," ").concat(n,"={...} />\n"):"")+"HTML: <".concat(r," ").concat(nt(n),'="..."></').concat(r,">\n")+"JavaScript: document.querySelector('".concat(r,"').").concat(n," = '...';\n\n")}(n.required,t,this.tagName);if("error"===n.required)throw new Error(r);ot.warn(r,this)}i&&i.apply(this,[e])}}(t,n,e),It(zt(n,e))(t,n)}}var Xt,qt,Wt,Yt=Nt(t||(t=r([":host{--color: currentColor;display:inline-block;height:var(--cds-global-space-7, 0.8rem);width:var(--cds-global-space-7, 0.8rem);margin:0;vertical-align:middle;fill:var(--color);color:var(--color);contain:strict;cursor:inherit}svg{display:block}:host([size='sm']){height:var(--cds-global-space-7, 0.8rem);width:var(--cds-global-space-7, 0.8rem)}:host([size='md']){height:var(--cds-global-space-9, 1.2rem);width:var(--cds-global-space-9, 1.2rem)}:host([size='lg']){height:var(--cds-global-space-11, 1.8rem);width:var(--cds-global-space-11, 1.8rem)}:host([size='xl']){height:var(--cds-global-space-12, 2.4rem);width:var(--cds-global-space-12, 2.4rem)}:host([size='xxl']){height:calc(var(--cds-global-space-13, 3.6rem) - var(--cds-global-space-5, 0.4rem));width:calc(var(--cds-global-space-13, 3.6rem) - var(--cds-global-space-5, 0.4rem))}:host([status='success']){--color: var(--cds-alias-status-success, var(--cds-global-color-green-700, #42810e))}:host([status='danger']){--color: var(--cds-alias-status-danger, var(--cds-global-color-red-700, #e02200))}:host([status='warning']){--color: var(--cds-alias-status-warning-shade, var(--cds-global-color-ochre-600, #ffa600))}:host([status='info']){--color: var(--cds-alias-status-info-shade, var(--cds-global-color-blue-800, #00608a))}:host([inverse]){--color: var(--cds-global-color-construction-200, #cbd4d8)}:host([direction='up']){transform:rotate(0deg)}:host([direction='down']){transform:rotate(180deg)}:host([direction='right']){transform:rotate(90deg)}:host([direction='left']){transform:rotate(270deg)}:host([flip='horizontal']){transform:scale(-1) rotateX(180deg)}:host([flip='vertical']){transform:scale(-1) rotateY(180deg)}.badge,.alert{fill:var(--badge-color, var(--cds-alias-status-danger, var(--cds-global-color-red-700, #e02200)))}:host([badge='success']){--badge-color: var(--cds-alias-status-success, var(--cds-global-color-green-700, #42810e))}:host([badge='danger']){--badge-color: var(--cds-alias-status-danger, var(--cds-global-color-red-700, #e02200))}:host([badge*='warning']){--badge-color: var(--cds-alias-status-warning-shade, var(--cds-global-color-ochre-600, #ffa600))}:host([badge='inherit']){--badge-color: currentColor}:host([badge='info']){--badge-color: var(--cds-alias-status-info, var(--cds-global-color-blue-700, #0079ad))}:host([badge='inherit-triangle']){--badge-color: currentColor}:host([badge][inverse]){--badge-color: var(--cds-alias-status-danger, var(--cds-global-color-red-700, #e02200))}:host([badge='success'][inverse]){--badge-color: var(--cds-alias-status-success, var(--cds-global-color-green-700, #42810e))}:host([badge*='warning'][inverse]){--badge-color: var(--cds-alias-status-warning-shade, var(--cds-global-color-ochre-600, #ffa600))}:host([badge*='inherit'][inverse]){--badge-color: currentColor}:host([badge='info'][inverse]){--badge-color: var(--cds-alias-status-info, var(--cds-global-color-blue-700, #0079ad))}.cds-internal-dot-1{animation:fadeInAndOut 1.8s ease-in 0s infinite}.cds-internal-dot-2{animation:fadeInAndOut 1.8s ease-out 0.422s infinite}.cds-internal-dot-3{animation:fadeInAndOut 1.8s ease-out 0.675s infinite}@keyframes fadeInAndOut{0%{opacity:0}75%{opacity:1}100%{opacity:0}}@media (prefers-reduced-motion){.cds-internal-dot-1{animation:none}.cds-internal-dot-2{animation:none}.cds-internal-dot-3{animation:none}}\n"])));function Kt(e){return e.badge&&("inherit-triangle"===e.badge||"warning-triangle"===e.badge)}Wt=function(e){b(a,e);var t=T(a);function a(){var e;return _(this,a),(e=t.apply(this,arguments))._shape="unknown",e.solid=!1,e.inverse=!1,e}return y(a,[{key:"shape",get:function(){return this._shape},set:function(e){if(function(e,t){return!et(e)&&tt(e,t)}(e,this._shape)){var t=this._shape;this._shape=e,this.requestUpdate("shape",t)}}},{key:"size",get:function(){return this._size},set:function(e){if(function(e,t){return function(e){return Ne(String,e)||M(e)}(e)&&tt(e,t)}(e,this._size)){var t=this._size;this._size=e,function(e,t){var n="";switch(function(e){return M(e)||""===e?"value-is-nil":function(e){return["xxs","xs","sm","md","lg","xl","xxl"].indexOf(e)>-1}(e)?"value-is-string":!isNaN(parseInt(e,10))&&e.match(/^[0-9 ]+$/)?"value-is-numeric":"bad-value"}(t)){case"value-is-numeric":return void Vt(e,["width",n=Bt(parseInt(t))],["height",n]);case"value-is-string":case"value-is-nil":Vt(e,["width",""],["height",""])}}(this,e),this.requestUpdate("size",t)}}},{key:"updated",value:function(e){if(e.has("innerOffset")&&this.innerOffset>0){var t=Bt(this.innerOffset),n="calc(100% + ".concat(2*Number(t.replace("rem","")),"rem)");this.svg.style.width=n,this.svg.style.height=n,this.svg.style.margin="-".concat(t," 0 0 -").concat(t)}}},{key:"connectedCallback",value:function(){var e=this;v(C(a.prototype),"connectedCallback",this).call(this),this.subscription=W.iconUpdates.subscribe(function(t){t===e.shape&&e.requestUpdate()})}},{key:"disconnectedCallback",value:function(){v(C(a.prototype),"disconnectedCallback",this).call(this),this.subscription.unsubscribe()}},{key:"render",value:function(){return Ne(String,W.registry[this.shape])?St.a(n||(n=r(['<span .innerHTML="','"></span>'])),W.registry[this.shape]):St.b(i||(i=r(['<svg .innerHTML="','" viewBox="0 0 36 36" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"></svg>'])),(e=this,u=null!==(t=W.registry[e.shape])&&void 0!==t?t:W.registry.unknown,c=e.solid&&u.solid?u.solid:u.outline,e.badge&&!Kt(e)&&(c=e.solid?null!==(a=u.solidBadged)&&void 0!==a?a:c:null!==(o=u.outlineBadged)&&void 0!==o?o:c),Kt(e)&&(c=e.solid?null!==(s=u.solidAlerted)&&void 0!==s?s:c:null!==(l=u.outlineAlerted)&&void 0!==l?l:c),c+function(e){var t="";return e.badge&&Kt(e)?t='<path d="M26.85 1.14L21.13 11a1.28 1.28 0 001.1 2h11.45a1.28 1.28 0 001.1-2l-5.72-9.86a1.28 1.28 0 00-2.21 0z" class="alert" />':e.badge&&(t='<circle cx="30" cy="6" r="5" class="badge" />'),t}(this)));var e,t,a,o,s,l,u,c}}],[{key:"styles",get:function(){return[Gt,Yt]}}]),a}(Ut),Object(dt.b)([Ht({type:String})],Wt.prototype,"shape",null),Object(dt.b)([Ht({type:String})],Wt.prototype,"size",null),Object(dt.b)([Ht({type:String})],Wt.prototype,"direction",void 0),Object(dt.b)([Ht({type:String})],Wt.prototype,"flip",void 0),Object(dt.b)([Ht({type:Boolean})],Wt.prototype,"solid",void 0),Object(dt.b)([Ht({type:String})],Wt.prototype,"status",void 0),Object(dt.b)([Ht({type:Boolean})],Wt.prototype,"inverse",void 0),Object(dt.b)([Ht({type:String})],Wt.prototype,"badge",void 0),Object(dt.b)([(qt={type:Number},function(e,t){var n=zt(t,qt);return n&&(n.reflect=!!(null==qt?void 0:qt.reflect)&&qt.reflect,n.reflect&&!(null==qt?void 0:qt.attribute)&&(n.attribute="_".concat(nt(t)))),It(n)(e,t)})],Wt.prototype,"innerOffset",void 0),Object(dt.b)([function(e,t){var n={get:function(){return this.renderRoot.querySelector("svg")},enumerable:!0,configurable:!0};return void 0!==t?function(e,t,n){Object.defineProperty(t,n,e)}(n,e,t):function(e,t){return{kind:"method",placement:"prototype",key:t.key,descriptor:e}}(n,e)}],Wt.prototype,"svg",void 0),Xt=Wt,N()&&D(["customElements"])&&ht("cds-icon",Xt,window.customElements);var Zt=["*"];function Jt(e,t){1&e&&f.Lb(0,"label")}var Qt=[[["","clrCheckbox",""],["","clrToggle",""]],[["label"]]],$t=["[clrCheckbox],[clrToggle]","label"];function en(e,t){1&e&&f.Lb(0,"label")}function tn(e,t){1&e&&f.dc(0,2,["*ngIf","showHelper"])}function nn(e,t){1&e&&f.Lb(0,"cds-icon",5)}function rn(e,t){1&e&&f.Lb(0,"cds-icon",6)}function an(e,t){1&e&&f.dc(0,3,["*ngIf","showInvalid"])}function on(e,t){1&e&&f.dc(0,4,["*ngIf","showValid"])}var sn=[[["label"]],[["clr-checkbox-wrapper"],["clr-toggle-wrapper"]],[["clr-control-helper"]],[["clr-control-error"]],[["clr-control-success"]]],ln=["label","clr-checkbox-wrapper,clr-toggle-wrapper","clr-control-helper","clr-control-error","clr-control-success"];function un(e,t){1&e&&f.Lb(0,"label")}function cn(e,t){1&e&&f.Lb(0,"cds-icon",5)}function hn(e,t){1&e&&f.Lb(0,"cds-icon",6)}function dn(e,t){1&e&&f.dc(0,2,["*ngIf","showHelper"])}function fn(e,t){1&e&&f.dc(0,3,["*ngIf","showInvalid"])}function pn(e,t){1&e&&f.dc(0,4,["*ngIf","showValid"])}var mn=[[["label"]],[["","clrInput",""]],[["clr-control-helper"]],[["clr-control-error"]],[["clr-control-success"]]],vn=["label","[clrInput]","clr-control-helper","clr-control-error","clr-control-success"];function gn(e,t){1&e&&f.Lb(0,"label")}var yn=[[["","clrRadio",""]],[["label"]]],_n=["[clrRadio]","label"];function bn(e,t){1&e&&f.Lb(0,"label")}function Sn(e,t){1&e&&f.Lb(0,"cds-icon",5)}function Tn(e,t){1&e&&f.Lb(0,"cds-icon",6)}function wn(e,t){1&e&&f.dc(0,2,["*ngIf","showHelper"])}function xn(e,t){1&e&&f.dc(0,3,["*ngIf","showInvalid"])}function En(e,t){1&e&&f.dc(0,4,["*ngIf","showValid"])}var Cn=[[["label"]],[["","clrSelect",""]],[["clr-control-helper"]],[["clr-control-error"]],[["clr-control-success"]]],kn=["label","[clrSelect]","clr-control-helper","clr-control-error","clr-control-success"];function Mn(e,t){1&e&&f.Lb(0,"label")}function On(e,t){if(1&e&&f.Lb(0,"span",6),2&e){var n=f.Zb();f.tc("width",n.getRangeProgressFillWidth())}}function An(e,t){1&e&&f.Lb(0,"cds-icon",7)}function Rn(e,t){1&e&&f.Lb(0,"cds-icon",8)}function In(e,t){1&e&&f.dc(0,2,["*ngIf","showHelper"])}function Ln(e,t){1&e&&f.dc(0,3,["*ngIf","showInvalid"])}function Pn(e,t){1&e&&f.dc(0,4,["*ngIf","showValid"])}var Dn=[[["label"]],[["","clrRange",""]],[["clr-control-helper"]],[["clr-control-error"]],[["clr-control-success"]]],Nn=["label","[clrRange]","clr-control-helper","clr-control-error","clr-control-success"],jn=["anchor"];function Fn(e,t){if(1&e&&(f.Qb(0,"div",4),f.Qb(1,"div",5),f.Qb(2,"button",6),f.Lb(3,"cds-icon",7),f.Pb(),f.Pb(),f.dc(4),f.Pb()),2&e){var n=f.Zb();f.fc("id",n.popoverId),f.zb(3),f.Ab("title",n.commonStrings.keys.close)}}var Un=["input"],Gn=["input_low"],Vn=["columnPortal"];function Bn(e,t){1&e&&f.dc(0)}function zn(e,t){1&e&&f.Mb(0)}function Hn(e,t){if(1&e&&f.Lb(0,"cds-icon",10),2&e){var n=f.Zb(2);f.Ab("direction",n.sortDirection)}}function Xn(e,t){if(1&e){var n=f.Rb();f.Qb(0,"button",7),f.Xb("click",function(){return f.pc(n),f.Zb().sort()}),f.wc(1,zn,1,0,"ng-container",8),f.wc(2,Hn,1,1,"cds-icon",9),f.Pb()}if(2&e){var i=f.Zb(),r=f.lc(6);f.zb(1),f.fc("ngTemplateOutlet",r),f.zb(1),f.fc("ngIf",i.sortDirection)}}function qn(e,t){if(1&e){var n=f.Rb();f.Qb(0,"clr-dg-string-filter",11),f.Xb("clrFilterValueChange",function(e){return f.pc(n),f.Zb().filterValue=e}),f.Pb()}if(2&e){var i=f.Zb();f.fc("clrDgStringFilter",i.registered)("clrFilterValue",i.filterValue)}}function Wn(e,t){if(1&e){var n=f.Rb();f.Qb(0,"clr-dg-numeric-filter",12),f.Xb("clrFilterValueChange",function(e){return f.pc(n),f.Zb().filterValue=e}),f.Pb()}if(2&e){var i=f.Zb();f.fc("clrDgNumericFilter",i.registered)("clrFilterValue",i.filterValue)}}function Yn(e,t){1&e&&f.dc(0,1)}function Kn(e,t){1&e&&f.Mb(0)}function Zn(e,t){if(1&e&&(f.Qb(0,"span",13),f.wc(1,Kn,1,0,"ng-container",8),f.Pb()),2&e){f.Zb();var n=f.lc(6);f.zb(1),f.fc("ngTemplateOutlet",n)}}function Jn(e,t){1&e&&f.Lb(0,"clr-dg-column-separator")}var Qn=[[["clr-dg-filter"],["clr-dg-string-filter"],["clr-dg-numeric-filter"]],"*"],$n=["clr-dg-filter, clr-dg-string-filter, clr-dg-numeric-filter","*"];function ei(e,t){1&e&&f.Lb(0,"div",4)}function ti(e,t){1&e&&f.dc(0,0,["*ngIf","emptyDatagrid"])}function ni(e,t){if(1&e&&(f.Ob(0),f.Qb(1,"button",1),f.Lb(2,"cds-icon",2),f.Pb(),f.Nb()),2&e){var n=f.Zb();f.zb(2),f.Ab("title",n.commonStrings.keys.info)}}var ii=["cellPortal"];function ri(e,t){1&e&&f.dc(0)}var ai=["rowPortal"];function oi(e,t){1&e&&f.dc(0)}var si=["detailButton"],li=["stickyCells"],ui=["scrollableCells"],ci=["calculatedCells"];function hi(e,t){}function di(e,t){if(1&e&&(f.Qb(0,"clr-expandable-animation",7),f.wc(1,hi,0,0,"ng-template",8),f.Pb()),2&e){var n=f.Zb(2),i=f.lc(6);f.fc("clrExpandTrigger",n.expandAnimationTrigger),f.zb(1),f.fc("ngTemplateOutlet",i)}}function fi(e,t){}function pi(e,t){if(1&e&&f.wc(0,fi,0,0,"ng-template",8),2&e){f.Zb(2);var n=f.lc(6);f.fc("ngTemplateOutlet",n)}}function mi(e,t){if(1&e&&(f.Qb(0,"label",6),f.wc(1,di,2,2,"clr-expandable-animation",1),f.wc(2,pi,1,1,void 0,2),f.Pb()),2&e){var n=f.Zb();f.zb(1),f.fc("ngIf",n.expand.expandable),f.zb(1),f.fc("ngIf",!n.expand.expandable)}}function vi(e,t){}function gi(e,t){if(1&e&&(f.Qb(0,"clr-expandable-animation",7),f.wc(1,vi,0,0,"ng-template",8),f.Pb()),2&e){var n=f.Zb(),i=f.lc(6);f.fc("clrExpandTrigger",n.expandAnimationTrigger),f.zb(1),f.fc("ngTemplateOutlet",i)}}function yi(e,t){}function _i(e,t){if(1&e&&f.wc(0,yi,0,0,"ng-template",8),2&e){f.Zb();var n=f.lc(6);f.fc("ngTemplateOutlet",n)}}function bi(e,t){1&e&&f.dc(0)}var Si=function(e){return{"clr-form-control-disabled":e}};function Ti(e,t){if(1&e){var n=f.Rb();f.Qb(0,"div",19),f.Qb(1,"div",20),f.Qb(2,"input",21),f.Xb("ngModelChange",function(e){return f.pc(n),f.Zb(2).toggle(e)}),f.Pb(),f.Qb(3,"label",22),f.Qb(4,"span",23),f.yc(5),f.Pb(),f.Pb(),f.Pb(),f.Pb()}if(2&e){var i=f.Zb(2);f.fc("ngClass",f.jc(8,Si,!i.clrDgSelectable)),f.zb(2),f.fc("ngModel",i.selected)("id",i.checkboxId),f.Ab("disabled",!i.clrDgSelectable||null)("aria-disabled",!i.clrDgSelectable||null)("aria-label",i.commonStrings.keys.select),f.zb(1),f.fc("for",i.checkboxId),f.zb(2),f.zc(i.commonStrings.keys.select)}}function wi(e,t){if(1&e){var n=f.Rb();f.Qb(0,"div",19),f.Qb(1,"input",24),f.Xb("ngModelChange",function(e){return f.pc(n),f.Zb(2).selection.currentSingle=e}),f.Pb(),f.Pb()}if(2&e){var i=f.Zb(2);f.fc("ngClass",f.jc(9,Si,!i.clrDgSelectable)),f.zb(1),f.fc("id",i.radioId)("name",i.selection.id+"-radio")("value",i.item)("ngModel",i.selection.currentSingle)("checked",i.selection.currentSingle===i.item),f.Ab("disabled",!i.clrDgSelectable||null)("aria-disabled",!i.clrDgSelectable||null)("aria-label",i.commonStrings.keys.select)}}function xi(e,t){1&e&&(f.Qb(0,"div",25),f.dc(1,2),f.Pb())}function Ei(e,t){if(1&e){var n=f.Rb();f.Qb(0,"button",29),f.Xb("click",function(){return f.pc(n),f.Zb(4).toggleExpand()}),f.Lb(1,"cds-icon",30),f.Pb()}if(2&e){var i=f.Zb(4);f.Ab("aria-expanded",i.expand.expanded)("aria-label",i.expand.expanded?i.clrDgDetailCloseLabel:i.clrDgDetailOpenLabel)("aria-controls",i.expandableId),f.zb(1),f.Ab("direction",i.expand.expanded?"down":"right")("title",i.expand.expanded?i.commonStrings.keys.collapse:i.commonStrings.keys.expand)}}function Ci(e,t){if(1&e&&(f.Qb(0,"clr-spinner",31),f.yc(1),f.Pb()),2&e){var n=f.Zb(4);f.zb(1),f.zc(n.commonStrings.keys.loading)}}function ki(e,t){if(1&e&&(f.Ob(0),f.wc(1,Ei,2,5,"button",27),f.wc(2,Ci,2,1,"clr-spinner",28),f.Nb()),2&e){var n=f.Zb(3);f.zb(1),f.fc("ngIf",!n.expand.loading),f.zb(1),f.fc("ngIf",n.expand.loading)}}function Mi(e,t){if(1&e&&(f.Qb(0,"div",26),f.wc(1,ki,3,2,"ng-container",2),f.Pb()),2&e){var n=f.Zb(2);f.zb(1),f.fc("ngIf",n.expand.expandable)}}function Oi(e,t){if(1&e){var n=f.Rb();f.Qb(0,"div",32),f.Qb(1,"button",33,34),f.Xb("click",function(){f.pc(n);var e=f.lc(2),t=f.Zb(2);return t.detailService.toggle(t.item,e)}),f.Lb(3,"cds-icon",35),f.Pb(),f.Pb()}if(2&e){var i=f.Zb(2);f.zb(1),f.Cb("is-open",i.detailService.isRowOpen(i.item)),f.Ab("aria-label",i.detailService.isOpen?i.clrDgDetailCloseLabel:i.clrDgDetailOpenLabel)("aria-expanded",i.detailService.isOpen)("aria-controls",i.detailService.id),f.zb(2),f.Ab("direction",i.detailService.isRowOpen(i.item)?"left":"right")("title",i.detailService.isRowOpen(i.item)?i.commonStrings.keys.close:i.commonStrings.keys.open)}}function Ai(e,t){}function Ri(e,t){if(1&e&&f.wc(0,Ai,0,0,"ng-template",8),2&e){f.Zb(2);var n=f.lc(4);f.fc("ngTemplateOutlet",n)}}function Ii(e,t){}function Li(e,t){if(1&e&&f.wc(0,Ii,0,0,"ng-template",8),2&e){f.Zb(2);var n=f.lc(4);f.fc("ngTemplateOutlet",n)}}var Pi=function(e){return{"is-replaced":e}};function Di(e,t){if(1&e&&(f.Qb(0,"div",9),f.Qb(1,"div",10),f.Ob(2,null,11),f.wc(4,Ti,6,10,"div",12),f.wc(5,wi,2,11,"div",12),f.wc(6,xi,2,0,"div",13),f.wc(7,Mi,2,1,"div",14),f.wc(8,Oi,4,7,"div",15),f.Nb(),f.Pb(),f.Qb(9,"div",16),f.Qb(10,"div",17),f.dc(11,1),f.Mb(12,null,18),f.Pb(),f.wc(14,Ri,1,1,void 0,2),f.wc(15,Li,1,1,void 0,2),f.Pb(),f.Pb()),2&e){var n=f.Zb();f.Cb("datagrid-row-detail-open",n.detailService.isRowOpen(n.item)),f.fc("id",n.id),f.zb(4),f.fc("ngIf",n.selection.selectionType===n.SELECTION_TYPE.Multi),f.zb(1),f.fc("ngIf",n.selection.selectionType===n.SELECTION_TYPE.Single),f.zb(1),f.fc("ngIf",n.rowActionService.hasActionableRow),f.zb(1),f.fc("ngIf",n.globalExpandable.hasExpandableRow),f.zb(1),f.fc("ngIf",n.detailService.enabled),f.zb(1),f.fc("ngClass",f.jc(11,Pi,n.replaced&&n.expanded)),f.zb(5),f.fc("ngIf",n.replaced&&!n.expand.loading),f.zb(1),f.fc("ngIf",!n.replaced&&!n.expand.loading)}}var Ni=[[["clr-dg-row-detail"]],[["clr-dg-cell"]],[["clr-dg-action-overflow"]]],ji=["clr-dg-row-detail","clr-dg-cell","clr-dg-action-overflow"],Fi=["scrollableColumns"],Ui=["datagridTable"],Gi=["projectedDisplayColumns"],Vi=["projectedCalculationColumns"],Bi=["displayedRows"],zi=["calculationRows"];function Hi(e,t){if(1&e){var n=f.Rb();f.Qb(0,"div",23),f.Qb(1,"div",24),f.Qb(2,"input",25),f.Xb("ngModelChange",function(e){return f.pc(n),f.Zb().allSelected=e}),f.Pb(),f.Qb(3,"label",26),f.Qb(4,"span",27),f.yc(5),f.Pb(),f.Pb(),f.Pb(),f.Lb(6,"div",28),f.Pb()}if(2&e){var i=f.Zb();f.zb(2),f.fc("id",i.selectAllId)("ngModel",i.allSelected),f.Ab("aria-label",i.commonStrings.keys.selectAll),f.zb(1),f.fc("for",i.selectAllId),f.zb(2),f.zc(i.commonStrings.keys.selectAll)}}function Xi(e,t){if(1&e&&(f.Qb(0,"div",23),f.Lb(1,"div",28),f.Pb()),2&e){var n=f.Zb();f.Ab("aria-label",n.clrDgSingleSelectionAriaLabel)}}function qi(e,t){if(1&e&&(f.Qb(0,"div",29),f.Lb(1,"div",28),f.Pb()),2&e){var n=f.Zb();f.Ab("aria-label",n.clrDgSingleActionableAriaLabel)}}function Wi(e,t){if(1&e&&(f.Qb(0,"div",30),f.Lb(1,"div",28),f.Pb()),2&e){var n=f.Zb();f.Ab("aria-label",n.clrDetailExpandableAriaLabel)}}function Yi(e,t){1&e&&f.Lb(0,"clr-dg-placeholder")}function Ki(e,t){1&e&&(f.Qb(0,"div",31),f.Qb(1,"clr-spinner",32),f.yc(2,"Loading"),f.Pb(),f.Pb())}var Zi=[[["clr-dg-action-bar"]],[["clr-dg-placeholder"]],[["clr-dg-footer"]],[["","clrIfDetail",""],["clr-dg-detail"]]],Ji=["clr-dg-action-bar","clr-dg-placeholder","clr-dg-footer","[clrIfDetail],clr-dg-detail"],Qi=["resizeTracker"],$i=["columnHandle"],er=["allSelected"];function tr(e,t){if(1&e&&(f.Ob(0),f.yc(1),f.Nb()),2&e){var n=f.Zb(2);f.zb(1),f.zc(n.commonStrings.keys.showColumns)}}function nr(e,t){}function ir(e,t){if(1&e){var n=f.Rb();f.Qb(0,"li"),f.Qb(1,"clr-checkbox-wrapper"),f.Qb(2,"input",14),f.Xb("ngModelChange",function(e){f.pc(n);var i=t.$implicit;return f.Zb(2).toggleColumnState(i,!e)}),f.Pb(),f.Qb(3,"label"),f.wc(4,nr,0,0,"ng-template",15),f.Pb(),f.Pb(),f.Pb()}if(2&e){var i=t.$implicit,r=f.Zb(2);f.zb(2),f.fc("disabled",r.hasOnlyOneVisibleColumn&&!i.hidden)("ngModel",!i.hidden),f.zb(2),f.fc("ngTemplateOutlet",i.titleTemplateRef)}}function rr(e,t){if(1&e){var n=f.Rb();f.Qb(0,"clr-dg-column-toggle-button",16),f.Xb("clrAllSelected",function(){return f.pc(n),f.Zb(2).allColumnsSelected()}),f.yc(1),f.Pb()}if(2&e){var i=f.Zb(2);f.zb(1),f.Ac(" ",i.commonStrings.keys.selectAll," ")}}function ar(e,t){if(1&e&&(f.Qb(0,"div",3),f.Qb(1,"div",4),f.Qb(2,"div",5,6),f.yc(4),f.Pb(),f.wc(5,tr,2,1,"ng-container",7),f.dc(6),f.Qb(7,"button",8),f.Lb(8,"cds-icon",9),f.Pb(),f.Pb(),f.Qb(9,"ul",10),f.wc(10,ir,5,3,"li",11),f.Pb(),f.Qb(11,"div",12),f.dc(12,1),f.wc(13,rr,2,1,"clr-dg-column-toggle-button",13),f.Pb(),f.Pb()),2&e){var n=f.Zb();f.fc("id",n.popoverId),f.Ab("aria-label",n.commonStrings.keys.showColumnsMenuDescription),f.zb(4),f.zc(n.commonStrings.keys.allColumnsSelected),f.zb(1),f.fc("ngIf",!n.customToggleTitle),f.zb(2),f.Ab("aria-label",n.commonStrings.keys.close)("title",n.commonStrings.keys.close),f.zb(1),f.Ab("title",n.commonStrings.keys.close),f.zb(2),f.fc("ngForOf",n.hideableColumnStates)("ngForTrackBy",n.trackByFn),f.zb(3),f.fc("ngIf",!n.customToggleButton)}}var or=[[["clr-dg-column-toggle-title"]],[["clr-dg-column-toggle-button"]]],sr=["clr-dg-column-toggle-title","clr-dg-column-toggle-button"];function lr(e,t){if(1&e&&(f.Ob(0),f.Qb(1,"div",1),f.Qb(2,"clr-checkbox-wrapper",2),f.Lb(3,"input",3),f.Qb(4,"label"),f.yc(5),f.Pb(),f.Pb(),f.Pb(),f.Nb()),2&e){var n=f.Zb();f.zb(5),f.zc(n.selection.current.length)}}function ur(e,t){1&e&&f.Lb(0,"clr-dg-column-toggle")}function cr(e,t){if(1&e&&(f.Ob(0),f.dc(1,1),f.wc(2,ur,1,0,"clr-dg-column-toggle",0),f.Qb(3,"div",4),f.dc(4,2),f.Pb(),f.Nb()),2&e){var n=f.Zb();f.zb(2),f.fc("ngIf",n.hasHideableColumns&&!n.toggle)}}var hr=[[["clr-dg-pagination"]],[["clr-dg-column-toggle"]],"*"],dr=["clr-dg-pagination","clr-dg-column-toggle","*"];function fr(e,t){if(1&e){var n=f.Rb();f.Qb(0,"button",3),f.Xb("click",function(){f.pc(n);var e=f.Zb();return e.toggleNav(e.responsiveNavCodes.NAV_LEVEL_1)}),f.Lb(1,"span"),f.Pb()}if(2&e){var i=f.Zb();f.Ab("aria-label",i.openNavLevel!==i.responsiveNavCodes.NAV_LEVEL_1?i.commonStrings.keys.open:i.commonStrings.keys.close)}}function pr(e,t){if(1&e){var n=f.Rb();f.Qb(0,"button",4),f.Xb("click",function(){f.pc(n);var e=f.Zb();return e.toggleNav(e.responsiveNavCodes.NAV_LEVEL_2)}),f.Lb(1,"span"),f.Pb()}if(2&e){var i=f.Zb();f.Ab("aria-label",i.openNavLevel!==i.responsiveNavCodes.NAV_LEVEL_2?i.commonStrings.keys.open:i.commonStrings.keys.close)}}function mr(e,t){if(1&e){var n=f.Rb();f.Qb(0,"button",3),f.Xb("click",function(){return f.pc(n),f.Zb().toggleByButton()}),f.Lb(1,"cds-icon",4),f.Pb()}if(2&e){var i=f.Zb();f.Cb("on-collapse",i.collapsed),f.Ab("aria-expanded",i.ariaExpanded)("aria-label",i.commonStrings.keys.verticalNavToggle),f.zb(1),f.Ab("direction",i.collapsed?"right":"left")("title",i.collapsed?i.commonStrings.keys.expand:i.commonStrings.keys.collapse)}}function vr(e,t){if(1&e){var n=f.Rb();f.Qb(0,"button",5),f.Xb("click",function(){return f.pc(n),f.Zb().collapsed=!1}),f.Pb()}if(2&e){var i=f.Zb();f.Ab("aria-label",i.commonStrings.keys.verticalNavToggle)}}var gr,yr,_r,br=[[["","clrVerticalNavLink",""]],[["","clrVerticalNavIcon",""]],"*",[["","clrIfExpanded",""],["clr-vertical-nav-group-children"]]],Sr=["[clrVerticalNavLink]","[clrVerticalNavIcon]","*","[clrIfExpanded], clr-vertical-nav-group-children"],Tr=((_r=function e(){_(this,e)}).\u0275fac=function(e){return new(e||_r)},_r.\u0275dir=f.Fb({type:_r,selectors:[["clr-icon"]]}),_r),wr=((yr=function e(){_(this,e)}).\u0275fac=function(e){return new(e||yr)},yr.\u0275dir=f.Fb({type:yr,selectors:[["cds-icon"]]}),yr),xr=((gr=function e(){_(this,e)}).\u0275fac=function(e){return new(e||gr)},gr.\u0275mod=f.Ib({type:gr}),gr.\u0275inj=f.Hb({imports:[[ge.c]]}),gr),Er=function(e){return e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Backspace="Backspace",e.Tab="TAB",e.Enter="Enter",e.Escape="Escape",e.Space="Space",e.Home="Home",e.End="End",e}({}),Cr=function(e){return e.ArrowUp="Up",e.ArrowDown="Down",e.ArrowRight="Right",e.ArrowLeft="Left",e.Space="Spacebar",e.Escape="Esc",e.Home="Home",e.End="End",e.Enter="Enter",e.Tab="Tab",e}({});function kr(e){return e===Er.ArrowUp||e===Cr.ArrowUp?Er.ArrowUp:e===Er.ArrowDown||e===Cr.ArrowDown?Er.ArrowDown:e===Er.ArrowRight||e===Cr.ArrowRight?Er.ArrowRight:e===Er.ArrowLeft||e===Cr.ArrowLeft?Er.ArrowLeft:e===Er.Space||e===Cr.Space?Er.Space:e===Er.Escape||e===Cr.Escape?Er.Escape:e}var Mr,Or,Ar=((Or=function(){function e(){_(this,e),this._open=!1,this._openChange=new ye.a,this._openEventChange=new ye.a,this._popoverAligned=new ye.a}return y(e,[{key:"openChange",get:function(){return this._openChange.asObservable()}},{key:"openEvent",get:function(){return this._openEvent},set:function(e){this._openEvent=e,this._openEventChange.next(e)}},{key:"getEventChange",value:function(){return this._openEventChange.asObservable()}},{key:"open",get:function(){return this._open},set:function(e){this._open!==(e=!!e)&&(this._open=e,this._openChange.next(e))}},{key:"originalEvent",get:function(){return this._openEvent}},{key:"toggleWithEvent",value:function(e){(function(e){var t=kr(e.key);t!==Er.ArrowUp&&t!==Er.ArrowDown&&t!==Er.ArrowLeft&&t!==Er.ArrowRight||e.preventDefault()})(e),this.openEvent=e,this.open=!this.open}},{key:"popoverAligned",get:function(){return this._popoverAligned.asObservable()}},{key:"popoverAlignedEmit",value:function(e){this._popoverAligned.next(e)}}]),e}()).\u0275fac=function(e){return new(e||Or)},Or.\u0275prov=f.Gb({token:Or,factory:Or.\u0275fac}),Or),Rr=((Mr=function(){function e(t,n,i){var r=this;_(this,e),this.renderer=t,this.smartOpenService=n,this.document=i,this.outsideClickClose=!0,this.scrollToClose=!0,this.subscriptions=[],this.subscriptions.push(n.openChange.subscribe(function(e){e?(r.addEscapeListener(),r.addClickListener(),r.addScrollListener()):r.removeAllEventListeners()}),n.getEventChange().subscribe(function(e){r.ignoredEvent=e}))}return y(e,[{key:"addScrollListener",value:function(){var e=this;this.scrollToClose&&(this.documentScroller=Object(_e.a)(this.document,"scroll",{capture:!0}),this.scrollSubscription=this.documentScroller.pipe(Object(Ce.a)(this.testForSmartPopoverContentContainer)).subscribe(function(){e.smartOpenService.open=!1,e.setAnchorFocus()}))}},{key:"removeScrollListener",value:function(){this.documentScroller&&(this.scrollSubscription.unsubscribe(),delete this.documentScroller)}},{key:"testForSmartPopoverContentContainer",value:function(e){for(var t=e.target;t.classList&&"body"!==t.parentElement.localName;)t=t.parentElement;return!!t.classList&&!t.classList.contains("clr-popover-content")}},{key:"addClickListener",value:function(){var e=this;this.outsideClickClose&&(this.documentClickListener=this.renderer.listen(this.document,"click",function(t){t===e.ignoredEvent?delete e.ignoredEvent:(e.smartOpenService.open=!1,t.target.focus())}))}},{key:"removeClickListener",value:function(){this.outsideClickClose&&(delete this.ignoredEvent,this.documentClickListener&&(this.documentClickListener(),delete this.documentClickListener))}},{key:"addEscapeListener",value:function(){var e=this;this.escapeListener=this.renderer.listen(this.document,"keydown.escape",function(){e.smartOpenService.open=!1,e.setAnchorFocus()})}},{key:"removeEscapeListener",value:function(){this.escapeListener&&(this.escapeListener(),delete this.escapeListener)}},{key:"anchorButtonRef",get:function(){return this._anchorButtonRef},set:function(e){this._anchorButtonRef=e}},{key:"closeButtonRef",get:function(){return this._closeButtonRef},set:function(e){this._closeButtonRef=e}},{key:"setCloseFocus",value:function(){this._closeButtonRef.nativeElement.focus()}},{key:"setAnchorFocus",value:function(){this.anchorButtonRef.nativeElement.focus()}},{key:"contentRef",get:function(){return this._contentRef},set:function(e){this._contentRef=e}},{key:"removeAllEventListeners",value:function(){this.removeScrollListener(),this.removeClickListener(),this.removeEscapeListener()}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()}),this.removeAllEventListeners()}}]),e}()).\u0275fac=function(e){return new(e||Mr)(f.Ub(f.E),f.Ub(Ar),f.Ub(ge.d))},Mr.\u0275prov=f.Gb({token:Mr,factory:Mr.\u0275fac}),Mr),Ir=function(e){return e[e.BOTTOM=0]="BOTTOM",e[e.LEFT=1]="LEFT",e[e.RIGHT=2]="RIGHT",e[e.TOP=3]="TOP",e}({}),Lr=function(e){return e[e.START=0]="START",e[e.CENTER=.5]="CENTER",e[e.END=1]="END",e}({}),Pr=function(e){return Object.assign(Object.assign({},e),{side:-1*e.side})},Dr=function(e,t){var n=e.content+(t?.5:-.5);return n<0||n>1?e:Object.assign(Object.assign({},e),{content:n})};function Nr(e,t,n){return function(i){return t(e(i),n)}}function jr(e,t,n){var i=t.left,r=t.top;switch(e.axis+e.side){case-1:i+=Fr(e,t,n),r-=n.height;break;case 1:i+=Fr(e,t,n),r+=t.height;break;case 0:i-=n.width,r+=Ur(e,t,n);break;case 2:i+=t.width,r+=Ur(e,t,n)}return{xOffset:i,yOffset:r}}function Fr(e,t,n){var i=0;switch(e.anchor){case Lr.START:break;case Lr.CENTER:i+=t.width/2;break;case Lr.END:i+=t.width}switch(e.content){case Lr.START:break;case Lr.CENTER:i-=n.width/2;break;case Lr.END:i-=n.width}return i}function Ur(e,t,n){var i=0;switch(e.anchor){case Lr.START:break;case Lr.CENTER:i+=t.height/2;break;case Lr.END:i+=t.height}switch(e.content){case Lr.START:break;case Lr.CENTER:i-=n.height/2;break;case Lr.END:i-=n.height}return i}var Gr,Vr,Br,zr,Hr,Xr,qr,Wr,Yr,Kr,Zr,Jr,Qr,$r,ea,ta,na,ia,ra,aa,oa,sa,la,ua,ca,ha,da,fa,pa,ma,va,ga,ya,_a=function(e){return e[e.VERTICAL=0]="VERTICAL",e[e.HORIZONTAL=1]="HORIZONTAL",e}({}),ba=((Xr=function(){function e(t,n){_(this,e),this.eventService=t,this.platformId=n,this._shouldRealign=new ye.a,this.shouldRealign=this._shouldRealign.asObservable()}return y(e,[{key:"realign",value:function(){this._shouldRealign.next()}},{key:"position",get:function(){return this._position},set:function(e){this._position=e}},{key:"alignContent",value:function(e){if(!Object(ge.A)(this.platformId))return{xOffset:0,yOffset:0};this.currentAnchorCoords=this.eventService.anchorButtonRef.nativeElement.getBoundingClientRect(),this.currentContentCoords=e.getBoundingClientRect(),this.contentOffsets=jr(this.position,this.currentAnchorCoords,this.currentContentCoords);var t=function(e,t){var n=[],i=e.yOffset+t.height,r=e.xOffset,a=e.xOffset+t.width;return e.yOffset>=0||n.push(Ir.TOP),r>=0||n.push(Ir.LEFT),i<=(window.innerHeight||document.documentElement.clientHeight)||n.push(Ir.BOTTOM),a<=(window.innerWidth||document.documentElement.clientWidth)||n.push(Ir.RIGHT),n}(this.contentOffsets,this.currentContentCoords),n=t.reduce(function(e,t){return e+t},0);return 1===t.length&&this.position.axis===_a.VERTICAL?this.handleVerticalAxisOneViolation(n):1===t.length&&this.position.axis===_a.HORIZONTAL?this.handleHorizontalAxisOneViolation(n):2===t.length&&this.position.axis===_a.VERTICAL?this.handleVerticalAxisTwoViolations(n):2===t.length&&this.position.axis===_a.HORIZONTAL&&this.handleHorizontalAxisTwoViolations(n),this.contentOffsets}},{key:"handleVerticalAxisOneViolation",value:function(e){switch(e){case 0:case 3:this.contentOffsets=jr(Pr(this.position),this.currentAnchorCoords,this.currentContentCoords);break;case 1:this.contentOffsets=jr(Dr(this.position),this.currentAnchorCoords,this.currentContentCoords);break;case 2:this.contentOffsets=jr(Dr(this.position,!0),this.currentAnchorCoords,this.currentContentCoords)}}},{key:"handleVerticalAxisTwoViolations",value:function(e){switch(e){case 5:var t=Nr(Pr,Dr,!0);this.contentOffsets=jr(t(this.position),this.currentAnchorCoords,this.currentContentCoords);break;case 4:var n=Nr(Pr,Dr,!1);this.contentOffsets=jr(n(this.position),this.currentAnchorCoords,this.currentContentCoords);break;case 3:break;case 2:var i=Nr(Pr,Dr,!0);this.contentOffsets=jr(i(this.position),this.currentAnchorCoords,this.currentContentCoords);break;case 1:var r=Nr(Pr,Dr,!1);this.contentOffsets=jr(r(this.position),this.currentAnchorCoords,this.currentContentCoords)}}},{key:"handleHorizontalAxisOneViolation",value:function(e){switch(e){case 1:case 2:this.contentOffsets=jr(Pr(this.position),this.currentAnchorCoords,this.currentContentCoords);break;case 0:this.contentOffsets=jr(Dr(this.position,!0),this.currentAnchorCoords,this.currentContentCoords);break;case 3:this.contentOffsets=jr(Dr(this.position),this.currentAnchorCoords,this.currentContentCoords)}}},{key:"handleHorizontalAxisTwoViolations",value:function(e){switch(e){case 5:case 4:var t=Nr(Pr,Dr,!1);this.contentOffsets=jr(t(this.position),this.currentAnchorCoords,this.currentContentCoords);break;case 3:break;case 2:case 1:var n=Nr(Pr,Dr,!0);this.contentOffsets=jr(n(this.position),this.currentAnchorCoords,this.currentContentCoords)}}}]),e}()).\u0275fac=function(e){return new(e||Xr)(f.Ub(Rr),f.Ub(f.C))},Xr.\u0275prov=f.Gb({token:Xr,factory:Xr.\u0275fac}),Xr),Sa=((Hr=function(){function e(t,n,i,r,a,o,s){_(this,e),this.document=t,this.container=n,this.template=i,this.renderer=r,this.smartPositionService=a,this.smartEventsService=o,this.smartOpenService=s,this.subscriptions=[],this.shouldRealign=!1,this.checkCollector=new f.n}return y(e,[{key:"open",set:function(e){this.smartOpenService.open=!!e}},{key:"contentAt",set:function(e){this.smartPositionService.position=e}},{key:"outsideClickClose",set:function(e){this.smartEventsService.outsideClickClose=!!e}},{key:"scrollToClose",set:function(e){this.smartEventsService.scrollToClose=!!e}},{key:"ngAfterViewInit",value:function(){var e=this;this.subscriptions.push(this.smartOpenService.openChange.subscribe(function(t){t?e.addContent():e.removeContent()}),this.smartPositionService.shouldRealign.subscribe(function(){e.shouldRealign=!0,e.view&&e.renderer.setStyle(e.view.rootNodes[0],"opacity","0")}),this.checkCollector.pipe(Object(ke.a)(0)).subscribe(function(){e.alignContent(),e.shouldRealign=!1,e.view&&e.renderer.setStyle(e.view.rootNodes[0],"opacity","1")}))}},{key:"ngOnDestroy",value:function(){this.removeContent(),this.subscriptions.forEach(function(e){return e.unsubscribe()})}},{key:"removeContent",value:function(){var e=this;this.view&&(this.view.rootNodes.forEach(function(t){return e.renderer.removeChild(e.document.body,t)}),this.container.clear(),delete this.view)}},{key:"addContent",value:function(){var e=this;this.view=this.container.createEmbeddedView(this.template),this.smartEventsService.contentRef=this.view.rootNodes[0],this.renderer.addClass(this.view.rootNodes[0],"clr-popover-content"),this.renderer.setStyle(this.view.rootNodes[0],"top","0px"),this.renderer.setStyle(this.view.rootNodes[0],"left","0px"),this.renderer.setStyle(this.view.rootNodes[0],"opacity","0"),this.renderer.listen(this.view.rootNodes[0],"click",function(t){e.smartOpenService.openEvent=t}),this.view.rootNodes.forEach(function(t){e.renderer.appendChild(e.document.body,t)}),this.shouldRealign=!0}},{key:"ngAfterContentChecked",value:function(){this.smartOpenService.open&&this.view&&this.shouldRealign&&this.checkCollector.emit()}},{key:"alignContent",value:function(){if(this.view){var e=this.smartPositionService.alignContent(this.view.rootNodes[0]);this.renderer.setStyle(this.view.rootNodes[0],"top","".concat(e.yOffset,"px")),this.renderer.setStyle(this.view.rootNodes[0],"left","".concat(e.xOffset,"px")),this.smartOpenService.popoverAlignedEmit(this.view.rootNodes[0])}}}]),e}()).\u0275fac=function(e){return new(e||Hr)(f.Kb(ge.d),f.Kb(f.P),f.Kb(f.L),f.Kb(f.E),f.Kb(ba),f.Kb(Rr),f.Kb(Ar))},Hr.\u0275dir=f.Fb({type:Hr,selectors:[["","clrPopoverContent",""]],inputs:{open:["clrPopoverContent","open"],contentAt:["clrPopoverContentAt","contentAt"],outsideClickClose:["clrPopoverContentOutsideClickToClose","outsideClickClose"],scrollToClose:["clrPopoverContentScrollToClose","scrollToClose"]}}),Hr),Ta=((zr=function(){function e(t){var n=this;_(this,e),this.smartOpenService=t,this.subscriptions=[],this.openCloseChange=new f.n,this.subscriptions.push(this.smartOpenService.openChange.subscribe(function(e){n.openCloseChange.next(e)}))}return y(e,[{key:"handleClick",value:function(e){this.smartOpenService.toggleWithEvent(e)}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})}}]),e}()).\u0275fac=function(e){return new(e||zr)(f.Kb(Ar))},zr.\u0275dir=f.Fb({type:zr,selectors:[["","clrPopoverOpenCloseButton",""]],hostVars:2,hostBindings:function(e,t){1&e&&f.Xb("click",function(e){return t.handleClick(e)}),2&e&&f.Cb("clr-smart-open-close",!0)},outputs:{openCloseChange:"clrPopoverOpenCloseChange"}}),zr),wa=((Br=function(){function e(t,n,i){var r=this;_(this,e),this.elementRef=t,this.smartEventsService=n,this.smartOpenService=i,this.subscriptions=[],this.closeChange=new f.n,this.subscriptions.push(i.openChange.pipe(Object(Ce.a)(function(e){return!e})).subscribe(function(){r.closeChange.next()}))}return y(e,[{key:"handleClick",value:function(e){this.smartOpenService.toggleWithEvent(e),this.smartEventsService.setAnchorFocus()}},{key:"ngAfterViewInit",value:function(){this.smartEventsService.closeButtonRef=this.elementRef,this.smartEventsService.setCloseFocus()}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})}}]),e}()).\u0275fac=function(e){return new(e||Br)(f.Kb(f.l),f.Kb(Rr),f.Kb(Ar))},Br.\u0275dir=f.Fb({type:Br,selectors:[["","clrPopoverCloseButton",""]],hostVars:2,hostBindings:function(e,t){1&e&&f.Xb("click",function(e){return t.handleClick(e)}),2&e&&f.Cb("clr-smart-close-button",!0)},outputs:{closeChange:"clrPopoverOnCloseChange"}}),Br),xa=((Vr=function e(t,n){_(this,e),t.anchorButtonRef=n}).\u0275fac=function(e){return new(e||Vr)(f.Kb(Rr),f.Kb(f.l))},Vr.\u0275dir=f.Fb({type:Vr,selectors:[["","clrPopoverAnchor",""]],hostVars:2,hostBindings:function(e,t){2&e&&f.Cb("clr-anchor",!0)}}),Vr),Ea=((Gr=function e(){_(this,e)}).\u0275fac=function(e){return new(e||Gr)},Gr.\u0275mod=f.Ib({type:Gr}),Gr.\u0275inj=f.Hb({imports:[[]]}),Gr),Ca=function e(){_(this,e)},ka=function(e){return e[e.DEFAULT=0]="DEFAULT",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.ERROR=3]="ERROR",e}({}),Ma={open:"Open",close:"Close",show:"Show",hide:"Hide",expand:"Expand",collapse:"Collapse",more:"More",select:"Select",selectAll:"Select All",previous:"Previous",next:"Next",current:"Jump to current",info:"Info",success:"Success",warning:"Warning",danger:"Error",rowActions:"Available actions",pickColumns:"Show or hide columns",showColumns:"Show Columns",sortColumn:"Sort Column",firstPage:"First Page",lastPage:"Last Page",nextPage:"Next Page",previousPage:"Previous Page",currentPage:"Current Page",totalPages:"Total Pages",filterItems:"Filter items",minValue:"Min value",maxValue:"Max value",modalContentStart:"Beginning of Modal Content",modalContentEnd:"End of Modal Content",showColumnsMenuDescription:"Show or hide columns menu",allColumnsSelected:"All columns selected",signpostToggle:"Signpost Toggle",signpostClose:"Signpost Close",loading:"Loading",detailPaneStart:"Start of row details",detailPaneEnd:"End of row details",singleSelectionAriaLabel:"Single selection header",singleActionableAriaLabel:"Single actionable header",detailExpandableAriaLabel:"Toggle more row content",datagridFilterAriaLabel:"Toggle column filter",columnSeparatorAriaLabel:"Column resize handle",columnSeparatorDescription:"Not necessary to use this button",alertCloseButtonAriaLabel:"Close alert",datepickerToggle:"Toggle datepicker",datepickerPreviousMonth:"Previous month",datepickerCurrentMonth:"Current month",datepickerNextMonth:"Next month",datepickerPreviousDecade:"Previous decade",datepickerNextDecade:"Next decade",datepickerCurrentDecade:"Current decade",datepickerSelectMonthText:"Select month, the current month is {CALENDAR_MONTH}",datepickerSelectYearText:"Select year, the current year is {CALENDAR_YEAR}",stackViewChanged:"Value changed.",verticalNavGroupToggle:"Toggle vertical navigation group",verticalNavToggle:"Toggle vertical navigation",timelineStepNotStarted:"Not started",timelineStepCurrent:"Current",timelineStepSuccess:"Completed",timelineStepError:"Error",timelineStepProcessing:"In progress",comboboxDelete:"Delete selected option",comboboxSearching:'Searching for matches for "{INPUT}"',comboboxSelection:"Selection",comboboxSelected:"Selected",comboboxNoResults:"No results",comboboxOpen:"Show options",dategridExpandableBeginningOf:"Beginning of",dategridExpandableEndOf:"End of",dategridExpandableRowContent:"Expandable row content",dategridExpandableRowsHelperText:"Screen reader table commands may not work for viewing expanded content, please use your screen reader's browse mode to read the content exposed by this button"},Oa=((qr=function(){function e(){_(this,e),this._strings=Ma}return y(e,[{key:"localize",value:function(e){this._strings=Object.assign(Object.assign({},this._strings),e)}},{key:"keys",get:function(){return this._strings}},{key:"parse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.keys(t),i=e;return n.length&&n.forEach(function(e){i=i.replace("{".concat(e,"}"),t[e])}),i}}]),e}()).\u0275fac=function(e){return new(e||qr)},qr.\u0275prov=Object(f.Gb)({factory:function(){return new qr},token:qr,providedIn:"root"}),qr),Aa=0,Ra=new f.r("UNIQUE_ID"),Ia={provide:Ra,useFactory:function(){return"clr-id-"+Aa++}},La=function(e){return e[e.BEFORE=-1]="BEFORE",e[e.AFTER=1]="AFTER",e}({}),Pa=((Jr=function e(){_(this,e)}).\u0275fac=function(e){return new(e||Jr)},Jr.\u0275mod=f.Ib({type:Jr}),Jr.\u0275inj=f.Hb({imports:[[ge.c,xr,Ea]]}),Jr),Da=((Zr=function e(){_(this,e)}).\u0275fac=function(e){return new(e||Zr)},Zr.\u0275mod=f.Ib({type:Zr}),Zr.\u0275inj=f.Hb({imports:[[ge.c]]}),Zr),Na=((Kr=function e(){_(this,e),W.addIcons(Y)}).\u0275fac=function(e){return new(e||Kr)},Kr.\u0275mod=f.Ib({type:Kr}),Kr.\u0275inj=f.Hb({imports:[Da,Pa]}),Kr),ja=((Yr=function e(){_(this,e)}).\u0275fac=function(e){return new(e||Yr)},Yr.\u0275cmp=f.Eb({type:Yr,selectors:[["ng-component"]],decls:0,vars:0,template:function(e,t){},encapsulation:2}),Yr),Fa=((Wr=function e(){_(this,e)}).\u0275fac=function(e){return new(e||Wr)},Wr.\u0275mod=f.Ib({type:Wr}),Wr.\u0275inj=f.Hb({}),Wr),Ua=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(_(this,e),this.injector=n.injector,!this.injector.get(t,null)){var r=this.injector.get(f.j),a=this.injector.get(f.l);n.createComponent(r.resolveComponentFactory(ja));var o=r.resolveComponentFactory(t),s=[];s[i]=[a.nativeElement];var l=n.createComponent(o,void 0,void 0,s);n.remove(0),l.instance._dynamic=!0,this.injector=l.injector}}return y(e,[{key:"get",value:function(e,t){return this.injector.get(e,t)}}]),e}(),Ga=0,Va=(($r=function(){function e(){_(this,e),this._id="clr-form-control-"+ ++Ga,this._idChange=new be.a(this._id)}return y(e,[{key:"id",get:function(){return this._id},set:function(e){this._id=e,this._idChange.next(e)}},{key:"idChange",get:function(){return this._idChange.asObservable()}}]),e}()).\u0275fac=function(e){return new(e||$r)},$r.\u0275prov=f.Gb({token:$r,factory:$r.\u0275fac}),$r),Ba=((Qr=function(){function e(){_(this,e),this._controlChanges=new ye.a,this._helpers=new ye.a}return y(e,[{key:"controlChanges",get:function(){return this._controlChanges.asObservable()}},{key:"setControl",value:function(e){this._controlChanges.next(e)}},{key:"helpersChange",get:function(){return this._helpers.asObservable()}},{key:"setHelpers",value:function(e){this._helpers.next(e)}}]),e}()).\u0275fac=function(e){return new(e||Qr)},Qr.\u0275prov=f.Gb({token:Qr,factory:Qr.\u0275fac}),Qr),za=function(e){return e.VERTICAL="vertical",e.HORIZONTAL="horizontal",e.COMPACT="compact",e}({}),Ha=((ea=function(){function e(){_(this,e),this.minLabelSize=1,this.maxLabelSize=12,this.layout=za.HORIZONTAL,this.layoutValues=Object.keys(za).map(function(e){return za[e]}),this._labelSize=2}return y(e,[{key:"labelSize",get:function(){return this._labelSize},set:function(e){this.labelSizeIsValid(e)&&(this._labelSize=e)}},{key:"isVertical",value:function(){return this.layout===za.VERTICAL}},{key:"isHorizontal",value:function(){return this.layout===za.HORIZONTAL}},{key:"isCompact",value:function(){return this.layout===za.COMPACT}},{key:"layoutClass",get:function(){return"clr-form-".concat(this.layout)}},{key:"isValid",value:function(e){return this.layoutValues.indexOf(e)>-1}},{key:"labelSizeIsValid",value:function(e){return Number.isInteger(e)&&e>=this.minLabelSize&&e<=this.maxLabelSize}}]),e}()).\u0275fac=function(e){return new(e||ea)},ea.\u0275prov=f.Gb({token:ea,factory:ea.\u0275fac}),ea),Xa=function(e){return e.NONE="NONE",e.VALID="VALID",e.INVALID="INVALID",e}({}),qa=((pa=function(){function e(t){var n=this;_(this,e),this.ngControlService=t,this.subscriptions=[],this._statusChanges=new be.a(Xa.NONE),this.subscriptions.push(this.ngControlService.controlChanges.subscribe(function(e){e&&(n.control=e,n.subscriptions.push(n.control.statusChanges.subscribe(function(){n.triggerStatusChange()})))}))}return y(e,[{key:"statusChanges",get:function(){return this._statusChanges.asObservable()}},{key:"triggerStatusChange",value:function(){if(this.control){var e=Xa[this.control.status];this._statusChanges.next(this.control.touched&&["VALID","INVALID"].includes(e)?e:Xa.NONE)}}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})}}]),e}()).\u0275fac=function(e){return new(e||pa)(f.Ub(Ba))},pa.\u0275prov=f.Gb({token:pa,factory:pa.\u0275fac}),pa),Wa=((fa=function(){function e(t){_(this,e),this.layoutService=t,this.className=""}return y(e,[{key:"controlClass",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xa.NONE,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=[this.className,n];switch(e){case Xa.VALID:i.push("clr-success");break;case Xa.INVALID:i.push("clr-error")}return t&&this.layoutService&&-1===this.className.indexOf("clr-col")&&i.push("clr-col-md-".concat(this.layoutService.maxLabelSize-this.layoutService.labelSize," clr-col-12")),i.join(" ").trim()}},{key:"initControlClass",value:function(e,t){t&&t.className&&(this.className=t.className,t.className.split(" ").forEach(function(n){n.startsWith("clr-col")&&e.removeClass(t,n)}))}}]),e}()).\u0275fac=function(e){return new(e||fa)(f.Ub(Ha,8))},fa.\u0275prov=f.Gb({token:fa,factory:fa.\u0275fac}),fa),Ya=((da=function(){function e(){_(this,e),this._touched=new ye.a}return y(e,[{key:"touchedChange",get:function(){return this._touched.asObservable()}},{key:"markAsTouched",value:function(){this._touched.next()}}]),e}()).\u0275fac=function(e){return new(e||da)},da.\u0275prov=f.Gb({token:da,factory:da.\u0275fac}),da),Ka=0,Za=((ha=function(){function e(){_(this,e),this._id="clr-form-container-"+ ++Ka,this._idChange=new be.a(this._id)}return y(e,[{key:"id",get:function(){return this._id},set:function(e){this._id=e,this._idChange.next(e)}},{key:"idChange",get:function(){return this._idChange.asObservable()}}]),e}()).\u0275fac=function(e){return new(e||ha)},ha.\u0275prov=f.Gb({token:ha,factory:ha.\u0275fac}),ha),Ja=((ca=function(){function e(t,n){_(this,e),this.controlIdService=t,this.containerIdService=n,this.controlIdSuffix="abstract"}return y(e,[{key:"id",get:function(){return this.containerIdService?"".concat(this.containerIdService.id,"-").concat(this.controlIdSuffix):this.controlIdService?"".concat(this.controlIdService.id,"-").concat(this.controlIdSuffix):null}}]),e}()).\u0275fac=function(e){return new(e||ca)(f.Kb(Va,8),f.Kb(Za,8))},ca.\u0275dir=f.Fb({type:ca}),ca),Qa=((ua=function(){function e(t,n,i,r,a,o){var s=this;_(this,e),this.vcr=t,this.wrapperType=n,this.ngControl=r,this.subscriptions=[],this.index=0,this.renderer=a,this.el=o;try{this.ngControlService=i.get(Ba),this.ifControlStateService=i.get(qa),this.controlClassService=i.get(Wa),this.markControlService=i.get(Ya)}catch(l){}this.controlClassService&&this.controlClassService.initControlClass(a,o.nativeElement),this.markControlService&&this.subscriptions.push(this.markControlService.touchedChange.subscribe(function(){s.markAsTouched()})),this.ngControlService&&this.subscriptions.push(this.ngControlService.helpersChange.subscribe(function(e){s.setAriaDescribedBy(e)}))}return y(e,[{key:"id",get:function(){return this._id},set:function(e){this._id=e,this.controlIdService&&(this.controlIdService.id=e)}},{key:"triggerValidation",value:function(){this.ifControlStateService&&(this.ngControl&&!this.ngControl.touched&&this.markAsTouched(),this.ifControlStateService.triggerStatusChange())}},{key:"markAsTouched",value:function(){this.ngControl.control.markAsTouched(),this.ngControl.control.updateValueAndValidity()}},{key:"getProviderFromContainer",value:function(e,t){try{return this._containerInjector.get(e,t)}catch(n){return t}}},{key:"ngOnInit",value:function(){this._containerInjector=new Ua(this.wrapperType,this.vcr,this.index),this.controlIdService=this._containerInjector.get(Va);try{this.containerIdService=this._containerInjector.get(Za)}catch(e){}this._id?this.controlIdService.id=this._id:this._id=this.controlIdService.id,this.ngControlService&&this.ngControlService.setControl(this.ngControl)}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})}},{key:"setAriaDescribedBy",value:function(e){if(e.show){var t=this.getAriaDescribedById(e);if(null!==t)return void this.renderer.setAttribute(this.el.nativeElement,"aria-describedby",t)}this.renderer.removeAttribute(this.el.nativeElement,"aria-describedby")}},{key:"getAriaDescribedById",value:function(e){var t="helper";return e.showInvalid?t="error":e.showValid&&(t="success"),this.containerIdService?this.containerIdService.id.concat("-",t):this.controlIdService?this.controlIdService.id.concat("-",t):null}}]),e}()).\u0275fac=function(e){return new(e||ua)(f.Kb(f.P),f.Kb(f.N),f.Kb(f.s),f.Kb(Re.i),f.Kb(f.E),f.Kb(f.l))},ua.\u0275dir=f.Fb({type:ua,hostVars:1,hostBindings:function(e,t){1&e&&f.Xb("blur",function(){return t.triggerValidation()}),2&e&&f.Tb("id",t.id)},inputs:{id:"id"}}),ua),$a=((la=function(){function e(t,n,i,r,a){_(this,e),this.controlIdService=t,this.layoutService=n,this.ngControlService=i,this.renderer=r,this.el=a,this.subscriptions=[],this.enableGrid=!0}return y(e,[{key:"labelText",get:function(){return this.el.nativeElement&&this.el.nativeElement.textContent}},{key:"ngOnInit",value:function(){var e=this;(this.controlIdService||this.ngControlService)&&this.renderer.addClass(this.el.nativeElement,"clr-control-label"),this.enableGrid&&this.layoutService&&!this.layoutService.isVertical()&&this.el.nativeElement&&this.el.nativeElement.className.indexOf("clr-col")<0&&(this.renderer.addClass(this.el.nativeElement,"clr-col-12"),this.renderer.addClass(this.el.nativeElement,"clr-col-md-".concat(this.layoutService.labelSize))),this.controlIdService&&!this.forAttr&&this.subscriptions.push(this.controlIdService.idChange.subscribe(function(t){return e.forAttr=t}))}},{key:"disableGrid",value:function(){this.enableGrid=!1}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})}}]),e}()).\u0275fac=function(e){return new(e||la)(f.Kb(Va,8),f.Kb(Ha,8),f.Kb(Ba,8),f.Kb(f.E),f.Kb(f.l))},la.\u0275dir=f.Fb({type:la,selectors:[["label"]],hostVars:1,hostBindings:function(e,t){2&e&&f.Ab("for",t.forAttr)},inputs:{forAttr:["for","forAttr"]}}),la),eo=((sa=function(e){b(n,e);var t=T(n);function n(e,i){var r;return _(this,n),(r=t.call(this,e,i)).controlIdService=e,r.containerIdService=i,r.controlIdSuffix="success",r}return n}(Ja)).\u0275fac=function(e){return new(e||sa)(f.Kb(Va,8),f.Kb(Za,8))},sa.\u0275cmp=f.Eb({type:sa,selectors:[["clr-control-success"]],hostVars:3,hostBindings:function(e,t){2&e&&(f.Ab("id",t.id),f.Cb("clr-subtext",!0))},features:[f.wb],ngContentSelectors:Zt,decls:1,vars:0,template:function(e,t){1&e&&(f.ec(),f.dc(0))},encapsulation:2}),sa),to=((oa=function(e){b(n,e);var t=T(n);function n(e,i){var r;return _(this,n),(r=t.call(this,e,i)).controlIdService=e,r.containerIdService=i,r.controlIdSuffix="error",r}return n}(Ja)).\u0275fac=function(e){return new(e||oa)(f.Kb(Va,8),f.Kb(Za,8))},oa.\u0275cmp=f.Eb({type:oa,selectors:[["clr-control-error"]],hostVars:3,hostBindings:function(e,t){2&e&&(f.Ab("id",t.id),f.Cb("clr-subtext",!0))},features:[f.wb],ngContentSelectors:Zt,decls:1,vars:0,template:function(e,t){1&e&&(f.ec(),f.dc(0))},encapsulation:2}),oa),no=((aa=function(e){b(n,e);var t=T(n);function n(e,i){var r;return _(this,n),(r=t.call(this,e,i)).controlIdService=e,r.containerIdService=i,r.controlIdSuffix="helper",r}return n}(Ja)).\u0275fac=function(e){return new(e||aa)(f.Kb(Va,8),f.Kb(Za,8))},aa.\u0275cmp=f.Eb({type:aa,selectors:[["clr-control-helper"]],hostVars:3,hostBindings:function(e,t){2&e&&(f.Ab("id",t.id),f.Cb("clr-subtext",!0))},features:[f.wb],ngContentSelectors:Zt,decls:1,vars:0,template:function(e,t){1&e&&(f.ec(),f.dc(0))},encapsulation:2}),aa),io=((ra=function(){function e(t,n,i,r){var a=this;_(this,e),this.ifControlStateService=t,this.layoutService=n,this.controlClassService=i,this.ngControlService=r,this.subscriptions=[],this._dynamic=!1,this.subscriptions.push(this.ifControlStateService.statusChanges.subscribe(function(e){a.state=e,a.updateHelpers()})),this.subscriptions.push(this.ngControlService.controlChanges.subscribe(function(e){a.control=e}))}return y(e,[{key:"showHelper",get:function(){return 0!=!!this.controlHelperComponent&&(!!this.controlHelperComponent&&this.state===Xa.NONE||0==!!this.controlSuccessComponent&&this.state===Xa.VALID||0==!!this.controlErrorComponent&&this.state===Xa.INVALID)}},{key:"showValid",get:function(){return this.state===Xa.VALID&&!!this.controlSuccessComponent}},{key:"showInvalid",get:function(){return this.state===Xa.INVALID&&!!this.controlErrorComponent}},{key:"ngAfterContentInit",value:function(){this.updateHelpers()}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})}},{key:"controlClass",value:function(){return this.controlClassService.controlClass(this.controlSuccessComponent||this.state!==Xa.VALID?this.state:Xa.NONE,this.addGrid())}},{key:"addGrid",value:function(){return this.layoutService&&!this.layoutService.isVertical()}},{key:"updateHelpers",value:function(){this.ngControlService&&this.ngControlService.setHelpers({show:this.showInvalid||this.showHelper||this.showValid,showInvalid:this.showInvalid,showHelper:this.showHelper,showValid:this.showValid})}}]),e}()).\u0275fac=function(e){return new(e||ra)(f.Kb(qa),f.Kb(Ha,8),f.Kb(Wa),f.Kb(Ba))},ra.\u0275dir=f.Fb({type:ra,contentQueries:function(e,t,n){var i;1&e&&(f.Db(n,$a,1),f.Db(n,eo,1),f.Db(n,to,1),f.Db(n,no,1)),2&e&&(f.kc(i=f.Yb())&&(t.label=i.first),f.kc(i=f.Yb())&&(t.controlSuccessComponent=i.first),f.kc(i=f.Yb())&&(t.controlErrorComponent=i.first),f.kc(i=f.Yb())&&(t.controlHelperComponent=i.first))}}),ra),ro=((ia=function(){function e(t,n){_(this,e),this.layoutService=t,this.markControlService=n}return y(e,[{key:"labelSize",set:function(e){var t=parseInt(e,10)||2;this.layoutService.labelSize=t}},{key:"markAsTouched",value:function(){this.markControlService.markAsTouched()}},{key:"onFormSubmit",value:function(){this.markAsTouched()}}]),e}()).\u0275fac=function(e){return new(e||ia)(f.Kb(Ha),f.Kb(Ya))},ia.\u0275dir=f.Fb({type:ia,selectors:[["","clrForm",""]],contentQueries:function(e,t,n){var i;1&e&&f.Db(n,$a,1),2&e&&f.kc(i=f.Yb())&&(t.labels=i)},hostVars:6,hostBindings:function(e,t){1&e&&f.Xb("submit",function(){return t.onFormSubmit()}),2&e&&f.Cb("clr-form",!0)("clr-form-horizontal",t.layoutService.isHorizontal())("clr-form-compact",t.layoutService.isCompact())},inputs:{labelSize:["clrLabelSize","labelSize"]},features:[f.yb([Ha,Ya])]}),ia),ao=((na=function(){function e(t){_(this,e),this.layoutService=t}return y(e,[{key:"ngOnInit",value:function(){this.layout&&this.layoutService.isValid(this.layout)&&(this.layoutService.layout=this.layout)}}]),e}()).\u0275fac=function(e){return new(e||na)(f.Kb(Ha))},na.\u0275dir=f.Fb({type:na,selectors:[["","clrForm","","clrLayout",""]],inputs:{layout:["clrLayout","layout"]}}),na),oo=((ta=function e(){_(this,e),W.addIcons(K,Z)}).\u0275fac=function(e){return new(e||ta)},ta.\u0275mod=f.Ib({type:ta}),ta.\u0275inj=f.Hb({imports:[[ge.c,xr]]}),ta),so=new f.r("IS_TOGGLE"),lo={provide:so,useFactory:function(){return new be.a(!1)}},uo=((ya=function(){function e(t){var n=this;_(this,e),this._dynamic=!1,this.toggle=!1,this.subscriptions=[],this.subscriptions.push(t.subscribe(function(e){n.toggle=e}))}return y(e,[{key:"ngOnInit",value:function(){this.label&&this.label.disableGrid()}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})}}]),e}()).\u0275fac=function(e){return new(e||ya)(f.Kb(so))},ya.\u0275cmp=f.Eb({type:ya,selectors:[["clr-checkbox-wrapper"],["clr-toggle-wrapper"]],contentQueries:function(e,t,n){var i;1&e&&f.Db(n,$a,3),2&e&&f.kc(i=f.Yb())&&(t.label=i.first)},hostVars:4,hostBindings:function(e,t){2&e&&f.Cb("clr-checkbox-wrapper",!t.toggle)("clr-toggle-wrapper",t.toggle)},features:[f.yb([Va,lo])],ngContentSelectors:$t,decls:3,vars:1,consts:[[4,"ngIf"]],template:function(e,t){1&e&&(f.ec(Qt),f.dc(0),f.dc(1,1),f.wc(2,Jt,1,0,"label",0)),2&e&&(f.zb(2),f.fc("ngIf",!t.label))},directives:[ge.n,$a],encapsulation:2}),ya),co=((ga=function(e){b(n,e);var t=T(n);function n(e,i,r,a,o,s){var l;return _(this,n),(l=t.call(this,e,uo,i,r,a,o)).toggle=s,l}return y(n,[{key:"ngOnInit",value:function(){v(C(n.prototype),"ngOnInit",this).call(this);var e=this.getProviderFromContainer(so,null);e&&null!==this.toggle&&e.next(!0)}}]),n}(Qa)).\u0275fac=function(e){return new(e||ga)(f.Kb(f.P),f.Kb(f.s),f.Kb(Re.i,10),f.Kb(f.E),f.Kb(f.l),f.Vb("clrToggle"))},ga.\u0275dir=f.Fb({type:ga,selectors:[["","clrCheckbox",""],["","clrToggle",""]],features:[f.wb]}),ga),ho=((va=function(e){b(n,e);var t=T(n);function n(e,i,r,a){var o;return _(this,n),(o=t.call(this,a,e,i,r)).layoutService=e,o.controlClassService=i,o.ngControlService=r,o.ifControlStateService=a,o.inline=!1,o}return y(n,[{key:"clrInline",get:function(){return this.inline},set:function(e){this.inline="string"==typeof e?"false"!==e:!!e}},{key:"ngAfterContentInit",value:function(){this.setAriaRoles()}},{key:"setAriaRoles",value:function(){this.role=this.checkboxes.length?"group":null}}]),n}(io)).\u0275fac=function(e){return new(e||va)(f.Kb(Ha,8),f.Kb(Wa),f.Kb(Ba),f.Kb(qa))},va.\u0275cmp=f.Eb({type:va,selectors:[["clr-checkbox-container"],["clr-toggle-container"]],contentQueries:function(e,t,n){var i;1&e&&f.Db(n,co,1),2&e&&f.kc(i=f.Yb())&&(t.checkboxes=i)},hostVars:7,hostBindings:function(e,t){2&e&&(f.Ab("role",t.role),f.Cb("clr-form-control",!0)("clr-form-control-disabled",null==t.control?null:t.control.disabled)("clr-row",t.addGrid()))},inputs:{clrInline:"clrInline"},features:[f.yb([qa,Ba,Wa,Za]),f.wb],ngContentSelectors:ln,decls:10,vars:9,consts:[[4,"ngIf"],[1,"clr-control-container",3,"ngClass"],[1,"clr-subtext-wrapper"],["class","clr-validate-icon","status","danger","shape","exclamation-circle","aria-hidden","true",4,"ngIf"],["class","clr-validate-icon","status","success","shape","check-circle","aria-hidden","true",4,"ngIf"],["status","danger","shape","exclamation-circle","aria-hidden","true",1,"clr-validate-icon"],["status","success","shape","check-circle","aria-hidden","true",1,"clr-validate-icon"]],template:function(e,t){1&e&&(f.ec(sn),f.dc(0),f.wc(1,en,1,0,"label",0),f.Qb(2,"div",1),f.dc(3,1),f.Qb(4,"div",2),f.wc(5,tn,1,0,"ng-content",0),f.wc(6,nn,1,0,"cds-icon",3),f.wc(7,rn,1,0,"cds-icon",4),f.wc(8,an,1,0,"ng-content",0),f.wc(9,on,1,0,"ng-content",0),f.Pb(),f.Pb()),2&e&&(f.zb(1),f.fc("ngIf",!t.label&&t.addGrid()),f.zb(1),f.Cb("clr-control-inline",t.clrInline),f.fc("ngClass",t.controlClass()),f.zb(3),f.fc("ngIf",t.showHelper),f.zb(1),f.fc("ngIf",t.showInvalid),f.zb(1),f.fc("ngIf",t.showValid),f.zb(1),f.fc("ngIf",t.showInvalid),f.zb(1),f.fc("ngIf",t.showValid))},directives:[ge.n,ge.l,$a,wr],encapsulation:2}),va),fo=((ma=function e(){_(this,e),W.addIcons(K,Z)}).\u0275fac=function(e){return new(e||ma)},ma.\u0275mod=f.Ib({type:ma}),ma.\u0275inj=f.Hb({imports:[[ge.c,xr,oo,Fa],oo]}),ma);new f.r("IF_ACTIVE_ID");var po,mo,vo,go,yo,_o,bo=((_o=function(){function e(t,n,i){var r=this;_(this,e),this.toggleService=t,this.template=n,this.container=i,this.openChange=new f.n(!1),this.subscription=this.toggleService.openChange.subscribe(function(e){r.updateView(e),r.openChange.emit(e)})}return y(e,[{key:"open",get:function(){return this.toggleService.open},set:function(e){this.toggleService.open=e}},{key:"updateView",value:function(e){e?this.container.createEmbeddedView(this.template):this.container.clear()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||_o)(f.Kb(Ar),f.Kb(f.L),f.Kb(f.P))},_o.\u0275dir=f.Fb({type:_o,selectors:[["","clrIfOpen",""]],inputs:{open:["clrIfOpen","open"]},outputs:{openChange:"clrIfOpenChange"}}),_o),So=((yo=function(){function e(){_(this,e),this.expandable=0,this._loading=!1,this._expanded=!1,this._expandChange=new ye.a}return y(e,[{key:"loading",get:function(){return this._loading},set:function(e){(e=!!e)!==this._loading&&(this._loading=e)}},{key:"expanded",get:function(){return this._expanded},set:function(e){(e=!!e)!==this._expanded&&(this._expanded=e,this._expandChange.next(e))}},{key:"toggle",value:function(){this.expanded=!this._expanded}},{key:"expandChange",get:function(){return this._expandChange.asObservable()}},{key:"loadingStateChange",value:function(e){switch(e){case ka.LOADING:this.loading=!0;break;default:this.loading=!1}}}]),e}()).\u0275fac=function(e){return new(e||yo)},yo.\u0275prov=f.Gb({token:yo,factory:yo.\u0275fac}),yo),To=((go=function e(){_(this,e)}).\u0275fac=function(e){return new(e||go)},go.\u0275mod=f.Ib({type:go}),go.\u0275inj=f.Hb({imports:[[ge.c]]}),go),wo=((vo=function(){function e(){_(this,e),this._previousFocusTraps=[]}return y(e,[{key:"current",get:function(){return this._current},set:function(e){this._previousFocusTraps.push(this._current),this._current=e}},{key:"nbFocusTrappers",get:function(){return this._previousFocusTraps.length}},{key:"activatePreviousTrapper",value:function(){this._current=this._previousFocusTraps.pop()}}]),e}()).\u0275fac=function(e){return new(e||vo)},vo.\u0275prov=Object(f.Gb)({factory:function(){return new vo},token:vo,providedIn:"root"}),vo),xo=((mo=function(){function e(t,n,i,r,a){_(this,e),this.el=t,this.injector=n,this.focusTrapsTracker=i,this.renderer=r,this.platformId=a,this.localFocusEscaped=!1,this._config={strict:!0},this.document=this.injector.get(ge.d),this.focusTrapsTracker.current=this}return y(e,[{key:"config",set:function(e){this._config=Object.assign(this._config,""===e?{}:e)}},{key:"onFocusIn",value:function(e){var t=this.el.nativeElement;this.focusTrapsTracker.current!==this||!Object(ge.A)(this.platformId)||this.localFocusEscaped||t.contains(e.target)||(e.target===this.topReboundEl&&t.contains(e.relatedTarget)?(this.focusLastFocusable(),this.focusTrapElIfOutside()):e.target===this.bottomReboundEl&&t.contains(e.relatedTarget)?(this.focusFirstFocusable(),this.focusTrapElIfOutside()):this._config.strict?this.el.nativeElement.focus():this.localFocusEscaped=!0)}},{key:"createFocusableOffScreenEl",value:function(){var e=this.document.createElement("span");return this.renderer.setAttribute(e,"tabindex","0"),this.renderer.addClass(e,"offscreen-focus-rebounder"),e}},{key:"addReboundEls",value:function(){if(Object(ge.A)(this.platformId)){this.topReboundEl=this.createFocusableOffScreenEl(),this.bottomReboundEl=this.createFocusableOffScreenEl();var e=this.el.nativeElement;this.renderer.insertBefore(e.parentElement,this.topReboundEl,e),e.nextSibling?this.renderer.insertBefore(e.parentNode,this.bottomReboundEl,e.nextSibling):this.renderer.appendChild(e.parentNode,this.bottomReboundEl)}}},{key:"removeReboundEls",value:function(){Object(ge.A)(this.platformId)&&this.topReboundEl&&this.bottomReboundEl&&(this.parentElement.removeChild(this.topReboundEl),this.parentElement.removeChild(this.bottomReboundEl),delete this.topReboundEl,delete this.bottomReboundEl)}},{key:"setPreviousFocus",value:function(){this.previousActiveElement&&this.previousActiveElement.focus&&this.previousActiveElement.focus()}},{key:"ngOnInit",value:function(){Object(ge.A)(this.platformId)&&(this.renderer.setAttribute(this.el.nativeElement,"tabindex","-1"),this.el.nativeElement.focus())}},{key:"ngAfterViewInit",value:function(){Object(ge.A)(this.platformId)&&(this.previousActiveElement=this.document.activeElement,this.parentElement=this.el.nativeElement.parentElement),this.addReboundEls()}},{key:"potentiallyFocusableEls",get:function(){return d(this.el.nativeElement.querySelectorAll('[href]:not([tabindex="-1"]), button:not([disabled]):not([tabindex="-1"]), input:not([disabled]):not([tabindex="-1"]), select:not([disabled]):not([tabindex="-1"]), textarea:not([disabled]):not([tabindex="-1"]), [contenteditable="true"]:not([tabindex="-1"]), [tabindex]:not([tabindex="-1"]) '))}},{key:"focusFirstFocusable",value:function(){for(var e=0;e<this.potentiallyFocusableEls.length&&(this.firstFocusableEl=this.focusElement(this.potentiallyFocusableEls[e]),!this.firstFocusableEl);e++);}},{key:"focusLastFocusable",value:function(){for(var e=this.potentiallyFocusableEls.length-1;e>=0&&(this.lastFocusableEl=this.focusElement(this.potentiallyFocusableEls[e]),!this.lastFocusableEl);e--);}},{key:"focusTrapElIfOutside",value:function(){this.el.nativeElement.contains(document.activeElement)||this.el.nativeElement.focus()}},{key:"focusElement",value:function(e){if(e&&e.focus&&(e.focus(),document.activeElement===e))return e}},{key:"ngOnDestroy",value:function(){this.removeReboundEls(),this.setPreviousFocus(),this.focusTrapsTracker.activatePreviousTrapper()}}]),e}()).\u0275fac=function(e){return new(e||mo)(f.Kb(f.l),f.Kb(f.s),f.Kb(wo),f.Kb(f.E),f.Kb(f.C))},mo.\u0275dir=f.Fb({type:mo,selectors:[["","clrFocusTrap",""]],hostBindings:function(e,t){1&e&&f.Xb("focusin",function(e){return t.onFocusIn(e)},!1,f.nc)},inputs:{config:["clrFocusTrap","config"]}}),mo),Eo=((po=function e(){_(this,e)}).\u0275fac=function(e){return new(e||po)},po.\u0275mod=f.Ib({type:po}),po.\u0275inj=f.Hb({imports:[[ge.c]]}),po);function Co(e){return null!==e&&("string"==typeof e?e.length>=0:"boolean"==typeof e&&e)}var ko,Mo,Oo,Ao,Ro=((Mo=function e(){_(this,e),W.addIcons(K,Z,J,Q,$)}).\u0275fac=function(e){return new(e||Mo)},Mo.\u0275mod=f.Ib({type:Mo}),Mo.\u0275inj=f.Hb({imports:[[ge.c,Fa,To,Ea,xr,Eo,oo]]}),Mo),Io=((ko=function(e){b(n,e);var t=T(n);function n(){return _(this,n),t.apply(this,arguments)}return n}(io)).\u0275fac=function(e){return Lo(e||ko)},ko.\u0275cmp=f.Eb({type:ko,selectors:[["clr-input-container"]],hostVars:6,hostBindings:function(e,t){2&e&&f.Cb("clr-form-control",!0)("clr-form-control-disabled",null==t.control?null:t.control.disabled)("clr-row",t.addGrid())},features:[f.yb([qa,Ba,Va,Wa]),f.wb],ngContentSelectors:vn,decls:10,vars:7,consts:[[4,"ngIf"],[1,"clr-control-container",3,"ngClass"],[1,"clr-input-wrapper"],["class","clr-validate-icon","shape","exclamation-circle","aria-hidden","true",4,"ngIf"],["class","clr-validate-icon","shape","check-circle","status","success","aria-hidden","true",4,"ngIf"],["shape","exclamation-circle","aria-hidden","true",1,"clr-validate-icon"],["shape","check-circle","status","success","aria-hidden","true",1,"clr-validate-icon"]],template:function(e,t){1&e&&(f.ec(mn),f.dc(0),f.wc(1,un,1,0,"label",0),f.Qb(2,"div",1),f.Qb(3,"div",2),f.dc(4,1),f.wc(5,cn,1,0,"cds-icon",3),f.wc(6,hn,1,0,"cds-icon",4),f.Pb(),f.wc(7,dn,1,0,"ng-content",0),f.wc(8,fn,1,0,"ng-content",0),f.wc(9,pn,1,0,"ng-content",0),f.Pb()),2&e&&(f.zb(1),f.fc("ngIf",!t.label&&t.addGrid()),f.zb(1),f.fc("ngClass",t.controlClass()),f.zb(3),f.fc("ngIf",t.showInvalid),f.zb(1),f.fc("ngIf",t.showValid),f.zb(1),f.fc("ngIf",t.showHelper),f.zb(1),f.fc("ngIf",t.showInvalid),f.zb(1),f.fc("ngIf",t.showValid))},directives:[ge.n,ge.l,$a,wr],encapsulation:2}),ko),Lo=f.Sb(Io),Po=((Ao=function(e){b(n,e);var t=T(n);function n(e,i,r,a,o){var s;return _(this,n),(s=t.call(this,e,Io,i,r,a,o)).index=1,s}return n}(Qa)).\u0275fac=function(e){return new(e||Ao)(f.Kb(f.P),f.Kb(f.s),f.Kb(Re.i,10),f.Kb(f.E),f.Kb(f.l))},Ao.\u0275dir=f.Fb({type:Ao,selectors:[["","clrInput",""]],hostVars:2,hostBindings:function(e,t){2&e&&f.Cb("clr-input",!0)},features:[f.wb]}),Ao),Do=((Oo=function e(){_(this,e),W.addIcons(K,Z)}).\u0275fac=function(e){return new(e||Oo)},Oo.\u0275mod=f.Ib({type:Oo}),Oo.\u0275inj=f.Hb({imports:[[ge.c,Re.h,xr,oo],oo]}),Oo);new f.r(void 0);var No,jo,Fo,Uo,Go,Vo,Bo,zo,Ho,Xo,qo,Wo,Yo,Ko=((Yo=function e(){_(this,e),W.addIcons(ee,te,K,Z)}).\u0275fac=function(e){return new(e||Yo)},Yo.\u0275mod=f.Ib({type:Yo}),Yo.\u0275inj=f.Hb({imports:[[ge.c,Re.h,xr,oo],oo]}),Yo),Zo=((Wo=function(){function e(){_(this,e),this._dynamic=!1}return y(e,[{key:"ngOnInit",value:function(){this.label&&this.label.disableGrid()}}]),e}()).\u0275fac=function(e){return new(e||Wo)},Wo.\u0275cmp=f.Eb({type:Wo,selectors:[["clr-radio-wrapper"]],contentQueries:function(e,t,n){var i;1&e&&f.Db(n,$a,3),2&e&&f.kc(i=f.Yb())&&(t.label=i.first)},hostVars:2,hostBindings:function(e,t){2&e&&f.Cb("clr-radio-wrapper",!0)},features:[f.yb([Va])],ngContentSelectors:_n,decls:3,vars:1,consts:[[4,"ngIf"]],template:function(e,t){1&e&&(f.ec(yn),f.dc(0),f.dc(1,1),f.wc(2,gn,1,0,"label",0)),2&e&&(f.zb(2),f.fc("ngIf",!t.label))},directives:[ge.n,$a],encapsulation:2}),Wo),Jo=((qo=function(e){b(n,e);var t=T(n);function n(e,i,r,a,o){return _(this,n),t.call(this,e,Zo,i,r,a,o)}return n}(Qa)).\u0275fac=function(e){return new(e||qo)(f.Kb(f.P),f.Kb(f.s),f.Kb(Re.i,10),f.Kb(f.E),f.Kb(f.l))},qo.\u0275dir=f.Fb({type:qo,selectors:[["","clrRadio",""]],features:[f.wb]}),qo),Qo=((Xo=function e(){_(this,e),W.addIcons(K,Z)}).\u0275fac=function(e){return new(e||Xo)},Xo.\u0275mod=f.Ib({type:Xo}),Xo.\u0275inj=f.Hb({imports:[[ge.c,oo,Fa,xr],oo]}),Xo),$o=((Ho=function(e){b(n,e);var t=T(n);function n(e,i,r,a){var o;return _(this,n),(o=t.call(this,a,e,i,r)).layoutService=e,o.controlClassService=i,o.ngControlService=r,o.ifControlStateService=a,o.multi=!1,o}return y(n,[{key:"ngOnInit",value:function(){var e=this;this.subscriptions.push(this.ngControlService.controlChanges.subscribe(function(t){t&&(e.multi=t.valueAccessor instanceof Re.u,e.control=t)}))}},{key:"wrapperClass",value:function(){return this.multi?"clr-multiselect-wrapper":"clr-select-wrapper"}}]),n}(io)).\u0275fac=function(e){return new(e||Ho)(f.Kb(Ha,8),f.Kb(Wa),f.Kb(Ba),f.Kb(qa))},Ho.\u0275cmp=f.Eb({type:Ho,selectors:[["clr-select-container"]],contentQueries:function(e,t,n){var i;1&e&&f.Db(n,Re.u,1),2&e&&f.kc(i=f.Yb())&&(t.multiple=i.first)},hostVars:6,hostBindings:function(e,t){2&e&&f.Cb("clr-form-control",!0)("clr-form-control-disabled",null==t.control?null:t.control.disabled)("clr-row",t.addGrid())},features:[f.yb([qa,Ba,Va,Wa]),f.wb],ngContentSelectors:kn,decls:10,vars:8,consts:[[4,"ngIf"],[1,"clr-control-container",3,"ngClass"],[3,"ngClass"],["class","clr-validate-icon","status","danger","shape","exclamation-circle","aria-hidden","true",4,"ngIf"],["class","clr-validate-icon","shape","check-circle","status","success","aria-hidden","true",4,"ngIf"],["status","danger","shape","exclamation-circle","aria-hidden","true",1,"clr-validate-icon"],["shape","check-circle","status","success","aria-hidden","true",1,"clr-validate-icon"]],template:function(e,t){1&e&&(f.ec(Cn),f.dc(0),f.wc(1,bn,1,0,"label",0),f.Qb(2,"div",1),f.Qb(3,"div",2),f.dc(4,1),f.wc(5,Sn,1,0,"cds-icon",3),f.wc(6,Tn,1,0,"cds-icon",4),f.Pb(),f.wc(7,wn,1,0,"ng-content",0),f.wc(8,xn,1,0,"ng-content",0),f.wc(9,En,1,0,"ng-content",0),f.Pb()),2&e&&(f.zb(1),f.fc("ngIf",!t.label&&t.addGrid()),f.zb(1),f.fc("ngClass",t.controlClass()),f.zb(1),f.fc("ngClass",t.wrapperClass()),f.zb(2),f.fc("ngIf",t.showInvalid),f.zb(1),f.fc("ngIf",t.showValid),f.zb(1),f.fc("ngIf",t.showHelper),f.zb(1),f.fc("ngIf",t.showInvalid),f.zb(1),f.fc("ngIf",t.showValid))},directives:[ge.n,ge.l,$a,wr],encapsulation:2}),Ho),es=((zo=function(e){b(n,e);var t=T(n);function n(e,i,r,a,o){var s;return _(this,n),(s=t.call(this,e,$o,i,r,a,o)).index=1,s}return n}(Qa)).\u0275fac=function(e){return new(e||zo)(f.Kb(f.P),f.Kb(f.s),f.Kb(Re.i,10),f.Kb(f.E),f.Kb(f.l))},zo.\u0275dir=f.Fb({type:zo,selectors:[["","clrSelect",""]],hostVars:2,hostBindings:function(e,t){2&e&&f.Cb("clr-select",!0)},features:[f.wb]}),zo),ts=((Bo=function e(){_(this,e),W.addIcons(K,Z)}).\u0275fac=function(e){return new(e||Bo)},Bo.\u0275mod=f.Ib({type:Bo}),Bo.\u0275inj=f.Hb({imports:[[ge.c,Re.h,xr,oo],oo]}),Bo),ns=((Vo=function e(){_(this,e),W.addIcons(K,Z)}).\u0275fac=function(e){return new(e||Vo)},Vo.\u0275mod=f.Ib({type:Vo}),Vo.\u0275inj=f.Hb({imports:[[ge.c,Re.h,xr,oo],oo]}),Vo),is=((Go=function(e){b(n,e);var t=T(n);function n(e,i,r,a,o,s){var l;return _(this,n),(l=t.call(this,s,e,i,r)).renderer=a,l.idService=o,l.ifControlStateService=s,l._hasProgress=!1,l}return y(n,[{key:"hasProgress",get:function(){return this._hasProgress},set:function(e){var t=!!e;t!==this._hasProgress&&(this._hasProgress=t)}},{key:"getRangeProgressFillWidth",value:function(){var e=this.renderer.selectRootElement("[clrRange]#"+this.idService.id),t=+e.min,n=+e.max;return 0===t&&0===n&&(n=100),100*((this.control&&void 0!==this.control.value?this.control.value:(t+n)/2)-t)/(n-t)*e.offsetWidth/100+"px"}}]),n}(io)).\u0275fac=function(e){return new(e||Go)(f.Kb(Ha,8),f.Kb(Wa),f.Kb(Ba),f.Kb(f.E),f.Kb(Va),f.Kb(qa))},Go.\u0275cmp=f.Eb({type:Go,selectors:[["clr-range-container"]],hostVars:6,hostBindings:function(e,t){2&e&&f.Cb("clr-form-control",!0)("clr-form-control-disabled",null==t.control?null:t.control.disabled)("clr-row",t.addGrid())},inputs:{hasProgress:["clrRangeHasProgress","hasProgress"]},features:[f.yb([qa,Ba,Va,Wa]),f.wb],ngContentSelectors:Nn,decls:11,vars:10,consts:[[4,"ngIf"],[1,"clr-control-container",3,"ngClass"],[1,"clr-range-wrapper"],["class","fill-input",3,"width",4,"ngIf"],["class","clr-validate-icon","status","danger","shape","exclamation-circle","aria-hidden","true",4,"ngIf"],["class","clr-validate-icon","shape","check-circle","status","success","aria-hidden","true",4,"ngIf"],[1,"fill-input"],["status","danger","shape","exclamation-circle","aria-hidden","true",1,"clr-validate-icon"],["shape","check-circle","status","success","aria-hidden","true",1,"clr-validate-icon"]],template:function(e,t){1&e&&(f.ec(Dn),f.dc(0),f.wc(1,Mn,1,0,"label",0),f.Qb(2,"div",1),f.Qb(3,"div",2),f.dc(4,1),f.wc(5,On,1,2,"span",3),f.wc(6,An,1,0,"cds-icon",4),f.wc(7,Rn,1,0,"cds-icon",5),f.Pb(),f.wc(8,In,1,0,"ng-content",0),f.wc(9,Ln,1,0,"ng-content",0),f.wc(10,Pn,1,0,"ng-content",0),f.Pb()),2&e&&(f.zb(1),f.fc("ngIf",!t.label&&t.addGrid()),f.zb(1),f.fc("ngClass",t.controlClass()),f.zb(1),f.Cb("progress-fill",t.hasProgress),f.zb(2),f.fc("ngIf",t.hasProgress),f.zb(1),f.fc("ngIf",t.showInvalid),f.zb(1),f.fc("ngIf",t.showValid),f.zb(1),f.fc("ngIf",t.showHelper),f.zb(1),f.fc("ngIf",t.showInvalid),f.zb(1),f.fc("ngIf",t.showValid))},directives:[ge.n,ge.l,$a,wr],encapsulation:2}),Go),rs=((Uo=function(e){b(n,e);var t=T(n);function n(e,i,r,a,o){return _(this,n),t.call(this,e,is,i,r,a,o)}return n}(Qa)).\u0275fac=function(e){return new(e||Uo)(f.Kb(f.P),f.Kb(f.s),f.Kb(Re.i,10),f.Kb(f.E),f.Kb(f.l))},Uo.\u0275dir=f.Fb({type:Uo,selectors:[["","clrRange",""]],hostVars:2,hostBindings:function(e,t){2&e&&f.Cb("clr-range",!0)},features:[f.wb]}),Uo),as=((Fo=function e(){_(this,e),W.addIcons(K,Z)}).\u0275fac=function(e){return new(e||Fo)},Fo.\u0275mod=f.Ib({type:Fo}),Fo.\u0275inj=f.Hb({imports:[[ge.c,oo,Fa,xr],oo]}),Fo),os=((jo=function e(){_(this,e),W.addIcons(K,Z)}).\u0275fac=function(e){return new(e||jo)},jo.\u0275mod=f.Ib({type:jo}),jo.\u0275inj=f.Hb({imports:[[ge.c,Do,xr]]}),jo),ss=((No=function(){function e(){_(this,e),this.loading=!1,this._currentInput="",this._inputChanged=new be.a(""),this.inputChanged=this._inputChanged.asObservable(),this._selectionChanged=new Te.a(1)}return y(e,[{key:"currentInput",get:function(){return this._currentInput},set:function(e){e||this.multiselectable||this.setSelectionValue(null),this._currentInput=e,this._inputChanged.next(e)}},{key:"selectionChanged",get:function(){return this._selectionChanged.asObservable()}},{key:"select",value:function(e){e&&!this.selectionModel.containsItem(e)&&(this.selectionModel.select(e),this._selectionChanged.next(this.selectionModel))}},{key:"toggle",value:function(e){e&&(this.selectionModel.containsItem(e)?this.selectionModel.unselect(e):this.selectionModel.select(e),this._selectionChanged.next(this.selectionModel))}},{key:"unselect",value:function(e){e&&this.selectionModel.containsItem(e)&&(this.selectionModel.unselect(e),this._selectionChanged.next(this.selectionModel))}},{key:"multiselectable",get:function(){return this.selectionModel instanceof function(){function e(){_(this,e)}return y(e,[{key:"containsItem",value:function(e){return!!this.model&&this.model.includes(e)}},{key:"select",value:function(e){this.addItem(e)}},{key:"unselect",value:function(e){this.removeItem(e)}},{key:"isEmpty",value:function(){return!(this.model&&this.model.length>0)}},{key:"pop",value:function(){var e;return this.model&&this.model.length>0&&(e=this.model[this.model.length-1],this.removeItem(e)),e}},{key:"toString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n="";return this.model&&(t>-1?this.model[t]&&(n+=e&&this.model[t][e]?this.model[t][e]:this.model[t].toString()):this.model.forEach(function(t){n+=e&&t[e]?t[e]:t.toString(),n+=" "})),n.trim()}},{key:"addItem",value:function(e){this.containsItem(e)||(this.model=this.model||[],this.model.push(e))}},{key:"removeItem",value:function(e){if(null!=this.model){var t=this.model.indexOf(e);t>-1&&this.model.splice(t,1),0===this.model.length&&(this.model=null)}}}]),e}()}},{key:"setSelectionValue",value:function(e){this.selectionModel&&this.selectionModel.model!==e&&(this.selectionModel.model||e)&&(this.selectionModel.model=e,this._selectionChanged.next(this.selectionModel))}}]),e}()).\u0275fac=function(e){return new(e||No)},No.\u0275prov=f.Gb({token:No,factory:No.\u0275fac}),No),ls=function e(){_(this,e)};function us(e){return[Ia,e,{provide:ls,useExisting:e}]}var cs,hs=function(e){return e.UP="up",e.DOWN="down",e.LEFT="left",e.RIGHT="right",e}({}),ds=function(e){b(n,e);var t=T(n);function n(){var e;return _(this,n),(e=t.apply(this,arguments))._focusChanged=new be.a(null),e}return y(n,[{key:"focusChanged",get:function(){return this._focusChanged.asObservable()}},{key:"select",value:function(e){this.model!==e&&(this.model=e,this._focusChanged.next(e))}}]),n}(function(){function e(){_(this,e)}return y(e,[{key:"containsItem",value:function(e){return this.model===e}},{key:"select",value:function(e){this.model=e}},{key:"unselect",value:function(e){this.containsItem(e)&&(this.model=null)}},{key:"isEmpty",value:function(){return!this.model}},{key:"pop",value:function(){var e=this.model;return this.model=null,e}},{key:"toString",value:function(e){return this.model?e&&this.model[e]?this.model[e]:this.model.toString():""}}]),e}());us(((cs=function(){function e(t,n,i,r,a){_(this,e),this.id=t,this.toggleService=i,this.selectionService=r,this.platformId=a,this.pseudoFocus=new ds,this.optionData=[],this.handleFocusSubscription(),this.renderer=n.createRenderer(null,null)}return y(e,[{key:"handleFocusSubscription",value:function(){var e=this;this.toggleService.openChange.subscribe(function(t){t||(e.pseudoFocus.model=null)})}},{key:"trigger",get:function(){return this._trigger},set:function(e){this._trigger=e,this.addFocusOnBlurListener(e)}},{key:"listbox",get:function(){return this._listbox},set:function(e){this._listbox=e,this.addFocusOnBlurListener(e)}},{key:"textInput",get:function(){return this._textInput},set:function(e){var t=this;this._textInput=e,this.renderer.listen(e,"keydown",function(e){return!t.handleTextInput(e)}),this.addFocusOnBlurListener(e)}},{key:"moveFocusTo",value:function(e){var t=this,n=this.optionData.findIndex(function(e){return e.equals(t.pseudoFocus.model)});e===hs.UP?-1===n||0===n?n=this.optionData.length-1:n--:e===hs.DOWN&&(-1===n||n===this.optionData.length-1?n=0:n++),this.pseudoFocus.select(this.optionData[n]),this.pseudoFocus.model&&this.pseudoFocus.model.el&&this.pseudoFocus.model.el.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}},{key:"openAndMoveTo",value:function(e){var t=this;this.toggleService.open?this.moveFocusTo(e):(this.toggleService.openChange.pipe(Object(Me.a)(1)).subscribe(function(n){n&&t.moveFocusTo(e)}),this.toggleService.open=!0)}},{key:"handleTextInput",value:function(e){var t=!1,n=kr(e.key);if(e)switch(n){case Er.Enter:this.toggleService.open&&this.pseudoFocus.model&&(this.selectionService.multiselectable?this.selectionService.toggle(this.pseudoFocus.model.value):this.selectionService.select(this.pseudoFocus.model.value),t=!0);break;case Er.Space:this.toggleService.open||(this.toggleService.open=!0,t=!0);break;case Er.ArrowUp:this.preventViewportScrolling(e),this.openAndMoveTo(hs.UP),t=!0;break;case Er.ArrowDown:this.preventViewportScrolling(e),this.openAndMoveTo(hs.DOWN),t=!0;break;default:e.key===Er.Tab||this.selectionService.multiselectable&&e.key===Er.Backspace||e.key===Er.Escape||this.toggleService.open||(this.toggleService.open=!0)}return t}},{key:"preventViewportScrolling",value:function(e){e.preventDefault(),e.stopImmediatePropagation()}},{key:"focusInput",value:function(){this.textInput&&Object(ge.A)(this.platformId)&&this.textInput.focus()}},{key:"addFocusOnBlurListener",value:function(e){var t=this;Object(ge.A)(this.platformId)&&this.renderer.listen(e,"blur",function(e){t.focusOutOfComponent(e)&&(t.toggleService.open=!1,t.componentCdRef&&t.componentCdRef.detectChanges())})}},{key:"focusOutOfComponent",value:function(e){var t=e.relatedTarget||document.activeElement;return!(this.textInput.contains(t)||this.trigger.contains(t)||this.listbox.contains(t))}},{key:"focusFirstActive",value:function(){if(this.optionData.length>0)if(this.selectionService.selectionModel.isEmpty())this.pseudoFocus.select(this.optionData[0]);else{var e;e=this.selectionService.multiselectable?this.selectionService.selectionModel.model[0]:this.selectionService.selectionModel.model;var t=this.optionData.find(function(t){return t.value===e});this.pseudoFocus.select(t)}}},{key:"addOptionValues",value:function(e){this.optionData=e}}]),e}()).\u0275fac=function(e){return new(e||cs)(f.Ub(Ra),f.Ub(f.F),f.Ub(Ar),f.Ub(ss),f.Ub(f.C))},cs.\u0275prov=f.Gb({token:cs,factory:cs.\u0275fac}),cs));var fs,ps=new f.r("POPOVER_HOST_ANCHOR"),ms=((fs=function(){function e(t){_(this,e),this.renderer=t,this._unlistenFuncs=[]}return y(e,[{key:"current",get:function(){return this._current}},{key:"reset",value:function(e){this._current=e}},{key:"listenToArrowKeys",value:function(e){var t=this;this._unlistenFuncs.push(this.renderer.listen(e,"keydown.arrowup",function(){return!t.move(hs.UP)})),this._unlistenFuncs.push(this.renderer.listen(e,"keydown.arrowdown",function(){return!t.move(hs.DOWN)})),this._unlistenFuncs.push(this.renderer.listen(e,"keydown.arrowleft",function(){return!t.move(hs.LEFT)})),this._unlistenFuncs.push(this.renderer.listen(e,"keydown.arrowright",function(){return!t.move(hs.RIGHT)}))}},{key:"registerContainer",value:function(e){var t=this;this.renderer.setAttribute(e,"tabindex","0"),this.listenToArrowKeys(e),this._unlistenFuncs.push(this.renderer.listen(e,"keydown.space",function(){return!t.activateCurrent()})),this._unlistenFuncs.push(this.renderer.listen(e,"keydown.enter",function(){return!t.activateCurrent()}))}},{key:"moveTo",value:function(e){void 0!==e&&(this.current&&this.current.blur(),e.focus(),this._current=e)}},{key:"move",value:function(e){var t=this,n=!1;if(this.current){var i=this.current[e];i&&(Object(we.a)(i)?i:Object(Se.a)(i)).subscribe(function(e){e&&(t.moveTo(e),n=!0)})}return n}},{key:"activateCurrent",value:function(){return!(!this.current||!this.current.activate||(this.current.activate(),0))}},{key:"detachListeners",value:function(){this._unlistenFuncs.forEach(function(e){return e()})}}]),e}()).\u0275fac=function(e){return new(e||fs)(f.Ub(f.E))},fs.\u0275prov=f.Gb({token:fs,factory:fs.\u0275fac}),fs);new f.B,new f.J;var vs,gs,ys,_s,bs,Ss,Ts,ws,xs,Es,Cs,ks,Ms,Os,As,Rs,Is,Ls,Ps,Ds,Ns,js,Fs,Us,Gs,Vs,Bs,zs,Hs,Xs,qs,Ws,Ys,Ks,Zs,Js,Qs,$s,el,tl,nl,il,rl,al,ol,sl,ll,ul,cl,hl,dl,fl,pl,ml,vl,gl,yl,_l,bl,Sl,Tl,wl,xl,El,Cl,kl,Ml,Ol,Al,Rl,Il,Ll=((ws=function(){function e(){_(this,e)}return y(e,[{key:"spinnerClass",get:function(){return!0}},{key:"inlineClass",get:function(){return this._inline}},{key:"clrInline",set:function(e){this._inline=Co(e)}},{key:"inverseClass",get:function(){return this._inverse}},{key:"clrInverse",set:function(e){this._inverse=Co(e)}},{key:"smallClass",get:function(){return this._small}},{key:"clrSmall",set:function(e){this._small=Co(e)}},{key:"mediumClass",get:function(){return!this._small&&this._medium}},{key:"clrMedium",set:function(e){this._medium=Co(e)}}]),e}()).\u0275fac=function(e){return new(e||ws)},ws.\u0275cmp=f.Eb({type:ws,selectors:[["clr-spinner"]],hostVars:11,hostBindings:function(e,t){2&e&&(f.Ab("aria-busy",!0),f.Cb("spinner",t.spinnerClass)("spinner-inline",t.inlineClass)("spinner-inverse",t.inverseClass)("spinner-sm",t.smallClass)("spinner-md",t.mediumClass))},inputs:{clrInline:"clrInline",clrInverse:"clrInverse",clrSmall:"clrSmall",clrMedium:"clrMedium"},ngContentSelectors:Zt,decls:1,vars:0,template:function(e,t){1&e&&(f.ec(),f.dc(0))},encapsulation:2}),ws),Pl=((Ts=function e(){_(this,e)}).\u0275fac=function(e){return new(e||Ts)},Ts.\u0275mod=f.Ib({type:Ts}),Ts.\u0275inj=f.Hb({imports:[[ge.c]]}),Ts),Dl=((Ss=function e(){_(this,e)}).\u0275fac=function(e){return new(e||Ss)},Ss.\u0275mod=f.Ib({type:Ss}),Ss.\u0275inj=f.Hb({imports:[[ge.c]]}),Ss),Nl=((bs=function e(){_(this,e),W.addIcons(K,Z,J,ne)}).\u0275fac=function(e){return new(e||bs)},bs.\u0275mod=f.Ib({type:bs}),bs.\u0275inj=f.Hb({imports:[[ge.c,Re.h,xr,Dl,oo,To,Ea,Pl],oo,To]}),bs),jl=((_s=function e(){_(this,e)}).\u0275fac=function(e){return new(e||_s)},_s.\u0275mod=f.Ib({type:_s}),_s.\u0275inj=f.Hb({imports:[[ge.c],oo,fo,Nl,Ro,Do,Ko,Qo,ts,ns,as,os]}),_s),Fl=((ys=function e(){_(this,e)}).\u0275fac=function(e){return new(e||ys)},ys.\u0275mod=f.Ib({type:ys}),ys.\u0275inj=f.Hb({imports:[[ge.c]]}),ys),Ul=((gs=function e(){_(this,e)}).\u0275fac=function(e){return new(e||gs)},gs.\u0275mod=f.Ib({type:gs}),gs.\u0275inj=f.Hb({imports:[[ge.c]]}),gs),Gl=((vs=function(){function e(){_(this,e)}return y(e,[{key:"userDefinedWidth",value:function(e){e.classList.add("datagrid-cell-width-zero");var t=this.clientRect(e).width;return e.classList.remove("datagrid-cell-width-zero"),t}},{key:"scrollBarWidth",value:function(e){return e.offsetWidth-e.clientWidth}},{key:"scrollWidth",value:function(e){return e.scrollWidth||0}},{key:"computedHeight",value:function(e){return parseInt(getComputedStyle(e).getPropertyValue("height"),10)}},{key:"clientRect",value:function(e){var t=e.getBoundingClientRect();return{top:parseInt(t.top,10),bottom:parseInt(t.bottom,10),left:parseInt(t.left,10),right:parseInt(t.right,10),width:parseInt(t.width,10),height:parseInt(t.height,10)}}},{key:"minWidth",value:function(e){return parseInt(getComputedStyle(e).getPropertyValue("min-width"),10)}},{key:"focus",value:function(e){e.focus()}}]),e}()).\u0275fac=function(e){return new(e||vs)},vs.\u0275prov=f.Gb({token:vs,factory:vs.\u0275fac}),vs),Vl=function e(t){_(this,e),this.dragPosition=t.dragPosition,this.group=t.group,this.dragDataTransfer=t.dragDataTransfer,this.dropPointPosition=t.dropPointPosition},Bl=function(e){return e[e.DRAG_START=0]="DRAG_START",e[e.DRAG_MOVE=1]="DRAG_MOVE",e[e.DRAG_END=2]="DRAG_END",e[e.DRAG_ENTER=3]="DRAG_ENTER",e[e.DRAG_LEAVE=4]="DRAG_LEAVE",e[e.DROP=5]="DROP",e}({}),zl=((Ps=function(){function e(){_(this,e),this.dragStart=new ye.a,this.dragMove=new ye.a,this.dragEnd=new ye.a,this.drop=new ye.a}return y(e,[{key:"dragStarted",get:function(){return this.dragStart.asObservable()}},{key:"dragMoved",get:function(){return this.dragMove.asObservable()}},{key:"dragEnded",get:function(){return this.dragEnd.asObservable()}},{key:"dropped",get:function(){return this.drop.asObservable()}},{key:"broadcast",value:function(e){switch(e.type){case Bl.DRAG_START:this.dragStart.next(e);break;case Bl.DRAG_MOVE:this.dragMove.next(e);break;case Bl.DRAG_END:this.dragEnd.next(e);break;case Bl.DROP:this.drop.next(e)}}}]),e}()).\u0275fac=function(e){return new(e||Ps)},Ps.\u0275prov=Object(f.Gb)({factory:function(){return new Ps},token:Ps,providedIn:"root"}),Ps),Hl=((Ls=function(){function e(t,n,i){_(this,e),this.ngZone=t,this.renderer=n,this.eventBus=i,this.listeners=[],this.dragStart=new ye.a,this.dragMove=new ye.a,this.dragEnd=new ye.a,this.hasDragStarted=!1,this.dragStartDelay=0}return y(e,[{key:"dragStarted",get:function(){return this.dragStart.asObservable()}},{key:"dragMoved",get:function(){return this.dragMove.asObservable()}},{key:"dragEnded",get:function(){return this.dragEnd.asObservable()}},{key:"dragStartPosition",get:function(){return this.initialPosition}},{key:"attachDragListeners",value:function(e){this.draggableEl=e,this.listeners.push(this.customDragEvent(this.draggableEl,"mousedown","mousemove","mouseup")),this.listeners.push(this.customDragEvent(this.draggableEl,"touchstart","touchmove","touchend"))}},{key:"detachDragListeners",value:function(){this.listeners&&this.listeners.map(function(e){return e()}),this.nestedListeners&&this.nestedListeners.map(function(e){return e()}),this.checkDragStartBoundaryListener&&this.checkDragStartBoundaryListener()}},{key:"getNativeEventObject",value:function(e){return e.hasOwnProperty("changedTouches")?e.changedTouches[0]:e}},{key:"customDragEvent",value:function(e,t,n,i){var r=this;return this.renderer.listen(e,t,function(e){r.initialPosition={pageX:r.getNativeEventObject(e).pageX,pageY:r.getNativeEventObject(e).pageY},r.nestedListeners=[],r.nestedListeners.push(r.renderer.listen("document","selectstart",function(e){e.preventDefault(),e.stopImmediatePropagation()})),r.ngZone.runOutsideAngular(function(){r.checkDragStartBoundary(n),r.dragStartDelayTimeout=setTimeout(function(){r.checkDragStartBoundaryListener&&r.checkDragStartBoundaryListener(),r.hasDragStarted=!0,r.broadcast(e,Bl.DRAG_START),r.nestedListeners.push(r.renderer.listen("document",n,function(e){e.stopImmediatePropagation(),r.hasDragStarted&&r.broadcast(e,Bl.DRAG_MOVE)}))},r.dragStartDelay)}),r.nestedListeners.push(r.renderer.listen("document",i,function(e){r.hasDragStarted&&(r.hasDragStarted=!1,r.broadcast(e,Bl.DRAG_END)),clearTimeout(r.dragStartDelayTimeout),r.nestedListeners.map(function(e){return e()}),r.checkDragStartBoundaryListener&&r.checkDragStartBoundaryListener()}))})}},{key:"checkDragStartBoundary",value:function(e){var t=this;this.checkDragStartBoundaryListener=this.renderer.listen("document",e,function(e){var n=Math.abs(t.getNativeEventObject(e).pageX-t.initialPosition.pageX),i=Math.abs(t.getNativeEventObject(e).pageY-t.initialPosition.pageY);(n>1||i>1)&&(clearTimeout(t.dragStartDelayTimeout),t.checkDragStartBoundaryListener&&t.checkDragStartBoundaryListener())})}},{key:"broadcast",value:function(e,t){var n=this.generateDragEvent(e,t);switch(n.type){case Bl.DRAG_START:this.dragStart.next(n);break;case Bl.DRAG_MOVE:this.dragMove.next(n);break;case Bl.DRAG_END:this.dragEnd.next(n)}n.ghostElement=this.ghostElement,n.dropPointPosition=this.dropPointPosition,this.eventBus.broadcast(n)}},{key:"generateDragEvent",value:function(e,t){var n=this.getNativeEventObject(e);return{type:t,dragPosition:{pageX:n.pageX,pageY:n.pageY,moveX:n.pageX-this.initialPosition.pageX,moveY:n.pageY-this.initialPosition.pageY},group:this.group,dragDataTransfer:this.dragDataTransfer,ghostElement:this.ghostElement}}}]),e}()).\u0275fac=function(e){return new(e||Ls)(f.Ub(f.A),f.Ub(f.E),f.Ub(zl))},Ls.\u0275prov=f.Gb({token:Ls,factory:Ls.\u0275fac}),Ls),Xl=((Is=function(){function e(t){_(this,e),this.domAdapter=t}return y(e,[{key:"capture",value:function(e,t){this.draggableElClientRect=this.domAdapter.clientRect(e),this.snapshotDragEvent=t}},{key:"discard",value:function(){delete this.draggableElClientRect,delete this.snapshotDragEvent}},{key:"hasDraggableState",get:function(){return!!this.snapshotDragEvent&&!!this.draggableElClientRect}},{key:"clientRect",get:function(){return this.draggableElClientRect}},{key:"dragEvent",get:function(){return this.snapshotDragEvent}}]),e}()).\u0275fac=function(e){return new(e||Is)(f.Ub(Gl))},Is.\u0275prov=f.Gb({token:Is,factory:Is.\u0275fac}),Is),ql=((Rs=function(){function e(t,n,i,r,a){var o=this;if(_(this,e),this.el=t,this.dragEventListener=n,this.draggableSnapshot=i,this.renderer=r,this.ngZone=a,this.subscriptions=[],this.leaveAnimConfig={value:0,params:{top:"0px",left:"0px"}},!this.dragEventListener||!this.draggableSnapshot)throw new Error("The clr-draggable-ghost component can only be used inside of a clrDraggable directive.");this.draggableGhostEl=this.el.nativeElement,this.renderer.addClass(this.draggableGhostEl,"draggable-ghost"),this.dragEventListener.ghostElement=this.draggableGhostEl,this.setDefaultGhostSize(this.draggableGhostEl);var s={top:this.draggableSnapshot.hasDraggableState?this.draggableSnapshot.dragEvent.dragPosition.pageY-this.draggableSnapshot.clientRect.top:0,left:this.draggableSnapshot.hasDraggableState?this.draggableSnapshot.dragEvent.dragPosition.pageX-this.draggableSnapshot.clientRect.left:0},l=!1;this.subscriptions.push(this.dragEventListener.dragMoved.subscribe(function(e){l||(o.draggableSnapshot.hasDraggableState?o.animateToOnLeave("".concat(o.draggableSnapshot.clientRect.top,"px"),"".concat(o.draggableSnapshot.clientRect.left,"px")):o.animateToOnLeave("".concat(o.dragEventListener.dragStartPosition.pageY,"px"),"".concat(o.dragEventListener.dragStartPosition.pageY,"px")),l=!0);var t=o.findTopLeftPosition(e.dragPosition,s);o.setPositionStyle(o.draggableGhostEl,t.pageX,t.pageY),o.dragEventListener.dropPointPosition=o.findDropPointPosition(t)}))}return y(e,[{key:"setDefaultGhostSize",value:function(e){this.draggableSnapshot.hasDraggableState&&this.setSizeStyle(e,this.draggableSnapshot.clientRect.width,this.draggableSnapshot.clientRect.height)}},{key:"animateToOnLeave",value:function(e,t){var n=this;this.ngZone.run(function(){n.leaveAnimConfig={value:0,params:{top:e,left:t}}})}},{key:"findTopLeftPosition",value:function(e,t){return{pageX:e.pageX-t.left,pageY:e.pageY-t.top}}},{key:"findDropPointPosition",value:function(e){return this.draggableSnapshot.hasDraggableState?{pageX:e.pageX+this.draggableSnapshot.clientRect.width/2,pageY:e.pageY+this.draggableSnapshot.clientRect.height/2}:e}},{key:"setSizeStyle",value:function(e,t,n){this.renderer.setStyle(e,"width","".concat(t,"px")),this.renderer.setStyle(e,"height","".concat(n,"px"))}},{key:"setPositionStyle",value:function(e,t,n){this.renderer.setStyle(e,"left","".concat(t,"px")),this.renderer.setStyle(e,"top","".concat(n,"px")),this.renderer.setStyle(e,"visibility","visible")}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})}}]),e}()).\u0275fac=function(e){return new(e||Rs)(f.Kb(f.l),f.Kb(Hl,8),f.Kb(Xl,8),f.Kb(f.E),f.Kb(f.A))},Rs.\u0275cmp=f.Eb({type:Rs,selectors:[["clr-draggable-ghost"]],hostVars:1,hostBindings:function(e,t){2&e&&f.vc("@leaveAnimation",t.leaveAnimConfig)},ngContentSelectors:Zt,decls:1,vars:0,template:function(e,t){1&e&&(f.ec(),f.dc(0))},encapsulation:2,data:{animation:[Object(Ae.k)("leaveAnimation",[Object(Ae.j)(":leave",[Object(Ae.i)({left:"*",top:"*"}),Object(Ae.e)("0.2s ease-in-out",Object(Ae.i)({top:"{{top}}",left:"{{left}}"}))])])]}}),Rs),Wl=((As=function(){function e(t,n,i){var r=this;if(_(this,e),this.template=t,this.container=n,this.dragEventListener=i,this.subscriptions=[],!this.dragEventListener||!this.container)throw new Error("The *clrIfDragged directive can only be used inside of a clrDraggable directive.");this.subscriptions.push(this.dragEventListener.dragStarted.subscribe(function(){r.container.createEmbeddedView(r.template)})),this.subscriptions.push(this.dragEventListener.dragEnded.subscribe(function(){r.container.clear()}))}return y(e,[{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})}}]),e}()).\u0275fac=function(e){return new(e||As)(f.Kb(f.L),f.Kb(f.P,12),f.Kb(Hl,8))},As.\u0275dir=f.Fb({type:As,selectors:[["","clrIfDragged",""]]}),As),Yl=((Os=function(){function e(t,n){_(this,e),this.dragEventListener=t,this.renderer=n}return y(e,[{key:"defaultHandleEl",get:function(){return this._defaultHandleEl},set:function(e){this._defaultHandleEl=e,this._customHandleEl||this.makeElementHandle(this._defaultHandleEl)}},{key:"makeElementHandle",value:function(e){this._defaultHandleEl&&this._defaultHandleEl!==e&&this.renderer.removeClass(this._defaultHandleEl,"drag-handle"),this.dragEventListener.attachDragListeners(e),this.renderer.addClass(e,"drag-handle")}},{key:"customHandleEl",get:function(){return this._customHandleEl}},{key:"registerCustomHandle",value:function(e){this.dragEventListener.detachDragListeners(),this._customHandleEl=e,this.makeElementHandle(this._customHandleEl)}},{key:"unregisterCustomHandle",value:function(){this.dragEventListener.detachDragListeners(),this.renderer.removeClass(this._customHandleEl,"drag-handle"),delete this._customHandleEl,this._defaultHandleEl&&this.makeElementHandle(this._defaultHandleEl)}}]),e}()).\u0275fac=function(e){return new(e||Os)(f.Ub(Hl),f.Ub(f.E))},Os.\u0275prov=f.Gb({token:Os,factory:Os.\u0275fac}),Os),Kl=((Ms=function(){function e(t){_(this,e),this.renderer=t}return y(e,[{key:"enter",value:function(){this.renderer.addClass(document.body,"in-drag")}},{key:"exit",value:function(){this.renderer.removeClass(document.body,"in-drag")}}]),e}()).\u0275fac=function(e){return new(e||Ms)(f.Ub(f.E))},Ms.\u0275prov=f.Gb({token:Ms,factory:Ms.\u0275fac}),Ms),Zl=((ks=function(){function e(t,n,i,r,a,o,s,l){_(this,e),this.el=t,this.dragEventListener=n,this.dragHandleRegistrar=i,this.viewContainerRef=r,this.cfr=a,this.injector=o,this.draggableSnapshot=s,this.globalDragMode=l,this.subscriptions=[],this.dragOn=!1,this.dragStartEmitter=new f.n,this.dragMoveEmitter=new f.n,this.dragEndEmitter=new f.n,this.draggableEl=this.el.nativeElement,this.componentFactory=this.cfr.resolveComponentFactory(ql)}return y(e,[{key:"dataTransfer",set:function(e){this.dragEventListener.dragDataTransfer=e}},{key:"group",set:function(e){this.dragEventListener.group=e}},{key:"dragStartDelay",set:function(e){"number"==typeof e?this.dragEventListener.dragStartDelay=e:"string"==typeof e&&(this.dragEventListener.dragStartDelay=parseInt(e,10)||0)}},{key:"createDefaultGhost",value:function(e){this.draggableSnapshot.capture(this.draggableEl,e),this.viewContainerRef.createComponent(this.componentFactory,0,this.injector,[[this.draggableEl.cloneNode(!0)]])}},{key:"destroyDefaultGhost",value:function(){this.viewContainerRef.clear(),this.draggableSnapshot.discard()}},{key:"ngAfterContentInit",value:function(){var e=this;this.dragHandleRegistrar.defaultHandleEl=this.draggableEl,this.subscriptions.push(this.dragEventListener.dragStarted.subscribe(function(t){e.globalDragMode.enter(),e.dragOn=!0,e.customGhost||e.createDefaultGhost(t),e.dragStartEmitter.emit(new Vl(t))})),this.subscriptions.push(this.dragEventListener.dragMoved.subscribe(function(t){e.dragMoveEmitter.emit(new Vl(t))})),this.subscriptions.push(this.dragEventListener.dragEnded.subscribe(function(t){e.globalDragMode.exit(),e.dragOn=!1,e.customGhost||e.destroyDefaultGhost(),e.dragEndEmitter.emit(new Vl(t))}))}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()}),this.dragEventListener.detachDragListeners()}}]),e}()).\u0275fac=function(e){return new(e||ks)(f.Kb(f.l),f.Kb(Hl),f.Kb(Yl),f.Kb(f.P),f.Kb(f.j),f.Kb(f.s),f.Kb(Xl),f.Kb(Kl))},ks.\u0275dir=f.Fb({type:ks,selectors:[["","clrDraggable",""]],contentQueries:function(e,t,n){var i;1&e&&f.Db(n,Wl,1),2&e&&f.kc(i=f.Yb())&&(t.customGhost=i.first)},hostVars:4,hostBindings:function(e,t){2&e&&f.Cb("draggable",!0)("being-dragged",t.dragOn)},inputs:{dataTransfer:["clrDraggable","dataTransfer"],group:["clrGroup","group"],dragStartDelay:["clrDragStartDelay","dragStartDelay"]},outputs:{dragStartEmitter:"clrDragStart",dragMoveEmitter:"clrDragMove",dragEndEmitter:"clrDragEnd"},features:[f.yb([Hl,Yl,Xl,Kl,Gl])]}),ks),Jl=((Cs=function e(){_(this,e)}).\u0275fac=function(e){return new(e||Cs)},Cs.\u0275mod=f.Ib({type:Cs}),Cs.\u0275inj=f.Hb({imports:[[ge.c]]}),Cs),Ql=((Es=function(){function e(t,n){_(this,e),this.element=t,this.domAdapter=n,this.startHeight=0}return y(e,[{key:"expandAnimation",get:function(){return{value:this.clrExpandTrigger,params:{startHeight:this.startHeight}}}},{key:"animationDone",value:function(){this.updateStartHeight()}},{key:"updateStartHeight",value:function(){this.startHeight=this.domAdapter.computedHeight(this.element.nativeElement)||0}}]),e}()).\u0275fac=function(e){return new(e||Es)(f.Kb(f.l),f.Kb(Gl))},Es.\u0275cmp=f.Eb({type:Es,selectors:[["clr-expandable-animation"]],hostVars:1,hostBindings:function(e,t){1&e&&f.uc("@expandAnimation.done",function(){return t.animationDone()}),2&e&&f.vc("@expandAnimation",t.expandAnimation)},inputs:{clrExpandTrigger:"clrExpandTrigger"},features:[f.yb([Gl])],ngContentSelectors:Zt,decls:1,vars:0,template:function(e,t){1&e&&(f.ec(),f.dc(0))},styles:["[_nghost-%COMP%] {\n        display: block;\n      }"],data:{animation:[Object(Ae.k)("expandAnimation",[Object(Ae.j)("true <=> false",[Object(Ae.i)({height:"{{startHeight}}px",overflow:"hidden"}),Object(Ae.e)("0.2s ease-in-out",Object(Ae.i)({height:"*"}))])])]}}),Es),$l=((xs=function e(){_(this,e)}).\u0275fac=function(e){return new(e||xs)},xs.\u0275mod=f.Ib({type:xs}),xs.\u0275inj=f.Hb({imports:[[ge.c]]}),xs),eu={provide:new f.r("FOCUS_ON_VIEW_INIT"),useValue:!0},tu=((Ds=function e(){_(this,e)}).\u0275fac=function(e){return new(e||Ds)},Ds.\u0275mod=f.Ib({type:Ds}),Ds.\u0275inj=f.Hb({providers:[eu],imports:[[ge.c]]}),Ds),nu=function e(){_(this,e)},iu=((Fs=function(){function e(){_(this,e),this._change=new ye.a,this.nbChanges=0}return y(e,[{key:"change",get:function(){return this._change.asObservable()}},{key:"changeStart",value:function(){this.nbChanges++}},{key:"changeDone",value:function(){0==--this.nbChanges&&this._change.next()}}]),e}()).\u0275fac=function(e){return new(e||Fs)},Fs.\u0275prov=f.Gb({token:Fs,factory:Fs.\u0275fac}),Fs),ru=((js=function(){function e(t){_(this,e),this.stateDebouncer=t,this.preventEmit=!1,this.activated=!1,this._size=0,this._change=new ye.a,this._sizeChange=new ye.a,this._current=1}return y(e,[{key:"size",get:function(){return this._size},set:function(e){var t=this._size;e!==t&&(this.preventEmit||this.stateDebouncer.changeStart(),this._size=e,this._current=0===e?1:Math.floor(t/e*(this._current-1))+1,this.preventEmit||(this._change.next(this._current),this._sizeChange.next(this._size),this.stateDebouncer.changeDone())),this.preventEmit=!1}},{key:"totalItems",get:function(){return this._totalItems||0},set:function(e){this._totalItems=e,this.current>this.last&&(this.current=this.last)}},{key:"last",get:function(){return this._last?this._last:this.size>0&&this.totalItems?Math.ceil(this.totalItems/this.size):1},set:function(e){this._last=e}},{key:"change",get:function(){return this._change.asObservable()}},{key:"sizeChange",get:function(){return this._sizeChange.asObservable()}},{key:"current",get:function(){return this._current},set:function(e){e!==this._current&&(this.stateDebouncer.changeStart(),this._current=e,this._change.next(e),this.stateDebouncer.changeDone())}},{key:"previous",value:function(){this.current>1&&this.current--}},{key:"next",value:function(){this.current<this.last&&this.current++}},{key:"firstItem",get:function(){return 0===this._totalItems?-1:0===this.size?0:(this.current-1)*this.size}},{key:"lastItem",get:function(){if(0===this._totalItems)return-1;if(0===this.size)return this.totalItems-1;var e=this.current*this.size-1;return this.totalItems&&(e=Math.min(e,this.totalItems-1)),e}},{key:"resetPageSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.preventEmit=e,this.size=0}}]),e}()).\u0275fac=function(e){return new(e||js)(f.Ub(iu))},js.\u0275prov=f.Gb({token:js,factory:js.\u0275fac}),js),au=((Ns=function(){function e(t,n){_(this,e),this._page=t,this.stateDebouncer=n,this._change=new ye.a,this._all=[]}return y(e,[{key:"change",get:function(){return this._change.asObservable()}},{key:"hasActiveFilters",value:function(){var e,t=h(this._all);try{for(t.s();!(e=t.n()).done;){var n=e.value.filter;if(n&&n.isActive())return!0}}catch(i){t.e(i)}finally{t.f()}return!1}},{key:"getActiveFilters",value:function(){var e,t=[],n=h(this._all);try{for(n.s();!(e=n.n()).done;){var i=e.value.filter;i&&i.isActive()&&t.push(i)}}catch(r){n.e(r)}finally{n.f()}return t}},{key:"add",value:function(e){var t=this,n=e.changes.subscribe(function(){return t.resetPageAndEmitFilterChange([e])}),i=!1,r=new ou(e,function(){if(!i){n.unsubscribe();var r=t._all.findIndex(function(t){return t.filter===e});r>=0&&t._all.splice(r,1),e.isActive()&&t.resetPageAndEmitFilterChange([]),i=!0}});return this._all.push(r),e.isActive()&&this.resetPageAndEmitFilterChange([e]),r}},{key:"accepts",value:function(e){var t,n=h(this._all);try{for(n.s();!(t=n.n()).done;){var i=t.value.filter;if(i&&i.isActive()&&!i.accepts(e))return!1}}catch(r){n.e(r)}finally{n.f()}return!0}},{key:"resetPageAndEmitFilterChange",value:function(e){this.stateDebouncer.changeStart(),this._page.current=1,this._change.next(e),this.stateDebouncer.changeDone()}}]),e}()).\u0275fac=function(e){return new(e||Ns)(f.Ub(ru),f.Ub(iu))},Ns.\u0275prov=f.Gb({token:Ns,factory:Ns.\u0275fac}),Ns),ou=function e(t,n){_(this,e),this.filter=t,this.unregister=n},su=((Gs=function(){function e(t){_(this,e),this.filters=t}return y(e,[{key:"filter",get:function(){return this.registered&&this.registered.filter}},{key:"setFilter",value:function(e){this.deleteFilter(),e instanceof ou?this.registered=e:e&&(this.registered=this.filters.add(e))}},{key:"deleteFilter",value:function(){this.registered&&(this.registered.unregister(),delete this.registered)}},{key:"ngOnDestroy",value:function(){this.deleteFilter()}}]),e}()).\u0275fac=function(e){return new(e||Gs)(f.Kb(au))},Gs.\u0275dir=f.Fb({type:Gs}),Gs),lu=((Us=function(e){b(n,e);var t=T(n);function n(e,i,r,a,o){var s;return _(this,n),(s=t.call(this,e)).commonStrings=i,s.smartToggleService=r,s.platformId=a,s.popoverId=o,s.subs=[],s.ariaExpanded=!1,s.smartPosition={axis:_a.VERTICAL,side:La.AFTER,anchor:Lr.END,content:Lr.END},s._open=!1,s.openChange=new f.n(!1),s.subs.push(r.openChange.subscribe(function(e){s.open=e,s.ariaExpanded=e})),s}return y(n,[{key:"open",get:function(){return this._open},set:function(e){this.open!==(e=!!e)&&(this.smartToggleService.open=e,this.openChange.emit(e),!e&&Object(ge.A)(this.platformId)&&this.anchor.nativeElement.focus(),this._open=e)}},{key:"customFilter",set:function(e){this.setFilter(e)}},{key:"active",get:function(){return!!this.filter&&this.filter.isActive()}},{key:"ngOnDestroy",value:function(){v(C(n.prototype),"ngOnDestroy",this).call(this),this.subs.forEach(function(e){return e.unsubscribe()})}}]),n}(su)).\u0275fac=function(e){return new(e||Us)(f.Kb(au),f.Kb(Oa),f.Kb(Ar),f.Kb(f.C),f.Kb(Ra))},Us.\u0275cmp=f.Eb({type:Us,selectors:[["clr-dg-filter"]],viewQuery:function(e,t){var n;1&e&&f.Dc(jn,1,f.l),2&e&&f.kc(n=f.Yb())&&(t.anchor=n.first)},inputs:{open:["clrDgFilterOpen","open"],customFilter:["clrDgFilter","customFilter"]},outputs:{openChange:"clrDgFilterOpenChange"},features:[f.yb([{provide:nu,useExisting:Us},Ia]),f.wb],ngContentSelectors:Zt,decls:4,vars:13,consts:[["type","button","clrPopoverAnchor","","clrPopoverOpenCloseButton","",1,"datagrid-filter-toggle"],["anchor",""],["solid",""],["class","datagrid-filter","clrFocusTrap","",3,"id",4,"clrPopoverContent","clrPopoverContentAt","clrPopoverContentOutsideClickToClose","clrPopoverContentScrollToClose"],["clrFocusTrap","",1,"datagrid-filter",3,"id"],[1,"datagrid-filter-close-wrapper"],["type","button","clrPopoverCloseButton","",1,"close"],["shape","window-close"]],template:function(e,t){1&e&&(f.ec(),f.Qb(0,"button",0,1),f.Lb(2,"cds-icon",2),f.Pb(),f.wc(3,Fn,5,2,"div",3)),2&e&&(f.Cb("datagrid-filter-open",t.open)("datagrid-filtered",t.active),f.Ab("aria-label",t.commonStrings.keys.datagridFilterAriaLabel)("aria-expanded",t.ariaExpanded)("aria-controls",t.popoverId),f.zb(2),f.Ab("status",t.active?"info":null)("shape",t.active?"filter-grid-circle":"filter-grid"),f.zb(1),f.fc("clrPopoverContent",t.open)("clrPopoverContentAt",t.smartPosition)("clrPopoverContentOutsideClickToClose",!0)("clrPopoverContentScrollToClose",!0))},directives:[xa,Ta,wr,Sa,xo,wa],encapsulation:2}),Us),uu=function(){function e(t){_(this,e),this.prop=t,t.indexOf(".")>=0&&(this.splitProp=t.split("."))}return y(e,[{key:"getPropValue",value:function(e){if(this.splitProp){var t,n=e,i=h(this.splitProp);try{for(i.s();!(t=i.n()).done;){var r=t.value;if(null==n||void 0===n[r])return;n=n[r]}}catch(a){i.e(a)}finally{i.f()}return n}return e[this.prop]}}]),e}(),cu=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];_(this,e),this.prop=t,this.exact=n,this.nestedProp=new uu(t)}return y(e,[{key:"accepts",value:function(e,t){var n=this.nestedProp.getPropValue(e);return void 0!==n&&(this.exact?(""+n).toLowerCase()===t:(""+n).toLowerCase().indexOf(t)>=0)}}]),e}(),hu=function(){function e(t){_(this,e),this.filterFn=t,this._changes=new ye.a,this._lowerCaseValue="",this._rawValue=""}return y(e,[{key:"changes",get:function(){return this._changes.asObservable()}},{key:"lowerCaseValue",get:function(){return this._lowerCaseValue}},{key:"value",get:function(){return this._rawValue},set:function(e){e||(e=""),e!==this._rawValue&&(this._rawValue=e,this._lowerCaseValue=e.toLowerCase().trim(),this._changes.next(e))}},{key:"isActive",value:function(){return!!this.value}},{key:"accepts",value:function(e){return this.filterFn.accepts(e,this.lowerCaseValue)}},{key:"state",get:function(){return this.filterFn instanceof cu?{property:this.filterFn.prop,value:this.value}:this}},{key:"equals",value:function(t){return t instanceof e&&(t.filterFn instanceof cu?this.filterFn instanceof cu&&t.filterFn.prop===this.filterFn.prop&&t.value===this.value:t===this)}}]),e}(),du=((Vs=function(e){b(n,e);var t=T(n);function n(e,i,r,a){var o;return _(this,n),(o=t.call(this,e)).domAdapter=i,o.commonStrings=r,o.smartToggleService=a,o.subs=[],o.open=!1,o.filterValueChange=new f.n,o}return y(n,[{key:"customStringFilter",set:function(e){this.setFilter(e instanceof ou?e:new hu(e)),this.initFilterValue&&(this.value=this.initFilterValue,delete this.initFilterValue)}},{key:"ngAfterViewInit",value:function(){var e=this;this.subs.push(this.smartToggleService.openChange.subscribe(function(t){e.open=t,setTimeout(function(){e.domAdapter.focus(e.input.nativeElement)})}))}},{key:"ngOnDestroy",value:function(){v(C(n.prototype),"ngOnDestroy",this).call(this),this.subs.forEach(function(e){return e.unsubscribe()})}},{key:"value",get:function(){return this.filter.value},set:function(e){this.filter&&"string"==typeof e?(e||(e=""),e!==this.filter.value&&(this.filter.value=e,this.filterValueChange.emit(e))):this.initFilterValue=e}}]),n}(su)).\u0275fac=function(e){return new(e||Vs)(f.Kb(au),f.Kb(Gl),f.Kb(Oa),f.Kb(Ar))},Vs.\u0275cmp=f.Eb({type:Vs,selectors:[["clr-dg-string-filter"]],viewQuery:function(e,t){var n;1&e&&(f.Dc(Un,1),f.Dc(lu,1)),2&e&&(f.kc(n=f.Yb())&&(t.input=n.first),f.kc(n=f.Yb())&&(t.filterContainer=n.first))},inputs:{customStringFilter:["clrDgStringFilter","customStringFilter"],value:["clrFilterValue","value"]},outputs:{filterValueChange:"clrFilterValueChange"},features:[f.yb([{provide:nu,useExisting:Vs}]),f.wb],decls:3,vars:4,consts:[[3,"clrDgFilter","clrDgFilterOpen","clrDgFilterOpenChange"],["type","text","name","search",1,"clr-input",3,"ngModel","ngModelChange"],["input",""]],template:function(e,t){1&e&&(f.Qb(0,"clr-dg-filter",0),f.Xb("clrDgFilterOpenChange",function(e){return t.open=e}),f.Qb(1,"input",1,2),f.Xb("ngModelChange",function(e){return t.value=e}),f.Pb(),f.Pb()),2&e&&(f.fc("clrDgFilter",t.registered)("clrDgFilterOpen",t.open),f.zb(1),f.fc("ngModel",t.value),f.Ab("aria-label",t.commonStrings.keys.filterItems))},directives:[lu,Re.b,Re.j,Re.m],encapsulation:2}),Vs),fu=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];_(this,e),this.prop=t,this.exact=n,this.nestedProp=new uu(t)}return y(e,[{key:"accepts",value:function(e,t,n){var i=this.nestedProp.getPropValue(e);return!(null!==t&&i<t||null!==n&&i>n)}}]),e}(),pu=function(){function e(t){_(this,e),this.filterFn=t,this._changes=new ye.a,this._low=null,this._high=null}return y(e,[{key:"changes",get:function(){return this._changes.asObservable()}},{key:"value",get:function(){return[this._low,this._high]},set:function(e){var t=e[0],n=e[1];t===this._low&&n===this._high||(this._low=t,this._high=n,this._changes.next([this._low,this._high]))}},{key:"low",get:function(){return this._low},set:function(e){e!==this._low&&(this._low=e,this._changes.next([this._low,this._high]))}},{key:"high",get:function(){return this._high},set:function(e){e!==this._high&&(this._high=e,this._changes.next([this._low,this._high]))}},{key:"isActive",value:function(){return null!==this._low||null!==this.high}},{key:"accepts",value:function(e){return this.filterFn.accepts(e,this._low,this._high)}},{key:"state",get:function(){return this.filterFn instanceof fu?{property:this.filterFn.prop,low:this._low,high:this._high}:this}},{key:"equals",value:function(t){return t instanceof e&&(t.filterFn instanceof fu?this.filterFn instanceof fu&&t.filterFn.prop===this.filterFn.prop&&t.low===this._low&&t.high===this._high:t===this)}}]),e}(),mu=((qs=function(e){b(n,e);var t=T(n);function n(e,i,r,a){var o;return _(this,n),(o=t.call(this,e)).domAdapter=i,o.commonStrings=r,o.popoverToggleService=a,o.subscriptions=[],o.open=!1,o.filterValueChange=new f.n,o}return y(n,[{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(e){e.unsubscribe()})}},{key:"customNumericFilter",set:function(e){this.setFilter(e instanceof ou?e:new pu(e)),this.initFilterValues&&(this.value=this.initFilterValues,delete this.initFilterValues)}},{key:"ngAfterViewInit",value:function(){var e=this;this.subscriptions.push(this.popoverToggleService.openChange.subscribe(function(t){e.open=t,setTimeout(function(){e.domAdapter.focus(e.input.nativeElement)})}))}},{key:"value",get:function(){return[this.filter.low,this.filter.high]},set:function(e){this.filter&&Array.isArray(e)?!e||e[0]===this.filter.low&&e[1]===this.filter.high||(this.filter.low="number"==typeof e[0]?e[0]:null,this.filter.high="number"==typeof e[1]?e[1]:null,this.filterValueChange.emit(e)):this.initFilterValues=e}},{key:"low",get:function(){return"number"==typeof this.filter.low&&isFinite(this.filter.low)?this.filter.low:null},set:function(e){"number"==typeof e&&e!==this.filter.low?(this.filter.low=e,this.filterValueChange.emit([this.filter.low,this.filter.high])):"number"!=typeof e&&(this.filter.low=null,this.filterValueChange.emit([this.filter.low,this.filter.high]))}},{key:"high",get:function(){return"number"==typeof this.filter.high&&isFinite(this.filter.high)?this.filter.high:null},set:function(e){"number"==typeof e&&e!==this.filter.high?(this.filter.high=e,this.filterValueChange.emit([this.filter.low,this.filter.high])):"number"!=typeof e&&(this.filter.high=null,this.filterValueChange.emit([this.filter.low,this.filter.high]))}}]),n}(su)).\u0275fac=function(e){return new(e||qs)(f.Kb(au),f.Kb(Gl),f.Kb(Oa),f.Kb(Ar))},qs.\u0275cmp=f.Eb({type:qs,selectors:[["clr-dg-numeric-filter"]],viewQuery:function(e,t){var n;1&e&&(f.Dc(Gn,1),f.Dc(lu,1)),2&e&&(f.kc(n=f.Yb())&&(t.input=n.first),f.kc(n=f.Yb())&&(t.filterContainer=n.first))},inputs:{customNumericFilter:["clrDgNumericFilter","customNumericFilter"],value:["clrFilterValue","value"]},outputs:{filterValueChange:"clrFilterValueChange"},features:[f.yb([{provide:nu,useExisting:qs}]),f.wb],decls:6,vars:8,consts:[[3,"clrDgFilter","clrDgFilterOpen","clrDgFilterOpenChange"],["type","number","name","low",1,"datagrid-numeric-filter-input",3,"ngModel","placeholder","ngModelChange"],["input_low",""],[1,"datagrid-filter-input-spacer"],["type","number","name","high",1,"datagrid-numeric-filter-input",3,"ngModel","placeholder","ngModelChange"],["input_high",""]],template:function(e,t){1&e&&(f.Qb(0,"clr-dg-filter",0),f.Xb("clrDgFilterOpenChange",function(e){return t.open=e}),f.Qb(1,"input",1,2),f.Xb("ngModelChange",function(e){return t.low=e}),f.Pb(),f.Lb(3,"span",3),f.Qb(4,"input",4,5),f.Xb("ngModelChange",function(e){return t.high=e}),f.Pb(),f.Pb()),2&e&&(f.fc("clrDgFilter",t.registered)("clrDgFilterOpen",t.open),f.zb(1),f.fc("ngModel",t.low)("placeholder",t.commonStrings.keys.minValue),f.Ab("aria-label",t.commonStrings.keys.minValue),f.zb(3),f.fc("ngModel",t.high)("placeholder",t.commonStrings.keys.maxValue),f.Ab("aria-label",t.commonStrings.keys.maxValue))},directives:[lu,Re.p,Re.b,Re.j,Re.m],encapsulation:2}),qs),vu=((Xs=function(){function e(){_(this,e),this._chocolate=new ye.a,this.disableChocolateCheck=!1}return y(e,[{key:"chocolate",get:function(){return this._chocolate.asObservable()}},{key:"ngAfterViewChecked",value:function(){this.disableChocolateCheck||this._chocolate.next()}}]),e}()).\u0275fac=function(e){return new(e||Xs)},Xs.\u0275dir=f.Fb({type:Xs}),Xs),gu=((Hs=function(){function e(t,n){var i=this;_(this,e),this.subscription=n.chocolate.subscribe(function(){i.latestFlavor!==i.flavor&&(n.disableChocolateCheck=!0,t.detectChanges(),n.disableChocolateCheck=!1)})}return y(e,[{key:"ngAfterContentChecked",value:function(){this.latestFlavor=this.flavor}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||Hs)(f.Kb(f.h),f.Kb(vu))},Hs.\u0275dir=f.Fb({type:Hs}),Hs),yu=((zs=function(){function e(){_(this,e),this.actionableCount=0}return y(e,[{key:"register",value:function(){this.actionableCount++}},{key:"unregister",value:function(){this.actionableCount--}},{key:"hasActionableRow",get:function(){return this.actionableCount>0}}]),e}()).\u0275fac=function(e){return new(e||zs)},zs.\u0275prov=f.Gb({token:zs,factory:zs.\u0275fac}),zs),_u=((Bs=function(e){b(n,e);var t=T(n);function n(){return _(this,n),t.apply(this,arguments)}return n}(vu)).\u0275fac=function(e){return bu(e||Bs)},Bs.\u0275dir=f.Fb({type:Bs,selectors:[["clr-datagrid"]],features:[f.wb]}),Bs),bu=f.Sb(_u),Su=((Zs=function(e){b(n,e);var t=T(n);function n(e,i,r){var a;if(_(this,n),!i)throw new Error("clr-dg-row should only be used inside of a clr-datagrid");return(a=t.call(this,e,i)).rowActions=r,a}return y(n,[{key:"flavor",get:function(){return this.rowActions.hasActionableRow}}]),n}(gu)).\u0275fac=function(e){return new(e||Zs)(f.Kb(f.h),f.Kb(_u,8),f.Kb(yu))},Zs.\u0275dir=f.Fb({type:Zs,selectors:[["clr-datagrid"],["clr-dg-row"]],features:[f.wb]}),Zs),Tu=((Ks=function(){function e(){_(this,e),this.toggleState=!1,this._state=new be.a(this.toggleState),this._enabled=!1}return y(e,[{key:"enabled",get:function(){return this._enabled},set:function(e){this._enabled=e}},{key:"stateChange",get:function(){return this._state.asObservable()}},{key:"close",value:function(){this.toggleState=!1,this._state.next(this.toggleState),this.button&&(this.button.focus(),this.button=null)}},{key:"open",value:function(e,t){this.cache=e,this.button=t,this.toggleState=!0,this._state.next(this.toggleState)}},{key:"toggle",value:function(e,t){this.isRowOpen(e)||!e?this.close():this.open(e,t)}},{key:"state",get:function(){return this.cache}},{key:"isRowOpen",value:function(e){return!(!this.toggleState||this.cache!==e)}},{key:"isOpen",get:function(){return!0===this.toggleState}}]),e}()).\u0275fac=function(e){return new(e||Ks)},Ks.\u0275prov=f.Gb({token:Ks,factory:Ks.\u0275fac}),Ks),wu=((Ys=function(){function e(t){_(this,e),this.detailService=t,this.expandableCount=0}return y(e,[{key:"register",value:function(){this.expandableCount++}},{key:"unregister",value:function(){this.expandableCount--}},{key:"hasExpandableRow",get:function(){return!this.detailService.enabled&&this.expandableCount>0}}]),e}()).\u0275fac=function(e){return new(e||Ys)(f.Ub(Tu))},Ys.\u0275prov=f.Gb({token:Ys,factory:Ys.\u0275fac}),Ys),xu=((Ws=function(e){b(n,e);var t=T(n);function n(e,i,r){var a;if(_(this,n),!i)throw new Error("clr-dg-row should only be used inside of a clr-datagrid");return(a=t.call(this,e,i)).expandableCount=r,a}return y(n,[{key:"flavor",get:function(){return this.expandableCount.hasExpandableRow}}]),n}(gu)).\u0275fac=function(e){return new(e||Ws)(f.Kb(f.h),f.Kb(_u,8),f.Kb(wu))},Ws.\u0275dir=f.Fb({type:Ws,selectors:[["clr-datagrid"],["clr-dg-row"]],features:[f.wb]}),Ws),Eu=function(){function e(t){_(this,e),this.prop=t,this.nestedProp=new uu(t)}return y(e,[{key:"compare",value:function(e,t){var n=this.nestedProp.getPropValue(e),i=this.nestedProp.getPropValue(t);return"string"==typeof n&&(n=n.toLowerCase()),"string"==typeof i&&(i=i.toLowerCase()),null==n?null==i?0:1:null==i||n<i?-1:n>i?1:0}}]),e}(),Cu=function(e){return e[e.UNSORTED=0]="UNSORTED",e[e.ASC=1]="ASC",e[e.DESC=-1]="DESC",e}({}),ku=((ll=function(){function e(t){_(this,e),this.stateDebouncer=t,this._reverse=!1,this._change=new ye.a}return y(e,[{key:"comparator",get:function(){return this._comparator},set:function(e){this.stateDebouncer.changeStart(),this._comparator=e,this.emitChange(),this.stateDebouncer.changeDone()}},{key:"reverse",get:function(){return this._reverse},set:function(e){this.stateDebouncer.changeStart(),this._reverse=e,this.emitChange(),this.stateDebouncer.changeDone()}},{key:"emitChange",value:function(){this._change.next(this)}},{key:"change",get:function(){return this._change.asObservable()}},{key:"toggle",value:function(e,t){this.stateDebouncer.changeStart(),this.comparator===e?this._reverse=void 0!==t&&t||!this._reverse:(this._comparator=e,this._reverse=void 0!==t&&t),this.emitChange(),this.stateDebouncer.changeDone()}},{key:"clear",value:function(){this.comparator=null}},{key:"compare",value:function(e,t){return(this.reverse?-1:1)*this.comparator.compare(e,t)}}]),e}()).\u0275fac=function(e){return new(e||ll)(f.Ub(iu))},ll.\u0275prov=f.Gb({token:ll,factory:ll.\u0275fac}),ll),Mu=((sl=function(){function e(){_(this,e),this._dynamic=!1}return y(e,[{key:"ngAfterViewInit",value:function(){this.columnView=this.templateRef.createEmbeddedView(null)}},{key:"ngOnDestroy",value:function(){this.columnView.destroy()}}]),e}()).\u0275fac=function(e){return new(e||sl)},sl.\u0275cmp=f.Eb({type:sl,selectors:[["dg-wrapped-column"]],viewQuery:function(e,t){var n;1&e&&f.Dc(Vn,1),2&e&&f.kc(n=f.Yb())&&(t.templateRef=n.first)},ngContentSelectors:Zt,decls:2,vars:0,consts:[["columnPortal",""]],template:function(e,t){1&e&&(f.ec(),f.wc(0,Bn,1,0,"ng-template",null,0,f.xc))},encapsulation:2}),sl),Ou=((ol=function(e){b(n,e);var t=T(n);function n(e,i,r,a,o,s){var l;return _(this,n),(l=t.call(this,i))._sort=e,l.vcr=r,l.detailService=a,l.changeDetectorRef=o,l.commonStrings=s,l.showSeparator=!0,l.subscriptions=[],l._colType="string",l._sorted=!1,l.sortedChange=new f.n,l._sortOrder=Cu.UNSORTED,l.sortOrderChange=new f.n,l.customFilter=!1,l.filterValueChange=new f.n,l.subscriptions.push(l.listenForSortingChanges()),l.subscriptions.push(l.listenForDetailPaneChanges()),l}return y(n,[{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})}},{key:"listenForDetailPaneChanges",value:function(){var e=this;return this.detailService.stateChange.subscribe(function(t){e.showSeparator!==!t&&(e.showSeparator=!t,e.changeDetectorRef.markForCheck())})}},{key:"listenForSortingChanges",value:function(){var e=this;return this._sort.change.subscribe(function(t){e.changeDetectorRef.markForCheck(),e.sortOrder!==Cu.UNSORTED&&t.comparator!==e._sortBy&&(e._sortOrder=Cu.UNSORTED,e.sortOrderChange.emit(e._sortOrder),e.sortIcon=null,e._sortDirection=null),e.sorted&&t.comparator!==e._sortBy&&(e._sorted=!1,e.sortedChange.emit(!1))})}},{key:"colType",get:function(){return this._colType},set:function(e){this._colType=e}},{key:"field",get:function(){return this._field},set:function(e){"string"==typeof e&&(this._field=e,this._sortBy||(this._sortBy=new Eu(e)))}},{key:"setupDefaultFilter",value:function(e,t){"number"===t?this.setFilter(new pu(new fu(e))):"string"===t&&this.setFilter(new hu(new cu(e))),this.filter&&this.initFilterValue&&(this.updateFilterValue=this.initFilterValue,delete this.initFilterValue)}},{key:"ngOnChanges",value:function(e){e.colType&&e.colType.currentValue&&e.colType.currentValue!==e.colType.previousValue&&!this.customFilter&&!this.filter&&this.colType&&this.field&&this.setupDefaultFilter(this.field,this.colType),e.field&&e.field.currentValue&&e.field.currentValue!==e.field.previousValue&&!this.customFilter&&this.colType&&this.setupDefaultFilter(this.field,this.colType)}},{key:"sortBy",get:function(){return this._sortBy},set:function(e){"string"==typeof e?this._sortBy=new Eu(e):e?this._sortBy=e:this.field?this._sortBy=new Eu(this.field):delete this._sortBy}},{key:"sortable",get:function(){return!!this._sortBy}},{key:"sorted",get:function(){return this._sorted},set:function(e){!e&&this.sorted?(this._sorted=!1,this._sort.clear()):e&&!this.sorted&&this.sort()}},{key:"sortOrder",get:function(){return this._sortOrder},set:function(e){if(void 0!==e&&this._sortOrder!==e)switch(e){default:case Cu.UNSORTED:this._sort.clear();break;case Cu.ASC:this.sort(!1);break;case Cu.DESC:this.sort(!0)}}},{key:"ariaSort",get:function(){switch(this._sortOrder){default:case Cu.UNSORTED:return"none";case Cu.ASC:return"ascending";case Cu.DESC:return"descending"}}},{key:"sortDirection",get:function(){return this._sortDirection}},{key:"sort",value:function(e){this.sortable&&(this._sort.toggle(this._sortBy,e),this._sortOrder=this._sort.reverse?Cu.DESC:Cu.ASC,this._sortDirection=this._sortOrder===Cu.DESC?"down":"up",this.sortIcon=this._sortOrder===Cu.DESC?"arrow down":"arrow",this.sortOrderChange.emit(this._sortOrder),this._sorted=!0,this.sortedChange.emit(!0))}},{key:"projectedFilter",set:function(e){e&&(this.deleteFilter(),this.customFilter=!0)}},{key:"updateFilterValue",set:function(e){this.filter?this.filter instanceof hu?(e&&"string"==typeof e||(e=""),e!==this.filter.value&&(this.filter.value=e)):this.filter instanceof pu&&(e&&e instanceof Array||(e=[null,null]),2!==e.length||e[0]===this.filter.value[0]&&e[1]===this.filter.value[1]||(this.filter.value=e)):this.initFilterValue=e}},{key:"filterValue",get:function(){return this.filter instanceof hu||this.filter instanceof pu?this.filter.value:null},set:function(e){(this.filter instanceof hu||this.filter instanceof pu)&&(this.updateFilterValue=e,this.filterValueChange.emit(this.filter.value))}},{key:"ngOnInit",value:function(){this.wrappedInjector=new Ua(Mu,this.vcr)}},{key:"_view",get:function(){return this.wrappedInjector.get(Mu,this.vcr).columnView}}]),n}(su)).\u0275fac=function(e){return new(e||ol)(f.Kb(ku),f.Kb(au),f.Kb(f.P),f.Kb(Tu),f.Kb(f.h),f.Kb(Oa))},ol.\u0275cmp=f.Eb({type:ol,selectors:[["clr-dg-column"]],contentQueries:function(e,t,n){var i;1&e&&f.Db(n,nu,1),2&e&&f.kc(i=f.Yb())&&(t.projectedFilter=i.first)},hostAttrs:["role","columnheader"],hostVars:3,hostBindings:function(e,t){2&e&&(f.Ab("aria-sort",t.ariaSort),f.Cb("datagrid-column",!0))},inputs:{colType:["clrDgColType","colType"],field:["clrDgField","field"],updateFilterValue:["clrFilterValue","updateFilterValue"],sortBy:["clrDgSortBy","sortBy"],sorted:["clrDgSorted","sorted"],sortOrder:["clrDgSortOrder","sortOrder"]},outputs:{sortedChange:"clrDgSortedChange",sortOrderChange:"clrDgSortOrderChange",filterValueChange:"clrFilterValueChange"},features:[f.yb([ba,Rr,Ar]),f.wb,f.xb],ngContentSelectors:$n,decls:9,vars:5,consts:[[1,"datagrid-column-flex"],["class","datagrid-column-title","type","button",3,"click",4,"ngIf"],[3,"clrDgStringFilter","clrFilterValue","clrFilterValueChange",4,"ngIf"],[3,"clrDgNumericFilter","clrFilterValue","clrFilterValueChange",4,"ngIf"],["columnTitle",""],["class","datagrid-column-title",4,"ngIf"],[4,"ngIf"],["type","button",1,"datagrid-column-title",3,"click"],[4,"ngTemplateOutlet"],["shape","arrow","aria-hidden","true","class","sort-icon",4,"ngIf"],["shape","arrow","aria-hidden","true",1,"sort-icon"],[3,"clrDgStringFilter","clrFilterValue","clrFilterValueChange"],[3,"clrDgNumericFilter","clrFilterValue","clrFilterValueChange"],[1,"datagrid-column-title"]],template:function(e,t){1&e&&(f.ec(Qn),f.Qb(0,"div",0),f.wc(1,Xn,3,2,"button",1),f.dc(2),f.wc(3,qn,1,2,"clr-dg-string-filter",2),f.wc(4,Wn,1,2,"clr-dg-numeric-filter",3),f.wc(5,Yn,1,0,"ng-template",null,4,f.xc),f.wc(7,Zn,2,1,"span",5),f.wc(8,Jn,1,0,"clr-dg-column-separator",6),f.Pb()),2&e&&(f.zb(1),f.fc("ngIf",t.sortable),f.zb(2),f.fc("ngIf",t.field&&!t.customFilter&&"string"==t.colType),f.zb(1),f.fc("ngIf",t.field&&!t.customFilter&&"number"==t.colType),f.zb(3),f.fc("ngIf",!t.sortable),f.zb(1),f.fc("ngIf",t.showSeparator))},directives:function(){return[ge.n,ge.r,wr,du,mu,rc]},encapsulation:2,changeDetection:0}),ol),Au=((al=function(){function e(t,n,i){_(this,e),this._filters=t,this._sort=n,this._page=i,this.loading=!1,this.trackBy=function(e,t){return t},this._smart=!1,this._displayed=[],this._change=new ye.a,this._allChanges=new ye.a}return y(e,[{key:"destroy",value:function(){this._filtersSub&&this._filtersSub.unsubscribe(),this._sortSub&&this._sortSub.unsubscribe(),this._pageSub&&this._pageSub.unsubscribe()}},{key:"smart",get:function(){return this._smart}},{key:"smartenUp",value:function(){var e=this;this._smart=!0,this._filtersSub=this._filters.change.subscribe(function(){return e._filterItems()}),this._sortSub=this._sort.change.subscribe(function(){e._sort.comparator?e._sortItems():e._filterItems()}),this._pageSub=this._page.change.subscribe(function(){return e._changePage()})}},{key:"all",get:function(){return this._all},set:function(e){this._all=e,this.emitAllChanges(e),this.smart?this._filterItems():(this._displayed=e,this.emitChange())}},{key:"refresh",value:function(){this.smart&&this._filterItems()}},{key:"displayed",get:function(){return this._displayed}},{key:"emitChange",value:function(){this._change.next(this.displayed)}},{key:"change",get:function(){return this._change.asObservable()}},{key:"emitAllChanges",value:function(e){this._allChanges.next(e)}},{key:"allChanges",get:function(){return this._allChanges.asObservable()}},{key:"uninitialized",get:function(){return!this._all}},{key:"_filterItems",value:function(){var e=this;this.uninitialized||(this._filtered=this._filters.hasActiveFilters()?this._all.filter(function(t){return e._filters.accepts(t)}):this._all.slice(),this._page.totalItems=this._filtered.length,this._sortItems())}},{key:"_sortItems",value:function(){var e=this;this.uninitialized||(this._sort.comparator&&this._filtered.sort(function(t,n){return e._sort.compare(t,n)}),this._changePage())}},{key:"_changePage",value:function(){this.uninitialized||this._page.activated&&0===this._page.size||(this._displayed=this._page.size>0?this._filtered.slice(this._page.firstItem,this._page.lastItem+1):this._filtered,this.emitChange())}}]),e}()).\u0275fac=function(e){return new(e||al)(f.Ub(au),f.Ub(ku),f.Ub(ru))},al.\u0275prov=f.Gb({token:al,factory:al.\u0275fac}),al),Ru=((rl=function(){function e(t,n,i,r){var a=this;_(this,e),this.template=t,this.differs=n,this.items=i,this.vcr=r,this.differ=null,this.subscriptions=[],i.smartenUp(),this.iterableProxy=new ge.m(this.vcr,this.template,this.differs),this.subscriptions.push(i.change.subscribe(function(e){a.iterableProxy.ngForOf=e,a.iterableProxy.ngDoCheck()}))}return y(e,[{key:"rawItems",set:function(e){this._rawItems=e||[]}},{key:"trackBy",set:function(e){this.items.trackBy=e,this.iterableProxy.ngForTrackBy=e}},{key:"ngDoCheck",value:function(){this.differ||(this.differ=this.differs.find(this._rawItems).create(this.iterableProxy.ngForTrackBy)),this.differ&&this.differ.diff(this._rawItems)&&(this.items.all=this._rawItems)}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})}}]),e}()).\u0275fac=function(e){return new(e||rl)(f.Kb(f.L),f.Kb(f.t),f.Kb(Au),f.Kb(f.P))},rl.\u0275dir=f.Fb({type:rl,selectors:[["","clrDgItems","","clrDgItemsOf",""]],inputs:{rawItems:["clrDgItemsOf","rawItems"],trackBy:["clrDgItemsTrackBy","trackBy"]}}),rl),Iu=((il=function(){function e(t){_(this,e),this.items=t}return y(e,[{key:"emptyDatagrid",get:function(){return!(this.items.loading||this.items.displayed&&0!==this.items.displayed.length)}}]),e}()).\u0275fac=function(e){return new(e||il)(f.Kb(Au))},il.\u0275cmp=f.Eb({type:il,selectors:[["clr-dg-placeholder"]],hostVars:2,hostBindings:function(e,t){2&e&&f.Cb("datagrid-placeholder-container",!0)},ngContentSelectors:Zt,decls:4,vars:4,consts:[["role","row",1,"datagrid-placeholder"],["class","datagrid-placeholder-image",4,"ngIf"],["role","gridcell"],[4,"ngIf"],[1,"datagrid-placeholder-image"]],template:function(e,t){1&e&&(f.ec(),f.Qb(0,"div",0),f.wc(1,ei,1,0,"div",1),f.Qb(2,"span",2),f.wc(3,ti,1,0,"ng-content",3),f.Pb(),f.Pb()),2&e&&(f.Cb("datagrid-empty",t.emptyDatagrid),f.zb(1),f.fc("ngIf",t.emptyDatagrid),f.zb(2),f.fc("ngIf",t.emptyDatagrid))},directives:[ge.n],encapsulation:2}),il),Lu=((nl=function(){function e(){_(this,e)}return y(e,[{key:"triggerEl",set:function(e){this._triggerEl=e}},{key:"focusTrigger",value:function(){this._triggerEl&&this._triggerEl.focus()}}]),e}()).\u0275fac=function(e){return new(e||nl)},nl.\u0275prov=f.Gb({token:nl,factory:nl.\u0275fac}),nl),Pu=((tl=function(){function e(){_(this,e),this._id=new ye.a}return y(e,[{key:"setId",value:function(e){this._id.next(e)}},{key:"id",get:function(){return this._id.asObservable()}}]),e}()).\u0275fac=function(e){return new(e||tl)},tl.\u0275prov=f.Gb({token:tl,factory:tl.\u0275fac}),tl),Du=((el=function(){function e(t,n,i,r,a,o,s){_(this,e),this.toggleService=t,this.el=n,this.commonStrings=i,this.signpostIdService=r,this.signpostFocusManager=a,this.platformId=s,this.subscriptions=[],this.document=o}return y(e,[{key:"ngOnInit",value:function(){var e=this;this.signpostFocusManager.triggerEl=this.el.nativeElement,this.subscriptions.push(this.toggleService.openChange.subscribe(function(t){e.ariaExpanded=t;var n=e.isOpen;e.isOpen=t,!e.isOpen&&n&&e.focusOnClose()}),this.signpostIdService.id.subscribe(function(t){return e.ariaControl=t}))}},{key:"focusOnClose",value:function(){Object(ge.A)(this.platformId)&&(this.isOpen||this.document.activeElement!==this.document.body||this.signpostFocusManager.focusTrigger())}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})}},{key:"onSignpostTriggerClick",value:function(e){this.toggleService.toggleWithEvent(e)}}]),e}()).\u0275fac=function(e){return new(e||el)(f.Kb(Ar),f.Kb(f.l),f.Kb(Oa),f.Kb(Pu),f.Kb(Lu),f.Kb(ge.d),f.Kb(f.C))},el.\u0275dir=f.Fb({type:el,selectors:[["","clrSignpostTrigger",""]],hostAttrs:[1,"signpost-trigger"],hostVars:5,hostBindings:function(e,t){1&e&&f.Xb("click",function(e){return t.onSignpostTriggerClick(e)}),2&e&&(f.Ab("aria-label",t.commonStrings.keys.signpostToggle)("aria-expanded",t.ariaExpanded)("aria-controls",t.ariaControl),f.Cb("active",t.isOpen))}}),el),Nu=(($s=function(){function e(t){_(this,e),this.commonStrings=t,this.useCustomTrigger=!1}return y(e,[{key:"customTrigger",set:function(e){this.useCustomTrigger=!!e}}]),e}()).\u0275fac=function(e){return new(e||$s)(f.Kb(Oa))},$s.\u0275cmp=f.Eb({type:$s,selectors:[["clr-signpost"]],contentQueries:function(e,t,n){var i;1&e&&f.Db(n,Du,1),2&e&&f.kc(i=f.Yb())&&(t.customTrigger=i.first)},hostVars:2,hostBindings:function(e,t){2&e&&f.Cb("signpost",!0)},features:[f.yb([Ar,Lu,{provide:ps,useExisting:f.l},Pu])],ngContentSelectors:Zt,decls:2,vars:1,consts:[[4,"ngIf"],["type","button","clrSignpostTrigger","",1,"signpost-action","btn","btn-small","btn-link"],["shape","info-circle"]],template:function(e,t){1&e&&(f.ec(),f.wc(0,ni,3,1,"ng-container",0),f.dc(1)),2&e&&f.fc("ngIf",!t.useCustomTrigger)},directives:[ge.n,Du,wr],encapsulation:2}),$s),ju=((Qs=function(){function e(){_(this,e),this._dynamic=!1}return y(e,[{key:"ngAfterViewInit",value:function(){this.cellView=this.templateRef.createEmbeddedView(null)}},{key:"ngOnDestroy",value:function(){this.cellView.destroy()}}]),e}()).\u0275fac=function(e){return new(e||Qs)},Qs.\u0275cmp=f.Eb({type:Qs,selectors:[["dg-wrapped-cell"]],viewQuery:function(e,t){var n;1&e&&f.Dc(ii,1),2&e&&f.kc(n=f.Yb())&&(t.templateRef=n.first)},ngContentSelectors:Zt,decls:2,vars:0,consts:[["cellPortal",""]],template:function(e,t){1&e&&(f.ec(),f.wc(0,ri,1,0,"ng-template",null,0,f.xc))},encapsulation:2}),Qs),Fu=((Js=function(){function e(t){_(this,e),this.vcr=t}return y(e,[{key:"ngOnInit",value:function(){this.wrappedInjector=new Ua(ju,this.vcr)}},{key:"_view",get:function(){return this.wrappedInjector.get(ju,this.vcr).cellView}}]),e}()).\u0275fac=function(e){return new(e||Js)(f.Kb(f.P))},Js.\u0275cmp=f.Eb({type:Js,selectors:[["clr-dg-cell"]],contentQueries:function(e,t,n){var i;1&e&&f.Db(n,Nu,0),2&e&&f.kc(i=f.Yb())&&(t.signpost=i)},hostAttrs:["role","gridcell"],hostVars:4,hostBindings:function(e,t){2&e&&f.Cb("datagrid-cell",!0)("datagrid-signpost-trigger",t.signpost.length>0)},ngContentSelectors:Zt,decls:1,vars:0,template:function(e,t){1&e&&(f.ec(),f.dc(0))},encapsulation:2}),Js),Uu=function(e){return e[e.DISPLAY=0]="DISPLAY",e[e.CALCULATE=1]="CALCULATE",e}({}),Gu=function(e){return e[e.ALIGN_COLUMNS=0]="ALIGN_COLUMNS",e[e.CALCULATE_MODE_ON=1]="CALCULATE_MODE_ON",e[e.CALCULATE_MODE_OFF=2]="CALCULATE_MODE_OFF",e[e.CLEAR_WIDTHS=3]="CLEAR_WIDTHS",e[e.COMPUTE_COLUMN_WIDTHS=4]="COMPUTE_COLUMN_WIDTHS",e}({}),Vu=((cl=function(){function e(){_(this,e),this._renderStep=new ye.a,this.alreadySized=!1}return y(e,[{key:"renderStep",get:function(){return this._renderStep.asObservable()}},{key:"filterRenderSteps",value:function(e){return this.renderStep.pipe(Object(Ce.a)(function(t){return e===t}))}},{key:"resize",value:function(){this._renderStep.next(Gu.CALCULATE_MODE_ON),this.alreadySized&&this._renderStep.next(Gu.CLEAR_WIDTHS),this._renderStep.next(Gu.COMPUTE_COLUMN_WIDTHS),this._renderStep.next(Gu.ALIGN_COLUMNS),this.alreadySized=!0,this._renderStep.next(Gu.CALCULATE_MODE_OFF)}}]),e}()).\u0275fac=function(e){return new(e||cl)},cl.\u0275prov=f.Gb({token:cl,factory:cl.\u0275fac}),cl),Bu=((ul=function(){function e(t){var n=this;_(this,e),this.subscriptions=[],this._view=new be.a(Uu.DISPLAY),this.subscriptions.push(t.filterRenderSteps(Gu.CALCULATE_MODE_ON).subscribe(function(){return n._view.next(Uu.CALCULATE)})),this.subscriptions.push(t.filterRenderSteps(Gu.CALCULATE_MODE_OFF).subscribe(function(){return n._view.next(Uu.DISPLAY)}))}return y(e,[{key:"view",get:function(){return this._view.asObservable()}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})}}]),e}()).\u0275fac=function(e){return new(e||ul)(f.Ub(Vu))},ul.\u0275prov=f.Gb({token:ul,factory:ul.\u0275fac}),ul),zu=function(e){return e[e.None=0]="None",e[e.Single=1]="Single",e[e.Multi=2]="Multi",e}({}),Hu=0,Xu=((vl=function(){function e(t,n,i){var r=this;_(this,e),this._items=t,this._filters=n,this._zone=i,this.preserveSelection=!1,this.prevSelectionRefs=[],this.lockedRefs=[],this._selectionType=zu.None,this.rowSelectionMode=!1,this.subscriptions=[],this.valueCollector=new ye.a,this._change=new ye.a,this.id="clr-dg-selection"+Hu++,this.subscriptions.push(this._filters.change.subscribe(function(){r._selectable&&!r.preserveSelection&&r.clearSelection()})),this.subscriptions.push(this._items.allChanges.subscribe(function(e){var t=[];switch(r.selectionType){case zu.None:break;case zu.Single:var n,i=r._items.trackBy,a=!1;if(r.currentSingle&&!r.prevSingleSelectionRef&&r._items.all&&r._items.trackBy){var o=r._items.all.findIndex(function(e){return e===r.currentSingle});r.prevSingleSelectionRef=r._items.trackBy(o,r.currentSingle)}e.forEach(function(e,o){var s=i(o,e);r.prevSingleSelectionRef===s&&(n=e,a=!0),r.lockedRefs.indexOf(s)>-1&&t.push(s)}),r._items.smart&&!n&&(a=!0),setTimeout(function(){a&&(r.currentSingle=n)},0);break;case zu.Multi:var s=r.current.slice(),l=r._items.trackBy,u=!1;r.current.length>0&&r.prevSelectionRefs.length!==r.current.length&&r._items.all&&r._items.trackBy&&(r.prevSelectionRefs=[],r.current.forEach(function(e){var t=r._items.all.findIndex(function(t){return t===e});r.prevSelectionRefs.push(r._items.trackBy(t,e))})),e.forEach(function(e,n){var i=l(n,e);r.lockedRefs.indexOf(i)>-1&&t.push(i)}),s.length>0&&(e.forEach(function(e,t){var n=l(t,e),i=r.prevSelectionRefs.indexOf(n);i>-1&&(s[i]=e,u=!0)}),r._items.smart&&(s=s.filter(function(t){return e.indexOf(t)>-1}),r.current.length!==s.length&&(u=!0)),setTimeout(function(){u&&(r.current=s)},0))}r.lockedRefs=t})),this.subscriptions.push(this.valueCollector.pipe(Object(ke.a)(0)).subscribe(function(){return r.emitChange()}))}return y(e,[{key:"clearSelection",value:function(){this._current=[],this.prevSelectionRefs=[],this.prevSingleSelectionRef=null,this._currentSingle=null,this.emitChange()}},{key:"selectionType",get:function(){return this._selectionType},set:function(e){e!==this.selectionType&&(this._selectionType=e,e===zu.None?delete this.current:this.updateCurrent([],!1))}},{key:"_selectable",get:function(){return this._selectionType===zu.Multi||this._selectionType===zu.Single}},{key:"destroy",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})}},{key:"currentSingle",get:function(){return this._currentSingle},set:function(e){if(e!==this._currentSingle){if(this._currentSingle=e,this._items.all&&this._items.trackBy&&e){var t=this._items.all.findIndex(function(t){return t===e});this.prevSingleSelectionRef=this._items.trackBy(t,e)}this.emitChange()}}},{key:"current",get:function(){return this._current},set:function(e){this.updateCurrent(e,!0)}},{key:"updateCurrent",value:function(e,t){this._current=e,t&&this.valueCollector.next(e)}},{key:"emitChange",value:function(){this._selectionType===zu.Single?this._change.next(this.currentSingle):this._selectionType===zu.Multi&&this._change.next(this.current)}},{key:"change",get:function(){return this._change.asObservable()}},{key:"isSelected",value:function(e){return this._selectionType===zu.Single?this.currentSingle===e:this._selectionType===zu.Multi&&this.current.indexOf(e)>=0}},{key:"selectItem",value:function(e){if(this.current=this.current.concat(e),this._items.trackBy&&this._items.all){var t=this._items.all.findIndex(function(t){return t===e});this.prevSelectionRefs.push(this._items.trackBy(t,e))}}},{key:"deselectItem",value:function(e){if(this.current=this.current.slice(0,e).concat(this.current.slice(e+1)),this._items.trackBy&&e<this.prevSelectionRefs.length){var t=this.prevSelectionRefs.splice(e,1);this.lockedRefs=this.lockedRefs.filter(function(e){return e!==t[0]})}}},{key:"setSelected",value:function(e,t){var n=this.current?this.current.indexOf(e):-1;switch(this._selectionType){case zu.None:case zu.Single:break;case zu.Multi:n>=0&&!t?this.deselectItem(n):n<0&&t&&this.selectItem(e)}}},{key:"isAllSelected",value:function(){var e=this;if(this._selectionType!==zu.Multi||!this._items.displayed)return!1;var t=this._items.displayed.filter(function(t){return!1===e.isLocked(t)});return!(t.length<1)&&t.filter(function(t){return e.current.indexOf(t)>-1}).length===t.length}},{key:"canItBeLocked",value:function(){return this._selectionType!==zu.None&&Array.isArray(this._items.all)}},{key:"lockItem",value:function(e,t){if(this.canItBeLocked()){var n=this._items.trackBy(this._items.all.findIndex(function(t){return t===e}),e);!0===t?this.lockedRefs.push(n):this.lockedRefs=this.lockedRefs.filter(function(e){return n!==e})}}},{key:"isLocked",value:function(e){if(this.canItBeLocked()){var t=this._items.trackBy(this._items.all.findIndex(function(t){return t===e}),e);return this.lockedRefs.indexOf(t)>-1}return!1}},{key:"toggleAll",value:function(){var e=this;this._selectionType!==zu.None&&this._selectionType!==zu.Single&&(this.isAllSelected()?this._items.displayed.forEach(function(t){var n=e.current.indexOf(t);n>-1&&!1===e.isLocked(t)&&e.deselectItem(n)}):this._items.displayed.forEach(function(t){e.current.indexOf(t)<0&&!1===e.isLocked(t)&&e.selectItem(t)}))}}]),e}()).\u0275fac=function(e){return new(e||vl)(f.Ub(Au),f.Ub(au),f.Ub(f.A))},vl.\u0275prov=f.Gb({token:vl,factory:vl.\u0275fac}),vl),qu=((ml=function(){function e(){_(this,e),this._dynamic=!1}return y(e,[{key:"ngAfterViewInit",value:function(){this.rowView=this.templateRef.createEmbeddedView(null)}},{key:"ngOnDestroy",value:function(){this.rowView.destroy()}}]),e}()).\u0275fac=function(e){return new(e||ml)},ml.\u0275cmp=f.Eb({type:ml,selectors:[["dg-wrapped-row"]],viewQuery:function(e,t){var n;1&e&&f.Dc(ai,1),2&e&&f.kc(n=f.Yb())&&(t.templateRef=n.first)},ngContentSelectors:Zt,decls:2,vars:0,consts:[["rowPortal",""]],template:function(e,t){1&e&&(f.ec(),f.wc(0,oi,1,0,"ng-template",null,0,f.xc))},encapsulation:2}),ml),Wu=0,Yu=((pl=function(e){b(n,e);var t=T(n);function n(){var e;return _(this,n),(e=t.call(this)).expandableId="",e._replace=new be.a(!1),e._animate=new ye.a,Wu++,e.expandableId="clr-dg-expandable-row-"+Wu,e}return y(n,[{key:"expanded",get:function(){return this._expanded},set:function(e){(e=!!e)!==this._expanded&&(this._expanded=e,this._animate.next(),this._expandChange.next(e))}},{key:"loadingStateChange",value:function(e){v(C(n.prototype),"loadingStateChange",this).call(this,e),e!==ka.LOADING&&this._animate.next()}},{key:"replace",get:function(){return this._replace.asObservable()}},{key:"setReplace",value:function(e){this._replace.next(e)}},{key:"animate",get:function(){return this._animate.asObservable()}}]),n}(So)).\u0275fac=function(e){return new(e||pl)},pl.\u0275prov=f.Gb({token:pl,factory:pl.\u0275fac}),pl),Ku=0,Zu=((fl=function(){function e(t,n,i,r,a,o,s,u,c,h){var d=this;_(this,e),this.selection=t,this.rowActionService=n,this.globalExpandable=i,this.expand=r,this.detailService=a,this.displayMode=o,this.vcr=s,this.renderer=u,this.el=c,this.commonStrings=h,this.SELECTION_TYPE=zu,this.expandAnimationTrigger=!1,this._selected=!1,this.selectedChanged=new f.n(!1),this.expandedChange=new f.n(!1),this._detailOpenLabel="",this._detailCloseLabel="",this.subscriptions=[],this.displayCells=!1,Ku++,this.id="clr-dg-row"+Ku,this.radioId="clr-dg-row-rd"+Ku,this.checkboxId="clr-dg-row-cb"+Ku,this.expandableId=r.expandableId,this.subscriptions.push(Object(xe.a)(this.expand.replace,this.expand.expandChange).subscribe(function(e){var t=l(e,2),n=t[0],i=t[1];n&&i?(d.replaced=!0,d.renderer.addClass(d.el.nativeElement,"datagrid-row-replaced")):(d.replaced=!1,d.renderer.removeClass(d.el.nativeElement,"datagrid-row-replaced"))}))}return y(e,[{key:"selected",get:function(){return this.selection.selectionType===zu.None?this._selected:this.selection.isSelected(this.item)},set:function(e){this.selection.selectionType===zu.None?this._selected=e:this.selection.setSelected(this.item,e)}},{key:"clrDgSelectable",get:function(){return!this.selection.isLocked(this.item)},set:function(e){this.selection.lockItem(this.item,!1===e)}},{key:"toggle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.selected;e!==this.selected&&(this.selected=e,this.selectedChanged.emit(e))}},{key:"expanded",get:function(){return this.expand.expanded},set:function(e){this.expand.expanded=e}},{key:"toggleExpand",value:function(){this.expand.expandable&&(this.expandAnimation.updateStartHeight(),this.expanded=!this.expanded,this.expandedChange.emit(this.expanded))}},{key:"clrDgDetailOpenLabel",get:function(){return this._detailOpenLabel?this._detailOpenLabel:this.commonStrings.keys.open},set:function(e){this._detailOpenLabel=e}},{key:"clrDgDetailCloseLabel",get:function(){return this._detailCloseLabel?this._detailCloseLabel:this.commonStrings.keys.close},set:function(e){this._detailCloseLabel=e}},{key:"ngAfterContentInit",value:function(){var e=this;this.dgCells.changes.subscribe(function(){e.dgCells.forEach(function(t){t._view.destroyed||e._scrollableCells.insert(t._view)})})}},{key:"ngAfterViewInit",value:function(){var e=this;this.subscriptions.push(this.displayMode.view.subscribe(function(t){for(var n=e._scrollableCells.length;n>0;n--)e._scrollableCells.detach();for(var i=e._calculatedCells.length;i>0;i--)e._calculatedCells.detach();t===Uu.CALCULATE?(e.displayCells=!1,e.dgCells.forEach(function(t){t._view.destroyed||e._calculatedCells.insert(t._view)})):(e.displayCells=!0,e.dgCells.forEach(function(t){t._view.destroyed||e._scrollableCells.insert(t._view)}))}),this.expand.animate.subscribe(function(){e.expandAnimationTrigger=!e.expandAnimationTrigger}))}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})}},{key:"ngOnInit",value:function(){this.wrappedInjector=new Ua(qu,this.vcr),this.selection.lockItem(this.item,!1===this.clrDgSelectable)}},{key:"_view",get:function(){return this.wrappedInjector.get(qu,this.vcr).rowView}}]),e}()).\u0275fac=function(e){return new(e||fl)(f.Kb(Xu),f.Kb(yu),f.Kb(wu),f.Kb(Yu),f.Kb(Tu),f.Kb(Bu),f.Kb(f.P),f.Kb(f.E),f.Kb(f.l),f.Kb(Oa))},fl.\u0275cmp=f.Eb({type:fl,selectors:[["clr-dg-row"]],contentQueries:function(e,t,n){var i;1&e&&f.Db(n,Fu,0),2&e&&f.kc(i=f.Yb())&&(t.dgCells=i)},viewQuery:function(e,t){var n;1&e&&(f.Dc(Ql,1),f.Dc(si,1),f.Dc(li,1,f.P),f.Dc(ui,1,f.P),f.Dc(ci,1,f.P)),2&e&&(f.kc(n=f.Yb())&&(t.expandAnimation=n.first),f.kc(n=f.Yb())&&(t.detailButton=n.first),f.kc(n=f.Yb())&&(t._stickyCells=n.first),f.kc(n=f.Yb())&&(t._scrollableCells=n.first),f.kc(n=f.Yb())&&(t._calculatedCells=n.first))},hostAttrs:["role","rowgroup"],hostVars:5,hostBindings:function(e,t){2&e&&(f.Ab("aria-owns",t.id),f.Cb("datagrid-row",!0)("datagrid-selected",t.selected))},inputs:{selected:["clrDgSelected","selected"],clrDgSelectable:"clrDgSelectable",expanded:["clrDgExpanded","expanded"],clrDgDetailOpenLabel:"clrDgDetailOpenLabel",clrDgDetailCloseLabel:"clrDgDetailCloseLabel",item:["clrDgItem","item"]},outputs:{selectedChanged:"clrDgSelectedChange",expandedChange:"clrDgExpandedChange"},features:[f.yb([Yu,{provide:So,useExisting:Yu},{provide:Ca,useExisting:Yu}])],ngContentSelectors:ji,decls:9,vars:3,consts:[["class","datagrid-row-clickable",4,"ngIf"],[3,"clrExpandTrigger",4,"ngIf"],[4,"ngIf"],["detail",""],["rowContent",""],["calculatedCells",""],[1,"datagrid-row-clickable"],[3,"clrExpandTrigger"],[3,"ngTemplateOutlet"],["role","row",1,"datagrid-row-master","datagrid-row-flex",3,"id"],[1,"datagrid-row-sticky"],["stickyCells",""],["class","datagrid-select datagrid-fixed-column datagrid-cell","role","gridcell",3,"ngClass",4,"ngIf"],["class","datagrid-row-actions datagrid-fixed-column datagrid-cell","role","gridcell",4,"ngIf"],["class","datagrid-expandable-caret datagrid-fixed-column datagrid-cell","role","gridcell",4,"ngIf"],["class","datagrid-detail-caret datagrid-fixed-column datagrid-cell",4,"ngIf"],[1,"datagrid-row-scrollable",3,"ngClass"],[1,"datagrid-scrolling-cells"],["scrollableCells",""],["role","gridcell",1,"datagrid-select","datagrid-fixed-column","datagrid-cell",3,"ngClass"],[1,"clr-checkbox-wrapper"],["type","checkbox",3,"ngModel","id","ngModelChange"],[1,"clr-control-label","clr-col-null",3,"for"],[1,"clr-sr-only"],["type","radio","clrRadio","",3,"id","name","value","ngModel","checked","ngModelChange"],["role","gridcell",1,"datagrid-row-actions","datagrid-fixed-column","datagrid-cell"],["role","gridcell",1,"datagrid-expandable-caret","datagrid-fixed-column","datagrid-cell"],["type","button","class","datagrid-expandable-caret-button",3,"click",4,"ngIf"],["clrSmall","",4,"ngIf"],["type","button",1,"datagrid-expandable-caret-button",3,"click"],["shape","angle",1,"datagrid-expandable-caret-icon"],["clrSmall",""],[1,"datagrid-detail-caret","datagrid-fixed-column","datagrid-cell"],["type","button","aria-haspopup","dialog",1,"datagrid-detail-caret-button",3,"click"],["detailButton",""],["shape","angle-double",1,"datagrid-detail-caret-icon"]],template:function(e,t){1&e&&(f.ec(Ni),f.wc(0,mi,3,2,"label",0),f.wc(1,gi,2,2,"clr-expandable-animation",1),f.wc(2,_i,1,1,void 0,2),f.wc(3,bi,1,0,"ng-template",null,3,f.xc),f.wc(5,Di,16,13,"ng-template",null,4,f.xc),f.Mb(7,null,5)),2&e&&(f.fc("ngIf",t.selection.rowSelectionMode),f.zb(1),f.fc("ngIf",!t.selection.rowSelectionMode&&t.expand.expandable),f.zb(1),f.fc("ngIf",!t.selection.rowSelectionMode&&!t.expand.expandable))},directives:[ge.n,$a,Ql,ge.r,ge.l,Re.a,Re.j,Re.m,Re.q,Re.b,Jo,wr,Ll],encapsulation:2}),fl),Ju=((dl=function(){function e(t,n,i,r){var a=this;_(this,e),this.filters=t,this.sort=n,this.page=i,this.debouncer=r,this.change=this.debouncer.change.pipe(Object(Oe.a)(function(){return a.state}))}return y(e,[{key:"state",get:function(){var e={};this.page.size>0&&(e.page={from:this.page.firstItem,to:this.page.lastItem,size:this.page.size,current:this.page.current}),this.sort.comparator&&(e.sort=this.sort.comparator instanceof Eu?{by:this.sort.comparator.prop,reverse:this.sort.reverse}:{by:this.sort.comparator,reverse:this.sort.reverse});var t=this.filters.getActiveFilters();if(t.length>0){e.filters=[];var n,i=h(t);try{for(i.s();!(n=i.n()).done;){var r=n.value;e.filters.push(r.state?r.state:r)}}catch(a){i.e(a)}finally{i.f()}}return e}}]),e}()).\u0275fac=function(e){return new(e||dl)(f.Ub(au),f.Ub(ku),f.Ub(ru),f.Ub(iu))},dl.\u0275prov=f.Gb({token:dl,factory:dl.\u0275fac}),dl),Qu=((hl=function(){function e(t){_(this,e),this.platformId=t}return y(e,[{key:"tableRef",get:function(){return this._tableRef},set:function(e){this._tableRef=e}},{key:"table",set:function(e){Object(ge.A)(this.platformId)&&e.nativeElement&&(this.tableRef=e.nativeElement.querySelector(".datagrid-table"))}},{key:"getColumnDragHeight",value:function(){return this.tableRef?"".concat(this.tableRef.clientHeight,"px"):null}}]),e}()).\u0275fac=function(e){return new(e||hl)(f.Ub(f.C))},hl.\u0275prov=f.Gb({token:hl,factory:hl.\u0275fac}),hl),$u=function(e){return e[e.WIDTH=0]="WIDTH",e[e.HIDDEN=1]="HIDDEN",e}({}),ec=Object.keys($u).map(function(e){return $u[e]}).filter(function(e){return e===parseInt(e,10)}),tc=((xl=function(){function e(){_(this,e),this.columns=[],this._cache=[]}return y(e,[{key:"cache",value:function(){this._cache=this.columns.map(function(e){var t=Object.assign({},e.value);return delete t.changes,t})}},{key:"hasCache",value:function(){return!!this._cache.length}},{key:"resetToLastCache",value:function(){var e=this;this._cache.forEach(function(t,n){e.columns[n].next(Object.assign(Object.assign({},t),{changes:ec}))}),this._cache=[]}},{key:"columnStates",get:function(){return this.columns.map(function(e){return e.value})}},{key:"hasHideableColumns",get:function(){return this.columnStates.filter(function(e){return e.hideable}).length>0}},{key:"emitStateChangeAt",value:function(e,t){this.columns[e]&&this.emitStateChange(this.columns[e],t)}},{key:"emitStateChange",value:function(e,t){e.next(Object.assign(Object.assign({},e.value),t))}}]),e}()).\u0275fac=function(e){return new(e||xl)},xl.\u0275prov=f.Gb({token:xl,factory:xl.\u0275fac}),xl),nc=((wl=function(){function e(t,n,i,r,a,o,s,l,u,c,h,d,p){_(this,e),this.organizer=t,this.items=n,this.expandableRows=i,this.selection=r,this.rowActionService=a,this.stateProvider=o,this.displayMode=s,this.renderer=l,this.detailService=u,this.el=h,this.page=d,this.commonStrings=p,this.SELECTION_TYPE=zu,this.refresh=new f.n(!1),this.selectedChanged=new f.n(!1),this.singleSelectedChanged=new f.n(!1),this.clrDgSingleSelectionAriaLabel=this.commonStrings.keys.singleSelectionAriaLabel,this.clrDgSingleActionableAriaLabel=this.commonStrings.keys.singleActionableAriaLabel,this.clrDetailExpandableAriaLabel=this.commonStrings.keys.detailExpandableAriaLabel,this.clrDgDisablePageFocus=!1,this._subscriptions=[],this.selectAllId="clr-dg-select-all-"+c,this.detailService.id=c}return y(e,[{key:"loading",get:function(){return this.items.loading},set:function(e){this.items.loading=e}},{key:"dataChanged",value:function(){this.items.refresh()}},{key:"selected",set:function(e){this.selection.selectionType=e?zu.Multi:zu.None,this.selection.updateCurrent(e,!1)}},{key:"singleSelected",set:function(e){this.selection.selectionType=zu.Single,e?this.selection.currentSingle=e:this.selection.currentSingle&&(this.selection.currentSingle=null)}},{key:"clrDgPreserveSelection",set:function(e){this.selection.preserveSelection=e}},{key:"rowSelectionMode",set:function(e){this.selection.rowSelectionMode=e}},{key:"allSelected",get:function(){return this.selection.isAllSelected()},set:function(e){this.selection.toggleAll()}},{key:"ngAfterContentInit",value:function(){var e=this;this.items.smart||(this.items.all=this.rows.map(function(e){return e.item})),this._subscriptions.push(this.rows.changes.subscribe(function(){e.items.smart||(e.items.all=e.rows.map(function(e){return e.item}));for(var t=e._displayedRows.length-1;t>=0;t--)e._displayedRows.get(t).destroyed&&e._displayedRows.remove(t);if(e.rows.forEach(function(t){e._displayedRows.insert(t._view)}),e.detailService.state&&e.detailService.isOpen){var n=e.rows.find(function(t,n){return e.items.trackBy(n,t.item)===e.items.trackBy(n,e.detailService.state)});n?e.detailService.open(n.item,n.detailButton):e.detailService.close()}}))}},{key:"ngAfterViewInit",value:function(){var e=this;this.refresh.emit(this.stateProvider.state),this._subscriptions.push(this.stateProvider.change.subscribe(function(t){return e.refresh.emit(t)}),this.selection.change.subscribe(function(t){e.selection.selectionType===zu.Single?e.singleSelectedChanged.emit(t):e.selection.selectionType===zu.Multi&&e.selectedChanged.emit(t)}),this.page.change.subscribe(function(){e.clrDgDisablePageFocus||e.datagridTable.nativeElement.focus()}),this.displayMode.view.subscribe(function(t){for(var n=e._projectedDisplayColumns.length;n>0;n--)e._projectedDisplayColumns.detach();for(var i=e._projectedCalculationColumns.length;i>0;i--)e._projectedCalculationColumns.detach();for(var r=e._calculationRows.length;r>0;r--)e._calculationRows.detach();for(var a=e._displayedRows.length;a>0;a--)e._displayedRows.detach();t===Uu.DISPLAY?(e.renderer.removeClass(e.el.nativeElement,"datagrid-calculate-mode"),e.columns.forEach(function(t){e._projectedDisplayColumns.insert(t._view)}),e.rows.forEach(function(t){e._displayedRows.insert(t._view)})):(e.renderer.addClass(e.el.nativeElement,"datagrid-calculate-mode"),e.columns.forEach(function(t){e._projectedCalculationColumns.insert(t._view)}),e.rows.forEach(function(t){e._calculationRows.insert(t._view)}))}))}},{key:"ngOnDestroy",value:function(){this._subscriptions.forEach(function(e){return e.unsubscribe()})}},{key:"resize",value:function(){this.organizer.resize()}}]),e}()).\u0275fac=function(e){return new(e||wl)(f.Kb(Vu),f.Kb(Au),f.Kb(wu),f.Kb(Xu),f.Kb(yu),f.Kb(Ju),f.Kb(Bu),f.Kb(f.E),f.Kb(Tu),f.Kb(Ra),f.Kb(f.l),f.Kb(ru),f.Kb(Oa))},wl.\u0275cmp=f.Eb({type:wl,selectors:[["clr-datagrid"]],contentQueries:function(e,t,n){var i;1&e&&(f.Db(n,Ru,1),f.Db(n,Iu,1),f.Db(n,Ou,0),f.Db(n,Zu,0)),2&e&&(f.kc(i=f.Yb())&&(t.iterator=i.first),f.kc(i=f.Yb())&&(t.placeholder=i.first),f.kc(i=f.Yb())&&(t.columns=i),f.kc(i=f.Yb())&&(t.rows=i))},viewQuery:function(e,t){var n;1&e&&(f.Dc(Fi,1,f.P),f.Dc(Ui,1,f.l),f.Dc(Gi,1,f.P),f.Dc(Vi,1,f.P),f.Dc(Bi,1,f.P),f.Dc(zi,1,f.P)),2&e&&(f.kc(n=f.Yb())&&(t.scrollableColumns=n.first),f.kc(n=f.Yb())&&(t.datagridTable=n.first),f.kc(n=f.Yb())&&(t._projectedDisplayColumns=n.first),f.kc(n=f.Yb())&&(t._projectedCalculationColumns=n.first),f.kc(n=f.Yb())&&(t._displayedRows=n.first),f.kc(n=f.Yb())&&(t._calculationRows=n.first))},hostVars:4,hostBindings:function(e,t){2&e&&f.Cb("datagrid-host",!0)("datagrid-detail-open",t.detailService.isOpen)},inputs:{clrDgSingleSelectionAriaLabel:"clrDgSingleSelectionAriaLabel",clrDgSingleActionableAriaLabel:"clrDgSingleActionableAriaLabel",clrDetailExpandableAriaLabel:"clrDetailExpandableAriaLabel",clrDgDisablePageFocus:"clrDgDisablePageFocus",loading:["clrDgLoading","loading"],selected:["clrDgSelected","selected"],singleSelected:["clrDgSingleSelected","singleSelected"],clrDgPreserveSelection:"clrDgPreserveSelection",rowSelectionMode:["clrDgRowSelection","rowSelectionMode"]},outputs:{refresh:"clrDgRefresh",selectedChanged:"clrDgSelectedChange",singleSelectedChanged:"clrDgSingleSelectedChange"},features:[f.yb([Xu,ku,au,ru,Au,Vu,yu,wu,iu,Tu,Ia,Ju,Qu,tc,Bu])],ngContentSelectors:Ji,decls:32,vars:7,consts:[[1,"datagrid-outer-wrapper"],[1,"datagrid-inner-wrapper"],[1,"datagrid"],["datagrid",""],[1,"datagrid-table-wrapper"],["role","grid","tabindex","-1",1,"datagrid-table"],["datagridTable",""],["role","rowgroup",1,"datagrid-header"],["role","row",1,"datagrid-row"],[1,"datagrid-row-master","datagrid-row-flex"],[1,"datagrid-row-sticky"],["role","columnheader","class","datagrid-column datagrid-select datagrid-fixed-column",4,"ngIf"],["role","columnheader","class","datagrid-column datagrid-row-actions datagrid-fixed-column",4,"ngIf"],["role","columnheader","class","datagrid-column datagrid-expandable-caret datagrid-fixed-column",4,"ngIf"],[1,"datagrid-row-scrollable"],["projectedDisplayColumns",""],["displayedRows",""],[4,"ngIf"],["class","datagrid-spinner",4,"ngIf"],[1,"datagrid-calculation-table"],[1,"datagrid-calculation-header"],["projectedCalculationColumns",""],["calculationRows",""],["role","columnheader",1,"datagrid-column","datagrid-select","datagrid-fixed-column"],[1,"clr-checkbox-wrapper"],["type","checkbox",3,"id","ngModel","ngModelChange"],[1,"clr-control-label","clr-col-null",3,"for"],[1,"clr-sr-only"],[1,"datagrid-column-separator"],["role","columnheader",1,"datagrid-column","datagrid-row-actions","datagrid-fixed-column"],["role","columnheader",1,"datagrid-column","datagrid-expandable-caret","datagrid-fixed-column"],[1,"datagrid-spinner"],["clrMedium",""]],template:function(e,t){1&e&&(f.ec(Zi),f.dc(0),f.Qb(1,"div",0),f.Qb(2,"div",1),f.Qb(3,"div",2,3),f.Qb(5,"div",4),f.Qb(6,"div",5,6),f.Qb(8,"div",7),f.Qb(9,"div",8),f.Qb(10,"div",9),f.Qb(11,"div",10),f.wc(12,Hi,7,5,"div",11),f.wc(13,Xi,2,1,"div",11),f.wc(14,qi,2,1,"div",12),f.wc(15,Wi,2,1,"div",13),f.Pb(),f.Qb(16,"div",14),f.Mb(17,null,15),f.Pb(),f.Pb(),f.Pb(),f.Pb(),f.Mb(19,null,16),f.dc(21,1),f.wc(22,Yi,1,0,"clr-dg-placeholder",17),f.Pb(),f.Pb(),f.Pb(),f.dc(23,2),f.wc(24,Ki,3,0,"div",18),f.Pb(),f.dc(25,3),f.Pb(),f.Qb(26,"div",19),f.Qb(27,"div",20),f.Mb(28,null,21),f.Pb(),f.Mb(30,null,22),f.Pb()),2&e&&(f.zb(3),f.Ab("aria-hidden",!!t.detailService.isOpen||null),f.zb(9),f.fc("ngIf",t.selection.selectionType===t.SELECTION_TYPE.Multi),f.zb(1),f.fc("ngIf",t.selection.selectionType===t.SELECTION_TYPE.Single),f.zb(1),f.fc("ngIf",t.rowActionService.hasActionableRow),f.zb(1),f.fc("ngIf",t.expandableRows.hasExpandableRow||t.detailService.enabled),f.zb(7),f.fc("ngIf",!t.placeholder),f.zb(2),f.fc("ngIf",t.loading))},directives:[ge.n,Re.a,Re.j,Re.m,$a,Iu,Ll],encapsulation:2}),wl),ic=((Tl=function(){function e(t,n,i){_(this,e),this.el=t,this.domAdapter=n,this.organizer=i,this._resizedBy=0}return y(e,[{key:"resizedBy",get:function(){return this._resizedBy}},{key:"minColumnWidth",get:function(){return this.domAdapter.minWidth(this.el.nativeElement)||96}},{key:"maxResizeRange",get:function(){return this.widthBeforeResize-this.minColumnWidth}},{key:"startResize",value:function(){this._resizedBy=0,this.isWithinMaxResizeRange=!0,this.widthBeforeResize=this.domAdapter.clientRect(this.el.nativeElement).width}},{key:"endResize",value:function(){this.organizer.resize()}},{key:"widthAfterResize",get:function(){return this.widthBeforeResize+this._resizedBy}},{key:"calculateResize",value:function(e){e<-this.maxResizeRange?(this._resizedBy=-this.maxResizeRange,this.isWithinMaxResizeRange=!1):(this._resizedBy=e,this.isWithinMaxResizeRange=!0)}}]),e}()).\u0275fac=function(e){return new(e||Tl)(f.Ub(f.l),f.Ub(Gl),f.Ub(Vu))},Tl.\u0275prov=f.Gb({token:Tl,factory:Tl.\u0275fac}),Tl),rc=((Sl=function(){function e(t,n,i,r,a,o,s){_(this,e),this.columnResizerService=t,this.renderer=n,this.ngZone=i,this.tableSizeService=r,this.commonString=a,this.document=o,this.columnSeparatorId=s,this.resizeStartedOnKeyDown=!1,this.unlisteners=[]}return y(e,[{key:"resizeTrackerEl",get:function(){return this.resizeTrackerRef.nativeElement}},{key:"columnHandleEl",get:function(){return this.columnHandleRef.nativeElement}},{key:"ngAfterViewInit",value:function(){var e=this;this.ngZone.runOutsideAngular(function(){e.unlisteners.push(e.renderer.listen(e.columnHandleEl,"keydown",function(t){e.showTrackerOnFirstKeyDown(t),e.moveTrackerOnKeyDown(t)})),e.unlisteners.push(e.renderer.listen(e.columnHandleEl,"keyup",function(t){e.hideTrackerOnKeyUp(t)}))})}},{key:"descriptionId",get:function(){return"".concat(this.columnSeparatorId,"-aria-describedby")}},{key:"showTracker",value:function(){this.columnResizerService.startResize();var e=this.tableSizeService.getColumnDragHeight();this.renderer.setStyle(this.resizeTrackerEl,"height",e),this.renderer.setStyle(this.resizeTrackerEl,"display","block")}},{key:"moveTracker",value:function(e){this.columnResizerService.calculateResize(e),this.renderer.setStyle(this.resizeTrackerEl,"transform","translateX(".concat(this.columnResizerService.resizedBy,"px)")),this.renderer.setStyle(this.document.body,"cursor","col-resize"),this.redFlagTracker()}},{key:"hideTracker",value:function(){this.columnResizerService.endResize(),this.renderer.setStyle(this.resizeTrackerEl,"display","none"),this.renderer.setStyle(this.resizeTrackerEl,"transform","translateX(0px)"),this.renderer.setStyle(this.document.body,"cursor","auto")}},{key:"showTrackerOnFirstKeyDown",value:function(e){this.resizeStartedOnKeyDown||!this.isArrowLeftKeyEvent(e)&&!this.isArrowRightKeyEvent(e)||(this.resizeStartedOnKeyDown=!0,this.renderer.addClass(this.resizeTrackerEl,"on-arrow-key-resize"),this.showTracker())}},{key:"moveTrackerOnKeyDown",value:function(e){this.isArrowLeftKeyEvent(e)?this.moveTracker(this.columnResizerService.resizedBy-12):this.isArrowRightKeyEvent(e)&&this.moveTracker(this.columnResizerService.resizedBy+12)}},{key:"hideTrackerOnKeyUp",value:function(e){this.resizeStartedOnKeyDown&&(this.isArrowLeftKeyEvent(e)||this.isArrowRightKeyEvent(e))&&(this.resizeStartedOnKeyDown=!1,this.renderer.removeClass(this.resizeTrackerEl,"on-arrow-key-resize"),this.hideTracker(),this.columnHandleEl.focus())}},{key:"redFlagTracker",value:function(){this.isWithinMaxResizeRange!==this.columnResizerService.isWithinMaxResizeRange&&(this.isWithinMaxResizeRange=this.columnResizerService.isWithinMaxResizeRange,this.isWithinMaxResizeRange?this.renderer.removeClass(this.resizeTrackerEl,"exceeded-max"):this.renderer.addClass(this.resizeTrackerEl,"exceeded-max"))}},{key:"isArrowLeftKeyEvent",value:function(e){return e.key===Er.ArrowLeft||e.key===Cr.ArrowLeft}},{key:"isArrowRightKeyEvent",value:function(e){return e.key===Er.ArrowRight||e.key===Cr.ArrowRight}},{key:"ngOnDestroy",value:function(){this.unlisteners.forEach(function(e){return e()})}}]),e}()).\u0275fac=function(e){return new(e||Sl)(f.Kb(ic),f.Kb(f.E),f.Kb(f.A),f.Kb(Qu),f.Kb(Oa),f.Kb(ge.d),f.Kb(Ra))},Sl.\u0275cmp=f.Eb({type:Sl,selectors:[["clr-dg-column-separator"]],viewQuery:function(e,t){var n;1&e&&(f.Dc(Qi,1),f.Dc($i,1)),2&e&&(f.kc(n=f.Yb())&&(t.resizeTrackerRef=n.first),f.kc(n=f.Yb())&&(t.columnHandleRef=n.first))},hostVars:2,hostBindings:function(e,t){2&e&&f.Cb("datagrid-column-separator",!0)},features:[f.yb([Ia])],decls:6,vars:5,consts:[["type","button","clrDraggable","",1,"datagrid-column-handle",3,"clrGroup","clrDragStart","clrDragMove","clrDragEnd"],["columnHandle",""],[1,"clr-sr-only"],[1,"datagrid-column-resize-tracker"],["resizeTracker",""]],template:function(e,t){1&e&&(f.Qb(0,"button",0,1),f.Xb("clrDragStart",function(){return t.showTracker()})("clrDragMove",function(e){return t.moveTracker(e.dragPosition.moveX)})("clrDragEnd",function(){return t.hideTracker()}),f.Pb(),f.Qb(2,"span",2),f.yc(3),f.Pb(),f.Lb(4,"div",3,4)),2&e&&(f.fc("clrGroup",t.columnSeparatorId),f.Ab("aria-label",t.commonString.keys.columnSeparatorAriaLabel)("aria-describedby",t.descriptionId),f.zb(2),f.Ab("id",t.descriptionId),f.zb(1),f.Ac(" ",t.commonString.keys.columnSeparatorDescription," "))},directives:[Zl],encapsulation:2}),Sl),ac=((bl=function e(){_(this,e)}).\u0275fac=function(e){return new(e||bl)},bl.\u0275cmp=f.Eb({type:bl,selectors:[["clr-dg-column-toggle-title"]],ngContentSelectors:Zt,decls:1,vars:0,template:function(e,t){1&e&&(f.ec(),f.dc(0))},encapsulation:2}),bl),oc=((_l=function(){function e(t){_(this,e),this.columnsService=t,this.allSelected=new f.n}return y(e,[{key:"clrAllSelected",get:function(){return this.allSelected.asObservable()}},{key:"hideableColumns",value:function(){return this.columnsService.columns.filter(function(e){return e.value.hideable})}},{key:"allHideablesVisible",get:function(){return 0===this.hideableColumns().filter(function(e){return e.value.hidden}).length}},{key:"selectAll",value:function(){var e=this;this.hideableColumns().forEach(function(t){return e.columnsService.emitStateChange(t,{hidden:!1,changes:[$u.HIDDEN]})}),this.allSelected.next(!0)}}]),e}()).\u0275fac=function(e){return new(e||_l)(f.Kb(tc))},_l.\u0275cmp=f.Eb({type:_l,selectors:[["clr-dg-column-toggle-button"]],outputs:{clrAllSelected:"clrAllSelected"},ngContentSelectors:Zt,decls:2,vars:1,consts:[["type","button",1,"btn","btn-sm","btn-link","switch-button",3,"disabled","click"]],template:function(e,t){1&e&&(f.ec(),f.Qb(0,"button",0),f.Xb("click",function(){return t.selectAll()}),f.dc(1),f.Pb()),2&e&&f.fc("disabled",t.allHideablesVisible)},encapsulation:2}),_l),sc=((yl=function(){function e(t,n,i,r,a,o){_(this,e),this.commonStrings=t,this.columnsService=n,this.columnSwitchId=i,this.platformId=r,this.zone=a,this.popoverId=o,this.smartPosition={axis:_a.VERTICAL,side:La.BEFORE,anchor:Lr.START,content:Lr.START}}return y(e,[{key:"allColumnsVisible",get:function(){return this._allColumnsVisible},set:function(e){this._allColumnsVisible=e}},{key:"hideableColumnStates",get:function(){return this.columnsService.columns.filter(function(e){return e.value.hideable}).map(function(e){return e.value})}},{key:"hasOnlyOneVisibleColumn",get:function(){return 0==this.columnsService.columns.length-this.hideableColumnStates.length&&1===this.hideableColumnStates.filter(function(e){return!e.hidden}).length}},{key:"toggleColumnState",value:function(e,t){var n=this.columnsService.columns.filter(function(t){return t.value===e})[0];this.columnsService.emitStateChange(n,{hidden:t,changes:[$u.HIDDEN]})}},{key:"toggleSwitchPanel",value:function(){this.openState=!this.openState}},{key:"allColumnsSelected",value:function(){this.allSelectedElement.nativeElement.focus()}},{key:"trackByFn",value:function(e){return e}}]),e}()).\u0275fac=function(e){return new(e||yl)(f.Kb(Oa),f.Kb(tc),f.Kb(Ra),f.Kb(f.C),f.Kb(f.A),f.Kb(Ra))},yl.\u0275cmp=f.Eb({type:yl,selectors:[["clr-dg-column-toggle"]],contentQueries:function(e,t,n){var i;1&e&&(f.Db(n,ac,1),f.Db(n,oc,1)),2&e&&(f.kc(i=f.Yb())&&(t.customToggleTitle=i.first),f.kc(i=f.Yb())&&(t.customToggleButton=i.first))},viewQuery:function(e,t){var n;1&e&&f.Dc(er,1,f.l),2&e&&f.kc(n=f.Yb())&&(t.allSelectedElement=n.first)},hostVars:4,hostBindings:function(e,t){2&e&&f.Cb("column-switch-wrapper",!0)("active",t.openState)},features:[f.yb([Ia,Rr,ba,Ar])],ngContentSelectors:sr,decls:3,vars:8,consts:[["role","button","type","button","clrPopoverAnchor","","clrPopoverOpenCloseButton","",1,"btn","btn-sm","btn-link","column-toggle--action"],["shape","view-columns","aria-hidden","true"],["class","column-switch","role","dialog","clrFocusTrap","",3,"id",4,"clrPopoverContent","clrPopoverContentAt","clrPopoverContentOutsideClickToClose","clrPopoverContentScrollToClose"],["role","dialog","clrFocusTrap","",1,"column-switch",3,"id"],[1,"switch-header"],["tabindex","-1",1,"clr-sr-only"],["allSelected",""],[4,"ngIf"],["clrPopoverCloseButton","","type","button",1,"btn","btn-sm","btn-link","toggle-switch-close-button"],["shape","window-close","aria-hidden","true"],[1,"switch-content","list-unstyled"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"switch-footer"],[3,"clrAllSelected",4,"ngIf"],["clrCheckbox","","type","checkbox",3,"disabled","ngModel","ngModelChange"],[3,"ngTemplateOutlet"],[3,"clrAllSelected"]],template:function(e,t){1&e&&(f.ec(or),f.Qb(0,"button",0),f.Lb(1,"cds-icon",1),f.Pb(),f.wc(2,ar,14,10,"div",2)),2&e&&(f.Ab("aria-controls",t.popoverId)("aria-owns",t.popoverId)("title",t.commonStrings.keys.pickColumns),f.zb(1),f.Ab("title",t.commonStrings.keys.pickColumns),f.zb(1),f.fc("clrPopoverContent",t.openState)("clrPopoverContentAt",t.smartPosition)("clrPopoverContentOutsideClickToClose",!0)("clrPopoverContentScrollToClose",!0))},directives:function(){return[xa,Ta,wr,Sa,xo,ge.n,wa,ge.m,hc,uo,Re.a,co,Re.j,Re.m,$a,ge.r,oc]},encapsulation:2}),yl),lc=((gl=function(){function e(t,n,i){_(this,e),this.selection=t,this.detailService=n,this.columnsService=i,this.SELECTION_TYPE=zu}return y(e,[{key:"hasHideableColumns",get:function(){return this.columnsService.hasHideableColumns}}]),e}()).\u0275fac=function(e){return new(e||gl)(f.Kb(Xu),f.Kb(Tu),f.Kb(tc))},gl.\u0275cmp=f.Eb({type:gl,selectors:[["clr-dg-footer"]],contentQueries:function(e,t,n){var i;1&e&&f.Db(n,sc,1),2&e&&f.kc(i=f.Yb())&&(t.toggle=i.first)},hostVars:2,hostBindings:function(e,t){2&e&&f.Cb("datagrid-footer",!0)},ngContentSelectors:dr,decls:3,vars:2,consts:[[4,"ngIf"],[1,"clr-form-control-disabled"],[1,"datagrid-footer-select"],["clrCheckbox","","type","checkbox","checked","checked","disabled",""],[1,"datagrid-footer-description"]],template:function(e,t){1&e&&(f.ec(hr),f.wc(0,lr,6,1,"ng-container",0),f.wc(1,cr,5,1,"ng-container",0),f.dc(2)),2&e&&(f.fc("ngIf",t.selection.selectionType===t.SELECTION_TYPE.Multi&&t.selection.current.length>0),f.zb(1),f.fc("ngIf",!t.detailService.isOpen))},directives:[ge.n,uo,co,$a,sc],encapsulation:2}),gl),uc=new f.r("COLUMN_STATE"),cc={provide:uc,useFactory:function(){return new be.a({changes:[]})}},hc=((Ol=function(){function e(t){_(this,e),this._items=t}return y(e,[{key:"trackBy",set:function(e){this._items&&(this._items.trackBy=e)}}]),e}()).\u0275fac=function(e){return new(e||Ol)(f.Kb(Au,8))},Ol.\u0275dir=f.Fb({type:Ol,selectors:[["","ngForTrackBy",""]],inputs:{trackBy:["ngForTrackBy","trackBy"]}}),Ol),dc=((Ml=function(){function e(t,n,i){var r=this;_(this,e),this.el=t,this.renderer=n,this.subscriptions=[],this.subscriptions.push(i.filterRenderSteps(Gu.CLEAR_WIDTHS).subscribe(function(){return r.clearWidth()}))}return y(e,[{key:"columnState",set:function(e){var t=this;this.stateSubscription&&this.stateSubscription.unsubscribe(),this.runAllChanges=ec,this.stateSubscription=e.subscribe(function(e){return t.stateChanges(e)})}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()}),this.stateSubscription&&this.stateSubscription.unsubscribe()}},{key:"stateChanges",value:function(e){var t=this;this.runAllChanges&&(e.changes=this.runAllChanges,delete this.runAllChanges),e.changes&&e.changes.length&&e.changes.forEach(function(n){switch(n){case $u.WIDTH:t.setWidth(e);break;case $u.HIDDEN:t.setHidden(e)}})}},{key:"clearWidth",value:function(){this.renderer.removeClass(this.el.nativeElement,"datagrid-fixed-width"),this.renderer.setStyle(this.el.nativeElement,"width",null)}},{key:"setWidth",value:function(e){e.strictWidth?this.renderer.addClass(this.el.nativeElement,"datagrid-fixed-width"):this.renderer.removeClass(this.el.nativeElement,"datagrid-fixed-width"),this.renderer.setStyle(this.el.nativeElement,"width",e.width+"px")}},{key:"setHidden",value:function(e){e.hidden?this.renderer.addClass(this.el.nativeElement,"datagrid-hidden-column"):this.renderer.removeClass(this.el.nativeElement,"datagrid-hidden-column")}}]),e}()).\u0275fac=function(e){return new(e||Ml)(f.Kb(f.l),f.Kb(f.E),f.Kb(Vu))},Ml.\u0275dir=f.Fb({type:Ml,selectors:[["clr-dg-cell"]]}),Ml),fc=((kl=function(){function e(t,n,i,r,a,o,s){var l=this;_(this,e),this.el=t,this.renderer=n,this.organizer=i,this.domAdapter=r,this.columnResizerService=a,this.columnsService=o,this.columnState=s,this.resizeEmitter=new f.n,this.widthSet=!1,this.autoSet=!1,this.subscriptions=[],this.subscriptions.push(this.organizer.filterRenderSteps(Gu.CLEAR_WIDTHS).subscribe(function(){return l.clearWidth()})),this.subscriptions.push(s.subscribe(function(e){return l.stateChanges(e)}))}return y(e,[{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})}},{key:"stateChanges",value:function(e){var t=this;e.changes&&e.changes.length&&e.changes.forEach(function(n){switch(n){case $u.WIDTH:t.setWidth(e);break;case $u.HIDDEN:t.setHidden(e)}})}},{key:"clearWidth",value:function(){this.widthSet&&!this.columnResizerService.resizedBy&&this.renderer.setStyle(this.el.nativeElement,"width",null),this.autoSet&&this.renderer.removeClass(this.el.nativeElement,"datagrid-fixed-width")}},{key:"detectStrictWidth",value:function(){return this.columnResizerService.resizedBy?this.columnResizerService.widthAfterResize:this.autoSet?0:this.domAdapter.userDefinedWidth(this.el.nativeElement)}},{key:"computeWidth",value:function(e){var t=e;return t||(t=this.domAdapter.scrollWidth(this.el.nativeElement)),t}},{key:"getColumnWidthState",value:function(){var e=this.detectStrictWidth();return{width:this.computeWidth(e),strictWidth:e}}},{key:"setColumnState",value:function(e){this.columnsService.columns[e]=this.columnState}},{key:"setWidth",value:function(e){e.strictWidth?(this.columnResizerService.resizedBy&&(this.resizeEmitter.emit(e.width),this.renderer.setStyle(this.el.nativeElement,"width",e.width+"px"),this.widthSet=!1),this.renderer.addClass(this.el.nativeElement,"datagrid-fixed-width"),this.autoSet=!1):(this.renderer.removeClass(this.el.nativeElement,"datagrid-fixed-width"),this.renderer.setStyle(this.el.nativeElement,"width",e.width+"px"),this.widthSet=!0,this.autoSet=!0)}},{key:"setHidden",value:function(e){e.hidden?this.renderer.addClass(this.el.nativeElement,"datagrid-hidden-column"):this.renderer.removeClass(this.el.nativeElement,"datagrid-hidden-column")}}]),e}()).\u0275fac=function(e){return new(e||kl)(f.Kb(f.l),f.Kb(f.E),f.Kb(Vu),f.Kb(Gl),f.Kb(ic),f.Kb(tc),f.Kb(uc))},kl.\u0275dir=f.Fb({type:kl,selectors:[["clr-dg-column"]],outputs:{resizeEmitter:"clrDgColumnResize"},features:[f.yb([ic,cc])]}),kl),pc=((Cl=function(){function e(){_(this,e)}return y(e,[{key:"userDefinedWidth",value:function(e){return 0}},{key:"scrollBarWidth",value:function(e){return 0}},{key:"scrollWidth",value:function(e){return 0}},{key:"computedHeight",value:function(e){return 0}},{key:"clientRect",value:function(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},{key:"minWidth",value:function(e){return 0}},{key:"focus",value:function(e){}}]),e}()).\u0275fac=function(e){return new(e||Cl)},Cl.\u0275prov=f.Gb({token:Cl,factory:Cl.\u0275fac}),Cl),mc=((El=function(){function e(t){_(this,e),this.columnsService=t,this.subscriptions=[]}return y(e,[{key:"ngAfterContentInit",value:function(){var e=this;this.setColumnState(),this.subscriptions.push(this.cells.changes.subscribe(function(){e.setColumnState()}))}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})}},{key:"setColumnState",value:function(){var e=this;this.cells.length===this.columnsService.columns.length&&this.cells.forEach(function(t,n){e.columnsService.columns[n]&&(t.columnState=e.columnsService.columns[n])})}}]),e}()).\u0275fac=function(e){return new(e||El)(f.Kb(tc))},El.\u0275dir=f.Fb({type:El,selectors:[["clr-dg-row"],["clr-dg-row-detail"]],contentQueries:function(e,t,n){var i;1&e&&f.Db(n,dc,0),2&e&&f.kc(i=f.Yb())&&(t.cells=i)}}),El),vc=function(e){return Object(ge.A)(e)?new Gl:new pc},gc=((Il=function(){function e(t,n,i,r,a,o,s,l,u){var c=this;_(this,e),this.organizer=t,this.items=n,this.page=i,this.domAdapter=r,this.el=a,this.renderer=o,this.detailService=s,this.tableSizeService=l,this.columnsService=u,this._heightSet=!1,this.subscriptions=[],this.columnsSizesStable=!1,this.shouldStabilizeColumns=!0,this.subscriptions.push(this.organizer.filterRenderSteps(Gu.COMPUTE_COLUMN_WIDTHS).subscribe(function(){return c.computeHeadersWidth()})),this.subscriptions.push(this.page.sizeChange.subscribe(function(){c._heightSet&&c.resetDatagridHeight()})),this.subscriptions.push(this.detailService.stateChange.subscribe(function(e){return c.toggleDetailPane(e)})),this.subscriptions.push(this.items.change.subscribe(function(){return c.shouldStabilizeColumns=!0}))}return y(e,[{key:"ngAfterContentInit",value:function(){var e=this;this.setupColumns(),this.subscriptions.push(this.headers.changes.subscribe(function(){e.setupColumns(),e.columnsSizesStable=!1,e.stabilizeColumns()}))}},{key:"ngAfterViewInit",value:function(){this.tableSizeService.table=this.el}},{key:"ngAfterViewChecked",value:function(){var e=this;this.shouldStabilizeColumns&&this.stabilizeColumns(),this.shouldComputeHeight()&&setTimeout(function(){e.computeDatagridHeight()})}},{key:"setupColumns",value:function(){this.headers.forEach(function(e,t){return e.setColumnState(t)}),this.columnsService.columns.splice(this.headers.length),this.rows.forEach(function(e){return e.setColumnState()})}},{key:"shouldComputeHeight",value:function(){return!this._heightSet&&this.page.size>0&&this.items.displayed.length===this.page.size}},{key:"toggleDetailPane",value:function(e){var t=this;this.headers&&(e&&!this.columnsService.hasCache()?(this.columnsService.cache(),this.headers.forEach(function(n,i){i>0&&t.columnsService.emitStateChangeAt(i,{changes:[$u.HIDDEN],hidden:e})})):e||this.columnsService.resetToLastCache())}},{key:"computeDatagridHeight",value:function(){var e=this.domAdapter.clientRect(this.el.nativeElement).height;this.renderer.setStyle(this.el.nativeElement,"height",e+"px"),this._heightSet=!0}},{key:"resetDatagridHeight",value:function(){this.renderer.setStyle(this.el.nativeElement,"height",""),this._heightSet=!1}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})}},{key:"computeHeadersWidth",value:function(){var e=this,t=this.headers.length,n=!0;this.headers.forEach(function(i,r){var a=Object.assign({changes:[$u.WIDTH]},i.getColumnWidthState());a.strictWidth||(n=!1),t===r+1&&n&&(a.strictWidth=0),e.columnsService.emitStateChangeAt(r,a)})}},{key:"stabilizeColumns",value:function(){this.shouldStabilizeColumns=!1,this.columnsSizesStable||this.items.displayed.length>0&&(this.organizer.resize(),this.columnsSizesStable=!0)}}]),e}()).\u0275fac=function(e){return new(e||Il)(f.Kb(Vu),f.Kb(Au),f.Kb(ru),f.Kb(Gl),f.Kb(f.l),f.Kb(f.E),f.Kb(Tu),f.Kb(Qu),f.Kb(tc))},Il.\u0275dir=f.Fb({type:Il,selectors:[["clr-datagrid"]],contentQueries:function(e,t,n){var i;1&e&&(f.Db(n,fc,0),f.Db(n,mc,1)),2&e&&(f.kc(i=f.Yb())&&(t.headers=i),f.kc(i=f.Yb())&&(t.rows=i))},features:[f.yb([{provide:Gl,useFactory:vc,deps:[f.C]}])]}),Il),yc=((Rl=function e(){_(this,e),W.addIcons(ie,re,ne,ae,oe,se,le,ue,ce)}).\u0275fac=function(e){return new(e||Rl)},Rl.\u0275mod=f.Ib({type:Rl}),Rl.\u0275inj=f.Hb({imports:[[ge.c,xr,jl,Re.h,Fl,To,Ul,$l,Jl,Pl,Ea,Eo,tu]]}),Rl),_c=((Al=function e(){_(this,e),W.addIcons(J)}).\u0275fac=function(e){return new(e||Al)},Al.\u0275mod=f.Ib({type:Al}),Al.\u0275inj=f.Hb({imports:[[ge.c,Re.h,xr,$l]]}),Al);new f.B,new f.J;var bc,Sc,Tc,wc=((Sc=function e(){_(this,e),W.addIcons(J)}).\u0275fac=function(e){return new(e||Sc)},Sc.\u0275mod=f.Ib({type:Sc}),Sc.\u0275inj=f.Hb({imports:[[ge.c,xr,Fl]]}),Sc),xc=((bc=function e(){_(this,e)}).\u0275fac=function(e){return new(e||bc)},bc.\u0275mod=f.Ib({type:bc}),bc.\u0275inj=f.Hb({imports:[yc,_c,wc]}),bc),Ec=function(){function e(){_(this,e)}return y(e,null,[{key:"linkParent",value:function(e,t,n){e.forEach(function(e){return e[n]=t})}},{key:"linkVertical",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.forEach(function(t,n){n>0&&(t.up=e[n-1]),n<e.length-1&&(t.down=e[n+1])}),t&&e.length>1&&(e[0].up=e[e.length-1],e[e.length-1].down=e[0])}}]),e}();function Cc(e,t,n){return Ee.a.create(function(i){t(i);var r=e.subscribe(i);return function(){r.unsubscribe(),n&&n(i)}})}us(((Tc=function(){function e(t,n,i,r,a,o){_(this,e),this.id=t,this.renderer=n,this.parent=i,this.toggleService=r,this.focusService=a,this.platformId=o,this._unlistenFuncs=[],this.focusBackOnTrigger=!1,this.resetChildren(),this.moveToFirstItemWhenOpen(),this.parent||this.handleRootFocus()}return y(e,[{key:"moveToFirstItemWhenOpen",value:function(){var e=this;this.toggleService.openChange.subscribe(function(t){t&&e.toggleService.originalEvent&&setTimeout(function(){e.focusService.moveTo(e),e.focusService.move(e.parent?hs.RIGHT:hs.DOWN)})})}},{key:"handleRootFocus",value:function(){var e=this;this.toggleService.openChange.subscribe(function(t){t||(e.focusService.reset(e),e.focusBackOnTrigger&&e.focus()),e.focusBackOnTrigger=t})}},{key:"trigger",get:function(){return this._trigger},set:function(e){var t=this;this._trigger=e,this.parent?this._unlistenFuncs.push(this.renderer.listen(e,"keydown.arrowright",function(e){return t.toggleService.toggleWithEvent(e)})):(this._unlistenFuncs.push(this.renderer.listen(e,"keydown.arrowup",function(e){return t.toggleService.toggleWithEvent(e)})),this._unlistenFuncs.push(this.renderer.listen(e,"keydown.arrowdown",function(e){return t.toggleService.toggleWithEvent(e)})),this.focusService.listenToArrowKeys(e))}},{key:"container",get:function(){return this._container},set:function(e){var t=this;this._container=e,this._unlistenFuncs.push(this.renderer.listen(e,"keydown.tab",function(e){return t.toggleService.toggleWithEvent(e)})),this.parent?this._unlistenFuncs.push(this.renderer.listen(e,"keydown.esc",function(e){t.focusService.move(hs.LEFT),e.stopPropagation()})):(this.focusService.registerContainer(e),this._unlistenFuncs.push(this.renderer.listen(e,"keydown.esc",function(e){return t.toggleService.toggleWithEvent(e)})),this._unlistenFuncs.push(this.renderer.listen(e,"blur",function(n){t.children.pipe(Object(Me.a)(1)).subscribe(function(e){return e.forEach(function(e){return e.blur()})});var i=n.relatedTarget||document.activeElement;i&&Object(ge.A)(t.platformId)&&(e.contains(i)||i===t.trigger)||(t.focusBackOnTrigger=!1,t.toggleService.open=!1)})))}},{key:"focus",value:function(){this.trigger&&Object(ge.A)(this.platformId)&&this.trigger.focus()}},{key:"blur",value:function(){this.trigger&&Object(ge.A)(this.platformId)&&this.trigger.blur()}},{key:"activate",value:function(){Object(ge.A)(this.platformId)&&this.trigger.click()}},{key:"openAndGetChildren",value:function(){var e=this;return Cc(this.children,function(){return e.toggleService.open=!0})}},{key:"closeAndGetThis",value:function(){var e=this;return Cc(Object(Se.a)(this),function(){return e.toggleService.open=!1})}},{key:"resetChildren",value:function(){this.children=new Te.a(1),this.parent?this.right=this.openAndGetChildren().pipe(Object(Oe.a)(function(e){return e[0]})):(this.down=this.openAndGetChildren().pipe(Object(Oe.a)(function(e){return e[0]})),this.up=this.openAndGetChildren().pipe(Object(Oe.a)(function(e){return e[e.length-1]})))}},{key:"addChildren",value:function(e){Ec.linkVertical(e),this.parent&&Ec.linkParent(e,this.closeAndGetThis(),hs.LEFT),this.children.next(e)}},{key:"ngOnDestroy",value:function(){this._unlistenFuncs.forEach(function(e){return e()}),this.focusService.detachListeners()}}]),e}()).\u0275fac=function(e){return new(e||Tc)(f.Ub(Ra),f.Ub(f.E),f.Ub(Tc,12),f.Ub(Ar),f.Ub(ms),f.Ub(f.C))},Tc.\u0275prov=f.Gb({token:Tc,factory:Tc.\u0275fac}),Tc)),new f.B,new f.J;var kc,Mc,Oc,Ac,Rc,Ic,Lc,Pc,Dc,Nc,jc,Fc,Uc,Gc,Vc=function(e){return e[e.RIGHT_CENTER=0]="RIGHT_CENTER",e[e.RIGHT_TOP=1]="RIGHT_TOP",e[e.RIGHT_BOTTOM=2]="RIGHT_BOTTOM",e[e.TOP_CENTER=3]="TOP_CENTER",e[e.TOP_RIGHT=4]="TOP_RIGHT",e[e.TOP_LEFT=5]="TOP_LEFT",e[e.BOTTOM_CENTER=6]="BOTTOM_CENTER",e[e.BOTTOM_RIGHT=7]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=8]="BOTTOM_LEFT",e[e.LEFT_CENTER=9]="LEFT_CENTER",e[e.LEFT_TOP=10]="LEFT_TOP",e[e.LEFT_BOTTOM=11]="LEFT_BOTTOM",e}({}),Bc=function(){function e(t){_(this,e),this.element=t,this.scrollableElements=[],this.boundOnScrollListener=this.emitScrollEvent.bind(this),t.style.position="absolute",t.style.top=0,t.style.bottom="auto",t.style.left=0,t.style.right="auto"}return y(e,[{key:"anchor",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=i.offsetX,a=void 0===r?0:r,o=i.offsetY,s=void 0===o?0:o,l=i.useAnchorParent,u=void 0!==l&&l;this.addScrollEventListeners(e),u&&(e=e.parentNode),e.style.position="static";var c=e.getBoundingClientRect(),h=this.element.getBoundingClientRect(),d=c.left-h.left+a,f=c.top-h.top+s;switch(t){case Vc.LEFT_TOP:case Vc.TOP_LEFT:break;case Vc.TOP_CENTER:d+=c.width/2;break;case Vc.TOP_RIGHT:case Vc.RIGHT_TOP:d+=c.width;break;case Vc.LEFT_BOTTOM:case Vc.BOTTOM_LEFT:f+=c.height;break;case Vc.BOTTOM_CENTER:f+=c.height,d+=c.width/2;break;case Vc.BOTTOM_RIGHT:case Vc.RIGHT_BOTTOM:f+=c.height,d+=c.width;break;case Vc.LEFT_CENTER:f+=c.height/2;break;case Vc.RIGHT_CENTER:f+=c.height/2,d+=c.width}switch(n){case Vc.LEFT_TOP:case Vc.TOP_LEFT:break;case Vc.TOP_CENTER:d-=h.width/2;break;case Vc.TOP_RIGHT:case Vc.RIGHT_TOP:d-=h.width;break;case Vc.LEFT_BOTTOM:case Vc.BOTTOM_LEFT:f-=h.height;break;case Vc.BOTTOM_CENTER:f-=h.height,d-=h.width/2;break;case Vc.BOTTOM_RIGHT:case Vc.RIGHT_BOTTOM:f-=h.height,d-=h.width;break;case Vc.LEFT_CENTER:f-=h.height/2;break;case Vc.RIGHT_CENTER:f-=h.height/2,d-=h.width}var p=getComputedStyle(this.element),m=parseInt(p.marginLeft,10),v=parseInt(p.marginRight,10),g=parseInt(p.marginTop,10),y=parseInt(p.marginBottom,10);switch(t){case Vc.LEFT_TOP:case Vc.TOP_LEFT:case Vc.TOP_RIGHT:case Vc.RIGHT_TOP:n!==Vc.BOTTOM_RIGHT&&n!==Vc.RIGHT_BOTTOM||(f-=y,d-=v),n!==Vc.BOTTOM_LEFT&&n!==Vc.LEFT_BOTTOM||(f-=g,d+=m),n!==Vc.TOP_LEFT&&n!==Vc.LEFT_TOP||(f+=g,d+=m),n!==Vc.TOP_RIGHT&&n!==Vc.RIGHT_TOP||(f+=g,d-=v);break;case Vc.LEFT_BOTTOM:case Vc.BOTTOM_LEFT:case Vc.BOTTOM_RIGHT:case Vc.RIGHT_BOTTOM:n!==Vc.BOTTOM_LEFT&&n!==Vc.LEFT_BOTTOM||(f-=y,d+=m),n!==Vc.BOTTOM_RIGHT&&n!==Vc.RIGHT_BOTTOM||(f-=y,d-=v),n!==Vc.TOP_LEFT&&n!==Vc.LEFT_TOP||(f+=g,d+=m),n!==Vc.TOP_RIGHT&&n!==Vc.RIGHT_TOP||(f+=g,d-=v);break;case Vc.TOP_CENTER:f-=y,d+=m,d-=v;break;case Vc.BOTTOM_CENTER:f+=g,d+=m,d-=v;break;case Vc.LEFT_CENTER:f+=g,f-=y,d-=v;break;case Vc.RIGHT_CENTER:f+=g,f-=y,d+=m}return this.element.style.transform="translateX(".concat(Math.round(d),"px) translateY(").concat(Math.round(f),"px)"),this._scroll.asObservable()}},{key:"release",value:function(){this.element.style.transform="",this.removeScrollEventListeners()}},{key:"isPositioned",value:function(e){var t=getComputedStyle(e).position;return"relative"===t||"absolute"===t||"fixed"===t}},{key:"emitScrollEvent",value:function(){this._scroll.next()}},{key:"addScrollEventListeners",value:function(e){this._scroll=new ye.a;for(var t=e,n=e;n&&n!==document&&(this.scrolls(n)&&(n.addEventListener("scroll",this.boundOnScrollListener),this.scrollableElements.push(n)),n===t||!this.isPositioned(n));)n=n.parentNode}},{key:"removeScrollEventListeners",value:function(){var e,t=h(this.scrollableElements);try{for(t.s();!(e=t.n()).done;){e.value.removeEventListener("scroll",this.boundOnScrollListener)}}catch(n){t.e(n)}finally{t.f()}this.scrollableElements.length=0,this._scroll&&(this._scroll.complete(),delete this._scroll)}},{key:"scrolls",value:function(e){var t=getComputedStyle(e);return"scroll"===t.overflowX||"auto"===t.overflowX||"scroll"===t.overflowY||"auto"===t.overflowY}}]),e}(),zc=((Rc=function(){function e(t,n){var i=this;_(this,e),this.parentHost=n,this.updateAnchor=!1,this.popoverOptions={},this.closeOnOutsideClick=!1,this.el=t.get(f.l),this.toggleService=t.get(Ar),this.renderer=t.get(f.E),this.anchorElem=n.nativeElement,this.popoverInstance=new Bc(this.el.nativeElement),this.subscription=this.toggleService.openChange.subscribe(function(e){e?(i.anchor(),i.attachESCListener()):(i.release(),i.detachESCListener())}),this.toggleService.open&&(this.anchor(),this.attachESCListener())}return y(e,[{key:"anchor",value:function(){this.updateAnchor=!0,this.ignore=this.toggleService.originalEvent}},{key:"release",value:function(){this.detachOutsideClickListener(),this.popoverInstance.release()}},{key:"ngAfterViewChecked",value:function(){var e=this;this.updateAnchor&&(this.updateAnchor=!1,this.popoverInstance.anchor(this.anchorElem,this.anchorPoint,this.popoverPoint,this.popoverOptions).subscribe(function(){e.toggleService.open=!1}),this.attachOutsideClickListener())}},{key:"ngOnDestroy",value:function(){this.release(),this.detachESCListener(),this.subscription.unsubscribe()}},{key:"isOffScreen",get:function(){return!this.toggleService.open}},{key:"attachESCListener",value:function(){var e=this;this.popoverOptions.ignoreGlobalESCListener||(this.documentESCListener=this.renderer.listen("document","keydown",function(t){t&&t.key&&("Escape"!==t.key&&"Esc"!==t.key||(e.toggleService.open=!1))}))}},{key:"detachESCListener",value:function(){this.documentESCListener&&(this.documentESCListener(),delete this.documentESCListener)}},{key:"attachOutsideClickListener",value:function(){var e=this;this.closeOnOutsideClick&&(this.hostClickListener=this.renderer.listen(this.el.nativeElement,"click",function(t){return e.ignore=t}),this.ignoredElement&&(this.ignoredElementClickListener=this.renderer.listen(this.ignoredElement,"click",function(t){return e.ignore=t})),this.documentClickListener=this.renderer.listen("document","click",function(t){t===e.ignore?delete e.ignore:e.toggleService.open=!1}))}},{key:"detachOutsideClickListener",value:function(){this.closeOnOutsideClick&&(this.hostClickListener&&(this.hostClickListener(),delete this.hostClickListener),this.ignoredElementClickListener&&(this.ignoredElementClickListener(),delete this.ignoredElementClickListener),this.documentClickListener&&(this.documentClickListener(),delete this.documentClickListener))}}]),e}()).\u0275fac=function(e){return new(e||Rc)(f.Kb(f.s),f.Kb(f.l,4))},Rc.\u0275dir=f.Fb({type:Rc,hostVars:2,hostBindings:function(e,t){2&e&&f.Cb("is-off-screen",t.isOffScreen)}}),Rc),Hc=((Ac=function e(){_(this,e)}).\u0275fac=function(e){return new(e||Ac)},Ac.\u0275mod=f.Ib({type:Ac}),Ac.\u0275inj=f.Hb({imports:[[ge.c],To,xr]}),Ac),Xc=((Oc=function e(){_(this,e)}).\u0275fac=function(e){return new(e||Oc)},Oc.\u0275dir=f.Fb({type:Oc,selectors:[["",8,"alert-text"]]}),Oc),qc=((Mc=function e(){_(this,e),W.addIcons(Z,he,K,de,ne)}).\u0275fac=function(e){return new(e||Mc)},Mc.\u0275mod=f.Ib({type:Mc}),Mc.\u0275inj=f.Hb({imports:[[ge.c,xr,Hc]]}),Mc),Wc=((kc=function e(){_(this,e)}).\u0275fac=function(e){return new(e||kc)},kc.\u0275mod=f.Ib({type:kc}),kc.\u0275inj=f.Hb({imports:[qc]}),kc),Yc=function(){var e=function e(){_(this,e)};return e.NAV_LEVEL_1=1,e.NAV_LEVEL_2=2,e.NAV_CLOSE_ALL="NAV_CLOSE_ALL",e.NAV_OPEN="NAV_OPEN",e.NAV_CLOSE="NAV_CLOSE",e.NAV_TOGGLE="NAV_TOGGLE",e.NAV_CLASS_HAMBURGER_MENU="open-hamburger-menu",e.NAV_CLASS_OVERFLOW_MENU="open-overflow-menu",e.NAV_CLASS_TRIGGER_1="header-hamburger-trigger",e.NAV_CLASS_TRIGGER_2="header-overflow-trigger",e.NAV_CLASS_LEVEL_1="clr-nav-level-1",e.NAV_CLASS_LEVEL_2="clr-nav-level-2",e}(),Kc=function(){function e(t,n){_(this,e),this._controlCode=t,this._navLevel=n}return y(e,[{key:"controlCode",get:function(){return this._controlCode}},{key:"navLevel",get:function(){return this._navLevel}}]),e}(),Zc=((Dc=function(){function e(){_(this,e),this.responsiveNavList=[],this.registerNavSubject=new Te.a,this.controlNavSubject=new ye.a,this.closeAllNavs()}return y(e,[{key:"registeredNavs",get:function(){return this.registerNavSubject.asObservable()}},{key:"navControl",get:function(){return this.controlNavSubject.asObservable()}},{key:"registerNav",value:function(e){e&&!this.isNavRegistered(e)&&(this.responsiveNavList.push(e),this.registerNavSubject.next(this.responsiveNavList))}},{key:"isNavRegistered",value:function(e){return this.responsiveNavList.indexOf(e)>-1&&(console.error("Multiple clr-nav-level "+e+" attributes found. Please make sure that only one exists"),!0)}},{key:"unregisterNav",value:function(e){var t=this.responsiveNavList.indexOf(e);t>-1&&(this.responsiveNavList.splice(t,1),this.registerNavSubject.next(this.responsiveNavList))}},{key:"sendControlMessage",value:function(e,t){var n=new Kc(e,t);this.controlNavSubject.next(n)}},{key:"closeAllNavs",value:function(){var e=new Kc(Yc.NAV_CLOSE_ALL,-999);this.controlNavSubject.next(e)}}]),e}()).\u0275fac=function(e){return new(e||Dc)},Dc.\u0275prov=Object(f.Gb)({factory:function(){return new Dc},token:Dc,providedIn:"root"}),Dc),Jc=((Pc=function(){function e(t,n){_(this,e),this.elRef=t,this.responsiveNavService=n}return y(e,[{key:"ngOnInit",value:function(){var e=this;this._classList=this.elRef.nativeElement.classList,this._subscription=this.responsiveNavService.navControl.subscribe({next:function(t){e.processMessage(t)}})}},{key:"processMessage",value:function(e){var t=Yc.NAV_CLASS_HAMBURGER_MENU;e.controlCode===Yc.NAV_CLOSE_ALL?(this._classList.remove(Yc.NAV_CLASS_HAMBURGER_MENU),this._classList.remove(Yc.NAV_CLASS_OVERFLOW_MENU)):e.navLevel===Yc.NAV_LEVEL_1?this.controlNav(e.controlCode,t):e.navLevel===Yc.NAV_LEVEL_2&&(t=Yc.NAV_CLASS_OVERFLOW_MENU,this.controlNav(e.controlCode,t))}},{key:"controlNav",value:function(e,t){e===Yc.NAV_OPEN?this._classList.add(t):e===Yc.NAV_CLOSE?this._classList.remove(t):e===Yc.NAV_TOGGLE&&this._classList.toggle(t)}},{key:"ngOnDestroy",value:function(){this._subscription.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||Pc)(f.Kb(f.l),f.Kb(Zc))},Pc.\u0275dir=f.Fb({type:Pc,selectors:[["clr-main-container"]],hostVars:2,hostBindings:function(e,t){2&e&&f.Cb("main-container",!0)}}),Pc),Qc=((Lc=function e(){_(this,e)}).\u0275fac=function(e){return new(e||Lc)},Lc.\u0275mod=f.Ib({type:Lc}),Lc.\u0275inj=f.Hb({imports:[[ge.c,xr]]}),Lc),$c=((Ic=function(e){b(n,e);var t=T(n);function n(){return _(this,n),t.apply(this,arguments)}return n}(vu)).\u0275fac=function(e){return eh(e||Ic)},Ic.\u0275dir=f.Fb({type:Ic,selectors:[["clr-main-container"]],features:[f.wb]}),Ic),eh=f.Sb($c),th=((Gc=function(e){b(n,e);var t=T(n);function n(e,i,r){var a;if(_(this,n),!i)throw new Error("clr-header should only be used inside of a clr-main-container");return(a=t.call(this,e,i)).responsiveNavService=r,a}return y(n,[{key:"flavor",get:function(){return this.responsiveNavService.responsiveNavList.reduce(function(e,t){return e+t},0)}}]),n}(gu)).\u0275fac=function(e){return new(e||Gc)(f.Kb(f.h),f.Kb($c,8),f.Kb(Zc))},Gc.\u0275dir=f.Fb({type:Gc,selectors:[["clr-header"]],features:[f.wb]}),Gc),nh=((Uc=function(){function e(t,n){var i=this;_(this,e),this.responsiveNavService=t,this.commonStrings=n,this.isNavLevel1OnPage=!1,this.isNavLevel2OnPage=!1,this.openNavLevel=null,this.responsiveNavCodes=Yc,this._subscription=this.responsiveNavService.registeredNavs.subscribe({next:function(e){i.initializeNavTriggers(e)}})}return y(e,[{key:"resetNavTriggers",value:function(){this.isNavLevel1OnPage=!1,this.isNavLevel2OnPage=!1}},{key:"initializeNavTriggers",value:function(e){var t=this;this.resetNavTriggers(),e.length>2?console.error("More than 2 Nav Levels detected."):e.forEach(function(e){e===Yc.NAV_LEVEL_1?t.isNavLevel1OnPage=!0:e===Yc.NAV_LEVEL_2&&(t.isNavLevel2OnPage=!0)})}},{key:"closeOpenNav",value:function(){this.responsiveNavService.closeAllNavs()}},{key:"toggleNav",value:function(e){this.openNavLevel=this.openNavLevel===e?null:e,this.responsiveNavService.sendControlMessage(Yc.NAV_TOGGLE,e)}},{key:"ngOnDestroy",value:function(){this._subscription.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||Uc)(f.Kb(Zc),f.Kb(Oa))},Uc.\u0275cmp=f.Eb({type:Uc,selectors:[["clr-header"]],hostVars:2,hostBindings:function(e,t){2&e&&f.Cb("header",!0)},ngContentSelectors:Zt,decls:4,vars:2,consts:[["type","button","class","header-hamburger-trigger",3,"click",4,"ngIf"],["type","button","class","header-overflow-trigger",3,"click",4,"ngIf"],[1,"header-backdrop",3,"click"],["type","button",1,"header-hamburger-trigger",3,"click"],["type","button",1,"header-overflow-trigger",3,"click"]],template:function(e,t){1&e&&(f.ec(),f.wc(0,fr,2,1,"button",0),f.dc(1),f.wc(2,pr,2,1,"button",1),f.Qb(3,"div",2),f.Xb("click",function(){return t.closeOpenNav()}),f.Pb()),2&e&&(f.fc("ngIf",t.isNavLevel1OnPage),f.zb(2),f.fc("ngIf",t.isNavLevel2OnPage))},directives:[ge.n],encapsulation:2}),Uc),ih=((Fc=function(){function e(t,n){_(this,e),this.responsiveNavService=t,this.elementRef=n}return y(e,[{key:"ngOnInit",value:function(){this.level===Yc.NAV_LEVEL_1||this.level===Yc.NAV_LEVEL_2?(this.responsiveNavService.registerNav(this.level),this.addNavClass(this.level)):console.error("Nav Level can only be 1 or 2")}},{key:"addNavClass",value:function(e){var t=this.elementRef.nativeElement.classList;e===Yc.NAV_LEVEL_1?t.add(Yc.NAV_CLASS_LEVEL_1):e===Yc.NAV_LEVEL_2&&t.add(Yc.NAV_CLASS_LEVEL_2)}},{key:"level",get:function(){return this._level}},{key:"responsiveNavCodes",get:function(){return Yc}},{key:"open",value:function(){this.responsiveNavService.sendControlMessage(Yc.NAV_OPEN,this.level)}},{key:"close",value:function(){this.responsiveNavService.sendControlMessage(Yc.NAV_CLOSE,this.level)}},{key:"onMouseClick",value:function(e){for(var t=e,n=this.elementRef.nativeElement;t;){if(t===n)return;if(t.classList.contains("nav-link"))return void this.close();t=t.parentNode}}},{key:"ngOnDestroy",value:function(){this.responsiveNavService.unregisterNav(this.level)}}]),e}()).\u0275fac=function(e){return new(e||Fc)(f.Kb(Zc),f.Kb(f.l))},Fc.\u0275dir=f.Fb({type:Fc,selectors:[["","clr-nav-level",""]],hostBindings:function(e,t){1&e&&f.Xb("click",function(e){return t.onMouseClick(e.target)})},inputs:{_level:["clr-nav-level","_level"]}}),Fc),rh=((jc=function e(){_(this,e)}).\u0275fac=function(e){return new(e||jc)},jc.\u0275mod=f.Ib({type:jc}),jc.\u0275inj=f.Hb({imports:[[ge.c,xr,Hc]]}),jc),ah=((Nc=function e(){_(this,e)}).\u0275fac=function(e){return new(e||Nc)},Nc.\u0275mod=f.Ib({type:Nc}),Nc.\u0275inj=f.Hb({imports:[[ge.c]]}),Nc);new f.r("TABS_ID");var oh,sh,lh,uh,ch,hh,dh,fh,ph,mh,vh,gh,yh,_h,bh,Sh,Th,wh=((gh=function e(){_(this,e),W.addIcons(Y)}).\u0275fac=function(e){return new(e||gh)},gh.\u0275mod=f.Ib({type:gh}),gh.\u0275inj=f.Hb({imports:[[ge.c,To,xr,ah,Dl],To]}),gh),xh=((vh=function(){function e(){_(this,e),this.navGroupCount=0}return y(e,[{key:"registerNavGroup",value:function(){this.navGroupCount++}},{key:"unregisterNavGroup",value:function(){this.navGroupCount--}}]),e}()).\u0275fac=function(e){return new(e||vh)},vh.\u0275prov=f.Gb({token:vh,factory:vh.\u0275fac}),vh),Eh=((mh=function(){function e(){_(this,e),this._icons=0}return y(e,[{key:"hasIcons",get:function(){return this._icons>0}},{key:"registerIcon",value:function(){this._icons++}},{key:"unregisterIcon",value:function(){this._icons--}}]),e}()).\u0275fac=function(e){return new(e||mh)},mh.\u0275prov=f.Gb({token:mh,factory:mh.\u0275fac}),mh),Ch=((ph=function(){function e(){_(this,e),this._animateOnCollapsed=new ye.a,this._collapsedChanged=new ye.a,this._collapsed=!1,this._collapsible=!1}return y(e,[{key:"animateOnCollapsed",get:function(){return this._animateOnCollapsed.asObservable()}},{key:"collapsedChanged",get:function(){return this._collapsedChanged.asObservable()}},{key:"collapsed",get:function(){return this._collapsed},set:function(e){e=!!e,this.collapsible&&this._collapsed!==e&&this.updateCollapseBehavior(e)}},{key:"collapsible",get:function(){return this._collapsible},set:function(e){this._collapsible!==(e=!!e)&&(!e&&this.collapsed&&this.updateCollapseBehavior(!1),this._collapsible=e)}},{key:"updateCollapseBehavior",value:function(e){this._animateOnCollapsed.next(e),this._collapsed=e,this._collapsedChanged.next(e)}}]),e}()).\u0275fac=function(e){return new(e||ph)},ph.\u0275prov=f.Gb({token:ph,factory:ph.\u0275fac}),ph),kh=((fh=function(){function e(t,n,i,r){var a=this;_(this,e),this._navService=t,this._navIconService=n,this._navGroupRegistrationService=i,this.commonStrings=r,this._collapsedChanged=new f.n(!0),this._sub=this._navService.collapsedChanged.subscribe(function(e){a._collapsedChanged.emit(e)})}return y(e,[{key:"collapsible",get:function(){return this._navService.collapsible},set:function(e){this._navService.collapsible=e}},{key:"collapsed",get:function(){return this._navService.collapsed},set:function(e){this._navService.collapsed=e}},{key:"hasNavGroups",get:function(){return this._navGroupRegistrationService.navGroupCount>0}},{key:"hasIcons",get:function(){return this._navIconService.hasIcons}},{key:"ariaExpanded",get:function(){return this.collapsible?this.collapsed?"false":"true":null}},{key:"toggleByButton",value:function(){this.collapsed=!this.collapsed}},{key:"ngOnDestroy",value:function(){this._sub.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||fh)(f.Kb(Ch),f.Kb(Eh),f.Kb(xh),f.Kb(Oa))},fh.\u0275cmp=f.Eb({type:fh,selectors:[["clr-vertical-nav"]],hostAttrs:[1,"clr-vertical-nav"],hostVars:6,hostBindings:function(e,t){2&e&&f.Cb("is-collapsed",t.collapsed)("has-nav-groups",t.hasNavGroups)("has-icons",t.hasIcons)},inputs:{collapsible:["clrVerticalNavCollapsible","collapsible"],collapsed:["clrVerticalNavCollapsed","collapsed"]},outputs:{_collapsedChanged:"clrVerticalNavCollapsedChange"},features:[f.yb([Ch,Eh,xh])],ngContentSelectors:Zt,decls:4,vars:2,consts:[["type","button","class","nav-trigger",3,"on-collapse","click",4,"ngIf"],[1,"nav-content"],["class","nav-btn","aria-hidden","true","tabindex","-1",3,"click",4,"ngIf"],["type","button",1,"nav-trigger",3,"click"],["shape","angle-double",1,"nav-trigger-icon"],["aria-hidden","true","tabindex","-1",1,"nav-btn",3,"click"]],template:function(e,t){1&e&&(f.ec(),f.wc(0,mr,2,6,"button",0),f.Qb(1,"div",1),f.dc(2),f.wc(3,vr,1,1,"button",2),f.Pb()),2&e&&(f.fc("ngIf",t.collapsible),f.zb(3),f.fc("ngIf",t.collapsible&&t.collapsed))},directives:[ge.n,wr],encapsulation:2}),fh),Mh=((dh=function(){function e(){_(this,e),this._expandChange=new ye.a}return y(e,[{key:"expandChange",get:function(){return this._expandChange.asObservable()}},{key:"expand",value:function(){this._expandChange.next(!0)}}]),e}()).\u0275fac=function(e){return new(e||dh)},dh.\u0275prov=f.Gb({token:dh,factory:dh.\u0275fac}),dh),Oh=((hh=function(){function e(t,n,i,r,a){var o=this;_(this,e),this._itemExpand=t,this._navGroupRegistrationService=n,this._navGroupService=i,this._navService=r,this.commonStrings=a,this.wasExpanded=!1,this.expandedChange=new f.n(!0),this._subscriptions=[],this._expandAnimationState="collapsed",this._navGroupRegistrationService.registerNavGroup(),this._subscriptions.push(this._itemExpand.expandChange.subscribe(function(e){e&&"collapsed"===o.expandAnimationState?(o._navService.collapsed&&(o._navService.collapsed=!1),o.expandAnimationState="expanded"):e||"expanded"!==o.expandAnimationState||(o.expandAnimationState="collapsed")})),this._subscriptions.push(this._navService.animateOnCollapsed.subscribe(function(e){e&&o.expanded?(o.wasExpanded=!0,o.expandAnimationState="collapsed"):!e&&o.wasExpanded&&(o.expandGroup(),o.wasExpanded=!1)})),this._subscriptions.push(this._navGroupService.expandChange.subscribe(function(e){e&&!o.expanded&&o.expandGroup()}))}return y(e,[{key:"expanded",get:function(){return this._itemExpand.expanded},set:function(e){this._itemExpand.expanded!==e&&(this._itemExpand.expanded=e,this.expandedChange.emit(e))}},{key:"userExpandedInput",set:function(e){this.expanded!==(e=!!e)&&this.toggleExpand()}},{key:"expandGroup",value:function(){this.expanded=!0,this.expandAnimationState="expanded"}},{key:"collapseGroup",value:function(){this.expandAnimationState="collapsed"}},{key:"expandAnimationDone",value:function(e){"collapsed"===e.toState&&(this.expanded=!1)}},{key:"expandAnimationState",get:function(){return this._expandAnimationState},set:function(e){e!==this._expandAnimationState&&(this._expandAnimationState=e)}},{key:"toggleExpand",value:function(){this.expanded?this.collapseGroup():(this._navService.collapsed&&(this._navService.collapsed=!1),this.expandGroup())}},{key:"ngAfterContentInit",value:function(){this._navService.collapsed&&this.expanded&&(this.wasExpanded=!0,this.expandAnimationState="collapsed")}},{key:"ngOnDestroy",value:function(){this._subscriptions.forEach(function(e){return e.unsubscribe()}),this._navGroupRegistrationService.unregisterNavGroup()}}]),e}()).\u0275fac=function(e){return new(e||hh)(f.Kb(So),f.Kb(xh),f.Kb(Mh),f.Kb(Ch),f.Kb(Oa))},hh.\u0275cmp=f.Eb({type:hh,selectors:[["clr-vertical-nav-group"]],hostAttrs:[1,"nav-group"],hostVars:2,hostBindings:function(e,t){2&e&&f.Cb("is-expanded",t.expanded)},inputs:{userExpandedInput:["clrVerticalNavGroupExpanded","userExpandedInput"]},outputs:{expandedChange:"clrVerticalNavGroupExpandedChange"},features:[f.yb([So,Mh])],ngContentSelectors:Sr,decls:9,vars:5,consts:[[1,"nav-group-content"],["type","button",1,"nav-group-trigger",3,"click"],[1,"nav-group-text"],["shape","angle",1,"nav-group-trigger-icon"],[1,"nav-group-children"]],template:function(e,t){1&e&&(f.ec(br),f.Qb(0,"div",0),f.dc(1),f.Qb(2,"button",1),f.Xb("click",function(){return t.toggleExpand()}),f.dc(3,1),f.Qb(4,"div",2),f.dc(5,2),f.Pb(),f.Lb(6,"cds-icon",3),f.Pb(),f.Pb(),f.Qb(7,"div",4),f.Xb("@clrExpand.done",function(e){return t.expandAnimationDone(e)}),f.dc(8,3),f.Pb()),2&e&&(f.zb(2),f.Ab("aria-expanded",t.expanded)("aria-label",t.commonStrings.keys.verticalNavGroupToggle),f.zb(4),f.Ab("direction",t.expanded?"down":"right")("title",t.expanded?t.commonStrings.keys.collapse:t.commonStrings.keys.expand),f.zb(1),f.fc("@clrExpand",t.expandAnimationState))},directives:[wr],encapsulation:2,data:{animation:[Object(Ae.k)("clrExpand",[Object(Ae.h)("expanded",Object(Ae.i)({height:"*"})),Object(Ae.h)("collapsed",Object(Ae.i)({height:0,"overflow-y":"hidden",visibility:"hidden"})),Object(Ae.j)("expanded <=> collapsed",Object(Ae.e)("0.2s ease-in-out"))])]}}),hh),Ah=((ch=function e(){_(this,e)}).\u0275fac=function(e){return new(e||ch)},ch.\u0275cmp=f.Eb({type:ch,selectors:[["clr-vertical-nav-group-children"]],ngContentSelectors:Zt,decls:1,vars:0,template:function(e,t){1&e&&(f.ec(),f.dc(0))},encapsulation:2}),ch),Rh=((uh=function(){function e(t){_(this,e),this._verticalNavIconService=t,this._verticalNavIconService.registerIcon()}return y(e,[{key:"ngOnDestroy",value:function(){this._verticalNavIconService.unregisterIcon()}}]),e}()).\u0275fac=function(e){return new(e||uh)(f.Kb(Eh))},uh.\u0275dir=f.Fb({type:uh,selectors:[["","clrVerticalNavIcon",""]],hostAttrs:[1,"nav-icon"]}),uh),Ih=((lh=function e(){_(this,e),W.addIcons(J,le)}).\u0275fac=function(e){return new(e||lh)},lh.\u0275mod=f.Ib({type:lh}),lh.\u0275inj=f.Hb({imports:[[ge.c,xr,To,tu],To,xr,tu]}),lh),Lh=((sh=function e(){_(this,e)}).\u0275fac=function(e){return new(e||sh)},sh.\u0275mod=f.Ib({type:sh}),sh.\u0275inj=f.Hb({imports:[Qc,rh,wh,Ih]}),sh),Ph=((oh=function e(){_(this,e),W.addIcons(ne)}).\u0275fac=function(e){return new(e||oh)},oh.\u0275mod=f.Ib({type:oh}),oh.\u0275inj=f.Hb({imports:[[ge.c,xr,Eo,tu],xr,tu]}),oh),Dh={"top-left":{anchorPoint:Vc.TOP_CENTER,popoverPoint:Vc.BOTTOM_RIGHT,offsetY:-10,offsetX:0},"top-middle":{anchorPoint:Vc.TOP_CENTER,popoverPoint:Vc.BOTTOM_CENTER,offsetY:-10,offsetX:0},"top-right":{anchorPoint:Vc.TOP_CENTER,popoverPoint:Vc.BOTTOM_LEFT,offsetY:-10,offsetX:0},"right-top":{anchorPoint:Vc.RIGHT_CENTER,popoverPoint:Vc.LEFT_BOTTOM,offsetY:2,offsetX:14},"right-middle":{anchorPoint:Vc.RIGHT_CENTER,popoverPoint:Vc.LEFT_CENTER,offsetY:6,offsetX:14},"right-bottom":{anchorPoint:Vc.RIGHT_CENTER,popoverPoint:Vc.LEFT_TOP,offsetY:-1,offsetX:14},"bottom-right":{anchorPoint:Vc.BOTTOM_CENTER,popoverPoint:Vc.TOP_LEFT,offsetY:9,offsetX:-1},"bottom-middle":{anchorPoint:Vc.BOTTOM_CENTER,popoverPoint:Vc.TOP_CENTER,offsetY:9,offsetX:12},"bottom-left":{anchorPoint:Vc.BOTTOM_CENTER,popoverPoint:Vc.TOP_RIGHT,offsetY:9,offsetX:0},"left-bottom":{anchorPoint:Vc.LEFT_CENTER,popoverPoint:Vc.RIGHT_TOP,offsetY:0,offsetX:-14},"left-middle":{anchorPoint:Vc.LEFT_CENTER,popoverPoint:Vc.RIGHT_CENTER,offsetY:4,offsetX:-14},"left-top":{anchorPoint:Vc.LEFT_CENTER,popoverPoint:Vc.RIGHT_BOTTOM,offsetY:0,offsetX:-14},default:{anchorPoint:Vc.RIGHT_CENTER,popoverPoint:Vc.LEFT_CENTER,offsetY:6,offsetX:14}},Nh=["top-left","top-middle","top-right","right-top","right-middle","right-bottom","bottom-right","bottom-middle","bottom-left","left-bottom","left-middle","left-top"],jh=((Th=function(e){b(n,e);var t=T(n);function n(e,i,r,a,o,s,l,u){var c;if(_(this,n),(c=t.call(this,e,i)).commonStrings=r,c.signpostContentId=a,c.signpostIdService=o,c.signpostFocusManager=s,c.platformId=l,!i)throw new Error("clr-signpost-content should only be used inside of a clr-signpost");return c.position="right-middle",c.closeOnOutsideClick=!0,c.signpostIdService.setId(a),c.document=u,w(c)}return y(n,[{key:"close",value:function(){this.toggleService.open=!1}},{key:"position",get:function(){return this._position},set:function(e){this.renderer.removeClass(this.el.nativeElement,this.position),this._position=e&&Nh.indexOf(e)>-1?e:"right-middle",this.renderer.addClass(this.el.nativeElement,this.position);var t=Dh[this.position];this.anchorPoint=t.anchorPoint,this.popoverPoint=t.popoverPoint,this.popoverOptions.offsetY=t.offsetY,this.popoverOptions.offsetX=t.offsetX}},{key:"ngOnDestroy",value:function(){Object(ge.A)(this.platformId)&&this.el.nativeElement.contains(this.document.activeElement)&&this.signpostFocusManager.focusTrigger()}}]),n}(zc)).\u0275fac=function(e){return new(e||Th)(f.Kb(f.s),f.Kb(ps,8),f.Kb(Oa),f.Kb(Ra),f.Kb(Pu),f.Kb(Lu),f.Kb(f.C),f.Kb(ge.d))},Th.\u0275cmp=f.Eb({type:Th,selectors:[["clr-signpost-content"]],hostVars:3,hostBindings:function(e,t){2&e&&(f.Tb("id",t.signpostContentId),f.Cb("signpost-content",!0))},inputs:{position:["clrPosition","position"]},features:[f.yb([Ia]),f.wb],ngContentSelectors:Zt,decls:7,vars:3,consts:[[1,"signpost-wrap"],[1,"popover-pointer"],[1,"signpost-content-header"],["type","button",1,"signpost-action","close",3,"click"],["shape","window-close"],[1,"signpost-content-body"]],template:function(e,t){1&e&&(f.ec(),f.Qb(0,"div",0),f.Lb(1,"div",1),f.Qb(2,"div",2),f.Qb(3,"button",3),f.Xb("click",function(){return t.close()}),f.Lb(4,"cds-icon",4),f.Pb(),f.Pb(),f.Qb(5,"div",5),f.dc(6),f.Pb(),f.Pb()),2&e&&(f.zb(3),f.Ab("aria-label",t.commonStrings.keys.signpostClose)("aria-controls",t.signpostContentId),f.zb(1),f.Ab("title",t.commonStrings.keys.close))},directives:[wr],encapsulation:2}),Th),Fh=((Sh=function e(){_(this,e),W.addIcons(ne,he)}).\u0275fac=function(e){return new(e||Sh)},Sh.\u0275mod=f.Ib({type:Sh}),Sh.\u0275inj=f.Hb({imports:[[ge.c,xr,tu],To]}),Sh),Uh=((bh=function e(){_(this,e)}).\u0275fac=function(e){return new(e||bh)},bh.\u0275mod=f.Ib({type:bh}),bh.\u0275inj=f.Hb({imports:[[ge.c],To,xr]}),bh),Gh=((_h=function e(){_(this,e)}).\u0275fac=function(e){return new(e||_h)},_h.\u0275mod=f.Ib({type:_h}),_h.\u0275inj=f.Hb({imports:[Hc,Fh,Uh]}),_h),Vh=((yh=function e(){_(this,e),W.addIcons(fe)}).\u0275fac=function(e){return new(e||yh)},yh.\u0275mod=f.Ib({type:yh}),yh.\u0275inj=f.Hb({imports:[[ge.c,Ph,qc]]}),yh);Object(Ae.k)("skipInitialRender",[Object(Ae.j)(":enter",[])]),Object(Ae.k)("toggle",[Object(Ae.j)("void => *",[Object(Ae.i)({display:"block",height:0}),Object(Ae.e)("0.2s ease-in-out",Object(Ae.i)({height:"*"}))])]),Object(Ae.k)("skipInitialRender",[Object(Ae.j)(":enter",[])]),Object(Ae.k)("toggle",[Object(Ae.j)("void => *",[Object(Ae.i)({display:"block",height:0}),Object(Ae.e)("0.2s ease-in-out",Object(Ae.i)({height:"*"}))]),Object(Ae.j)("* => void",[Object(Ae.i)({display:"block"}),Object(Ae.e)("0.2s ease-in-out",Object(Ae.i)({height:0,display:"none"}))])]);var Bh,zh,Hh,Xh,qh,Wh=((qh=function e(){_(this,e),W.addIcons(J,K,Z)}).\u0275fac=function(e){return new(e||qh)},qh.\u0275mod=f.Ib({type:qh}),qh.\u0275inj=f.Hb({imports:[[ge.c,xr]]}),qh),Yh=((Xh=function e(){_(this,e)}).\u0275fac=function(e){return new(e||Xh)},Xh.\u0275mod=f.Ib({type:Xh}),Xh.\u0275inj=f.Hb({imports:[[ge.c,xr,Wh],Wh]}),Xh),Kh=((Hh=function e(){_(this,e)}).\u0275fac=function(e){return new(e||Hh)},Hh.\u0275mod=f.Ib({type:Hh}),Hh.\u0275inj=f.Hb({imports:[[ge.c]]}),Hh),Zh=((zh=function e(){_(this,e),W.addIcons(pe,me,fe,ve)}).\u0275fac=function(e){return new(e||zh)},zh.\u0275mod=f.Ib({type:zh}),zh.\u0275inj=f.Hb({imports:[[ge.c,xr,Pl],xr,Pl]}),zh),Jh=((Bh=function e(){_(this,e)}).\u0275fac=function(e){return new(e||Bh)},Bh.\u0275mod=f.Ib({type:Bh}),Bh.\u0275inj=f.Hb({imports:[Wc,xc,xr,Ph,Fl,To,Eo,tu,Na,jl,Lh,Gh,Vh,Jl,Yh,Pl,Kh,Ea,Zh]}),Bh)},X87I:function(e,t,n){"use strict";var i=n("wRPv"),r=n("aBeY"),a=n("AjuZ"),o=n("kuFe"),s=n("hKKC"),l=n("VvGk"),u=n("8pO4"),c=n("oWEL"),h=n("kacL"),d=n("L3Wi"),f=n("2lJZ"),p=n("DPnj"),m=n("90bG"),v=function(e){b(n,e);var t=T(n);function n(e,i){var r;return _(this,n),(r=t.call(this)).flatMidpoint_=null,r.flatMidpointRevision_=-1,r.maxDelta_=-1,r.maxDeltaRevision_=-1,void 0===i||Array.isArray(e[0])?r.setCoordinates(e,i):r.setFlatCoordinates(i,e),r}return y(n,[{key:"appendCoordinate",value:function(e){this.flatCoordinates?Object(c.c)(this.flatCoordinates,e):this.flatCoordinates=e.slice(),this.changed()}},{key:"clone",value:function(){var e=new n(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}},{key:"closestPointXY",value:function(e,t,n,i){return i<Object(s.f)(this.getExtent(),e,t)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(o.e)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(o.d)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,t,n,i))}},{key:"forEachSegment",value:function(e){return Object(h.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}},{key:"getCoordinateAtM",value:function(e,t){if(this.layout!=i.a.XYM&&this.layout!=i.a.XYZM)return null;var n=void 0!==t&&t;return Object(f.b)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n)}},{key:"getCoordinates",value:function(){return Object(d.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}},{key:"getCoordinateAt",value:function(e,t){return Object(f.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,this.stride)}},{key:"getLength",value:function(){return Object(m.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}},{key:"getFlatMidpoint",value:function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}},{key:"getSimplifiedGeometryInternal",value:function(e){var t=[];return t.length=Object(u.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new n(t,i.a.XY)}},{key:"getType",value:function(){return r.a.LINE_STRING}},{key:"intersectsExtent",value:function(e){return Object(p.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}},{key:"setCoordinates",value:function(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(l.b)(this.flatCoordinates,0,e,this.stride),this.changed()}}]),n}(a.a);t.a=v},XDbj:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n("sVev"),r=n("7o/Q");function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;return function(t){return t.lift(new o(e))}}var o=function(){function e(t){_(this,e),this.errorFactory=t}return y(e,[{key:"call",value:function(e,t){return t.subscribe(new s(e,this.errorFactory))}}]),e}(),s=function(e){b(n,e);var t=T(n);function n(e,i){var r;return _(this,n),(r=t.call(this,e)).errorFactory=i,r.hasValue=!1,r}return y(n,[{key:"_next",value:function(e){this.hasValue=!0,this.destination.next(e)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}]),n}(r.a);function l(){return new i.a}},XEES:function(e,t,n){"use strict";var i=n("7MqJ"),r=n("oY2l"),a=n("Bpkx"),o=(n("XheB"),n("BFJ5"));n("Znq9"),n("oWEL"),t.a=function(e){b(n,e);var t=T(n);function n(e){var i;_(this,n);var r=void 0!==e.requestEncoding?e.requestEncoding:"KVP",a=e.tileGrid,s=e.urls;return void 0===s&&void 0!==e.url&&(s=Object(o.c)(e.url)),(i=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,imageSmoothing:e.imageSmoothing,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:a,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,urls:s,wrapX:void 0!==e.wrapX&&e.wrapX,transition:e.transition})).version_=void 0!==e.version?e.version:"1.0.0",i.format_=void 0!==e.format?e.format:"image/jpeg",i.dimensions_=void 0!==e.dimensions?e.dimensions:{},i.layer_=e.layer,i.matrixSet_=e.matrixSet,i.style_=e.style,i.requestEncoding_=r,i.setKey(i.getKeyForDimensions_()),s&&s.length>0&&(i.tileUrlFunction=Object(o.b)(s.map(i.createFromWMTSTemplate.bind(x(i))))),i}return y(n,[{key:"setUrls",value:function(e){this.urls=e;var t=e.join("\n");this.setTileUrlFunction(Object(o.b)(e.map(this.createFromWMTSTemplate.bind(this))),t)}},{key:"getDimensions",value:function(){return this.dimensions_}},{key:"getFormat",value:function(){return this.format_}},{key:"getLayer",value:function(){return this.layer_}},{key:"getMatrixSet",value:function(){return this.matrixSet_}},{key:"getRequestEncoding",value:function(){return this.requestEncoding_}},{key:"getStyle",value:function(){return this.style_}},{key:"getVersion",value:function(){return this.version_}},{key:"getKeyForDimensions_",value:function(){var e=0,t=[];for(var n in this.dimensions_)t[e++]=n+"-"+this.dimensions_[n];return t.join("/")}},{key:"updateDimensions",value:function(e){Object(a.a)(this.dimensions_,e),this.setKey(this.getKeyForDimensions_())}},{key:"createFromWMTSTemplate",value:function(e){var t=this.requestEncoding_,n={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};"KVP"==t&&Object(a.a)(n,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_}),e="KVP"==t?Object(r.a)(e,n):e.replace(/\{(\w+?)\}/g,function(e,t){return t.toLowerCase()in n?n[t.toLowerCase()]:e});var i=this.tileGrid,o=this.dimensions_;return function(n,s,l){if(n){var u={TileMatrix:i.getMatrixId(n[0]),TileCol:n[1],TileRow:n[2]};Object(a.a)(u,o);var c=e;return c="KVP"==t?Object(r.a)(c,u):c.replace(/\{(\w+?)\}/g,function(e,t){return u[t]})}}}}]),n}(i.a)},XI78:function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"d",function(){return p}),n.d(t,"b",function(){return m}),n.d(t,"e",function(){return g}),n.d(t,"c",function(){return x});var i=n("eByC"),r=n("tFPJ"),a=n("1VLE"),o=n("6unr"),s=n("GMCd"),l=n("4yuk"),u=function(e){return null===e||!("object"==typeof e||"function"==typeof e)},c=function(e){return Array.isArray(e)||!(!e||!e[Symbol.iterator])},d=function(){function e(t,n,i){_(this,e),this.dirty=!0,this.element=t,this.name=n,this.strings=i,this.parts=[];for(var r=0;r<i.length-1;r++)this.parts[r]=this._createPart()}return y(e,[{key:"_createPart",value:function(){return new f(this)}},{key:"_getValue",value:function(){var e=this.strings,t=e.length-1,n=this.parts;if(1===t&&""===e[0]&&""===e[1]){var i=n[0].value;if("symbol"==typeof i)return String(i);if("string"==typeof i||!c(i))return i}for(var r="",a=0;a<t;a++){r+=e[a];var o=n[a];if(void 0!==o){var s=o.value;if(u(s)||!c(s))r+="string"==typeof s?s:String(s);else{var l,d=h(s);try{for(d.s();!(l=d.n()).done;){var f=l.value;r+="string"==typeof f?f:String(f)}}catch(p){d.e(p)}finally{d.f()}}}}return r+=e[t]}},{key:"commit",value:function(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}]),e}(),f=function(){function e(t){_(this,e),this.value=void 0,this.committer=t}return y(e,[{key:"setValue",value:function(e){e===a.a||u(e)&&e===this.value||(this.value=e,Object(i.a)(e)||(this.committer.dirty=!0))}},{key:"commit",value:function(){for(;Object(i.a)(this.value);){var e=this.value;this.value=a.a,e(this)}this.value!==a.a&&this.committer.commit()}}]),e}(),p=function(){function e(t){_(this,e),this.value=void 0,this.__pendingValue=void 0,this.options=t}return y(e,[{key:"appendInto",value:function(e){this.startNode=e.appendChild(Object(l.c)()),this.endNode=e.appendChild(Object(l.c)())}},{key:"insertAfterNode",value:function(e){this.startNode=e,this.endNode=e.nextSibling}},{key:"appendIntoPart",value:function(e){e.__insert(this.startNode=Object(l.c)()),e.__insert(this.endNode=Object(l.c)())}},{key:"insertAfterPart",value:function(e){e.__insert(this.startNode=Object(l.c)()),this.endNode=e.endNode,e.endNode=this.startNode}},{key:"setValue",value:function(e){this.__pendingValue=e}},{key:"commit",value:function(){if(null!==this.startNode.parentNode){for(;Object(i.a)(this.__pendingValue);){var e=this.__pendingValue;this.__pendingValue=a.a,e(this)}var t=this.__pendingValue;t!==a.a&&(u(t)?t!==this.value&&this.__commitText(t):t instanceof s.b?this.__commitTemplateResult(t):t instanceof Node?this.__commitNode(t):c(t)?this.__commitIterable(t):t===a.b?(this.value=a.b,this.clear()):this.__commitText(t))}}},{key:"__insert",value:function(e){this.endNode.parentNode.insertBefore(e,this.endNode)}},{key:"__commitNode",value:function(e){this.value!==e&&(this.clear(),this.__insert(e),this.value=e)}},{key:"__commitText",value:function(e){var t=this.startNode.nextSibling,n="string"==typeof(e=null==e?"":e)?e:String(e);t===this.endNode.previousSibling&&3===t.nodeType?t.data=n:this.__commitNode(document.createTextNode(n)),this.value=e}},{key:"__commitTemplateResult",value:function(e){var t=this.options.templateFactory(e);if(this.value instanceof o.a&&this.value.template===t)this.value.update(e.values);else{var n=new o.a(t,e.processor,this.options),i=n._clone();n.update(e.values),this.__commitNode(i),this.value=n}}},{key:"__commitIterable",value:function(t){Array.isArray(this.value)||(this.value=[],this.clear());var n,i,r=this.value,a=0,o=h(t);try{for(o.s();!(i=o.n()).done;){var s=i.value;void 0===(n=r[a])&&(n=new e(this.options),r.push(n),0===a?n.appendIntoPart(this):n.insertAfterPart(r[a-1])),n.setValue(s),n.commit(),a++}}catch(l){o.e(l)}finally{o.f()}a<r.length&&(r.length=a,this.clear(n&&n.endNode))}},{key:"clear",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.startNode;Object(r.b)(this.startNode.parentNode,e.nextSibling,this.endNode)}}]),e}(),m=function(){function e(t,n,i){if(_(this,e),this.value=void 0,this.__pendingValue=void 0,2!==i.length||""!==i[0]||""!==i[1])throw new Error("Boolean attributes can only contain a single expression");this.element=t,this.name=n,this.strings=i}return y(e,[{key:"setValue",value:function(e){this.__pendingValue=e}},{key:"commit",value:function(){for(;Object(i.a)(this.__pendingValue);){var e=this.__pendingValue;this.__pendingValue=a.a,e(this)}if(this.__pendingValue!==a.a){var t=!!this.__pendingValue;this.value!==t&&(t?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=t),this.__pendingValue=a.a}}}]),e}(),g=function(e){b(n,e);var t=T(n);function n(e,i,r){var a;return _(this,n),(a=t.call(this,e,i,r)).single=2===r.length&&""===r[0]&&""===r[1],a}return y(n,[{key:"_createPart",value:function(){return new S(this)}},{key:"_getValue",value:function(){return this.single?this.parts[0].value:v(C(n.prototype),"_getValue",this).call(this)}},{key:"commit",value:function(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}]),n}(d),S=function(e){b(n,e);var t=T(n);function n(){return _(this,n),t.apply(this,arguments)}return n}(f),w=!1;!function(){try{var e={get capture(){return w=!0,!1}};window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(t){}}();var x=function(){function e(t,n,i){var r=this;_(this,e),this.value=void 0,this.__pendingValue=void 0,this.element=t,this.eventName=n,this.eventContext=i,this.__boundHandleEvent=function(e){return r.handleEvent(e)}}return y(e,[{key:"setValue",value:function(e){this.__pendingValue=e}},{key:"commit",value:function(){for(;Object(i.a)(this.__pendingValue);){var e=this.__pendingValue;this.__pendingValue=a.a,e(this)}if(this.__pendingValue!==a.a){var t=this.__pendingValue,n=this.value,r=null==t||null!=n&&(t.capture!==n.capture||t.once!==n.once||t.passive!==n.passive),o=null!=t&&(null==n||r);r&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),o&&(this.__options=E(t),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=t,this.__pendingValue=a.a}}},{key:"handleEvent",value:function(e){"function"==typeof this.value?this.value.call(this.eventContext||this.element,e):this.value.handleEvent(e)}}]),e}(),E=function(e){return e&&(w?{capture:e.capture,passive:e.passive,once:e.once}:e.capture)}},XNiG:function(e,t,n){"use strict";n.d(t,"b",function(){return u}),n.d(t,"a",function(){return c});var i=n("HDdC"),r=n("7o/Q"),a=n("quSY"),o=n("9ppp"),s=n("Ylt2"),l=n("2QA8"),u=function(e){b(n,e);var t=T(n);function n(e){var i;return _(this,n),(i=t.call(this,e)).destination=e,i}return n}(r.a),c=function(){var e=function(e){b(n,e);var t=T(n);function n(){var e;return _(this,n),(e=t.call(this)).observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return y(n,[{key:l.a,value:function(){return new u(this)}},{key:"lift",value:function(e){var t=new h(this,this);return t.operator=e,t}},{key:"next",value:function(e){if(this.closed)throw new o.a;if(!this.isStopped)for(var t=this.observers,n=t.length,i=t.slice(),r=0;r<n;r++)i[r].next(e)}},{key:"error",value:function(e){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,i=t.slice(),r=0;r<n;r++)i[r].error(e);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new o.a;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),i=0;i<t;i++)n[i].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(e){if(this.closed)throw new o.a;return v(C(n.prototype),"_trySubscribe",this).call(this,e)}},{key:"_subscribe",value:function(e){if(this.closed)throw new o.a;return this.hasError?(e.error(this.thrownError),a.a.EMPTY):this.isStopped?(e.complete(),a.a.EMPTY):(this.observers.push(e),new s.a(this,e))}},{key:"asObservable",value:function(){var e=new i.a;return e.source=this,e}}]),n}(i.a);return e.create=function(e,t){return new h(e,t)},e}(),h=function(e){b(n,e);var t=T(n);function n(e,i){var r;return _(this,n),(r=t.call(this)).destination=e,r.source=i,r}return y(n,[{key:"next",value:function(e){var t=this.destination;t&&t.next&&t.next(e)}},{key:"error",value:function(e){var t=this.destination;t&&t.error&&this.destination.error(e)}},{key:"complete",value:function(){var e=this.destination;e&&e.complete&&this.destination.complete()}},{key:"_subscribe",value:function(e){return this.source?this.source.subscribe(e):a.a.EMPTY}}]),n}(c)},XWL2:function(e,t,n){"use strict";var i=n("RGpb"),r=n("9CgO"),a=n("0Fwh"),o=n("2I+J"),s=n("orbG");t.a=function(e){b(n,e);var t=T(n);function n(e,i,r){var a;_(this,n);var o=r||{};return(a=t.call(this)).tileCoord=e,a.state=i,a.interimTile=null,a.hifi=!0,a.key="",a.transition_=void 0===o.transition?250:o.transition,a.transitionStarts_={},a}return y(n,[{key:"changed",value:function(){this.dispatchEvent(r.a.CHANGE)}},{key:"release",value:function(){}},{key:"getKey",value:function(){return this.key+"/"+this.tileCoord}},{key:"getInterimTile",value:function(){if(!this.interimTile)return this;var e=this.interimTile;do{if(e.getState()==a.a.LOADED)return this.transition_=0,e;e=e.interimTile}while(e);return this}},{key:"refreshInterimChain",value:function(){if(this.interimTile){var e=this.interimTile,t=this;do{if(e.getState()==a.a.LOADED){e.interimTile=null;break}e.getState()==a.a.LOADING?t=e:e.getState()==a.a.IDLE?t.interimTile=e.interimTile:t=e,e=t.interimTile}while(e)}}},{key:"getTileCoord",value:function(){return this.tileCoord}},{key:"getState",value:function(){return this.state}},{key:"setState",value:function(e){if(this.state!==a.a.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}},{key:"load",value:function(){Object(o.b)()}},{key:"getAlpha",value:function(e,t){if(!this.transition_)return 1;var n=this.transitionStarts_[e];if(n){if(-1===n)return 1}else n=t,this.transitionStarts_[e]=n;var i=t-n+1e3/60;return i>=this.transition_?1:Object(s.a)(i/this.transition_)}},{key:"inTransition",value:function(e){return!!this.transition_&&-1!==this.transitionStarts_[e]}},{key:"endTransition",value:function(e){this.transition_&&(this.transitionStarts_[e]=-1)}}]),n}(i.a)},XdCU:function(e,t,n){"use strict";var i=n("jnTo"),r=n("G7/A"),a=n("e4iU"),o=n("Znq9"),s=n("i3ci"),l=n("bwl8"),u=[1,2,5];t.a=function(e){b(n,e);var t=T(n);function n(e){var i;_(this,n);var r=e||{},o=void 0!==r.className?r.className:r.bar?"ol-scale-bar":"ol-scale-line";return(i=t.call(this,{element:document.createElement("div"),render:r.render,target:r.target})).innerElement_=document.createElement("div"),i.innerElement_.className=o+"-inner",i.element.className=o+" "+a.e,i.element.appendChild(i.innerElement_),i.viewState_=null,i.minWidth_=void 0!==r.minWidth?r.minWidth:64,i.renderedVisible_=!1,i.renderedWidth_=void 0,i.renderedHTML_="",i.addEventListener(Object(l.b)("units"),i.handleUnitsChanged_),i.setUnits(r.units||"metric"),i.scaleBar_=r.bar||!1,i.scaleBarSteps_=r.steps||4,i.scaleBarText_=r.text||!1,i.dpi_=r.dpi||void 0,i}return y(n,[{key:"getUnits",value:function(){return this.get("units")}},{key:"handleUnitsChanged_",value:function(){this.updateElement_()}},{key:"setUnits",value:function(e){this.set("units",e)}},{key:"setDpi",value:function(e){this.dpi_=e}},{key:"updateElement_",value:function(){var e=this.viewState_;if(e){var t=e.center,n=e.projection,i=this.getUnits(),a="degrees"==i?r.b.DEGREES:r.b.METERS,l=Object(o.j)(n,e.resolution,t,a),c=this.minWidth_*(this.dpi_||90.7142857142857)/90.7142857142857,h=c*l,d="";if("degrees"==i){var f=r.a[r.b.DEGREES];(h*=f)<f/60?(d="\u2033",l*=3600):h<f?(d="\u2032",l*=60):d="\xb0"}else"imperial"==i?h<.9144?(d="in",l/=.0254):h<1609.344?(d="ft",l/=.3048):(d="mi",l/=1609.344):"nautical"==i?(l/=1852,d="nm"):"metric"==i?h<.001?(d="\u03bcm",l*=1e6):h<1?(d="mm",l*=1e3):h<1e3?d="m":(d="km",l/=1e3):"us"==i?h<.9144?(d="in",l*=39.37):h<1609.344?(d="ft",l/=.30480061):(d="mi",l/=1609.3472):Object(s.a)(!1,33);for(var p,m,v,g,y=3*Math.floor(Math.log(c*l)/Math.log(10));;){v=Math.floor(y/3);var _=Math.pow(10,v);if(p=u[(y%3+3)%3]*_,m=Math.round(p/l),isNaN(m))return this.element.style.display="none",void(this.renderedVisible_=!1);if(m>=c)break;++y}g=this.scaleBar_?this.createScaleBar(m,p,d):p.toFixed(v<0?-v:0)+" "+d,this.renderedHTML_!=g&&(this.innerElement_.innerHTML=g,this.renderedHTML_=g),this.renderedWidth_!=m&&(this.innerElement_.style.width=m+"px",this.renderedWidth_=m),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)}},{key:"createScaleBar",value:function(e,t,n){for(var i="1 : "+Math.round(this.getScaleForResolution()).toLocaleString(),r=[],a=e/this.scaleBarSteps_,o="#ffffff",s=0;s<this.scaleBarSteps_;s++)0===s&&r.push(this.createMarker("absolute",s)),r.push('<div><div class="ol-scale-singlebar" style="width: '+a+"px;background-color: "+o+';"></div>'+this.createMarker("relative",s)+(s%2==0||2===this.scaleBarSteps_?this.createStepText(s,e,!1,t,n):"")+"</div>"),s===this.scaleBarSteps_-1&&r.push(this.createStepText(s+1,e,!0,t,n)),o="#ffffff"===o?"#000000":"#ffffff";return'<div style="display: flex;">'+(this.scaleBarText_?'<div class="ol-scale-text" style="width: '+e+'px;">'+i+"</div>":"")+r.join("")+"</div>"}},{key:"createMarker",value:function(e,t){return'<div class="ol-scale-step-marker" style="position: '+e+";top: "+("absolute"===e?3:-10)+'px;"></div>'}},{key:"createStepText",value:function(e,t,n,i,r){var a=0===e?0:Math.round(i/this.scaleBarSteps_*e*100)/100;return'<div class="ol-scale-step-text" style="margin-left: '+(0===e?-3:t/this.scaleBarSteps_*-1)+"px;text-align: "+(0===e?"left":"center")+"; min-width: "+(0===e?0:t/this.scaleBarSteps_*2)+"px;left: "+(n?t+"px":"unset")+';">'+a+(0===e?"":" "+r)+"</div>"}},{key:"getScaleForResolution",value:function(){var e=Object(o.j)(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center),t=this.dpi_||90.7142857142857,n=this.viewState_.projection.getMetersPerUnit();return parseFloat(e.toString())*n*(1e3/25.4)*t}},{key:"render",value:function(e){var t=e.frameState;this.viewState_=t?t.viewState:null,this.updateElement_()}}]),n}(i.a)},XheB:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i=n("Fnjr"),r=n("oWEL"),a=n("Znq9"),o=function(e){b(n,e);var t=T(n);function n(e){var i;return _(this,n),(i=t.call(this,{extent:e.extent,origin:e.origin,origins:e.origins,resolutions:e.resolutions,tileSize:e.tileSize,tileSizes:e.tileSizes,sizes:e.sizes})).matrixIds_=e.matrixIds,i}return y(n,[{key:"getMatrixId",value:function(e){return this.matrixIds_[e]}},{key:"getMatrixIds",value:function(){return this.matrixIds_}}]),n}(i.a);function s(e,t,n){var i=[],s=[],l=[],u=[],c=[],h=void 0!==n?n:[],d=e.SupportedCRS,f=Object(a.i)(d),p=f.getMetersPerUnit(),m="ne"==f.getAxisOrientation().substr(0,2);return e.TileMatrix.sort(function(e,t){return t.ScaleDenominator-e.ScaleDenominator}),e.TileMatrix.forEach(function(t){if(!(h.length>0)||Object(r.d)(h,function(n){return t.Identifier==n.TileMatrix||-1===t.Identifier.indexOf(":")&&e.Identifier+":"+t.Identifier===n.TileMatrix})){s.push(t.Identifier);var n=28e-5*t.ScaleDenominator/p,a=t.TileWidth,o=t.TileHeight;l.push(m?[t.TopLeftCorner[1],t.TopLeftCorner[0]]:t.TopLeftCorner),i.push(n),u.push(a==o?a:[a,o]),c.push([t.MatrixWidth,t.MatrixHeight])}}),new o({extent:t,origins:l,resolutions:i,matrixIds:s,tileSizes:u,sizes:c})}t.b=o},XoHu:function(e,t,n){"use strict";function i(e){return null!==e&&"object"==typeof e}n.d(t,"a",function(){return i})},Y5Xb:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return s});var i=n("hKKC");function r(e,t,n,r,o){return!Object(i.u)(o,function(i){return!a(e,t,n,r,i[0],i[1])})}function a(e,t,n,i,r,a){for(var o=0,s=e[n-i],l=e[n-i+1];t<n;t+=i){var u=e[t],c=e[t+1];l<=a?c>a&&(u-s)*(a-l)-(r-s)*(c-l)>0&&o++:c<=a&&(u-s)*(a-l)-(r-s)*(c-l)<0&&o--,s=u,l=c}return 0!==o}function o(e,t,n,i,r,o){if(0===n.length)return!1;if(!a(e,t,n[0],i,r,o))return!1;for(var s=1,l=n.length;s<l;++s)if(a(e,n[s-1],n[s],i,r,o))return!1;return!0}function s(e,t,n,i,r,a){if(0===n.length)return!1;for(var s=0,l=n.length;s<l;++s){var u=n[s];if(o(e,t,u,i,r,a))return!0;t=u[u.length-1]}return!1}},Y7HM:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("DH7j");function r(e){return!Object(i.a)(e)&&e-parseFloat(e)+1>=0}},YakL:function(e,t,n){var i,r;void 0===(r="function"==typeof(i=function(){return{OWS_1_1_0:{n:"OWS_1_1_0",dens:"http://www.opengis.net/ows/1.1",dans:"http://www.w3.org/1999/xlink",deps:["XLink_1_0"],tis:[{ln:"OperationsMetadata",tn:null,ps:[{n:"operation",rq:!0,mno:2,col:!0,en:"Operation",ti:".Operation"},{n:"parameter",mno:0,col:!0,en:"Parameter",ti:".DomainType"},{n:"constraint",mno:0,col:!0,en:"Constraint",ti:".DomainType"},{n:"extendedCapabilities",en:"ExtendedCapabilities",ti:"AnyType"}]},{ln:"IdentificationType",bti:".BasicIdentificationType",ps:[{n:"boundingBox",mno:0,col:!0,mx:!1,dom:!1,en:"BoundingBox",ti:".BoundingBoxType",t:"er"},{n:"outputFormat",mno:0,col:!0,en:"OutputFormat"},{n:"availableCRS",mno:0,col:!0,mx:!1,dom:!1,en:"AvailableCRS",t:"er"}]},{ln:"ResponsiblePartySubsetType",ps:[{n:"individualName",en:"IndividualName"},{n:"positionName",en:"PositionName"},{n:"contactInfo",en:"ContactInfo",ti:".ContactType"},{n:"role",en:"Role",ti:".CodeType"}]},{ln:"AnyValue",tn:null},{ln:"DomainType",bti:".UnNamedDomainType",ps:[{n:"name",rq:!0,an:{lp:"name"},t:"a"}]},{ln:"AcceptVersionsType",ps:[{n:"version",rq:!0,col:!0,en:"Version"}]},{ln:"DCP",tn:null,ps:[{n:"http",rq:!0,en:"HTTP",ti:".HTTP"}]},{ln:"ManifestType",bti:".BasicIdentificationType",ps:[{n:"referenceGroup",rq:!0,col:!0,en:"ReferenceGroup",ti:".ReferenceGroupType"}]},{ln:"ExceptionType",ps:[{n:"exceptionText",mno:0,col:!0,en:"ExceptionText"},{n:"exceptionCode",rq:!0,an:{lp:"exceptionCode"},t:"a"},{n:"locator",an:{lp:"locator"},t:"a"}]},{ln:"RequestMethodType",bti:".OnlineResourceType",ps:[{n:"constraint",mno:0,col:!0,en:"Constraint",ti:".DomainType"}]},{ln:"SectionsType",ps:[{n:"section",mno:0,col:!0,en:"Section"}]},{ln:"UnNamedDomainType",ps:[{n:"allowedValues",rq:!0,en:"AllowedValues",ti:".AllowedValues"},{n:"anyValue",rq:!0,en:"AnyValue",ti:".AnyValue"},{n:"noValues",rq:!0,en:"NoValues",ti:".NoValues"},{n:"valuesReference",rq:!0,en:"ValuesReference",ti:".ValuesReference"},{n:"defaultValue",en:"DefaultValue",ti:".ValueType"},{n:"meaning",en:"Meaning",ti:".DomainMetadataType"},{n:"dataType",en:"DataType",ti:".DomainMetadataType"},{n:"uom",rq:!0,en:"UOM",ti:".DomainMetadataType"},{n:"referenceSystem",rq:!0,en:"ReferenceSystem",ti:".DomainMetadataType"},{n:"metadata",mno:0,col:!0,en:"Metadata",ti:".MetadataType"}]},{ln:"HTTP",tn:null,ps:[{n:"getOrPost",rq:!0,col:!0,mx:!1,dom:!1,etis:[{en:"Post",ti:".RequestMethodType"},{en:"Get",ti:".RequestMethodType"}],t:"ers"}]},{ln:"ServiceReferenceType",bti:".ReferenceType",ps:[{n:"requestMessage",rq:!0,en:"RequestMessage",ti:"AnyType"},{n:"requestMessageReference",rq:!0,en:"RequestMessageReference"}]},{ln:"KeywordsType",ps:[{n:"keyword",rq:!0,col:!0,en:"Keyword",ti:".LanguageStringType"},{n:"type",en:"Type",ti:".CodeType"}]},{ln:"AllowedValues",tn:null,ps:[{n:"valueOrRange",rq:!0,col:!0,etis:[{en:"Value",ti:".ValueType"},{en:"Range",ti:".RangeType"}],t:"es"}]},{ln:"TelephoneType",ps:[{n:"voice",mno:0,col:!0,en:"Voice"},{n:"facsimile",mno:0,col:!0,en:"Facsimile"}]},{ln:"ReferenceType",bti:".AbstractReferenceBaseType",ps:[{n:"identifier",en:"Identifier",ti:".CodeType"},{n:"_abstract",mno:0,col:!0,en:"Abstract",ti:".LanguageStringType"},{n:"format",en:"Format"},{n:"metadata",mno:0,col:!0,en:"Metadata",ti:".MetadataType"}]},{ln:"ExceptionReport",tn:null,ps:[{n:"exception",rq:!0,col:!0,en:"Exception",ti:".ExceptionType"},{n:"version",rq:!0,an:{lp:"version"},t:"a"},{n:"lang",an:{lp:"lang",ns:"http://www.w3.org/XML/1998/namespace"},t:"a"}]},{ln:"GetResourceByIdType",ps:[{n:"resourceID",mno:0,col:!0,en:"ResourceID"},{n:"outputFormat",en:"OutputFormat"},{n:"service",rq:!0,an:{lp:"service"},t:"a"},{n:"version",rq:!0,an:{lp:"version"},t:"a"}]},{ln:"RangeType",ps:[{n:"minimumValue",en:"MinimumValue",ti:".ValueType"},{n:"maximumValue",en:"MaximumValue",ti:".ValueType"},{n:"spacing",en:"Spacing",ti:".ValueType"},{n:"rangeClosure",ti:{t:"l"},an:{lp:"rangeClosure",ns:"http://www.opengis.net/ows/1.1"},t:"a"}]},{ln:"LanguageStringType",ps:[{n:"value",t:"v"},{n:"lang",an:{lp:"lang",ns:"http://www.w3.org/XML/1998/namespace"},t:"a"}]},{ln:"DescriptionType",ps:[{n:"title",mno:0,col:!0,en:"Title",ti:".LanguageStringType"},{n:"_abstract",mno:0,col:!0,en:"Abstract",ti:".LanguageStringType"},{n:"keywords",mno:0,col:!0,en:"Keywords",ti:".KeywordsType"}]},{ln:"BoundingBoxType",ps:[{n:"lowerCorner",rq:!0,en:"LowerCorner",ti:{t:"l",bti:"Double"}},{n:"upperCorner",rq:!0,en:"UpperCorner",ti:{t:"l",bti:"Double"}},{n:"crs",an:{lp:"crs"},t:"a"},{n:"dimensions",ti:"PositiveInteger",an:{lp:"dimensions"},t:"a"}]},{ln:"ContentsBaseType",ps:[{n:"datasetDescriptionSummary",mno:0,col:!0,mx:!1,dom:!1,en:"DatasetDescriptionSummary",ti:".DatasetDescriptionSummaryBaseType",t:"er"},{n:"otherSource",mno:0,col:!0,mx:!1,dom:!1,en:"OtherSource",ti:".MetadataType",t:"er"}]},{ln:"BasicIdentificationType",bti:".DescriptionType",ps:[{n:"identifier",en:"Identifier",ti:".CodeType"},{n:"metadata",mno:0,col:!0,en:"Metadata",ti:".MetadataType"}]},{ln:"ReferenceGroupType",bti:".BasicIdentificationType",ps:[{n:"abstractReferenceBase",rq:!0,col:!0,mx:!1,dom:!1,en:"AbstractReferenceBase",ti:".AbstractReferenceBaseType",t:"er"}]},{ln:"ResponsiblePartyType",ps:[{n:"individualName",en:"IndividualName"},{n:"organisationName",en:"OrganisationName"},{n:"positionName",en:"PositionName"},{n:"contactInfo",en:"ContactInfo",ti:".ContactType"},{n:"role",rq:!0,en:"Role",ti:".CodeType"}]},{ln:"ValuesReference",tn:null,ps:[{n:"value",t:"v"},{n:"reference",rq:!0,an:{lp:"reference",ns:"http://www.opengis.net/ows/1.1"},t:"a"}]},{ln:"DatasetDescriptionSummaryBaseType",bti:".DescriptionType",ps:[{n:"wgs84BoundingBox",mno:0,col:!0,en:"WGS84BoundingBox",ti:".WGS84BoundingBoxType"},{n:"identifier",rq:!0,en:"Identifier",ti:".CodeType"},{n:"boundingBox",mno:0,col:!0,mx:!1,dom:!1,en:"BoundingBox",ti:".BoundingBoxType",t:"er"},{n:"metadata",mno:0,col:!0,en:"Metadata",ti:".MetadataType"},{n:"datasetDescriptionSummary",mno:0,col:!0,mx:!1,dom:!1,en:"DatasetDescriptionSummary",ti:".DatasetDescriptionSummaryBaseType",t:"er"}]},{ln:"ServiceIdentification",tn:null,bti:".DescriptionType",ps:[{n:"serviceType",rq:!0,en:"ServiceType",ti:".CodeType"},{n:"serviceTypeVersion",rq:!0,col:!0,en:"ServiceTypeVersion"},{n:"profile",mno:0,col:!0,en:"Profile"},{n:"fees",en:"Fees"},{n:"accessConstraints",mno:0,col:!0,en:"AccessConstraints"}]},{ln:"AcceptFormatsType",ps:[{n:"outputFormat",mno:0,col:!0,en:"OutputFormat"}]},{ln:"NoValues",tn:null},{ln:"Operation",tn:null,ps:[{n:"dcp",rq:!0,col:!0,en:"DCP",ti:".DCP"},{n:"parameter",mno:0,col:!0,en:"Parameter",ti:".DomainType"},{n:"constraint",mno:0,col:!0,en:"Constraint",ti:".DomainType"},{n:"metadata",mno:0,col:!0,en:"Metadata",ti:".MetadataType"},{n:"name",rq:!0,an:{lp:"name"},t:"a"}]},{ln:"AbstractReferenceBaseType",ps:[{n:"type",an:{lp:"type",ns:"http://www.opengis.net/ows/1.1"},t:"a"},{n:"href",rq:!0,t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"AddressType",ps:[{n:"deliveryPoint",mno:0,col:!0,en:"DeliveryPoint"},{n:"city",en:"City"},{n:"administrativeArea",en:"AdministrativeArea"},{n:"postalCode",en:"PostalCode"},{n:"country",en:"Country"},{n:"electronicMailAddress",mno:0,col:!0,en:"ElectronicMailAddress"}]},{ln:"ValueType",ps:[{n:"value",t:"v"}]},{ln:"MetadataType",ps:[{n:"abstractMetaData",en:"AbstractMetaData",ti:"AnyType"},{n:"about",an:{lp:"about"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"OnlineResourceType",ps:[{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"DomainMetadataType",ps:[{n:"value",t:"v"},{n:"reference",an:{lp:"reference",ns:"http://www.opengis.net/ows/1.1"},t:"a"}]},{ln:"WGS84BoundingBoxType",bti:".BoundingBoxType"},{ln:"ContactType",ps:[{n:"phone",en:"Phone",ti:".TelephoneType"},{n:"address",en:"Address",ti:".AddressType"},{n:"onlineResource",en:"OnlineResource",ti:".OnlineResourceType"},{n:"hoursOfService",en:"HoursOfService"},{n:"contactInstructions",en:"ContactInstructions"}]},{ln:"CapabilitiesBaseType",ps:[{n:"serviceIdentification",en:"ServiceIdentification",ti:".ServiceIdentification"},{n:"serviceProvider",en:"ServiceProvider",ti:".ServiceProvider"},{n:"operationsMetadata",en:"OperationsMetadata",ti:".OperationsMetadata"},{n:"version",rq:!0,an:{lp:"version"},t:"a"},{n:"updateSequence",an:{lp:"updateSequence"},t:"a"}]},{ln:"ServiceProvider",tn:null,ps:[{n:"providerName",rq:!0,en:"ProviderName"},{n:"providerSite",en:"ProviderSite",ti:".OnlineResourceType"},{n:"serviceContact",rq:!0,en:"ServiceContact",ti:".ResponsiblePartySubsetType"}]},{ln:"CodeType",ps:[{n:"value",t:"v"},{n:"codeSpace",an:{lp:"codeSpace"},t:"a"}]},{ln:"GetCapabilitiesType",ps:[{n:"acceptVersions",en:"AcceptVersions",ti:".AcceptVersionsType"},{n:"sections",en:"Sections",ti:".SectionsType"},{n:"acceptFormats",en:"AcceptFormats",ti:".AcceptFormatsType"},{n:"updateSequence",an:{lp:"updateSequence"},t:"a"}]}],eis:[{en:"Metadata",ti:".MetadataType"},{en:"DCP",ti:".DCP"},{en:"AbstractReferenceBase",ti:".AbstractReferenceBaseType"},{en:"Language",ti:"Language"},{en:"Role",ti:".CodeType"},{en:"GetResourceByID",ti:".GetResourceByIdType"},{en:"Meaning",ti:".DomainMetadataType"},{en:"AvailableCRS"},{en:"OperationResponse",ti:".ManifestType"},{en:"OutputFormat"},{en:"MaximumValue",ti:".ValueType"},{en:"Range",ti:".RangeType"},{en:"OrganisationName"},{en:"IndividualName"},{en:"Post",ti:".RequestMethodType",sc:".HTTP"},{en:"Resource",ti:"AnyType"},{en:"NoValues",ti:".NoValues"},{en:"ServiceReference",ti:".ServiceReferenceType",sh:"Reference"},{en:"DatasetDescriptionSummaryExtension",ti:".DatasetDescriptionSummaryBaseType",sh:"DatasetDescriptionSummary"},{en:"InputData",ti:".ManifestType"},{en:"ServiceIdentification",ti:".ServiceIdentification"},{en:"AccessConstraints"},{en:"ContactInfo",ti:".ContactType"},{en:"ExceptionReport",ti:".ExceptionReport"},{en:"Operation",ti:".Operation"},{en:"Title",ti:".LanguageStringType"},{en:"ReferenceSystem",ti:".DomainMetadataType"},{en:"Exception",ti:".ExceptionType"},{en:"Value",ti:".ValueType"},{en:"Keywords",ti:".KeywordsType"},{en:"Get",ti:".RequestMethodType",sc:".HTTP"},{en:"DatasetDescriptionSummary",ti:".DatasetDescriptionSummaryBaseType"},{en:"PositionName"},{en:"AllowedValues",ti:".AllowedValues"},{en:"Manifest",ti:".ManifestType"},{en:"Identifier",ti:".CodeType"},{en:"AbstractMetaData",ti:"AnyType"},{en:"AnyValue",ti:".AnyValue"},{en:"ServiceProvider",ti:".ServiceProvider"},{en:"DefaultValue",ti:".ValueType"},{en:"OtherSourceExtension",ti:".MetadataType",sh:"OtherSource"},{en:"OperationsMetadata",ti:".OperationsMetadata"},{en:"Fees"},{en:"BoundingBox",ti:".BoundingBoxType"},{en:"DataType",ti:".DomainMetadataType"},{en:"Abstract",ti:".LanguageStringType"},{en:"Spacing",ti:".ValueType"},{en:"GetCapabilities",ti:".GetCapabilitiesType"},{en:"HTTP",ti:".HTTP"},{en:"UOM",ti:".DomainMetadataType"},{en:"OtherSource",ti:".MetadataType"},{en:"WGS84BoundingBox",ti:".WGS84BoundingBoxType",sh:"BoundingBox"},{en:"MinimumValue",ti:".ValueType"},{en:"Reference",ti:".ReferenceType",sh:"AbstractReferenceBase"},{en:"ReferenceGroup",ti:".ReferenceGroupType"},{en:"ExtendedCapabilities",ti:"AnyType"},{en:"PointOfContact",ti:".ResponsiblePartyType"},{en:"ValuesReference",ti:".ValuesReference"},{en:"SupportedCRS",sh:"AvailableCRS"}]}}})?i.apply(t,[]):i)||(e.exports=r)},YcCt:function(e,t,n){"use strict";function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,r){n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var o=/\+/g;e=e.split(t=t||"&");var s=1e3;r&&"number"==typeof r.maxKeys&&(s=r.maxKeys);var l=e.length;s>0&&l>s&&(l=s);for(var u=0;u<l;++u){var c,h,d,f,p=e[u].replace(o,"%20"),m=p.indexOf(n);m>=0?(c=p.substr(0,m),h=p.substr(m+1)):(c=p,h=""),d=decodeURIComponent(c),f=decodeURIComponent(h),i(a,d)?Array.isArray(a[d])?a[d].push(f):a[d]=[a[d],f]:a[d]=f}return a}},Yjhu:function(e,t,n){"use strict";var i=n("jnTo"),r=n("9CgO"),a=n("e4iU"),o=n("orbG");t.a=function(e){b(n,e);var t=T(n);function n(e){var i;_(this,n);var o=e||{};i=t.call(this,{element:document.createElement("div"),target:o.target});var s=void 0!==o.className?o.className:"ol-zoom",l=void 0!==o.delta?o.delta:1,u=void 0!==o.zoomInClassName?o.zoomInClassName:s+"-in",c=void 0!==o.zoomOutClassName?o.zoomOutClassName:s+"-out",h=void 0!==o.zoomInLabel?o.zoomInLabel:"+",d=void 0!==o.zoomOutLabel?o.zoomOutLabel:"\u2212",f=void 0!==o.zoomInTipLabel?o.zoomInTipLabel:"Zoom in",p=void 0!==o.zoomOutTipLabel?o.zoomOutTipLabel:"Zoom out",m=document.createElement("button");m.className=u,m.setAttribute("type","button"),m.title=f,m.appendChild("string"==typeof h?document.createTextNode(h):h),m.addEventListener(r.a.CLICK,i.handleClick_.bind(x(i),l),!1);var v=document.createElement("button");v.className=c,v.setAttribute("type","button"),v.title=p,v.appendChild("string"==typeof d?document.createTextNode(d):d),v.addEventListener(r.a.CLICK,i.handleClick_.bind(x(i),-l),!1);var g=i.element;return g.className=s+" "+a.e+" "+a.b,g.appendChild(m),g.appendChild(v),i.duration_=void 0!==o.duration?o.duration:250,i}return y(n,[{key:"handleClick_",value:function(e,t){t.preventDefault(),this.zoomByDelta_(e)}},{key:"zoomByDelta_",value:function(e){var t=this.getMap().getView();if(t){var n=t.getZoom();if(void 0!==n){var i=t.getConstrainedZoom(n+e);this.duration_>0?(t.getAnimating()&&t.cancelAnimations(),t.animate({zoom:i,duration:this.duration_,easing:o.b})):t.setZoom(i)}}}}]),n}(i.a)},Ylt2:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(e){b(n,e);var t=T(n);function n(e,i){var r;return _(this,n),(r=t.call(this)).subject=e,r.subscriber=i,r.closed=!1,r}return y(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}}}]),n}(n("quSY").a)},YuTi:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},ZBAF:function(e,t,n){"use strict";t.a={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"}},"ZII/":function(e,t,n){"use strict";var i=n("DwgT"),r=n("n7ez");t.a=function(e){b(n,e);var t=T(n);function n(e){return _(this,n),t.call(this,e)}return y(n,[{key:"createRenderer",value:function(){return new r.a(this)}}]),n}(i.a)},ZidN:function(e,t,n){"use strict";n.d(t,"b",function(){return x});var i=n("Gp2b"),r=n("lXae"),a=n("6SrS"),o=n("9CgO"),s=n("5NHM"),l=n("PaPA"),u=n("i907"),c=n("hKKC"),h=n("FHfp"),d=function(e){b(n,e);var t=T(n);function n(e,i,o,s,h,d,f){var p;_(this,n);var m=e.getExtent(),v=i.getExtent(),g=v?Object(c.C)(o,v):o,y=Object(c.y)(g),b=Object(u.b)(e,i,y,s),S=new l.a(e,i,g,m,b*a.b,s),T=d(S.calculateSourceExtent(),b,h),w=T?r.a.IDLE:r.a.EMPTY,x=T?T.getPixelRatio():1;return(p=t.call(this,o,s,x,w)).targetProj_=i,p.maxSourceExtent_=m,p.triangulation_=S,p.targetResolution_=s,p.targetExtent_=o,p.sourceImage_=T,p.sourcePixelRatio_=x,p.contextOptions_=f,p.canvas_=null,p.sourceListenerKey_=null,p}return y(n,[{key:"disposeInternal",value:function(){this.state==r.a.LOADING&&this.unlistenSource_(),v(C(n.prototype),"disposeInternal",this).call(this)}},{key:"getImage",value:function(){return this.canvas_}},{key:"getProjection",value:function(){return this.targetProj_}},{key:"reproject_",value:function(){var e=this.sourceImage_.getState();if(e==r.a.LOADED){var t=Object(c.F)(this.targetExtent_)/this.targetResolution_,n=Object(c.B)(this.targetExtent_)/this.targetResolution_;this.canvas_=Object(u.c)(t,n,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.contextOptions_)}this.state=e,this.changed()}},{key:"load",value:function(){if(this.state==r.a.IDLE){this.state=r.a.LOADING,this.changed();var e=this.sourceImage_.getState();e==r.a.LOADED||e==r.a.ERROR?this.reproject_():(this.sourceListenerKey_=Object(h.a)(this.sourceImage_,o.a.CHANGE,function(e){var t=this.sourceImage_.getState();t!=r.a.LOADED&&t!=r.a.ERROR||(this.unlistenSource_(),this.reproject_())},this),this.sourceImage_.load())}}},{key:"unlistenSource_",value:function(){Object(h.c)(this.sourceListenerKey_),this.sourceListenerKey_=null}}]),n}(s.a),f=n("AAsu"),p=n("GLbD"),m=n("2I+J"),g=n("Znq9"),S=n("oWEL"),w=function(e){b(n,e);var t=T(n);function n(e,i){var r;return _(this,n),(r=t.call(this,e)).image=i,r}return n}(i.a);function x(e,t){e.getImage().src=t}t.a=function(e){b(n,e);var t=T(n);function n(e){var i;return _(this,n),(i=t.call(this,{attributions:e.attributions,projection:e.projection,state:e.state})).resolutions_=void 0!==e.resolutions?e.resolutions:null,i.reprojectedImage_=null,i.reprojectedRevision_=0,i.contextOptions_=!1===e.imageSmoothing?p.b:void 0,i}return y(n,[{key:"getResolutions",value:function(){return this.resolutions_}},{key:"getContextOptions",value:function(){return this.contextOptions_}},{key:"findNearestResolution",value:function(e){if(this.resolutions_){var t=Object(S.h)(this.resolutions_,e,0);e=this.resolutions_[t]}return e}},{key:"getImage",value:function(e,t,n,i){var r=this.getProjection();if(a.a&&r&&i&&!Object(g.f)(r,i)){if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&Object(g.f)(this.reprojectedImage_.getProjection(),i)&&this.reprojectedImage_.getResolution()==t&&Object(c.q)(this.reprojectedImage_.getExtent(),e))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new d(r,i,e,t,n,(function(e,t,n){return this.getImageInternal(e,t,n,r)}).bind(this),this.contextOptions_),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}return r&&(i=r),this.getImageInternal(e,t,n,i)}},{key:"getImageInternal",value:function(e,t,n,i){return Object(m.b)()}},{key:"handleImageChange",value:function(e){var t=e.target;switch(t.getState()){case r.a.LOADING:this.loading=!0,this.dispatchEvent(new w("imageloadstart",t));break;case r.a.LOADED:this.loading=!1,this.dispatchEvent(new w("imageloadend",t));break;case r.a.ERROR:this.loading=!1,this.dispatchEvent(new w("imageloaderror",t))}}}]),n}(f.a)},ZjAA:function(e,t,n){"use strict";function i(e,t,n,i){for(var r=0,a=e[n-i],o=e[n-i+1];t<n;t+=i){var s=e[t],l=e[t+1];r+=o*s-a*l,a=s,o=l}return r/2}function r(e,t,n,r){for(var a=0,o=0,s=n.length;o<s;++o){var l=n[o];a+=i(e,t,l,r),t=l}return a}function a(e,t,n,i){for(var a=0,o=0,s=n.length;o<s;++o){var l=n[o];a+=r(e,t,l,i),t=l[l.length-1]}return a}n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return a})},Znq9:function(e,t,n){"use strict";n.d(t,"n",function(){return M}),n.d(t,"c",function(){return O}),n.d(t,"i",function(){return A}),n.d(t,"j",function(){return R}),n.d(t,"b",function(){return I}),n.d(t,"d",function(){return L}),n.d(t,"a",function(){return D}),n.d(t,"f",function(){return N}),n.d(t,"l",function(){return j}),n.d(t,"k",function(){return F}),n.d(t,"q",function(){return U}),n.d(t,"r",function(){return G}),n.d(t,"m",function(){return V}),n.d(t,"o",function(){return B}),n.d(t,"g",function(){return z}),n.d(t,"p",function(){return H}),n.d(t,"h",function(){return X}),n.d(t,"e",function(){return q});var i,r,a,o=n("G7/A"),s=n("Msoz"),l=n("LV+m"),u=6378137*Math.PI,c=[-u,-u,u,u],h=[-180,-85,180,85],d=6378137*Math.log(Math.tan(Math.PI/2)),f=function(e){b(n,e);var t=T(n);function n(e){return _(this,n),t.call(this,{code:e,units:o.b.METERS,extent:c,global:!0,worldExtent:h,getPointResolution:function(e,t){return e/Object(l.b)(t[1]/6378137)}})}return n}(s.a),p=[new f("EPSG:3857"),new f("EPSG:102100"),new f("EPSG:102113"),new f("EPSG:900913"),new f("http://www.opengis.net/gml/srs/epsg.xml#3857")],m=[-180,-90,180,90],v=6378137*Math.PI/180,g=function(e){b(n,e);var t=T(n);function n(e,i){return _(this,n),t.call(this,{code:e,units:o.b.DEGREES,extent:m,axisOrientation:i,global:!0,metersPerUnit:v,worldExtent:m})}return n}(s.a),y=[new g("CRS:84"),new g("EPSG:4326","neu"),new g("urn:ogc:def:crs:OGC:1.3:CRS84"),new g("urn:ogc:def:crs:OGC:2:84"),new g("http://www.opengis.net/gml/srs/epsg.xml#4326","neu")],S={},w=n("E9sE"),x=n("hKKC"),E=n("tZnV"),C=n("rA9B");function k(e,t,n){var i;if(void 0!==t){for(var r=0,a=e.length;r<a;++r)t[r]=e[r];i=t}else i=e.slice();return i}function M(e,t,n){if(void 0!==t&&e!==t){for(var i=0,r=e.length;i<r;++i)t[i]=e[i];e=t}return e}function O(e){!function(e,t){S[e]=t}(e.getCode(),e),Object(w.a)(e,e,k)}function A(e){return"string"==typeof e?S[t=e]||S[t.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null:e||null;var t}function R(e,t,n,i){var r,a=(e=A(e)).getPointResolutionFunc();if(a){if(r=a(t,n),i&&i!==e.getUnits()){var s=e.getMetersPerUnit();s&&(r=r*s/o.a[i])}}else{var l=e.getUnits();if(l==o.b.DEGREES&&!i||i==o.b.DEGREES)r=t;else{var u=j(e,A("EPSG:4326"));if(u===M&&l!==o.b.DEGREES)r=t*e.getMetersPerUnit();else{var c=[n[0]-t/2,n[1],n[0]+t/2,n[1],n[0],n[1]-t/2,n[0],n[1]+t/2];c=u(c,c,2),r=(Object(E.a)(c.slice(0,2),c.slice(2,4))+Object(E.a)(c.slice(4,6),c.slice(6,8)))/2}var h=i?o.a[i]:e.getMetersPerUnit();void 0!==h&&(r/=h)}}return r}function I(e){!function(e){e.forEach(O)}(e),e.forEach(function(t){e.forEach(function(e){t!==e&&Object(w.a)(t,e,k)})})}function L(e,t){return e?"string"==typeof e?A(e):e:A(t)}function P(e){return function(t,n,i){for(var r=t.length,a=void 0!==i?i:2,o=void 0!==n?n:new Array(r),s=0;s<r;s+=a){var l=e([t[s],t[s+1]]);o[s]=l[0],o[s+1]=l[1];for(var u=a-1;u>=2;--u)o[s+u]=t[s+u]}return o}}function D(e,t,n,i){var r=A(e),a=A(t);Object(w.a)(r,a,P(n)),Object(w.a)(a,r,P(i))}function N(e,t){if(e===t)return!0;var n=e.getUnits()===t.getUnits();return(e.getCode()===t.getCode()||j(e,t)===k)&&n}function j(e,t){var n=e.getCode(),i=t.getCode(),r=Object(w.c)(n,i);return r||(r=M),r}function F(e,t){return j(A(e),A(t))}function U(e,t,n){return F(t,n)(e,void 0,e.length)}function G(e,t,n,i){var r=F(t,n);return Object(x.a)(e,r,void 0,i)}function V(){return null}function B(e,t){return e}function z(e,t){return e}function H(e,t){return e}function X(e,t){return e}function q(e,t,n){return function(i){var r,a,o=i[0],s=i[1];if(e.canWrapX()){var u=e.getExtent(),c=Object(x.F)(u);(a=Object(C.d)(i,e,c))&&(o-=a*c),o=Object(l.a)(o,u[0],u[2]),s=Object(l.a)(s,u[1],u[3]),r=n([o,s])}else r=n(i);return a&&t.canWrapX()&&(r[0]+=a*Object(x.F)(t.getExtent())),r}}I(p),I(y),i=p,r=function(e,t,n){var i=e.length,r=n>1?n:2,a=t;void 0===a&&(a=r>2?e.slice():new Array(i));for(var o=0;o<i;o+=r){a[o]=u*e[o]/180;var s=6378137*Math.log(Math.tan(Math.PI*(+e[o+1]+90)/360));s>d?s=d:s<-d&&(s=-d),a[o+1]=s}return a},a=function(e,t,n){var i=e.length,r=n>1?n:2,a=t;void 0===a&&(a=r>2?e.slice():new Array(i));for(var o=0;o<i;o+=r)a[o]=180*e[o]/u,a[o+1]=360*Math.atan(Math.exp(e[o+1]/6378137))/Math.PI-90;return a},y.forEach(function(e){i.forEach(function(t){Object(w.a)(e,t,r),Object(w.a)(t,e,a)})})},aBeY:function(e,t,n){"use strict";t.a={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"}},aoLf:function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return h});var i=n("Qz9N"),r=n("aBeY"),a=n("jTA9"),o=n("Qbx7"),s=n("Cw4B"),l=n("hKKC"),u=n("oWEL");function c(e,t,n,c,h,d,f){var p=e[0]/2,m=e[1]/2,v=Object(s.a)(p,m);v.imageSmoothingEnabled=!1;for(var g=v.canvas,y=new i.a(v,.5,h,null,f),_=n.length,b=Math.floor(16777215/_),S={},T=1;T<=_;++T){var w=n[T-1],x=w.getStyleFunction()||c;if(c){var E=x(w,d);if(E){Array.isArray(E)||(E=[E]);for(var C="#"+("000000"+(T*b).toString(16)).slice(-6),k=0,M=E.length;k<M;++k){var O=E[k],A=O.clone(),R=A.getFill();R&&R.setColor(C);var I=A.getStroke();I&&I.setColor(C),A.setText(void 0);var L=O.getImage();if(L){var P=L.getImageSize();if(!P)continue;var D=document.createElement("canvas");D.width=P[0],D.height=P[1];var N=D.getContext("2d",{alpha:!1});N.fillStyle=C;var j=N.canvas;N.fillRect(0,0,j.width,j.height);var F=P?P[0]:j.width,U=P?P[1]:j.height;Object(s.a)(F,U).drawImage(j,0,0),A.setImage(new o.a({img:j,imgSize:P,anchor:L.getAnchor(),anchorXUnits:a.a.PIXELS,anchorYUnits:a.a.PIXELS,offset:L.getOrigin(),size:L.getSize(),opacity:L.getOpacity(),scale:L.getScale(),rotation:L.getRotation(),rotateWithView:L.getRotateWithView()}))}var G=Number(A.getZIndex()),V=S[G];V||(V={},S[G]=V,V[r.a.POLYGON]=[],V[r.a.CIRCLE]=[],V[r.a.LINE_STRING]=[],V[r.a.POINT]=[]);var B=A.getGeometryFunction()(w);B&&Object(l.G)(h,B.getExtent())&&V[B.getType().replace("Multi","")].push(B,A)}}}}for(var z=Object.keys(S).map(Number).sort(u.i),H=0,X=z.length;H<X;++H){var q=S[z[H]];for(var W in q)for(var Y=q[W],K=0,Z=Y.length;K<Z;K+=2){y.setStyle(Y[K+1]);for(var J=0,Q=t.length;J<Q;++J)y.setTransform(t[J]),y.drawGeometry(Y[K])}}return v.getImageData(0,0,g.width,g.height)}function h(e,t,n){var i=[];if(n){var r=4*(Math.round(e[0]/2)+Math.round(e[1]/2)*n.width),a=n.data[r+2]+256*(n.data[r+1]+256*n.data[r]),o=Math.floor(16777215/t.length);a&&a%o==0&&i.push(t[a/o-1])}return i}},avWC:function(e,t,n){"use strict";t.a={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}},aydW:function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"d",function(){return a}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s});var i=n("LV+m");function r(e){return void 0!==e?0:void 0}function a(e){return void 0!==e?e:void 0}function o(e){var t=2*Math.PI/e;return function(e,n){return n?e:void 0!==e?e=Math.floor(e/t+.5)*t:void 0}}function s(e){var t=e||Object(i.j)(5);return function(e,n){return n?e:void 0!==e?Math.abs(e)<=t?0:e:void 0}}},b6O2:function(e,t,n){"use strict";var i,r=n("JlTo"),a=n("zmPu"),o=n("aBeY"),s=n("mTm8"),l=n("ogOc"),u=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function c(e,t){for(var n=u.length,i=0;i<n;++i)try{var r=e.getContext(u[i],t);if(r)return r}catch(a){}return null}var h=n("i3ci");function d(e){switch(e){case 34962:return Float32Array;case 34963:return Uint32Array;default:return Float32Array}}var f=function(){function e(t,n){_(this,e),this.array=null,this.type=t,Object(h.a)(34962===t||34963===t,62),this.usage=void 0!==n?n:35044}return y(e,[{key:"ofSize",value:function(e){this.array=new(d(this.type))(e)}},{key:"fromArray",value:function(e){this.array=d(this.type).from(e)}},{key:"fromArrayBuffer",value:function(e){this.array=new(d(this.type))(e)}},{key:"getType",value:function(){return this.type}},{key:"getArray",value:function(){return this.array}},{key:"getUsage",value:function(){return this.usage}},{key:"getSize",value:function(){return this.array?this.array.length:0}}]),e}(),p=n("PhKu"),m=n("D1oO"),g=n("RuG3"),S=n("BbPW"),w=function(){function e(t){_(this,e),this.gl_=t.webGlContext;var n=this.gl_;this.scaleRatio_=t.scaleRatio||1,this.renderTargetTexture_=n.createTexture(),this.renderTargetTextureSize_=null,this.frameBuffer_=n.createFramebuffer();var i=n.createShader(n.VERTEX_SHADER);n.shaderSource(i,t.vertexShader||"\n  precision mediump float;\n  \n  attribute vec2 a_position;\n  varying vec2 v_texCoord;\n  varying vec2 v_screenCoord;\n  \n  uniform vec2 u_screenSize;\n   \n  void main() {\n    v_texCoord = a_position * 0.5 + 0.5;\n    v_screenCoord = v_texCoord * u_screenSize;\n    gl_Position = vec4(a_position, 0.0, 1.0);\n  }\n"),n.compileShader(i);var r=n.createShader(n.FRAGMENT_SHADER);n.shaderSource(r,t.fragmentShader||"\n  precision mediump float;\n   \n  uniform sampler2D u_image;\n   \n  varying vec2 v_texCoord;\n   \n  void main() {\n    gl_FragColor = texture2D(u_image, v_texCoord);\n  }\n"),n.compileShader(r),this.renderTargetProgram_=n.createProgram(),n.attachShader(this.renderTargetProgram_,i),n.attachShader(this.renderTargetProgram_,r),n.linkProgram(this.renderTargetProgram_),this.renderTargetVerticesBuffer_=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),n.bufferData(n.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,1,-1,1,1,-1,1]),n.STATIC_DRAW),this.renderTargetAttribLocation_=n.getAttribLocation(this.renderTargetProgram_,"a_position"),this.renderTargetUniformLocation_=n.getUniformLocation(this.renderTargetProgram_,"u_screenSize"),this.renderTargetTextureLocation_=n.getUniformLocation(this.renderTargetProgram_,"u_image"),this.uniforms_=[],t.uniforms&&Object.keys(t.uniforms).forEach((function(e){this.uniforms_.push({value:t.uniforms[e],location:n.getUniformLocation(this.renderTargetProgram_,e)})}).bind(this))}return y(e,[{key:"getGL",value:function(){return this.gl_}},{key:"init",value:function(e){var t=this.getGL(),n=[t.drawingBufferWidth*this.scaleRatio_,t.drawingBufferHeight*this.scaleRatio_];if(t.bindFramebuffer(t.FRAMEBUFFER,this.getFrameBuffer()),t.viewport(0,0,n[0],n[1]),!this.renderTargetTextureSize_||this.renderTargetTextureSize_[0]!==n[0]||this.renderTargetTextureSize_[1]!==n[1]){this.renderTargetTextureSize_=n;var i=t.RGBA,r=t.RGBA,a=t.UNSIGNED_BYTE;t.bindTexture(t.TEXTURE_2D,this.renderTargetTexture_),t.texImage2D(t.TEXTURE_2D,0,i,n[0],n[1],0,r,a,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.renderTargetTexture_,0)}}},{key:"apply",value:function(e,t){var n=this.getGL(),i=e.size;n.bindFramebuffer(n.FRAMEBUFFER,t?t.getFrameBuffer():null),n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,this.renderTargetTexture_),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.enable(n.BLEND),n.blendFunc(n.ONE,n.ONE_MINUS_SRC_ALPHA),n.viewport(0,0,n.drawingBufferWidth,n.drawingBufferHeight),n.bindBuffer(n.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),n.useProgram(this.renderTargetProgram_),n.enableVertexAttribArray(this.renderTargetAttribLocation_),n.vertexAttribPointer(this.renderTargetAttribLocation_,2,n.FLOAT,!1,0,0),n.uniform2f(this.renderTargetUniformLocation_,i[0],i[1]),n.uniform1i(this.renderTargetTextureLocation_,0),this.applyUniforms(e),n.drawArrays(n.TRIANGLES,0,6)}},{key:"getFrameBuffer",value:function(){return this.frameBuffer_}},{key:"applyUniforms",value:function(e){var t,n=this.getGL(),i=1;this.uniforms_.forEach(function(r){if((t="function"==typeof r.value?r.value(e):r.value)instanceof HTMLCanvasElement||t instanceof ImageData)r.texture||(r.texture=n.createTexture()),n.activeTexture(n["TEXTURE".concat(i)]),n.bindTexture(n.TEXTURE_2D,r.texture),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),t instanceof ImageData?n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,t.width,t.height,0,n.UNSIGNED_BYTE,new Uint8Array(t.data)):n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,t),n.uniform1i(r.location,i++);else if(Array.isArray(t))switch(t.length){case 2:return void n.uniform2f(r.location,t[0],t[1]);case 3:return void n.uniform3f(r.location,t[0],t[1],t[2]);case 4:return void n.uniform4f(r.location,t[0],t[1],t[2],t[3]);default:return}else"number"==typeof t&&n.uniform1f(r.location,t)})}}]),e}(),E=n("Bpkx"),k=n("n2w5");function M(e,t){return e[0]=t[0],e[1]=t[1],e[4]=t[2],e[5]=t[3],e[12]=t[4],e[13]=t[5],e}var O=n("2I+J"),A=n("oWEL"),R={UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123,UNSIGNED_INT:5125,FLOAT:5126};function I(e){switch(e){case R.UNSIGNED_BYTE:return Uint8Array.BYTES_PER_ELEMENT;case R.UNSIGNED_SHORT:return Uint16Array.BYTES_PER_ELEMENT;case R.UNSIGNED_INT:return Uint32Array.BYTES_PER_ELEMENT;case R.FLOAT:default:return Float32Array.BYTES_PER_ELEMENT}}var L=function(e){b(n,e);var t=T(n);function n(e){var r;_(this,n);var a=e||{};(r=t.call(this)).boundHandleWebGLContextLost_=r.handleWebGLContextLost.bind(x(r)),r.boundHandleWebGLContextRestored_=r.handleWebGLContextRestored.bind(x(r)),r.canvas_=document.createElement("canvas"),r.canvas_.style.position="absolute",r.canvas_.style.left="0",r.gl_=c(r.canvas_);var o=r.getGL();if(r.bufferCache_={},r.currentProgram_=null,Object(h.a)(Object(A.f)(function(){if(!i){var e=c(document.createElement("canvas"));e&&(i=e.getSupportedExtensions())}return i}(),"OES_element_index_uint"),63),o.getExtension("OES_element_index_uint"),r.canvas_.addEventListener("webglcontextlost",r.boundHandleWebGLContextLost_),r.canvas_.addEventListener("webglcontextrestored",r.boundHandleWebGLContextRestored_),r.offsetRotateMatrix_=Object(k.c)(),r.offsetScaleMatrix_=Object(k.c)(),r.tmpMat4_=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],r.uniformLocations_={},r.attribLocations_={},r.uniforms_=[],a.uniforms)for(var s in a.uniforms)r.uniforms_.push({name:s,value:a.uniforms[s]});return r.postProcessPasses_=a.postProcesses?a.postProcesses.map(function(e){return new w({webGlContext:o,scaleRatio:e.scaleRatio,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader,uniforms:e.uniforms})}):[new w({webGlContext:o})],r.shaderCompileErrors_=null,r.startTime_=Date.now(),r}return y(n,[{key:"bindBuffer",value:function(e){var t=this.getGL(),n=Object(O.c)(e),i=this.bufferCache_[n];i||(i={buffer:e,webGlBuffer:t.createBuffer()},this.bufferCache_[n]=i),t.bindBuffer(e.getType(),i.webGlBuffer)}},{key:"flushBufferData",value:function(e){var t=this.getGL();this.bindBuffer(e),t.bufferData(e.getType(),e.getArray(),e.getUsage())}},{key:"deleteBuffer",value:function(e){var t=this.getGL(),n=Object(O.c)(e),i=this.bufferCache_[n];t.isContextLost()||t.deleteBuffer(i.buffer),delete this.bufferCache_[n]}},{key:"disposeInternal",value:function(){this.canvas_.removeEventListener("webglcontextlost",this.boundHandleWebGLContextLost_),this.canvas_.removeEventListener("webglcontextrestored",this.boundHandleWebGLContextRestored_)}},{key:"prepareDraw",value:function(e){var t=this.getGL(),n=this.getCanvas(),i=e.size,r=e.pixelRatio;n.width=i[0]*r,n.height=i[1]*r,n.style.width=i[0]+"px",n.style.height=i[1]+"px",t.useProgram(this.currentProgram_);for(var a=this.postProcessPasses_.length-1;a>=0;a--)this.postProcessPasses_[a].init(e);t.bindTexture(t.TEXTURE_2D,null),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT),t.enable(t.BLEND),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA),t.useProgram(this.currentProgram_),this.applyFrameState(e),this.applyUniforms(e)}},{key:"prepareDrawToRenderTarget",value:function(e,t,n){var i=this.getGL(),r=t.getSize();i.bindFramebuffer(i.FRAMEBUFFER,t.getFramebuffer()),i.viewport(0,0,r[0],r[1]),i.bindTexture(i.TEXTURE_2D,t.getTexture()),i.clearColor(0,0,0,0),i.clear(i.COLOR_BUFFER_BIT),i.enable(i.BLEND),i.blendFunc(i.ONE,n?i.ZERO:i.ONE_MINUS_SRC_ALPHA),i.useProgram(this.currentProgram_),this.applyFrameState(e),this.applyUniforms(e)}},{key:"drawElements",value:function(e,t){var n=this.getGL();n.drawElements(n.TRIANGLES,t-e,n.UNSIGNED_INT,4*e)}},{key:"finalizeDraw",value:function(e){for(var t=0;t<this.postProcessPasses_.length;t++)this.postProcessPasses_[t].apply(e,this.postProcessPasses_[t+1]||null)}},{key:"getCanvas",value:function(){return this.canvas_}},{key:"getGL",value:function(){return this.gl_}},{key:"applyFrameState",value:function(e){var t=e.size,n=e.viewState.rotation,i=Object(k.g)(this.offsetScaleMatrix_);Object(k.i)(i,2/t[0],2/t[1]);var r=Object(k.g)(this.offsetRotateMatrix_);0!==n&&Object(k.h)(r,-n),this.setUniformMatrixValue("u_offsetScaleMatrix",M(this.tmpMat4_,i)),this.setUniformMatrixValue("u_offsetRotateMatrix",M(this.tmpMat4_,r)),this.setUniformFloatValue("u_time",.001*(Date.now()-this.startTime_)),this.setUniformFloatValue("u_zoom",e.viewState.zoom),this.setUniformFloatValue("u_resolution",e.viewState.resolution)}},{key:"applyUniforms",value:function(e){var t,n=this.getGL(),i=0;this.uniforms_.forEach((function(r){if((t="function"==typeof r.value?r.value(e):r.value)instanceof HTMLCanvasElement||t instanceof HTMLImageElement||t instanceof ImageData)r.texture||(r.prevValue=void 0,r.texture=n.createTexture()),n.activeTexture(n["TEXTURE".concat(i)]),n.bindTexture(n.TEXTURE_2D,r.texture),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),(!(t instanceof HTMLImageElement)||t.complete)&&r.prevValue!==t&&(r.prevValue=t,n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,t)),n.uniform1i(this.getUniformLocation(r.name),i++);else if(Array.isArray(t)&&6===t.length)this.setUniformMatrixValue(r.name,M(this.tmpMat4_,t));else if(Array.isArray(t)&&t.length<=4)switch(t.length){case 2:return void n.uniform2f(this.getUniformLocation(r.name),t[0],t[1]);case 3:return void n.uniform3f(this.getUniformLocation(r.name),t[0],t[1],t[2]);case 4:return void n.uniform4f(this.getUniformLocation(r.name),t[0],t[1],t[2],t[3]);default:return}else"number"==typeof t&&n.uniform1f(this.getUniformLocation(r.name),t)}).bind(this))}},{key:"useProgram",value:function(e){return e!=this.currentProgram_&&(this.getGL().useProgram(e),this.currentProgram_=e,this.uniformLocations_={},this.attribLocations_={},!0)}},{key:"compileShader",value:function(e,t){var n=this.getGL(),i=n.createShader(t);return n.shaderSource(i,e),n.compileShader(i),i}},{key:"getProgram",value:function(e,t){var n=this.getGL(),i=this.compileShader(e,n.FRAGMENT_SHADER),r=this.compileShader(t,n.VERTEX_SHADER);this.shaderCompileErrors_=null,n.getShaderInfoLog(i)&&(this.shaderCompileErrors_="Fragment shader compilation failed:\n".concat(n.getShaderInfoLog(i))),n.getShaderInfoLog(r)&&(this.shaderCompileErrors_=(this.shaderCompileErrors_||"")+"Vertex shader compilation failed:\n".concat(n.getShaderInfoLog(r)));var a=n.createProgram();return n.attachShader(a,i),n.attachShader(a,r),n.linkProgram(a),a}},{key:"getShaderCompileErrors",value:function(){return this.shaderCompileErrors_}},{key:"getUniformLocation",value:function(e){return void 0===this.uniformLocations_[e]&&(this.uniformLocations_[e]=this.getGL().getUniformLocation(this.currentProgram_,e)),this.uniformLocations_[e]}},{key:"getAttributeLocation",value:function(e){return void 0===this.attribLocations_[e]&&(this.attribLocations_[e]=this.getGL().getAttribLocation(this.currentProgram_,e)),this.attribLocations_[e]}},{key:"makeProjectionTransform",value:function(e,t){var n=e.size,i=e.viewState.rotation,r=e.viewState.resolution,a=e.viewState.center;return Object(k.g)(t),Object(k.b)(t,0,0,2/(r*n[0]),2/(r*n[1]),-i,-a[0],-a[1]),t}},{key:"setUniformFloatValue",value:function(e,t){this.getGL().uniform1f(this.getUniformLocation(e),t)}},{key:"setUniformMatrixValue",value:function(e,t){this.getGL().uniformMatrix4fv(this.getUniformLocation(e),!1,t)}},{key:"enableAttributeArray_",value:function(e,t,n,i,r){var a=this.getAttributeLocation(e);a<0||(this.getGL().enableVertexAttribArray(a),this.getGL().vertexAttribPointer(a,t,n,!1,i,r))}},{key:"enableAttributes",value:function(e){for(var t=function(e){for(var t=0,n=0;n<e.length;n++){var i=e[n];t+=i.size*I(i.type)}return t}(e),n=0,i=0;i<e.length;i++){var r=e[i];this.enableAttributeArray_(r.name,r.size,r.type||5126,t,n),n+=r.size*I(r.type)}}},{key:"handleWebGLContextLost",value:function(){Object(E.b)(this.bufferCache_),this.currentProgram_=null}},{key:"handleWebGLContextRestored",value:function(){}},{key:"createTexture",value:function(e,t,n){var i=this.getGL(),r=n||i.createTexture(),a=i.RGBA,o=i.RGBA,s=i.UNSIGNED_BYTE;return i.bindTexture(i.TEXTURE_2D,r),t?i.texImage2D(i.TEXTURE_2D,0,a,o,s,t):i.texImage2D(i.TEXTURE_2D,0,a,e[0],e[1],0,o,s,null),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),r}}]),n}(S.a);function P(e,t){var n=t||[];return n[0]=Math.floor(e/256/256/256)/255,n[1]=Math.floor(e/256/256)%256/255,n[2]=Math.floor(e/256)%256/255,n[3]=e%256/255,n}var D=function(e){b(n,e);var t=T(n);function n(e,i){var r;_(this,n);var a=i||{};return(r=t.call(this,e)).helper=new L({postProcesses:a.postProcesses,uniforms:a.uniforms}),void 0!==a.className&&(r.helper.getCanvas().className=a.className),r}return y(n,[{key:"disposeInternal",value:function(){this.helper.dispose(),v(C(n.prototype),"disposeInternal",this).call(this)}},{key:"getShaderCompileErrors",value:function(){return this.helper.getShaderCompileErrors()}},{key:"dispatchRenderEvent_",value:function(e,t){var n=this.getLayer();if(n.hasListener(e)){var i=new m.a(e,null,t,null);n.dispatchEvent(i)}}},{key:"preRender",value:function(e){this.dispatchRenderEvent_(g.a.PRERENDER,e)}},{key:"postRender",value:function(e){this.dispatchRenderEvent_(g.a.POSTRENDER,e)}}]),n}(p.a),N=new Uint8Array(4),j=n("hKKC"),F=new Blob(['var e="function"==typeof Object.assign?Object.assign:function(e,n){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1,o=arguments.length;r<o;++r){var i=arguments[r];if(null!=i)for(var f in i)i.hasOwnProperty(f)&&(t[f]=i[f])}return t},n="GENERATE_BUFFERS",t=[],r={vertexPosition:0,indexPosition:0};function o(e,n,t,r,o){e[n+0]=t,e[n+1]=r,e[n+2]=o}function i(e,n,i,f,s,u){var a=3+s,l=e[n+0],v=e[n+1],c=t;c.length=s;for(var g=0;g<c.length;g++)c[g]=e[n+2+g];var b=u?u.vertexPosition:0,h=u?u.indexPosition:0,d=b/a;return o(i,b,l,v,0),c.length&&i.set(c,b+3),o(i,b+=a,l,v,1),c.length&&i.set(c,b+3),o(i,b+=a,l,v,2),c.length&&i.set(c,b+3),o(i,b+=a,l,v,3),c.length&&i.set(c,b+3),b+=a,f[h++]=d,f[h++]=d+1,f[h++]=d+3,f[h++]=d+1,f[h++]=d+2,f[h++]=d+3,r.vertexPosition=b,r.indexPosition=h,r}var f=self;f.onmessage=function(t){var r=t.data;if(r.type===n){for(var o=r.customAttributesCount,s=2+o,u=new Float32Array(r.renderInstructions),a=u.length/s,l=4*a*(o+3),v=new Uint32Array(6*a),c=new Float32Array(l),g=null,b=0;b<u.length;b+=s)g=i(u,b,c,v,o,g);var h=e({vertexBuffer:c.buffer,indexBuffer:v.buffer,renderInstructions:u.buffer},r);f.postMessage(h,[c.buffer,v.buffer,u.buffer])}};'],{type:"application/javascript"}),U=URL.createObjectURL(F),G=n("FHfp"),V=function(e){b(n,e);var t=T(n);function n(e,i){var r;_(this,n);var a=i.uniforms||{},o=Object(k.c)();a.u_projectionMatrix=o,(r=t.call(this,e,{className:i.className,uniforms:a,postProcesses:i.postProcesses})).sourceRevision_=-1,r.verticesBuffer_=new f(34962,35048),r.hitVerticesBuffer_=new f(34962,35048),r.indicesBuffer_=new f(34963,35048),r.program_=r.helper.getProgram(i.fragmentShader,i.vertexShader),r.hitDetectionEnabled_=!(!i.hitFragmentShader||!i.hitVertexShader),r.hitProgram_=r.hitDetectionEnabled_&&r.helper.getProgram(i.hitFragmentShader,i.hitVertexShader);var l=i.attributes?i.attributes.map(function(e){return{name:"a_"+e.name,size:1,type:R.FLOAT}}):[];r.attributes=[{name:"a_position",size:2,type:R.FLOAT},{name:"a_index",size:1,type:R.FLOAT}].concat(l),r.hitDetectionAttributes=[{name:"a_position",size:2,type:R.FLOAT},{name:"a_index",size:1,type:R.FLOAT},{name:"a_hitColor",size:4,type:R.FLOAT},{name:"a_featureUid",size:1,type:R.FLOAT}].concat(l),r.customAttributes=i.attributes?i.attributes:[],r.previousExtent_=Object(j.k)(),r.currentTransform_=o,r.renderTransform_=Object(k.c)(),r.invertRenderTransform_=Object(k.c)(),r.renderInstructions_=new Float32Array(0),r.hitRenderInstructions_=new Float32Array(0),r.hitRenderTarget_=r.hitDetectionEnabled_&&new(function(){function e(t,n){_(this,e),this.helper_=t;var i=t.getGL();this.texture_=i.createTexture(),this.framebuffer_=i.createFramebuffer(),this.size_=n||[1,1],this.data_=new Uint8Array(0),this.dataCacheDirty_=!0,this.updateSize_()}return y(e,[{key:"setSize",value:function(e){Object(A.b)(e,this.size_)||(this.size_[0]=e[0],this.size_[1]=e[1],this.updateSize_())}},{key:"getSize",value:function(){return this.size_}},{key:"clearCachedData",value:function(){this.dataCacheDirty_=!0}},{key:"readAll",value:function(){if(this.dataCacheDirty_){var e=this.size_,t=this.helper_.getGL();t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer_),t.readPixels(0,0,e[0],e[1],t.RGBA,t.UNSIGNED_BYTE,this.data_),this.dataCacheDirty_=!1}return this.data_}},{key:"readPixel",value:function(e,t){if(e<0||t<0||e>this.size_[0]||t>=this.size_[1])return N[0]=0,N[1]=0,N[2]=0,N[3]=0,N;this.readAll();var n=Math.floor(e)+(this.size_[1]-Math.floor(t)-1)*this.size_[0];return N[0]=this.data_[4*n],N[1]=this.data_[4*n+1],N[2]=this.data_[4*n+2],N[3]=this.data_[4*n+3],N}},{key:"getTexture",value:function(){return this.texture_}},{key:"getFramebuffer",value:function(){return this.framebuffer_}},{key:"updateSize_",value:function(){var e=this.size_,t=this.helper_.getGL();this.texture_=this.helper_.createTexture(e,null,this.texture_),t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer_),t.viewport(0,0,e[0],e[1]),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture_,0),this.data_=new Uint8Array(e[0]*e[1]*4)}}]),e}())(r.helper),r.worker_=new Worker(U),r.worker_.addEventListener("message",(function(e){var t=e.data;if("GENERATE_BUFFERS"===t.type){var n=t.projectionTransform;t.hitDetection?(this.hitVerticesBuffer_.fromArrayBuffer(t.vertexBuffer),this.helper.flushBufferData(this.hitVerticesBuffer_)):(this.verticesBuffer_.fromArrayBuffer(t.vertexBuffer),this.helper.flushBufferData(this.verticesBuffer_)),this.indicesBuffer_.fromArrayBuffer(t.indexBuffer),this.helper.flushBufferData(this.indicesBuffer_),this.renderTransform_=n,Object(k.d)(this.invertRenderTransform_,this.renderTransform_),t.hitDetection?this.hitRenderInstructions_=new Float32Array(e.data.renderInstructions):this.renderInstructions_=new Float32Array(e.data.renderInstructions),this.getLayer().changed()}}).bind(x(r))),r.featureCache_={},r.featureCount_=0;var u=r.getLayer().getSource();return r.sourceListenKeys_=[Object(G.a)(u,s.a.ADDFEATURE,r.handleSourceFeatureAdded_,x(r)),Object(G.a)(u,s.a.CHANGEFEATURE,r.handleSourceFeatureChanged_,x(r)),Object(G.a)(u,s.a.REMOVEFEATURE,r.handleSourceFeatureDelete_,x(r)),Object(G.a)(u,s.a.CLEAR,r.handleSourceFeatureClear_,x(r))],u.forEachFeature((function(e){this.featureCache_[Object(O.c)(e)]={feature:e,properties:e.getProperties(),geometry:e.getGeometry()},this.featureCount_++}).bind(x(r))),r}return y(n,[{key:"handleSourceFeatureAdded_",value:function(e){var t=e.feature;this.featureCache_[Object(O.c)(t)]={feature:t,properties:t.getProperties(),geometry:t.getGeometry()},this.featureCount_++}},{key:"handleSourceFeatureChanged_",value:function(e){var t=e.feature;this.featureCache_[Object(O.c)(t)]={feature:t,properties:t.getProperties(),geometry:t.getGeometry()}}},{key:"handleSourceFeatureDelete_",value:function(e){var t=e.feature;delete this.featureCache_[Object(O.c)(t)],this.featureCount_--}},{key:"handleSourceFeatureClear_",value:function(){this.featureCache_={},this.featureCount_=0}},{key:"renderFrame",value:function(e){this.preRender(e);var t=this.indicesBuffer_.getSize();this.helper.drawElements(0,t),this.helper.finalizeDraw(e);var n=this.helper.getCanvas(),i=e.layerStatesArray[e.layerIndex].opacity;return i!==parseFloat(n.style.opacity)&&(n.style.opacity=String(i)),this.hitDetectionEnabled_&&(this.renderHitDetection(e),this.hitRenderTarget_.clearCachedData()),this.postRender(e),n}},{key:"prepareFrame",value:function(e){var t=this.getLayer(),n=t.getSource(),i=e.viewState,r=!e.viewHints[l.a.ANIMATING]&&!e.viewHints[l.a.INTERACTING],o=!Object(j.q)(this.previousExtent_,e.extent),s=this.sourceRevision_<n.getRevision();if(s&&(this.sourceRevision_=n.getRevision()),r&&(o||s)){var u=i.projection,c=i.resolution,h=t instanceof a.a?t.getRenderBuffer():0,d=Object(j.d)(e.extent,h*c);n.loadFeatures(d,c,u),this.rebuildBuffers_(e),this.previousExtent_=e.extent.slice()}return this.helper.makeProjectionTransform(e,this.currentTransform_),Object(k.f)(this.currentTransform_,this.invertRenderTransform_),this.helper.useProgram(this.program_),this.helper.prepareDraw(e),this.helper.bindBuffer(this.verticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.attributes),!0}},{key:"rebuildBuffers_",value:function(e){var t=Object(k.c)();this.helper.makeProjectionTransform(e,t);var n,i,r=(2+this.customAttributes.length)*this.featureCount_;if(this.renderInstructions_&&this.renderInstructions_.length===r||(this.renderInstructions_=new Float32Array(r)),this.hitDetectionEnabled_){var a=(7+this.customAttributes.length)*this.featureCount_;this.hitRenderInstructions_&&this.hitRenderInstructions_.length===a||(this.hitRenderInstructions_=new Float32Array(a))}var s,l=[],u=[],c=0,h=0;for(var d in this.featureCache_)if((i=(n=this.featureCache_[d]).geometry)&&i.getType()===o.a.POINT){var f=void 0;l[0]=i.getFlatCoordinates()[0],l[1]=i.getFlatCoordinates()[1],Object(k.a)(t,l),s=P(h+6,u),this.renderInstructions_[c++]=l[0],this.renderInstructions_[c++]=l[1],this.hitDetectionEnabled_&&(this.hitRenderInstructions_[h++]=l[0],this.hitRenderInstructions_[h++]=l[1],this.hitRenderInstructions_[h++]=s[0],this.hitRenderInstructions_[h++]=s[1],this.hitRenderInstructions_[h++]=s[2],this.hitRenderInstructions_[h++]=s[3],this.hitRenderInstructions_[h++]=Number(d));for(var p=0;p<this.customAttributes.length;p++)f=this.customAttributes[p].callback(n.feature,n.properties),this.renderInstructions_[c++]=f,this.hitDetectionEnabled_&&(this.hitRenderInstructions_[h++]=f)}var m={type:"GENERATE_BUFFERS",renderInstructions:this.renderInstructions_.buffer,customAttributesCount:this.customAttributes.length};if(m.projectionTransform=t,this.worker_.postMessage(m,[this.renderInstructions_.buffer]),this.renderInstructions_=null,this.hitDetectionEnabled_){var v={type:"GENERATE_BUFFERS",renderInstructions:this.hitRenderInstructions_.buffer,customAttributesCount:5+this.customAttributes.length};v.projectionTransform=t,v.hitDetection=!0,this.worker_.postMessage(v,[this.hitRenderInstructions_.buffer]),this.hitRenderInstructions_=null}}},{key:"forEachFeatureAtCoordinate",value:function(e,t,n,i,r){if(Object(h.a)(this.hitDetectionEnabled_,66),this.hitRenderInstructions_){var a,o,s=Object(k.a)(t.coordinateToPixelTransform,e.slice()),l=this.hitRenderTarget_.readPixel(s[0]/2,s[1]/2),u=(a=[l[0]/255,l[1]/255,l[2]/255,l[3]/255],o=0,o+=Math.round(256*a[0]*256*256*255),o+=Math.round(256*a[1]*256*255),o+=Math.round(256*a[2]*255),o+=Math.round(255*a[3])),c=Math.floor(this.hitRenderInstructions_[u]).toString(),d=this.getLayer().getSource().getFeatureByUid(c);return d?i(d,this.getLayer(),null):void 0}}},{key:"renderHitDetection",value:function(e){if(this.hitVerticesBuffer_.getSize()){this.hitRenderTarget_.setSize([Math.floor(e.size[0]/2),Math.floor(e.size[1]/2)]),this.helper.useProgram(this.hitProgram_),this.helper.prepareDrawToRenderTarget(e,this.hitRenderTarget_,!0),this.helper.bindBuffer(this.hitVerticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.hitDetectionAttributes);var t=this.indicesBuffer_.getSize();this.helper.drawElements(0,t)}}},{key:"disposeInternal",value:function(){this.worker_.terminate(),this.layer_=null,this.sourceListenKeys_.forEach(function(e){Object(G.c)(e)}),this.sourceListenKeys_=null,v(C(n.prototype),"disposeInternal",this).call(this)}}]),n}(D),B=n("LV+m"),z=n("Cw4B"),H=n("bwl8"),X=["#00f","#0ff","#0f0","#ff0","#f00"];t.a=function(e){b(n,e);var t=T(n);function n(e){var i;_(this,n);var r=e||{},a=Object(E.a)({},r);delete a.gradient,delete a.radius,delete a.blur,delete a.weight,(i=t.call(this,a)).gradient_=null,i.addEventListener(Object(H.b)("gradient"),i.handleGradientChanged_),i.setGradient(r.gradient?r.gradient:X),i.setBlur(void 0!==r.blur?r.blur:15),i.setRadius(void 0!==r.radius?r.radius:8);var o=r.weight?r.weight:"weight";return i.weightFunction_="string"==typeof o?function(e){return e.get(o)}:o,i.setRenderOrder(null),i}return y(n,[{key:"getBlur",value:function(){return this.get("blur")}},{key:"getGradient",value:function(){return this.get("gradient")}},{key:"getRadius",value:function(){return this.get("radius")}},{key:"handleGradientChanged_",value:function(){this.gradient_=function(e){for(var t=Object(z.a)(1,256),n=t.createLinearGradient(0,0,1,256),i=1/(e.length-1),r=0,a=e.length;r<a;++r)n.addColorStop(r*i,e[r]);return t.fillStyle=n,t.fillRect(0,0,1,256),t.canvas}(this.getGradient())}},{key:"setBlur",value:function(e){this.set("blur",e)}},{key:"setGradient",value:function(e){this.set("gradient",e)}},{key:"setRadius",value:function(e){this.set("radius",e)}},{key:"createRenderer",value:function(){return new V(this,{className:this.getClassName(),attributes:[{name:"weight",callback:(function(e){var t=this.weightFunction_(e);return void 0!==t?Object(B.a)(t,0,1):1}).bind(this)}],vertexShader:"\n        precision mediump float;\n        uniform mat4 u_projectionMatrix;\n        uniform mat4 u_offsetScaleMatrix;\n        uniform float u_size;\n        attribute vec2 a_position;\n        attribute float a_index;\n        attribute float a_weight;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n\n        void main(void) {\n          mat4 offsetMatrix = u_offsetScaleMatrix;\n          float offsetX = a_index == 0.0 || a_index == 3.0 ? -u_size / 2.0 : u_size / 2.0;\n          float offsetY = a_index == 0.0 || a_index == 1.0 ? -u_size / 2.0 : u_size / 2.0;\n          vec4 offsets = offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n          gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n          float u = a_index == 0.0 || a_index == 3.0 ? 0.0 : 1.0;\n          float v = a_index == 0.0 || a_index == 1.0 ? 0.0 : 1.0;\n          v_texCoord = vec2(u, v);\n          v_weight = a_weight;\n        }",fragmentShader:"\n        precision mediump float;\n        uniform float u_blurSlope;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n\n        void main(void) {\n          vec2 texCoord = v_texCoord * 2.0 - vec2(1.0, 1.0);\n          float sqRadius = texCoord.x * texCoord.x + texCoord.y * texCoord.y;\n          float value = (1.0 - sqrt(sqRadius)) * u_blurSlope;\n          float alpha = smoothstep(0.0, 1.0, value) * v_weight;\n          gl_FragColor = vec4(alpha, alpha, alpha, alpha);\n        }",hitVertexShader:"\n        precision mediump float;\n        uniform mat4 u_projectionMatrix;\n        uniform mat4 u_offsetScaleMatrix;\n        uniform float u_size;\n        attribute vec2 a_position;\n        attribute float a_index;\n        attribute float a_weight;\n        attribute vec4 a_hitColor;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n        varying vec4 v_hitColor;\n\n        void main(void) {\n          mat4 offsetMatrix = u_offsetScaleMatrix;\n          float offsetX = a_index == 0.0 || a_index == 3.0 ? -u_size / 2.0 : u_size / 2.0;\n          float offsetY = a_index == 0.0 || a_index == 1.0 ? -u_size / 2.0 : u_size / 2.0;\n          vec4 offsets = offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n          gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n          float u = a_index == 0.0 || a_index == 3.0 ? 0.0 : 1.0;\n          float v = a_index == 0.0 || a_index == 1.0 ? 0.0 : 1.0;\n          v_texCoord = vec2(u, v);\n          v_hitColor = a_hitColor;\n          v_weight = a_weight;\n        }",hitFragmentShader:"\n        precision mediump float;\n        uniform float u_blurSlope;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n        varying vec4 v_hitColor;\n\n        void main(void) {\n          vec2 texCoord = v_texCoord * 2.0 - vec2(1.0, 1.0);\n          float sqRadius = texCoord.x * texCoord.x + texCoord.y * texCoord.y;\n          float value = (1.0 - sqrt(sqRadius)) * u_blurSlope;\n          float alpha = smoothstep(0.0, 1.0, value) * v_weight;\n          if (alpha < 0.05) {\n            discard;\n          }\n\n          gl_FragColor = v_hitColor;\n        }",uniforms:{u_size:(function(){return 2*(this.get("radius")+this.get("blur"))}).bind(this),u_blurSlope:(function(){return this.get("radius")/Math.max(1,this.get("blur"))}).bind(this)},postProcesses:[{fragmentShader:"\n            precision mediump float;\n\n            uniform sampler2D u_image;\n            uniform sampler2D u_gradientTexture;\n\n            varying vec2 v_texCoord;\n\n            void main() {\n              vec4 color = texture2D(u_image, v_texCoord);\n              gl_FragColor.a = color.a;\n              gl_FragColor.rgb = texture2D(u_gradientTexture, vec2(0.5, color.a)).rgb;\n              gl_FragColor.rgb *= gl_FragColor.a;\n            }",uniforms:{u_gradientTexture:(function(){return this.gradient_}).bind(this)}}]})}},{key:"renderDeclutter",value:function(){}}]),n}(r.a)},bHdf:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n("5+tZ"),r=n("SpAZ");function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return Object(i.a)(r.a,e)}},bOdf:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("5+tZ");function r(e,t){return Object(i.a)(e,t,1)}},bTHf:function(e,t,n){"use strict";t.a={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"}},bdbV:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("+hOz"),r=n("gjiK"),a=n("Bpkx");function o(e){for(var t=e.length,n=0,i=0,r=0;r<t;r++)n+=e[r].clientX,i+=e[r].clientY;return[n/t,i/t]}t.b=function(e){b(n,e);var t=T(n);function n(e){var i;_(this,n);var r=e||{};return i=t.call(this,r),r.handleDownEvent&&(i.handleDownEvent=r.handleDownEvent),r.handleDragEvent&&(i.handleDragEvent=r.handleDragEvent),r.handleMoveEvent&&(i.handleMoveEvent=r.handleMoveEvent),r.handleUpEvent&&(i.handleUpEvent=r.handleUpEvent),r.stopDown&&(i.stopDown=r.stopDown),i.handlingDownUpSequence=!1,i.trackedPointers_={},i.targetPointers=[],i}return y(n,[{key:"getPointerCount",value:function(){return this.targetPointers.length}},{key:"handleDownEvent",value:function(e){return!1}},{key:"handleDragEvent",value:function(e){}},{key:"handleEvent",value:function(e){if(!e.originalEvent)return!0;var t=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==r.a.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==r.a.POINTERUP){var n=this.handleUpEvent(e);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(e.type==r.a.POINTERDOWN){var i=this.handleDownEvent(e);this.handlingDownUpSequence=i,t=this.stopDown(i)}else e.type==r.a.POINTERMOVE&&this.handleMoveEvent(e);return!t}},{key:"handleMoveEvent",value:function(e){}},{key:"handleUpEvent",value:function(e){return!1}},{key:"stopDown",value:function(e){return e}},{key:"updateTrackedPointers_",value:function(e){if(function(e){var t=e.type;return t===r.a.POINTERDOWN||t===r.a.POINTERDRAG||t===r.a.POINTERUP}(e)){var t=e.originalEvent,n=t.pointerId.toString();e.type==r.a.POINTERUP?delete this.trackedPointers_[n]:(e.type==r.a.POINTERDOWN||n in this.trackedPointers_)&&(this.trackedPointers_[n]=t),this.targetPointers=Object(a.c)(this.trackedPointers_)}}}]),n}(i.a)},broj:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("hKKC");function r(e,t,n,r){for(var a=[],o=Object(i.k)(),s=0,l=n.length;s<l;++s){var u=n[s];o=Object(i.p)(e,t,u[0],r),a.push((o[0]+o[2])/2,(o[1]+o[3])/2),t=u[u.length-1]}return a}},bwl8:function(e,t,n){"use strict";n.d(t,"b",function(){return c});var i=n("Gp2b"),r=n("pzRH"),a=n("0o2U"),o=n("Bpkx"),s=n("2I+J"),l=function(e){b(n,e);var t=T(n);function n(e,i,r){var a;return _(this,n),(a=t.call(this,e)).key=i,a.oldValue=r,a}return n}(i.a),u={};function c(e){return u.hasOwnProperty(e)?u[e]:u[e]="change:"+e}t.a=function(e){b(n,e);var t=T(n);function n(e){var i;return _(this,n),i=t.call(this),Object(s.c)(x(i)),i.values_=null,void 0!==e&&i.setProperties(e),i}return y(n,[{key:"get",value:function(e){var t;return this.values_&&this.values_.hasOwnProperty(e)&&(t=this.values_[e]),t}},{key:"getKeys",value:function(){return this.values_&&Object.keys(this.values_)||[]}},{key:"getProperties",value:function(){return this.values_&&Object(o.a)({},this.values_)||{}}},{key:"hasProperties",value:function(){return!!this.values_}},{key:"notify",value:function(e,t){var n;n=c(e),this.dispatchEvent(new l(n,e,t)),n=r.a.PROPERTYCHANGE,this.dispatchEvent(new l(n,e,t))}},{key:"set",value:function(e,t,n){var i=this.values_||(this.values_={});if(n)i[e]=t;else{var r=i[e];i[e]=t,r!==t&&this.notify(e,r)}}},{key:"setProperties",value:function(e,t){for(var n in e)this.set(n,e[n],t)}},{key:"applyProperties",value:function(e){e.values_&&Object(o.a)(this.values_||(this.values_={}),e.values_)}},{key:"unset",value:function(e,t){if(this.values_&&e in this.values_){var n=this.values_[e];delete this.values_[e],Object(o.d)(this.values_)&&(this.values_=null),t||this.notify(e,n)}}}]),n}(a.a)},c2HN:function(e,t,n){"use strict";function i(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,"a",function(){return i})},c73X:function(e,t,n){"use strict";n.d(t,"b",function(){return s});var i=n("G7/A"),r=n("2I+J"),a=n("Bpkx"),o=n("Znq9");function s(e,t,n){var i,r=n?Object(o.i)(n.featureProjection):null,a=n?Object(o.i)(n.dataProjection):null;if(i=r&&a&&!Object(o.f)(r,a)?(t?e.clone():e).transform(t?r:a,t?a:r):e,t&&n&&void 0!==n.decimals){var s=Math.pow(10,n.decimals);i===e&&(i=e.clone()),i.applyTransform(function(e){for(var t=0,n=e.length;t<n;++t)e[t]=Math.round(e[t]*s)/s;return e})}return i}t.a=function(){function e(){_(this,e),this.dataProjection=null,this.defaultFeatureProjection=null}return y(e,[{key:"getReadOptions",value:function(e,t){var n;if(t){var r=t.dataProjection?Object(o.i)(t.dataProjection):this.readProjection(e);t.extent&&r&&r.getUnits()===i.b.TILE_PIXELS&&(r=Object(o.i)(r)).setWorldExtent(t.extent),n={dataProjection:r,featureProjection:t.featureProjection}}return this.adaptOptions(n)}},{key:"adaptOptions",value:function(e){return Object(a.a)({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},e)}},{key:"getType",value:function(){return Object(r.b)()}},{key:"readFeature",value:function(e,t){return Object(r.b)()}},{key:"readFeatures",value:function(e,t){return Object(r.b)()}},{key:"readGeometry",value:function(e,t){return Object(r.b)()}},{key:"readProjection",value:function(e){return Object(r.b)()}},{key:"writeFeature",value:function(e,t){return Object(r.b)()}},{key:"writeFeatures",value:function(e,t){return Object(r.b)()}},{key:"writeGeometry",value:function(e,t){return Object(r.b)()}}]),e}()},c7WQ:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var i=n("Msoz"),r=n("G7/A"),a=n("Znq9"),o=n("Bpkx"),s=n("E9sE");function l(e){var t,n,l=Object.keys(e.defs),u=l.length;for(t=0;t<u;++t){var c=l[t];if(!Object(a.i)(c)){var h=e.defs(c),d=h.units;d||"longlat"!==h.projName||(d=r.b.DEGREES),Object(a.c)(new i.a({code:c,axisOrientation:h.axis,metersPerUnit:h.to_meter,units:d}))}}for(t=0;t<u;++t){var f=l[t],p=Object(a.i)(f);for(n=0;n<u;++n){var m=l[n],v=Object(a.i)(m);if(!Object(s.c)(f,m)){var g=e.defs(f),y=e.defs(m);if(g===y)Object(a.b)([p,v]);else{var _=e(Object(o.a)({},g,{axis:void 0}),Object(o.a)({},y,{axis:void 0}));Object(a.a)(p,v,Object(a.e)(p,v,_.forward),Object(a.e)(v,p,_.inverse))}}}}}},cR4a:function(e,t,n){"use strict";var i=n("rCez"),r=n("RuG3"),a=n("Nr0W"),o=n("fyJ9"),s=n("wRPv"),l=n("X87I"),u=n("wEYg"),c=n("kEUA"),h=n("sOX2"),d=n("OT4/"),f=n("JlTo"),p=n("Dm0N"),m=n("hKKC"),v=n("Bpkx"),g=n("LV+m"),S=n("rA9B"),w=n("Znq9"),E=n("xdTZ");function C(e,t,n){for(var i,r,a,o,s,l,u=[],c=e(0),h=e(1),d=t(c),f=t(h),p=[h,c],m=[f,d],v=[1,0],y={},_=1e5;--_>0&&v.length>0;)a=v.pop(),c=p.pop(),d=m.pop(),(l=a.toString())in y||(u.push(d[0],d[1]),y[l]=!0),o=v.pop(),h=p.pop(),f=m.pop(),r=t(i=e(s=(a+o)/2)),Object(g.h)(r[0],r[1],d[0],d[1],f[0],f[1])<n?(u.push(f[0],f[1]),y[l=o.toString()]=!0):(v.push(o,s,s,a),m.push(f,r,r,d),p.push(h,i,i,c));return u}var k=new c.a({color:"rgba(0,0,0,0.2)"}),M=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001];t.a=function(e){b(n,e);var t=T(n);function n(e){var a;_(this,n);var s=e||{},l=Object(v.a)({updateWhileAnimating:!0,updateWhileInteracting:!0,renderBuffer:0},s);return delete l.maxLines,delete l.strokeStyle,delete l.targetSize,delete l.showLabels,delete l.lonLabelFormatter,delete l.latLabelFormatter,delete l.lonLabelPosition,delete l.latLabelPosition,delete l.lonLabelStyle,delete l.latLabelStyle,delete l.intervals,(a=t.call(this,l)).projection_=null,a.maxLat_=1/0,a.maxLon_=1/0,a.minLat_=-1/0,a.minLon_=-1/0,a.maxX_=1/0,a.maxY_=1/0,a.minX_=-1/0,a.minY_=-1/0,a.targetSize_=void 0!==s.targetSize?s.targetSize:100,a.maxLines_=void 0!==s.maxLines?s.maxLines:100,a.meridians_=[],a.parallels_=[],a.strokeStyle_=void 0!==s.strokeStyle?s.strokeStyle:k,a.fromLonLatTransform_=void 0,a.toLonLatTransform_=void 0,a.projectionCenterLonLat_=null,a.bottomLeft_=null,a.bottomRight_=null,a.topLeft_=null,a.topRight_=null,a.meridiansLabels_=null,a.parallelsLabels_=null,s.showLabels&&(a.lonLabelFormatter_=null==s.lonLabelFormatter?S.b.bind(x(a),"EW"):s.lonLabelFormatter,a.latLabelFormatter_=null==s.latLabelFormatter?S.b.bind(x(a),"NS"):s.latLabelFormatter,a.lonLabelPosition_=null==s.lonLabelPosition?0:s.lonLabelPosition,a.latLabelPosition_=null==s.latLabelPosition?1:s.latLabelPosition,a.lonLabelStyleBase_=new h.b({text:void 0!==s.lonLabelStyle?s.lonLabelStyle.clone():new d.a({font:"12px Calibri,sans-serif",textBaseline:"bottom",fill:new o.a({color:"rgba(0,0,0,1)"}),stroke:new c.a({color:"rgba(255,255,255,1)",width:3})})}),a.lonLabelStyle_=(function(e){var t=e.get("graticule_label");return this.lonLabelStyleBase_.getText().setText(t),this.lonLabelStyleBase_}).bind(x(a)),a.latLabelStyleBase_=new h.b({text:void 0!==s.latLabelStyle?s.latLabelStyle.clone():new d.a({font:"12px Calibri,sans-serif",textAlign:"right",fill:new o.a({color:"rgba(0,0,0,1)"}),stroke:new c.a({color:"rgba(255,255,255,1)",width:3})})}),a.latLabelStyle_=(function(e){var t=e.get("graticule_label");return this.latLabelStyleBase_.getText().setText(t),this.latLabelStyleBase_}).bind(x(a)),a.meridiansLabels_=[],a.parallelsLabels_=[],a.addEventListener(r.a.POSTRENDER,a.drawLabels_.bind(x(a)))),a.intervals_=void 0!==s.intervals?s.intervals:M,a.setSource(new p.a({loader:a.loaderFunction.bind(x(a)),strategy:a.strategyFunction.bind(x(a)),features:new i.a,overlaps:!1,useSpatialIndex:!1,wrapX:s.wrapX})),a.featurePool_=[],a.lineStyle_=new h.b({stroke:a.strokeStyle_}),a.loadedExtent_=null,a.renderedExtent_=null,a.setRenderOrder(null),a}return y(n,[{key:"strategyFunction",value:function(e,t){var n=e.slice();return this.projection_&&this.getSource().getWrapX()&&Object(m.L)(n,this.projection_),this.loadedExtent_&&(Object(m.b)(this.loadedExtent_,n,t)?n=this.loadedExtent_.slice():this.getSource().removeLoadedExtent(this.loadedExtent_)),[n]}},{key:"loaderFunction",value:function(e,t,n){this.loadedExtent_=e;var i=this.getSource(),r=this.getExtent()||[-1/0,-1/0,1/0,1/0],o=Object(m.C)(r,e);if(!(this.renderedExtent_&&Object(m.q)(this.renderedExtent_,o)||(this.renderedExtent_=o,Object(m.I)(o)))){var s=Object(m.y)(o),l=t*t/4;(!this.projection_||!Object(w.f)(this.projection_,n))&&this.updateProjectionInfo_(n),this.createGraticule_(o,s,t,l);var u,c=this.meridians_.length+this.parallels_.length;for(this.meridiansLabels_&&(c+=this.meridians_.length),this.parallelsLabels_&&(c+=this.parallels_.length);c>this.featurePool_.length;)u=new a.a,this.featurePool_.push(u);var h=i.getFeaturesCollection();h.clear();var d,f,p=0;for(d=0,f=this.meridians_.length;d<f;++d)(u=this.featurePool_[p++]).setGeometry(this.meridians_[d]),u.setStyle(this.lineStyle_),h.push(u);for(d=0,f=this.parallels_.length;d<f;++d)(u=this.featurePool_[p++]).setGeometry(this.parallels_[d]),u.setStyle(this.lineStyle_),h.push(u)}}},{key:"addMeridian_",value:function(e,t,n,i,r,a){var o=this.getMeridian_(e,t,n,i,a);if(Object(m.G)(o.getExtent(),r)){if(this.meridiansLabels_){var s=this.lonLabelFormatter_(e);a in this.meridiansLabels_?this.meridiansLabels_[a].text=s:this.meridiansLabels_[a]={geom:new u.a([]),text:s}}this.meridians_[a++]=o}return a}},{key:"addParallel_",value:function(e,t,n,i,r,a){var o=this.getParallel_(e,t,n,i,a);if(Object(m.G)(o.getExtent(),r)){if(this.parallelsLabels_){var s=this.latLabelFormatter_(e);a in this.parallelsLabels_?this.parallelsLabels_[a].text=s:this.parallelsLabels_[a]={geom:new u.a([]),text:s}}this.parallels_[a++]=o}return a}},{key:"drawLabels_",value:function(e){var t=e.frameState.viewState.rotation,n=e.frameState.extent,i=Object(m.y)(n),r=n;if(t){var a=Object(m.F)(n),o=Object(m.B)(n),s=Math.abs(Math.cos(t)),l=Math.abs(Math.sin(t)),u=(l*o-s*a)/(l*l-s*s),c=(l*a-s*o)/(l*l-s*s);r=[i[0]-u/2,i[1]-c/2,i[0]+u/2,i[1]+c/2]}var h=0,d=0,f=this.latLabelPosition_<.5,p=this.projection_.getExtent(),v=Object(m.F)(p);this.getSource().getWrapX()&&this.projection_.canWrapX()&&!Object(m.h)(p,n)&&(h=Math.floor((n[0]-p[0])/v),d=Math.ceil((n[2]-p[2])/v),f=f!==Math.abs(t)>Math.PI/2);for(var g=Object(E.b)(e),y=h;y<=d;++y){var _=void 0,b=void 0,S=void 0,T=void 0,w=this.meridians_.length+this.parallels_.length;if(this.meridiansLabels_)for(b=0,S=this.meridiansLabels_.length;b<S;++b){var x=this.meridians_[b];if(t||0!==y){var C=x.clone();C.translate(y*v,0),C.rotate(-t,i),(T=this.getMeridianPoint_(C,r,b)).rotate(t,i)}else T=this.getMeridianPoint_(x,n,b);(_=this.featurePool_[w++]).setGeometry(T),_.set("graticule_label",this.meridiansLabels_[b].text),g.drawFeature(_,this.lonLabelStyle_(_))}if(this.parallelsLabels_&&(y===h&&f||y===d&&!f))for(b=0,S=this.parallels_.length;b<S;++b){var k=this.parallels_[b];if(t||0!==y){var M=k.clone();M.translate(y*v,0),M.rotate(-t,i),(T=this.getParallelPoint_(M,r,b)).rotate(t,i)}else T=this.getParallelPoint_(k,n,b);(_=this.featurePool_[w++]).setGeometry(T),_.set("graticule_label",this.parallelsLabels_[b].text),g.drawFeature(_,this.latLabelStyle_(_))}}}},{key:"createGraticule_",value:function(e,t,n,i){var r=this.getInterval_(n);if(-1==r)return this.meridians_.length=0,this.parallels_.length=0,this.meridiansLabels_&&(this.meridiansLabels_.length=0),void(this.parallelsLabels_&&(this.parallelsLabels_.length=0));var a=!1,o=this.projection_.getExtent(),s=Object(m.F)(o);this.getSource().getWrapX()&&this.projection_.canWrapX()&&!Object(m.h)(o,e)&&(Object(m.F)(e)>=s?(e[0]=o[0],e[2]=o[2]):a=!0);var l=[Object(g.a)(t[0],this.minX_,this.maxX_),Object(g.a)(t[1],this.minY_,this.maxY_)],u=this.toLonLatTransform_(l);isNaN(u[1])&&(u[1]=Math.abs(this.maxLat_)>=Math.abs(this.minLat_)?this.maxLat_:this.minLat_);var c,h,d,f,p=Object(g.a)(u[0],this.minLon_,this.maxLon_),v=Object(g.a)(u[1],this.minLat_,this.maxLat_),y=this.maxLines_,_=e;a||(_=[Object(g.a)(e[0],this.minX_,this.maxX_),Object(g.a)(e[1],this.minY_,this.maxY_),Object(g.a)(e[2],this.minX_,this.maxX_),Object(g.a)(e[3],this.minY_,this.maxY_)]);var b=Object(m.a)(_,this.toLonLatTransform_,void 0,8),S=b[3],T=b[2],w=b[1],x=b[0];if(a||(Object(m.g)(_,this.bottomLeft_)&&(x=this.minLon_,w=this.minLat_),Object(m.g)(_,this.bottomRight_)&&(T=this.maxLon_,w=this.minLat_),Object(m.g)(_,this.topLeft_)&&(x=this.minLon_,S=this.maxLat_),Object(m.g)(_,this.topRight_)&&(T=this.maxLon_,S=this.maxLat_),S=Object(g.a)(S,v,this.maxLat_),T=Object(g.a)(T,p,this.maxLon_),w=Object(g.a)(w,this.minLat_,v),x=Object(g.a)(x,this.minLon_,p)),p=Math.floor(p/r)*r,f=Object(g.a)(p,this.minLon_,this.maxLon_),h=this.addMeridian_(f,w,S,i,e,0),c=0,a)for(;(f-=r)>=x&&c++<y;)h=this.addMeridian_(f,w,S,i,e,h);else for(;f!=this.minLon_&&c++<y;)f=Math.max(f-r,this.minLon_),h=this.addMeridian_(f,w,S,i,e,h);if(f=Object(g.a)(p,this.minLon_,this.maxLon_),c=0,a)for(;(f+=r)<=T&&c++<y;)h=this.addMeridian_(f,w,S,i,e,h);else for(;f!=this.maxLon_&&c++<y;)f=Math.min(f+r,this.maxLon_),h=this.addMeridian_(f,w,S,i,e,h);for(this.meridians_.length=h,this.meridiansLabels_&&(this.meridiansLabels_.length=h),v=Math.floor(v/r)*r,d=Object(g.a)(v,this.minLat_,this.maxLat_),h=this.addParallel_(d,x,T,i,e,0),c=0;d!=this.minLat_&&c++<y;)d=Math.max(d-r,this.minLat_),h=this.addParallel_(d,x,T,i,e,h);for(d=Object(g.a)(v,this.minLat_,this.maxLat_),c=0;d!=this.maxLat_&&c++<y;)d=Math.min(d+r,this.maxLat_),h=this.addParallel_(d,x,T,i,e,h);this.parallels_.length=h,this.parallelsLabels_&&(this.parallelsLabels_.length=h)}},{key:"getInterval_",value:function(e){for(var t=this.projectionCenterLonLat_[0],n=this.projectionCenterLonLat_[1],i=-1,r=Math.pow(this.targetSize_*e,2),a=[],o=[],s=0,l=this.intervals_.length;s<l;++s){var u=Object(g.a)(this.intervals_[s]/2,0,90),c=Object(g.a)(n,-90+u,90-u);if(a[0]=t-u,a[1]=c-u,o[0]=t+u,o[1]=c+u,this.fromLonLatTransform_(a,a),this.fromLonLatTransform_(o,o),Math.pow(o[0]-a[0],2)+Math.pow(o[1]-a[1],2)<=r)break;i=this.intervals_[s]}return i}},{key:"getMeridian_",value:function(e,t,n,i,r){var a=function(e,t,n,i,r){var a=Object(w.i)("EPSG:4326");return C(function(i){return[e,t+(n-t)*i]},Object(w.k)(a,i),r)}(e,t,n,this.projection_,i),o=this.meridians_[r];return o?(o.setFlatCoordinates(s.a.XY,a),o.changed()):(o=new l.a(a,s.a.XY),this.meridians_[r]=o),o}},{key:"getMeridianPoint_",value:function(e,t,n){var i=e.getFlatCoordinates(),r=1,a=i.length-1;i[r]>i[a]&&(r=a,a=1);var o=Math.max(t[1],i[r]),s=Math.min(t[3],i[a]),l=Object(g.a)(t[1]+Math.abs(t[1]-t[3])*this.lonLabelPosition_,o,s),u=this.meridiansLabels_[n].geom;return u.setCoordinates([i[r-1]+(i[a-1]-i[r-1])*(l-i[r])/(i[a]-i[r]),l]),u}},{key:"getMeridians",value:function(){return this.meridians_}},{key:"getParallel_",value:function(e,t,n,i,r){var a=function(e,t,n,i,r){var a=Object(w.i)("EPSG:4326");return C(function(i){return[t+(n-t)*i,e]},Object(w.k)(a,i),r)}(e,t,n,this.projection_,i),o=this.parallels_[r];return o?(o.setFlatCoordinates(s.a.XY,a),o.changed()):o=new l.a(a,s.a.XY),o}},{key:"getParallelPoint_",value:function(e,t,n){var i=e.getFlatCoordinates(),r=0,a=i.length-2;i[r]>i[a]&&(r=a,a=0);var o=Math.max(t[0],i[r]),s=Math.min(t[2],i[a]),l=Object(g.a)(t[0]+Math.abs(t[0]-t[2])*this.latLabelPosition_,o,s),u=this.parallelsLabels_[n].geom;return u.setCoordinates([l,i[r+1]+(i[a+1]-i[r+1])*(l-i[r])/(i[a]-i[r])]),u}},{key:"getParallels",value:function(){return this.parallels_}},{key:"updateProjectionInfo_",value:function(e){var t=Object(w.i)("EPSG:4326"),n=e.getWorldExtent();this.maxLat_=n[3],this.maxLon_=n[2],this.minLat_=n[1],this.minLon_=n[0];var i=Object(w.k)(e,t);if(this.minLon_<this.maxLon_)this.toLonLatTransform_=i;else{var r=this.minLon_+this.maxLon_/2;this.maxLon_+=360,this.toLonLatTransform_=function(e,t,n){for(var a=n||2,o=i(e,t,a),s=0,l=o.length;s<l;s+=a)o[s]<r&&(o[s]+=360);return o}}this.fromLonLatTransform_=Object(w.k)(t,e);var a=Object(m.a)([this.minLon_,this.minLat_,this.maxLon_,this.maxLat_],this.fromLonLatTransform_,void 0,8);this.minX_=a[0],this.maxX_=a[2],this.minY_=a[1],this.maxY_=a[3],this.bottomLeft_=this.fromLonLatTransform_([this.minLon_,this.minLat_]),this.bottomRight_=this.fromLonLatTransform_([this.maxLon_,this.minLat_]),this.topLeft_=this.fromLonLatTransform_([this.minLon_,this.maxLat_]),this.topRight_=this.fromLonLatTransform_([this.maxLon_,this.maxLat_]),this.projectionCenterLonLat_=this.toLonLatTransform_(Object(m.y)(e.getExtent())),isNaN(this.projectionCenterLonLat_[1])&&(this.projectionCenterLonLat_[1]=Math.abs(this.maxLat_)>=Math.abs(this.minLat_)?this.maxLat_:this.minLat_),this.projection_=e}}]),n}(f.a)},cRRe:function(e,t,n){"use strict";var i=n("BbPW"),r=n("6Xq6"),a=n("2I+J"),o=n("n2w5"),s=n("hKKC"),l=n("FQWF"),u=n("U1NS"),c=n("rA9B");function h(e,t){l.a.expire()}var d=function(e){b(n,e);var t=T(n);function n(e){var i;return _(this,n),(i=t.call(this)).map_=e,i}return y(n,[{key:"dispatchRenderEvent",value:function(e,t){Object(a.b)()}},{key:"calculateMatrices2D",value:function(e){var t=e.viewState,n=e.coordinateToPixelTransform,i=e.pixelToCoordinateTransform;Object(o.b)(n,e.size[0]/2,e.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]),Object(o.d)(i,n)}},{key:"forEachFeatureAtCoordinate",value:function(e,t,n,i,r,a,o,l){var h,d=t.viewState;function f(e,t,n,i){return r.call(a,t,e?n:null,i)}var p=d.projection,m=Object(c.h)(e.slice(),p),v=[[0,0]];if(p.canWrapX()&&i){var g=p.getExtent(),y=Object(s.F)(g);v.push([-y,0],[y,0])}for(var _=t.layerStatesArray,b=_.length,S=[],T=[],w=0;w<v.length;w++)for(var x=b-1;x>=0;--x){var E=_[x],C=E.layer;if(C.hasRenderer()&&Object(u.b)(E,d)&&o.call(l,C)){var k=C.getRenderer(),M=C.getSource();if(k&&M){var O=M.getWrapX()?m:e,A=f.bind(null,E.managed);T[0]=O[0]+v[w][0],T[1]=O[1]+v[w][1],h=k.forEachFeatureAtCoordinate(T,t,n,A,S)}if(h)return h}}if(0!==S.length){var R=1/S.length;return S.forEach(function(e,t){return e.distanceSq+=t*R}),S.sort(function(e,t){return e.distanceSq-t.distanceSq}),S.some(function(e){return h=e.callback(e.feature,e.layer,e.geometry)}),h}}},{key:"forEachLayerAtPixel",value:function(e,t,n,i,r){return Object(a.b)()}},{key:"hasFeatureAtCoordinate",value:function(e,t,n,i,a,o){return void 0!==this.forEachFeatureAtCoordinate(e,t,n,i,r.b,this,a,o)}},{key:"getMap",value:function(){return this.map_}},{key:"renderFrame",value:function(e){Object(a.b)()}},{key:"scheduleExpireIconCache",value:function(e){l.a.canExpireCache()&&e.postRenderFunctions.push(h)}}]),n}(i.a),f=n("pzRH"),p=n("D1oO"),m=n("RuG3"),g=n("De+T"),S=n("e4iU"),w=n("4cD7"),x=n("FHfp"),E=n("Cw4B");t.a=function(e){b(n,e);var t=T(n);function n(e){var i;_(this,n),(i=t.call(this,e)).fontChangeListenerKey_=Object(x.a)(w.a,f.a.PROPERTYCHANGE,e.redrawText.bind(e)),i.element_=document.createElement("div");var r=i.element_.style;r.position="absolute",r.width="100%",r.height="100%",r.zIndex="0",i.element_.className=S.e+" ol-layers";var a=e.getViewport();return a.insertBefore(i.element_,a.firstChild||null),i.children_=[],i.renderedVisible_=!0,i}return y(n,[{key:"dispatchRenderEvent",value:function(e,t){var n=this.getMap();if(n.hasListener(e)){var i=new p.a(e,void 0,t);n.dispatchEvent(i)}}},{key:"disposeInternal",value:function(){Object(x.c)(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),v(C(n.prototype),"disposeInternal",this).call(this)}},{key:"renderFrame",value:function(e){if(e){this.calculateMatrices2D(e),this.dispatchRenderEvent(m.a.PRECOMPOSE,e);var t=e.layerStatesArray.sort(function(e,t){return e.zIndex-t.zIndex}),n=e.viewState;this.children_.length=0;for(var i=[],r=null,a=0,o=t.length;a<o;++a){var s=t[a];if(e.layerIndex=a,Object(u.b)(s,n)&&(s.sourceState==g.a.READY||s.sourceState==g.a.UNDEFINED)){var l=s.layer,c=l.render(e,r);c&&(c!==r&&(this.children_.push(c),r=c),"getDeclutter"in l&&i.push(l))}}for(var h=i.length-1;h>=0;--h)i[h].renderDeclutter(e);Object(E.f)(this.element_,this.children_),this.dispatchRenderEvent(m.a.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)}},{key:"forEachLayerAtPixel",value:function(e,t,n,i,r){for(var a=t.viewState,o=t.layerStatesArray,s=o.length-1;s>=0;--s){var l=o[s],c=l.layer;if(c.hasRenderer()&&Object(u.b)(l,a)&&r(c)){var h=c.getRenderer().getDataAtPixel(e,t,n);if(h){var d=i(c,h);if(d)return d}}}}}]),n}(d)},cUpR:function(e,t,n){"use strict";n.d(t,"a",function(){return U}),n.d(t,"b",function(){return j}),n.d(t,"c",function(){return E});var i,r=n("SVse"),a=n("8Y7J"),o=function(e){b(n,e);var t=T(n);function n(){return _(this,n),t.apply(this,arguments)}return y(n,[{key:"getProperty",value:function(e,t){return e[t]}},{key:"log",value:function(e){window.console&&window.console.log&&window.console.log(e)}},{key:"logGroup",value:function(e){window.console&&window.console.group&&window.console.group(e)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}}},{key:"dispatchEvent",value:function(e,t){e.dispatchEvent(t)}},{key:"remove",value:function(e){return e.parentNode&&e.parentNode.removeChild(e),e}},{key:"getValue",value:function(e){return e.value}},{key:"createElement",value:function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(e){return e.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(e){return e instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(e){var t,n=s||(s=document.querySelector("base"))?s.getAttribute("href"):null;return null==n?null:(t=n,i||(i=document.createElement("a")),i.setAttribute("href",t),"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname)}},{key:"resetBaseElement",value:function(){s=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(e){return Object(r.E)(document.cookie,e)}}],[{key:"makeCurrent",value:function(){Object(r.F)(new n)}}]),n}(function(e){b(n,e);var t=T(n);function n(){return _(this,n),t.call(this)}return y(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(r.B)),s=null,l=new a.r("TRANSITION_ID"),u=[{provide:a.d,useFactory:function(e,t,n){return function(){n.get(a.e).donePromise.then(function(){var n=Object(r.D)();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(function(t){return t.getAttribute("ng-transition")===e}).forEach(function(e){return n.remove(e)})})}},deps:[l,r.d,a.s],multi:!0}],c=function(){function e(){_(this,e)}return y(e,[{key:"addToWindow",value:function(e){a.nb.getAngularTestability=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=e.findTestabilityInTree(t,n);if(null==i)throw new Error("Could not find testability for element.");return i},a.nb.getAllAngularTestabilities=function(){return e.getAllTestabilities()},a.nb.getAllAngularRootElements=function(){return e.getAllRootElements()},a.nb.frameworkStabilizers||(a.nb.frameworkStabilizers=[]),a.nb.frameworkStabilizers.push(function(e){var t=a.nb.getAllAngularTestabilities(),n=t.length,i=!1,r=function(t){i=i||t,0==--n&&e(i)};t.forEach(function(e){e.whenStable(r)})})}},{key:"findTestabilityInTree",value:function(e,t,n){if(null==t)return null;var i=e.getTestability(t);return null!=i?i:n?Object(r.D)().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}],[{key:"init",value:function(){Object(a.W)(new e)}}]),e}(),h=new a.r("EventManagerPlugins"),d=function(){var e=function(){function e(t,n){var i=this;_(this,e),this._zone=n,this._eventNameToPlugin=new Map,t.forEach(function(e){return e.manager=i}),this._plugins=t.slice().reverse()}return y(e,[{key:"addEventListener",value:function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}},{key:"addGlobalEventListener",value:function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,i=0;i<n.length;i++){var r=n[i];if(r.supports(e))return this._eventNameToPlugin.set(e,r),r}throw new Error("No event manager plugin found for event ".concat(e))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.Ub(h),a.Ub(a.A))},e.\u0275prov=a.Gb({token:e,factory:e.\u0275fac}),e}(),f=function(){function e(t){_(this,e),this._doc=t}return y(e,[{key:"addGlobalEventListener",value:function(e,t,n){var i=Object(r.D)().getGlobalEventTarget(this._doc,e);if(!i)throw new Error("Unsupported event target ".concat(i," for event ").concat(t));return this.addEventListener(i,t,n)}}]),e}(),p=function(){var e=function(){function e(){_(this,e),this._stylesSet=new Set}return y(e,[{key:"addStyles",value:function(e){var t=this,n=new Set;e.forEach(function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))}),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(e){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Gb({token:e,factory:e.\u0275fac}),e}(),m=function(){var e=function(e){b(n,e);var t=T(n);function n(e){var i;return _(this,n),(i=t.call(this))._doc=e,i._hostNodes=new Set,i._styleNodes=new Set,i._hostNodes.add(e.head),i}return y(n,[{key:"_addStylesToHost",value:function(e,t){var n=this;e.forEach(function(e){var i=n._doc.createElement("style");i.textContent=e,n._styleNodes.add(t.appendChild(i))})}},{key:"addHost",value:function(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}},{key:"removeHost",value:function(e){this._hostNodes.delete(e)}},{key:"onStylesAdded",value:function(e){var t=this;this._hostNodes.forEach(function(n){return t._addStylesToHost(e,n)})}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach(function(e){return Object(r.D)().remove(e)})}}]),n}(p);return e.\u0275fac=function(t){return new(t||e)(a.Ub(r.d))},e.\u0275prov=a.Gb({token:e,factory:e.\u0275fac}),e}(),g={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},S=/%COMP%/g;function w(e,t,n){for(var i=0;i<t.length;i++){var r=t[i];Array.isArray(r)?w(e,r,n):(r=r.replace(S,e),n.push(r))}return n}function x(e){return function(t){if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var E=function(){var e=function(){function e(t,n,i){_(this,e),this.eventManager=t,this.sharedStylesHost=n,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new k(t)}return y(e,[{key:"createRenderer",value:function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case a.Q.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new M(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case 1:case a.Q.ShadowDom:return new O(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var i=w(t.id,t.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.Ub(d),a.Ub(m),a.Ub(a.c))},e.\u0275prov=a.Gb({token:e,factory:e.\u0275fac}),e}(),k=function(){function e(t){_(this,e),this.eventManager=t,this.data=Object.create(null)}return y(e,[{key:"destroy",value:function(){}},{key:"createElement",value:function(e,t){return t?document.createElementNS(g[t]||t,e):document.createElement(e)}},{key:"createComment",value:function(e){return document.createComment(e)}},{key:"createText",value:function(e){return document.createTextNode(e)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"insertBefore",value:function(e,t,n){e&&e.insertBefore(t,n)}},{key:"removeChild",value:function(e,t){e&&e.removeChild(t)}},{key:"selectRootElement",value:function(e,t){var n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error('The selector "'.concat(e,'" did not match any elements'));return t||(n.textContent=""),n}},{key:"parentNode",value:function(e){return e.parentNode}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"setAttribute",value:function(e,t,n,i){if(i){t=i+":"+t;var r=g[i];r?e.setAttributeNS(r,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}},{key:"removeAttribute",value:function(e,t,n){if(n){var i=g[n];i?e.removeAttributeNS(i,t):e.removeAttribute("".concat(n,":").concat(t))}else e.removeAttribute(t)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"setStyle",value:function(e,t,n,i){i&(a.G.DashCase|a.G.Important)?e.style.setProperty(t,n,i&a.G.Important?"important":""):e.style[t]=n}},{key:"removeStyle",value:function(e,t,n){n&a.G.DashCase?e.style.removeProperty(t):e.style[t]=""}},{key:"setProperty",value:function(e,t,n){e[t]=n}},{key:"setValue",value:function(e,t){e.nodeValue=t}},{key:"listen",value:function(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,x(n)):this.eventManager.addEventListener(e,t,x(n))}}]),e}(),M=function(e){b(n,e);var t=T(n);function n(e,i,r,a){var o;_(this,n),(o=t.call(this,e)).component=r;var s=w(a+"-"+r.id,r.styles,[]);return i.addStyles(s),o.contentAttr="_ngcontent-%COMP%".replace(S,a+"-"+r.id),o.hostAttr="_nghost-%COMP%".replace(S,a+"-"+r.id),o}return y(n,[{key:"applyToHost",value:function(e){v(C(n.prototype),"setAttribute",this).call(this,e,this.hostAttr,"")}},{key:"createElement",value:function(e,t){var i=v(C(n.prototype),"createElement",this).call(this,e,t);return v(C(n.prototype),"setAttribute",this).call(this,i,this.contentAttr,""),i}}]),n}(k),O=function(e){b(n,e);var t=T(n);function n(e,i,r,a){var o;_(this,n),(o=t.call(this,e)).sharedStylesHost=i,o.hostEl=r,o.shadowRoot=r.attachShadow({mode:"open"}),o.sharedStylesHost.addHost(o.shadowRoot);for(var s=w(a.id,a.styles,[]),l=0;l<s.length;l++){var u=document.createElement("style");u.textContent=s[l],o.shadowRoot.appendChild(u)}return o}return y(n,[{key:"nodeOrShadowRoot",value:function(e){return e===this.hostEl?this.shadowRoot:e}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(e,t){return v(C(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"insertBefore",value:function(e,t,i){return v(C(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(e),t,i)}},{key:"removeChild",value:function(e,t){return v(C(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"parentNode",value:function(e){return this.nodeOrShadowRoot(v(C(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(e)))}}]),n}(k),A=function(){var e=function(e){b(n,e);var t=T(n);function n(e){return _(this,n),t.call(this,e)}return y(n,[{key:"supports",value:function(e){return!0}},{key:"addEventListener",value:function(e,t,n){var i=this;return e.addEventListener(t,n,!1),function(){return i.removeEventListener(e,t,n)}}},{key:"removeEventListener",value:function(e,t,n){return e.removeEventListener(t,n)}}]),n}(f);return e.\u0275fac=function(t){return new(t||e)(a.Ub(r.d))},e.\u0275prov=a.Gb({token:e,factory:e.\u0275fac}),e}(),R=["alt","control","meta","shift"],I={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},L={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},P={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},D=function(){var e=function(e){b(n,e);var t=T(n);function n(e){return _(this,n),t.call(this,e)}return y(n,[{key:"supports",value:function(e){return null!=n.parseEventName(e)}},{key:"addEventListener",value:function(e,t,i){var a=n.parseEventName(t),o=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return Object(r.D)().onAndCancel(e,a.domEventName,o)})}}],[{key:"parseEventName",value:function(e){var t=e.toLowerCase().split("."),i=t.shift();if(0===t.length||"keydown"!==i&&"keyup"!==i)return null;var r=n._normalizeKey(t.pop()),a="";if(R.forEach(function(e){var n=t.indexOf(e);n>-1&&(t.splice(n,1),a+=e+".")}),a+=r,0!=t.length||0===r.length)return null;var o={};return o.domEventName=i,o.fullKey=a,o}},{key:"getEventFullKey",value:function(e){var t="",n=function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&L.hasOwnProperty(t)&&(t=L[t]))}return I[t]||t}(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),R.forEach(function(i){i!=n&&(0,P[i])(e)&&(t+=i+".")}),t+=n}},{key:"eventCallback",value:function(e,t,i){return function(r){n.getEventFullKey(r)===e&&i.runGuarded(function(){return t(r)})}}},{key:"_normalizeKey",value:function(e){switch(e){case"esc":return"escape";default:return e}}}]),n}(f);return e.\u0275fac=function(t){return new(t||e)(a.Ub(r.d))},e.\u0275prov=a.Gb({token:e,factory:e.\u0275fac}),e}(),N=[{provide:a.C,useValue:r.C},{provide:a.D,useValue:function(){o.makeCurrent(),c.init()},multi:!0},{provide:r.d,useFactory:function(){return Object(a.tb)(document),document},deps:[]}],j=Object(a.R)(a.V,"browser",N),F=[[],{provide:a.Y,useValue:"root"},{provide:a.m,useFactory:function(){return new a.m},deps:[]},{provide:h,useClass:A,multi:!0,deps:[r.d,a.A,a.C]},{provide:h,useClass:D,multi:!0,deps:[r.d]},[],{provide:E,useClass:E,deps:[d,m,a.c]},{provide:a.F,useExisting:E},{provide:p,useExisting:m},{provide:m,useClass:m,deps:[r.d]},{provide:a.M,useClass:a.M,deps:[a.A]},{provide:d,useClass:d,deps:[h,a.A]},[]],U=function(){var e=function(){function e(t){if(_(this,e),t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return y(e,null,[{key:"withServerTransition",value:function(t){return{ngModule:e,providers:[{provide:a.c,useValue:t.appId},{provide:l,useExisting:a.c},u]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.Ub(e,12))},e.\u0275mod=a.Ib({type:e}),e.\u0275inj=a.Hb({providers:F,imports:[r.c,a.f]}),e}();"undefined"!=typeof window&&window},ci6y:function(e,t,n){"use strict";var i=n("bwl8"),r=n("aBeY"),a=n("G7/A"),o=n("ogOc"),s=n("j7T1"),l=n("1rej"),u=n("Znq9"),c=n("6Xq6"),h=n("rA9B"),d=n("i3ci"),f=n("Bpkx"),p=n("LV+m");function m(e,t,n){return function(i,r,a,o,s){if(i){var l=t?0:a[0]*r,u=t?0:a[1]*r,c=s?s[0]:0,h=s?s[1]:0,d=e[0]+l/2+c,f=e[2]-l/2+c,m=e[1]+u/2+h,v=e[3]-u/2+h;d>f&&(f=d=(f+d)/2),m>v&&(v=m=(v+m)/2);var g=Object(p.a)(i[0],d,f),y=Object(p.a)(i[1],m,v),_=30*r;return o&&n&&(g+=-_*Math.log(1+Math.max(0,d-i[0])/_)+_*Math.log(1+Math.max(0,i[0]-f)/_),y+=-_*Math.log(1+Math.max(0,m-i[1])/_)+_*Math.log(1+Math.max(0,i[1]-v)/_)),[g,y]}}}function v(e){return e}var g=n("hKKC"),S=n("oWEL");function w(e,t,n,i){var r=Object(g.F)(t)/n[0],a=Object(g.B)(t)/n[1];return i?Math.min(e,Math.max(r,a)):Math.min(e,Math.min(r,a))}function x(e,t,n){var i=Math.min(e,t);return i*=Math.log(1+50*Math.max(0,e/t-1))/50+1,n&&(i=Math.max(i,n),i/=Math.log(1+50*Math.max(0,n/e-1))/50+1),Object(p.a)(i,n/2,2*t)}function E(e,t,n,i,r){return function(a,o,s,l){if(void 0!==a){var u=i?w(e,i,s,r):e;return(void 0===n||n)&&l?x(a,u,t):Object(p.a)(a,t,u)}}}var C=n("aydW"),k=n("orbG"),M=n("gOFd");function O(e,t){setTimeout(function(){e(t)},0)}function A(e){return!(e.sourceCenter&&e.targetCenter&&!Object(h.c)(e.sourceCenter,e.targetCenter))&&e.sourceResolution===e.targetResolution&&e.sourceRotation===e.targetRotation}function R(e,t,n,i,r){var a=Math.cos(-r),o=Math.sin(-r),s=e[0]*a-e[1]*o,l=e[1]*a+e[0]*o;return[(s+=(t[0]/2-n[0])*i)*a-(l+=(n[1]-t[1]/2)*i)*(o=-o),l*a+s*o]}t.a=function(e){b(n,e);var t=T(n);function n(e){var i;_(this,n),i=t.call(this);var r=Object(f.a)({},e);return i.hints_=[0,0],i.animations_=[],i.projection_=Object(u.d)(r.projection,"EPSG:3857"),i.viewportSize_=[100,100],i.targetCenter_=null,i.cancelAnchor_=void 0,r.center&&(r.center=Object(u.g)(r.center,i.projection_)),r.extent&&(r.extent=Object(u.h)(r.extent,i.projection_)),i.applyOptions_(r),i}return y(n,[{key:"applyOptions_",value:function(e){var t=function(e){var t,n,i,r=void 0!==e.minZoom?e.minZoom:0,o=void 0!==e.maxZoom?e.maxZoom:28,s=void 0!==e.zoomFactor?e.zoomFactor:2,c=void 0!==e.multiWorld&&e.multiWorld,h=void 0===e.smoothResolutionConstraint||e.smoothResolutionConstraint,d=void 0!==e.showFullExtent&&e.showFullExtent,f=Object(u.d)(e.projection,"EPSG:3857"),m=f.getExtent(),v=e.constrainOnlyCenter,y=e.extent;if(c||y||!f.isGlobal()||(v=!1,y=m),void 0!==e.resolutions){var _=e.resolutions;n=_[r],i=void 0!==_[o]?_[o]:_[_.length-1],t=e.constrainResolution?function(e,t,n,i){return function(r,a,o,s){if(void 0!==r){var l=e[0],u=e[e.length-1],c=n?w(l,n,o,i):l;if(s)return void 0===t||t?x(r,c,u):Object(p.a)(r,u,c);var h=Math.min(c,r),d=Math.floor(Object(S.h)(e,h,a));return e[d]>c&&d<e.length-1?e[d+1]:e[d]}}}(_,h,!v&&y,d):E(n,i,h,!v&&y,d)}else{var b=(m?Math.max(Object(g.F)(m),Object(g.B)(m)):360*a.a[a.b.DEGREES]/f.getMetersPerUnit())/l.b/Math.pow(2,0),T=b/Math.pow(2,28);void 0!==(n=e.maxResolution)?r=0:n=b/Math.pow(s,r),void 0===(i=e.minResolution)&&(i=void 0!==e.maxZoom?void 0!==e.maxResolution?n/Math.pow(s,o):b/Math.pow(s,o):T),o=r+Math.floor(Math.log(n/i)/Math.log(s)),i=n/Math.pow(s,o-r),t=e.constrainResolution?function(e,t,n,i,r,a){return function(o,s,l,u){if(void 0!==o){var c=r?w(t,r,l,a):t,h=void 0!==n?n:0;if(u)return void 0===i||i?x(o,c,h):Object(p.a)(o,h,c);var d=Math.ceil(Math.log(t/c)/Math.log(e)-1e-9),f=-s*(.5-1e-9)+.5,m=Math.min(c,o),v=Math.floor(Math.log(t/m)/Math.log(e)+f),g=Math.max(d,v),y=t/Math.pow(e,g);return Object(p.a)(y,h,c)}}}(s,n,i,h,!v&&y,d):E(n,i,h,!v&&y,d)}return{constraint:t,maxResolution:n,minResolution:i,minZoom:r,zoomFactor:s}}(e);this.maxResolution_=t.maxResolution,this.minResolution_=t.minResolution,this.zoomFactor_=t.zoomFactor,this.resolutions_=e.resolutions,this.padding=e.padding,this.minZoom_=t.minZoom;var n=function(e){if(void 0!==e.extent)return m(e.extent,e.constrainOnlyCenter,void 0===e.smoothExtentConstraint||e.smoothExtentConstraint);var t=Object(u.d)(e.projection,"EPSG:3857");if(!0!==e.multiWorld&&t.isGlobal()){var n=t.getExtent().slice();return n[0]=-1/0,n[2]=1/0,m(n,!1,!1)}return v}(e),i=t.constraint,r=function(e){if(void 0===e.enableRotation||e.enableRotation){var t=e.constrainRotation;return void 0===t||!0===t?Object(C.b)():!1===t?C.d:"number"==typeof t?Object(C.a)(t):C.d}return C.c}(e);this.constraints_={center:n,resolution:i,rotation:r},this.setRotation(void 0!==e.rotation?e.rotation:0),this.setCenterInternal(void 0!==e.center?e.center:null),void 0!==e.resolution?this.setResolution(e.resolution):void 0!==e.zoom&&this.setZoom(e.zoom),this.setProperties({}),this.options_=e}},{key:"getUpdatedOptions_",value:function(e){var t=Object(f.a)({},this.options_);return void 0!==t.resolution?t.resolution=this.getResolution():t.zoom=this.getZoom(),t.center=this.getCenterInternal(),t.rotation=this.getRotation(),Object(f.a)({},t,e)}},{key:"animate",value:function(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var t=new Array(arguments.length),n=0;n<t.length;++n){var i=arguments[n];i.center&&((i=Object(f.a)({},i)).center=Object(u.g)(i.center,this.getProjection())),i.anchor&&((i=Object(f.a)({},i)).anchor=Object(u.g)(i.anchor,this.getProjection())),t[n]=i}this.animateInternal.apply(this,t)}},{key:"animateInternal",value:function(e){var t,n=arguments.length;if(n>1&&"function"==typeof arguments[n-1]&&(t=arguments[n-1],--n),!this.isDef()){var i=arguments[n-1];return i.center&&this.setCenterInternal(i.center),void 0!==i.zoom&&this.setZoom(i.zoom),void 0!==i.rotation&&this.setRotation(i.rotation),void(t&&O(t,!0))}for(var r=Date.now(),a=this.targetCenter_.slice(),s=this.targetResolution_,l=this.targetRotation_,u=[],c=0;c<n;++c){var h=arguments[c],d={start:r,complete:!1,anchor:h.anchor,duration:void 0!==h.duration?h.duration:1e3,easing:h.easing||k.c,callback:t};if(h.center&&(d.sourceCenter=a,d.targetCenter=h.center.slice(),a=d.targetCenter),void 0!==h.zoom?(d.sourceResolution=s,d.targetResolution=this.getResolutionForZoom(h.zoom),s=d.targetResolution):h.resolution&&(d.sourceResolution=s,d.targetResolution=h.resolution,s=d.targetResolution),void 0!==h.rotation){d.sourceRotation=l;var f=Object(p.e)(h.rotation-l+Math.PI,2*Math.PI)-Math.PI;d.targetRotation=l+f,l=d.targetRotation}A(d)?d.complete=!0:r+=d.duration,u.push(d)}this.animations_.push(u),this.setHint(o.a.ANIMATING,1),this.updateAnimations_()}},{key:"getAnimating",value:function(){return this.hints_[o.a.ANIMATING]>0}},{key:"getInteracting",value:function(){return this.hints_[o.a.INTERACTING]>0}},{key:"cancelAnimations",value:function(){var e;this.setHint(o.a.ANIMATING,-this.hints_[o.a.ANIMATING]);for(var t=0,n=this.animations_.length;t<n;++t){var i=this.animations_[t];if(i[0].callback&&O(i[0].callback,!1),!e)for(var r=0,a=i.length;r<a;++r){var s=i[r];if(!s.complete){e=s.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e}},{key:"updateAnimations_",value:function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var e=Date.now(),t=!1,n=this.animations_.length-1;n>=0;--n){for(var i=this.animations_[n],r=!0,a=0,s=i.length;a<s;++a){var l=i[a];if(!l.complete){var u=e-l.start,c=l.duration>0?u/l.duration:1;c>=1?(l.complete=!0,c=1):r=!1;var h=l.easing(c);if(l.sourceCenter){var d=l.sourceCenter[0],f=l.sourceCenter[1];this.targetCenter_=[d+h*(l.targetCenter[0]-d),f+h*(l.targetCenter[1]-f)]}if(l.sourceResolution&&l.targetResolution){var m=1===h?l.targetResolution:l.sourceResolution+h*(l.targetResolution-l.sourceResolution);if(l.anchor){var v=this.getViewportSize_(this.getRotation()),g=this.constraints_.resolution(m,0,v,!0);this.targetCenter_=this.calculateCenterZoom(g,l.anchor)}this.targetResolution_=m,this.applyTargetState_(!0)}if(void 0!==l.sourceRotation&&void 0!==l.targetRotation){var y=1===h?Object(p.e)(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+h*(l.targetRotation-l.sourceRotation);if(l.anchor){var _=this.constraints_.rotation(y,!0);this.targetCenter_=this.calculateCenterRotate(_,l.anchor)}this.targetRotation_=y}if(this.applyTargetState_(!0),t=!0,!l.complete)break}}if(r){this.animations_[n]=null,this.setHint(o.a.ANIMATING,-1);var b=i[0].callback;b&&O(b,!0)}}this.animations_=this.animations_.filter(Boolean),t&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}}},{key:"calculateCenterRotate",value:function(e,t){var n,i=this.getCenterInternal();return void 0!==i&&(n=[i[0]-t[0],i[1]-t[1]],Object(h.e)(n,e-this.getRotation()),Object(h.a)(n,t)),n}},{key:"calculateCenterZoom",value:function(e,t){var n,i=this.getCenterInternal(),r=this.getResolution();return void 0!==i&&void 0!==r&&(n=[t[0]-e*(t[0]-i[0])/r,t[1]-e*(t[1]-i[1])/r]),n}},{key:"getViewportSize_",value:function(e){var t=this.viewportSize_;if(e){var n=t[0],i=t[1];return[Math.abs(n*Math.cos(e))+Math.abs(i*Math.sin(e)),Math.abs(n*Math.sin(e))+Math.abs(i*Math.cos(e))]}return t}},{key:"setViewportSize",value:function(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}},{key:"getCenter",value:function(){var e=this.getCenterInternal();return e?Object(u.o)(e,this.getProjection()):e}},{key:"getCenterInternal",value:function(){return this.get(s.a.CENTER)}},{key:"getConstraints",value:function(){return this.constraints_}},{key:"getConstrainResolution",value:function(){return this.options_.constrainResolution}},{key:"getHints",value:function(e){return void 0!==e?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}},{key:"calculateExtent",value:function(e){var t=this.calculateExtentInternal(e);return Object(u.p)(t,this.getProjection())}},{key:"calculateExtentInternal",value:function(e){var t=e||this.getViewportSize_(),n=this.getCenterInternal();Object(d.a)(n,1);var i=this.getResolution();Object(d.a)(void 0!==i,2);var r=this.getRotation();return Object(d.a)(void 0!==r,3),Object(g.A)(n,i,r,t)}},{key:"getMaxResolution",value:function(){return this.maxResolution_}},{key:"getMinResolution",value:function(){return this.minResolution_}},{key:"getMaxZoom",value:function(){return this.getZoomForResolution(this.minResolution_)}},{key:"setMaxZoom",value:function(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}},{key:"getMinZoom",value:function(){return this.getZoomForResolution(this.maxResolution_)}},{key:"setMinZoom",value:function(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}},{key:"setConstrainResolution",value:function(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}},{key:"getProjection",value:function(){return this.projection_}},{key:"getResolution",value:function(){return this.get(s.a.RESOLUTION)}},{key:"getResolutions",value:function(){return this.resolutions_}},{key:"getResolutionForExtent",value:function(e,t){return this.getResolutionForExtentInternal(Object(u.h)(e,this.getProjection()),t)}},{key:"getResolutionForExtentInternal",value:function(e,t){var n=t||this.getViewportSize_(),i=Object(g.F)(e)/n[0],r=Object(g.B)(e)/n[1];return Math.max(i,r)}},{key:"getResolutionForValueFunction",value:function(e){var t=e||2,n=this.getConstrainedResolution(this.maxResolution_),i=Math.log(n/this.minResolution_)/Math.log(t);return function(e){return n/Math.pow(t,e*i)}}},{key:"getRotation",value:function(){return this.get(s.a.ROTATION)}},{key:"getValueForResolutionFunction",value:function(e){var t=Math.log(e||2),n=this.getConstrainedResolution(this.maxResolution_),i=Math.log(n/this.minResolution_)/t;return function(e){return Math.log(n/e)/t/i}}},{key:"getViewportSizeMinusPadding_",value:function(e){var t=this.getViewportSize_(e),n=this.padding;return n&&(t=[t[0]-n[1]-n[3],t[1]-n[0]-n[2]]),t}},{key:"getState",value:function(){var e=this.getProjection(),t=this.getResolution(),n=this.getRotation(),i=this.getCenterInternal(),r=this.padding;if(r){var a=this.getViewportSizeMinusPadding_();i=R(i,this.getViewportSize_(),[a[0]/2+r[3],a[1]/2+r[0]],t,n)}return{center:i.slice(0),projection:void 0!==e?e:null,resolution:t,rotation:n,zoom:this.getZoom()}}},{key:"getZoom",value:function(){var e,t=this.getResolution();return void 0!==t&&(e=this.getZoomForResolution(t)),e}},{key:"getZoomForResolution",value:function(e){var t,n,i=this.minZoom_||0;if(this.resolutions_){var r=Object(S.h)(this.resolutions_,e,1);i=r,t=this.resolutions_[r],n=r==this.resolutions_.length-1?2:t/this.resolutions_[r+1]}else t=this.maxResolution_,n=this.zoomFactor_;return i+Math.log(t/e)/Math.log(n)}},{key:"getResolutionForZoom",value:function(e){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var t=Object(p.a)(Math.floor(e),0,this.resolutions_.length-2);return this.resolutions_[t]/Math.pow(this.resolutions_[t]/this.resolutions_[t+1],Object(p.a)(e-t,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}},{key:"fit",value:function(e,t){var n;if(Object(d.a)(Array.isArray(e)||"function"==typeof e.getSimplifiedGeometry,24),Array.isArray(e)){Object(d.a)(!Object(g.I)(e),25);var i=Object(u.h)(e,this.getProjection());n=Object(M.b)(i)}else if(e.getType()===r.a.CIRCLE){var a=Object(u.h)(e.getExtent(),this.getProjection());(n=Object(M.b)(a)).rotate(this.getRotation(),Object(g.y)(a))}else{var o=Object(u.m)();n=o?e.clone().transform(o,this.getProjection()):e}this.fitInternal(n,t)}},{key:"fitInternal",value:function(e,t){var n=t||{},i=n.size;i||(i=this.getViewportSizeMinusPadding_());var r,a=void 0!==n.padding?n.padding:[0,0,0,0],o=void 0!==n.nearest&&n.nearest;r=void 0!==n.minResolution?n.minResolution:void 0!==n.maxZoom?this.getResolutionForZoom(n.maxZoom):0;for(var s=e.getFlatCoordinates(),l=this.getRotation(),u=Math.cos(-l),h=Math.sin(-l),d=1/0,f=1/0,p=-1/0,m=-1/0,v=e.getStride(),g=0,y=s.length;g<y;g+=v){var _=s[g]*u-s[g+1]*h,b=s[g]*h+s[g+1]*u;d=Math.min(d,_),f=Math.min(f,b),p=Math.max(p,_),m=Math.max(m,b)}var S=this.getResolutionForExtentInternal([d,f,p,m],[i[0]-a[1]-a[3],i[1]-a[0]-a[2]]);S=isNaN(S)?r:Math.max(S,r),S=this.getConstrainedResolution(S,o?0:1),h=-h;var T=(d+p)/2,w=(f+m)/2;T+=(a[1]-a[3])/2*S,w+=(a[0]-a[2])/2*S;var x=this.getConstrainedCenter([T*u-w*h,w*u+T*h],S),E=n.callback?n.callback:c.c;void 0!==n.duration?this.animateInternal({resolution:S,center:x,duration:n.duration,easing:n.easing},E):(this.targetResolution_=S,this.targetCenter_=x,this.applyTargetState_(!1,!0),O(E,!0))}},{key:"centerOn",value:function(e,t,n){this.centerOnInternal(Object(u.g)(e,this.getProjection()),t,n)}},{key:"centerOnInternal",value:function(e,t,n){this.setCenterInternal(R(e,t,n,this.getResolution(),this.getRotation()))}},{key:"calculateCenterShift",value:function(e,t,n,i){var r,a=this.padding;if(a&&e){var o=this.getViewportSizeMinusPadding_(-n),s=R(e,i,[o[0]/2+a[3],o[1]/2+a[0]],t,n);r=[e[0]-s[0],e[1]-s[1]]}return r}},{key:"isDef",value:function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()}},{key:"adjustCenter",value:function(e){var t=Object(u.o)(this.targetCenter_,this.getProjection());this.setCenter([t[0]+e[0],t[1]+e[1]])}},{key:"adjustCenterInternal",value:function(e){var t=this.targetCenter_;this.setCenterInternal([t[0]+e[0],t[1]+e[1]])}},{key:"adjustResolution",value:function(e,t){var n=t&&Object(u.g)(t,this.getProjection());this.adjustResolutionInternal(e,n)}},{key:"adjustResolutionInternal",value:function(e,t){var n=this.getAnimating()||this.getInteracting(),i=this.getViewportSize_(this.getRotation()),r=this.constraints_.resolution(this.targetResolution_*e,0,i,n);t&&(this.targetCenter_=this.calculateCenterZoom(r,t)),this.targetResolution_*=e,this.applyTargetState_()}},{key:"adjustZoom",value:function(e,t){this.adjustResolution(Math.pow(this.zoomFactor_,-e),t)}},{key:"adjustRotation",value:function(e,t){t&&(t=Object(u.g)(t,this.getProjection())),this.adjustRotationInternal(e,t)}},{key:"adjustRotationInternal",value:function(e,t){var n=this.getAnimating()||this.getInteracting(),i=this.constraints_.rotation(this.targetRotation_+e,n);t&&(this.targetCenter_=this.calculateCenterRotate(i,t)),this.targetRotation_+=e,this.applyTargetState_()}},{key:"setCenter",value:function(e){this.setCenterInternal(Object(u.g)(e,this.getProjection()))}},{key:"setCenterInternal",value:function(e){this.targetCenter_=e,this.applyTargetState_()}},{key:"setHint",value:function(e,t){return this.hints_[e]+=t,this.changed(),this.hints_[e]}},{key:"setResolution",value:function(e){this.targetResolution_=e,this.applyTargetState_()}},{key:"setRotation",value:function(e){this.targetRotation_=e,this.applyTargetState_()}},{key:"setZoom",value:function(e){this.setResolution(this.getResolutionForZoom(e))}},{key:"applyTargetState_",value:function(e,t){var n=this.getAnimating()||this.getInteracting()||t,i=this.constraints_.rotation(this.targetRotation_,n),r=this.getViewportSize_(i),a=this.constraints_.resolution(this.targetResolution_,0,r,n),o=this.constraints_.center(this.targetCenter_,a,r,n,this.calculateCenterShift(this.targetCenter_,a,i,r));this.get(s.a.ROTATION)!==i&&this.set(s.a.ROTATION,i),this.get(s.a.RESOLUTION)!==a&&this.set(s.a.RESOLUTION,a),this.get(s.a.CENTER)&&Object(h.c)(this.get(s.a.CENTER),o)||this.set(s.a.CENTER,o),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}},{key:"resolveConstraints",value:function(e,t,n){var i=void 0!==e?e:200,r=t||0,a=this.constraints_.rotation(this.targetRotation_),o=this.getViewportSize_(a),s=this.constraints_.resolution(this.targetResolution_,r,o),l=this.constraints_.center(this.targetCenter_,s,o,!1,this.calculateCenterShift(this.targetCenter_,s,a,o));if(0===i&&!this.cancelAnchor_)return this.targetResolution_=s,this.targetRotation_=a,this.targetCenter_=l,void this.applyTargetState_();var u=n||(0===i?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,this.getResolution()===s&&this.getRotation()===a&&this.getCenterInternal()&&Object(h.c)(this.getCenterInternal(),l)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:a,center:l,resolution:s,duration:i,easing:k.b,anchor:u}))}},{key:"beginInteraction",value:function(){this.resolveConstraints(0),this.setHint(o.a.INTERACTING,1)}},{key:"endInteraction",value:function(e,t,n){var i=n&&Object(u.g)(n,this.getProjection());this.endInteractionInternal(e,t,i)}},{key:"endInteractionInternal",value:function(e,t,n){this.setHint(o.a.INTERACTING,-1),this.resolveConstraints(e,t,n)}},{key:"getConstrainedCenter",value:function(e,t){var n=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,t||this.getResolution(),n)}},{key:"getConstrainedZoom",value:function(e,t){var n=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(n,t))}},{key:"getConstrainedResolution",value:function(e,t){var n=t||0,i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,n,i)}}]),n}(i.a)},cp0P:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var i=n("HDdC"),r=n("DH7j"),a=n("lJxs"),o=n("XoHu"),s=n("Cfvw");function l(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length){var i=t[0];if(Object(r.a)(i))return u(i,null);if(Object(o.a)(i)&&Object.getPrototypeOf(i)===Object.prototype){var s=Object.keys(i);return u(s.map(function(e){return i[e]}),s)}}if("function"==typeof t[t.length-1]){var l=t.pop();return u(t=1===t.length&&Object(r.a)(t[0])?t[0]:t,null).pipe(Object(a.a)(function(e){return l.apply(void 0,d(e))}))}return u(t,null)}function u(e,t){return new i.a(function(n){var i=e.length;if(0!==i)for(var r=new Array(i),a=0,o=0,l=function(l){var u=Object(s.a)(e[l]),c=!1;n.add(u.subscribe({next:function(e){c||(c=!0,o++),r[l]=e},error:function(e){return n.error(e)},complete:function(){++a!==i&&c||(o===i&&n.next(t?t.reduce(function(e,t,n){return e[t]=r[n],e},{}):r),n.complete())}}))},u=0;u<i;u++)l(u);else n.complete()})}},dPhe:function(e,t,n){"use strict";var i=n("Gp2b"),r=n("bdbV"),a=n("BbPW"),o=n("gOFd"),s=function(e){b(n,e);var t=T(n);function n(e){var i;return _(this,n),(i=t.call(this)).geometry_=null,i.element_=document.createElement("div"),i.element_.style.position="absolute",i.element_.style.pointerEvents="auto",i.element_.className="ol-box "+e,i.map_=null,i.startPixel_=null,i.endPixel_=null,i}return y(n,[{key:"disposeInternal",value:function(){this.setMap(null)}},{key:"render_",value:function(){var e=this.startPixel_,t=this.endPixel_,n=this.element_.style;n.left=Math.min(e[0],t[0])+"px",n.top=Math.min(e[1],t[1])+"px",n.width=Math.abs(t[0]-e[0])+"px",n.height=Math.abs(t[1]-e[1])+"px"}},{key:"setMap",value:function(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var t=this.element_.style;t.left="inherit",t.top="inherit",t.width="inherit",t.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}},{key:"setPixels",value:function(e,t){this.startPixel_=e,this.endPixel_=t,this.createOrUpdateGeometry(),this.render_()}},{key:"createOrUpdateGeometry",value:function(){var e=this.startPixel_,t=this.endPixel_,n=[e,[e[0],t[1]],t,[t[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new o.a([n])}},{key:"getGeometry",value:function(){return this.geometry_}}]),n}(a.a),l=n("7k3C"),u=function(e){b(n,e);var t=T(n);function n(e,i,r){var a;return _(this,n),(a=t.call(this,e)).coordinate=i,a.mapBrowserEvent=r,a}return n}(i.a);t.a=function(e){b(n,e);var t=T(n);function n(e){var i;_(this,n);var r=e||{};return(i=t.call(this)).box_=new s(r.className||"ol-dragbox"),i.minArea_=void 0!==r.minArea?r.minArea:64,r.onBoxEnd&&(i.onBoxEnd=r.onBoxEnd),i.startPixel_=null,i.condition_=r.condition?r.condition:l.e,i.boxEndCondition_=r.boxEndCondition?r.boxEndCondition:i.defaultBoxEndCondition,i}return y(n,[{key:"defaultBoxEndCondition",value:function(e,t,n){var i=n[0]-t[0],r=n[1]-t[1];return i*i+r*r>=this.minArea_}},{key:"getGeometry",value:function(){return this.box_.getGeometry()}},{key:"handleDragEvent",value:function(e){this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new u("boxdrag",e.coordinate,e))}},{key:"handleUpEvent",value:function(e){this.box_.setMap(null);var t=this.boxEndCondition_(e,this.startPixel_,e.pixel);return t&&this.onBoxEnd(e),this.dispatchEvent(new u(t?"boxend":"boxcancel",e.coordinate,e)),!1}},{key:"handleDownEvent",value:function(e){return!!this.condition_(e)&&(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new u("boxstart",e.coordinate,e)),!0)}},{key:"onBoxEnd",value:function(e){}}]),n}(r.b)},dmYx:function(e,t,n){"use strict";var i=n("zmPu"),r=n("W/Sn"),a=n("siiE"),o=n("n7ez"),s=n("9CgO"),l=n("QBIS"),u=n("0Fwh"),c=n("ogOc"),h=n("n2w5"),d=n("hKKC"),f=n("Bpkx"),p=n("aoLf"),m=n("lQ2a"),g=n("2I+J"),S=n("FHfp"),w=n("dvVV"),E=n("rA9B"),k={image:[l.a.POLYGON,l.a.CIRCLE,l.a.LINE_STRING,l.a.IMAGE,l.a.TEXT],hybrid:[l.a.POLYGON,l.a.LINE_STRING],vector:[]},M={image:[l.a.DEFAULT],hybrid:[l.a.IMAGE,l.a.TEXT,l.a.DEFAULT],vector:[l.a.POLYGON,l.a.CIRCLE,l.a.LINE_STRING,l.a.IMAGE,l.a.TEXT,l.a.DEFAULT]},O=function(e){b(n,e);var t=T(n);function n(e){var i;return _(this,n),(i=t.call(this,e)).boundHandleStyleImageChange_=i.handleStyleImageChange_.bind(x(i)),i.dirty_=!1,i.renderedPixelToCoordinateTransform_=null,i.renderTileImageQueue_={},i.tileListenerKeys_={},i.tmpTransform_=Object(h.c)(),i}return y(n,[{key:"prepareTile",value:function(e,t,n,i){var r,a=Object(g.c)(e),o=e.getState();return(o===u.a.LOADED&&e.hifi||o===u.a.ERROR)&&a in this.tileListenerKeys_&&(Object(S.c)(this.tileListenerKeys_[a]),delete this.tileListenerKeys_[a]),o!==u.a.LOADED&&o!==u.a.ERROR||(this.updateExecutorGroup_(e,t,n),this.tileImageNeedsRender_(e,t,n)&&(r=!0,i&&(this.renderTileImageQueue_[a]=e))),r}},{key:"getTile",value:function(e,t,i,r){var a=r.pixelRatio,o=r.viewState,l=o.resolution,h=o.projection,d=this.getLayer(),f=d.getSource().getTile(e,t,i,a,h);if(f.getState()<u.a.LOADED){f.wantedResolution=l;var p=Object(g.c)(f);if(!(p in this.tileListenerKeys_)){var m=Object(S.a)(f,s.a.CHANGE,this.prepareTile.bind(this,f,a,h,!0));this.tileListenerKeys_[p]=m}}else{var y=r.viewHints;(y[c.a.ANIMATING]||y[c.a.INTERACTING])&&f.wantedResolution||(f.wantedResolution=l),this.prepareTile(f,a,h,!1)&&"vector"!==d.getRenderMode()&&this.renderTileImage_(f,r)}return v(C(n.prototype),"getTile",this).call(this,e,t,i,r)}},{key:"isDrawableTile",value:function(e){var t=this.getLayer();return v(C(n.prototype),"isDrawableTile",this).call(this,e)&&("vector"===t.getRenderMode()?Object(g.c)(t)in e.executorGroups:e.hasContext(t))}},{key:"getTileImage",value:function(e){return e.getImage(this.getLayer())}},{key:"prepareFrame",value:function(e){var t=this.getLayer().getRevision();return this.renderedLayerRevision_!=t&&(this.renderedTiles.length=0),this.renderedLayerRevision_=t,v(C(n.prototype),"prepareFrame",this).call(this,e)}},{key:"updateExecutorGroup_",value:function(e,t,n){var i=this,o=this.getLayer(),s=o.getRevision(),l=o.getRenderOrder()||null,c=e.wantedResolution,h=e.getReplayState(o);if(h.dirty||h.renderedResolution!==c||h.renderedRevision!=s||h.renderedRenderOrder!=l||h.renderedZ!==e.sourceZ){var f=o.getSource(),p=o.getDeclutter(),v=f.getTileGrid(),y=f.getTileGridForProjection(n).getTileCoordExtent(e.wrappedTileCoord),_=f.getSourceTiles(t,n,e),b=Object(g.c)(o);delete e.hitDetectionImageData[b],e.executorGroups[b]=[],p&&(e.declutterExecutorGroups[b]=[]);for(var S=function(n,s){var g=_[n];if(g.getState()!=u.a.LOADED)return"continue";var S=v.getTileCoordExtent(g.tileCoord),T=Object(d.C)(y,S),w=Object(d.q)(S,T)?null:Object(d.d)(T,o.getRenderBuffer()*c,i.tmpExtent);h.dirty=!1;var x=new r.a(0,T,c,t),E=p?new r.a(0,T,c,t):void 0,C=Object(m.b)(c,t),k=function(e){var t,n=e.getStyleFunction()||o.getStyleFunction();if(n&&(t=n(e,c)),t){var i=this.renderFeature(e,C,t,x,E);this.dirty_=this.dirty_||i,h.dirty=h.dirty||i}},M=g.getFeatures();l&&l!==h.renderedRenderOrder&&M.sort(l);for(var O=0,A=M.length;O<A;++O){var R=M[O];w&&!Object(d.G)(w,R.getGeometry().getExtent())||k.call(i,R)}var I=x.finish(),L="vector"!==o.getRenderMode()&&p&&1===_.length?null:T,P=new a.a(L,c,t,f.getOverlaps(),I,o.getRenderBuffer());if(e.executorGroups[b].push(P),E){var D=new a.a(L,c,t,f.getOverlaps(),E.finish(),o.getRenderBuffer());e.declutterExecutorGroups[b].push(D)}},T=0,w=_.length;T<w;++T)S(T);h.renderedRevision=s,h.renderedZ=e.sourceZ,h.renderedRenderOrder=l,h.renderedResolution=c}}},{key:"forEachFeatureAtCoordinate",value:function(e,t,n,i,r){var a=t.viewState.resolution,o=t.viewState.rotation;n=null==n?0:n;var s=this.getLayer(),l=s.getSource().getTileGridForProjection(t.viewState.projection),u=Object(d.c)([e]);Object(d.d)(u,a*n,u);for(var c,h={},f=function(e,t,n){var a=e.getId();void 0===a&&(a=Object(g.c)(e));var o=h[a];if(o){if(!0!==o&&n<o.distanceSq){if(0===n)return h[a]=!0,r.splice(r.lastIndexOf(o),1),i(e,s,t);o.geometry=t,o.distanceSq=n}}else{if(0===n)return h[a]=!0,i(e,s,t);r.push(h[a]={feature:e,layer:s,geometry:t,distanceSq:n,callback:i})}},p=this.renderedTiles,m=function(i,r){var h=p[i],m=l.getTileCoordExtent(h.wrappedTileCoord);if(!Object(d.G)(m,u))return"continue";var v=Object(g.c)(s),y=[h.executorGroups[v]],_=h.declutterExecutorGroups[v];_&&y.push(_),y.some(function(i){for(var r=i===_?t.declutterTree.all().map(function(e){return e.value}):null,s=0,l=i.length;s<l;++s)if(c=i[s].forEachFeatureAtCoordinate(e,a,o,n,f,r))return!0})},v=0,y=p.length;!c&&v<y;++v)m(v);return c}},{key:"getFeatures",value:function(e){return new Promise((function(t,n){for(var i,r=this.getLayer(),a=Object(g.c)(r),o=r.getSource(),s=this.renderedProjection,l=s.getExtent(),c=this.renderedResolution,f=o.getTileGridForProjection(s),m=Object(h.a)(this.renderedPixelToCoordinateTransform_,e.slice()),v=f.getTileCoordForCoordAndResolution(m,c),y=0,_=this.renderedTiles.length;y<_;++y)if(v.toString()===this.renderedTiles[y].tileCoord.toString()){if((i=this.renderedTiles[y]).getState()===u.a.LOADED&&i.hifi){var b=f.getTileCoordExtent(i.tileCoord);o.getWrapX()&&s.canWrapX()&&!Object(d.h)(l,b)&&Object(E.h)(m,s);break}i=void 0}if(!i||i.loadingSourceTiles>0)t([]);else{var S=f.getTileCoordExtent(i.wrappedTileCoord),T=Object(d.D)(S),x=[(m[0]-T[0])/c,(T[1]-m[1])/c],C=i.getSourceTiles().reduce(function(e,t){return e.concat(t.getFeatures())},[]),k=i.hitDetectionImageData[a];if(!k&&!this.animatingOrInteracting_){var M=Object(w.d)(f.getTileSize(f.getZForResolution(c))),O=[M[0]/2,M[1]/2],A=this.renderedRotation_,R=[this.getRenderTransform(f.getTileCoordCenter(i.wrappedTileCoord),c,0,.5,O[0],O[1],0)];k=Object(p.a)(M,R,C,r.getStyleFunction(),f.getTileCoordExtent(i.wrappedTileCoord),i.getReplayState(r).renderedResolution,A),i.hitDetectionImageData[a]=k}t(Object(p.b)(x,C,k))}}).bind(this))}},{key:"handleFontsChanged",value:function(){Object(f.b)(this.renderTileImageQueue_);var e=this.getLayer();e.getVisible()&&void 0!==this.renderedLayerRevision_&&e.changed()}},{key:"handleStyleImageChange_",value:function(e){this.renderIfReadyAndVisible()}},{key:"renderDeclutter",value:function(e){for(var t=e.viewHints,n=!(t[c.a.ANIMATING]||t[c.a.INTERACTING]),i=this.renderedTiles,r=0,a=i.length;r<a;++r){var o=i[r],s=o.declutterExecutorGroups[Object(g.c)(this.getLayer())];if(s)for(var l=s.length-1;l>=0;--l)s[l].execute(this.context,1,this.getTileRenderTransform(o,e),e.viewState.rotation,n,void 0,e.declutterTree)}}},{key:"getTileRenderTransform",value:function(e,t){var n=t.pixelRatio,i=t.viewState,r=i.center,a=i.resolution,o=i.rotation,s=t.size,l=Math.round(s[0]*n),u=Math.round(s[1]*n),c=this.getLayer().getSource().getTileGridForProjection(t.viewState.projection),d=e.tileCoord,f=c.getTileCoordExtent(e.wrappedTileCoord),p=c.getTileCoordExtent(d,this.tmpExtent)[0]-f[0];return Object(h.f)(Object(h.i)(this.inversePixelTransform.slice(),1/n,1/n),this.getRenderTransform(r,a,o,n,l,u,p))}},{key:"renderFrame",value:function(e,t){var i=e.viewHints,r=!(i[c.a.ANIMATING]||i[c.a.INTERACTING]);this.renderQueuedTileImages_(r,e),v(C(n.prototype),"renderFrame",this).call(this,e,t),this.renderedPixelToCoordinateTransform_=e.pixelToCoordinateTransform.slice(),this.renderedRotation_=e.viewState.rotation;var a=this.getLayer(),o=a.getRenderMode();if("image"===o)return this.container;var s=a.getSource(),l=e.usedTiles[Object(g.c)(s)];for(var u in this.renderTileImageQueue_)l&&u in l||delete this.renderTileImageQueue_[u];for(var h=this.context,d=M[o],f=e.viewState.rotation,p=this.renderedTiles,m=[],y=[],_=p.length-1;_>=0;--_)for(var b=p[_],S=this.getTileRenderTransform(b,e),T=b.executorGroups[Object(g.c)(a)],w=!1,x=0,E=T.length;x<E;++x){var k=T[x];if(k.hasExecutors(d)){var O=b.tileCoord[0],A=void 0;if(!w&&(A=k.getClipCoords(S))){h.save();for(var R=0,I=m.length;R<I;++R){var L=m[R];O<y[R]&&(h.beginPath(),h.moveTo(A[0],A[1]),h.lineTo(A[2],A[3]),h.lineTo(A[4],A[5]),h.lineTo(A[6],A[7]),h.moveTo(L[6],L[7]),h.lineTo(L[4],L[5]),h.lineTo(L[2],L[3]),h.lineTo(L[0],L[1]),h.clip())}}k.execute(h,1,S,f,r,d),!w&&A&&(h.restore(),m.push(A),y.push(O),w=!0)}}return this.container}},{key:"renderQueuedTileImages_",value:function(e,t){for(var n in this.renderTileImageQueue_){if(!e&&Date.now()-t.time>8){t.animate=!0;break}var i=this.renderTileImageQueue_[n];delete this.renderTileImageQueue_[n],this.renderTileImage_(i,t)}}},{key:"renderFeature",value:function(e,t,n,i,r){if(!n)return!1;var a=!1;if(Array.isArray(n))for(var o=0,s=n.length;o<s;++o)a=Object(m.d)(i,e,n[o],t,this.boundHandleStyleImageChange_,void 0,r)||a;else a=Object(m.d)(i,e,n,t,this.boundHandleStyleImageChange_,void 0,r);return a}},{key:"tileImageNeedsRender_",value:function(e,t,n){var i=this.getLayer(),r=e.getReplayState(i),a=i.getRevision();return r.renderedTileResolution!==e.wantedResolution||r.renderedTileRevision!==a||r.renderedTileZ!==e.sourceZ}},{key:"renderTileImage_",value:function(e,t){var n=this.getLayer(),i=e.getReplayState(n),r=n.getRevision(),a=e.executorGroups[Object(g.c)(n)];i.renderedTileRevision=r,i.renderedTileZ=e.sourceZ;var o=e.wrappedTileCoord,s=o[0],l=n.getSource(),u=t.pixelRatio,c=t.viewState.projection,d=l.getTileGridForProjection(c),f=d.getResolution(e.tileCoord[0]),p=t.pixelRatio/e.wantedResolution*f,m=d.getResolution(s),v=e.getContext(n);u=Math.round(Math.max(u,p/u));var y=l.getTilePixelSize(s,u,c);v.canvas.width=y[0],v.canvas.height=y[1];var _=u/p;if(1!==_){var b=Object(h.g)(this.tmpTransform_);Object(h.i)(b,_,_),v.setTransform.apply(v,b)}var S=d.getTileCoordExtent(o,this.tmpExtent),T=p/m,w=Object(h.g)(this.tmpTransform_);Object(h.i)(w,T,-T),Object(h.l)(w,-S[0],-S[3]);for(var x=0,E=a.length;x<E;++x)a[x].execute(v,_,w,0,!0,k[n.getRenderMode()]);i.renderedTileResolution=e.wantedResolution}}]),n}(o.a),A=n("ZBAF"),R=n("i3ci");t.a=function(e){b(n,e);var t=T(n);function n(e){var i;_(this,n);var r=e||{},a=Object(f.a)({},r);delete a.preload,delete a.useInterimTilesOnError,i=t.call(this,a);var o=r.renderMode||"hybrid";return Object(R.a)(null==o||"image"==o||"hybrid"==o||"vector"==o,28),i.renderMode_=o,i.setPreload(r.preload?r.preload:0),i.setUseInterimTilesOnError(void 0===r.useInterimTilesOnError||r.useInterimTilesOnError),i}return y(n,[{key:"createRenderer",value:function(){return new O(this)}},{key:"getFeatures",value:function(e){return v(C(n.prototype),"getFeatures",this).call(this,e)}},{key:"getRenderMode",value:function(){return this.renderMode_}},{key:"getPreload",value:function(){return this.get(A.a.PRELOAD)}},{key:"getUseInterimTilesOnError",value:function(){return this.get(A.a.USE_INTERIM_TILES_ON_ERROR)}},{key:"setPreload",value:function(e){this.set(A.a.PRELOAD,e)}},{key:"setUseInterimTilesOnError",value:function(e){this.set(A.a.USE_INTERIM_TILES_ON_ERROR,e)}}]),n}(i.a)},dmaU:function(e,t,n){(function(e){var t=function(e,t,n){var i={singleFile:!0,Util:{}};return i.Util.extend=function(e,t){if(e=e||{},t){for(var n in t){var i=t[n];void 0!==i&&(e[n]=i)}!("undefined"!=typeof window&&null!==window&&"function"==typeof window.Event&&t instanceof window.Event)&&t.hasOwnProperty&&t.hasOwnProperty("toString")&&(e.toString=t.toString)}return e},i.Class=function(){for(var e,t,n,r=function(){this.initialize.apply(this,arguments)},a={},o=function(){},s=0,l=arguments.length;s<l;++s)"function"==typeof(n=arguments[s])?(0===s&&l>1&&(t=n.prototype.initialize,n.prototype.initialize=o,a=new n,void 0===t?delete n.prototype.initialize:n.prototype.initialize=t),e=n.prototype):e=n,i.Util.extend(a,e);return r.prototype=a,r},i.XML={XMLNS_NS:"http://www.w3.org/2000/xmlns/",XMLNS_P:"xmlns"},i.DOM={isDomImplementationAvailable:function(){return void 0!==e||!("undefined"==typeof document||!i.Util.Type.exists(document.implementation)||!i.Util.Type.isFunction(document.implementation.createDocument))},createDocument:function(){if(void 0!==e)return(new e.DOMImplementation).createDocument();if("undefined"!=typeof document&&i.Util.Type.exists(document.implementation)&&i.Util.Type.isFunction(document.implementation.createDocument))return document.implementation.createDocument("","",null);if("undefined"!=typeof ActiveXObject)return new ActiveXObject("MSXML2.DOMDocument");throw new Error("Error created the DOM document.")},serialize:function(t){if(i.Util.Ensure.ensureExists(t),void 0!==e)return(new e.XMLSerializer).serializeToString(t);if(i.Util.Type.exists(XMLSerializer))return(new XMLSerializer).serializeToString(t);if(i.Util.Type.exists(t.xml))return t.xml;throw new Error("Could not serialize the node, neither XMLSerializer nor the [xml] property were found.")},parse:function(t){if(i.Util.Ensure.ensureExists(t),void 0!==e)return(new e.DOMParser).parseFromString(t,"application/xml");if("undefined"!=typeof DOMParser)return(new DOMParser).parseFromString(t,"application/xml");if("undefined"!=typeof ActiveXObject){var n=i.DOM.createDocument("","");return n.loadXML(t),n}var r="data:text/xml;charset=utf-8,"+encodeURIComponent(t),a=new XMLHttpRequest;return a.open("GET",r,!1),a.overrideMimeType&&a.overrideMimeType("text/xml"),a.send(null),a.responseXML},load:function(e,t,n){i.Request.INSTANCE.issue(e,function(e){var n;if(i.Util.Type.exists(e.responseXML)&&i.Util.Type.exists(e.responseXML.documentElement))n=e.responseXML;else{if(!i.Util.Type.isString(e.responseText))throw new Error("Response does not have valid [responseXML] or [responseText].");n=i.DOM.parse(e.responseText)}t(n)},function(t){throw new Error("Could not retrieve XML from URL ["+e+"].")},n)},xlinkFixRequired:null,isXlinkFixRequired:function(){if(null===i.DOM.xlinkFixRequired)if("undefined"==typeof navigator)i.DOM.xlinkFixRequired=!1;else if(navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)){var e=i.DOM.createDocument(),t=e.createElement("test");t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","urn:test"),e.appendChild(t);var n=i.DOM.serialize(e);i.DOM.xlinkFixRequired=-1===n.indexOf("xmlns:xlink")}else i.DOM.xlinkFixRequired=!1;return i.DOM.xlinkFixRequired}},i.Request=i.Class({factories:[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml2.XMLHTTP.6.0")},function(){return new ActiveXObject("Msxml2.XMLHTTP.3.0")},function(){return new ActiveXObject("Microsoft.XMLHTTP")},function(){return void 0!==t?new(0,t.XMLHttpRequest):null}],initialize:function(){},issue:function(e,t,n,r){i.Util.Ensure.ensureString(e),i.Util.Type.exists(t)?i.Util.Ensure.ensureFunction(t):t=function(){},i.Util.Type.exists(n)?i.Util.Ensure.ensureFunction(n):n=function(){},i.Util.Type.exists(r)?i.Util.Ensure.ensureObject(r):r={};var a=this.createTransport(),o=i.Util.Type.isString(r.method)?r.method:"GET",s=!i.Util.Type.isBoolean(r.async)||r.async,l=i.Util.Type.isString(r.proxy)?r.proxy:i.Request.PROXY,u=i.Util.Type.isString(r.user)?r.user:null,c=i.Util.Type.isString(r.password)?r.password:null;if(i.Util.Type.isString(l)&&0===e.indexOf("http")&&(e=l+encodeURIComponent(e)),i.Util.Type.isString(u)?a.open(o,e,s,u,c):a.open(o,e,s),i.Util.Type.isObject(r.headers))for(var h in r.headers)r.headers.hasOwnProperty(h)&&a.setRequestHeader(h,r.headers[h]);var d=i.Util.Type.exists(r.data)?r.data:null;if(s){var f=this;"undefined"!=typeof window?(a.onreadystatechange=function(){f.handleTransport(a,t,n)},window.setTimeout(function(){a.send(d)},0)):(a.onreadystatechange=function(){f.handleTransport(a,t,n)},a.send(d))}else a.send(d),this.handleTransport(a,t,n);return a},handleTransport:function(e,t,n){4==e.readyState&&((!e.status||e.status>=200&&e.status<300)&&t(e),e.status&&(e.status<200||e.status>=300)&&n(e))},createTransport:function(){for(var e=0,t=this.factories.length;e<t;e++)try{var n=this.factories[e]();if(null!==n)return n}catch(i){}throw new Error("Could not create XML HTTP transport.")},CLASS_NAME:"Jsonix.Request"}),i.Request.INSTANCE=new i.Request,i.Request.PROXY=null,i.Schema={},i.Model={},i.Util.Type={exists:function(e){return null!=e},isUndefined:function(e){return void 0===e},isString:function(e){return"string"==typeof e},isBoolean:function(e){return"boolean"==typeof e},isObject:function(e){return"object"==typeof e},isFunction:function(e){return"function"==typeof e},isNumber:function(e){return"number"==typeof e&&!isNaN(e)},isNumberOrNaN:function(e){return e===+e||"[object Number]"===Object.prototype.toString.call(e)},isNaN:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return i.Util.Type.isNumberOrNaN(e)&&isNaN(e)}),isArray:function(e){return!(!(e&&e.concat&&e.unshift)||e.callee)},isDate:function(e){return!!(e&&e.getTimezoneOffset&&e.setUTCFullYear)},isRegExp:function(e){return!(!(e&&e.test&&e.exec)||!e.ignoreCase&&!1!==e.ignoreCase)},isNode:function(e){return"object"==typeof Node||"function"==typeof Node?e instanceof Node:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},isEqual:function(e,t,n){var r=i.Util.Type.isFunction(n),a=Object.keys||function(e){if(i.Util.Type.isArray(e))return function(e,t,n){for(var i=slice.call(arguments),r=i.length<=1,a=r?0:i[0],o=i[2]||1,s=Math.max(Math.ceil(((r?i[0]:i[1])-a)/o),0),l=0,u=new Array(s);l<s;)u[l++]=a,a+=o;return u}(0,e.length);var t=[];for(var n in e)e.hasOwnProperty(n)&&(t[t.length]=n);return t};if(e===t)return!0;if(i.Util.Type.isNaN(e)&&i.Util.Type.isNaN(t))return!0;var o=typeof e,s=typeof t;if(o!=s)return r&&n("Types differ ["+o+"], ["+s+"]."),!1;if(e==t)return!0;if(!e&&t||e&&!t)return r&&n("One is falsy, the other is truthy."),!1;if(i.Util.Type.isDate(e)&&i.Util.Type.isDate(t))return e.getTime()===t.getTime();if(i.Util.Type.isNaN(e)&&i.Util.Type.isNaN(t))return!1;if(i.Util.Type.isRegExp(e)&&i.Util.Type.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.ignoreCase===t.ignoreCase&&e.multiline===t.multiline;if(i.Util.Type.isNode(e)&&i.Util.Type.isNode(t)){var l=i.DOM.serialize(e),u=i.DOM.serialize(t);return l===u||(r&&(n("Nodes differ."),n("A="+l),n("B="+u)),!1)}if("object"!==o)return!1;if(i.Util.Type.isArray(e)&&e.length!==t.length)return r&&(n("Lengths differ."),n("A.length="+e.length),n("B.length="+t.length)),!1;var c=a(e),h=a(t);if(c.length!==h.length){r&&n("Different number of properties ["+c.length+"], ["+h.length+"].");for(var d=0;d<c.length;d++)r&&n("A ["+c[d]+"]="+e[c[d]]);for(var f=0;f<h.length;f++)r&&n("B ["+h[f]+"]="+t[h[f]]);return!1}for(var p=0;p<c.length;p++){var m=c[p];if(!(m in t)||!i.Util.Type.isEqual(e[m],t[m],n))return r&&(n("One of the properties differ."),n("Key: ["+m+"]."),n("Left: ["+e[m]+"]."),n("Right: ["+t[m]+"].")),!1}return!0},cloneObject:function(e,t){for(var n in t=t||{},e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},defaultValue:function(){var e=arguments;if(0!==e.length){for(var t=e[e.length-1],n=typeof t,i=0;i<e.length-1;i++){var r=e[i];if(typeof r===n)return r}return t}}},i.Util.NumberUtils={isInteger:function(e){return i.Util.Type.isNumber(e)&&e%1==0}},i.Util.StringUtils={trim:String.prototype.trim?function(e){return i.Util.Ensure.ensureString(e),e.trim()}:function(e){return i.Util.Ensure.ensureString(e),e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},isEmpty:function(e){var t=e.length;if(!t)return!0;for(var n=0;n<t;n++){var i=e[n];if(" "===i);else{if(i>"\r"&&i<"\x85")return!1;if(i<"\xa0"){if(i<"\t")return!1;if(i>"\x85")return!1}else if(i>"\xa0")if(i<"\u2028"){if(i<"\u180e"){if(i<"\u1680")return!1;if(i>"\u1680")return!1}else if(i>"\u180e"){if(i<"\u2000")return!1;if(i>"\u200a")return!1}}else if(i>"\u2029")if(i<"\u205f"){if(i<"\u202f")return!1;if(i>"\u202f")return!1}else if(i>"\u205f"){if(i<"\u3000")return!1;if(i>"\u3000")return!1}}}return!0},isNotBlank:function(e){return i.Util.Type.isString(e)&&!i.Util.StringUtils.isEmpty(e)},whitespaceCharacters:"\t\n\v\f\r \x85\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000",whitespaceCharactersMap:{"\t":!0,"\n":!0,"\v":!0,"\f":!0,"\r":!0," ":!0,"\x85":!0,"\xa0":!0,"\u1680":!0,"\u180e":!0,"\u2000":!0,"\u2001":!0,"\u2002":!0,"\u2003":!0,"\u2004":!0,"\u2005":!0,"\u2006":!0,"\u2007":!0,"\u2008":!0,"\u2009":!0,"\u200a":!0,"\u2028":!0,"\u2029":!0,"\u202f":!0,"\u205f":!0,"\u3000":!0},splitBySeparatorChars:function(e,t){i.Util.Ensure.ensureString(e),i.Util.Ensure.ensureString(t);var n=e.length;if(0===n)return[];if(1===t.length)return e.split(t);for(var r=[],a=1,o=0,s=0,l=!1;o<n;)t.indexOf(e.charAt(o))>=0?(l&&(-1==a++&&(o=n),r.push(e.substring(s,o)),l=!1),s=++o):(l=!0,o++);return l&&r.push(e.substring(s,o)),r}},i.Util.Ensure={ensureBoolean:function(e){if(!i.Util.Type.isBoolean(e))throw new Error("Argument ["+e+"] must be a boolean.")},ensureString:function(e){if(!i.Util.Type.isString(e))throw new Error("Argument ["+e+"] must be a string.")},ensureNumber:function(e){if(!i.Util.Type.isNumber(e))throw new Error("Argument ["+e+"] must be a number.")},ensureNumberOrNaN:function(e){if(!i.Util.Type.isNumberOrNaN(e))throw new Error("Argument ["+e+"] must be a number or NaN.")},ensureInteger:function(e){if(!i.Util.Type.isNumber(e))throw new Error("Argument ["+e+"] must be an integer, but it is not a number.");if(!i.Util.NumberUtils.isInteger(e))throw new Error("Argument ["+e+"] must be an integer.")},ensureDate:function(e){if(!(e instanceof Date))throw new Error("Argument ["+e+"] must be a date.")},ensureObject:function(e){if(!i.Util.Type.isObject(e))throw new Error("Argument ["+e+"] must be an object.")},ensureArray:function(e){if(!i.Util.Type.isArray(e))throw new Error("Argument ["+e+"] must be an array.")},ensureFunction:function(e){if(!i.Util.Type.isFunction(e))throw new Error("Argument ["+e+"] must be a function.")},ensureExists:function(e){if(!i.Util.Type.exists(e))throw new Error("Argument ["+e+"] does not exist.")}},i.XML.QName=i.Class({key:null,namespaceURI:null,localPart:null,prefix:null,string:null,initialize:function(e,t,n){var r,a,o;if(i.Util.Type.exists(t))if(i.Util.Type.exists(n))r=i.Util.Type.exists(e)?e:"",a=t,o=i.Util.Type.exists(n)?n:"";else{r=i.Util.Type.exists(e)?e:"",a=t;var s=t.indexOf(":");s>0&&s<t.length?(o=t.substring(0,s),a=t.substring(s+1)):(o="",a=t)}else r="",a=e,o="";this.namespaceURI=r,this.localPart=a,this.prefix=o,this.key=(""!==r?"{"+r+"}":"")+a,this.string=(""!==r?"{"+r+"}":"")+(""!==o?o+":":"")+a},toString:function(){return this.string},toCanonicalString:function(e){return e&&e.getPrefix(this.namespaceURI,this.prefix),this.prefix+(""===this.prefix?"":":")+this.localPart},clone:function(){return new i.XML.QName(this.namespaceURI,this.localPart,this.prefix)},equals:function(e){return!!e&&this.namespaceURI==e.namespaceURI&&this.localPart==e.localPart},CLASS_NAME:"Jsonix.XML.QName"}),i.XML.QName.fromString=function(e,t,n){var r,a,o=e.indexOf("{"),s=e.lastIndexOf("}");0===o&&s>0&&s<e.length?(r=e.substring(1,s),a=e.substring(s+1)):(r=null,a=e);var l,u,c=a.indexOf(":");return c>0&&c<a.length?(l=a.substring(0,c),u=a.substring(c+1)):(l="",u=a),null===r&&(""===l&&i.Util.Type.isString(n)?r=n:t&&(r=t.getNamespaceURI(l))),i.Util.Type.isString(r)||(r=n||""),new i.XML.QName(r,u,l)},i.XML.QName.fromObject=function(e){if(i.Util.Ensure.ensureObject(e),e instanceof i.XML.QName||i.Util.Type.isString(e.CLASS_NAME)&&"Jsonix.XML.QName"===e.CLASS_NAME)return e;var t=e.localPart||e.lp||null;return i.Util.Ensure.ensureString(t),new i.XML.QName(e.namespaceURI||e.ns||"",t,e.prefix||e.p||"")},i.XML.QName.fromObjectOrString=function(e,t,n){return i.Util.Type.isString(e)?i.XML.QName.fromString(e,t,n):i.XML.QName.fromObject(e)},i.XML.QName.key=function(e,t){if(i.Util.Ensure.ensureString(t),e){var n=t.indexOf(":");return"{"+e+"}"+(n>0&&n<t.length?t.substring(n+1):t)}return t},i.XML.Calendar=i.Class({year:NaN,month:NaN,day:NaN,hour:NaN,minute:NaN,second:NaN,fractionalSecond:NaN,timezone:NaN,date:null,initialize:function(e){i.Util.Ensure.ensureObject(e),i.Util.Type.exists(e.year)?(i.Util.Ensure.ensureInteger(e.year),i.XML.Calendar.validateYear(e.year),this.year=e.year):this.year=NaN,i.Util.Type.exists(e.month)?(i.Util.Ensure.ensureInteger(e.month),i.XML.Calendar.validateMonth(e.month),this.month=e.month):this.month=NaN,i.Util.Type.exists(e.day)?(i.Util.Ensure.ensureInteger(e.day),i.Util.NumberUtils.isInteger(e.year)&&i.Util.NumberUtils.isInteger(e.month)?i.XML.Calendar.validateYearMonthDay(e.year,e.month,e.day):i.Util.NumberUtils.isInteger(e.month)?i.XML.Calendar.validateMonthDay(e.month,e.day):i.XML.Calendar.validateDay(e.day),this.day=e.day):this.day=NaN,i.Util.Type.exists(e.hour)?(i.Util.Ensure.ensureInteger(e.hour),i.XML.Calendar.validateHour(e.hour),this.hour=e.hour):this.hour=NaN,i.Util.Type.exists(e.minute)?(i.Util.Ensure.ensureInteger(e.minute),i.XML.Calendar.validateMinute(e.minute),this.minute=e.minute):this.minute=NaN,i.Util.Type.exists(e.second)?(i.Util.Ensure.ensureInteger(e.second),i.XML.Calendar.validateSecond(e.second),this.second=e.second):this.second=NaN,i.Util.Type.exists(e.fractionalSecond)?(i.Util.Ensure.ensureNumber(e.fractionalSecond),i.XML.Calendar.validateFractionalSecond(e.fractionalSecond),this.fractionalSecond=e.fractionalSecond):this.fractionalSecond=NaN,i.Util.Type.exists(e.timezone)?i.Util.Type.isNaN(e.timezone)?this.timezone=NaN:(i.Util.Ensure.ensureInteger(e.timezone),i.XML.Calendar.validateTimezone(e.timezone),this.timezone=e.timezone):this.timezone=NaN;var t=new Date(0);t.setUTCFullYear(this.year||1970),t.setUTCMonth(this.month-1||0),t.setUTCDate(this.day||1),t.setUTCHours(this.hour||0),t.setUTCMinutes(this.minute||0),t.setUTCSeconds(this.second||0),t.setUTCMilliseconds(1e3*(this.fractionalSecond||0));var n=-6e4*(this.timezone||0);this.date=new Date(t.getTime()+n)},CLASS_NAME:"Jsonix.XML.Calendar"}),i.XML.Calendar.MIN_TIMEZONE=-840,i.XML.Calendar.MAX_TIMEZONE=840,i.XML.Calendar.DAYS_IN_MONTH=[31,29,31,30,31,30,31,31,30,31,30,31],i.XML.Calendar.fromObject=function(e){return i.Util.Ensure.ensureObject(e),i.Util.Type.isString(e.CLASS_NAME)&&"Jsonix.XML.Calendar"===e.CLASS_NAME?e:new i.XML.Calendar(e)},i.XML.Calendar.validateYear=function(e){if(0===e)throw new Error("Invalid year ["+e+"]. Year must not be [0].")},i.XML.Calendar.validateMonth=function(e){if(e<1||e>12)throw new Error("Invalid month ["+e+"]. Month must be in range [1, 12].")},i.XML.Calendar.validateDay=function(e){if(e<1||e>31)throw new Error("Invalid day ["+e+"]. Day must be in range [1, 31].")},i.XML.Calendar.validateMonthDay=function(e,t){if(i.XML.Calendar.validateMonth(e),t<1||t>i.XML.Calendar.DAYS_IN_MONTH[e-1])throw new Error("Invalid day ["+t+"]. Day must be in range [1, "+i.XML.Calendar.DAYS_IN_MONTH[e-1]+"].")},i.XML.Calendar.validateYearMonthDay=function(e,t,n){i.XML.Calendar.validateYear(e),i.XML.Calendar.validateMonthDay(t,n)},i.XML.Calendar.validateHour=function(e){if(e<0||e>23)throw new Error("Invalid hour ["+e+"]. Hour must be in range [0, 23].")},i.XML.Calendar.validateMinute=function(e){if(e<0||e>59)throw new Error("Invalid minute ["+e+"]. Minute must be in range [0, 59].")},i.XML.Calendar.validateSecond=function(e){if(e<0||e>59)throw new Error("Invalid second ["+e+"]. Second must be in range [0, 59].")},i.XML.Calendar.validateFractionalSecond=function(e){if(e<0||e>59)throw new Error("Invalid fractional second ["+e+"]. Fractional second must be in range [0, 1).")},i.XML.Calendar.validateTimezone=function(e){if(e<i.XML.Calendar.MIN_TIMEZONE||e>i.XML.Calendar.MAX_TIMEZONE)throw new Error("Invalid timezone ["+e+"]. Timezone must not be in range ["+i.XML.Calendar.MIN_TIMEZONE+", "+i.XML.Calendar.MAX_TIMEZONE+"].")},i.XML.Input=i.Class({root:null,node:null,attributes:null,eventType:null,pns:null,initialize:function(e){i.Util.Ensure.ensureExists(e),this.root=e;var t={"":""};t[i.XML.XMLNS_P]=i.XML.XMLNS_NS,this.pns=[t]},hasNext:function(){if(null===this.node)return!0;if(this.node===this.root){var e=this.node.nodeType;return!(9===e&&8===this.eventType||1===e&&2===this.eventType)}return!0},next:function(){if(null===this.eventType)return this.enter(this.root);if(7===this.eventType){var e=this.node.documentElement;return e?this.enter(e):this.leave(this.node)}if(1===this.eventType){var t=this.node.firstChild;return t?this.enter(t):this.leave(this.node)}if(2===this.eventType){var n=this.node.nextSibling;return n?this.enter(n):this.leave(this.node)}return this.leave(this.node)},enter:function(e){var t=e.nodeType;if(this.node=e,this.attributes=null,1===t)return this.eventType=1,this.pushNS(e),this.eventType;if(2===t)return this.eventType=10,this.eventType;if(3===t)return this.eventType=i.Util.StringUtils.isEmpty(e.nodeValue)?6:4,this.eventType;if(4===t)return this.eventType=12,this.eventType;if(5===t)return this.eventType=9,this.eventType;if(6===t)return this.eventType=15,this.eventType;if(7===t)return this.eventType=3,this.eventType;if(8===t)return this.eventType=5,this.eventType;if(9===t)return this.eventType=7,this.eventType;if(10===t)return this.eventType=12,this.eventType;if(12===t)return this.eventType=14,this.eventType;throw new Error("Node type ["+t+"] is not supported.")},leave:function(e){if(9===e.nodeType){if(8==this.eventType)throw new Error("Invalid state.");return this.node=e,this.attributes=null,this.eventType=8,this.eventType}if(1===e.nodeType){if(2!=this.eventType)return this.node=e,this.attributes=null,this.eventType=2,this.popNS(),this.eventType;var t=e.nextSibling;if(t)return this.enter(t)}var n=e.nextSibling;if(n)return this.enter(n);var i=e.parentNode;return this.node=i,this.attributes=null,this.eventType=9===i.nodeType?8:2,this.eventType},getName:function(){var e=this.node;return i.Util.Type.isString(e.nodeName)?i.Util.Type.isString(e.namespaceURI)?new i.XML.QName(e.namespaceURI,e.nodeName):new i.XML.QName(e.nodeName):null},getNameKey:function(){var e=this.node;return i.Util.Type.isString(e.nodeName)?i.XML.QName.key(e.namespaceURI,e.nodeName):null},getText:function(){return this.node.nodeValue},nextTag:function(){for(var e=this.next();7===e||4===e||12===e||6===e||3===e||5===e;)e=this.next();if(1!==e&&2!==e)throw new Error("Expected start or end tag.");return e},skipElement:function(){if(this.eventType!==i.XML.Input.START_ELEMENT)throw new Error("Parser must be on START_ELEMENT to skip element.");var e,t=1;do{t+=(e=this.nextTag())===i.XML.Input.START_ELEMENT?1:-1}while(t>0);return e},getElementText:function(){if(1!=this.eventType)throw new Error("Parser must be on START_ELEMENT to read next text.");for(var e=this.next(),t="";2!==e;){if(4===e||12===e||6===e||9===e)t+=this.getText();else if(3!==e&&5!==e)throw 8===e?new Error("Unexpected end of document when reading element text content."):1===e?new Error("Element text content may not contain START_ELEMENT."):new Error("Unexpected event type ["+e+"].");e=this.next()}return t},retrieveElement:function(){var e;if(1===this.eventType)e=this.node;else{if(10!==this.eventType)throw new Error("Element can only be retrieved for START_ELEMENT or ATTRIBUTE nodes.");e=this.node.parentNode}return e},retrieveAttributes:function(){var e;if(this.attributes)e=this.attributes;else if(1===this.eventType)this.attributes=e=this.node.attributes;else{if(10!==this.eventType)throw new Error("Attributes can only be retrieved for START_ELEMENT or ATTRIBUTE nodes.");this.attributes=e=this.node.parentNode.attributes}return e},getAttributeCount:function(){return this.retrieveAttributes().length},getAttributeName:function(e){var t=this.retrieveAttributes();if(e<0||e>=t.length)throw new Error("Invalid attribute index ["+e+"].");var n=t[e];return i.Util.Type.isString(n.namespaceURI)?new i.XML.QName(n.namespaceURI,n.nodeName):new i.XML.QName(n.nodeName)},getAttributeNameKey:function(e){var t=this.retrieveAttributes();if(e<0||e>=t.length)throw new Error("Invalid attribute index ["+e+"].");var n=t[e];return i.XML.QName.key(n.namespaceURI,n.nodeName)},getAttributeValue:function(e){var t=this.retrieveAttributes();if(e<0||e>=t.length)throw new Error("Invalid attribute index ["+e+"].");return t[e].value},getAttributeValueNS:null,getAttributeValueNSViaElement:function(e,t){return this.retrieveElement().getAttributeNS(e,t)},getAttributeValueNSViaAttribute:function(e,t){var n=this.getAttributeNodeNS(e,t);return i.Util.Type.exists(n)?n.nodeValue:null},getAttributeNodeNS:null,getAttributeNodeNSViaElement:function(e,t){return this.retrieveElement().getAttributeNodeNS(e,t)},getAttributeNodeNSViaAttributes:function(e,t){for(var n,i=null,r=this.retrieveAttributes(),a=0,o=r.length;a<o;++a)if((n=r[a]).namespaceURI===e&&(n.prefix?n.prefix+":"+t:t)===n.nodeName){i=n;break}return i},getElement:function(){if(1===this.eventType||2===this.eventType)return this.eventType=2,this.node;throw new Error("Parser must be on START_ELEMENT or END_ELEMENT to return current element.")},pushNS:function(e){var t=this.pns.length-1,n=this.pns[t],r=i.Util.Type.isObject(n)?t:n;this.pns.push(r),t++;var a=!0;if(e.attributes){var o=e.attributes,s=o.length;if(s>0)for(var l=0;l<s;l++){var u=o[l],c=u.nodeName,h=null,d=null,f=!1;"xmlns"===c?(h="",d=u.value,f=!0):"xmlns:"===c.substring(0,6)&&(h=c.substring(6),d=u.value,f=!0),f&&(a&&(r=i.Util.Type.cloneObject(this.pns[r],{}),this.pns[t]=r,a=!1),r[h]=d)}}},popNS:function(){this.pns.pop()},getNamespaceURI:function(e){var t=this.pns[this.pns.length-1];return(t=i.Util.Type.isObject(t)?t:this.pns[t])[e]},CLASS_NAME:"Jsonix.XML.Input"}),i.XML.Input.prototype.getAttributeValueNS=i.DOM.isDomImplementationAvailable()?i.XML.Input.prototype.getAttributeValueNSViaElement:i.XML.Input.prototype.getAttributeValueNSViaAttribute,i.XML.Input.prototype.getAttributeNodeNS=i.DOM.isDomImplementationAvailable()?i.XML.Input.prototype.getAttributeNodeNSViaElement:i.XML.Input.prototype.getAttributeNodeNSViaAttributes,i.XML.Input.START_ELEMENT=1,i.XML.Input.END_ELEMENT=2,i.XML.Input.PROCESSING_INSTRUCTION=3,i.XML.Input.CHARACTERS=4,i.XML.Input.COMMENT=5,i.XML.Input.SPACE=6,i.XML.Input.START_DOCUMENT=7,i.XML.Input.END_DOCUMENT=8,i.XML.Input.ENTITY_REFERENCE=9,i.XML.Input.ATTRIBUTE=10,i.XML.Input.DTD=11,i.XML.Input.CDATA=12,i.XML.Input.NAMESPACE=13,i.XML.Input.NOTATION_DECLARATION=14,i.XML.Input.ENTITY_DECLARATION=15,i.XML.Output=i.Class({document:null,documentElement:null,node:null,nodes:null,nsp:null,pns:null,namespacePrefixIndex:0,xmldom:null,initialize:function(e){this.xmldom="undefined"!=typeof ActiveXObject?new ActiveXObject("Microsoft.XMLDOM"):null,this.nodes=[];var t={"":""};t[i.XML.XMLNS_NS]=i.XML.XMLNS_P,i.Util.Type.isObject(e)&&i.Util.Type.isObject(e.namespacePrefixes)&&i.Util.Type.cloneObject(e.namespacePrefixes,t),this.nsp=[t];var n={"":""};n[i.XML.XMLNS_P]=i.XML.XMLNS_NS,this.pns=[n]},destroy:function(){this.xmldom=null},writeStartDocument:function(){var e=i.DOM.createDocument();return this.document=e,this.push(e)},writeEndDocument:function(){return this.pop()},writeStartElement:function(e){i.Util.Ensure.ensureObject(e);var t=e.localPart||e.lp||null;i.Util.Ensure.ensureString(t);var n,r=e.namespaceURI||e.ns||null,a=i.Util.Type.isString(r)?r:"",o=this.getPrefix(a,e.prefix||e.p),s=o?o+":"+t:t;if(i.Util.Type.isFunction(this.document.createElementNS))n=this.document.createElementNS(a,s);else{if(!this.xmldom)throw new Error("Could not create an element node.");n=this.xmldom.createNode(1,s,a)}return this.peek().appendChild(n),this.push(n),this.declareNamespace(a,o),null===this.documentElement&&(this.documentElement=n,this.declareNamespaces()),n},writeEndElement:function(){return this.pop()},writeCharacters:function(e){var t;if(i.Util.Type.isFunction(this.document.createTextNode))t=this.document.createTextNode(e);else{if(!this.xmldom)throw new Error("Could not create a text node.");t=this.xmldom.createTextNode(e)}return this.peek().appendChild(t),t},writeCdata:function(e){for(var t,n=e.split("]]>"),i=0;i<n.length;i++)i+1<n.length&&(n[i]=n[i]+"]]",n[i+1]=">"+n[i+1]);for(var r=0;r<n.length;r++)t=this.writeCdataWithoutCdend(n[r]);return t},writeCdataWithoutCdend:function(e){var t;if(i.Util.Type.isFunction(this.document.createCDATASection))t=this.document.createCDATASection(e);else{if(!this.xmldom)throw new Error("Could not create a CDATA section node.");t=this.xmldom.createCDATASection(e)}return this.peek().appendChild(t),t},writeAttribute:function(e,t){i.Util.Ensure.ensureString(t),i.Util.Ensure.ensureObject(e);var n=e.localPart||e.lp||null;i.Util.Ensure.ensureString(n);var r=e.namespaceURI||e.ns||null,a=i.Util.Type.isString(r)?r:"",o=this.getPrefix(a,e.prefix||e.p||null),s=o?o+":"+n:n,l=this.peek();if(""===a)l.setAttribute(s,t);else{if(l.setAttributeNS)l.setAttributeNS(a,s,t);else if(this.xmldom){var u=this.document.createNode(2,s,a);u.nodeValue=t,l.setAttributeNode(u)}else{if(a!==i.XML.XMLNS_NS)throw new Error("The [setAttributeNS] method is not implemented");l.setAttribute(s,t)}this.declareNamespace(a,o)}},writeNode:function(e){var t;return t=i.Util.Type.exists(this.document.importNode)?this.document.importNode(e,!0):e,this.peek().appendChild(t),t},push:function(e){return this.nodes.push(e),this.pushNS(),e},peek:function(){return this.nodes[this.nodes.length-1]},pop:function(){return this.popNS(),this.nodes.pop()},pushNS:function(){var e=this.nsp.length-1,t=this.pns.length-1,n=this.nsp[e],r=this.pns[t],a=i.Util.Type.isObject(n)?e:n,o=i.Util.Type.isObject(r)?t:r;this.nsp.push(a),this.pns.push(o)},popNS:function(){this.nsp.pop(),this.pns.pop()},declareNamespaces:function(){var e,t=this.nsp[this.nsp.length-1];for(e in t=i.Util.Type.isNumber(t)?this.nsp[t]:t)t.hasOwnProperty(e)&&this.declareNamespace(e,t[e])},declareNamespace:function(e,t){var n,r=this.pns.length-1,a=this.pns[r];i.Util.Type.isNumber(a)?(n=!0,a=this.pns[a]):n=!1,a[t]!==e&&(this.writeAttribute(""===t?{lp:i.XML.XMLNS_P}:{ns:i.XML.XMLNS_NS,lp:t,p:i.XML.XMLNS_P},e),n&&(a=i.Util.Type.cloneObject(a,{}),this.pns[r]=a),a[t]=e)},getPrefix:function(e,t){var n,r=this.nsp.length-1,a=this.nsp[r];return i.Util.Type.isNumber(a)?(n=!0,a=this.nsp[a]):n=!1,i.Util.Type.isString(t)?t===a[e]||(n&&(a=i.Util.Type.cloneObject(a,{}),this.nsp[r]=a),a[e]=t):i.Util.Type.exists(t=a[e])||(t="p"+this.namespacePrefixIndex++,n&&(a=i.Util.Type.cloneObject(a,{}),this.nsp[r]=a),a[e]=t),t},getNamespaceURI:function(e){var t=this.pns[this.pns.length-1];return(t=i.Util.Type.isObject(t)?t:this.pns[t])[e]},CLASS_NAME:"Jsonix.XML.Output"}),i.Mapping={},i.Mapping.Style=i.Class({marshaller:null,unmarshaller:null,module:null,elementInfo:null,classInfo:null,enumLeafInfo:null,anyAttributePropertyInfo:null,anyElementPropertyInfo:null,attributePropertyInfo:null,elementMapPropertyInfo:null,elementPropertyInfo:null,elementsPropertyInfo:null,elementRefPropertyInfo:null,elementRefsPropertyInfo:null,valuePropertyInfo:null,initialize:function(){},CLASS_NAME:"Jsonix.Mapping.Style"}),i.Mapping.Style.STYLES={},i.Mapping.Styled=i.Class({mappingStyle:null,initialize:function(e){if(i.Util.Type.exists(e))if(i.Util.Ensure.ensureObject(e),i.Util.Type.isString(e.mappingStyle)){var t=i.Mapping.Style.STYLES[e.mappingStyle];if(!t)throw new Error("Mapping style ["+e.mappingStyle+"] is not known.");this.mappingStyle=t}else i.Util.Type.isObject(e.mappingStyle)&&(this.mappingStyle=e.mappingStyle);this.mappingStyle||(this.mappingStyle=i.Mapping.Style.STYLES.standard)},CLASS_NAME:"Jsonix.Mapping.Styled"}),i.Binding={},i.Binding.Marshalls={},i.Binding.Marshalls.Element=i.Class({marshalElement:function(e,t,n,r){var a=this.convertToTypedNamedValue(e,t,n,r),o=a.typeInfo,s=void 0;if(t.supportXsiType&&i.Util.Type.exists(a.value)){var l=t.getTypeInfoByValue(a.value);l&&l.typeName&&(s=l)}var u=s||o;if(!u)throw new Error("Element ["+a.name.key+"] is not known in this context, could not determine its type.");if(n.writeStartElement(a.name),s&&o!==s){var c=i.Schema.XSD.QName.INSTANCE.print(s.typeName,t,n,r);n.writeAttribute(i.Schema.XSI.TYPE_QNAME,c)}i.Util.Type.exists(a.value)&&u.marshal(a.value,t,n,r),n.writeEndElement()},getTypeInfoByElementName:function(e,t,n){var r=t.getElementInfo(e,n);return i.Util.Type.exists(r)?r.typeInfo:void 0}}),i.Binding.Marshalls.Element.AsElementRef=i.Class({convertToTypedNamedValue:function(e,t,n,r){i.Util.Ensure.ensureObject(e);var a=this.convertToNamedValue(e,t,n,r);return{name:a.name,value:a.value,typeInfo:this.getTypeInfoByElementName(a.name,t,r)}},convertToNamedValue:function(e,t,n,r){if(i.Util.Type.exists(e.name)&&!i.Util.Type.isUndefined(e.value))return{name:i.XML.QName.fromObjectOrString(e.name,t),value:i.Util.Type.exists(e.value)?e.value:null};for(var a in e)if(e.hasOwnProperty(a))return{name:i.XML.QName.fromObjectOrString(a,t),value:e[a]};throw new Error("Invalid element value ["+e+"]. Element values must either have {name:'myElementName', value: elementValue} or {myElementName:elementValue} structure.")}}),i.Binding.Unmarshalls={},i.Binding.Unmarshalls.WrapperElement=i.Class({mixed:!1,unmarshalWrapperElement:function(e,t,n,r){for(var a=t.next();a!==i.XML.Input.END_ELEMENT;){if(a===i.XML.Input.START_ELEMENT)this.unmarshalElement(e,t,n,r);else if(!this.mixed||a!==i.XML.Input.CHARACTERS&&a!==i.XML.Input.CDATA&&a!==i.XML.Input.ENTITY_REFERENCE){if(a!==i.XML.Input.SPACE&&a!==i.XML.Input.COMMENT&&a!==i.XML.Input.PROCESSING_INSTRUCTION)throw new Error("Illegal state: unexpected event type ["+a+"].")}else r(t.getText());a=t.next()}}}),i.Binding.Unmarshalls.Element=i.Class({allowTypedObject:!0,allowDom:!1,unmarshalElement:function(e,t,n,r){if(1!=t.eventType)throw new Error("Parser must be on START_ELEMENT to read next element.");var a,o=this.getTypeInfoByInputElement(e,t,n),s=t.getName();if(this.allowTypedObject)if(i.Util.Type.exists(o)){var l=o.unmarshal(e,t,n);a=this.convertFromTypedNamedValue({name:s,value:l,typeInfo:o},e,t,n)}else{if(!this.allowDom)throw new Error("Element ["+s.toString()+"] could not be unmarshalled as is not known in this context and the property does not allow DOM content.");a=t.getElement()}else{if(!this.allowDom)throw new Error("Element ["+s.toString()+"] could not be unmarshalled as the property neither allows typed objects nor DOM as content. This is a sign of invalid mappings, do not use [allowTypedObject : false] and [allowDom : false] at the same time.");a=t.getElement()}r(a)},getTypeInfoByInputElement:function(e,t,n){var r=null;if(e.supportXsiType){var a=t.getAttributeValueNS(i.Schema.XSI.NAMESPACE_URI,i.Schema.XSI.TYPE);if(i.Util.StringUtils.isNotBlank(a)){var o=i.Schema.XSD.QName.INSTANCE.parse(a,e,t,n);r=e.getTypeInfoByTypeNameKey(o.key)}}var s=t.getName();return r||this.getTypeInfoByElementName(s,e,n)},getTypeInfoByElementName:function(e,t,n){var r=t.getElementInfo(e,n);return i.Util.Type.exists(r)?r.typeInfo:void 0}}),i.Binding.Unmarshalls.Element.AsElementRef=i.Class({convertFromTypedNamedValue:function(e,t,n,i){return{name:e.name,value:e.value}}}),i.Binding.Unmarshalls.Element.AsSimplifiedElementRef=i.Class({convertFromTypedNamedValue:function(e,t,n,i){var r={};return r[e.name.toCanonicalString(t)]=e.value,r}}),i.Binding.Marshaller=i.Class(i.Binding.Marshalls.Element,i.Binding.Marshalls.Element.AsElementRef,{context:null,initialize:function(e){i.Util.Ensure.ensureObject(e),this.context=e},marshalString:function(e){var t=this.marshalDocument(e);return i.DOM.serialize(t)},marshalDocument:function(e){var t=new i.XML.Output({namespacePrefixes:this.context.namespacePrefixes}),n=t.writeStartDocument();return this.marshalElement(e,this.context,t,void 0),t.writeEndDocument(),n},CLASS_NAME:"Jsonix.Binding.Marshaller"}),i.Binding.Marshaller.Simplified=i.Class(i.Binding.Marshaller,{CLASS_NAME:"Jsonix.Binding.Marshaller.Simplified"}),i.Binding.Unmarshaller=i.Class(i.Binding.Unmarshalls.Element,i.Binding.Unmarshalls.Element.AsElementRef,{context:null,allowTypedObject:!0,allowDom:!1,initialize:function(e){i.Util.Ensure.ensureObject(e),this.context=e},unmarshalString:function(e){i.Util.Ensure.ensureString(e);var t=i.DOM.parse(e);return this.unmarshalDocument(t)},unmarshalURL:function(e,t,n){i.Util.Ensure.ensureString(e),i.Util.Ensure.ensureFunction(t),i.Util.Type.exists(n)&&i.Util.Ensure.ensureObject(n),that=this,i.DOM.load(e,function(e){t(that.unmarshalDocument(e))},n)},unmarshalFile:function(e,t,r){if(void 0===n)throw new Error("File unmarshalling is only available in environments which support file systems.");i.Util.Ensure.ensureString(e),i.Util.Ensure.ensureFunction(t),i.Util.Type.exists(r)&&i.Util.Ensure.ensureObject(r),that=this,n.readFile(e,r,function(e,n){if(e)throw e;var r=n.toString(),a=i.DOM.parse(r);t(that.unmarshalDocument(a))})},unmarshalDocument:function(e,t){var n=new i.XML.Input(e),r=null;return n.nextTag(),this.unmarshalElement(this.context,n,t,function(e){r=e}),r},CLASS_NAME:"Jsonix.Binding.Unmarshaller"}),i.Binding.Unmarshaller.Simplified=i.Class(i.Binding.Unmarshaller,i.Binding.Unmarshalls.Element.AsSimplifiedElementRef,{CLASS_NAME:"Jsonix.Binding.Unmarshaller.Simplified"}),i.Model.TypeInfo=i.Class({module:null,name:null,baseTypeInfo:null,initialize:function(){},isBasedOn:function(e){for(var t=this;t;){if(e===t)return!0;t=t.baseTypeInfo}return!1},CLASS_NAME:"Jsonix.Model.TypeInfo"}),i.Model.ClassInfo=i.Class(i.Model.TypeInfo,i.Mapping.Styled,{name:null,localName:null,typeName:null,instanceFactory:null,properties:null,propertiesMap:null,structure:null,targetNamespace:"",defaultElementNamespaceURI:"",defaultAttributeNamespaceURI:"",built:!1,initialize:function(e,t){i.Model.TypeInfo.prototype.initialize.apply(this,[]),i.Mapping.Styled.prototype.initialize.apply(this,[t]),i.Util.Ensure.ensureObject(e);var n=e.name||e.n||void 0;i.Util.Ensure.ensureString(n),this.name=n;var r=e.localName||e.ln||null;this.localName=r,this.defaultElementNamespaceURI=e.defaultElementNamespaceURI||e.dens||e.targetNamespace||e.tns||"";var a=e.targetNamespace||e.tns||e.defaultElementNamespaceURI||e.dens||this.defaultElementNamespaceURI;this.targetNamespace=a,this.defaultAttributeNamespaceURI=e.defaultAttributeNamespaceURI||e.dans||"",this.baseTypeInfo=e.baseTypeInfo||e.bti||null;var o=e.instanceFactory||e.inF||void 0;i.Util.Type.exists(o)&&(i.Util.Ensure.ensureFunction(o),this.instanceFactory=o);var s=e.typeName||e.tn||void 0;i.Util.Type.exists(s)?this.typeName=i.Util.Type.isString(s)?new i.XML.QName(this.targetNamespace,s):i.XML.QName.fromObject(s):i.Util.Type.exists(r)&&(this.typeName=new i.XML.QName(a,r)),this.properties=[],this.propertiesMap={};var l=e.propertyInfos||e.ps||[];i.Util.Ensure.ensureArray(l);for(var u=0;u<l.length;u++)this.p(l[u])},getPropertyInfoByName:function(e){return this.propertiesMap[e]},destroy:function(){},build:function(e){if(!this.built){this.baseTypeInfo=e.resolveTypeInfo(this.baseTypeInfo,this.module),i.Util.Type.exists(this.baseTypeInfo)&&this.baseTypeInfo.build(e);for(var t=0;t<this.properties.length;t++)this.properties[t].build(e,this.module);var n={elements:null,attributes:{},anyAttribute:null,value:null,any:null};this.buildStructure(e,n),this.structure=n}},buildStructure:function(e,t){i.Util.Type.exists(this.baseTypeInfo)&&this.baseTypeInfo.buildStructure(e,t);for(var n=0;n<this.properties.length;n++)this.properties[n].buildStructure(e,t)},unmarshal:function(e,t){var n;if(this.build(e),n=this.instanceFactory?new this.instanceFactory:{TYPE_NAME:this.name},1!==t.eventType)throw new Error("Parser must be on START_ELEMENT to read a class info.");if(i.Util.Type.exists(this.structure.attributes)){var r=t.getAttributeCount();if(0!==r)for(var a=0;a<r;a++){var o=t.getAttributeNameKey(a);if(i.Util.Type.exists(this.structure.attributes[o])){var s=t.getAttributeValue(a);i.Util.Type.isString(s)&&this.unmarshalPropertyValue(e,t,this.structure.attributes[o],n,s)}}}if(i.Util.Type.exists(this.structure.anyAttribute)&&this.unmarshalProperty(e,t,this.structure.anyAttribute,n),i.Util.Type.exists(this.structure.elements))for(var l=t.next();l!==i.XML.Input.END_ELEMENT;){if(l===i.XML.Input.START_ELEMENT){var u=t.getNameKey();i.Util.Type.exists(this.structure.elements[u])?this.unmarshalProperty(e,t,this.structure.elements[u],n):i.Util.Type.exists(this.structure.any)?this.unmarshalProperty(e,t,this.structure.any,n):l=t.skipElement()}else if(l===i.XML.Input.CHARACTERS||l===i.XML.Input.CDATA||l===i.XML.Input.ENTITY_REFERENCE)i.Util.Type.exists(this.structure.mixed)&&this.unmarshalProperty(e,t,this.structure.mixed,n);else if(l!==i.XML.Input.SPACE&&l!==i.XML.Input.COMMENT&&l!==i.XML.Input.PROCESSING_INSTRUCTION)throw new Error("Illegal state: unexpected event type ["+l+"].");l=t.next()}else i.Util.Type.exists(this.structure.value)?this.unmarshalProperty(e,t,this.structure.value,n):t.nextTag();if(2!==t.eventType)throw new Error("Illegal state: must be END_ELEMENT.");return n},unmarshalProperty:function(e,t,n,i){var r=n.unmarshal(e,t,this);n.setProperty(i,r)},unmarshalPropertyValue:function(e,t,n,i,r){var a=n.unmarshalValue(r,e,t,this);n.setProperty(i,a)},marshal:function(e,t,n,r){if(this.isMarshallable(e,t,r)){i.Util.Type.exists(this.baseTypeInfo)&&this.baseTypeInfo.marshal(e,t,n);for(var a=0;a<this.properties.length;a++){var o=this.properties[a],s=e[o.name];i.Util.Type.exists(s)&&o.marshal(s,t,n,this)}}else if(this.structure.value)this.structure.value.marshal(e,t,n,this);else{if(1!==this.properties.length)throw new Error("The passed value ["+e+"] is not an object and there is no single suitable property to marshal it.");this.properties[0].marshal(e,t,n,this)}},isMarshallable:function(e,t,n){return this.isInstance(e,t,n)||i.Util.Type.isObject(e)&&!i.Util.Type.isArray(e)},isInstance:function(e,t,n){return this.instanceFactory?e instanceof this.instanceFactory:i.Util.Type.isObject(e)&&i.Util.Type.isString(e.TYPE_NAME)&&e.TYPE_NAME===this.name},b:function(e){return i.Util.Ensure.ensureObject(e),this.baseTypeInfo=e,this},ps:function(){return this},p:function(e){if(i.Util.Ensure.ensureObject(e),e instanceof i.Model.PropertyInfo)this.addProperty(e);else{var t=(e=i.Util.Type.cloneObject(e)).type||e.t||"element";if(!i.Util.Type.isFunction(this.propertyInfoCreators[t]))throw new Error("Unknown property info type ["+t+"].");this.propertyInfoCreators[t].call(this,e)}},aa:function(e){return this.addDefaultNamespaces(e),this.addProperty(new this.mappingStyle.anyAttributePropertyInfo(e,{mappingStyle:this.mappingStyle}))},ae:function(e){return this.addDefaultNamespaces(e),this.addProperty(new this.mappingStyle.anyElementPropertyInfo(e,{mappingStyle:this.mappingStyle}))},a:function(e){return this.addDefaultNamespaces(e),this.addProperty(new this.mappingStyle.attributePropertyInfo(e,{mappingStyle:this.mappingStyle}))},em:function(e){return this.addDefaultNamespaces(e),this.addProperty(new this.mappingStyle.elementMapPropertyInfo(e,{mappingStyle:this.mappingStyle}))},e:function(e){return this.addDefaultNamespaces(e),this.addProperty(new this.mappingStyle.elementPropertyInfo(e,{mappingStyle:this.mappingStyle}))},es:function(e){return this.addDefaultNamespaces(e),this.addProperty(new this.mappingStyle.elementsPropertyInfo(e,{mappingStyle:this.mappingStyle}))},er:function(e){return this.addDefaultNamespaces(e),this.addProperty(new this.mappingStyle.elementRefPropertyInfo(e,{mappingStyle:this.mappingStyle}))},ers:function(e){return this.addDefaultNamespaces(e),this.addProperty(new this.mappingStyle.elementRefsPropertyInfo(e,{mappingStyle:this.mappingStyle}))},v:function(e){return this.addDefaultNamespaces(e),this.addProperty(new this.mappingStyle.valuePropertyInfo(e,{mappingStyle:this.mappingStyle}))},addDefaultNamespaces:function(e){i.Util.Type.isObject(e)&&(i.Util.Type.isString(e.defaultElementNamespaceURI)||(e.defaultElementNamespaceURI=this.defaultElementNamespaceURI),i.Util.Type.isString(e.defaultAttributeNamespaceURI)||(e.defaultAttributeNamespaceURI=this.defaultAttributeNamespaceURI))},addProperty:function(e){return this.properties.push(e),this.propertiesMap[e.name]=e,this},CLASS_NAME:"Jsonix.Model.ClassInfo"}),i.Model.ClassInfo.prototype.propertyInfoCreators={aa:i.Model.ClassInfo.prototype.aa,anyAttribute:i.Model.ClassInfo.prototype.aa,ae:i.Model.ClassInfo.prototype.ae,anyElement:i.Model.ClassInfo.prototype.ae,a:i.Model.ClassInfo.prototype.a,attribute:i.Model.ClassInfo.prototype.a,em:i.Model.ClassInfo.prototype.em,elementMap:i.Model.ClassInfo.prototype.em,e:i.Model.ClassInfo.prototype.e,element:i.Model.ClassInfo.prototype.e,es:i.Model.ClassInfo.prototype.es,elements:i.Model.ClassInfo.prototype.es,er:i.Model.ClassInfo.prototype.er,elementRef:i.Model.ClassInfo.prototype.er,ers:i.Model.ClassInfo.prototype.ers,elementRefs:i.Model.ClassInfo.prototype.ers,v:i.Model.ClassInfo.prototype.v,value:i.Model.ClassInfo.prototype.v},i.Model.EnumLeafInfo=i.Class(i.Model.TypeInfo,{name:null,baseTypeInfo:"String",entries:null,keys:null,values:null,built:!1,initialize:function(e){i.Model.TypeInfo.prototype.initialize.apply(this,[]),i.Util.Ensure.ensureObject(e);var t=e.name||e.n||void 0;i.Util.Ensure.ensureString(t),this.name=t,this.baseTypeInfo=e.baseTypeInfo||e.bti||"String";var n=e.values||e.vs||void 0;if(i.Util.Ensure.ensureExists(n),!i.Util.Type.isObject(n)&&!i.Util.Type.isArray(n))throw new Error("Enum values must be either an array or an object.");this.entries=n},build:function(e){if(!this.built){this.baseTypeInfo=e.resolveTypeInfo(this.baseTypeInfo,this.module),this.baseTypeInfo.build(e);var t,n,r=this.entries,a={},o=[],s=[],l=0;if(i.Util.Type.isArray(r))for(l=0;l<r.length;l++){if(i.Util.Type.isString(n=r[l])){if(t=n,!i.Util.Type.isFunction(this.baseTypeInfo.parse))throw new Error("Enum value is provided as string but the base type ["+this.baseTypeInfo.name+"] of the enum info ["+this.name+"] does not implement the parse method.");n=this.baseTypeInfo.parse(n,e,null,this)}else{if(!this.baseTypeInfo.isInstance(n,e,this))throw new Error("Enum value ["+n+"] is not an instance of the enum base type ["+this.baseTypeInfo.name+"].");if(!i.Util.Type.isFunction(this.baseTypeInfo.print))throw new Error("The base type ["+this.baseTypeInfo.name+"] of the enum info ["+this.name+"] does not implement the print method, unable to produce the enum key as string.");t=this.baseTypeInfo.print(n,e,null,this)}a[t]=n,o[l]=t,s[l]=n}else{if(!i.Util.Type.isObject(r))throw new Error("Enum values must be either an array or an object.");for(t in r)if(r.hasOwnProperty(t)){if(i.Util.Type.isString(n=r[t])){if(!i.Util.Type.isFunction(this.baseTypeInfo.parse))throw new Error("Enum value is provided as string but the base type ["+this.baseTypeInfo.name+"] of the enum info ["+this.name+"] does not implement the parse method.");n=this.baseTypeInfo.parse(n,e,null,this)}else if(!this.baseTypeInfo.isInstance(n,e,this))throw new Error("Enum value ["+n+"] is not an instance of the enum base type ["+this.baseTypeInfo.name+"].");a[t]=n,o[l]=t,s[l]=n,l++}}this.entries=a,this.keys=o,this.values=s,this.built=!0}},unmarshal:function(e,t,n){var i=t.getElementText();return this.parse(i,e,t,n)},marshal:function(e,t,n,r){i.Util.Type.exists(e)&&n.writeCharacters(this.reprint(e,t,n,r))},reprint:function(e,t,n,r){return i.Util.Type.isString(e)&&!this.isInstance(e,t,r)?this.print(this.parse(e,t,null,r),t,n,r):this.print(e,t,n,r)},print:function(e,t,n,i){for(var r=0;r<this.values.length;r++)if(this.values[r]===e)return this.keys[r];throw new Error("Value ["+e+"] is invalid for the enum type ["+this.name+"].")},parse:function(e,t,n,r){if(i.Util.Ensure.ensureString(e),this.entries.hasOwnProperty(e))return this.entries[e];throw new Error("Value ["+e+"] is invalid for the enum type ["+this.name+"].")},isInstance:function(e,t,n){for(var i=0;i<this.values.length;i++)if(this.values[i]===e)return!0;return!1},CLASS_NAME:"Jsonix.Model.EnumLeafInfo"}),i.Model.ElementInfo=i.Class({module:null,elementName:null,typeInfo:null,substitutionHead:null,scope:null,built:!1,initialize:function(e){i.Util.Ensure.ensureObject(e),this.defaultElementNamespaceURI=e.defaultElementNamespaceURI||e.dens||"";var t=e.elementName||e.en||void 0;i.Util.Type.isObject(t)?this.elementName=i.XML.QName.fromObject(t):(i.Util.Ensure.ensureString(t),this.elementName=new i.XML.QName(this.defaultElementNamespaceURI,t)),this.typeInfo=e.typeInfo||e.ti||"String",this.substitutionHead=e.substitutionHead||e.sh||null,this.scope=e.scope||e.sc||null},build:function(e){this.built||(this.typeInfo=e.resolveTypeInfo(this.typeInfo,this.module),this.scope=e.resolveTypeInfo(this.scope,this.module),this.built=!0)},CLASS_NAME:"Jsonix.Model.ElementInfo"}),i.Model.PropertyInfo=i.Class({name:null,collection:!1,targetNamespace:"",defaultElementNamespaceURI:"",defaultAttributeNamespaceURI:"",built:!1,initialize:function(e){i.Util.Ensure.ensureObject(e);var t,n,r=e.name||e.n||void 0;i.Util.Ensure.ensureString(r),this.name=r,this.defaultElementNamespaceURI=e.defaultElementNamespaceURI||e.dens||e.targetNamespace||e.tns||"",this.targetNamespace=e.targetNamespace||e.tns||e.defaultElementNamespaceURI||e.dens||this.defaultElementNamespaceURI,this.defaultAttributeNamespaceURI=e.defaultAttributeNamespaceURI||e.dans||"",this.collection=e.collection||e.col||!1,this.required=e.required||e.rq||!1,this.collection&&(t=i.Util.Type.isNumber(e.minOccurs)?e.minOccurs:i.Util.Type.isNumber(e.mno)?e.mno:1,this.minOccurs=t,n=i.Util.Type.isNumber(e.maxOccurs)?e.maxOccurs:i.Util.Type.isNumber(e.mxo)?e.mxo:null,this.maxOccurs=n)},build:function(e,t){this.built||(this.doBuild(e,t),this.built=!0)},doBuild:function(e,t){throw new Error("Abstract method [doBuild].")},buildStructure:function(e,t){throw new Error("Abstract method [buildStructure].")},setProperty:function(e,t){if(i.Util.Type.exists(t))if(this.collection){i.Util.Ensure.ensureArray(t,"Collection property requires an array value."),i.Util.Type.exists(e[this.name])||(e[this.name]=[]);for(var n=0;n<t.length;n++)e[this.name].push(t[n])}else e[this.name]=t},CLASS_NAME:"Jsonix.Model.PropertyInfo"}),i.Model.AnyAttributePropertyInfo=i.Class(i.Model.PropertyInfo,{initialize:function(e){i.Util.Ensure.ensureObject(e),i.Model.PropertyInfo.prototype.initialize.apply(this,[e])},unmarshal:function(e,t,n){var r=t.getAttributeCount();if(0===r)return null;for(var a={},o=0;o<r;o++){var s=t.getAttributeValue(o);i.Util.Type.isString(s)&&(a[this.convertFromAttributeName(t.getAttributeName(o),e,t,n)]=s)}return a},marshal:function(e,t,n,r){if(i.Util.Type.isObject(e))for(var a in e)if(e.hasOwnProperty(a)){var o=e[a];if(i.Util.Type.isString(o)){var s=this.convertToAttributeName(a,t,n,r);n.writeAttribute(s,o)}}},convertFromAttributeName:function(e,t,n,i){return e.key},convertToAttributeName:function(e,t,n,r){return i.XML.QName.fromObjectOrString(e,t)},doBuild:function(e,t){},buildStructure:function(e,t){i.Util.Ensure.ensureObject(t),t.anyAttribute=this},CLASS_NAME:"Jsonix.Model.AnyAttributePropertyInfo"}),i.Model.AnyAttributePropertyInfo.Simplified=i.Class(i.Model.AnyAttributePropertyInfo,{convertFromAttributeName:function(e,t,n,i){return e.toCanonicalString(t)}}),i.Model.SingleTypePropertyInfo=i.Class(i.Model.PropertyInfo,{typeInfo:"String",initialize:function(e){i.Util.Ensure.ensureObject(e),i.Model.PropertyInfo.prototype.initialize.apply(this,[e]),this.typeInfo=e.typeInfo||e.ti||"String"},doBuild:function(e,t){this.typeInfo=e.resolveTypeInfo(this.typeInfo,t)},unmarshalValue:function(e,t,n,i){return this.parse(e,t,n,i)},parse:function(e,t,n,i){return this.typeInfo.parse(e,t,n,i)},print:function(e,t,n,i){return this.typeInfo.reprint(e,t,n,i)},CLASS_NAME:"Jsonix.Model.SingleTypePropertyInfo"}),i.Model.AttributePropertyInfo=i.Class(i.Model.SingleTypePropertyInfo,{attributeName:null,initialize:function(e){i.Util.Ensure.ensureObject(e),i.Model.SingleTypePropertyInfo.prototype.initialize.apply(this,[e]);var t=e.attributeName||e.an||void 0;this.attributeName=i.Util.Type.isObject(t)?i.XML.QName.fromObject(t):i.Util.Type.isString(t)?new i.XML.QName(this.defaultAttributeNamespaceURI,t):new i.XML.QName(this.defaultAttributeNamespaceURI,this.name)},unmarshal:function(e,t,n){for(var r=t.getAttributeCount(),a=null,o=0;o<r;o++){var s=t.getAttributeNameKey(o);if(this.attributeName.key===s){var l=t.getAttributeValue(o);i.Util.Type.isString(l)&&(a=this.unmarshalValue(l,e,t,n))}}return a},marshal:function(e,t,n,r){i.Util.Type.exists(e)&&n.writeAttribute(this.attributeName,this.print(e,t,n,r))},buildStructure:function(e,t){i.Util.Ensure.ensureObject(t),i.Util.Ensure.ensureObject(t.attributes),t.attributes[this.attributeName.key]=this},CLASS_NAME:"Jsonix.Model.AttributePropertyInfo"}),i.Model.ValuePropertyInfo=i.Class(i.Model.SingleTypePropertyInfo,{initialize:function(e){i.Util.Ensure.ensureObject(e),i.Model.SingleTypePropertyInfo.prototype.initialize.apply(this,[e]),this.asCDATA=e.asCDATA||e.cdata||!1},unmarshal:function(e,t,n){var i=t.getElementText();return this.unmarshalValue(i,e,t,n)},marshal:function(e,t,n,r){i.Util.Type.exists(e)&&(this.asCDATA?n.writeCdata(this.print(e,t,n,r)):n.writeCharacters(this.print(e,t,n,r)))},buildStructure:function(e,t){if(i.Util.Ensure.ensureObject(t),i.Util.Type.exists(t.elements))throw new Error("The structure already defines element mappings, it cannot define a value property.");t.value=this},CLASS_NAME:"Jsonix.Model.ValuePropertyInfo"}),i.Model.AbstractElementsPropertyInfo=i.Class(i.Binding.Unmarshalls.Element,i.Binding.Unmarshalls.WrapperElement,i.Model.PropertyInfo,{wrapperElementName:null,allowDom:!1,allowTypedObject:!0,mixed:!1,initialize:function(e){i.Util.Ensure.ensureObject(e),i.Model.PropertyInfo.prototype.initialize.apply(this,[e]);var t=e.wrapperElementName||e.wen||void 0;this.wrapperElementName=i.Util.Type.isObject(t)?i.XML.QName.fromObject(t):i.Util.Type.isString(t)?new i.XML.QName(this.defaultElementNamespaceURI,t):null},unmarshal:function(e,t,n){var r=null,a=this,o=function(e){if(a.collection)null===r&&(r=[]),r.push(e);else{if(null!==r)throw new Error("Value already set.");r=e}};return i.Util.Type.exists(this.wrapperElementName)?this.unmarshalWrapperElement(e,t,n,o):this.unmarshalElement(e,t,n,o),r},marshal:function(e,t,n,r){if(i.Util.Type.exists(e)){if(i.Util.Type.exists(this.wrapperElementName)&&n.writeStartElement(this.wrapperElementName),this.collection){i.Util.Ensure.ensureArray(e);for(var a=0;a<e.length;a++)this.marshalElement(e[a],t,n,r)}else this.marshalElement(e,t,n,r);i.Util.Type.exists(this.wrapperElementName)&&n.writeEndElement()}},convertFromTypedNamedValue:function(e,t,n,i){return e.value},buildStructure:function(e,t){if(i.Util.Ensure.ensureObject(t),i.Util.Type.exists(t.value))throw new Error("The structure already defines a value property.");i.Util.Type.exists(t.elements)||(t.elements={}),i.Util.Type.exists(this.wrapperElementName)?t.elements[this.wrapperElementName.key]=this:this.buildStructureElements(e,t)},buildStructureElements:function(e,t){throw new Error("Abstract method [buildStructureElements].")},CLASS_NAME:"Jsonix.Model.AbstractElementsPropertyInfo"}),i.Model.ElementPropertyInfo=i.Class(i.Model.AbstractElementsPropertyInfo,i.Binding.Marshalls.Element,{typeInfo:"String",elementName:null,initialize:function(e){i.Util.Ensure.ensureObject(e),i.Model.AbstractElementsPropertyInfo.prototype.initialize.apply(this,[e]);var t=e.typeInfo||e.ti||"String";i.Util.Type.isObject(t)||i.Util.Ensure.ensureString(t),this.typeInfo=t;var n=e.elementName||e.en||void 0;this.elementName=i.Util.Type.isObject(n)?i.XML.QName.fromObject(n):i.Util.Type.isString(n)?new i.XML.QName(this.defaultElementNamespaceURI,n):new i.XML.QName(this.defaultElementNamespaceURI,this.name)},getTypeInfoByElementName:function(e,t,n){return this.typeInfo},convertToTypedNamedValue:function(e,t,n,i){return{name:this.elementName,value:e,typeInfo:this.typeInfo}},doBuild:function(e,t){this.typeInfo=e.resolveTypeInfo(this.typeInfo,t)},buildStructureElements:function(e,t){t.elements[this.elementName.key]=this},CLASS_NAME:"Jsonix.Model.ElementPropertyInfo"}),i.Model.ElementsPropertyInfo=i.Class(i.Model.AbstractElementsPropertyInfo,i.Binding.Marshalls.Element,{elementTypeInfos:null,elementTypeInfosMap:null,initialize:function(e){i.Util.Ensure.ensureObject(e),i.Model.AbstractElementsPropertyInfo.prototype.initialize.apply(this,[e]);var t=e.elementTypeInfos||e.etis||[];i.Util.Ensure.ensureArray(t),this.elementTypeInfos=[];for(var n=0;n<t.length;n++)this.elementTypeInfos[n]=i.Util.Type.cloneObject(t[n])},getTypeInfoByElementName:function(e,t,n){return this.elementTypeInfosMap[e.key]},convertToTypedNamedValue:function(e,t,n,i){for(var r=0;r<this.elementTypeInfos.length;r++){var a=this.elementTypeInfos[r],o=a.typeInfo;if(o.isInstance(e,t,i))return{name:a.elementName,value:e,typeInfo:o}}if(t.supportXsiType){var s=t.getTypeInfoByValue(e);if(s&&s.typeName)for(var l=0;l<this.elementTypeInfos.length;l++){var u=this.elementTypeInfos[l],c=u.typeInfo;if(s.isBasedOn(c))return{name:u.elementName,value:e,typeInfo:c}}}throw new Error("Could not find an element with type info supporting the value ["+e+"].")},doBuild:function(e,t){this.elementTypeInfosMap={};for(var n=0;n<this.elementTypeInfos.length;n++){var r=this.elementTypeInfos[n];i.Util.Ensure.ensureObject(r),r.typeInfo=e.resolveTypeInfo(r.typeInfo||r.ti||"String",t),r.elementName=i.XML.QName.fromObjectOrString(r.elementName||r.en||void 0,e,this.defaultElementNamespaceURI),this.elementTypeInfosMap[r.elementName.key]=r.typeInfo}},buildStructureElements:function(e,t){for(var n=0;n<this.elementTypeInfos.length;n++)t.elements[this.elementTypeInfos[n].elementName.key]=this},CLASS_NAME:"Jsonix.Model.ElementsPropertyInfo"}),i.Model.ElementMapPropertyInfo=i.Class(i.Model.AbstractElementsPropertyInfo,{elementName:null,key:null,value:null,entryTypeInfo:null,initialize:function(e){i.Util.Ensure.ensureObject(e),i.Model.AbstractElementsPropertyInfo.prototype.initialize.apply(this,[e]);var t=e.key||e.k||void 0;i.Util.Ensure.ensureObject(t);var n=e.value||e.v||void 0;i.Util.Ensure.ensureObject(n);var r=e.elementName||e.en||void 0;this.elementName=i.Util.Type.isObject(r)?i.XML.QName.fromObject(r):i.Util.Type.isString(r)?new i.XML.QName(this.defaultElementNamespaceURI,r):new i.XML.QName(this.defaultElementNamespaceURI,this.name),this.entryTypeInfo=new i.Model.ClassInfo({name:"Map<"+t.name+","+n.name+">",propertyInfos:[t,n]})},unmarshal:function(e,t,n){var r=null,a=this,o=function(e){if(i.Util.Type.exists(e))for(var t in i.Util.Ensure.ensureObject(e,"Map property requires an object."),i.Util.Type.exists(r)||(r={}),e)if(e.hasOwnProperty(t)){var n=e[t];if(a.collection)i.Util.Type.exists(r[t])||(r[t]=[]),r[t].push(n);else{if(i.Util.Type.exists(r[t]))throw new Error("Value was already set.");r[t]=n}}};return i.Util.Type.exists(this.wrapperElementName)?this.unmarshalWrapperElement(e,t,n,o):this.unmarshalElement(e,t,n,o),r},getTypeInfoByInputElement:function(e,t,n){return this.entryTypeInfo},convertFromTypedNamedValue:function(e,t,n,r){var a=e.value,o={};return i.Util.Type.isString(a[this.key.name])&&(o[a[this.key.name]]=a[this.value.name]),o},marshal:function(e,t,n,r){i.Util.Type.exists(e)&&(i.Util.Type.exists(this.wrapperElementName)&&n.writeStartElement(this.wrapperElementName),this.marshalElement(e,t,n,r),i.Util.Type.exists(this.wrapperElementName)&&n.writeEndElement())},marshalElement:function(e,t,n,i){if(e)for(var r in e)if(e.hasOwnProperty(r)){var a=e[r];if(this.collection)for(var o=0;o<a.length;o++){var s={};s[this.key.name]=r,s[this.value.name]=a[o],n.writeStartElement(this.elementName),this.entryTypeInfo.marshal(s,t,n,i),n.writeEndElement()}else{var l={};l[this.key.name]=r,l[this.value.name]=a,n.writeStartElement(this.elementName),this.entryTypeInfo.marshal(l,t,n,i),n.writeEndElement()}}},doBuild:function(e,t){this.entryTypeInfo.build(e,t),this.key=this.entryTypeInfo.properties[0],this.value=this.entryTypeInfo.properties[1]},buildStructureElements:function(e,t){t.elements[this.elementName.key]=this},setProperty:function(e,t){if(i.Util.Type.exists(t)){i.Util.Ensure.ensureObject(t,"Map property requires an object."),i.Util.Type.exists(e[this.name])||(e[this.name]={});var n=e[this.name];for(var r in t)if(t.hasOwnProperty(r)){var a=t[r];if(this.collection){i.Util.Type.exists(n[r])||(n[r]=[]);for(var o=0;o<a.length;o++)n[r].push(a[o])}else n[r]=a}}},CLASS_NAME:"Jsonix.Model.ElementMapPropertyInfo"}),i.Model.AbstractElementRefsPropertyInfo=i.Class(i.Binding.Marshalls.Element,i.Binding.Marshalls.Element.AsElementRef,i.Binding.Unmarshalls.Element,i.Binding.Unmarshalls.WrapperElement,i.Binding.Unmarshalls.Element.AsElementRef,i.Model.PropertyInfo,{wrapperElementName:null,allowDom:!0,allowTypedObject:!0,mixed:!0,initialize:function(e){i.Util.Ensure.ensureObject(e,"Mapping must be an object."),i.Model.PropertyInfo.prototype.initialize.apply(this,[e]);var t=e.wrapperElementName||e.wen||void 0;this.wrapperElementName=i.Util.Type.isObject(t)?i.XML.QName.fromObject(t):i.Util.Type.isString(t)?new i.XML.QName(this.defaultElementNamespaceURI,t):null;var n=i.Util.Type.defaultValue(e.allowDom,e.dom,!0),r=i.Util.Type.defaultValue(e.allowTypedObject,e.typed,!0),a=i.Util.Type.defaultValue(e.mixed,e.mx,!0);this.allowDom=n,this.allowTypedObject=r,this.mixed=a},unmarshal:function(e,t,n){var r=null,a=this,o=function(e){if(a.collection)null===r&&(r=[]),r.push(e);else{if(null!==r)throw new Error("Value already set.");r=e}},s=t.eventType;if(s===i.XML.Input.START_ELEMENT)i.Util.Type.exists(this.wrapperElementName)?this.unmarshalWrapperElement(e,t,n,o):this.unmarshalElement(e,t,n,o);else if(!this.mixed||s!==i.XML.Input.CHARACTERS&&s!==i.XML.Input.CDATA&&s!==i.XML.Input.ENTITY_REFERENCE){if(s!==i.XML.Input.SPACE&&s!==i.XML.Input.COMMENT&&s!==i.XML.Input.PROCESSING_INSTRUCTION)throw new Error("Illegal state: unexpected event type ["+s+"].")}else o(t.getText());return r},marshal:function(e,t,n,r){if(i.Util.Type.exists(e)){if(i.Util.Type.exists(this.wrapperElementName)&&n.writeStartElement(this.wrapperElementName),this.collection){i.Util.Ensure.ensureArray(e,"Collection property requires an array value.");for(var a=0;a<e.length;a++)this.marshalItem(e[a],t,n,r)}else this.marshalItem(e,t,n,r);i.Util.Type.exists(this.wrapperElementName)&&n.writeEndElement()}},marshalItem:function(e,t,n,r){if(i.Util.Type.isString(e)){if(!this.mixed)throw new Error("Property is not mixed, can't handle string values.");n.writeCharacters(e)}else if(this.allowDom&&i.Util.Type.exists(e.nodeType))n.writeNode(e);else{if(!i.Util.Type.isObject(e))throw this.mixed?new Error("Unsupported content type, either objects or strings are supported."):new Error("Unsupported content type, only objects are supported.");this.marshalElement(e,t,n,r)}},getTypeInfoByElementName:function(e,t,n){var r=this.getPropertyElementTypeInfo(e,t);if(i.Util.Type.exists(r))return r.typeInfo;var a=t.getElementInfo(e,n);return i.Util.Type.exists(a)?a.typeInfo:void 0},getPropertyElementTypeInfo:function(e,t){throw new Error("Abstract method [getPropertyElementTypeInfo].")},buildStructure:function(e,t){if(i.Util.Ensure.ensureObject(t),i.Util.Type.exists(t.value))throw new Error("The structure already defines a value property.");i.Util.Type.exists(t.elements)||(t.elements={}),i.Util.Type.exists(this.wrapperElementName)?t.elements[this.wrapperElementName.key]=this:this.buildStructureElements(e,t),(this.allowDom||this.allowTypedObject)&&(t.any=this),this.mixed&&!i.Util.Type.exists(this.wrapperElementName)&&(t.mixed=this)},buildStructureElements:function(e,t){throw new Error("Abstract method [buildStructureElements].")},buildStructureElementTypeInfos:function(e,t,n){t.elements[n.elementName.key]=this;var r=e.getSubstitutionMembers(n.elementName);if(i.Util.Type.isArray(r))for(var a=0;a<r.length;a++)this.buildStructureElementTypeInfos(e,t,r[a])},CLASS_NAME:"Jsonix.Model.AbstractElementRefsPropertyInfo"}),i.Model.ElementRefPropertyInfo=i.Class(i.Model.AbstractElementRefsPropertyInfo,{typeInfo:"String",elementName:null,initialize:function(e){i.Util.Ensure.ensureObject(e),i.Model.AbstractElementRefsPropertyInfo.prototype.initialize.apply(this,[e]);var t=e.typeInfo||e.ti||"String";i.Util.Type.isObject(t)||i.Util.Ensure.ensureString(t),this.typeInfo=t;var n=e.elementName||e.en||void 0;this.elementName=i.Util.Type.isObject(n)?i.XML.QName.fromObject(n):i.Util.Type.isString(n)?new i.XML.QName(this.defaultElementNamespaceURI,n):new i.XML.QName(this.defaultElementNamespaceURI,this.name)},getPropertyElementTypeInfo:function(e,t){return i.XML.QName.fromObjectOrString(e,t).key===this.elementName.key?this:null},doBuild:function(e,t){this.typeInfo=e.resolveTypeInfo(this.typeInfo,t)},buildStructureElements:function(e,t){this.buildStructureElementTypeInfos(e,t,this)},CLASS_NAME:"Jsonix.Model.ElementRefPropertyInfo"}),i.Model.ElementRefPropertyInfo.Simplified=i.Class(i.Model.ElementRefPropertyInfo,i.Binding.Unmarshalls.Element.AsSimplifiedElementRef,{CLASS_NAME:"Jsonix.Model.ElementRefPropertyInfo.Simplified"}),i.Model.ElementRefsPropertyInfo=i.Class(i.Model.AbstractElementRefsPropertyInfo,{elementTypeInfos:null,elementTypeInfosMap:null,initialize:function(e){i.Util.Ensure.ensureObject(e),i.Model.AbstractElementRefsPropertyInfo.prototype.initialize.apply(this,[e]);var t=e.elementTypeInfos||e.etis||[];i.Util.Ensure.ensureArray(t),this.elementTypeInfos=[];for(var n=0;n<t.length;n++)this.elementTypeInfos[n]=i.Util.Type.cloneObject(t[n])},getPropertyElementTypeInfo:function(e,t){var n=i.XML.QName.fromObjectOrString(e,t),r=this.elementTypeInfosMap[n.key];return i.Util.Type.exists(r)?{elementName:n,typeInfo:r}:null},doBuild:function(e,t){this.elementTypeInfosMap={};for(var n=0;n<this.elementTypeInfos.length;n++){var r=this.elementTypeInfos[n];i.Util.Ensure.ensureObject(r),r.typeInfo=e.resolveTypeInfo(r.typeInfo||r.ti||"String",t),r.elementName=i.XML.QName.fromObjectOrString(r.elementName||r.en||void 0,e,this.defaultElementNamespaceURI),this.elementTypeInfosMap[r.elementName.key]=r.typeInfo}},buildStructureElements:function(e,t){for(var n=0;n<this.elementTypeInfos.length;n++)this.buildStructureElementTypeInfos(e,t,this.elementTypeInfos[n])},CLASS_NAME:"Jsonix.Model.ElementRefsPropertyInfo"}),i.Model.ElementRefsPropertyInfo.Simplified=i.Class(i.Model.ElementRefsPropertyInfo,i.Binding.Unmarshalls.Element.AsSimplifiedElementRef,{CLASS_NAME:"Jsonix.Model.ElementRefsPropertyInfo.Simplified"}),i.Model.AnyElementPropertyInfo=i.Class(i.Binding.Marshalls.Element,i.Binding.Marshalls.Element.AsElementRef,i.Binding.Unmarshalls.Element,i.Binding.Unmarshalls.Element.AsElementRef,i.Model.PropertyInfo,{allowDom:!0,allowTypedObject:!0,mixed:!0,initialize:function(e){i.Util.Ensure.ensureObject(e),i.Model.PropertyInfo.prototype.initialize.apply(this,[e]);var t=i.Util.Type.defaultValue(e.allowDom,e.dom,!0),n=i.Util.Type.defaultValue(e.allowTypedObject,e.typed,!0),r=i.Util.Type.defaultValue(e.mixed,e.mx,!0);this.allowDom=t,this.allowTypedObject=n,this.mixed=r},unmarshal:function(e,t,n){var r=null,a=this,o=function(e){if(a.collection)null===r&&(r=[]),r.push(e);else{if(null!==r)throw new Error("Value already set.");r=e}},s=t.eventType;if(s===i.XML.Input.START_ELEMENT)this.unmarshalElement(e,t,n,o);else if(!this.mixed||s!==i.XML.Input.CHARACTERS&&s!==i.XML.Input.CDATA&&s!==i.XML.Input.ENTITY_REFERENCE){if(this.mixed&&s===i.XML.Input.SPACE);else if(s!==i.XML.Input.COMMENT&&s!==i.XML.Input.PROCESSING_INSTRUCTION)throw new Error("Illegal state: unexpected event type ["+s+"].")}else o(t.getText());return r},marshal:function(e,t,n,r){if(i.Util.Type.exists(e))if(this.collection){i.Util.Ensure.ensureArray(e);for(var a=0;a<e.length;a++)this.marshalItem(e[a],t,n,r)}else this.marshalItem(e,t,n,r)},marshalItem:function(e,t,n,r){this.mixed&&i.Util.Type.isString(e)?n.writeCharacters(e):this.allowDom&&i.Util.Type.exists(e.nodeType)?n.writeNode(e):this.allowTypedObject&&this.marshalElement(e,t,n,r)},doBuild:function(e,t){},buildStructure:function(e,t){if(i.Util.Ensure.ensureObject(t),i.Util.Type.exists(t.value))throw new Error("The structure already defines a value property.");i.Util.Type.exists(t.elements)||(t.elements={}),(this.allowDom||this.allowTypedObject)&&(t.any=this),this.mixed&&(t.mixed=this)},CLASS_NAME:"Jsonix.Model.AnyElementPropertyInfo"}),i.Model.AnyElementPropertyInfo.Simplified=i.Class(i.Model.AnyElementPropertyInfo,i.Binding.Unmarshalls.Element.AsSimplifiedElementRef,{CLASS_NAME:"Jsonix.Model.AnyElementPropertyInfo.Simplified"}),i.Model.Module=i.Class(i.Mapping.Styled,{name:null,typeInfos:null,elementInfos:null,targetNamespace:"",defaultElementNamespaceURI:"",defaultAttributeNamespaceURI:"",initialize:function(e,t){if(i.Mapping.Styled.prototype.initialize.apply(this,[t]),this.typeInfos=[],this.elementInfos=[],void 0!==e){i.Util.Ensure.ensureObject(e),this.name=e.name||e.n||null,this.defaultElementNamespaceURI=e.defaultElementNamespaceURI||e.dens||e.targetNamespace||e.tns||"",this.targetNamespace=e.targetNamespace||e.tns||e.defaultElementNamespaceURI||e.dens||this.defaultElementNamespaceURI,this.defaultAttributeNamespaceURI=e.defaultAttributeNamespaceURI||e.dans||"";var n=e.typeInfos||e.tis||[];for(var r in this.initializeTypeInfos(n),e)e.hasOwnProperty(r)&&e[r]instanceof this.mappingStyle.classInfo&&this.typeInfos.push(e[r]);this.initializeElementInfos(e.elementInfos||e.eis||[])}},initializeTypeInfos:function(e){var t,n;for(i.Util.Ensure.ensureArray(e),t=0;t<e.length;t++)n=this.createTypeInfo(e[t]),this.typeInfos.push(n)},initializeElementInfos:function(e){var t,n;for(i.Util.Ensure.ensureArray(e),t=0;t<e.length;t++)n=this.createElementInfo(e[t]),this.elementInfos.push(n)},createTypeInfo:function(e){var t;if(i.Util.Ensure.ensureObject(e),e instanceof i.Model.TypeInfo)t=e;else{var n=(e=i.Util.Type.cloneObject(e)).type||e.t||"classInfo";if(!i.Util.Type.isFunction(this.typeInfoCreators[n]))throw new Error("Unknown type info type ["+n+"].");t=this.typeInfoCreators[n].call(this,e)}return t},initializeNames:function(e){var t=e.localName||e.ln||null;if(e.localName=t,e.name=e.name||e.n||null,i.Util.Type.isString(e.name))e.name.length>0&&"."===e.name.charAt(0)&&i.Util.Type.isString(this.name)&&(e.name=this.name+e.name);else{if(!i.Util.Type.isString(t))throw new Error("Neither [name/n] nor [localName/ln] was provided for the class info.");e.name=i.Util.Type.isString(this.name)?this.name+"."+t:t}},createClassInfo:function(e){i.Util.Ensure.ensureObject(e),e.defaultElementNamespaceURI=e.defaultElementNamespaceURI||e.dens||this.defaultElementNamespaceURI,e.targetNamespace=e.targetNamespace||e.tns||this.targetNamespace,e.defaultAttributeNamespaceURI=e.defaultAttributeNamespaceURI||e.dans||this.defaultAttributeNamespaceURI,this.initializeNames(e);var t=new this.mappingStyle.classInfo(e,{mappingStyle:this.mappingStyle});return t.module=this,t},createEnumLeafInfo:function(e){i.Util.Ensure.ensureObject(e),this.initializeNames(e);var t=new this.mappingStyle.enumLeafInfo(e,{mappingStyle:this.mappingStyle});return t.module=this,t},createList:function(e){i.Util.Ensure.ensureObject(e);var t=e.baseTypeInfo||e.typeInfo||e.bti||e.ti||"String",n=e.typeName||e.tn||null;i.Util.Type.exists(n)&&(n=i.Util.Type.isString(n)?new i.XML.QName(this.targetNamespace,n):i.XML.QName.fromObject(n));var r=e.separator||e.sep||" ";i.Util.Ensure.ensureExists(t);var a=new i.Schema.XSD.List(t,n,r);return a.module=this,a},createElementInfo:function(e){i.Util.Ensure.ensureObject(e),(e=i.Util.Type.cloneObject(e)).defaultElementNamespaceURI=e.defaultElementNamespaceURI||e.dens||this.defaultElementNamespaceURI;var t=e.elementName||e.en||void 0;i.Util.Ensure.ensureExists(t);var n=e.typeInfo||e.ti||"String";if(i.Util.Ensure.ensureExists(n),e.typeInfo=n,i.Util.Type.isObject(t))e.elementName=i.XML.QName.fromObject(t);else{if(!i.Util.Type.isString(t))throw new Error("Element info ["+e+"] must provide an element name.");e.elementName=new i.XML.QName(this.defaultElementNamespaceURI,t)}var r=e.substitutionHead||e.sh||null;i.Util.Type.exists(r)&&(i.Util.Type.isObject(r)?e.substitutionHead=i.XML.QName.fromObject(r):(i.Util.Ensure.ensureString(r),e.substitutionHead=new i.XML.QName(this.defaultElementNamespaceURI,r)));var a=new this.mappingStyle.elementInfo(e,{mappingStyle:this.mappingStyle});return a.module=this,a},registerTypeInfos:function(e){for(var t=0;t<this.typeInfos.length;t++)e.registerTypeInfo(this.typeInfos[t],this)},buildTypeInfos:function(e){for(var t=0;t<this.typeInfos.length;t++)this.typeInfos[t].build(e,this)},registerElementInfos:function(e){for(var t=0;t<this.elementInfos.length;t++)e.registerElementInfo(this.elementInfos[t],this)},buildElementInfos:function(e){for(var t=0;t<this.elementInfos.length;t++)this.elementInfos[t].build(e,this)},cs:function(){return this},es:function(){return this},CLASS_NAME:"Jsonix.Model.Module"}),i.Model.Module.prototype.typeInfoCreators={classInfo:i.Model.Module.prototype.createClassInfo,c:i.Model.Module.prototype.createClassInfo,enumInfo:i.Model.Module.prototype.createEnumLeafInfo,enum:i.Model.Module.prototype.createEnumLeafInfo,list:i.Model.Module.prototype.createList,l:i.Model.Module.prototype.createList},i.Mapping.Style.Standard=i.Class(i.Mapping.Style,{marshaller:i.Binding.Marshaller,unmarshaller:i.Binding.Unmarshaller,module:i.Model.Module,elementInfo:i.Model.ElementInfo,classInfo:i.Model.ClassInfo,enumLeafInfo:i.Model.EnumLeafInfo,anyAttributePropertyInfo:i.Model.AnyAttributePropertyInfo,anyElementPropertyInfo:i.Model.AnyElementPropertyInfo,attributePropertyInfo:i.Model.AttributePropertyInfo,elementMapPropertyInfo:i.Model.ElementMapPropertyInfo,elementPropertyInfo:i.Model.ElementPropertyInfo,elementsPropertyInfo:i.Model.ElementsPropertyInfo,elementRefPropertyInfo:i.Model.ElementRefPropertyInfo,elementRefsPropertyInfo:i.Model.ElementRefsPropertyInfo,valuePropertyInfo:i.Model.ValuePropertyInfo,initialize:function(){i.Mapping.Style.prototype.initialize.apply(this)},CLASS_NAME:"Jsonix.Mapping.Style.Standard"}),i.Mapping.Style.STYLES.standard=new i.Mapping.Style.Standard,i.Mapping.Style.Simplified=i.Class(i.Mapping.Style,{marshaller:i.Binding.Marshaller.Simplified,unmarshaller:i.Binding.Unmarshaller.Simplified,module:i.Model.Module,elementInfo:i.Model.ElementInfo,classInfo:i.Model.ClassInfo,enumLeafInfo:i.Model.EnumLeafInfo,anyAttributePropertyInfo:i.Model.AnyAttributePropertyInfo.Simplified,anyElementPropertyInfo:i.Model.AnyElementPropertyInfo.Simplified,attributePropertyInfo:i.Model.AttributePropertyInfo,elementMapPropertyInfo:i.Model.ElementMapPropertyInfo,elementPropertyInfo:i.Model.ElementPropertyInfo,elementsPropertyInfo:i.Model.ElementsPropertyInfo,elementRefPropertyInfo:i.Model.ElementRefPropertyInfo.Simplified,elementRefsPropertyInfo:i.Model.ElementRefsPropertyInfo.Simplified,valuePropertyInfo:i.Model.ValuePropertyInfo,initialize:function(){i.Mapping.Style.prototype.initialize.apply(this)},CLASS_NAME:"Jsonix.Mapping.Style.Simplified"}),i.Mapping.Style.STYLES.simplified=new i.Mapping.Style.Simplified,i.Schema.XSD={},i.Schema.XSD.NAMESPACE_URI="http://www.w3.org/2001/XMLSchema",i.Schema.XSD.PREFIX="xsd",i.Schema.XSD.qname=function(e){return i.Util.Ensure.ensureString(e),new i.XML.QName(i.Schema.XSD.NAMESPACE_URI,e,i.Schema.XSD.PREFIX)},i.Schema.XSD.AnyType=i.Class(i.Model.ClassInfo,{typeName:i.Schema.XSD.qname("anyType"),initialize:function(){i.Model.ClassInfo.prototype.initialize.call(this,{name:"AnyType",propertyInfos:[{type:"anyAttribute",name:"attributes"},{type:"anyElement",name:"content",collection:!0}]})},CLASS_NAME:"Jsonix.Schema.XSD.AnyType"}),i.Schema.XSD.AnyType.INSTANCE=new i.Schema.XSD.AnyType,i.Schema.XSD.AnySimpleType=i.Class(i.Model.TypeInfo,{name:"AnySimpleType",typeName:i.Schema.XSD.qname("anySimpleType"),initialize:function(){i.Model.TypeInfo.prototype.initialize.apply(this,[])},print:function(e,t,n,i){return e},parse:function(e,t,n,i){return e},isInstance:function(e,t,n){return!0},reprint:function(e,t,n,r){return i.Util.Type.isString(e)&&!this.isInstance(e,t,r)?this.print(this.parse(e,t,null,r),t,n,r):this.print(e,t,n,r)},unmarshal:function(e,t,n){var r=t.getElementText();return i.Util.StringUtils.isNotBlank(r)?this.parse(r,e,t,n):null},marshal:function(e,t,n,r){i.Util.Type.exists(e)&&n.writeCharacters(this.reprint(e,t,n,r))},build:function(e,t){},CLASS_NAME:"Jsonix.Schema.XSD.AnySimpleType"}),i.Schema.XSD.AnySimpleType.INSTANCE=new i.Schema.XSD.AnySimpleType,i.Schema.XSD.List=i.Class(i.Schema.XSD.AnySimpleType,{name:null,typeName:null,typeInfo:null,separator:" ",trimmedSeparator:i.Util.StringUtils.whitespaceCharacters,simpleType:!0,built:!1,initialize:function(e,t,n){i.Util.Ensure.ensureExists(e),this.typeInfo=e,i.Util.Type.exists(this.name)||(this.name=e.name+"*"),i.Util.Type.exists(t)&&(this.typeName=t),this.separator=i.Util.Type.isString(n)?n:" ";var r=i.Util.StringUtils.trim(this.separator);this.trimmedSeparator=0===r.length?i.Util.StringUtils.whitespaceCharacters:r},build:function(e){this.built||(this.typeInfo=e.resolveTypeInfo(this.typeInfo,this.module),this.built=!0)},print:function(e,t,n,r){if(!i.Util.Type.exists(e))return null;i.Util.Ensure.ensureArray(e);for(var a="",o=0;o<e.length;o++)o>0&&(a+=this.separator),a+=this.typeInfo.reprint(e[o],t,n,r);return a},parse:function(e,t,n,r){i.Util.Ensure.ensureString(e);for(var a=i.Util.StringUtils.splitBySeparatorChars(e,this.trimmedSeparator),o=[],s=0;s<a.length;s++)o.push(this.typeInfo.parse(i.Util.StringUtils.trim(a[s]),t,n,r));return o},CLASS_NAME:"Jsonix.Schema.XSD.List"}),i.Schema.XSD.String=i.Class(i.Schema.XSD.AnySimpleType,{name:"String",typeName:i.Schema.XSD.qname("string"),unmarshal:function(e,t,n){var i=t.getElementText();return this.parse(i,e,t,n)},print:function(e,t,n,r){return i.Util.Ensure.ensureString(e),e},parse:function(e,t,n,r){return i.Util.Ensure.ensureString(e),e},isInstance:function(e,t,n){return i.Util.Type.isString(e)},CLASS_NAME:"Jsonix.Schema.XSD.String"}),i.Schema.XSD.String.INSTANCE=new i.Schema.XSD.String,i.Schema.XSD.String.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.String.INSTANCE),i.Schema.XSD.Strings=i.Class(i.Schema.XSD.List,{name:"Strings",initialize:function(){i.Schema.XSD.List.prototype.initialize.apply(this,[i.Schema.XSD.String.INSTANCE,i.Schema.XSD.qname("strings")," "])},CLASS_NAME:"Jsonix.Schema.XSD.Strings"}),i.Schema.XSD.Strings.INSTANCE=new i.Schema.XSD.Strings,i.Schema.XSD.NormalizedString=i.Class(i.Schema.XSD.String,{name:"NormalizedString",typeName:i.Schema.XSD.qname("normalizedString"),CLASS_NAME:"Jsonix.Schema.XSD.NormalizedString"}),i.Schema.XSD.NormalizedString.INSTANCE=new i.Schema.XSD.NormalizedString,i.Schema.XSD.NormalizedString.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.NormalizedString.INSTANCE),i.Schema.XSD.Token=i.Class(i.Schema.XSD.NormalizedString,{name:"Token",typeName:i.Schema.XSD.qname("token"),CLASS_NAME:"Jsonix.Schema.XSD.Token"}),i.Schema.XSD.Token.INSTANCE=new i.Schema.XSD.Token,i.Schema.XSD.Token.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.Token.INSTANCE),i.Schema.XSD.Language=i.Class(i.Schema.XSD.Token,{name:"Language",typeName:i.Schema.XSD.qname("language"),CLASS_NAME:"Jsonix.Schema.XSD.Language"}),i.Schema.XSD.Language.INSTANCE=new i.Schema.XSD.Language,i.Schema.XSD.Language.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.Language.INSTANCE),i.Schema.XSD.Name=i.Class(i.Schema.XSD.Token,{name:"Name",typeName:i.Schema.XSD.qname("Name"),CLASS_NAME:"Jsonix.Schema.XSD.Name"}),i.Schema.XSD.Name.INSTANCE=new i.Schema.XSD.Name,i.Schema.XSD.Name.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.Name.INSTANCE),i.Schema.XSD.NCName=i.Class(i.Schema.XSD.Name,{name:"NCName",typeName:i.Schema.XSD.qname("NCName"),CLASS_NAME:"Jsonix.Schema.XSD.NCName"}),i.Schema.XSD.NCName.INSTANCE=new i.Schema.XSD.NCName,i.Schema.XSD.NCName.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.NCName.INSTANCE),i.Schema.XSD.NMToken=i.Class(i.Schema.XSD.Token,{name:"NMToken",typeName:i.Schema.XSD.qname("NMTOKEN"),CLASS_NAME:"Jsonix.Schema.XSD.NMToken"}),i.Schema.XSD.NMToken.INSTANCE=new i.Schema.XSD.NMToken,i.Schema.XSD.NMTokens=i.Class(i.Schema.XSD.List,{name:"NMTokens",initialize:function(){i.Schema.XSD.List.prototype.initialize.apply(this,[i.Schema.XSD.NMToken.INSTANCE,i.Schema.XSD.qname("NMTOKEN")," "])},CLASS_NAME:"Jsonix.Schema.XSD.NMTokens"}),i.Schema.XSD.NMTokens.INSTANCE=new i.Schema.XSD.NMTokens,i.Schema.XSD.Boolean=i.Class(i.Schema.XSD.AnySimpleType,{name:"Boolean",typeName:i.Schema.XSD.qname("boolean"),print:function(e,t,n,r){return i.Util.Ensure.ensureBoolean(e),e?"true":"false"},parse:function(e,t,n,r){if(i.Util.Ensure.ensureString(e),"true"===e||"1"===e)return!0;if("false"===e||"0"===e)return!1;throw new Error("Either [true], [1], [0] or [false] expected as boolean value.")},isInstance:function(e,t,n){return i.Util.Type.isBoolean(e)},CLASS_NAME:"Jsonix.Schema.XSD.Boolean"}),i.Schema.XSD.Boolean.INSTANCE=new i.Schema.XSD.Boolean,i.Schema.XSD.Boolean.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.Boolean.INSTANCE),i.Schema.XSD.Base64Binary=i.Class(i.Schema.XSD.AnySimpleType,{name:"Base64Binary",typeName:i.Schema.XSD.qname("base64Binary"),charToByte:{},byteToChar:[],initialize:function(){i.Schema.XSD.AnySimpleType.prototype.initialize.apply(this);for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",t=0;t<e.length;t++){var n=e.charAt(t);e.charCodeAt(t),this.byteToChar[t]=n,this.charToByte[n]=t}},print:function(e,t,n,r){return i.Util.Ensure.ensureArray(e),this.encode(e)},parse:function(e,t,n,r){return i.Util.Ensure.ensureString(e),this.decode(e)},encode:function(e){var t,n,i,r,a,o,s="",l=0,u=e.length;for(l=0;l<u;l+=3)t=255&e[l],l+1<u?(r=this.byteToChar[(3&t)<<4|(n=255&e[l+1])>>4],l+2<u?(a=this.byteToChar[(15&n)<<2|(i=255&e[l+2])>>6],o=this.byteToChar[63&i]):(a=this.byteToChar[(15&n)<<2],o="=")):(r=this.byteToChar[(3&t)<<4],a="=",o="="),s=s+this.byteToChar[t>>2]+r+a+o;return s},decode:function(e){input=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");var t=Math.floor(input.length/4*3);"="===input.charAt(input.length-1)&&t--,"="===input.charAt(input.length-2)&&t--;var n,i,r,a,o,s,l=new Array(t),u=0,c=0;for(u=0;u<t;u+=3)r=this.charToByte[input.charAt(c++)],n=(15&(a=this.charToByte[input.charAt(c++)]))<<4|(o=this.charToByte[input.charAt(c++)])>>2,i=(3&o)<<6|(s=this.charToByte[input.charAt(c++)]),l[u]=r<<2|a>>4,64!=o&&(l[u+1]=n),64!=s&&(l[u+2]=i);return l},isInstance:function(e,t,n){return i.Util.Type.isArray(e)},CLASS_NAME:"Jsonix.Schema.XSD.Base64Binary"}),i.Schema.XSD.Base64Binary.INSTANCE=new i.Schema.XSD.Base64Binary,i.Schema.XSD.Base64Binary.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.Base64Binary.INSTANCE),i.Schema.XSD.HexBinary=i.Class(i.Schema.XSD.AnySimpleType,{name:"HexBinary",typeName:i.Schema.XSD.qname("hexBinary"),charToQuartet:{},byteToDuplet:[],initialize:function(){i.Schema.XSD.AnySimpleType.prototype.initialize.apply(this);var e,t="0123456789ABCDEF".toLowerCase();for(e=0;e<16;e++)this.charToQuartet["0123456789ABCDEF".charAt(e)]=e,e>=10&&(this.charToQuartet[t.charAt(e)]=e);for(e=0;e<256;e++)this.byteToDuplet[e]="0123456789ABCDEF"[e>>4]+"0123456789ABCDEF"[15&e]},print:function(e,t,n,r){return i.Util.Ensure.ensureArray(e),this.encode(e)},parse:function(e,t,n,r){return i.Util.Ensure.ensureString(e),this.decode(e)},encode:function(e){for(var t="",n=0;n<e.length;n++)t+=this.byteToDuplet[255&e[n]];return t},decode:function(e){for(var t=e.replace(/[^A-Fa-f0-9]/g,""),n=t.length>>1,i=new Array(n),r=0;r<n;r++){var a=t.charAt(2*r),o=t.charAt(2*r+1);i[r]=this.charToQuartet[a]<<4|this.charToQuartet[o]}return i},isInstance:function(e,t,n){return i.Util.Type.isArray(e)},CLASS_NAME:"Jsonix.Schema.XSD.HexBinary"}),i.Schema.XSD.HexBinary.INSTANCE=new i.Schema.XSD.HexBinary,i.Schema.XSD.HexBinary.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.HexBinary.INSTANCE),i.Schema.XSD.Number=i.Class(i.Schema.XSD.AnySimpleType,{name:"Number",typeName:i.Schema.XSD.qname("number"),print:function(e,t,n,r){return i.Util.Ensure.ensureNumberOrNaN(e),i.Util.Type.isNaN(e)?"NaN":e===1/0?"INF":e===-1/0?"-INF":String(e)},parse:function(e,t,n,r){if(i.Util.Ensure.ensureString(e),"-INF"===e)return-1/0;if("INF"===e)return 1/0;if("NaN"===e)return NaN;var a=Number(e);return i.Util.Ensure.ensureNumber(a),a},isInstance:function(e,t,n){return i.Util.Type.isNumberOrNaN(e)},CLASS_NAME:"Jsonix.Schema.XSD.Number"}),i.Schema.XSD.Number.INSTANCE=new i.Schema.XSD.Number,i.Schema.XSD.Number.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.Number.INSTANCE),i.Schema.XSD.Float=i.Class(i.Schema.XSD.Number,{name:"Float",typeName:i.Schema.XSD.qname("float"),isInstance:function(e,t,n){return i.Util.Type.isNaN(e)||e===-1/0||e===1/0||i.Util.Type.isNumber(e)&&e>=this.MIN_VALUE&&e<=this.MAX_VALUE},MIN_VALUE:-34028235e31,MAX_VALUE:34028235e31,CLASS_NAME:"Jsonix.Schema.XSD.Float"}),i.Schema.XSD.Float.INSTANCE=new i.Schema.XSD.Float,i.Schema.XSD.Float.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.Float.INSTANCE),i.Schema.XSD.Decimal=i.Class(i.Schema.XSD.AnySimpleType,{name:"Decimal",typeName:i.Schema.XSD.qname("decimal"),print:function(e,t,n,r){return i.Util.Ensure.ensureNumber(e),String(e)},parse:function(e,t,n,r){i.Util.Ensure.ensureString(e);var a=Number(e);return i.Util.Ensure.ensureNumber(a),a},isInstance:function(e,t,n){return i.Util.Type.isNumber(e)},CLASS_NAME:"Jsonix.Schema.XSD.Decimal"}),i.Schema.XSD.Decimal.INSTANCE=new i.Schema.XSD.Decimal,i.Schema.XSD.Decimal.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.Decimal.INSTANCE),i.Schema.XSD.Integer=i.Class(i.Schema.XSD.AnySimpleType,{name:"Integer",typeName:i.Schema.XSD.qname("integer"),print:function(e,t,n,r){return i.Util.Ensure.ensureInteger(e),String(e)},parse:function(e,t,n,r){i.Util.Ensure.ensureString(e);var a=Number(e);return i.Util.Ensure.ensureInteger(a),a},isInstance:function(e,t,n){return i.Util.NumberUtils.isInteger(e)&&e>=this.MIN_VALUE&&e<=this.MAX_VALUE},MIN_VALUE:-0x8000000000000000,MAX_VALUE:0x8000000000000000,CLASS_NAME:"Jsonix.Schema.XSD.Integer"}),i.Schema.XSD.Integer.INSTANCE=new i.Schema.XSD.Integer,i.Schema.XSD.Integer.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.Integer.INSTANCE),i.Schema.XSD.NonPositiveInteger=i.Class(i.Schema.XSD.Integer,{name:"NonPositiveInteger",typeName:i.Schema.XSD.qname("nonPositiveInteger"),MIN_VALUE:-0x8000000000000000,MAX_VALUE:0,CLASS_NAME:"Jsonix.Schema.XSD.NonPositiveInteger"}),i.Schema.XSD.NonPositiveInteger.INSTANCE=new i.Schema.XSD.NonPositiveInteger,i.Schema.XSD.NonPositiveInteger.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.NonPositiveInteger.INSTANCE),i.Schema.XSD.NegativeInteger=i.Class(i.Schema.XSD.NonPositiveInteger,{name:"NegativeInteger",typeName:i.Schema.XSD.qname("negativeInteger"),MIN_VALUE:-0x8000000000000000,MAX_VALUE:-1,CLASS_NAME:"Jsonix.Schema.XSD.NegativeInteger"}),i.Schema.XSD.NegativeInteger.INSTANCE=new i.Schema.XSD.NegativeInteger,i.Schema.XSD.NegativeInteger.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.NegativeInteger.INSTANCE),i.Schema.XSD.Long=i.Class(i.Schema.XSD.Integer,{name:"Long",typeName:i.Schema.XSD.qname("long"),MIN_VALUE:-0x8000000000000000,MAX_VALUE:0x8000000000000000,CLASS_NAME:"Jsonix.Schema.XSD.Long"}),i.Schema.XSD.Long.INSTANCE=new i.Schema.XSD.Long,i.Schema.XSD.Long.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.Long.INSTANCE),i.Schema.XSD.Int=i.Class(i.Schema.XSD.Long,{name:"Int",typeName:i.Schema.XSD.qname("int"),MIN_VALUE:-2147483648,MAX_VALUE:2147483647,CLASS_NAME:"Jsonix.Schema.XSD.Int"}),i.Schema.XSD.Int.INSTANCE=new i.Schema.XSD.Int,i.Schema.XSD.Int.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.Int.INSTANCE),i.Schema.XSD.Short=i.Class(i.Schema.XSD.Int,{name:"Short",typeName:i.Schema.XSD.qname("short"),MIN_VALUE:-32768,MAX_VALUE:32767,CLASS_NAME:"Jsonix.Schema.XSD.Short"}),i.Schema.XSD.Short.INSTANCE=new i.Schema.XSD.Short,i.Schema.XSD.Short.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.Short.INSTANCE),i.Schema.XSD.Byte=i.Class(i.Schema.XSD.Short,{name:"Byte",typeName:i.Schema.XSD.qname("byte"),MIN_VALUE:-128,MAX_VALUE:127,CLASS_NAME:"Jsonix.Schema.XSD.Byte"}),i.Schema.XSD.Byte.INSTANCE=new i.Schema.XSD.Byte,i.Schema.XSD.Byte.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.Byte.INSTANCE),i.Schema.XSD.NonNegativeInteger=i.Class(i.Schema.XSD.Integer,{name:"NonNegativeInteger",typeName:i.Schema.XSD.qname("nonNegativeInteger"),MIN_VALUE:0,MAX_VALUE:0x8000000000000000,CLASS_NAME:"Jsonix.Schema.XSD.NonNegativeInteger"}),i.Schema.XSD.NonNegativeInteger.INSTANCE=new i.Schema.XSD.NonNegativeInteger,i.Schema.XSD.NonNegativeInteger.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.NonNegativeInteger.INSTANCE),i.Schema.XSD.UnsignedLong=i.Class(i.Schema.XSD.NonNegativeInteger,{name:"UnsignedLong",typeName:i.Schema.XSD.qname("unsignedLong"),MIN_VALUE:0,MAX_VALUE:0x10000000000000000,CLASS_NAME:"Jsonix.Schema.XSD.UnsignedLong"}),i.Schema.XSD.UnsignedLong.INSTANCE=new i.Schema.XSD.UnsignedLong,i.Schema.XSD.UnsignedLong.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.UnsignedLong.INSTANCE),i.Schema.XSD.UnsignedInt=i.Class(i.Schema.XSD.UnsignedLong,{name:"UnsignedInt",typeName:i.Schema.XSD.qname("unsignedInt"),MIN_VALUE:0,MAX_VALUE:4294967295,CLASS_NAME:"Jsonix.Schema.XSD.UnsignedInt"}),i.Schema.XSD.UnsignedInt.INSTANCE=new i.Schema.XSD.UnsignedInt,i.Schema.XSD.UnsignedInt.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.UnsignedInt.INSTANCE),i.Schema.XSD.UnsignedShort=i.Class(i.Schema.XSD.UnsignedInt,{name:"UnsignedShort",typeName:i.Schema.XSD.qname("unsignedShort"),MIN_VALUE:0,MAX_VALUE:65535,CLASS_NAME:"Jsonix.Schema.XSD.UnsignedShort"}),i.Schema.XSD.UnsignedShort.INSTANCE=new i.Schema.XSD.UnsignedShort,i.Schema.XSD.UnsignedShort.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.UnsignedShort.INSTANCE),i.Schema.XSD.UnsignedByte=i.Class(i.Schema.XSD.UnsignedShort,{name:"UnsignedByte",typeName:i.Schema.XSD.qname("unsignedByte"),MIN_VALUE:0,MAX_VALUE:255,CLASS_NAME:"Jsonix.Schema.XSD.UnsignedByte"}),i.Schema.XSD.UnsignedByte.INSTANCE=new i.Schema.XSD.UnsignedByte,i.Schema.XSD.UnsignedByte.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.UnsignedByte.INSTANCE),i.Schema.XSD.PositiveInteger=i.Class(i.Schema.XSD.NonNegativeInteger,{name:"PositiveInteger",typeName:i.Schema.XSD.qname("positiveInteger"),MIN_VALUE:1,MAX_VALUE:0x8000000000000000,CLASS_NAME:"Jsonix.Schema.XSD.PositiveInteger"}),i.Schema.XSD.PositiveInteger.INSTANCE=new i.Schema.XSD.PositiveInteger,i.Schema.XSD.PositiveInteger.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.PositiveInteger.INSTANCE),i.Schema.XSD.Double=i.Class(i.Schema.XSD.Number,{name:"Double",typeName:i.Schema.XSD.qname("double"),isInstance:function(e,t,n){return i.Util.Type.isNaN(e)||e===-1/0||e===1/0||i.Util.Type.isNumber(e)&&e>=this.MIN_VALUE&&e<=this.MAX_VALUE},MIN_VALUE:-17976931348623157e292,MAX_VALUE:17976931348623157e292,CLASS_NAME:"Jsonix.Schema.XSD.Double"}),i.Schema.XSD.Double.INSTANCE=new i.Schema.XSD.Double,i.Schema.XSD.Double.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.Double.INSTANCE),i.Schema.XSD.AnyURI=i.Class(i.Schema.XSD.AnySimpleType,{name:"AnyURI",typeName:i.Schema.XSD.qname("anyURI"),print:function(e,t,n,r){return i.Util.Ensure.ensureString(e),e},parse:function(e,t,n,r){return i.Util.Ensure.ensureString(e),e},isInstance:function(e,t,n){return i.Util.Type.isString(e)},CLASS_NAME:"Jsonix.Schema.XSD.AnyURI"}),i.Schema.XSD.AnyURI.INSTANCE=new i.Schema.XSD.AnyURI,i.Schema.XSD.AnyURI.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.AnyURI.INSTANCE),i.Schema.XSD.QName=i.Class(i.Schema.XSD.AnySimpleType,{name:"QName",typeName:i.Schema.XSD.qname("QName"),print:function(e,t,n,r){var a,o=i.XML.QName.fromObject(e),s=o.localPart;return n?(a=n.getPrefix(o.namespaceURI,o.prefix||null),n.declareNamespace(o.namespaceURI,a)):a=o.prefix,a?a+":"+s:s},parse:function(e,t,n,r){var a,o;i.Util.Ensure.ensureString(e);var s=(e=i.Util.StringUtils.trim(e)).indexOf(":");if(-1===s)a="",o=e;else{if(!(s>0&&s<e.length-1))throw new Error("Invalid QName ["+e+"].");a=e.substring(0,s),o=e.substring(s+1)}var l=n||t||null;if(l){var u=l.getNamespaceURI(a);if(i.Util.Type.isString(u))return new i.XML.QName(u,o,a);throw new Error("Prefix ["+a+"] of the QName ["+e+"] is not bound in this context.")}return e},isInstance:function(e,t,n){return e instanceof i.XML.QName||i.Util.Type.isObject(e)&&i.Util.Type.isString(e.localPart||e.lp)},CLASS_NAME:"Jsonix.Schema.XSD.QName"}),i.Schema.XSD.QName.INSTANCE=new i.Schema.XSD.QName,i.Schema.XSD.QName.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.QName.INSTANCE),i.Schema.XSD.Calendar=i.Class(i.Schema.XSD.AnySimpleType,{name:"Calendar",typeName:i.Schema.XSD.qname("calendar"),parse:function(e,t,n,r){if(i.Util.Ensure.ensureString(e),e.match(new RegExp("^"+i.Schema.XSD.Calendar.DATETIME_PATTERN+"$")))return this.parseDateTime(e,t,n,r);if(e.match(new RegExp("^"+i.Schema.XSD.Calendar.DATE_PATTERN+"$")))return this.parseDate(e,t,n,r);if(e.match(new RegExp("^"+i.Schema.XSD.Calendar.TIME_PATTERN+"$")))return this.parseTime(e,t,n,r);if(e.match(new RegExp("^"+i.Schema.XSD.Calendar.GYEAR_MONTH_PATTERN+"$")))return this.parseGYearMonth(e,t,n,r);if(e.match(new RegExp("^"+i.Schema.XSD.Calendar.GYEAR_PATTERN+"$")))return this.parseGYear(e,t,n,r);if(e.match(new RegExp("^"+i.Schema.XSD.Calendar.GMONTH_DAY_PATTERN+"$")))return this.parseGMonthDay(e,t,n,r);if(e.match(new RegExp("^"+i.Schema.XSD.Calendar.GMONTH_PATTERN+"$")))return this.parseGMonth(e,t,n,r);if(e.match(new RegExp("^"+i.Schema.XSD.Calendar.GDAY_PATTERN+"$")))return this.parseGDay(e,t,n,r);throw new Error("Value ["+e+"] does not match xs:dateTime, xs:date, xs:time, xs:gYearMonth, xs:gYear, xs:gMonthDay, xs:gMonth or xs:gDay patterns.")},parseGYearMonth:function(e,t,n,r){var a=new RegExp("^"+i.Schema.XSD.Calendar.GYEAR_MONTH_PATTERN+"$"),o=e.match(a);if(null!==o){var s={year:parseInt(o[1],10),month:parseInt(o[5],10),timezone:this.parseTimezoneString(o[7])};return new i.XML.Calendar(s)}throw new Error("Value ["+e+"] does not match the xs:gYearMonth pattern.")},parseGYear:function(e,t,n,r){var a=new RegExp("^"+i.Schema.XSD.Calendar.GYEAR_PATTERN+"$"),o=e.match(a);if(null!==o){var s={year:parseInt(o[1],10),timezone:this.parseTimezoneString(o[5])};return new i.XML.Calendar(s)}throw new Error("Value ["+e+"] does not match the xs:gYear pattern.")},parseGMonthDay:function(e,t,n,r){var a=new RegExp("^"+i.Schema.XSD.Calendar.GMONTH_DAY_PATTERN+"$"),o=e.match(a);if(null!==o){var s={month:parseInt(o[2],10),day:parseInt(o[3],10),timezone:this.parseTimezoneString(o[5])};return new i.XML.Calendar(s)}throw new Error("Value ["+e+"] does not match the xs:gMonthDay pattern.")},parseGMonth:function(e,t,n,r){var a=new RegExp("^"+i.Schema.XSD.Calendar.GMONTH_PATTERN+"$"),o=e.match(a);if(null!==o){var s={month:parseInt(o[2],10),timezone:this.parseTimezoneString(o[3])};return new i.XML.Calendar(s)}throw new Error("Value ["+e+"] does not match the xs:gMonth pattern.")},parseGDay:function(e,t,n,r){var a=new RegExp("^"+i.Schema.XSD.Calendar.GDAY_PATTERN+"$"),o=e.match(a);if(null!==o){var s={day:parseInt(o[2],10),timezone:this.parseTimezoneString(o[3])};return new i.XML.Calendar(s)}throw new Error("Value ["+e+"] does not match the xs:gDay pattern.")},parseDateTime:function(e,t,n,r){i.Util.Ensure.ensureString(e);var a=new RegExp("^"+i.Schema.XSD.Calendar.DATETIME_PATTERN+"$"),o=e.match(a);if(null!==o){var s={year:parseInt(o[1],10),month:parseInt(o[5],10),day:parseInt(o[7],10),hour:parseInt(o[9],10),minute:parseInt(o[10],10),second:parseInt(o[11],10),fractionalSecond:o[12]?parseFloat(o[12]):0,timezone:this.parseTimezoneString(o[14])};return new i.XML.Calendar(s)}throw new Error("Value ["+e+"] does not match the xs:date pattern.")},parseDate:function(e,t,n,r){i.Util.Ensure.ensureString(e);var a=new RegExp("^"+i.Schema.XSD.Calendar.DATE_PATTERN+"$"),o=e.match(a);if(null!==o){var s={year:parseInt(o[1],10),month:parseInt(o[5],10),day:parseInt(o[7],10),timezone:this.parseTimezoneString(o[9])};return new i.XML.Calendar(s)}throw new Error("Value ["+e+"] does not match the xs:date pattern.")},parseTime:function(e,t,n,r){i.Util.Ensure.ensureString(e);var a=new RegExp("^"+i.Schema.XSD.Calendar.TIME_PATTERN+"$"),o=e.match(a);if(null!==o){var s={hour:parseInt(o[1],10),minute:parseInt(o[2],10),second:parseInt(o[3],10),fractionalSecond:o[4]?parseFloat(o[4]):0,timezone:this.parseTimezoneString(o[6])};return new i.XML.Calendar(s)}throw new Error("Value ["+e+"] does not match the xs:time pattern.")},parseTimezoneString:function(e){if(i.Util.Type.isString(e)){if(""===e)return NaN;if("Z"===e)return 0;if("+14:00"===e)return 840;if("-14:00"===e)return-840;var t=new RegExp("^"+i.Schema.XSD.Calendar.TIMEZONE_PATTERN+"$"),n=e.match(t);if(null!==n)return("+"===n[1]?1:-1)*(60*parseInt(n[4],10)+parseInt(n[5],10));throw new Error("Value ["+e+"] does not match the timezone pattern.")}return NaN},print:function(e,t,n,r){if(i.Util.Ensure.ensureObject(e),i.Util.NumberUtils.isInteger(e.year)&&i.Util.NumberUtils.isInteger(e.month)&&i.Util.NumberUtils.isInteger(e.day)&&i.Util.NumberUtils.isInteger(e.hour)&&i.Util.NumberUtils.isInteger(e.minute)&&i.Util.NumberUtils.isInteger(e.second))return this.printDateTime(e);if(i.Util.NumberUtils.isInteger(e.year)&&i.Util.NumberUtils.isInteger(e.month)&&i.Util.NumberUtils.isInteger(e.day))return this.printDate(e);if(i.Util.NumberUtils.isInteger(e.hour)&&i.Util.NumberUtils.isInteger(e.minute)&&i.Util.NumberUtils.isInteger(e.second))return this.printTime(e);if(i.Util.NumberUtils.isInteger(e.year)&&i.Util.NumberUtils.isInteger(e.month))return this.printGYearMonth(e);if(i.Util.NumberUtils.isInteger(e.month)&&i.Util.NumberUtils.isInteger(e.day))return this.printGMonthDay(e);if(i.Util.NumberUtils.isInteger(e.year))return this.printGYear(e);if(i.Util.NumberUtils.isInteger(e.month))return this.printGMonth(e);if(i.Util.NumberUtils.isInteger(e.day))return this.printGDay(e);throw new Error("Value ["+e+"] is not recognized as dateTime, date or time.")},printDateTime:function(e){i.Util.Ensure.ensureObject(e),i.Util.Ensure.ensureInteger(e.year),i.Util.Ensure.ensureInteger(e.month),i.Util.Ensure.ensureInteger(e.day),i.Util.Ensure.ensureInteger(e.hour),i.Util.Ensure.ensureInteger(e.minute),i.Util.Ensure.ensureNumber(e.second),i.Util.Type.exists(e.fractionalString)&&i.Util.Ensure.ensureNumber(e.fractionalString),i.Util.Type.exists(e.timezone)&&!i.Util.Type.isNaN(e.timezone)&&i.Util.Ensure.ensureInteger(e.timezone);var t=this.printDateString(e);return t+="T",t+=this.printTimeString(e),i.Util.Type.exists(e.timezone)&&(t+=this.printTimezoneString(e.timezone)),t},printDate:function(e){i.Util.Ensure.ensureObject(e),i.Util.Ensure.ensureNumber(e.year),i.Util.Ensure.ensureNumber(e.month),i.Util.Ensure.ensureNumber(e.day),i.Util.Type.exists(e.timezone)&&!i.Util.Type.isNaN(e.timezone)&&i.Util.Ensure.ensureInteger(e.timezone);var t=this.printDateString(e);return i.Util.Type.exists(e.timezone)&&(t+=this.printTimezoneString(e.timezone)),t},printTime:function(e){i.Util.Ensure.ensureObject(e),i.Util.Ensure.ensureNumber(e.hour),i.Util.Ensure.ensureNumber(e.minute),i.Util.Ensure.ensureNumber(e.second),i.Util.Type.exists(e.fractionalString)&&i.Util.Ensure.ensureNumber(e.fractionalString),i.Util.Type.exists(e.timezone)&&!i.Util.Type.isNaN(e.timezone)&&i.Util.Ensure.ensureInteger(e.timezone);var t=this.printTimeString(e);return i.Util.Type.exists(e.timezone)&&(t+=this.printTimezoneString(e.timezone)),t},printDateString:function(e){return i.Util.Ensure.ensureObject(e),i.Util.Ensure.ensureInteger(e.year),i.Util.Ensure.ensureInteger(e.month),i.Util.Ensure.ensureInteger(e.day),(e.year<0?"-"+this.printYear(-e.year):this.printYear(e.year))+"-"+this.printMonth(e.month)+"-"+this.printDay(e.day)},printTimeString:function(e){i.Util.Ensure.ensureObject(e),i.Util.Ensure.ensureInteger(e.hour),i.Util.Ensure.ensureInteger(e.minute),i.Util.Ensure.ensureInteger(e.second),i.Util.Type.exists(e.fractionalSecond)&&i.Util.Ensure.ensureNumber(e.fractionalSecond);var t=this.printHour(e.hour);return t+=":",t+=this.printMinute(e.minute),t+=":",t+=this.printSecond(e.second),i.Util.Type.exists(e.fractionalSecond)&&(t+=this.printFractionalSecond(e.fractionalSecond)),t},printTimezoneString:function(e){if(!i.Util.Type.exists(e)||i.Util.Type.isNaN(e))return"";i.Util.Ensure.ensureInteger(e);var t,n=e<0?-1:e>0?1:0,r=e*n,a=r%60,o=Math.floor(r/60);return 0===n?"Z":(n>0?t="+":n<0&&(t="-"),t+=this.printHour(o),t+=":",t+=this.printMinute(a))},printGDay:function(e,t,n,r){i.Util.Ensure.ensureObject(e);var a=void 0,o=void 0;return e instanceof Date?a=e.getDate():(i.Util.Ensure.ensureInteger(e.day),a=e.day,o=e.timezone),i.XML.Calendar.validateDay(a),i.XML.Calendar.validateTimezone(o),"---"+this.printDay(a)+this.printTimezoneString(o)},printGMonth:function(e,t,n,r){i.Util.Ensure.ensureObject(e);var a=void 0,o=void 0;return e instanceof Date?a=e.getMonth()+1:(i.Util.Ensure.ensureInteger(e.month),a=e.month,o=e.timezone),i.XML.Calendar.validateMonth(a),i.XML.Calendar.validateTimezone(o),"--"+this.printMonth(a)+this.printTimezoneString(o)},printGMonthDay:function(e,t,n,r){i.Util.Ensure.ensureObject(e);var a=void 0,o=void 0,s=void 0;return e instanceof Date?(a=e.getMonth()+1,o=e.getDate()):(i.Util.Ensure.ensureInteger(e.month),i.Util.Ensure.ensureInteger(e.day),a=e.month,o=e.day,s=e.timezone),i.XML.Calendar.validateMonthDay(a,o),i.XML.Calendar.validateTimezone(s),"--"+this.printMonth(a)+"-"+this.printDay(o)+this.printTimezoneString(s)},printGYear:function(e,t,n,r){i.Util.Ensure.ensureObject(e);var a=void 0,o=void 0;return e instanceof Date?a=e.getFullYear():(i.Util.Ensure.ensureInteger(e.year),a=e.year,o=e.timezone),i.XML.Calendar.validateYear(a),i.XML.Calendar.validateTimezone(o),this.printSignedYear(a)+this.printTimezoneString(o)},printGYearMonth:function(e,t,n,r){i.Util.Ensure.ensureObject(e);var a=void 0,o=void 0,s=void 0;return e instanceof Date?(a=e.getFullYear(),o=e.getMonth()+1):(i.Util.Ensure.ensureInteger(e.year),a=e.year,o=e.month,s=e.timezone),i.XML.Calendar.validateYear(a),i.XML.Calendar.validateMonth(o),i.XML.Calendar.validateTimezone(s),this.printSignedYear(a)+"-"+this.printMonth(o)+this.printTimezoneString(s)},printSignedYear:function(e){return e<0?"-"+this.printYear(-1*e):this.printYear(e)},printYear:function(e){return this.printInteger(e,4)},printMonth:function(e){return this.printInteger(e,2)},printDay:function(e){return this.printInteger(e,2)},printHour:function(e){return this.printInteger(e,2)},printMinute:function(e){return this.printInteger(e,2)},printSecond:function(e){return this.printInteger(e,2)},printFractionalSecond:function(e){if(i.Util.Ensure.ensureNumber(e),e<0||e>=1)throw new Error("Fractional second ["+e+"] must be between 0 and 1.");if(0===e)return"";var t=String(e),n=t.indexOf(".");return n<0?"":t.substring(n)},printInteger:function(e,t){if(i.Util.Ensure.ensureInteger(e),i.Util.Ensure.ensureInteger(t),t<=0)throw new Error("Length ["+e+"] must be positive.");if(e<0)throw new Error("Value ["+e+"] must not be negative.");for(var n=String(e),r=n.length;r<t;r++)n="0"+n;return n},isInstance:function(e,t,n){return i.Util.Type.isObject(e)&&(i.Util.NumberUtils.isInteger(e.year)&&i.Util.NumberUtils.isInteger(e.month)&&i.Util.NumberUtils.isInteger(e.day)||i.Util.NumberUtils.isInteger(e.hour)&&i.Util.NumberUtils.isInteger(e.minute)&&i.Util.NumberUtils.isInteger(e.second))},CLASS_NAME:"Jsonix.Schema.XSD.Calendar"}),i.Schema.XSD.Calendar.YEAR_PATTERN="-?([1-9][0-9]*)?((?!(0000))[0-9]{4})",i.Schema.XSD.Calendar.TIMEZONE_PATTERN="Z|([\\-\\+])(((0[0-9]|1[0-3]):([0-5][0-9]))|(14:00))",i.Schema.XSD.Calendar.MONTH_PATTERN="(0[1-9]|1[0-2])",i.Schema.XSD.Calendar.SINGLE_MONTH_PATTERN="\\-\\-"+i.Schema.XSD.Calendar.MONTH_PATTERN,i.Schema.XSD.Calendar.DAY_PATTERN="(0[1-9]|[12][0-9]|3[01])",i.Schema.XSD.Calendar.SINGLE_DAY_PATTERN="\\-\\-\\-"+i.Schema.XSD.Calendar.DAY_PATTERN,i.Schema.XSD.Calendar.GYEAR_PATTERN="("+i.Schema.XSD.Calendar.YEAR_PATTERN+")("+i.Schema.XSD.Calendar.TIMEZONE_PATTERN+")?",i.Schema.XSD.Calendar.GMONTH_PATTERN="("+i.Schema.XSD.Calendar.SINGLE_MONTH_PATTERN+")("+i.Schema.XSD.Calendar.TIMEZONE_PATTERN+")?",i.Schema.XSD.Calendar.GDAY_PATTERN="("+i.Schema.XSD.Calendar.SINGLE_DAY_PATTERN+")("+i.Schema.XSD.Calendar.TIMEZONE_PATTERN+")?",i.Schema.XSD.Calendar.GYEAR_MONTH_PATTERN="("+i.Schema.XSD.Calendar.YEAR_PATTERN+")-("+i.Schema.XSD.Calendar.DAY_PATTERN+")("+i.Schema.XSD.Calendar.TIMEZONE_PATTERN+")?",i.Schema.XSD.Calendar.GMONTH_DAY_PATTERN="("+i.Schema.XSD.Calendar.SINGLE_MONTH_PATTERN+")-("+i.Schema.XSD.Calendar.DAY_PATTERN+")("+i.Schema.XSD.Calendar.TIMEZONE_PATTERN+")?",i.Schema.XSD.Calendar.DATE_PART_PATTERN="("+i.Schema.XSD.Calendar.YEAR_PATTERN+")-("+i.Schema.XSD.Calendar.MONTH_PATTERN+")-("+i.Schema.XSD.Calendar.DAY_PATTERN+")",i.Schema.XSD.Calendar.TIME_PART_PATTERN="([0-1][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])(\\.([0-9]+))?",i.Schema.XSD.Calendar.TIME_PATTERN=i.Schema.XSD.Calendar.TIME_PART_PATTERN+"("+i.Schema.XSD.Calendar.TIMEZONE_PATTERN+")?",i.Schema.XSD.Calendar.DATE_PATTERN=i.Schema.XSD.Calendar.DATE_PART_PATTERN+"("+i.Schema.XSD.Calendar.TIMEZONE_PATTERN+")?",i.Schema.XSD.Calendar.DATETIME_PATTERN=i.Schema.XSD.Calendar.DATE_PART_PATTERN+"T"+i.Schema.XSD.Calendar.TIME_PART_PATTERN+"("+i.Schema.XSD.Calendar.TIMEZONE_PATTERN+")?",i.Schema.XSD.Calendar.INSTANCE=new i.Schema.XSD.Calendar,i.Schema.XSD.Calendar.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.Calendar.INSTANCE),i.Schema.XSD.Duration=i.Class(i.Schema.XSD.AnySimpleType,{name:"Duration",typeName:i.Schema.XSD.qname("duration"),isInstance:function(e,t,n){return i.Util.Type.isObject(e)&&((!i.Util.Type.exists(e.sign)||-1===e.sign||1===e.sign)(i.Util.NumberUtils.isInteger(e.years)&&e.years>=0)||i.Util.NumberUtils.isInteger(e.months)&&e.months>=0||i.Util.NumberUtils.isInteger(e.days)&&e.days>=0||i.Util.NumberUtils.isInteger(e.hours)&&e.hours>=0||i.Util.NumberUtils.isInteger(e.minutes)&&e.minutes>=0||i.Util.Type.isNumber(e.seconds)&&e.seconds>=0)},validate:function(e){if(i.Util.Ensure.ensureObject(e),i.Util.Type.exists(e.sign)&&1!==e.sign&&-1!==e.sign)throw new Error("Sign of the duration ["+e.sign+"] must be either [1] or [-1].");var t=!0,n=function(e,t){if(i.Util.Type.exists(e)){if(i.Util.NumberUtils.isInteger(e)&&e>=0)return!0;throw new Error(t.replace("{0}",e))}return!1};if(t=(t=(t=(t=(t=(t=t&&!n(e.years,"Number of years [{0}] must be an unsigned integer."))&&!n(e.months,"Number of months [{0}] must be an unsigned integer."))&&!n(e.days,"Number of days [{0}] must be an unsigned integer."))&&!n(e.hours,"Number of hours [{0}] must be an unsigned integer."))&&!n(e.minutes,"Number of minutes [{0}] must be an unsigned integer."))&&!function(e,t){if(i.Util.Type.exists(e)){if(i.Util.Type.isNumber(e)&&e>=0)return!0;throw new Error("Number of seconds [{0}] must be an unsigned number.".replace("{0}",e))}return!1}(e.seconds))throw new Error("At least one of the components (years, months, days, hours, minutes, seconds) must be set.")},print:function(e,t,n,r){this.validate(e);var a="";return-1===e.sign&&(a+="-"),a+="P",i.Util.Type.exists(e.years)&&(a+=e.years+"Y"),i.Util.Type.exists(e.months)&&(a+=e.months+"M"),i.Util.Type.exists(e.days)&&(a+=e.days+"D"),(i.Util.Type.exists(e.hours)||i.Util.Type.exists(e.minutes)||i.Util.Type.exists(e.seconds))&&(a+="T",i.Util.Type.exists(e.hours)&&(a+=e.hours+"H"),i.Util.Type.exists(e.minutes)&&(a+=e.minutes+"M"),i.Util.Type.exists(e.seconds)&&(a+=e.seconds+"S")),a},parse:function(e,t,n,r){var a=new RegExp("^"+i.Schema.XSD.Duration.PATTERN+"$"),o=e.match(a);if(null!==o){var s={};return o[1]&&(s.sign=-1),o[3]&&(s.years=parseInt(o[3],10)),o[5]&&(s.months=parseInt(o[5],10)),o[7]&&(s.days=parseInt(o[7],10)),o[10]&&(s.hours=parseInt(o[10],10)),o[12]&&(s.minutes=parseInt(o[12],10)),o[14]&&(s.seconds=Number(o[14])),s}throw new Error("Value ["+e+"] does not match the duration pattern.")},CLASS_NAME:"Jsonix.Schema.XSD.Duration"}),i.Schema.XSD.Duration.PATTERN="(-)?P(([0-9]+)Y)?(([0-9]+)M)?(([0-9]+)D)?(T(([0-9]+)H)?(([0-9]+)M)?(([0-9]+(\\.[0-9]+)?)S)?)?",i.Schema.XSD.Duration.INSTANCE=new i.Schema.XSD.Duration,i.Schema.XSD.Duration.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.Duration.INSTANCE),i.Schema.XSD.DateTime=i.Class(i.Schema.XSD.Calendar,{name:"DateTime",typeName:i.Schema.XSD.qname("dateTime"),parse:function(e,t,n,i){return this.parseDateTime(e)},print:function(e,t,n,i){return this.printDateTime(e)},CLASS_NAME:"Jsonix.Schema.XSD.DateTime"}),i.Schema.XSD.DateTime.INSTANCE=new i.Schema.XSD.DateTime,i.Schema.XSD.DateTime.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.DateTime.INSTANCE),i.Schema.XSD.DateTimeAsDate=i.Class(i.Schema.XSD.Calendar,{name:"DateTimeAsDate",typeName:i.Schema.XSD.qname("dateTime"),parse:function(e,t,n,r){var a,o,s=this.parseDateTime(e),l=new Date;l.setFullYear(s.year),l.setMonth(s.month-1),l.setDate(s.day),l.setHours(s.hour),l.setMinutes(s.minute),l.setSeconds(s.second),i.Util.Type.isNumber(s.fractionalSecond)&&l.setMilliseconds(Math.floor(1e3*s.fractionalSecond));var u=-l.getTimezoneOffset();i.Util.NumberUtils.isInteger(s.timezone)?(a=s.timezone,o=!1):(a=u,o=!0);var c=new Date(l.getTime()+6e4*(-a+u));return c.originalTimezone=o?null:s.timezone,c},print:function(e,t,n,r){var a;i.Util.Ensure.ensureDate(e);var o,s=-e.getTimezoneOffset();return null===e.originalTimezone?this.printDateTime(new i.XML.Calendar({year:e.getFullYear(),month:e.getMonth()+1,day:e.getDate(),hour:e.getHours(),minute:e.getMinutes(),second:e.getSeconds(),fractionalSecond:e.getMilliseconds()/1e3})):(i.Util.NumberUtils.isInteger(e.originalTimezone)?(a=e.originalTimezone,o=new Date(e.getTime()-6e4*(-a+s))):(a=s,o=e),this.printDateTime(new i.XML.Calendar({year:o.getFullYear(),month:o.getMonth()+1,day:o.getDate(),hour:o.getHours(),minute:o.getMinutes(),second:o.getSeconds(),fractionalSecond:o.getMilliseconds()/1e3,timezone:a})))},isInstance:function(e,t,n){return i.Util.Type.isDate(e)},CLASS_NAME:"Jsonix.Schema.XSD.DateTimeAsDate"}),i.Schema.XSD.DateTimeAsDate.INSTANCE=new i.Schema.XSD.DateTimeAsDate,i.Schema.XSD.DateTimeAsDate.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.DateTimeAsDate.INSTANCE),i.Schema.XSD.Time=i.Class(i.Schema.XSD.Calendar,{name:"Time",typeName:i.Schema.XSD.qname("time"),parse:function(e,t,n,i){return this.parseTime(e)},print:function(e,t,n,i){return this.printTime(e)},CLASS_NAME:"Jsonix.Schema.XSD.Time"}),i.Schema.XSD.Time.INSTANCE=new i.Schema.XSD.Time,i.Schema.XSD.Time.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.Time.INSTANCE),i.Schema.XSD.TimeAsDate=i.Class(i.Schema.XSD.Calendar,{name:"TimeAsDate",typeName:i.Schema.XSD.qname("time"),parse:function(e,t,n,r){var a,o,s=this.parseTime(e),l=new Date;l.setFullYear(1970),l.setMonth(0),l.setDate(1),l.setHours(s.hour),l.setMinutes(s.minute),l.setSeconds(s.second),i.Util.Type.isNumber(s.fractionalSecond)&&l.setMilliseconds(Math.floor(1e3*s.fractionalSecond));var u=-l.getTimezoneOffset();i.Util.NumberUtils.isInteger(s.timezone)?(a=s.timezone,o=!1):(a=u,o=!0);var c=new Date(l.getTime()+6e4*(-a+u));return c.originalTimezone=o?null:a,c},print:function(e,t,n,r){i.Util.Ensure.ensureDate(e);var a=e.getTime();if(a<=-864e5&&a>=864e5)throw new Error("Invalid time ["+e+"].");if(null===e.originalTimezone)return this.printTime(new i.XML.Calendar({hour:e.getHours(),minute:e.getMinutes(),second:e.getSeconds(),fractionalSecond:e.getMilliseconds()/1e3}));var o,s,l=-e.getTimezoneOffset();i.Util.NumberUtils.isInteger(e.originalTimezone)?(s=e.originalTimezone,o=new Date(e.getTime()-6e4*(-s+l))):(s=l,o=e);var u=o.getTime();if(u>=6e4*-l)return this.printTime(new i.XML.Calendar({hour:o.getHours(),minute:o.getMinutes(),second:o.getSeconds(),fractionalSecond:o.getMilliseconds()/1e3,timezone:s}));var c=Math.ceil(-u/36e5),h=o.getSeconds()+60*o.getMinutes()+3600*o.getHours()+3600*c-60*s;return this.printTime(new i.XML.Calendar({hour:h%86400,minute:h%3600,second:h%60,fractionalSecond:o.getMilliseconds()/1e3,timezone:60*c}))},isInstance:function(e,t,n){return i.Util.Type.isDate(e)&&e.getTime()>-864e5&&e.getTime()<864e5},CLASS_NAME:"Jsonix.Schema.XSD.TimeAsDate"}),i.Schema.XSD.TimeAsDate.INSTANCE=new i.Schema.XSD.TimeAsDate,i.Schema.XSD.TimeAsDate.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.TimeAsDate.INSTANCE),i.Schema.XSD.Date=i.Class(i.Schema.XSD.Calendar,{name:"Date",typeName:i.Schema.XSD.qname("date"),parse:function(e,t,n,i){return this.parseDate(e)},print:function(e,t,n,i){return this.printDate(e)},CLASS_NAME:"Jsonix.Schema.XSD.Date"}),i.Schema.XSD.Date.INSTANCE=new i.Schema.XSD.Date,i.Schema.XSD.Date.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.Date.INSTANCE),i.Schema.XSD.DateAsDate=i.Class(i.Schema.XSD.Calendar,{name:"DateAsDate",typeName:i.Schema.XSD.qname("date"),parse:function(e,t,n,r){var a,o,s=this.parseDate(e),l=new Date;l.setFullYear(s.year),l.setMonth(s.month-1),l.setDate(s.day),l.setHours(0),l.setMinutes(0),l.setSeconds(0),l.setMilliseconds(0),i.Util.Type.isNumber(s.fractionalSecond)&&l.setMilliseconds(Math.floor(1e3*s.fractionalSecond));var u=-l.getTimezoneOffset();i.Util.NumberUtils.isInteger(s.timezone)?(a=s.timezone,o=!1):(a=u,o=!0);var c=new Date(l.getTime()+6e4*(-a+u));return c.originalTimezone=o?null:a,c},print:function(e,t,n,r){i.Util.Ensure.ensureDate(e);var a=new Date(e.getTime());if(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0),null===e.originalTimezone)return this.printDate(new i.XML.Calendar({year:e.getFullYear(),month:e.getMonth()+1,day:e.getDate()}));if(i.Util.NumberUtils.isInteger(e.originalTimezone)){var o=new Date(e.getTime()-6e4*(-e.originalTimezone-e.getTimezoneOffset()));return this.printDate(new i.XML.Calendar({year:o.getFullYear(),month:o.getMonth()+1,day:o.getDate(),timezone:e.originalTimezone}))}var s=-e.getTime()+a.getTime();if(0===s)return this.printDate(new i.XML.Calendar({year:e.getFullYear(),month:e.getMonth()+1,day:e.getDate()}));var l=s-6e4*e.getTimezoneOffset();if(l>=-432e5)return this.printDate(new i.XML.Calendar({year:e.getFullYear(),month:e.getMonth()+1,day:e.getDate(),timezone:Math.floor(l/6e4)}));var u=new Date(e.getTime()+864e5);return this.printDate(new i.XML.Calendar({year:u.getFullYear(),month:u.getMonth()+1,day:u.getDate(),timezone:Math.floor(l/6e4)+1440}))},isInstance:function(e,t,n){return i.Util.Type.isDate(e)},CLASS_NAME:"Jsonix.Schema.XSD.DateAsDate"}),i.Schema.XSD.DateAsDate.INSTANCE=new i.Schema.XSD.DateAsDate,i.Schema.XSD.DateAsDate.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.DateAsDate.INSTANCE),i.Schema.XSD.GYearMonth=i.Class(i.Schema.XSD.Calendar,{name:"GYearMonth",typeName:i.Schema.XSD.qname("gYearMonth"),CLASS_NAME:"Jsonix.Schema.XSD.GYearMonth",parse:function(e,t,n,i){return this.parseGYearMonth(e,t,n,i)},print:function(e,t,n,i){return this.printGYearMonth(e,t,n,i)}}),i.Schema.XSD.GYearMonth.INSTANCE=new i.Schema.XSD.GYearMonth,i.Schema.XSD.GYearMonth.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.GYearMonth.INSTANCE),i.Schema.XSD.GYear=i.Class(i.Schema.XSD.Calendar,{name:"GYear",typeName:i.Schema.XSD.qname("gYear"),CLASS_NAME:"Jsonix.Schema.XSD.GYear",parse:function(e,t,n,i){return this.parseGYear(e,t,n,i)},print:function(e,t,n,i){return this.printGYear(e,t,n,i)}}),i.Schema.XSD.GYear.INSTANCE=new i.Schema.XSD.GYear,i.Schema.XSD.GYear.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.GYear.INSTANCE),i.Schema.XSD.GMonthDay=i.Class(i.Schema.XSD.Calendar,{name:"GMonthDay",typeName:i.Schema.XSD.qname("gMonthDay"),CLASS_NAME:"Jsonix.Schema.XSD.GMonthDay",parse:function(e,t,n,i){return this.parseGMonthDay(e,t,n,i)},print:function(e,t,n,i){return this.printGMonthDay(e,t,n,i)}}),i.Schema.XSD.GMonthDay.INSTANCE=new i.Schema.XSD.GMonthDay,i.Schema.XSD.GMonthDay.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.GMonthDay.INSTANCE),i.Schema.XSD.GDay=i.Class(i.Schema.XSD.Calendar,{name:"GDay",typeName:i.Schema.XSD.qname("gDay"),CLASS_NAME:"Jsonix.Schema.XSD.GDay",parse:function(e,t,n,i){return this.parseGDay(e,t,n,i)},print:function(e,t,n,i){return this.printGDay(e,t,n,i)}}),i.Schema.XSD.GDay.INSTANCE=new i.Schema.XSD.GDay,i.Schema.XSD.GDay.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.GDay.INSTANCE),i.Schema.XSD.GMonth=i.Class(i.Schema.XSD.Calendar,{name:"GMonth",typeName:i.Schema.XSD.qname("gMonth"),CLASS_NAME:"Jsonix.Schema.XSD.GMonth",parse:function(e,t,n,i){return this.parseGMonth(e,t,n,i)},print:function(e,t,n,i){return this.printGMonth(e,t,n,i)}}),i.Schema.XSD.GMonth.INSTANCE=new i.Schema.XSD.GMonth,i.Schema.XSD.GMonth.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.GMonth.INSTANCE),i.Schema.XSD.ID=i.Class(i.Schema.XSD.String,{name:"ID",typeName:i.Schema.XSD.qname("ID"),CLASS_NAME:"Jsonix.Schema.XSD.ID"}),i.Schema.XSD.ID.INSTANCE=new i.Schema.XSD.ID,i.Schema.XSD.ID.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.ID.INSTANCE),i.Schema.XSD.IDREF=i.Class(i.Schema.XSD.String,{name:"IDREF",typeName:i.Schema.XSD.qname("IDREF"),CLASS_NAME:"Jsonix.Schema.XSD.IDREF"}),i.Schema.XSD.IDREF.INSTANCE=new i.Schema.XSD.IDREF,i.Schema.XSD.IDREF.INSTANCE.LIST=new i.Schema.XSD.List(i.Schema.XSD.IDREF.INSTANCE),i.Schema.XSD.IDREFS=i.Class(i.Schema.XSD.List,{name:"IDREFS",initialize:function(){i.Schema.XSD.List.prototype.initialize.apply(this,[i.Schema.XSD.IDREF.INSTANCE,i.Schema.XSD.qname("IDREFS")," "])},CLASS_NAME:"Jsonix.Schema.XSD.IDREFS"}),i.Schema.XSD.IDREFS.INSTANCE=new i.Schema.XSD.IDREFS,i.Schema.XSI={},i.Schema.XSI.NAMESPACE_URI="http://www.w3.org/2001/XMLSchema-instance",i.Schema.XSI.PREFIX="xsi",i.Schema.XSI.TYPE="type",i.Schema.XSI.NIL="nil",i.Schema.XSI.qname=function(e){return i.Util.Ensure.ensureString(e),new i.XML.QName(i.Schema.XSI.NAMESPACE_URI,e,i.Schema.XSI.PREFIX)},i.Schema.XSI.TYPE_QNAME=i.Schema.XSI.qname(i.Schema.XSI.TYPE),i.Context=i.Class(i.Mapping.Styled,{modules:[],typeInfos:null,typeNameKeyToTypeInfo:null,elementInfos:null,options:null,substitutionMembersMap:null,scopedElementInfosMap:null,supportXsiType:!0,initialize:function(e,t){for(var n in i.Mapping.Styled.prototype.initialize.apply(this,[t]),this.modules=[],this.elementInfos=[],this.typeInfos={},this.typeNameKeyToTypeInfo={},this.registerBuiltinTypeInfos(),this.namespacePrefixes={},this.prefixNamespaces={},this.substitutionMembersMap={},this.scopedElementInfosMap={},i.Util.Type.exists(t)&&(i.Util.Ensure.ensureObject(t),i.Util.Type.isObject(t.namespacePrefixes)&&(this.namespacePrefixes=i.Util.Type.cloneObject(t.namespacePrefixes,{})),i.Util.Type.isBoolean(t.supportXsiType)&&(this.supportXsiType=t.supportXsiType)),this.namespacePrefixes)this.namespacePrefixes.hasOwnProperty(n)&&(p=this.namespacePrefixes[n],this.prefixNamespaces[p]=n);var r,a;if(i.Util.Type.exists(e))for(i.Util.Ensure.ensureArray(e),r=0;r<e.length;r++)a=this.createModule(e[r]),this.modules[r]=a;this.processModules()},createModule:function(e){var t;return e instanceof this.mappingStyle.module?t=e:(e=i.Util.Type.cloneObject(e),t=new this.mappingStyle.module(e,{mappingStyle:this.mappingStyle})),t},registerBuiltinTypeInfos:function(){for(var e=0;e<this.builtinTypeInfos.length;e++)this.registerTypeInfo(this.builtinTypeInfos[e])},processModules:function(){var e;for(e=0;e<this.modules.length;e++)this.modules[e].registerTypeInfos(this);for(e=0;e<this.modules.length;e++)this.modules[e].registerElementInfos(this);for(e=0;e<this.modules.length;e++)this.modules[e].buildTypeInfos(this);for(e=0;e<this.modules.length;e++)this.modules[e].buildElementInfos(this)},registerTypeInfo:function(e){i.Util.Ensure.ensureObject(e);var t=e.name||e.n||null;i.Util.Ensure.ensureString(t),this.typeInfos[t]=e,e.typeName&&e.typeName.key&&(this.typeNameKeyToTypeInfo[e.typeName.key]=e)},resolveTypeInfo:function(e,t){if(i.Util.Type.exists(e)){if(e instanceof i.Model.TypeInfo)return e;if(i.Util.Type.isString(e)){var n;if(e.length>0&&"."===e.charAt(0)){var r=t.name||t.n||void 0;i.Util.Ensure.ensureObject(t,"Type info mapping can only be resolved if module is provided."),i.Util.Ensure.ensureString(r,"Type info mapping can only be resolved if module name is provided."),n=r+e}else n=e;if(this.typeInfos[n])return this.typeInfos[n];throw new Error("Type info ["+n+"] is not known in this context.")}i.Util.Ensure.ensureObject(t,"Type info mapping can only be resolved if module is provided.");var a=t.createTypeInfo(e);return a.build(this,t),a}return null},registerElementInfo:function(e,t){if(i.Util.Ensure.ensureObject(e),this.elementInfos.push(e),i.Util.Type.exists(e.substitutionHead)){var n=e.substitutionHead.key,r=this.substitutionMembersMap[n];i.Util.Type.isArray(r)||(this.substitutionMembersMap[n]=r=[]),r.push(e)}var a;a=i.Util.Type.exists(e.scope)?this.resolveTypeInfo(e.scope,t).name:"##global";var o=this.scopedElementInfosMap[a];i.Util.Type.isObject(o)||(this.scopedElementInfosMap[a]=o={}),o[e.elementName.key]=e},getTypeInfoByValue:function(e){if(i.Util.Type.exists(e)&&i.Util.Type.isObject(e)){var t=e.TYPE_NAME;if(i.Util.Type.isString(t)){var n=this.getTypeInfoByName(t);if(n)return n}}},getTypeInfoByName:function(e){return this.typeInfos[e]},getTypeInfoByTypeName:function(e){var t=i.XML.QName.fromObjectOrString(e,this);return this.typeNameKeyToTypeInfo[t.key]},getTypeInfoByTypeNameKey:function(e){return this.typeNameKeyToTypeInfo[e]},getElementInfo:function(e,t){if(i.Util.Type.exists(t)){var n=this.scopedElementInfosMap[t.name];if(i.Util.Type.exists(n)){var r=n[e.key];if(i.Util.Type.exists(r))return r}}var a=this.scopedElementInfosMap["##global"];if(i.Util.Type.exists(a)){var o=a[e.key];if(i.Util.Type.exists(o))return o}return null},getSubstitutionMembers:function(e){return this.substitutionMembersMap[i.XML.QName.fromObject(e).key]},createMarshaller:function(){return new this.mappingStyle.marshaller(this)},createUnmarshaller:function(){return new this.mappingStyle.unmarshaller(this)},getNamespaceURI:function(e){return i.Util.Ensure.ensureString(e),this.prefixNamespaces[e]},getPrefix:function(e,t){i.Util.Ensure.ensureString(e);var n=this.namespacePrefixes[e];return i.Util.Type.isString(n)?n:t},builtinTypeInfos:[i.Schema.XSD.AnyType.INSTANCE,i.Schema.XSD.AnySimpleType.INSTANCE,i.Schema.XSD.AnyURI.INSTANCE,i.Schema.XSD.Base64Binary.INSTANCE,i.Schema.XSD.Boolean.INSTANCE,i.Schema.XSD.Byte.INSTANCE,i.Schema.XSD.Calendar.INSTANCE,i.Schema.XSD.DateAsDate.INSTANCE,i.Schema.XSD.Date.INSTANCE,i.Schema.XSD.DateTimeAsDate.INSTANCE,i.Schema.XSD.DateTime.INSTANCE,i.Schema.XSD.Decimal.INSTANCE,i.Schema.XSD.Double.INSTANCE,i.Schema.XSD.Duration.INSTANCE,i.Schema.XSD.Float.INSTANCE,i.Schema.XSD.GDay.INSTANCE,i.Schema.XSD.GMonth.INSTANCE,i.Schema.XSD.GMonthDay.INSTANCE,i.Schema.XSD.GYear.INSTANCE,i.Schema.XSD.GYearMonth.INSTANCE,i.Schema.XSD.HexBinary.INSTANCE,i.Schema.XSD.ID.INSTANCE,i.Schema.XSD.IDREF.INSTANCE,i.Schema.XSD.IDREFS.INSTANCE,i.Schema.XSD.Int.INSTANCE,i.Schema.XSD.Integer.INSTANCE,i.Schema.XSD.Language.INSTANCE,i.Schema.XSD.Long.INSTANCE,i.Schema.XSD.Name.INSTANCE,i.Schema.XSD.NCName.INSTANCE,i.Schema.XSD.NegativeInteger.INSTANCE,i.Schema.XSD.NMToken.INSTANCE,i.Schema.XSD.NMTokens.INSTANCE,i.Schema.XSD.NonNegativeInteger.INSTANCE,i.Schema.XSD.NonPositiveInteger.INSTANCE,i.Schema.XSD.NormalizedString.INSTANCE,i.Schema.XSD.Number.INSTANCE,i.Schema.XSD.PositiveInteger.INSTANCE,i.Schema.XSD.QName.INSTANCE,i.Schema.XSD.Short.INSTANCE,i.Schema.XSD.String.INSTANCE,i.Schema.XSD.Strings.INSTANCE,i.Schema.XSD.TimeAsDate.INSTANCE,i.Schema.XSD.Time.INSTANCE,i.Schema.XSD.Token.INSTANCE,i.Schema.XSD.UnsignedByte.INSTANCE,i.Schema.XSD.UnsignedInt.INSTANCE,i.Schema.XSD.UnsignedLong.INSTANCE,i.Schema.XSD.UnsignedShort.INSTANCE],CLASS_NAME:"Jsonix.Context"}),{Jsonix:i}};if("function"!=typeof i)if("undefined"!=typeof window||process.browser)e.exports=t();else{var i=n("B9Yq")(e);i(["xmldom","xmlhttprequest","fs"],t)}else i([],t)}).call(this,n("YuTi")(e))},dvVV:function(e,t,n){"use strict";function i(e,t,n){return void 0===n&&(n=[0,0]),n[0]=e[0]+2*t,n[1]=e[1]+2*t,n}function r(e){return e[0]>0&&e[1]>0}function a(e,t,n){return void 0===n&&(n=[0,0]),n[0]=e[0]*t+.5|0,n[1]=e[1]*t+.5|0,n}function o(e,t){return Array.isArray(e)?e:(void 0===t?t=[e,e]:(t[0]=e,t[1]=e),t)}n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return o})},e4iU:function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"d",function(){return r}),n.d(t,"e",function(){return a}),n.d(t,"f",function(){return o}),n.d(t,"b",function(){return s}),n.d(t,"a",function(){return l}),n.d(t,"g",function(){return h});var i="ol-hidden",r="ol-selectable",a="ol-unselectable",o="ol-unsupported",s="ol-control",l="ol-collapsed",u=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),c=["style","variant","weight","size","lineHeight","family"],h=function(e){var t=e.match(u);if(!t)return null;for(var n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},i=0,r=c.length;i<r;++i){var a=t[i+1];void 0!==a&&(n[c[i]]=a)}return n.families=n.family.split(/,\s?/),n}},eByC:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=new WeakMap,r=function(e){return"function"==typeof e&&i.has(e)}},eGOI:function(e,t,n){"use strict";var i=n("c73X"),r=n("o5qb"),a=n("wRPv"),o=n("aBeY"),s=n("X87I"),l=n("2cyL"),u=n("W74l"),c=n("7tkq"),h=n("eRUA"),d=n.n(h),f=n("wEYg"),p=n("gOFd"),m=n("Msoz"),v=n("Lz6x"),g=n("G7/A"),S=n("i3ci"),w=n("Znq9"),x=n("iB0p");function E(e,t,n){if(3===e){var i={keys:[],values:[],features:[]},r=n.readVarint()+n.pos;n.readFields(C,i,r),i.length=i.features.length,i.length&&(t[i.name]=i)}}function C(e,t,n){if(15===e)t.version=n.readVarint();else if(1===e)t.name=n.readString();else if(5===e)t.extent=n.readVarint();else if(2===e)t.features.push(n.pos);else if(3===e)t.keys.push(n.readString());else if(4===e){for(var i=null,r=n.readVarint()+n.pos;n.pos<r;)i=1==(e=n.readVarint()>>3)?n.readString():2===e?n.readFloat():3===e?n.readDouble():4===e?n.readVarint64():5===e?n.readVarint():6===e?n.readSVarint():7===e?n.readBoolean():null;t.values.push(i)}}function k(e,t,n){if(1==e)t.id=n.readVarint();else if(2==e)for(var i=n.readVarint()+n.pos;n.pos<i;){var r=t.layer.keys[n.readVarint()],a=t.layer.values[n.readVarint()];t.properties[r]=a}else 3==e?t.type=n.readVarint():4==e&&(t.geometry=n.pos)}function M(e,t,n){e.pos=t.features[n];var i=e.readVarint()+e.pos,r={layer:t,type:0,properties:{}};return e.readFields(k,r,i),r}t.a=function(e){b(n,e);var t=T(n);function n(e){var i;_(this,n);var r=e||{};return(i=t.call(this)).dataProjection=new m.a({code:"",units:g.b.TILE_PIXELS}),i.featureClass_=r.featureClass?r.featureClass:v.a,i.geometryName_=r.geometryName,i.layerName_=r.layerName?r.layerName:"layer",i.layers_=r.layers?r.layers:null,i.idProperty_=r.idProperty,i}return y(n,[{key:"readRawGeometry_",value:function(e,t,n,i){e.pos=t.geometry;for(var r=e.readVarint()+e.pos,a=1,o=0,s=0,l=0,u=0,c=0;e.pos<r;){if(!o){var h=e.readVarint();a=7&h,o=h>>3}o--,1===a||2===a?(s+=e.readSVarint(),l+=e.readSVarint(),1===a&&u>c&&(i.push(u),c=u),n.push(s,l),u+=2):7===a?u>c&&(n.push(n[c],n[c+1]),u+=2):Object(S.a)(!1,59)}u>c&&(i.push(u),c=u)}},{key:"createFeature_",value:function(e,t,n){var r,h=t.type;if(0===h)return null;var d,m=t.properties;this.idProperty_?(d=m[this.idProperty_],delete m[this.idProperty_]):d=t.id,m[this.layerName_]=t.layer.name;var g=[],y=[];this.readRawGeometry_(e,t,g,y);var _=function(e,t){var n;return 1===e?n=1===t?o.a.POINT:o.a.MULTI_POINT:2===e?n=1===t?o.a.LINE_STRING:o.a.MULTI_LINE_STRING:3===e&&(n=o.a.POLYGON),n}(h,y.length);if(this.featureClass_===v.a)(r=new this.featureClass_(_,g,y,m,d)).transform(n.dataProjection);else{var b;if(_==o.a.POLYGON){for(var S=[],T=0,w=0,E=0,C=y.length;E<C;++E){var k=y[E];if(Object(x.a)(g,T,k,2)){if(0===S.length)continue;S[S.length-1].push(y[w])}else S.push(y.slice(w,E+1));w=E+1,T=k}b=S.length>1?new c.a(g,a.a.XY,S):new p.a(g,a.a.XY,y)}else b=_===o.a.POINT?new f.a(g,a.a.XY):_===o.a.LINE_STRING?new s.a(g,a.a.XY):_===o.a.POLYGON?new p.a(g,a.a.XY,y):_===o.a.MULTI_POINT?new u.a(g,a.a.XY):_===o.a.MULTI_LINE_STRING?new l.a(g,a.a.XY,y):null;r=new(0,this.featureClass_),this.geometryName_&&r.setGeometryName(this.geometryName_);var M=Object(i.b)(b,!1,n);r.setGeometry(M),r.setId(d),r.setProperties(m,!0)}return r}},{key:"getType",value:function(){return r.a.ARRAY_BUFFER}},{key:"readFeatures",value:function(e,t){var n=this.layers_,i=this.adaptOptions(t),r=Object(w.i)(i.dataProjection);r.setWorldExtent(i.extent),i.dataProjection=r;var a=new d.a(e),o=a.readFields(E,{}),s=[];for(var l in o)if(!n||-1!=n.indexOf(l)){var u=o[l];r.setExtent(u?[0,0,u.extent,u.extent]:null);for(var c=0,h=u.length;c<h;++c){var f=M(a,u,c);s.push(this.createFeature_(a,f,i))}}return s}},{key:"readProjection",value:function(e){return this.dataProjection}},{key:"setLayers",value:function(e){this.layers_=e}}]),n}(i.a)},eIep:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("lJxs"),r=n("Cfvw"),a=n("zx2A");function o(e,t){return"function"==typeof t?function(n){return n.pipe(o(function(n,a){return Object(r.a)(e(n,a)).pipe(Object(i.a)(function(e,i){return t(n,e,a,i)}))}))}:function(t){return t.lift(new s(e))}}var s=function(){function e(t){_(this,e),this.project=t}return y(e,[{key:"call",value:function(e,t){return t.subscribe(new l(e,this.project))}}]),e}(),l=function(e){b(n,e);var t=T(n);function n(e,i){var r;return _(this,n),(r=t.call(this,e)).project=i,r.index=0,r}return y(n,[{key:"_next",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(i){return void this.destination.error(i)}this._innerSub(t)}},{key:"_innerSub",value:function(e){var t=this.innerSubscription;t&&t.unsubscribe();var n=new a.a(this),i=this.destination;i.add(n),this.innerSubscription=Object(a.c)(e,n),this.innerSubscription!==n&&i.add(this.innerSubscription)}},{key:"_complete",value:function(){var e=this.innerSubscription;e&&!e.closed||v(C(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=void 0}},{key:"notifyComplete",value:function(){this.innerSubscription=void 0,this.isStopped&&v(C(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(e){this.destination.next(e)}}]),n}(a.b)},eRUA:function(e,t,n){"use strict";e.exports=r;var i=n("kVK+");function r(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}r.Varint=0,r.Fixed64=1,r.Bytes=2,r.Fixed32=5;var a="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function o(e){return e.type===r.Bytes?e.readVarint()+e.pos:e.pos+1}function s(e,t,n){return n?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function l(e,t,n){var i=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));n.realloc(i);for(var r=n.pos-1;r>=e;r--)n.buf[r+i]=n.buf[r]}function u(e,t){for(var n=0;n<e.length;n++)t.writeVarint(e[n])}function c(e,t){for(var n=0;n<e.length;n++)t.writeSVarint(e[n])}function h(e,t){for(var n=0;n<e.length;n++)t.writeFloat(e[n])}function d(e,t){for(var n=0;n<e.length;n++)t.writeDouble(e[n])}function f(e,t){for(var n=0;n<e.length;n++)t.writeBoolean(e[n])}function p(e,t){for(var n=0;n<e.length;n++)t.writeFixed32(e[n])}function m(e,t){for(var n=0;n<e.length;n++)t.writeSFixed32(e[n])}function v(e,t){for(var n=0;n<e.length;n++)t.writeFixed64(e[n])}function g(e,t){for(var n=0;n<e.length;n++)t.writeSFixed64(e[n])}function y(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function _(e,t,n){e[n]=t,e[n+1]=t>>>8,e[n+2]=t>>>16,e[n+3]=t>>>24}function b(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}r.prototype={destroy:function(){this.buf=null},readFields:function(e,t,n){for(n=n||this.length;this.pos<n;){var i=this.readVarint(),r=i>>3,a=this.pos;this.type=7&i,e(r,t,this),this.pos===a&&this.skip(i)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=y(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=b(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=y(this.buf,this.pos)+4294967296*y(this.buf,this.pos+4);return this.pos+=8,e},readSFixed64:function(){var e=y(this.buf,this.pos)+4294967296*b(this.buf,this.pos+4);return this.pos+=8,e},readFloat:function(){var e=i.read(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=i.read(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,n,i=this.buf;return t=127&(n=i[this.pos++]),n<128?t:(t|=(127&(n=i[this.pos++]))<<7,n<128?t:(t|=(127&(n=i[this.pos++]))<<14,n<128?t:(t|=(127&(n=i[this.pos++]))<<21,n<128?t:function(e,t,n){var i,r,a=n.buf;if(i=(112&(r=a[n.pos++]))>>4,r<128)return s(e,i,t);if(i|=(127&(r=a[n.pos++]))<<3,r<128)return s(e,i,t);if(i|=(127&(r=a[n.pos++]))<<10,r<128)return s(e,i,t);if(i|=(127&(r=a[n.pos++]))<<17,r<128)return s(e,i,t);if(i|=(127&(r=a[n.pos++]))<<24,r<128)return s(e,i,t);if(i|=(1&(r=a[n.pos++]))<<31,r<128)return s(e,i,t);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(n=i[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=12&&a?function(e,t,n){return a.decode(e.subarray(t,n))}(this.buf,t,e):function(e,t,n){for(var i="",r=t;r<n;){var a,o,s,l=e[r],u=null,c=l>239?4:l>223?3:l>191?2:1;if(r+c>n)break;1===c?l<128&&(u=l):2===c?128==(192&(a=e[r+1]))&&(u=(31&l)<<6|63&a)<=127&&(u=null):3===c?(o=e[r+2],128==(192&(a=e[r+1]))&&128==(192&o)&&((u=(15&l)<<12|(63&a)<<6|63&o)<=2047||u>=55296&&u<=57343)&&(u=null)):4===c&&(o=e[r+2],s=e[r+3],128==(192&(a=e[r+1]))&&128==(192&o)&&128==(192&s)&&((u=(15&l)<<18|(63&a)<<12|(63&o)<<6|63&s)<=65535||u>=1114112)&&(u=null)),null===u?(u=65533,c=1):u>65535&&(u-=65536,i+=String.fromCharCode(u>>>10&1023|55296),u=56320|1023&u),i+=String.fromCharCode(u),r+=c}return i}(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==r.Bytes)return e.push(this.readVarint(t));var n=o(this);for(e=e||[];this.pos<n;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==r.Bytes)return e.push(this.readSVarint());var t=o(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==r.Bytes)return e.push(this.readBoolean());var t=o(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==r.Bytes)return e.push(this.readFloat());var t=o(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==r.Bytes)return e.push(this.readDouble());var t=o(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==r.Bytes)return e.push(this.readFixed32());var t=o(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==r.Bytes)return e.push(this.readSFixed32());var t=o(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==r.Bytes)return e.push(this.readFixed64());var t=o(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==r.Bytes)return e.push(this.readSFixed64());var t=o(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===r.Varint)for(;this.buf[this.pos++]>127;);else if(t===r.Bytes)this.pos=this.readVarint()+this.pos;else if(t===r.Fixed32)this.pos+=4;else{if(t!==r.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var n=new Uint8Array(t);n.set(this.buf),this.buf=n,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),_(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),_(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),_(this.buf,-1&e,this.pos),_(this.buf,Math.floor(2.3283064365386963e-10*e),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),_(this.buf,-1&e,this.pos),_(this.buf,Math.floor(2.3283064365386963e-10*e),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(e,t){var n,i;if(e>=0?(n=e%4294967296|0,i=e/4294967296|0):(i=~(-e/4294967296),4294967295^(n=~(-e%4294967296))?n=n+1|0:(n=0,i=i+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),function(e,t,n){n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,n.buf[n.pos]=127&(e>>>=7)}(n,0,t),function(e,t){var n=(7&e)<<4;t.buf[t.pos++]|=n|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e)))))}(i,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,n){for(var i,r,a=0;a<t.length;a++){if((i=t.charCodeAt(a))>55295&&i<57344){if(!r){i>56319||a+1===t.length?(e[n++]=239,e[n++]=191,e[n++]=189):r=i;continue}if(i<56320){e[n++]=239,e[n++]=191,e[n++]=189,r=i;continue}i=r-55296<<10|i-56320|65536,r=null}else r&&(e[n++]=239,e[n++]=191,e[n++]=189,r=null);i<128?e[n++]=i:(i<2048?e[n++]=i>>6|192:(i<65536?e[n++]=i>>12|224:(e[n++]=i>>18|240,e[n++]=i>>12&63|128),e[n++]=i>>6&63|128),e[n++]=63&i|128)}return n}(this.buf,e,this.pos);var n=this.pos-t;n>=128&&l(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n},writeFloat:function(e){this.realloc(4),i.write(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),i.write(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var n=0;n<t;n++)this.buf[this.pos++]=e[n]},writeRawMessage:function(e,t){this.pos++;var n=this.pos;e(t,this);var i=this.pos-n;i>=128&&l(n,i,this),this.pos=n-1,this.writeVarint(i),this.pos+=i},writeMessage:function(e,t,n){this.writeTag(e,r.Bytes),this.writeRawMessage(t,n)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,u,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,c,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,f,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,h,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,d,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,p,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,m,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,v,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,g,t)},writeBytesField:function(e,t){this.writeTag(e,r.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,r.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,r.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,r.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,r.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,r.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,r.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,r.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,r.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,r.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}}},eW8D:function(e,t,n){var i,r;void 0===(r="function"==typeof(i=function(){return{SMIL_2_0_Language:{n:"SMIL_2_0_Language",dens:"http://www.w3.org/2001/SMIL20/Language",deps:["SMIL_2_0"],tis:[{ln:"AnimateColorType",tn:"animateColorType",bti:"SMIL_2_0.AnimateColorPrototype",ps:[{n:"otherAttributes",t:"aa"},{n:"any",mno:0,col:!0,mx:!1,t:"ae"},{n:"syncBehaviorDefault",an:{lp:"syncBehaviorDefault"},t:"a"},{n:"syncToleranceDefault",an:{lp:"syncToleranceDefault"},t:"a"},{n:"min",an:{lp:"min"},t:"a"},{n:"max",an:{lp:"max"},t:"a"},{n:"begin",an:{lp:"begin"},t:"a"},{n:"end",an:{lp:"end"},t:"a"},{n:"repeatDur",an:{lp:"repeatDur"},t:"a"},{n:"repeatCount",ti:"Decimal",an:{lp:"repeatCount"},t:"a"},{n:"dur",an:{lp:"dur"},t:"a"},{n:"repeat",ti:"NonNegativeInteger",an:{lp:"repeat"},t:"a"},{n:"fillDefault",an:{lp:"fillDefault"},t:"a"},{n:"restart",an:{lp:"restart"},t:"a"},{n:"restartDefault",an:{lp:"restartDefault"},t:"a"},{n:"syncBehavior",an:{lp:"syncBehavior"},t:"a"},{n:"syncTolerance",an:{lp:"syncTolerance"},t:"a"},{n:"fill",an:{lp:"fill"},t:"a"},{n:"skipContent",ti:"Boolean",an:{lp:"skip-content"},t:"a"},{n:"alt",an:{lp:"alt"},t:"a"},{n:"longdesc",an:{lp:"longdesc"},t:"a"},{n:"id",ti:"ID",an:{lp:"id"},t:"a"},{n:"clazz",an:{lp:"class"},t:"a"},{n:"lang",an:{lp:"lang",ns:"http://www.w3.org/XML/1998/namespace"},t:"a"},{n:"targetElement",ti:"IDREF",an:{lp:"targetElement"},t:"a"},{n:"calcMode",an:{lp:"calcMode"},t:"a"}]},{ln:"SetType",tn:"setType",bti:"SMIL_2_0.SetPrototype",ps:[{n:"otherAttributes",t:"aa"},{n:"any",mno:0,col:!0,mx:!1,t:"ae"},{n:"targetElement",ti:"IDREF",an:{lp:"targetElement"},t:"a"},{n:"skipContent",ti:"Boolean",an:{lp:"skip-content"},t:"a"},{n:"alt",an:{lp:"alt"},t:"a"},{n:"longdesc",an:{lp:"longdesc"},t:"a"},{n:"id",ti:"ID",an:{lp:"id"},t:"a"},{n:"clazz",an:{lp:"class"},t:"a"},{n:"lang",an:{lp:"lang",ns:"http://www.w3.org/XML/1998/namespace"},t:"a"},{n:"syncBehaviorDefault",an:{lp:"syncBehaviorDefault"},t:"a"},{n:"syncToleranceDefault",an:{lp:"syncToleranceDefault"},t:"a"},{n:"min",an:{lp:"min"},t:"a"},{n:"max",an:{lp:"max"},t:"a"},{n:"begin",an:{lp:"begin"},t:"a"},{n:"end",an:{lp:"end"},t:"a"},{n:"repeatDur",an:{lp:"repeatDur"},t:"a"},{n:"repeatCount",ti:"Decimal",an:{lp:"repeatCount"},t:"a"},{n:"dur",an:{lp:"dur"},t:"a"},{n:"repeat",ti:"NonNegativeInteger",an:{lp:"repeat"},t:"a"},{n:"fillDefault",an:{lp:"fillDefault"},t:"a"},{n:"restart",an:{lp:"restart"},t:"a"},{n:"restartDefault",an:{lp:"restartDefault"},t:"a"},{n:"syncBehavior",an:{lp:"syncBehavior"},t:"a"},{n:"syncTolerance",an:{lp:"syncTolerance"},t:"a"},{n:"fill",an:{lp:"fill"},t:"a"}]},{ln:"AnimateType",tn:"animateType",bti:"SMIL_2_0.AnimatePrototype",ps:[{n:"otherAttributes",t:"aa"},{n:"any",mno:0,col:!0,mx:!1,t:"ae"},{n:"skipContent",ti:"Boolean",an:{lp:"skip-content"},t:"a"},{n:"calcMode",an:{lp:"calcMode"},t:"a"},{n:"alt",an:{lp:"alt"},t:"a"},{n:"longdesc",an:{lp:"longdesc"},t:"a"},{n:"id",ti:"ID",an:{lp:"id"},t:"a"},{n:"clazz",an:{lp:"class"},t:"a"},{n:"lang",an:{lp:"lang",ns:"http://www.w3.org/XML/1998/namespace"},t:"a"},{n:"targetElement",ti:"IDREF",an:{lp:"targetElement"},t:"a"},{n:"syncBehaviorDefault",an:{lp:"syncBehaviorDefault"},t:"a"},{n:"syncToleranceDefault",an:{lp:"syncToleranceDefault"},t:"a"},{n:"min",an:{lp:"min"},t:"a"},{n:"max",an:{lp:"max"},t:"a"},{n:"begin",an:{lp:"begin"},t:"a"},{n:"end",an:{lp:"end"},t:"a"},{n:"repeatDur",an:{lp:"repeatDur"},t:"a"},{n:"repeatCount",ti:"Decimal",an:{lp:"repeatCount"},t:"a"},{n:"dur",an:{lp:"dur"},t:"a"},{n:"repeat",ti:"NonNegativeInteger",an:{lp:"repeat"},t:"a"},{n:"fillDefault",an:{lp:"fillDefault"},t:"a"},{n:"restart",an:{lp:"restart"},t:"a"},{n:"restartDefault",an:{lp:"restartDefault"},t:"a"},{n:"syncBehavior",an:{lp:"syncBehavior"},t:"a"},{n:"syncTolerance",an:{lp:"syncTolerance"},t:"a"},{n:"fill",an:{lp:"fill"},t:"a"}]},{ln:"AnimateMotionType",tn:"animateMotionType",bti:"SMIL_2_0.AnimateMotionPrototype",ps:[{n:"otherAttributes",t:"aa"},{n:"any",mno:0,col:!0,mx:!1,t:"ae"},{n:"targetElement",ti:"IDREF",an:{lp:"targetElement"},t:"a"},{n:"alt",an:{lp:"alt"},t:"a"},{n:"longdesc",an:{lp:"longdesc"},t:"a"},{n:"id",ti:"ID",an:{lp:"id"},t:"a"},{n:"clazz",an:{lp:"class"},t:"a"},{n:"lang",an:{lp:"lang",ns:"http://www.w3.org/XML/1998/namespace"},t:"a"},{n:"skipContent",ti:"Boolean",an:{lp:"skip-content"},t:"a"},{n:"calcMode",an:{lp:"calcMode"},t:"a"},{n:"syncBehaviorDefault",an:{lp:"syncBehaviorDefault"},t:"a"},{n:"syncToleranceDefault",an:{lp:"syncToleranceDefault"},t:"a"},{n:"min",an:{lp:"min"},t:"a"},{n:"max",an:{lp:"max"},t:"a"},{n:"begin",an:{lp:"begin"},t:"a"},{n:"end",an:{lp:"end"},t:"a"},{n:"repeatDur",an:{lp:"repeatDur"},t:"a"},{n:"repeatCount",ti:"Decimal",an:{lp:"repeatCount"},t:"a"},{n:"dur",an:{lp:"dur"},t:"a"},{n:"repeat",ti:"NonNegativeInteger",an:{lp:"repeat"},t:"a"},{n:"fillDefault",an:{lp:"fillDefault"},t:"a"},{n:"restart",an:{lp:"restart"},t:"a"},{n:"restartDefault",an:{lp:"restartDefault"},t:"a"},{n:"syncBehavior",an:{lp:"syncBehavior"},t:"a"},{n:"syncTolerance",an:{lp:"syncTolerance"},t:"a"},{n:"fill",an:{lp:"fill"},t:"a"}]}],eis:[{en:"animate",ti:".AnimateType"},{en:"animateMotion",ti:".AnimateMotionType"},{en:"animateColor",ti:".AnimateColorType"},{en:"set",ti:".SetType"}]}}})?i.apply(t,[]):i)||(e.exports=r)},fyJ9:function(e,t,n){"use strict";var i=function(){function e(t){_(this,e);var n=t||{};this.color_=void 0!==n.color?n.color:null}return y(e,[{key:"clone",value:function(){var t=this.getColor();return new e({color:Array.isArray(t)?t.slice():t||void 0})}},{key:"getColor",value:function(){return this.color_}},{key:"setColor",value:function(e){this.color_=e}}]),e}();t.a=i},g38P:function(e,t,n){"use strict";t.a=function(){function e(){_(this,e)}return y(e,[{key:"drawCustom",value:function(e,t,n){}},{key:"drawGeometry",value:function(e){}},{key:"setStyle",value:function(e){}},{key:"drawCircle",value:function(e,t){}},{key:"drawFeature",value:function(e,t){}},{key:"drawGeometryCollection",value:function(e,t){}},{key:"drawLineString",value:function(e,t){}},{key:"drawMultiLineString",value:function(e,t){}},{key:"drawMultiPoint",value:function(e,t){}},{key:"drawMultiPolygon",value:function(e,t){}},{key:"drawPoint",value:function(e,t){}},{key:"drawPolygon",value:function(e,t){}},{key:"drawText",value:function(e,t){}},{key:"setFillStrokeStyle",value:function(e,t){}},{key:"setImageStyle",value:function(e,t){}},{key:"setTextStyle",value:function(e,t){}}]),e}()},"gB+7":function(e,t,n){"use strict";var i=n("W/Sn"),r=n("uMsb"),a=n("siiE"),o=n("ogOc"),s=n("n2w5"),l=n("hKKC"),u=n("aoLf"),c=n("lQ2a"),h=n("Znq9"),d=n("2I+J"),f=n("rA9B");t.a=function(e){b(n,e);var t=T(n);function n(e){var i;return _(this,n),(i=t.call(this,e)).boundHandleStyleImageChange_=i.handleStyleImageChange_.bind(x(i)),i.dirty_=!1,i.hitDetectionImageData_=null,i.renderedFeatures_=null,i.renderedRevision_=-1,i.renderedResolution_=NaN,i.renderedExtent_=Object(l.k)(),i.renderedCenter_=null,i.renderedProjection_=null,i.renderedRenderOrder_=null,i.replayGroup_=null,i.replayGroupChanged=!0,i.declutterExecutorGroup=null,i.clipping=!0,i}return y(n,[{key:"useContainer",value:function(e,t,i){i<1&&(e=null),v(C(n.prototype),"useContainer",this).call(this,e,t,i)}},{key:"renderWorlds",value:function(e,t,n){var i=t.extent,r=t.viewState,a=r.center,s=r.resolution,u=r.projection,c=r.rotation,h=u.getExtent(),d=this.getLayer().getSource(),f=t.pixelRatio,p=t.viewHints,m=!(p[o.a.ANIMATING]||p[o.a.INTERACTING]),v=this.context,g=Math.round(t.size[0]*f),y=Math.round(t.size[1]*f),_=d.getWrapX()&&u.canWrapX(),b=_?Object(l.F)(h):null,S=_?Math.ceil((i[2]-h[2])/b)+1:1,T=_?Math.floor((i[0]-h[0])/b):0;do{var w=this.getRenderTransform(a,s,c,f,g,y,T*b);e.execute(v,1,w,c,m,void 0,n)}while(++T<S)}},{key:"renderDeclutter",value:function(e){this.declutterExecutorGroup&&this.renderWorlds(this.declutterExecutorGroup,e,e.declutterTree)}},{key:"renderFrame",value:function(e,t){var n=e.pixelRatio,i=e.layerStatesArray[e.layerIndex];Object(s.e)(this.pixelTransform,1/n,1/n),Object(s.d)(this.inversePixelTransform,this.pixelTransform);var r=Object(s.k)(this.pixelTransform);this.useContainer(t,r,i.opacity);var a=this.context,o=a.canvas,u=this.replayGroup_,c=this.declutterExecutorGroup;if((!u||u.isEmpty())&&(!c||c.isEmpty()))return!this.containerReused&&o.width>0&&(o.width=0),this.container;var d=Math.round(e.size[0]*n),f=Math.round(e.size[1]*n);o.width!=d||o.height!=f?(o.width=d,o.height=f,o.style.transform!==r&&(o.style.transform=r)):this.containerReused||a.clearRect(0,0,d,f),this.preRender(a,e);var p=e.viewState,m=p.projection,v=!1;if(i.extent&&this.clipping){var g=Object(h.h)(i.extent,m);(v=!Object(l.h)(g,e.extent)&&Object(l.G)(g,e.extent))&&this.clipUnrotated(a,e,g)}this.renderWorlds(u,e),v&&a.restore(),this.postRender(a,e);var y=i.opacity,_=this.container;return y!==parseFloat(_.style.opacity)&&(_.style.opacity=1===y?"":String(y)),this.renderedRotation_!==p.rotation&&(this.renderedRotation_=p.rotation,this.hitDetectionImageData_=null),this.container}},{key:"getFeatures",value:function(e){return new Promise((function(t){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var n=[this.context.canvas.width,this.context.canvas.height];Object(s.a)(this.pixelTransform,n);var i=this.renderedCenter_,r=this.renderedResolution_,a=this.renderedRotation_,o=this.renderedProjection_,c=this.renderedExtent_,h=this.getLayer(),d=[],f=n[0]/2,p=n[1]/2;d.push(this.getRenderTransform(i,r,a,.5,f,p,0).slice());var m=h.getSource(),v=o.getExtent();if(m.getWrapX()&&o.canWrapX()&&!Object(l.h)(v,c)){for(var g,y=c[0],_=Object(l.F)(v),b=0;y<v[0];)g=_*--b,d.push(this.getRenderTransform(i,r,a,.5,f,p,g).slice()),y+=_;for(b=0,y=c[2];y>v[2];)g=_*++b,d.push(this.getRenderTransform(i,r,a,.5,f,p,g).slice()),y-=_}this.hitDetectionImageData_=Object(u.a)(n,d,this.renderedFeatures_,h.getStyleFunction(),c,r,a)}t(Object(u.b)(e,this.renderedFeatures_,this.hitDetectionImageData_))}).bind(this))}},{key:"forEachFeatureAtCoordinate",value:function(e,t,n,i,r){var a=this;if(this.replayGroup_){var o,s=t.viewState.resolution,l=t.viewState.rotation,u=this.getLayer(),c={},h=function(e,t,n){var a=Object(d.c)(e),o=c[a];if(o){if(!0!==o&&n<o.distanceSq){if(0===n)return c[a]=!0,r.splice(r.lastIndexOf(o),1),i(e,u,t);o.geometry=t,o.distanceSq=n}}else{if(0===n)return c[a]=!0,i(e,u,t);r.push(c[a]={feature:e,layer:u,geometry:t,distanceSq:n,callback:i})}},f=[this.replayGroup_];return this.declutterExecutorGroup&&f.push(this.declutterExecutorGroup),f.some(function(i){return o=i.forEachFeatureAtCoordinate(e,s,l,n,h,i===a.declutterExecutorGroup?t.declutterTree.all().map(function(e){return e.value}):null)}),o}}},{key:"handleFontsChanged",value:function(){var e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()}},{key:"handleStyleImageChange_",value:function(e){this.renderIfReadyAndVisible()}},{key:"prepareFrame",value:function(e){var t=this.getLayer(),n=t.getSource();if(!n)return!1;var r=e.viewHints[o.a.ANIMATING],s=e.viewHints[o.a.INTERACTING],u=t.getUpdateWhileAnimating(),d=t.getUpdateWhileInteracting();if(!this.dirty_&&!u&&r||!d&&s)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var p=e.extent,m=e.viewState,v=m.projection,g=m.resolution,y=e.pixelRatio,_=t.getRevision(),b=t.getRenderBuffer(),S=t.getRenderOrder();void 0===S&&(S=c.a);var T=m.center.slice(),w=Object(l.d)(p,b*g),x=[w.slice()],E=v.getExtent();if(n.getWrapX()&&v.canWrapX()&&!Object(l.h)(E,e.extent)){var C=Object(l.F)(E),k=Math.max(Object(l.F)(w)/2,C);w[0]=E[0]-k,w[2]=E[2]+k,Object(f.h)(T,v);var M=Object(l.L)(x[0],v);M[0]<E[0]&&M[2]<E[2]?x.push([M[0]+C,M[1],M[2]+C,M[3]]):M[0]>E[0]&&M[2]>E[2]&&x.push([M[0]-C,M[1],M[2]-C,M[3]])}if(!this.dirty_&&this.renderedResolution_==g&&this.renderedRevision_==_&&this.renderedRenderOrder_==S&&Object(l.h)(this.renderedExtent_,w))return this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var O,A=new i.a(Object(c.c)(g,y),w,g,y);this.getLayer().getDeclutter()&&(O=new i.a(Object(c.c)(g,y),w,g,y));var R,I=Object(h.m)();if(I){for(var L=0,P=x.length;L<P;++L)n.loadFeatures(Object(h.p)(x[L],v),g,I);R=Object(h.l)(I,v)}else for(var D=0,N=x.length;D<N;++D)n.loadFeatures(x[D],g,v);var j=Object(c.b)(g,y),F=(function(e){var n,i=e.getStyleFunction()||t.getStyleFunction();if(i&&(n=i(e,g)),n){var r=this.renderFeature(e,j,n,A,R,O);this.dirty_=this.dirty_||r}}).bind(this),U=Object(h.p)(w,v),G=n.getFeaturesInExtent(U);S&&G.sort(S);for(var V=0,B=G.length;V<B;++V)F(G[V]);this.renderedFeatures_=G;var z=A.finish(),H=new a.a(w,g,y,n.getOverlaps(),z,t.getRenderBuffer());return O&&(this.declutterExecutorGroup=new a.a(w,g,y,n.getOverlaps(),O.finish(),t.getRenderBuffer())),this.renderedResolution_=g,this.renderedRevision_=_,this.renderedRenderOrder_=S,this.renderedExtent_=w,this.renderedCenter_=T,this.renderedProjection_=v,this.replayGroup_=H,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}},{key:"renderFeature",value:function(e,t,n,i,r,a){if(!n)return!1;var o=!1;if(Array.isArray(n))for(var s=0,l=n.length;s<l;++s)o=Object(c.d)(i,e,n[s],t,this.boundHandleStyleImageChange_,r,a)||o;else o=Object(c.d)(i,e,n,t,this.boundHandleStyleImageChange_,r,a);return o}}]),n}(r.a)},gOFd:function(e,t,n){"use strict";n.d(t,"b",function(){return x});var i=n("wRPv"),r=n("aBeY"),a=n("AjuZ"),o=n("kuFe"),s=n("hKKC"),l=n("VvGk"),u=n("8pO4"),c=n("L3Wi"),h=n("ZjAA"),d=function(e){b(n,e);var t=T(n);function n(e,i){var r;return _(this,n),(r=t.call(this)).maxDelta_=-1,r.maxDeltaRevision_=-1,void 0===i||Array.isArray(e[0])?r.setCoordinates(e,i):r.setFlatCoordinates(i,e),r}return y(n,[{key:"clone",value:function(){return new n(this.flatCoordinates.slice(),this.layout)}},{key:"closestPointXY",value:function(e,t,n,i){return i<Object(s.f)(this.getExtent(),e,t)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(o.e)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(o.d)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,t,n,i))}},{key:"getArea",value:function(){return Object(h.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}},{key:"getCoordinates",value:function(){return Object(c.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}},{key:"getSimplifiedGeometryInternal",value:function(e){var t=[];return t.length=Object(u.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new n(t,i.a.XY)}},{key:"getType",value:function(){return r.a.LINEAR_RING}},{key:"intersectsExtent",value:function(e){return!1}},{key:"setCoordinates",value:function(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(l.b)(this.flatCoordinates,0,e,this.stride),this.changed()}}]),n}(a.a),f=n("wEYg"),p=n("oWEL"),m=n("1Ggo"),v=n("DPnj"),g=n("iB0p"),S=n("Y5Xb");n("LV+m"),n("tZnV");var w=function(e){b(n,e);var t=T(n);function n(e,i,r){var a;return _(this,n),(a=t.call(this)).ends_=[],a.flatInteriorPointRevision_=-1,a.flatInteriorPoint_=null,a.maxDelta_=-1,a.maxDeltaRevision_=-1,a.orientedRevision_=-1,a.orientedFlatCoordinates_=null,void 0!==i&&r?(a.setFlatCoordinates(i,e),a.ends_=r):a.setCoordinates(e,i),a}return y(n,[{key:"appendLinearRing",value:function(e){this.flatCoordinates?Object(p.c)(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}},{key:"clone",value:function(){var e=new n(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}},{key:"closestPointXY",value:function(e,t,n,i){return i<Object(s.f)(this.getExtent(),e,t)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(o.a)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(o.b)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,t,n,i))}},{key:"containsXY",value:function(e,t){return Object(S.c)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,t)}},{key:"getArea",value:function(){return Object(h.b)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}},{key:"getCoordinates",value:function(e){var t;return void 0!==e?(t=this.getOrientedFlatCoordinates().slice(),Object(g.d)(t,0,this.ends_,this.stride,e)):t=this.flatCoordinates,Object(c.b)(t,0,this.ends_,this.stride)}},{key:"getEnds",value:function(){return this.ends_}},{key:"getFlatInteriorPoint",value:function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var e=Object(s.y)(this.getExtent());this.flatInteriorPoint_=Object(m.a)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}},{key:"getInteriorPoint",value:function(){return new f.a(this.getFlatInteriorPoint(),i.a.XYM)}},{key:"getLinearRingCount",value:function(){return this.ends_.length}},{key:"getLinearRing",value:function(e){return e<0||this.ends_.length<=e?null:new d(this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e]),this.layout)}},{key:"getLinearRings",value:function(){for(var e=this.layout,t=this.flatCoordinates,n=this.ends_,i=[],r=0,a=0,o=n.length;a<o;++a){var s=n[a],l=new d(t.slice(r,s),e);i.push(l),r=s}return i}},{key:"getOrientedFlatCoordinates",value:function(){if(this.orientedRevision_!=this.getRevision()){var e=this.flatCoordinates;Object(g.b)(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=Object(g.d)(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}},{key:"getSimplifiedGeometryInternal",value:function(e){var t=[],r=[];return t.length=Object(u.c)(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),t,0,r),new n(t,i.a.XY,r)}},{key:"getType",value:function(){return r.a.POLYGON}},{key:"intersectsExtent",value:function(e){return Object(v.c)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}},{key:"setCoordinates",value:function(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=Object(l.c)(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()}}]),n}(a.a);function x(e){var t=e[0],n=e[1],r=e[2],a=e[3],o=[t,n,t,a,r,a,r,n,t,n];return new w(o,i.a.XY,[o.length])}t.a=w},gRHU:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n("2fFW"),r=n("NJ4a"),a={closed:!0,next:function(e){},error:function(e){if(i.a.useDeprecatedSynchronousErrorHandling)throw e;Object(r.a)(e)},complete:function(){}}},gayD:function(e,t,n){"use strict";var i=n("6XL4"),r=n("ZidN"),a=n("hKKC");t.a=function(e){b(n,e);var t=T(n);function n(e){var i;_(this,n);var r=e||{};return(i=t.call(this,{attributions:r.attributions,imageSmoothing:r.imageSmoothing,projection:r.projection,resolutions:r.resolutions,state:r.state})).canvasFunction_=r.canvasFunction,i.canvas_=null,i.renderedRevision_=0,i.ratio_=void 0!==r.ratio?r.ratio:1.5,i}return y(n,[{key:"getImageInternal",value:function(e,t,n,r){t=this.findNearestResolution(t);var o=this.canvas_;if(o&&this.renderedRevision_==this.getRevision()&&o.getResolution()==t&&o.getPixelRatio()==n&&Object(a.h)(o.getExtent(),e))return o;e=e.slice(),Object(a.K)(e,this.ratio_);var s=Object(a.F)(e)/t,l=Object(a.B)(e)/t,u=this.canvasFunction_.call(this,e,t,n,[s*n,l*n],r);return u&&(o=new i.a(e,t,n,u)),this.canvas_=o,this.renderedRevision_=this.getRevision(),o}}]),n}(r.a)},giCN:function(e,t,n){"use strict";var i=n("9CgO"),r=n("tvip"),a=n("aBeY"),o=n("hKKC"),s=n("FHfp"),l=function(e){b(n,e);var t=T(n);function n(e){var i;return _(this,n),(i=t.call(this)).geometries_=e||null,i.changeEventsKeys_=[],i.listenGeometriesChange_(),i}return y(n,[{key:"unlistenGeometriesChange_",value:function(){this.changeEventsKeys_.forEach(s.c),this.changeEventsKeys_.length=0}},{key:"listenGeometriesChange_",value:function(){if(this.geometries_)for(var e=0,t=this.geometries_.length;e<t;++e)this.changeEventsKeys_.push(Object(s.a)(this.geometries_[e],i.a.CHANGE,this.changed,this))}},{key:"clone",value:function(){var e=new n(null);return e.setGeometries(this.geometries_),e.applyProperties(this),e}},{key:"closestPointXY",value:function(e,t,n,i){if(i<Object(o.f)(this.getExtent(),e,t))return i;for(var r=this.geometries_,a=0,s=r.length;a<s;++a)i=r[a].closestPointXY(e,t,n,i);return i}},{key:"containsXY",value:function(e,t){for(var n=this.geometries_,i=0,r=n.length;i<r;++i)if(n[i].containsXY(e,t))return!0;return!1}},{key:"computeExtent",value:function(e){Object(o.m)(e);for(var t=this.geometries_,n=0,i=t.length;n<i;++n)Object(o.r)(e,t[n].getExtent());return e}},{key:"getGeometries",value:function(){return u(this.geometries_)}},{key:"getGeometriesArray",value:function(){return this.geometries_}},{key:"getGeometriesArrayRecursive",value:function(){for(var e=[],t=this.geometries_,n=0,i=t.length;n<i;++n)t[n].getType()===this.getType()?e=e.concat(t[n].getGeometriesArrayRecursive()):e.push(t[n]);return e}},{key:"getSimplifiedGeometry",value:function(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;for(var t=[],i=this.geometries_,r=!1,a=0,o=i.length;a<o;++a){var s=i[a],l=s.getSimplifiedGeometry(e);t.push(l),l!==s&&(r=!0)}if(r){var u=new n(null);return u.setGeometriesArray(t),u}return this.simplifiedGeometryMaxMinSquaredTolerance=e,this}},{key:"getType",value:function(){return a.a.GEOMETRY_COLLECTION}},{key:"intersectsExtent",value:function(e){for(var t=this.geometries_,n=0,i=t.length;n<i;++n)if(t[n].intersectsExtent(e))return!0;return!1}},{key:"isEmpty",value:function(){return 0===this.geometries_.length}},{key:"rotate",value:function(e,t){for(var n=this.geometries_,i=0,r=n.length;i<r;++i)n[i].rotate(e,t);this.changed()}},{key:"scale",value:function(e,t,n){var i=n;i||(i=Object(o.y)(this.getExtent()));for(var r=this.geometries_,a=0,s=r.length;a<s;++a)r[a].scale(e,t,i);this.changed()}},{key:"setGeometries",value:function(e){this.setGeometriesArray(u(e))}},{key:"setGeometriesArray",value:function(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()}},{key:"applyTransform",value:function(e){for(var t=this.geometries_,n=0,i=t.length;n<i;++n)t[n].applyTransform(e);this.changed()}},{key:"translate",value:function(e,t){for(var n=this.geometries_,i=0,r=n.length;i<r;++i)n[i].translate(e,t);this.changed()}},{key:"disposeInternal",value:function(){this.unlistenGeometriesChange_(),v(C(n.prototype),"disposeInternal",this).call(this)}}]),n}(r.a);function u(e){for(var t=[],n=0,i=e.length;n<i;++n)t.push(e[n].clone());return t}t.a=l},gjiK:function(e,t,n){"use strict";var i=n("9CgO");t.a={SINGLECLICK:"singleclick",CLICK:i.a.CLICK,DBLCLICK:i.a.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}},hKKC:function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"d",function(){return s}),n.d(t,"e",function(){return l}),n.d(t,"f",function(){return u}),n.d(t,"g",function(){return c}),n.d(t,"h",function(){return h}),n.d(t,"i",function(){return d}),n.d(t,"j",function(){return f}),n.d(t,"k",function(){return p}),n.d(t,"l",function(){return m}),n.d(t,"m",function(){return v}),n.d(t,"n",function(){return g}),n.d(t,"o",function(){return y}),n.d(t,"p",function(){return _}),n.d(t,"q",function(){return b}),n.d(t,"b",function(){return S}),n.d(t,"r",function(){return T}),n.d(t,"s",function(){return w}),n.d(t,"t",function(){return x}),n.d(t,"u",function(){return C}),n.d(t,"v",function(){return k}),n.d(t,"w",function(){return M}),n.d(t,"x",function(){return O}),n.d(t,"y",function(){return A}),n.d(t,"z",function(){return R}),n.d(t,"A",function(){return I}),n.d(t,"B",function(){return L}),n.d(t,"C",function(){return P}),n.d(t,"D",function(){return D}),n.d(t,"E",function(){return N}),n.d(t,"F",function(){return j}),n.d(t,"G",function(){return F}),n.d(t,"I",function(){return U}),n.d(t,"J",function(){return G}),n.d(t,"K",function(){return V}),n.d(t,"H",function(){return B}),n.d(t,"a",function(){return z}),n.d(t,"L",function(){return H});var i=n("iSA6"),r=n("rb/e"),a=n("i3ci");function o(e){for(var t=[1/0,1/0,-1/0,-1/0],n=0,i=e.length;n<i;++n)w(t,e[n]);return t}function s(e,t,n){return n?(n[0]=e[0]-t,n[1]=e[1]-t,n[2]=e[2]+t,n[3]=e[3]+t,n):[e[0]-t,e[1]-t,e[2]+t,e[3]+t]}function l(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e.slice()}function u(e,t,n){var i,r;return(i=t<e[0]?e[0]-t:e[2]<t?t-e[2]:0)*i+(r=n<e[1]?e[1]-n:e[3]<n?n-e[3]:0)*r}function c(e,t){return d(e,t[0],t[1])}function h(e,t){return e[0]<=t[0]&&t[2]<=e[2]&&e[1]<=t[1]&&t[3]<=e[3]}function d(e,t,n){return e[0]<=t&&t<=e[2]&&e[1]<=n&&n<=e[3]}function f(e,t){var n=t[0],i=t[1],a=r.a.UNKNOWN;return n<e[0]?a|=r.a.LEFT:n>e[2]&&(a|=r.a.RIGHT),i<e[1]?a|=r.a.BELOW:i>e[3]&&(a|=r.a.ABOVE),a===r.a.UNKNOWN&&(a=r.a.INTERSECTING),a}function p(){return[1/0,1/0,-1/0,-1/0]}function m(e,t,n,i,r){return r?(r[0]=e,r[1]=t,r[2]=n,r[3]=i,r):[e,t,n,i]}function v(e){return m(1/0,1/0,-1/0,-1/0,e)}function g(e,t){var n=e[0],i=e[1];return m(n,i,n,i,t)}function y(e,t){return function(e,t){for(var n=0,i=t.length;n<i;++n)w(e,t[n]);return e}(v(t),e)}function _(e,t,n,i,r){return x(v(r),e,t,n,i)}function b(e,t){return e[0]==t[0]&&e[2]==t[2]&&e[1]==t[1]&&e[3]==t[3]}function S(e,t,n){return Math.abs(e[0]-t[0])<n&&Math.abs(e[2]-t[2])<n&&Math.abs(e[1]-t[1])<n&&Math.abs(e[3]-t[3])<n}function T(e,t){return t[0]<e[0]&&(e[0]=t[0]),t[2]>e[2]&&(e[2]=t[2]),t[1]<e[1]&&(e[1]=t[1]),t[3]>e[3]&&(e[3]=t[3]),e}function w(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function x(e,t,n,i,r){for(;n<i;n+=r)E(e,t[n],t[n+1]);return e}function E(e,t,n){e[0]=Math.min(e[0],t),e[1]=Math.min(e[1],n),e[2]=Math.max(e[2],t),e[3]=Math.max(e[3],n)}function C(e,t){return t(M(e))||(t(O(e))||(t(N(e))||(t(D(e))||!1)))}function k(e){var t=0;return U(e)||(t=j(e)*L(e)),t}function M(e){return[e[0],e[1]]}function O(e){return[e[2],e[1]]}function A(e){return[(e[0]+e[2])/2,(e[1]+e[3])/2]}function R(e,t){var n;return t===i.a.BOTTOM_LEFT?n=M(e):t===i.a.BOTTOM_RIGHT?n=O(e):t===i.a.TOP_LEFT?n=D(e):t===i.a.TOP_RIGHT?n=N(e):Object(a.a)(!1,13),n}function I(e,t,n,i,r){var a=t*i[0]/2,o=t*i[1]/2,s=Math.cos(n),l=Math.sin(n),u=a*s,c=a*l,h=o*s,d=o*l,f=e[0],p=e[1],v=f-u+d,g=f-u-d,y=f+u-d,_=f+u+d,b=p-c-h,S=p-c+h,T=p+c+h,w=p+c-h;return m(Math.min(v,g,y,_),Math.min(b,S,T,w),Math.max(v,g,y,_),Math.max(b,S,T,w),r)}function L(e){return e[3]-e[1]}function P(e,t,n){var i=n||[1/0,1/0,-1/0,-1/0];return F(e,t)?(i[0]=e[0]>t[0]?e[0]:t[0],i[1]=e[1]>t[1]?e[1]:t[1],i[2]=e[2]<t[2]?e[2]:t[2],i[3]=e[3]<t[3]?e[3]:t[3]):v(i),i}function D(e){return[e[0],e[3]]}function N(e){return[e[2],e[3]]}function j(e){return e[2]-e[0]}function F(e,t){return e[0]<=t[2]&&e[2]>=t[0]&&e[1]<=t[3]&&e[3]>=t[1]}function U(e){return e[2]<e[0]||e[3]<e[1]}function G(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e}function V(e,t){var n=(e[2]-e[0])/2*(t-1),i=(e[3]-e[1])/2*(t-1);e[0]-=n,e[2]+=n,e[1]-=i,e[3]+=i}function B(e,t,n){var i=!1,a=f(e,t),o=f(e,n);if(a===r.a.INTERSECTING||o===r.a.INTERSECTING)i=!0;else{var s,l,u=e[0],c=e[1],h=e[2],d=e[3],p=n[0],m=n[1],v=(m-t[1])/(p-t[0]);o&r.a.ABOVE&&!(a&r.a.ABOVE)&&(i=(s=p-(m-d)/v)>=u&&s<=h),i||!(o&r.a.RIGHT)||a&r.a.RIGHT||(i=(l=m-(p-h)*v)>=c&&l<=d),i||!(o&r.a.BELOW)||a&r.a.BELOW||(i=(s=p-(m-c)/v)>=u&&s<=h),i||!(o&r.a.LEFT)||a&r.a.LEFT||(i=(l=m-(p-u)*v)>=c&&l<=d)}return i}function z(e,t,n,i){var r=[];if(i>1)for(var a=e[2]-e[0],o=e[3]-e[1],s=0;s<i;++s)r.push(e[0]+a*s/i,e[1],e[2],e[1]+o*s/i,e[2]-a*s/i,e[3],e[0],e[3]-o*s/i);else r=[e[0],e[1],e[2],e[1],e[2],e[3],e[0],e[3]];t(r,r,2);for(var l=[],u=[],c=0,h=r.length;c<h;c+=2)l.push(r[c]),u.push(r[c+1]);return function(e,t,n){return m(Math.min.apply(null,e),Math.min.apply(null,t),Math.max.apply(null,e),Math.max.apply(null,t),n)}(l,u,n)}function H(e,t){var n=t.getExtent(),i=A(e);if(t.canWrapX()&&(i[0]<n[0]||i[0]>=n[2])){var r=j(n),a=Math.floor((i[0]-n[0])/r)*r;e[0]-=a,e[2]-=a}return e}},i3ci:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("v7Mh");function r(e,t){if(!e)throw new i.a(t)}},i907:function(e,t,n){"use strict";n.d(t,"b",function(){return d}),n.d(t,"a",function(){return f}),n.d(t,"c",function(){return p});var i,r=n("GLbD"),a=n("Bpkx"),o=n("hKKC"),s=n("Cw4B"),l=n("Znq9"),u=n("LV+m");function c(e,t,n,i,r){e.beginPath(),e.moveTo(0,0),e.lineTo(t,n),e.lineTo(i,r),e.closePath(),e.save(),e.clip(),e.fillRect(0,0,Math.max(t,i)+1,Math.max(n,r)),e.restore()}function h(e,t){return Math.abs(e[4*t]-210)>2||Math.abs(e[4*t+3]-191.25)>2}function d(e,t,n,i){var r=Object(l.q)(n,t,e),a=Object(l.j)(t,i,n),s=t.getMetersPerUnit();void 0!==s&&(a*=s);var u=e.getMetersPerUnit();void 0!==u&&(a/=u);var c=e.getExtent();if(!c||Object(o.g)(c,r)){var h=Object(l.j)(e,a,r)/a;isFinite(h)&&h>0&&(a/=h)}return a}function f(e,t,n,i){var r=Object(o.y)(n),a=d(e,t,r,i);return(!isFinite(a)||a<=0)&&Object(o.u)(n,function(n){return a=d(e,t,n,i),isFinite(a)&&a>0}),a}function p(e,t,n,l,d,f,p,m,v,g,y,_){var b=Object(s.a)(Math.round(n*e),Math.round(n*t));if(Object(a.a)(b,_),0===v.length)return b.canvas;function S(e){return Math.round(e*n)/n}b.scale(n,n),b.globalCompositeOperation="lighter";var T=Object(o.k)();v.forEach(function(e,t,n){Object(o.r)(T,e.extent)});var w=Object(o.F)(T),x=Object(o.B)(T),E=Object(s.a)(Math.round(n*w/l),Math.round(n*x/l));Object(a.a)(E,_);var C=n/l;v.forEach(function(e,t,n){var i=e.extent[0]-T[0],r=-(e.extent[3]-T[3]),a=Object(o.F)(e.extent),s=Object(o.B)(e.extent);e.image.width>0&&e.image.height>0&&E.drawImage(e.image,g,g,e.image.width-2*g,e.image.height-2*g,i*C,r*C,a*C,s*C)});var k=Object(o.D)(p);return m.getTriangles().forEach(function(e,t,a){var o=e.source,s=e.target,d=o[0][0],p=o[0][1],m=o[1][0],v=o[1][1],g=o[2][0],y=o[2][1],w=S((s[0][0]-k[0])/f),x=S(-(s[0][1]-k[1])/f),C=S((s[1][0]-k[0])/f),M=S(-(s[1][1]-k[1])/f),O=S((s[2][0]-k[0])/f),A=S(-(s[2][1]-k[1])/f),R=d,I=p;d=0,p=0;var L=[[m-=R,v-=I,0,0,C-w],[g-=R,y-=I,0,0,O-w],[0,0,m,v,M-x],[0,0,g,y,A-x]],P=Object(u.f)(L);if(P){if(b.save(),b.beginPath(),function(){if(void 0===i){var e=document.createElement("canvas").getContext("2d");e.globalCompositeOperation="lighter",e.fillStyle="rgba(210, 0, 0, 0.75)",c(e,4,5,4,0),c(e,4,5,0,5);var t=e.getImageData(0,0,3,3).data;i=h(t,0)||h(t,4)||h(t,8)}return i}()||_===r.b){b.moveTo(C,M);for(var D=w-C,N=x-M,j=0;j<4;j++)b.lineTo(C+S((j+1)*D/4),M+S(j*N/3)),3!=j&&b.lineTo(C+S((j+1)*D/4),M+S((j+1)*N/3));b.lineTo(O,A)}else b.moveTo(C,M),b.lineTo(w,x),b.lineTo(O,A);b.clip(),b.transform(P[0],P[2],P[1],P[3],w,x),b.translate(T[0]-R,T[3]-I),b.scale(l/n,-l/n),b.drawImage(E.canvas,0,0),b.restore()}}),y&&(b.save(),b.globalCompositeOperation="source-over",b.strokeStyle="black",b.lineWidth=1,m.getTriangles().forEach(function(e,t,n){var i=e.target,r=(i[0][0]-k[0])/f,a=-(i[0][1]-k[1])/f,o=(i[1][0]-k[0])/f,s=-(i[1][1]-k[1])/f,l=(i[2][0]-k[0])/f,u=-(i[2][1]-k[1])/f;b.beginPath(),b.moveTo(o,s),b.lineTo(r,a),b.lineTo(l,u),b.closePath(),b.stroke()}),b.restore()),b.canvas}},iB0p:function(e,t,n){"use strict";function i(e,t,n,i){for(;t<n-i;){for(var r=0;r<i;++r){var a=e[t+r];e[t+r]=e[n-i+r],e[n-i+r]=a}t+=i,n-=i}}function r(e,t,n,i){for(var r=0,a=e[n-i],o=e[n-i+1];t<n;t+=i){var s=e[t],l=e[t+1];r+=(s-a)*(l+o),a=s,o=l}return 0===r?void 0:r>0}function a(e,t,n,i,a){for(var o=void 0!==a&&a,s=0,l=n.length;s<l;++s){var u=n[s],c=r(e,t,u,i);if(0===s){if(o&&c||!o&&!c)return!1}else if(o&&!c||!o&&c)return!1;t=u}return!0}function o(e,t,n,i,r){for(var o=0,s=n.length;o<s;++o){var l=n[o];if(!a(e,t,l,i,r))return!1;l.length&&(t=l[l.length-1])}return!0}function s(e,t,n,a,o){for(var s=void 0!==o&&o,l=0,u=n.length;l<u;++l){var c=n[l],h=r(e,t,c,a);(0===l?s&&h||!s&&!h:s&&!h||!s&&h)&&i(e,t,c,a),t=c}return t}function l(e,t,n,i,r){for(var a=0,o=n.length;a<o;++a)t=s(e,t,n[a],i,r);return t}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return s}),n.d(t,"e",function(){return l})},iInd:function(e,t,n){"use strict";n.d(t,"a",function(){return rt}),n.d(t,"b",function(){return Gn}),n.d(t,"c",function(){return Mn}),n.d(t,"d",function(){return Nn}),n.d(t,"e",function(){return An}),n.d(t,"f",function(){return Kn}),n.d(t,"g",function(){return jn});var i=n("SVse"),r=n("8Y7J"),a=n("Cfvw"),o=n("LRne"),s=n("2Vo4"),l=n("itXk"),u=n("HDdC"),c=n("sVev"),f=n("GyhO"),p=n("EY2u");function m(e){return new u.a(function(t){var n;try{n=e()}catch(i){return void t.error(i)}return(n?Object(a.a)(n):Object(p.b)()).subscribe(t)})}var g=n("EQ5u"),S=n("XNiG"),w=n("lJxs"),E=n("eIep"),k=n("IzEk"),M=n("JX91"),O=n("7o/Q");function A(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new R(e,t,n))}}var R=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_(this,e),this.accumulator=t,this.seed=n,this.hasSeed=i}return y(e,[{key:"call",value:function(e,t){return t.subscribe(new I(e,this.accumulator,this.seed,this.hasSeed))}}]),e}(),I=function(e){b(n,e);var t=T(n);function n(e,i,r,a){var o;return _(this,n),(o=t.call(this,e)).accumulator=i,o._seed=r,o.hasSeed=a,o.index=0,o}return y(n,[{key:"seed",get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e}},{key:"_next",value:function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(i){this.destination.error(i)}this.seed=t,this.destination.next(t)}}]),n}(O.a),L=n("pLZG"),P=n("zx2A");function D(e){return function(t){var n=new N(e),i=t.lift(n);return n.caught=i}}var N=function(){function e(t){_(this,e),this.selector=t}return y(e,[{key:"call",value:function(e,t){return t.subscribe(new j(e,this.selector,this.caught))}}]),e}(),j=function(e){b(n,e);var t=T(n);function n(e,i,r){var a;return _(this,n),(a=t.call(this,e)).selector=i,a.caught=r,a}return y(n,[{key:"error",value:function(e){if(!this.isStopped){var t;try{t=this.selector(e,this.caught)}catch(a){return void v(C(n.prototype),"error",this).call(this,a)}this._unsubscribeAndRecycle();var i=new P.a(this);this.add(i);var r=Object(P.c)(t,i);r!==i&&this.add(r)}}}]),n}(P.b),F=n("bOdf"),U=n("4I5i");function G(e){return function(t){return 0===e?Object(p.b)():t.lift(new V(e))}}var V=function(){function e(t){if(_(this,e),this.total=t,this.total<0)throw new U.a}return y(e,[{key:"call",value:function(e,t){return t.subscribe(new B(e,this.total))}}]),e}(),B=function(e){b(n,e);var t=T(n);function n(e,i){var r;return _(this,n),(r=t.call(this,e)).total=i,r.ring=new Array,r.count=0,r}return y(n,[{key:"_next",value:function(e){var t=this.ring,n=this.total,i=this.count++;t.length<n?t.push(e):t[i%n]=e}},{key:"_complete",value:function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,i=this.ring,r=0;r<n;r++){var a=t++%n;e.next(i[a])}e.complete()}}]),n}(O.a),z=n("XDbj"),H=n("xbPD"),X=n("SpAZ"),q=n("SxV6"),W=n("5+tZ"),Y=n("vkgz"),K=n("x+ZX"),Z=n("quSY"),J=function(){function e(t){_(this,e),this.callback=t}return y(e,[{key:"call",value:function(e,t){return t.subscribe(new Q(e,this.callback))}}]),e}(),Q=function(e){b(n,e);var t=T(n);function n(e,i){var r;return _(this,n),(r=t.call(this,e)).add(new Z.a(i)),r}return n}(O.a),$=n("bHdf"),ee=function e(t,n){_(this,e),this.id=t,this.url=n},te=function(e){b(n,e);var t=T(n);function n(e,i){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _(this,n),(r=t.call(this,e,i)).navigationTrigger=a,r.restoredState=o,r}return y(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(ee),ne=function(e){b(n,e);var t=T(n);function n(e,i,r){var a;return _(this,n),(a=t.call(this,e,i)).urlAfterRedirects=r,a}return y(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(ee),ie=function(e){b(n,e);var t=T(n);function n(e,i,r){var a;return _(this,n),(a=t.call(this,e,i)).reason=r,a}return y(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(ee),re=function(e){b(n,e);var t=T(n);function n(e,i,r){var a;return _(this,n),(a=t.call(this,e,i)).error=r,a}return y(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(ee),ae=function(e){b(n,e);var t=T(n);function n(e,i,r,a){var o;return _(this,n),(o=t.call(this,e,i)).urlAfterRedirects=r,o.state=a,o}return y(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(ee),oe=function(e){b(n,e);var t=T(n);function n(e,i,r,a){var o;return _(this,n),(o=t.call(this,e,i)).urlAfterRedirects=r,o.state=a,o}return y(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(ee),se=function(e){b(n,e);var t=T(n);function n(e,i,r,a,o){var s;return _(this,n),(s=t.call(this,e,i)).urlAfterRedirects=r,s.state=a,s.shouldActivate=o,s}return y(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(ee),le=function(e){b(n,e);var t=T(n);function n(e,i,r,a){var o;return _(this,n),(o=t.call(this,e,i)).urlAfterRedirects=r,o.state=a,o}return y(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(ee),ue=function(e){b(n,e);var t=T(n);function n(e,i,r,a){var o;return _(this,n),(o=t.call(this,e,i)).urlAfterRedirects=r,o.state=a,o}return y(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(ee),ce=function(){function e(t){_(this,e),this.route=t}return y(e,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),e}(),he=function(){function e(t){_(this,e),this.route=t}return y(e,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),e}(),de=function(){function e(t){_(this,e),this.snapshot=t}return y(e,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),fe=function(){function e(t){_(this,e),this.snapshot=t}return y(e,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),pe=function(){function e(t){_(this,e),this.snapshot=t}return y(e,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),me=function(){function e(t){_(this,e),this.snapshot=t}return y(e,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),ve=function(){function e(t,n,i){_(this,e),this.routerEvent=t,this.position=n,this.anchor=i}return y(e,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),e}(),ge=function(){function e(t){_(this,e),this.params=t||{}}return y(e,[{key:"has",value:function(e){return Object.prototype.hasOwnProperty.call(this.params,e)}},{key:"get",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t[0]:t}return null}},{key:"getAll",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t:[t]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),e}();function ye(e){return new ge(e)}function _e(e){var t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function be(e,t,n){var i=n.path.split("/");if(i.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||i.length<e.length))return null;for(var r={},a=0;a<i.length;a++){var o=i[a],s=e[a];if(o.startsWith(":"))r[o.substring(1)]=s;else if(o!==s.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}function Se(e,t){var n,i=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!i||!r||i.length!=r.length)return!1;for(var a=0;a<i.length;a++)if(!Te(e[n=i[a]],t[n]))return!1;return!0}function Te(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;var n=d(e).sort(),i=d(t).sort();return n.every(function(e,t){return i[t]===e})}return e===t}function we(e){return Array.prototype.concat.apply([],e)}function xe(e){return e.length>0?e[e.length-1]:null}function Ee(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Ce(e){return Object(r.pb)(e)?e:Object(r.qb)(e)?Object(a.a)(Promise.resolve(e)):Object(o.a)(e)}function ke(e,t,n){return n?function(e,t){return Se(e,t)}(e.queryParams,t.queryParams)&&Me(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(function(n){return Te(e[n],t[n])})}(e.queryParams,t.queryParams)&&Oe(e.root,t.root)}function Me(e,t){if(!Pe(e.segments,t.segments))return!1;if(e.numberOfChildren!==t.numberOfChildren)return!1;for(var n in t.children){if(!e.children[n])return!1;if(!Me(e.children[n],t.children[n]))return!1}return!0}function Oe(e,t){return Ae(e,t,t.segments)}function Ae(e,t,n){if(e.segments.length>n.length)return!!Pe(e.segments.slice(0,n.length),n)&&!t.hasChildren();if(e.segments.length===n.length){if(!Pe(e.segments,n))return!1;for(var i in t.children){if(!e.children[i])return!1;if(!Oe(e.children[i],t.children[i]))return!1}return!0}var r=n.slice(0,e.segments.length),a=n.slice(e.segments.length);return!!Pe(e.segments,r)&&!!e.children.primary&&Ae(e.children.primary,t,a)}var Re=function(){function e(t,n,i){_(this,e),this.root=t,this.queryParams=n,this.fragment=i}return y(e,[{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=ye(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return je.serialize(this)}}]),e}(),Ie=function(){function e(t,n){var i=this;_(this,e),this.segments=t,this.children=n,this.parent=null,Ee(n,function(e,t){return e.parent=i})}return y(e,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}},{key:"toString",value:function(){return Fe(this)}}]),e}(),Le=function(){function e(t,n){_(this,e),this.path=t,this.parameters=n}return y(e,[{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=ye(this.parameters)),this._parameterMap}},{key:"toString",value:function(){return Xe(this)}}]),e}();function Pe(e,t){return e.length===t.length&&e.every(function(e,n){return e.path===t[n].path})}var De=function e(){_(this,e)},Ne=function(){function e(){_(this,e)}return y(e,[{key:"parse",value:function(e){var t=new Ze(e);return new Re(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}},{key:"serialize",value:function(e){var t,n,i;return"/".concat(Ue(e.root,!0)).concat((n=e.queryParams,i=Object.keys(n).map(function(e){var t=n[e];return Array.isArray(t)?t.map(function(t){return"".concat(Ve(e),"=").concat(Ve(t))}).join("&"):"".concat(Ve(e),"=").concat(Ve(t))}),i.length?"?".concat(i.join("&")):"")).concat("string"==typeof e.fragment?"#".concat((t=e.fragment,encodeURI(t))):"")}}]),e}(),je=new Ne;function Fe(e){return e.segments.map(function(e){return Xe(e)}).join("/")}function Ue(e,t){if(!e.hasChildren())return Fe(e);if(t){var n=e.children.primary?Ue(e.children.primary,!1):"",i=[];return Ee(e.children,function(e,t){"primary"!==t&&i.push("".concat(t,":").concat(Ue(e,!1)))}),i.length>0?"".concat(n,"(").concat(i.join("//"),")"):n}var r=function(e,t){var n=[];return Ee(e.children,function(e,i){"primary"===i&&(n=n.concat(t(e,i)))}),Ee(e.children,function(e,i){"primary"!==i&&(n=n.concat(t(e,i)))}),n}(e,function(t,n){return"primary"===n?[Ue(e.children.primary,!1)]:["".concat(n,":").concat(Ue(t,!1))]});return 1===Object.keys(e.children).length&&null!=e.children.primary?"".concat(Fe(e),"/").concat(r[0]):"".concat(Fe(e),"/(").concat(r.join("//"),")")}function Ge(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ve(e){return Ge(e).replace(/%3B/gi,";")}function Be(e){return Ge(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ze(e){return decodeURIComponent(e)}function He(e){return ze(e.replace(/\+/g,"%20"))}function Xe(e){return"".concat(Be(e.path)).concat((t=e.parameters,Object.keys(t).map(function(e){return";".concat(Be(e),"=").concat(Be(t[e]))}).join("")));var t}var qe=/^[^\/()?;=#]+/;function We(e){var t=e.match(qe);return t?t[0]:""}var Ye=/^[^=?&#]+/,Ke=/^[^?&#]+/,Ze=function(){function e(t){_(this,e),this.url=t,this.remaining=t}return y(e,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ie([],{}):new Ie([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());var t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new Ie(e,t)),n}},{key:"parseSegment",value:function(){var e=We(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(e),new Le(ze(e),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var e={};this.consumeOptional(";");)this.parseParam(e);return e}},{key:"parseParam",value:function(e){var t=We(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var i=We(this.remaining);i&&(n=i,this.capture(n))}e[ze(t)]=ze(n)}}},{key:"parseQueryParam",value:function(e){var t=function(e){var t=e.match(Ye);return t?t[0]:""}(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var i=function(e){var t=e.match(Ke);return t?t[0]:""}(this.remaining);i&&(n=i,this.capture(n))}var r=He(t),a=He(n);if(e.hasOwnProperty(r)){var o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(a)}else e[r]=a}}},{key:"parseParens",value:function(e){var t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=We(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error("Cannot parse url '".concat(this.url,"'"));var r=void 0;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):e&&(r="primary");var a=this.parseChildren();t[r]=1===Object.keys(a).length?a.primary:new Ie([],a),this.consumeOptional("//")}return t}},{key:"peekStartsWith",value:function(e){return this.remaining.startsWith(e)}},{key:"consumeOptional",value:function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}},{key:"capture",value:function(e){if(!this.consumeOptional(e))throw new Error('Expected "'.concat(e,'".'))}}]),e}(),Je=function(){function e(t){_(this,e),this._root=t}return y(e,[{key:"root",get:function(){return this._root.value}},{key:"parent",value:function(e){var t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}},{key:"children",value:function(e){var t=Qe(e,this._root);return t?t.children.map(function(e){return e.value}):[]}},{key:"firstChild",value:function(e){var t=Qe(e,this._root);return t&&t.children.length>0?t.children[0].value:null}},{key:"siblings",value:function(e){var t=$e(e,this._root);return t.length<2?[]:t[t.length-2].children.map(function(e){return e.value}).filter(function(t){return t!==e})}},{key:"pathFromRoot",value:function(e){return $e(e,this._root).map(function(e){return e.value})}}]),e}();function Qe(e,t){if(e===t.value)return t;var n,i=h(t.children);try{for(i.s();!(n=i.n()).done;){var r=Qe(e,n.value);if(r)return r}}catch(a){i.e(a)}finally{i.f()}return null}function $e(e,t){if(e===t.value)return[t];var n,i=h(t.children);try{for(i.s();!(n=i.n()).done;){var r=$e(e,n.value);if(r.length)return r.unshift(t),r}}catch(a){i.e(a)}finally{i.f()}return[]}var et=function(){function e(t,n){_(this,e),this.value=t,this.children=n}return y(e,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),e}();function tt(e){var t={};return e&&e.children.forEach(function(e){return t[e.value.outlet]=e}),t}var nt=function(e){b(n,e);var t=T(n);function n(e,i){var r;return _(this,n),(r=t.call(this,e)).snapshot=i,lt(x(r),e),r}return y(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(Je);function it(e,t){var n=function(e,t){var n=new ot([],{},{},"",{},"primary",t,null,e.root,-1,{});return new st("",new et(n,[]))}(e,t),i=new s.a([new Le("",{})]),r=new s.a({}),a=new s.a({}),o=new s.a({}),l=new s.a(""),u=new rt(i,r,o,l,a,"primary",t,n.root);return u.snapshot=n.root,new nt(new et(u,[]),n)}var rt=function(){function e(t,n,i,r,a,o,s,l){_(this,e),this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=o,this.component=s,this._futureSnapshot=l}return y(e,[{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(w.a)(function(e){return ye(e)}))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(w.a)(function(e){return ye(e)}))),this._queryParamMap}},{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}}]),e}();function at(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=e.pathFromRoot,i=0;if("always"!==t)for(i=n.length-1;i>=1;){var r=n[i],a=n[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(a.component)break;i--}}return function(e){return e.reduce(function(e,t){return{params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(i))}var ot=function(){function e(t,n,i,r,a,o,s,l,u,c,h){_(this,e),this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=o,this.component=s,this.routeConfig=l,this._urlSegment=u,this._lastPathIndex=c,this._resolve=h}return y(e,[{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=ye(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=ye(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return"Route(url:'".concat(this.url.map(function(e){return e.toString()}).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}}]),e}(),st=function(e){b(n,e);var t=T(n);function n(e,i){var r;return _(this,n),(r=t.call(this,i)).url=e,lt(x(r),i),r}return y(n,[{key:"toString",value:function(){return ut(this._root)}}]),n}(Je);function lt(e,t){t.value._routerState=e,t.children.forEach(function(t){return lt(e,t)})}function ut(e){var t=e.children.length>0?" { ".concat(e.children.map(ut).join(", ")," } "):"";return"".concat(e.value).concat(t)}function ct(e){if(e.snapshot){var t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Se(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Se(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!Se(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Se(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function ht(e,t){var n,i;return Se(e.params,t.params)&&Pe(n=e.url,i=t.url)&&n.every(function(e,t){return Se(e.parameters,i[t].parameters)})&&!(!e.parent!=!t.parent)&&(!e.parent||ht(e.parent,t.parent))}function dt(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){var i=n.value;i._futureSnapshot=t.value;var r=function(e,t,n){return t.children.map(function(t){var i,r=h(n.children);try{for(r.s();!(i=r.n()).done;){var a=i.value;if(e.shouldReuseRoute(t.value,a.value.snapshot))return dt(e,t,a)}}catch(o){r.e(o)}finally{r.f()}return dt(e,t)})}(e,t,n);return new et(i,r)}if(e.shouldAttach(t.value)){var a=e.retrieve(t.value);if(null!==a){var o=a.route;return ft(t,o),o}}var l,u=new rt(new s.a((l=t.value).url),new s.a(l.params),new s.a(l.queryParams),new s.a(l.fragment),new s.a(l.data),l.outlet,l.component,l),c=t.children.map(function(t){return dt(e,t)});return new et(u,c)}function ft(e,t){if(e.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=e.value;for(var n=0;n<e.children.length;++n)ft(e.children[n],t.children[n])}function pt(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function mt(e){return"object"==typeof e&&null!=e&&e.outlets}function vt(e,t,n,i,r){var a={};return i&&Ee(i,function(e,t){a[t]=Array.isArray(e)?e.map(function(e){return"".concat(e)}):"".concat(e)}),new Re(n.root===e?t:gt(n.root,e,t),a,r)}function gt(e,t,n){var i={};return Ee(e.children,function(e,r){i[r]=e===t?n:gt(e,t,n)}),new Ie(e.segments,i)}var yt=function(){function e(t,n,i){if(_(this,e),this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=i,t&&i.length>0&&pt(i[0]))throw new Error("Root segment cannot have matrix parameters");var r=i.find(mt);if(r&&r!==xe(i))throw new Error("{outlets:{}} has to be the last command")}return y(e,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),e}(),_t=function e(t,n,i){_(this,e),this.segmentGroup=t,this.processChildren=n,this.index=i};function bt(e,t,n){if(e||(e=new Ie([],{})),0===e.segments.length&&e.hasChildren())return St(e,t,n);var i=function(e,t,n){for(var i=0,r=t,a={match:!1,pathIndex:0,commandIndex:0};r<e.segments.length;){if(i>=n.length)return a;var o=e.segments[r],s=n[i];if(mt(s))break;var l="".concat(s),u=i<n.length-1?n[i+1]:null;if(r>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!Et(l,u,o))return a;i+=2}else{if(!Et(l,{},o))return a;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(e,t,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){var a=new Ie(e.segments.slice(0,i.pathIndex),{});return a.children.primary=new Ie(e.segments.slice(i.pathIndex),e.children),St(a,0,r)}return i.match&&0===r.length?new Ie(e.segments,{}):i.match&&!e.hasChildren()?Tt(e,t,n):i.match?St(e,0,r):Tt(e,t,n)}function St(e,t,n){if(0===n.length)return new Ie(e.segments,{});var i=function(e){return mt(e[0])?e[0].outlets:{primary:e}}(n),r={};return Ee(i,function(n,i){"string"==typeof n&&(n=[n]),null!==n&&(r[i]=bt(e.children[i],t,n))}),Ee(e.children,function(e,t){void 0===i[t]&&(r[t]=e)}),new Ie(e.segments,r)}function Tt(e,t,n){for(var i=e.segments.slice(0,t),r=0;r<n.length;){var a=n[r];if(mt(a)){var o=wt(a.outlets);return new Ie(i,o)}if(0===r&&pt(n[0]))i.push(new Le(e.segments[t].path,xt(n[0]))),r++;else{var s=mt(a)?a.outlets.primary:"".concat(a),l=r<n.length-1?n[r+1]:null;s&&l&&pt(l)?(i.push(new Le(s,xt(l))),r+=2):(i.push(new Le(s,{})),r++)}}return new Ie(i,{})}function wt(e){var t={};return Ee(e,function(e,n){"string"==typeof e&&(e=[e]),null!==e&&(t[n]=Tt(new Ie([],{}),0,e))}),t}function xt(e){var t={};return Ee(e,function(e,n){return t[n]="".concat(e)}),t}function Et(e,t,n){return e==n.path&&Se(t,n.parameters)}var Ct=function(){function e(t,n,i,r){_(this,e),this.routeReuseStrategy=t,this.futureState=n,this.currState=i,this.forwardEvent=r}return y(e,[{key:"activate",value:function(e){var t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),ct(this.futureState.root),this.activateChildRoutes(t,n,e)}},{key:"deactivateChildRoutes",value:function(e,t,n){var i=this,r=tt(t);e.children.forEach(function(e){var t=e.value.outlet;i.deactivateRoutes(e,r[t],n),delete r[t]}),Ee(r,function(e,t){i.deactivateRouteAndItsChildren(e,n)})}},{key:"deactivateRoutes",value:function(e,t,n){var i=e.value,r=t?t.value:null;if(i===r)if(i.component){var a=n.getContext(i.outlet);a&&this.deactivateChildRoutes(e,t,a.children)}else this.deactivateChildRoutes(e,t,n);else r&&this.deactivateRouteAndItsChildren(t,n)}},{key:"deactivateRouteAndItsChildren",value:function(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}},{key:"detachAndStoreRouteSubtree",value:function(e,t){var n=t.getContext(e.value.outlet);if(n&&n.outlet){var i=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:i,route:e,contexts:r})}}},{key:"deactivateRouteAndOutlet",value:function(e,t){for(var n=t.getContext(e.value.outlet),i=n&&e.value.component?n.children:t,r=tt(e),a=0,o=Object.keys(r);a<o.length;a++){var s=o[a];this.deactivateRouteAndItsChildren(r[s],i)}n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}},{key:"activateChildRoutes",value:function(e,t,n){var i=this,r=tt(t);e.children.forEach(function(e){i.activateRoutes(e,r[e.value.outlet],n),i.forwardEvent(new me(e.value.snapshot))}),e.children.length&&this.forwardEvent(new fe(e.value.snapshot))}},{key:"activateRoutes",value:function(e,t,n){var i=e.value,r=t?t.value:null;if(ct(i),i===r)if(i.component){var a=n.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,a.children)}else this.activateChildRoutes(e,t,n);else if(i.component){var o=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){var s=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(s.contexts),o.attachRef=s.componentRef,o.route=s.route.value,o.outlet&&o.outlet.attach(s.componentRef,s.route.value),kt(s.route)}else{var l=function(e){for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(i.snapshot),u=l?l.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=u,o.outlet&&o.outlet.activateWith(i,u),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,n)}}]),e}();function kt(e){ct(e.value),e.children.forEach(kt)}var Mt=function e(t,n){_(this,e),this.routes=t,this.module=n};function Ot(e){return"function"==typeof e}function At(e){return e instanceof Re}var Rt=Symbol("INITIAL_VALUE");function It(){return Object(E.a)(function(e){return Object(l.a)(e.map(function(e){return e.pipe(Object(k.a)(1),Object(M.a)(Rt))})).pipe(A(function(e,t){var n=!1;return t.reduce(function(e,i,r){if(e!==Rt)return e;if(i===Rt&&(n=!0),!n){if(!1===i)return i;if(r===t.length-1||At(i))return i}return e},e)},Rt),Object(L.a)(function(e){return e!==Rt}),Object(w.a)(function(e){return At(e)?e:!0===e}),Object(k.a)(1))})}var Lt,Pt=((Lt=function e(){_(this,e)}).\u0275fac=function(e){return new(e||Lt)},Lt.\u0275cmp=r.Eb({type:Lt,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&r.Lb(0,"router-outlet")},directives:function(){return[jn]},encapsulation:2}),Lt);function Dt(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<e.length;n++){var i=e[n];Nt(i,jt(t,i))}}function Nt(e,t){e.children&&Dt(e.children,t)}function jt(e,t){return t?e||t.path?e&&!t.path?"".concat(e,"/"):!e&&t.path?t.path:"".concat(e,"/").concat(t.path):"":e}function Ft(e){var t=e.children&&e.children.map(Ft),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Pt),n}function Ut(e){return e.outlet||"primary"}function Gt(e,t){var n=e.filter(function(e){return Ut(e)===t});return n.push.apply(n,d(e.filter(function(e){return Ut(e)!==t}))),n}var Vt={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Bt(e,t,n){var i;if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?Object.assign({},Vt):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};var r=(t.matcher||be)(n,e,t);if(!r)return Object.assign({},Vt);var a={};Ee(r.posParams,function(e,t){a[t]=e.path});var o=r.consumed.length>0?Object.assign(Object.assign({},a),r.consumed[r.consumed.length-1].parameters):a;return{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o,positionalParamSegments:null!==(i=r.posParams)&&void 0!==i?i:{}}}function zt(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"corrected";if(n.length>0&&function(e,t,n){return n.some(function(n){return Ht(e,t,n)&&"primary"!==Ut(n)})}(e,n,i)){var a=new Ie(t,function(e,t,n,i){var r={};r.primary=i,i._sourceSegment=e,i._segmentIndexShift=t.length;var a,o=h(n);try{for(o.s();!(a=o.n()).done;){var s=a.value;if(""===s.path&&"primary"!==Ut(s)){var l=new Ie([],{});l._sourceSegment=e,l._segmentIndexShift=t.length,r[Ut(s)]=l}}}catch(u){o.e(u)}finally{o.f()}return r}(e,t,i,new Ie(n,e.children)));return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(function(n){return Ht(e,t,n)})}(e,n,i)){var o=new Ie(e.segments,function(e,t,n,i,r,a){var o,s={},l=h(i);try{for(l.s();!(o=l.n()).done;){var u=o.value;if(Ht(e,n,u)&&!r[Ut(u)]){var c=new Ie([],{});c._sourceSegment=e,c._segmentIndexShift="legacy"===a?e.segments.length:t.length,s[Ut(u)]=c}}}catch(d){l.e(d)}finally{l.f()}return Object.assign(Object.assign({},r),s)}(e,t,n,i,e.children,r));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:n}}var s=new Ie(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function Ht(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function Xt(e,t,n,i){return!!(Ut(e)===i||"primary"!==i&&Ht(t,n,e))&&("**"===e.path||Bt(t,e,n).matched)}function qt(e,t,n){return 0===t.length&&!e.children[n]}var Wt=function e(t){_(this,e),this.segmentGroup=t||null},Yt=function e(t){_(this,e),this.urlTree=t};function Kt(e){return new u.a(function(t){return t.error(new Wt(e))})}function Zt(e){return new u.a(function(t){return t.error(new Yt(e))})}function Jt(e){return new u.a(function(t){return t.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(e,"'")))})}var Qt=function(){function e(t,n,i,a,o){_(this,e),this.configLoader=n,this.urlSerializer=i,this.urlTree=a,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.y)}return y(e,[{key:"apply",value:function(){var e=this,t=zt(this.urlTree.root,[],[],this.config).segmentGroup,n=new Ie(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,n,"primary").pipe(Object(w.a)(function(t){return e.createUrlTree($t(t),e.urlTree.queryParams,e.urlTree.fragment)})).pipe(D(function(t){if(t instanceof Yt)return e.allowRedirects=!1,e.match(t.urlTree);if(t instanceof Wt)throw e.noMatchError(t);throw t}))}},{key:"match",value:function(e){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,e.root,"primary").pipe(Object(w.a)(function(n){return t.createUrlTree($t(n),e.queryParams,e.fragment)})).pipe(D(function(e){if(e instanceof Wt)throw t.noMatchError(e);throw e}))}},{key:"noMatchError",value:function(e){return new Error("Cannot match any routes. URL Segment: '".concat(e.segmentGroup,"'"))}},{key:"createUrlTree",value:function(e,t,n){var i=e.segments.length>0?new Ie([],{primary:e}):e;return new Re(i,t,n)}},{key:"expandSegmentGroup",value:function(e,t,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(Object(w.a)(function(e){return new Ie([],e)})):this.expandSegment(e,n,t,n.segments,i,!0)}},{key:"expandChildren",value:function(e,t,n){for(var i=this,r=[],o=0,s=Object.keys(n.children);o<s.length;o++){var l=s[o];"primary"===l?r.unshift(l):r.push(l)}return Object(a.a)(r).pipe(Object(F.a)(function(r){var a=n.children[r],o=Gt(t,r);return i.expandSegmentGroup(e,o,a,r).pipe(Object(w.a)(function(e){return{segment:e,outlet:r}}))}),A(function(e,t){return e[t.outlet]=t.segment,e},{}),function(e,t){var n=arguments.length>=2;return function(i){return i.pipe(e?Object(L.a)(function(t,n){return e(t,n,i)}):X.a,G(1),n?Object(H.a)(t):Object(z.a)(function(){return new c.a}))}}())}},{key:"expandSegment",value:function(e,t,n,i,r,s){var l=this;return Object(a.a)(n).pipe(Object(F.a)(function(a){return l.expandSegmentAgainstRoute(e,t,n,a,i,r,s).pipe(D(function(e){if(e instanceof Wt)return Object(o.a)(null);throw e}))}),Object(q.a)(function(e){return!!e}),D(function(e,n){if(e instanceof c.a||"EmptyError"===e.name){if(qt(t,i,r))return Object(o.a)(new Ie([],{}));throw new Wt(t)}throw e}))}},{key:"expandSegmentAgainstRoute",value:function(e,t,n,i,r,a,o){return Xt(i,t,r,a)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,r,a):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,i,r,a):Kt(t):Kt(t)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(e,t,n,i,r,a){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,i,a):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,i,r,a)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(e,t,n,i){var r=this,a=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Zt(a):this.lineralizeSegments(n,a).pipe(Object(W.a)(function(n){var a=new Ie(n,{});return r.expandSegment(e,a,t,n,i,!1)}))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(e,t,n,i,r,a){var o=this,s=Bt(t,i,r),l=s.matched,u=s.consumedSegments,c=s.lastChild,h=s.positionalParamSegments;if(!l)return Kt(t);var d=this.applyRedirectCommands(u,i.redirectTo,h);return i.redirectTo.startsWith("/")?Zt(d):this.lineralizeSegments(i,d).pipe(Object(W.a)(function(i){return o.expandSegment(e,t,n,i.concat(r.slice(c)),a,!1)}))}},{key:"matchSegmentAgainstRoute",value:function(e,t,n,i,r){var a=this;if("**"===n.path)return n.loadChildren?(n._loadedConfig?Object(o.a)(n._loadedConfig):this.configLoader.load(e.injector,n)).pipe(Object(w.a)(function(e){return n._loadedConfig=e,new Ie(i,{})})):Object(o.a)(new Ie(i,{}));var s=Bt(t,n,i),l=s.matched,u=s.consumedSegments,c=s.lastChild;if(!l)return Kt(t);var h=i.slice(c);return this.getChildConfig(e,n,i).pipe(Object(W.a)(function(e){var i=e.module,s=e.routes,l=zt(t,u,h,s),c=l.segmentGroup,d=l.slicedSegments,f=new Ie(c.segments,c.children);if(0===d.length&&f.hasChildren())return a.expandChildren(i,s,f).pipe(Object(w.a)(function(e){return new Ie(u,e)}));if(0===s.length&&0===d.length)return Object(o.a)(new Ie(u,{}));var p=Ut(n)===r;return a.expandSegment(i,f,s,d,p?"primary":r,!0).pipe(Object(w.a)(function(e){return new Ie(u.concat(e.segments),e.children)}))}))}},{key:"getChildConfig",value:function(e,t,n){var i=this;return t.children?Object(o.a)(new Mt(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Object(o.a)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,n).pipe(Object(W.a)(function(n){return n?i.configLoader.load(e.injector,t).pipe(Object(w.a)(function(e){return t._loadedConfig=e,e})):function(e){return new u.a(function(t){return t.error(_e("Cannot load children because the guard of the route \"path: '".concat(e.path,"'\" returned false")))})}(t)})):Object(o.a)(new Mt([],e))}},{key:"runCanLoadGuards",value:function(e,t,n){var i=this,r=t.canLoad;if(!r||0===r.length)return Object(o.a)(!0);var a=r.map(function(i){var r,a=e.get(i);if(function(e){return e&&Ot(e.canLoad)}(a))r=a.canLoad(t,n);else{if(!Ot(a))throw new Error("Invalid CanLoad guard");r=a(t,n)}return Ce(r)});return Object(o.a)(a).pipe(It(),Object(Y.a)(function(e){if(At(e)){var t=_e('Redirecting to "'.concat(i.urlSerializer.serialize(e),'"'));throw t.url=e,t}}),Object(w.a)(function(e){return!0===e}))}},{key:"lineralizeSegments",value:function(e,t){for(var n=[],i=t.root;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return Object(o.a)(n);if(i.numberOfChildren>1||!i.children.primary)return Jt(e.redirectTo);i=i.children.primary}}},{key:"applyRedirectCommands",value:function(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}},{key:"applyRedirectCreatreUrlTree",value:function(e,t,n,i){var r=this.createSegmentGroup(e,t.root,n,i);return new Re(r,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}},{key:"createQueryParams",value:function(e,t){var n={};return Ee(e,function(e,i){if("string"==typeof e&&e.startsWith(":")){var r=e.substring(1);n[i]=t[r]}else n[i]=e}),n}},{key:"createSegmentGroup",value:function(e,t,n,i){var r=this,a=this.createSegments(e,t.segments,n,i),o={};return Ee(t.children,function(t,a){o[a]=r.createSegmentGroup(e,t,n,i)}),new Ie(a,o)}},{key:"createSegments",value:function(e,t,n,i){var r=this;return t.map(function(t){return t.path.startsWith(":")?r.findPosParam(e,t,i):r.findOrReturn(t,n)})}},{key:"findPosParam",value:function(e,t,n){var i=n[t.path.substring(1)];if(!i)throw new Error("Cannot redirect to '".concat(e,"'. Cannot find '").concat(t.path,"'."));return i}},{key:"findOrReturn",value:function(e,t){var n,i=0,r=h(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a.path===e.path)return t.splice(i),a;i++}}catch(o){r.e(o)}finally{r.f()}return e}}]),e}();function $t(e){for(var t={},n=0,i=Object.keys(e.children);n<i.length;n++){var r=i[n],a=$t(e.children[r]);(a.segments.length>0||a.hasChildren())&&(t[r]=a)}return function(e){if(1===e.numberOfChildren&&e.children.primary){var t=e.children.primary;return new Ie(e.segments.concat(t.segments),t.children)}return e}(new Ie(e.segments,t))}var en=function e(t){_(this,e),this.path=t,this.route=this.path[this.path.length-1]},tn=function e(t,n){_(this,e),this.component=t,this.route=n};function nn(e,t,n){var i=e._root;return an(i,t?t._root:null,n,[i.value])}function rn(e,t,n){var i=function(e){if(!e)return null;for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(i?i.module.injector:n).get(e)}function an(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=tt(t);return e.children.forEach(function(e){!function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=e.value,o=t?t.value:null,s=n?n.getContext(e.value.outlet):null;if(o&&a.routeConfig===o.routeConfig){var l=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Pe(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Pe(e.url,t.url)||!Se(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ht(e,t)||!Se(e.queryParams,t.queryParams);case"paramsChange":default:return!ht(e,t)}}(o,a,a.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new en(i)):(a.data=o.data,a._resolvedData=o._resolvedData),an(e,t,a.component?s?s.children:null:n,i,r),l&&s&&s.outlet&&s.outlet.isActivated&&r.canDeactivateChecks.push(new tn(s.outlet.component,o))}else o&&on(t,s,r),r.canActivateChecks.push(new en(i)),an(e,null,a.component?s?s.children:null:n,i,r)}(e,a[e.value.outlet],n,i.concat([e.value]),r),delete a[e.value.outlet]}),Ee(a,function(e,t){return on(e,n.getContext(t),r)}),r}function on(e,t,n){var i=tt(e),r=e.value;Ee(i,function(e,i){on(e,r.component?t?t.children.getContext(i):null:t,n)}),n.canDeactivateChecks.push(new tn(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}var sn=function e(){_(this,e)};function ln(e){return new u.a(function(t){return t.error(e)})}var un=function(){function e(t,n,i,r,a,o){_(this,e),this.rootComponentType=t,this.config=n,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=o}return y(e,[{key:"recognize",value:function(){var e=zt(this.urlTree.root,[],[],this.config.filter(function(e){return void 0===e.redirectTo}),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,"primary");if(null===t)return null;var n=new ot([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),i=new et(n,t),r=new st(this.url,i);return this.inheritParamsAndData(r._root),r}},{key:"inheritParamsAndData",value:function(e){var t=this,n=e.value,i=at(n,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),e.children.forEach(function(e){return t.inheritParamsAndData(e)})}},{key:"processSegmentGroup",value:function(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}},{key:"processChildren",value:function(e,t){for(var n=[],i=0,r=Object.keys(t.children);i<r.length;i++){var a=r[i],o=t.children[a],s=Gt(e,a),l=this.processSegmentGroup(s,o,a);if(null===l)return null;n.push.apply(n,d(l))}var u=cn(n);return u.sort(function(e,t){return"primary"===e.value.outlet?-1:"primary"===t.value.outlet?1:e.value.outlet.localeCompare(t.value.outlet)}),u}},{key:"processSegment",value:function(e,t,n,i){var r,a=h(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=this.processSegmentAgainstRoute(o,t,n,i);if(null!==s)return s}}catch(l){a.e(l)}finally{a.f()}return qt(t,n,i)?[]:null}},{key:"processSegmentAgainstRoute",value:function(e,t,n,i){if(e.redirectTo||!Xt(e,t,n,i))return null;var r,a=[],o=[];if("**"===e.path){var s=n.length>0?xe(n).parameters:{};r=new ot(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,fn(e),Ut(e),e.component,e,hn(t),dn(t)+n.length,pn(e))}else{var l=Bt(t,e,n);if(!l.matched)return null;a=l.consumedSegments,o=n.slice(l.lastChild),r=new ot(a,l.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,fn(e),Ut(e),e.component,e,hn(t),dn(t)+a.length,pn(e))}var u=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),c=zt(t,a,o,u.filter(function(e){return void 0===e.redirectTo}),this.relativeLinkResolution),h=c.segmentGroup,d=c.slicedSegments;if(0===d.length&&h.hasChildren()){var f=this.processChildren(u,h);return null===f?null:[new et(r,f)]}if(0===u.length&&0===d.length)return[new et(r,[])];var p=Ut(e)===i,m=this.processSegment(u,h,d,p?"primary":i);return null===m?null:[new et(r,m)]}}]),e}();function cn(e){var t,n=[],i=new Set,r=h(e);try{var a=function(){var e,r=t.value;if(!function(e){var t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}(r))return n.push(r),"continue";var a=n.find(function(e){return r.value.routeConfig===e.value.routeConfig});void 0!==a?((e=a.children).push.apply(e,d(r.children)),i.add(a)):n.push(r)};for(r.s();!(t=r.n()).done;)a()}catch(c){r.e(c)}finally{r.f()}var o,s=h(i);try{for(s.s();!(o=s.n()).done;){var l=o.value,u=cn(l.children);n.push(new et(l.value,u))}}catch(c){s.e(c)}finally{s.f()}return n.filter(function(e){return!i.has(e)})}function hn(e){for(var t=e;t._sourceSegment;)t=t._sourceSegment;return t}function dn(e){for(var t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function fn(e){return e.data||{}}function pn(e){return e.resolve||{}}function mn(e){return Object(E.a)(function(t){var n=e(t);return n?Object(a.a)(n).pipe(Object(w.a)(function(){return t})):Object(o.a)(t)})}var vn=function(e){b(n,e);var t=T(n);function n(){return _(this,n),t.apply(this,arguments)}return n}(function(){function e(){_(this,e)}return y(e,[{key:"shouldDetach",value:function(e){return!1}},{key:"store",value:function(e,t){}},{key:"shouldAttach",value:function(e){return!1}},{key:"retrieve",value:function(e){return null}},{key:"shouldReuseRoute",value:function(e,t){return e.routeConfig===t.routeConfig}}]),e}()),gn=new r.r("ROUTES"),yn=function(){function e(t,n,i,r){_(this,e),this.loader=t,this.compiler=n,this.onLoadStartListener=i,this.onLoadEndListener=r}return y(e,[{key:"load",value:function(e,t){var n=this;if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);var i=this.loadModuleFactory(t.loadChildren).pipe(Object(w.a)(function(i){n.onLoadEndListener&&n.onLoadEndListener(t);var a=i.create(e);return new Mt(we(a.injector.get(gn,void 0,r.q.Self|r.q.Optional)).map(Ft),a)}),D(function(e){throw t._loader$=void 0,e}));return t._loader$=new g.a(i,function(){return new S.a}).pipe(Object(K.a)()),t._loader$}},{key:"loadModuleFactory",value:function(e){var t=this;return"string"==typeof e?Object(a.a)(this.loader.load(e)):Ce(e()).pipe(Object(W.a)(function(e){return e instanceof r.w?Object(o.a)(e):Object(a.a)(t.compiler.compileModuleAsync(e))}))}}]),e}(),_n=function e(){_(this,e),this.outlet=null,this.route=null,this.resolver=null,this.children=new bn,this.attachRef=null},bn=function(){function e(){_(this,e),this.contexts=new Map}return y(e,[{key:"onChildOutletCreated",value:function(e,t){var n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}},{key:"onChildOutletDestroyed",value:function(e){var t=this.getContext(e);t&&(t.outlet=null)}},{key:"onOutletDeactivated",value:function(){var e=this.contexts;return this.contexts=new Map,e}},{key:"onOutletReAttached",value:function(e){this.contexts=e}},{key:"getOrCreateContext",value:function(e){var t=this.getContext(e);return t||(t=new _n,this.contexts.set(e,t)),t}},{key:"getContext",value:function(e){return this.contexts.get(e)||null}}]),e}(),Sn=function(){function e(){_(this,e)}return y(e,[{key:"shouldProcessUrl",value:function(e){return!0}},{key:"extract",value:function(e){return e}},{key:"merge",value:function(e,t){return e}}]),e}();function Tn(e){throw e}function wn(e,t,n){return t.parse("/")}function xn(e,t){return Object(o.a)(null)}var En,Cn,kn,Mn=((kn=function(){function e(t,n,i,a,o,l,u,c){var h=this;_(this,e),this.rootComponentType=t,this.urlSerializer=n,this.rootContexts=i,this.location=a,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new S.a,this.errorHandler=Tn,this.malformedUriErrorHandler=wn,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:xn,afterPreactivation:xn},this.urlHandlingStrategy=new Sn,this.routeReuseStrategy=new vn,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(r.y),this.console=o.get(r.X);var d=o.get(r.A);this.isNgZoneEnabled=d instanceof r.A&&r.A.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new Re(new Ie([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new yn(l,u,function(e){return h.triggerEvent(new ce(e))},function(e){return h.triggerEvent(new he(e))}),this.routerState=it(this.currentUrlTree,this.rootComponentType),this.transitions=new s.a({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return y(e,[{key:"setupNavigations",value:function(e){var t=this,n=this.events;return e.pipe(Object(L.a)(function(e){return 0!==e.id}),Object(w.a)(function(e){return Object.assign(Object.assign({},e),{extractedUrl:t.urlHandlingStrategy.extract(e.rawUrl)})}),Object(E.a)(function(e){var i,r,s,l,u=!1,c=!1;return Object(o.a)(e).pipe(Object(Y.a)(function(e){t.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:t.lastSuccessfulNavigation?Object.assign(Object.assign({},t.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Object(E.a)(function(e){var i,r,a,s,l=!t.navigated||e.extractedUrl.toString()!==t.browserUrlTree.toString();if(("reload"===t.onSameUrlNavigation||l)&&t.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return Object(o.a)(e).pipe(Object(E.a)(function(e){var i=t.transitions.getValue();return n.next(new te(e.id,t.serializeUrl(e.extractedUrl),e.source,e.restoredState)),i!==t.transitions.getValue()?p.a:Promise.resolve(e)}),(i=t.ngModule.injector,r=t.configLoader,a=t.urlSerializer,s=t.config,Object(E.a)(function(e){return function(e,t,n,i,r){return new Qt(e,t,n,i,r).apply()}(i,r,a,e.extractedUrl,s).pipe(Object(w.a)(function(t){return Object.assign(Object.assign({},e),{urlAfterRedirects:t})}))})),Object(Y.a)(function(e){t.currentNavigation=Object.assign(Object.assign({},t.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,n,i,r,a){return Object(W.a)(function(i){return function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";try{var s=new un(e,t,n,i,r,a).recognize();return null===s?ln(new sn):Object(o.a)(s)}catch(l){return ln(l)}}(e,n,i.urlAfterRedirects,(s=i.urlAfterRedirects,t.serializeUrl(s)),r,a).pipe(Object(w.a)(function(e){return Object.assign(Object.assign({},i),{targetSnapshot:e})}));var s})}(t.rootComponentType,t.config,0,t.paramsInheritanceStrategy,t.relativeLinkResolution),Object(Y.a)(function(e){"eager"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects);var i=new ae(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);n.next(i)}));if(l&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){var u=e.id,c=e.extractedUrl,h=e.source,d=e.restoredState,f=e.extras,m=new te(u,t.serializeUrl(c),h,d);n.next(m);var v=it(c,t.rootComponentType).snapshot;return Object(o.a)(Object.assign(Object.assign({},e),{targetSnapshot:v,urlAfterRedirects:c,extras:Object.assign(Object.assign({},f),{skipLocationChange:!1,replaceUrl:!1})}))}return t.rawUrlTree=e.rawUrl,t.browserUrlTree=e.urlAfterRedirects,e.resolve(null),p.a}),mn(function(e){var n=e.targetSnapshot,i=e.id,r=e.extractedUrl,a=e.rawUrl,o=e.extras,s=o.skipLocationChange,l=o.replaceUrl;return t.hooks.beforePreactivation(n,{navigationId:i,appliedUrlTree:r,rawUrlTree:a,skipLocationChange:!!s,replaceUrl:!!l})}),Object(Y.a)(function(e){var n=new oe(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)}),Object(w.a)(function(e){return Object.assign(Object.assign({},e),{guards:nn(e.targetSnapshot,e.currentSnapshot,t.rootContexts)})}),function(e,t){return Object(W.a)(function(n){var i=n.targetSnapshot,r=n.currentSnapshot,s=n.guards,l=s.canActivateChecks,u=s.canDeactivateChecks;return 0===u.length&&0===l.length?Object(o.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,i){return Object(a.a)(e).pipe(Object(W.a)(function(e){return function(e,t,n,i,r){var a=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!a||0===a.length)return Object(o.a)(!0);var s=a.map(function(a){var o,s=rn(a,t,r);if(function(e){return e&&Ot(e.canDeactivate)}(s))o=Ce(s.canDeactivate(e,t,n,i));else{if(!Ot(s))throw new Error("Invalid CanDeactivate guard");o=Ce(s(e,t,n,i))}return o.pipe(Object(q.a)())});return Object(o.a)(s).pipe(It())}(e.component,e.route,n,t,i)}),Object(q.a)(function(e){return!0!==e},!0))}(u,i,r,e).pipe(Object(W.a)(function(n){return n&&"boolean"==typeof n?function(e,t,n,i){return Object(a.a)(t).pipe(Object(F.a)(function(t){return Object(f.a)(function(e,t){return null!==e&&t&&t(new de(e)),Object(o.a)(!0)}(t.route.parent,i),function(e,t){return null!==e&&t&&t(new pe(e)),Object(o.a)(!0)}(t.route,i),function(e,t,n){var i=t[t.length-1],r=t.slice(0,t.length-1).reverse().map(function(e){return function(e){var t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)}).filter(function(e){return null!==e}).map(function(t){return m(function(){var r=t.guards.map(function(r){var a,o=rn(r,t.node,n);if(function(e){return e&&Ot(e.canActivateChild)}(o))a=Ce(o.canActivateChild(i,e));else{if(!Ot(o))throw new Error("Invalid CanActivateChild guard");a=Ce(o(i,e))}return a.pipe(Object(q.a)())});return Object(o.a)(r).pipe(It())})});return Object(o.a)(r).pipe(It())}(e,t.path,n),function(e,t,n){var i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Object(o.a)(!0);var r=i.map(function(i){return m(function(){var r,a=rn(i,t,n);if(function(e){return e&&Ot(e.canActivate)}(a))r=Ce(a.canActivate(t,e));else{if(!Ot(a))throw new Error("Invalid CanActivate guard");r=Ce(a(t,e))}return r.pipe(Object(q.a)())})});return Object(o.a)(r).pipe(It())}(e,t.route,n))}),Object(q.a)(function(e){return!0!==e},!0))}(i,l,e,t):Object(o.a)(n)}),Object(w.a)(function(e){return Object.assign(Object.assign({},n),{guardsResult:e})}))})}(t.ngModule.injector,function(e){return t.triggerEvent(e)}),Object(Y.a)(function(e){if(At(e.guardsResult)){var n=_e('Redirecting to "'.concat(t.serializeUrl(e.guardsResult),'"'));throw n.url=e.guardsResult,n}var i=new se(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);t.triggerEvent(i)}),Object(L.a)(function(e){if(!e.guardsResult){t.resetUrlToCurrentUrlTree();var i=new ie(e.id,t.serializeUrl(e.extractedUrl),"");return n.next(i),e.resolve(!1),!1}return!0}),mn(function(e){if(e.guards.canActivateChecks.length)return Object(o.a)(e).pipe(Object(Y.a)(function(e){var n=new le(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)}),Object(E.a)(function(e){var i,r,s=!1;return Object(o.a)(e).pipe((i=t.paramsInheritanceStrategy,r=t.ngModule.injector,Object(W.a)(function(e){var t=e.targetSnapshot,n=e.guards.canActivateChecks;if(!n.length)return Object(o.a)(e);var s=0;return Object(a.a)(n).pipe(Object(F.a)(function(e){return function(e,t,n,i){return function(e,t,n,i){var r=Object.keys(e);if(0===r.length)return Object(o.a)({});var s={};return Object(a.a)(r).pipe(Object(W.a)(function(r){return function(e,t,n,i){var r=rn(e,t,i);return Ce(r.resolve?r.resolve(t,n):r(t,n))}(e[r],t,n,i).pipe(Object(Y.a)(function(e){s[r]=e}))}),G(1),Object(W.a)(function(){return Object.keys(s).length===r.length?Object(o.a)(s):p.a}))}(e._resolve,e,t,i).pipe(Object(w.a)(function(t){return e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),at(e,n).resolve),null}))}(e.route,t,i,r)}),Object(Y.a)(function(){return s++}),G(1),Object(W.a)(function(t){return s===n.length?Object(o.a)(e):p.a}))})),Object(Y.a)({next:function(){return s=!0},complete:function(){if(!s){var i=new ie(e.id,t.serializeUrl(e.extractedUrl),"At least one route resolver didn't emit any value.");n.next(i),e.resolve(!1)}}}))}),Object(Y.a)(function(e){var n=new ue(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)}))}),mn(function(e){var n=e.targetSnapshot,i=e.id,r=e.extractedUrl,a=e.rawUrl,o=e.extras,s=o.skipLocationChange,l=o.replaceUrl;return t.hooks.afterPreactivation(n,{navigationId:i,appliedUrlTree:r,rawUrlTree:a,skipLocationChange:!!s,replaceUrl:!!l})}),Object(w.a)(function(e){var n=function(e,t,n){var i=dt(e,t._root,n?n._root:void 0);return new nt(i,t)}(t.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:n})}),Object(Y.a)(function(e){t.currentUrlTree=e.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(t.currentUrlTree,e.rawUrl),t.routerState=e.targetRouterState,"deferred"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)}),(r=t.rootContexts,s=t.routeReuseStrategy,l=function(e){return t.triggerEvent(e)},Object(w.a)(function(e){return new Ct(s,e.targetRouterState,e.currentRouterState,l).activate(r),e})),Object(Y.a)({next:function(){u=!0},complete:function(){u=!0}}),(i=function(){if(!u&&!c){t.resetUrlToCurrentUrlTree();var i=new ie(e.id,t.serializeUrl(e.extractedUrl),"Navigation ID ".concat(e.id," is not equal to the current navigation id ").concat(t.navigationId));n.next(i),e.resolve(!1)}t.currentNavigation=null},function(e){return e.lift(new J(i))}),D(function(i){if(c=!0,(s=i)&&s.ngNavigationCancelingError){var r=At(i.url);r||(t.navigated=!0,t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));var a=new ie(e.id,t.serializeUrl(e.extractedUrl),i.message);n.next(a),r?setTimeout(function(){var n=t.urlHandlingStrategy.merge(i.url,t.rawUrlTree);t.scheduleNavigation(n,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);var o=new re(e.id,t.serializeUrl(e.extractedUrl),i);n.next(o);try{e.resolve(t.errorHandler(i))}catch(l){e.reject(l)}}var s;return p.a}))}))}},{key:"resetRootComponentType",value:function(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}},{key:"setTransition",value:function(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var e=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(t){var n=e.extractLocationChangeInfoFromEvent(t);e.shouldScheduleNavigation(e.lastLocationChangeInfo,n)&&setTimeout(function(){var t=n.source,i=n.state,r=n.urlTree,a={replaceUrl:!0};if(i){var o=Object.assign({},i);delete o.navigationId,0!==Object.keys(o).length&&(a.state=o)}e.scheduleNavigation(r,t,i,a)},0),e.lastLocationChangeInfo=n}))}},{key:"extractLocationChangeInfoFromEvent",value:function(e){var t;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(t=e.state)||void 0===t?void 0:t.navigationId)?e.state:null,transitionId:this.getTransition().id}}},{key:"shouldScheduleNavigation",value:function(e,t){if(!e)return!0;var n=t.urlTree.toString()===e.urlTree.toString();return!(t.transitionId===e.transitionId&&n&&("hashchange"===t.source&&"popstate"===e.source||"popstate"===t.source&&"hashchange"===e.source))}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(e){this.events.next(e)}},{key:"resetConfig",value:function(e){Dt(e),this.config=e.map(Ft),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}},{key:"createUrlTree",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.relativeTo,i=t.queryParams,r=t.fragment,a=t.queryParamsHandling,o=t.preserveFragment,s=n||this.routerState.root,l=o?this.currentUrlTree.fragment:r,u=null;switch(a){case"merge":u=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=i||null}return null!==u&&(u=this.removeEmptyProps(u)),function(e,t,n,i,r){if(0===n.length)return vt(t.root,t.root,t,i,r);var a=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new yt(!0,0,e);var t=0,n=!1,i=e.reduce(function(e,i,r){if("object"==typeof i&&null!=i){if(i.outlets){var a={};return Ee(i.outlets,function(e,t){a[t]="string"==typeof e?e.split("/"):e}),[].concat(d(e),[{outlets:a}])}if(i.segmentPath)return[].concat(d(e),[i.segmentPath])}return"string"!=typeof i?[].concat(d(e),[i]):0===r?(i.split("/").forEach(function(i,r){0==r&&"."===i||(0==r&&""===i?n=!0:".."===i?t++:""!=i&&e.push(i))}),e):[].concat(d(e),[i])},[]);return new yt(n,t,i)}(n);if(a.toRoot())return vt(t.root,new Ie([],{}),t,i,r);var o=function(e,t,n){if(e.isAbsolute)return new _t(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){var i=n.snapshot._urlSegment;return new _t(i,i===t.root,0)}var r=pt(e.commands[0])?0:1;return function(e,t,n){for(var i=e,r=t,a=n;a>r;){if(a-=r,!(i=i.parent))throw new Error("Invalid number of '../'");r=i.segments.length}return new _t(i,!1,r-a)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(a,t,e),s=o.processChildren?St(o.segmentGroup,o.index,a.commands):bt(o.segmentGroup,o.index,a.commands);return vt(o.segmentGroup,s,t,i,r)}(s,this.currentUrlTree,e,u,l)}},{key:"navigateByUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1},n=At(e)?e:this.parseUrl(e),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,t)}},{key:"navigate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(e){for(var t=0;t<e.length;t++){var n=e[t];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(t))}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}},{key:"serializeUrl",value:function(e){return this.urlSerializer.serialize(e)}},{key:"parseUrl",value:function(e){var t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}},{key:"isActive",value:function(e,t){if(At(e))return ke(this.currentUrlTree,e,t);var n=this.parseUrl(e);return ke(this.currentUrlTree,n,t)}},{key:"removeEmptyProps",value:function(e){return Object.keys(e).reduce(function(t,n){var i=e[n];return null!=i&&(t[n]=i),t},{})}},{key:"processNavigations",value:function(){var e=this;this.navigations.subscribe(function(t){e.navigated=!0,e.lastSuccessfulId=t.id,e.events.next(new ne(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(e.currentUrlTree))),e.lastSuccessfulNavigation=e.currentNavigation,t.resolve(!0)},function(t){e.console.warn("Unhandled Navigation Error: ")})}},{key:"scheduleNavigation",value:function(e,t,n,i,r){if(this.disposed)return Promise.resolve(!1);var a,o,s,l=this.getTransition(),u="imperative"!==t&&"imperative"===(null==l?void 0:l.source),c=(this.lastSuccessfulId===l.id||this.currentNavigation?l.rawUrl:l.urlAfterRedirects).toString()===e.toString();if(u&&c)return Promise.resolve(!0);r?(a=r.resolve,o=r.reject,s=r.promise):s=new Promise(function(e,t){a=e,o=t});var h=++this.navigationId;return this.setTransition({id:h,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:i,resolve:a,reject:o,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch(function(e){return Promise.reject(e)})}},{key:"setBrowserUrl",value:function(e,t,n,i){var r=this.urlSerializer.serialize(e);i=i||{},this.location.isCurrentPathEqualTo(r)||t?this.location.replaceState(r,"",Object.assign(Object.assign({},i),{navigationId:n})):this.location.go(r,"",Object.assign(Object.assign({},i),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}]),e}()).\u0275fac=function(e){return new(e||kn)(r.Ub(r.N),r.Ub(De),r.Ub(bn),r.Ub(i.j),r.Ub(r.s),r.Ub(r.x),r.Ub(r.i),r.Ub(void 0))},kn.\u0275prov=r.Gb({token:kn,factory:kn.\u0275fac}),kn),On=((Cn=function(){function e(t,n,i,r,a){_(this,e),this.router=t,this.route=n,this.commands=[],this.onChanges=new S.a,null==i&&r.setAttribute(a.nativeElement,"tabindex","0")}return y(e,[{key:"ngOnChanges",value:function(e){this.onChanges.next(this)}},{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"onClick",value:function(){var e={skipLocationChange:Rn(this.skipLocationChange),replaceUrl:Rn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Rn(this.preserveFragment)})}}]),e}()).\u0275fac=function(e){return new(e||Cn)(r.Kb(Mn),r.Kb(rt),r.Vb("tabindex"),r.Kb(r.E),r.Kb(r.l))},Cn.\u0275dir=r.Fb({type:Cn,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&r.Xb("click",function(){return t.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.xb]}),Cn),An=((En=function(){function e(t,n,i){var r=this;_(this,e),this.router=t,this.route=n,this.locationStrategy=i,this.commands=[],this.onChanges=new S.a,this.subscription=t.events.subscribe(function(e){e instanceof ne&&r.updateTargetUrlAndHref()})}return y(e,[{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"ngOnChanges",value:function(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(e,t,n,i,r){if(0!==e||t||n||i||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var a={skipLocationChange:Rn(this.skipLocationChange),replaceUrl:Rn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Rn(this.preserveFragment)})}}]),e}()).\u0275fac=function(e){return new(e||En)(r.Kb(Mn),r.Kb(rt),r.Kb(i.k))},En.\u0275dir=r.Fb({type:En,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&r.Xb("click",function(e){return t.onClick(e.button,e.ctrlKey,e.shiftKey,e.altKey,e.metaKey)}),2&e&&(r.Tb("href",t.href,r.rc),r.Ab("target",t.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.xb]}),En);function Rn(e){return""===e||!!e}var In,Ln,Pn,Dn,Nn=((Ln=function(){function e(t,n,i,r,a,o){var s=this;_(this,e),this.router=t,this.element=n,this.renderer=i,this.cdr=r,this.link=a,this.linkWithHref=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(function(e){e instanceof ne&&s.update()})}return y(e,[{key:"ngAfterContentInit",value:function(){var e=this;Object(o.a)(this.links.changes,this.linksWithHrefs.changes,Object(o.a)(null)).pipe(Object($.a)()).subscribe(function(t){e.update(),e.subscribeToEachLinkOnChanges()})}},{key:"subscribeToEachLinkOnChanges",value:function(){var e,t=this;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();var n=[].concat(d(this.links.toArray()),d(this.linksWithHrefs.toArray()),[this.link,this.linkWithHref]).filter(function(e){return!!e}).map(function(e){return e.onChanges});this.linkInputChangesSubscription=Object(a.a)(n).pipe(Object($.a)()).subscribe(function(e){t.isActive!==t.isLinkActive(t.router)(e)&&t.update()})}},{key:"routerLinkActive",set:function(e){var t=Array.isArray(e)?e:e.split(" ");this.classes=t.filter(function(e){return!!e})}},{key:"ngOnChanges",value:function(e){this.update()}},{key:"ngOnDestroy",value:function(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}},{key:"update",value:function(){var e=this;this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(function(){var t=e.hasActiveLinks();e.isActive!==t&&(e.isActive=t,e.cdr.markForCheck(),e.classes.forEach(function(n){t?e.renderer.addClass(e.element.nativeElement,n):e.renderer.removeClass(e.element.nativeElement,n)}))})}},{key:"isLinkActive",value:function(e){var t=this;return function(n){return e.isActive(n.urlTree,t.routerLinkActiveOptions.exact)}}},{key:"hasActiveLinks",value:function(){var e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}]),e}()).\u0275fac=function(e){return new(e||Ln)(r.Kb(Mn),r.Kb(r.l),r.Kb(r.E),r.Kb(r.h),r.Kb(On,8),r.Kb(An,8))},Ln.\u0275dir=r.Fb({type:Ln,selectors:[["","routerLinkActive",""]],contentQueries:function(e,t,n){var i;1&e&&(r.Db(n,On,1),r.Db(n,An,1)),2&e&&(r.kc(i=r.Yb())&&(t.links=i),r.kc(i=r.Yb())&&(t.linksWithHrefs=i))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[r.xb]}),Ln),jn=((In=function(){function e(t,n,i,a,o){_(this,e),this.parentContexts=t,this.location=n,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=a||"primary",t.onChildOutletCreated(this.name,this)}return y(e,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var e=this.activated;return this.activated=null,this._activatedRoute=null,e}},{key:"attach",value:function(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}},{key:"deactivate",value:function(){if(this.activated){var e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}},{key:"activateWith",value:function(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;var n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,r=new Fn(e,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}]),e}()).\u0275fac=function(e){return new(e||In)(r.Kb(bn),r.Kb(r.P),r.Kb(r.j),r.Vb("name"),r.Kb(r.h))},In.\u0275dir=r.Fb({type:In,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),In),Fn=function(){function e(t,n,i){_(this,e),this.route=t,this.childContexts=n,this.parent=i}return y(e,[{key:"get",value:function(e,t){return e===rt?this.route:e===bn?this.childContexts:this.parent.get(e,t)}}]),e}(),Un=function e(){_(this,e)},Gn=function(){function e(){_(this,e)}return y(e,[{key:"preload",value:function(e,t){return t().pipe(D(function(){return Object(o.a)(null)}))}}]),e}(),Vn=function(){function e(){_(this,e)}return y(e,[{key:"preload",value:function(e,t){return Object(o.a)(null)}}]),e}(),Bn=((Dn=function(){function e(t,n,i,r,a){_(this,e),this.router=t,this.injector=r,this.preloadingStrategy=a,this.loader=new yn(n,i,function(e){return t.triggerEvent(new ce(e))},function(e){return t.triggerEvent(new he(e))})}return y(e,[{key:"setUpPreloading",value:function(){var e=this;this.subscription=this.router.events.pipe(Object(L.a)(function(e){return e instanceof ne}),Object(F.a)(function(){return e.preload()})).subscribe(function(){})}},{key:"preload",value:function(){var e=this.injector.get(r.y);return this.processRoutes(e,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"processRoutes",value:function(e,t){var n,i=[],r=h(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var s=o._loadedConfig;i.push(this.processRoutes(s.module,s.routes))}else o.loadChildren&&!o.canLoad?i.push(this.preloadConfig(e,o)):o.children&&i.push(this.processRoutes(e,o.children))}}catch(l){r.e(l)}finally{r.f()}return Object(a.a)(i).pipe(Object($.a)(),Object(w.a)(function(e){}))}},{key:"preloadConfig",value:function(e,t){var n=this;return this.preloadingStrategy.preload(t,function(){return(t._loadedConfig?Object(o.a)(t._loadedConfig):n.loader.load(e.injector,t)).pipe(Object(W.a)(function(e){return t._loadedConfig=e,n.processRoutes(e.module,e.routes)}))})}}]),e}()).\u0275fac=function(e){return new(e||Dn)(r.Ub(Mn),r.Ub(r.x),r.Ub(r.i),r.Ub(r.s),r.Ub(Un))},Dn.\u0275prov=r.Gb({token:Dn,factory:Dn.\u0275fac}),Dn),zn=((Pn=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_(this,e),this.router=t,this.viewportScroller=n,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}return y(e,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var e=this;return this.router.events.subscribe(function(t){t instanceof te?(e.store[e.lastId]=e.viewportScroller.getScrollPosition(),e.lastSource=t.navigationTrigger,e.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ne&&(e.lastId=t.id,e.scheduleScrollEvent(t,e.router.parseUrl(t.urlAfterRedirects).fragment))})}},{key:"consumeScrollEvents",value:function(){var e=this;return this.router.events.subscribe(function(t){t instanceof ve&&(t.position?"top"===e.options.scrollPositionRestoration?e.viewportScroller.scrollToPosition([0,0]):"enabled"===e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===e.options.anchorScrolling?e.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition([0,0]))})}},{key:"scheduleScrollEvent",value:function(e,t){this.router.triggerEvent(new ve(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||Pn)(r.Ub(Mn),r.Ub(i.v),r.Ub(void 0))},Pn.\u0275prov=r.Gb({token:Pn,factory:Pn.\u0275fac}),Pn),Hn=new r.r("ROUTER_CONFIGURATION"),Xn=new r.r("ROUTER_FORROOT_GUARD"),qn=[i.j,{provide:De,useClass:Ne},{provide:Mn,useFactory:function(e,t,n,r,a,o,s){var l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},u=arguments.length>8?arguments[8]:void 0,c=arguments.length>9?arguments[9]:void 0,h=new Mn(null,e,t,n,r,a,o,we(s));if(u&&(h.urlHandlingStrategy=u),c&&(h.routeReuseStrategy=c),function(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy)}(l,h),l.enableTracing){var d=Object(i.D)();h.events.subscribe(function(e){d.logGroup("Router Event: ".concat(e.constructor.name)),d.log(e.toString()),d.log(e),d.logGroupEnd()})}return h},deps:[De,bn,i.j,r.s,r.x,r.i,gn,Hn,[function(){return function e(){_(this,e)}}(),new r.B],[function(){return function e(){_(this,e)}}(),new r.B]]},bn,{provide:rt,useFactory:function(e){return e.routerState.root},deps:[Mn]},{provide:r.x,useClass:r.K},Bn,Vn,Gn,{provide:Hn,useValue:{enableTracing:!1}}];function Wn(){return new r.z("Router",Mn)}var Yn,Kn=((Yn=function(){function e(t,n){_(this,e)}return y(e,null,[{key:"forRoot",value:function(t,n){return{ngModule:e,providers:[qn,$n(t),{provide:Xn,useFactory:Qn,deps:[[Mn,new r.B,new r.J]]},{provide:Hn,useValue:n||{}},{provide:i.k,useFactory:Jn,deps:[i.t,[new r.p(i.a),new r.B],Hn]},{provide:zn,useFactory:Zn,deps:[Mn,i.v,Hn]},{provide:Un,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Vn},{provide:r.z,multi:!0,useFactory:Wn},[ti,{provide:r.d,multi:!0,useFactory:ni,deps:[ti]},{provide:ri,useFactory:ii,deps:[ti]},{provide:r.b,multi:!0,useExisting:ri}]]}}},{key:"forChild",value:function(t){return{ngModule:e,providers:[$n(t)]}}}]),e}()).\u0275fac=function(e){return new(e||Yn)(r.Ub(Xn,8),r.Ub(Mn,8))},Yn.\u0275mod=r.Ib({type:Yn}),Yn.\u0275inj=r.Hb({}),Yn);function Zn(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new zn(e,t,n)}function Jn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new i.g(e,t):new i.s(e,t)}function Qn(e){return"guarded"}function $n(e){return[{provide:r.a,multi:!0,useValue:e},{provide:gn,multi:!0,useValue:e}]}var ei,ti=((ei=function(){function e(t){_(this,e),this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new S.a}return y(e,[{key:"appInitializer",value:function(){var e=this;return this.injector.get(i.i,Promise.resolve(null)).then(function(){var t=null,n=new Promise(function(e){return t=e}),i=e.injector.get(Mn),r=e.injector.get(Hn);return"disabled"===r.initialNavigation?(i.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(i.hooks.afterPreactivation=function(){return e.initNavigation?Object(o.a)(null):(e.initNavigation=!0,t(!0),e.resultOfPreactivationDone)},i.initialNavigation()):t(!0),n})}},{key:"bootstrapListener",value:function(e){var t=this.injector.get(Hn),n=this.injector.get(Bn),i=this.injector.get(zn),a=this.injector.get(Mn),o=this.injector.get(r.g);e===o.components[0]&&("enabledNonBlocking"!==t.initialNavigation&&void 0!==t.initialNavigation||a.initialNavigation(),n.setUpPreloading(),i.init(),a.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}]),e}()).\u0275fac=function(e){return new(e||ei)(r.Ub(r.s))},ei.\u0275prov=r.Gb({token:ei,factory:ei.\u0275fac}),ei);function ni(e){return e.appInitializer.bind(e)}function ii(e){return e.bootstrapListener.bind(e)}var ri=new r.r("Router Initializer")},iSA6:function(e,t,n){"use strict";t.a={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}},itXk:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var i=n("z+Ro"),r=n("DH7j"),a=n("7o/Q"),o=function(e){b(n,e);var t=T(n);function n(){return _(this,n),t.apply(this,arguments)}return y(n,[{key:"notifyNext",value:function(e,t,n,i,r){this.destination.next(t)}},{key:"notifyError",value:function(e,t){this.destination.error(e)}},{key:"notifyComplete",value:function(e){this.destination.complete()}}]),n}(a.a),s=function(e){b(n,e);var t=T(n);function n(e,i,r){var a;return _(this,n),(a=t.call(this)).parent=e,a.outerValue=i,a.outerIndex=r,a.index=0,a}return y(n,[{key:"_next",value:function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}},{key:"_error",value:function(e){this.parent.notifyError(e,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(a.a),l=n("SeVD"),u=n("HDdC");function c(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new s(e,n,i);if(!r.closed)return t instanceof u.a?t.subscribe(r):Object(l.a)(t)(r)}var h=n("yCtX"),d={};function f(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a,o;return Object(i.a)(t[t.length-1])&&(o=t.pop()),"function"==typeof t[t.length-1]&&(a=t.pop()),1===t.length&&Object(r.a)(t[0])&&(t=t[0]),Object(h.a)(t,o).lift(new p(a))}var p=function(){function e(t){_(this,e),this.resultSelector=t}return y(e,[{key:"call",value:function(e,t){return t.subscribe(new m(e,this.resultSelector))}}]),e}(),m=function(e){b(n,e);var t=T(n);function n(e,i){var r;return _(this,n),(r=t.call(this,e)).resultSelector=i,r.active=0,r.values=[],r.observables=[],r}return y(n,[{key:"_next",value:function(e){this.values.push(d),this.observables.push(e)}},{key:"_complete",value:function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++)this.add(c(this,e[n],void 0,n))}}},{key:"notifyComplete",value:function(e){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(e,t,n){var i=this.values,r=this.toRespond?i[n]===d?--this.toRespond:this.toRespond:0;i[n]=t,0===r&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}},{key:"_tryResultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(o)},itZQ:function(e,t,n){"use strict";var i,r,a,o,s,l,u,c,h,d,f=n("Nr0W"),p=n("fyJ9"),m=n("giCN"),v=n("wRPv"),g=n("aBeY"),S=n("Qbx7"),w=n("jTA9"),x=n("m3va"),E=n("X87I"),C=n("2cyL"),k=n("W74l"),M=n("7tkq"),O=n("wEYg"),A=n("gOFd"),R=n("kEUA"),I=n("sOX2"),L=n("OT4/"),P=n("c73X"),D=n("o5qb"),N=n("2I+J"),j=n("oWEL"),F=n("jVi3"),U=function(e){b(n,e);var t=T(n);function n(){var e;return _(this,n),(e=t.call(this)).xmlSerializer_=Object(F.f)(),e}return y(n,[{key:"getType",value:function(){return D.a.XML}},{key:"readFeature",value:function(e,t){if(e){if("string"==typeof e){var n=Object(F.q)(e);return this.readFeatureFromDocument(n,t)}return Object(F.g)(e)?this.readFeatureFromDocument(e,t):this.readFeatureFromNode(e,t)}return null}},{key:"readFeatureFromDocument",value:function(e,t){var n=this.readFeaturesFromDocument(e,t);return n.length>0?n[0]:null}},{key:"readFeatureFromNode",value:function(e,t){return null}},{key:"readFeatures",value:function(e,t){if(e){if("string"==typeof e){var n=Object(F.q)(e);return this.readFeaturesFromDocument(n,t)}return Object(F.g)(e)?this.readFeaturesFromDocument(e,t):this.readFeaturesFromNode(e,t)}return[]}},{key:"readFeaturesFromDocument",value:function(e,t){for(var n=[],i=e.firstChild;i;i=i.nextSibling)i.nodeType==Node.ELEMENT_NODE&&Object(j.c)(n,this.readFeaturesFromNode(i,t));return n}},{key:"readFeaturesFromNode",value:function(e,t){return Object(N.b)()}},{key:"readGeometry",value:function(e,t){if(e){if("string"==typeof e){var n=Object(F.q)(e);return this.readGeometryFromDocument(n,t)}return Object(F.g)(e)?this.readGeometryFromDocument(e,t):this.readGeometryFromNode(e,t)}return null}},{key:"readGeometryFromDocument",value:function(e,t){return null}},{key:"readGeometryFromNode",value:function(e,t){return null}},{key:"readProjection",value:function(e){if(e){if("string"==typeof e){var t=Object(F.q)(e);return this.readProjectionFromDocument(t)}return Object(F.g)(e)?this.readProjectionFromDocument(e):this.readProjectionFromNode(e)}return null}},{key:"readProjectionFromDocument",value:function(e){return this.dataProjection}},{key:"readProjectionFromNode",value:function(e){return this.dataProjection}},{key:"writeFeature",value:function(e,t){var n=this.writeFeatureNode(e,t);return this.xmlSerializer_.serializeToString(n)}},{key:"writeFeatureNode",value:function(e,t){return null}},{key:"writeFeatures",value:function(e,t){var n=this.writeFeaturesNode(e,t);return this.xmlSerializer_.serializeToString(n)}},{key:"writeFeaturesNode",value:function(e,t){return null}},{key:"writeGeometry",value:function(e,t){var n=this.writeGeometryNode(e,t);return this.xmlSerializer_.serializeToString(n)}},{key:"writeGeometryNode",value:function(e,t){return null}}]),n}(P.a),G=n("uJJw"),V=n("i3ci"),B=n("Znq9"),z=n("xrpK"),H=n("LV+m"),X=["http://www.google.com/kml/ext/2.2"],q=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],W={fraction:w.a.FRACTION,pixels:w.a.PIXELS,insetPixels:w.a.PIXELS},Y=Object(F.p)(q,{ExtendedData:Ge,Region:Ve,MultiGeometry:Object(F.l)(Re,"geometry"),LineString:Object(F.l)(Me,"geometry"),LinearRing:Object(F.l)(Oe,"geometry"),Point:Object(F.l)(Ie,"geometry"),Polygon:Object(F.l)(Pe,"geometry"),Style:Object(F.l)(Ne),StyleMap:function(e,t){var n=pe.call(this,e,t);if(n){var i=t[t.length-1];Array.isArray(n)?i.Style=n:"string"==typeof n?i.styleUrl=n:Object(V.a)(!1,38)}},address:Object(F.l)(z.g),description:Object(F.l)(z.g),name:Object(F.l)(z.g),open:Object(F.l)(z.a),phoneNumber:Object(F.l)(z.g),styleUrl:Object(F.l)(he),visibility:Object(F.l)(z.a)},Object(F.p)(X,{MultiTrack:Object(F.l)(function(e,t){var n=Object(F.s)([],Se,e,t);if(n)return new C.a(n)},"geometry"),Track:Object(F.l)(we,"geometry")})),K=Object(F.p)(q,{ExtendedData:Ge,Region:Ve,Link:function(e,t){Object(F.r)(Z,e,t)},address:Object(F.l)(z.g),description:Object(F.l)(z.g),name:Object(F.l)(z.g),open:Object(F.l)(z.a),phoneNumber:Object(F.l)(z.g),visibility:Object(F.l)(z.a)}),Z=Object(F.p)(q,{href:Object(F.l)(ce)}),J=Object(F.p)(q,{LatLonAltBox:function(e,t){var n=Object(F.s)({},He,e,t);if(n){var i=t[t.length-1],r=[parseFloat(n.west),parseFloat(n.south),parseFloat(n.east),parseFloat(n.north)];i.extent=r,i.altitudeMode=n.altitudeMode,i.minAltitude=parseFloat(n.minAltitude),i.maxAltitude=parseFloat(n.maxAltitude)}},Lod:function(e,t){var n=Object(F.s)({},Xe,e,t);if(n){var i=t[t.length-1];i.minLodPixels=parseFloat(n.minLodPixels),i.maxLodPixels=parseFloat(n.maxLodPixels),i.minFadeExtent=parseFloat(n.minFadeExtent),i.maxFadeExtent=parseFloat(n.maxFadeExtent)}}}),Q=Object(F.p)(q,["Document","Placemark"]),$=Object(F.p)(q,{Document:Object(F.j)(function(e,t,n){var i={node:e};Object(F.t)(i,Ze,Je,t,n,void 0,this)}),Placemark:Object(F.j)(St)}),ee=null,te=null,ne=null,ie=null,re=null,ae=null;function oe(e){return e}function se(e,t,n){return Array.isArray(e)?e:"string"==typeof e?se(n[e],t,n):t}function le(e){var t=Object(F.d)(e,!1),n=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(t);if(n){var i=n[1];return[parseInt(i.substr(6,2),16),parseInt(i.substr(4,2),16),parseInt(i.substr(2,2),16),parseInt(i.substr(0,2),16)/255]}}function ue(e){var t=Object(F.d)(e,!1),n=[];t=t.replace(/\s*,\s*/g,",");for(var i,r=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?),([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s+|,|$)(?:([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s+|$))?\s*/i;i=r.exec(t);){var a=parseFloat(i[1]),o=parseFloat(i[2]),s=i[3]?parseFloat(i[3]):0;n.push(a,o,s),t=t.substr(i[0].length)}if(""===t)return n}function ce(e){var t=Object(F.d)(e,!1).trim(),n=e.baseURI;return n&&"about:blank"!=n||(n=window.location.href),n?new URL(t,n).href:t}function he(e){var t=Object(F.d)(e,!1).trim().replace(/^(?!.*#)/,"#"),n=e.baseURI;return n&&"about:blank"!=n||(n=window.location.href),n?new URL(t,n).href:t}function de(e){return Object(z.c)(e)}var fe=Object(F.p)(q,{Pair:function(e,t){var n=Object(F.s)({},Be,e,t,this);if(n){var i=n.key;if(i&&"normal"==i){var r=n.styleUrl;r&&(t[t.length-1]=r);var a=n.Style;a&&(t[t.length-1]=a)}}}});function pe(e,t){return Object(F.s)(void 0,fe,e,t,this)}var me=Object(F.p)(q,{Icon:Object(F.l)(function(e,t){return Object(F.s)({},xe,e,t)||null}),color:Object(F.l)(le),heading:Object(F.l)(z.c),hotSpot:Object(F.l)(function(e){var t,n=e.getAttribute("xunits"),i=e.getAttribute("yunits");return t="insetPixels"!==n?"insetPixels"!==i?x.a.BOTTOM_LEFT:x.a.TOP_LEFT:"insetPixels"!==i?x.a.BOTTOM_RIGHT:x.a.TOP_RIGHT,{x:parseFloat(e.getAttribute("x")),xunits:W[n],y:parseFloat(e.getAttribute("y")),yunits:W[i],origin:t}}),scale:Object(F.l)(de)}),ve=Object(F.p)(q,{color:Object(F.l)(le),scale:Object(F.l)(de)}),ge=Object(F.p)(q,{color:Object(F.l)(le),width:Object(F.l)(z.c)}),ye=Object(F.p)(q,{color:Object(F.l)(le),fill:Object(F.l)(z.a),outline:Object(F.l)(z.a)}),_e=Object(F.p)(q,{coordinates:Object(F.m)(ue)});function be(e,t){return Object(F.s)(null,_e,e,t)}var Se=Object(F.p)(X,{Track:Object(F.i)(we)}),Te=Object(F.p)(q,{when:function(e,t){var n=t[t.length-1].whens,i=Object(F.d)(e,!1),r=Date.parse(i);n.push(isNaN(r)?0:r)}},Object(F.p)(X,{coord:function(e,t){var n=t[t.length-1].flatCoordinates,i=Object(F.d)(e,!1),r=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(i);if(r){var a=parseFloat(r[1]),o=parseFloat(r[2]),s=parseFloat(r[3]);n.push(a,o,s,0)}else n.push(0,0,0,0)}}));function we(e,t){var n=Object(F.s)({flatCoordinates:[],whens:[]},Te,e,t);if(n){for(var i=n.flatCoordinates,r=n.whens,a=0,o=Math.min(i.length,r.length);a<o;++a)i[4*a+3]=r[a];return new E.a(i,v.a.XYZM)}}var xe=Object(F.p)(q,{href:Object(F.l)(ce)},Object(F.p)(X,{x:Object(F.l)(z.c),y:Object(F.l)(z.c),w:Object(F.l)(z.c),h:Object(F.l)(z.c)})),Ee=Object(F.p)(q,{coordinates:Object(F.m)(ue)});function Ce(e,t){return Object(F.s)(null,Ee,e,t)}var ke=Object(F.p)(q,{extrude:Object(F.l)(z.a),tessellate:Object(F.l)(z.a),altitudeMode:Object(F.l)(z.g)});function Me(e,t){var n=Object(F.s)({},ke,e,t),i=Ce(e,t);if(i){var r=new E.a(i,v.a.XYZ);return r.setProperties(n,!0),r}}function Oe(e,t){var n=Object(F.s)({},ke,e,t),i=Ce(e,t);if(i){var r=new A.a(i,v.a.XYZ,[i.length]);return r.setProperties(n,!0),r}}var Ae=Object(F.p)(q,{LineString:Object(F.i)(Me),LinearRing:Object(F.i)(Oe),MultiGeometry:Object(F.i)(Re),Point:Object(F.i)(Ie),Polygon:Object(F.i)(Pe)});function Re(e,t){var n=Object(F.s)([],Ae,e,t);if(!n)return null;if(0===n.length)return new m.a(n);for(var i,r,a,o,s=!0,l=n[0].getType(),u=1,c=n.length;u<c;++u)if((r=n[u]).getType()!=l){s=!1;break}if(s)if(l==g.a.POINT){var h=n[0];a=h.getLayout(),o=h.getFlatCoordinates();for(var d=1,f=n.length;d<f;++d)r=n[d],Object(j.c)(o,r.getFlatCoordinates());je(i=new k.a(o,a),n)}else l==g.a.LINE_STRING?je(i=new C.a(n),n):l==g.a.POLYGON?je(i=new M.a(n),n):l==g.a.GEOMETRY_COLLECTION?i=new m.a(n):Object(V.a)(!1,37);else i=new m.a(n);return i}function Ie(e,t){var n=Object(F.s)({},ke,e,t),i=Ce(e,t);if(i){var r=new O.a(i,v.a.XYZ);return r.setProperties(n,!0),r}}var Le=Object(F.p)(q,{innerBoundaryIs:function(e,t){var n=Object(F.s)(void 0,qe,e,t);n&&t[t.length-1].push(n)},outerBoundaryIs:function(e,t){var n=Object(F.s)(void 0,We,e,t);n&&(t[t.length-1][0]=n)}});function Pe(e,t){var n=Object(F.s)({},ke,e,t),i=Object(F.s)([null],Le,e,t);if(i&&i[0]){for(var r=i[0],a=[r.length],o=1,s=i.length;o<s;++o)Object(j.c)(r,i[o]),a.push(r.length);var l=new A.a(r,v.a.XYZ,a);return l.setProperties(n,!0),l}}var De=Object(F.p)(q,{IconStyle:function(e,t){var n=Object(F.s)({},me,e,t);if(n){var i,h,d,f,p=t[t.length-1],m="Icon"in n?n.Icon:{},v=!("Icon"in n)||Object.keys(m).length>0,g=m.href;g?i=g:v&&(i=l);var y,_=x.a.BOTTOM_LEFT,b=n.hotSpot;b?(h=[b.x,b.y],d=b.xunits,f=b.yunits,_=b.origin):i===l?(h=r,d=a,f=o):/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(i)&&(h=[.5,0],d=w.a.FRACTION,f=w.a.FRACTION);var T,E=m.x,C=m.y;void 0!==E&&void 0!==C&&(y=[E,C]);var k,M=m.w,O=m.h;void 0!==M&&void 0!==O&&(T=[M,O]);var A=n.heading;void 0!==A&&(k=Object(H.j)(A));var R=n.scale,I=n.color;if(v){i==l&&(T=s,void 0===R&&(R=u));var L=new S.a({anchor:h,anchorOrigin:_,anchorXUnits:d,anchorYUnits:f,crossOrigin:this.crossOrigin_,offset:y,offsetOrigin:x.a.BOTTOM_LEFT,rotation:k,scale:R,size:T,src:this.iconUrlFunction_(i),color:I});p.imageStyle=L}else p.imageStyle=c}},LabelStyle:function(e,t){var n=Object(F.s)({},ve,e,t);if(n){var r=t[t.length-1],a=new L.a({fill:new p.a({color:"color"in n?n.color:i}),scale:n.scale});r.textStyle=a}},LineStyle:function(e,t){var n=Object(F.s)({},ge,e,t);if(n){var r=t[t.length-1],a=new R.a({color:"color"in n?n.color:i,width:"width"in n?n.width:1});r.strokeStyle=a}},PolyStyle:function(e,t){var n=Object(F.s)({},ye,e,t);if(n){var r=t[t.length-1],a=new p.a({color:"color"in n?n.color:i});r.fillStyle=a;var o=n.fill;void 0!==o&&(r.fill=o);var s=n.outline;void 0!==s&&(r.outline=s)}}});function Ne(e,t){var n=Object(F.s)({},De,e,t,this);if(!n)return null;var i,r="fillStyle"in n?n.fillStyle:ee,a=n.fill;void 0===a||a||(r=null),"imageStyle"in n?n.imageStyle!=c&&(i=n.imageStyle):i=te;var o="textStyle"in n?n.textStyle:ie,s="strokeStyle"in n?n.strokeStyle:ne,l=n.outline;return void 0===l||l?[new I.b({fill:r,image:i,stroke:s,text:o,zIndex:void 0})]:[new I.b({geometry:function(e){var t=e.getGeometry(),n=t.getType();return n===g.a.GEOMETRY_COLLECTION?new m.a(t.getGeometriesArrayRecursive().filter(function(e){var t=e.getType();return t!==g.a.POLYGON&&t!==g.a.MULTI_POLYGON})):n!==g.a.POLYGON&&n!==g.a.MULTI_POLYGON?t:void 0},fill:r,image:i,stroke:s,text:o,zIndex:void 0}),new I.b({geometry:function(e){var t=e.getGeometry(),n=t.getType();return n===g.a.GEOMETRY_COLLECTION?new m.a(t.getGeometriesArrayRecursive().filter(function(e){var t=e.getType();return t===g.a.POLYGON||t===g.a.MULTI_POLYGON})):n===g.a.POLYGON||n===g.a.MULTI_POLYGON?t:void 0},fill:r,stroke:null,zIndex:void 0})]}function je(e,t){var n,i,r,a=t.length,o=new Array(t.length),s=new Array(t.length),l=new Array(t.length);n=!1,i=!1,r=!1;for(var u=0;u<a;++u){var c=t[u];o[u]=c.get("extrude"),s[u]=c.get("tessellate"),l[u]=c.get("altitudeMode"),n=n||void 0!==o[u],i=i||void 0!==s[u],r=r||l[u]}n&&e.set("extrude",o),i&&e.set("tessellate",s),r&&e.set("altitudeMode",l)}var Fe=Object(F.p)(q,{displayName:Object(F.l)(z.g),value:Object(F.l)(z.g)}),Ue=Object(F.p)(q,{Data:function(e,t){var n=e.getAttribute("name");Object(F.r)(Fe,e,t);var i=t[t.length-1];n&&i.displayName?i[n]={value:i.value,displayName:i.displayName,toString:function(){return i.value}}:null!==n?i[n]=i.value:null!==i.displayName&&(i[i.displayName]=i.value),delete i.value},SchemaData:function(e,t){Object(F.r)(ze,e,t)}});function Ge(e,t){Object(F.r)(Ue,e,t)}function Ve(e,t){Object(F.r)(J,e,t)}var Be=Object(F.p)(q,{Style:Object(F.l)(Ne),key:Object(F.l)(z.g),styleUrl:Object(F.l)(he)}),ze=Object(F.p)(q,{SimpleData:function(e,t){var n=e.getAttribute("name");if(null!==n){var i=Object(z.g)(e);t[t.length-1][n]=i}}}),He=Object(F.p)(q,{altitudeMode:Object(F.l)(z.g),minAltitude:Object(F.l)(z.c),maxAltitude:Object(F.l)(z.c),north:Object(F.l)(z.c),south:Object(F.l)(z.c),east:Object(F.l)(z.c),west:Object(F.l)(z.c)}),Xe=Object(F.p)(q,{minLodPixels:Object(F.l)(z.c),maxLodPixels:Object(F.l)(z.c),minFadeExtent:Object(F.l)(z.c),maxFadeExtent:Object(F.l)(z.c)}),qe=Object(F.p)(q,{LinearRing:Object(F.m)(be)}),We=Object(F.p)(q,{LinearRing:Object(F.m)(be)});function Ye(e,t){for(var n=Object(G.a)(t),i=[255*(4==n.length?n[3]:1),n[2],n[1],n[0]],r=0;r<4;++r){var a=Math.floor(i[r]).toString(16);i[r]=1==a.length?"0"+a:a}Object(z.k)(e,i.join(""))}var Ke=Object(F.p)(q,{Data:Object(F.j)(function(e,t,n){e.setAttribute("name",t.name);var i={node:e},r=t.value;"object"==typeof r?(null!==r&&r.displayName&&Object(F.t)(i,Ke,F.a,[r.displayName],n,["displayName"]),null!==r&&r.value&&Object(F.t)(i,Ke,F.a,[r.value],n,["value"])):Object(F.t)(i,Ke,F.a,[r],n,["value"])}),value:Object(F.j)(function(e,t){Object(z.k)(e,t)}),displayName:Object(F.j)(function(e,t){Object(z.i)(e,t)})}),Ze=Object(F.p)(q,{Placemark:Object(F.j)(St)}),Je=function(e,t,n){var i=t[t.length-1].node;return Object(F.c)(i.namespaceURI,"Placemark")},Qe=Object(F.o)("Data"),$e=Object(F.p)(q,["href"],Object(F.p)(X,["x","y","w","h"])),et=Object(F.p)(q,{href:Object(F.j)(z.k)},Object(F.p)(X,{x:Object(F.j)(z.j),y:Object(F.j)(z.j),w:Object(F.j)(z.j),h:Object(F.j)(z.j)})),tt=function(e,t,n){return Object(F.c)(X[0],"gx:"+n)},nt=Object(F.p)(q,["scale","heading","Icon","color","hotSpot"]),it=Object(F.p)(q,{Icon:Object(F.j)(function(e,t,n){var i={node:e},r=$e[n[n.length-1].node.namespaceURI],a=Object(F.n)(t,r);Object(F.t)(i,et,F.a,a,n,r),r=$e[X[0]],a=Object(F.n)(t,r),Object(F.t)(i,et,tt,a,n,r)}),color:Object(F.j)(Ye),heading:Object(F.j)(z.j),hotSpot:Object(F.j)(function(e,t){e.setAttribute("x",String(t.x)),e.setAttribute("y",String(t.y)),e.setAttribute("xunits",t.xunits),e.setAttribute("yunits",t.yunits)}),scale:Object(F.j)(Rt)}),rt=Object(F.p)(q,["color","scale"]),at=Object(F.p)(q,{color:Object(F.j)(Ye),scale:Object(F.j)(Rt)}),ot=Object(F.p)(q,["color","width"]),st=Object(F.p)(q,{color:Object(F.j)(Ye),width:Object(F.j)(z.j)}),lt={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},ut=function(e,t,n){if(e){var i=t[t.length-1].node;return Object(F.c)(i.namespaceURI,lt[e.getType()])}},ct=Object(F.o)("Point"),ht=Object(F.o)("LineString"),dt=Object(F.o)("LinearRing"),ft=Object(F.o)("Polygon"),pt=Object(F.p)(q,{LineString:Object(F.j)(xt),Point:Object(F.j)(xt),Polygon:Object(F.j)(Ot),GeometryCollection:Object(F.j)(mt)});function mt(e,t,n){var i,r={node:e},a=t.getType(),o=[];a===g.a.GEOMETRY_COLLECTION?(t.getGeometriesArrayRecursive().forEach(function(e){var t=e.getType();t===g.a.MULTI_POINT?o=o.concat(e.getPoints()):t===g.a.MULTI_LINE_STRING?o=o.concat(e.getLineStrings()):t===g.a.MULTI_POLYGON?o=o.concat(e.getPolygons()):t===g.a.POINT||t===g.a.LINE_STRING||t===g.a.POLYGON?o.push(e):Object(V.a)(!1,39)}),i=ut):a===g.a.MULTI_POINT?(o=t.getPoints(),i=ct):a===g.a.MULTI_LINE_STRING?(o=t.getLineStrings(),i=ht):a===g.a.MULTI_POLYGON?(o=t.getPolygons(),i=ft):Object(V.a)(!1,39),Object(F.t)(r,pt,i,o,n)}var vt=Object(F.p)(q,{LinearRing:Object(F.j)(xt)});function gt(e,t,n){var i={node:e};Object(F.t)(i,vt,dt,[t],n)}var yt=Object(F.p)(q,{ExtendedData:Object(F.j)(function(e,t,n){for(var i={node:e},r=t.names,a=t.values,o=r.length,s=0;s<o;s++)Object(F.t)(i,Ke,Qe,[{name:r[s],value:a[s]}],n)}),MultiGeometry:Object(F.j)(mt),LineString:Object(F.j)(xt),LinearRing:Object(F.j)(xt),Point:Object(F.j)(xt),Polygon:Object(F.j)(Ot),Style:Object(F.j)(function(e,t,n){var i={node:e},r={};if(t.pointStyles.length){var a=t.pointStyles[0].getText();a&&(r.LabelStyle=a);var o=t.pointStyles[0].getImage();o&&"function"==typeof o.getSrc&&(r.IconStyle=o)}if(t.lineStyles.length){var s=t.lineStyles[0].getStroke();s&&(r.LineStyle=s)}if(t.polyStyles.length){var l=t.polyStyles[0].getStroke();l&&!r.LineStyle&&(r.LineStyle=l),r.PolyStyle=t.polyStyles[0]}var u=It[n[n.length-1].node.namespaceURI],c=Object(F.n)(r,u);Object(F.t)(i,Lt,F.a,c,n,u)}),address:Object(F.j)(z.k),description:Object(F.j)(z.k),name:Object(F.j)(z.k),open:Object(F.j)(z.h),phoneNumber:Object(F.j)(z.k),styleUrl:Object(F.j)(z.k),visibility:Object(F.j)(z.h)}),_t=Object(F.p)(q,["name","open","visibility","address","phoneNumber","description","styleUrl","Style"]),bt=Object(F.o)("ExtendedData");function St(e,t,n){var i={node:e};t.getId()&&e.setAttribute("id",t.getId());var r=t.getProperties(),a={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};a[t.getGeometryName()]=1;var o=Object.keys(r||{}).sort().filter(function(e){return!a[e]}),s=t.getStyleFunction();if(s){var l=s(t,0);if(l){var u=Array.isArray(l)?l:[l],c=u;if(t.getGeometry()&&(c=u.filter(function(e){var n=e.getGeometryFunction()(t);if(n){var i=n.getType();return i===g.a.GEOMETRY_COLLECTION?n.getGeometriesArrayRecursive().filter(function(e){var t=e.getType();return t===g.a.POINT||t===g.a.MULTI_POINT}).length:i===g.a.POINT||i===g.a.MULTI_POINT}})),this.writeStyles_){var h=u,d=u;t.getGeometry()&&(h=u.filter(function(e){var n=e.getGeometryFunction()(t);if(n){var i=n.getType();return i===g.a.GEOMETRY_COLLECTION?n.getGeometriesArrayRecursive().filter(function(e){var t=e.getType();return t===g.a.LINE_STRING||t===g.a.MULTI_LINE_STRING}).length:i===g.a.LINE_STRING||i===g.a.MULTI_LINE_STRING}}),d=u.filter(function(e){var n=e.getGeometryFunction()(t);if(n){var i=n.getType();return i===g.a.GEOMETRY_COLLECTION?n.getGeometriesArrayRecursive().filter(function(e){var t=e.getType();return t===g.a.POLYGON||t===g.a.MULTI_POLYGON}).length:i===g.a.POLYGON||i===g.a.MULTI_POLYGON}})),r.Style={pointStyles:c,lineStyles:h,polyStyles:d}}if(c.length&&void 0===r.name){var f=c[0].getText();f&&(r.name=f.getText())}}}var p=_t[n[n.length-1].node.namespaceURI],m=Object(F.n)(r,p);if(Object(F.t)(i,yt,F.a,m,n,p),o.length>0){var v={names:o,values:Object(F.n)(r,o)};Object(F.t)(i,yt,bt,[v],n)}var y=n[0],_=t.getGeometry();_&&(_=Object(P.b)(_,!0,y)),Object(F.t)(i,yt,ut,[_],n)}var Tt=Object(F.p)(q,["extrude","tessellate","altitudeMode","coordinates"]),wt=Object(F.p)(q,{extrude:Object(F.j)(z.h),tessellate:Object(F.j)(z.h),altitudeMode:Object(F.j)(z.k),coordinates:Object(F.j)(function(e,t,n){var i,r=n[n.length-1],a=r.layout,o=r.stride;a==v.a.XY||a==v.a.XYM?i=2:a==v.a.XYZ||a==v.a.XYZM?i=3:Object(V.a)(!1,34);var s=t.length,l="";if(s>0){l+=t[0];for(var u=1;u<i;++u)l+=","+t[u];for(var c=o;c<s;c+=o){l+=" "+t[c];for(var h=1;h<i;++h)l+=","+t[c+h]}}Object(z.k)(e,l)})});function xt(e,t,n){var i=t.getFlatCoordinates(),r={node:e};r.layout=t.getLayout(),r.stride=t.getStride();var a=t.getProperties();a.coordinates=i;var o=Tt[n[n.length-1].node.namespaceURI],s=Object(F.n)(a,o);Object(F.t)(r,wt,F.a,s,n,o)}var Et=Object(F.p)(q,["color","fill","outline"]),Ct=Object(F.p)(q,{outerBoundaryIs:Object(F.j)(gt),innerBoundaryIs:Object(F.j)(gt)}),kt=Object(F.o)("innerBoundaryIs"),Mt=Object(F.o)("outerBoundaryIs");function Ot(e,t,n){var i=t.getLinearRings(),r=i.shift(),a={node:e};Object(F.t)(a,Ct,kt,i,n),Object(F.t)(a,Ct,Mt,[r],n)}var At=Object(F.p)(q,{color:Object(F.j)(Ye),fill:Object(F.j)(z.h),outline:Object(F.j)(z.h)});function Rt(e,t){Object(z.j)(e,Math.round(1e6*t)/1e6)}var It=Object(F.p)(q,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),Lt=Object(F.p)(q,{IconStyle:Object(F.j)(function(e,t,n){var i={node:e},r={},a=t.getSrc(),o=t.getSize(),s=t.getImageSize(),l={href:a};if(o){l.w=o[0],l.h=o[1];var u=t.getAnchor(),c=t.getOrigin();c&&s&&0!==c[0]&&c[1]!==o[1]&&(l.x=c[0],l.y=s[1]-(c[1]+o[1])),!u||u[0]===o[0]/2&&u[1]===o[1]/2||(r.hotSpot={x:u[0],xunits:w.a.PIXELS,y:o[1]-u[1],yunits:w.a.PIXELS})}r.Icon=l;var h=t.getScale();1!==h&&(r.scale=h);var d=t.getRotation();0!==d&&(r.heading=d);var f=t.getColor();f&&(r.color=f);var p=nt[n[n.length-1].node.namespaceURI],m=Object(F.n)(r,p);Object(F.t)(i,it,F.a,m,n,p)}),LabelStyle:Object(F.j)(function(e,t,n){var i={node:e},r={},a=t.getFill();a&&(r.color=a.getColor());var o=t.getScale();o&&1!==o&&(r.scale=o);var s=rt[n[n.length-1].node.namespaceURI],l=Object(F.n)(r,s);Object(F.t)(i,at,F.a,l,n,s)}),LineStyle:Object(F.j)(function(e,t,n){var i={node:e},r={color:t.getColor(),width:Number(t.getWidth())||1},a=ot[n[n.length-1].node.namespaceURI],o=Object(F.n)(r,a);Object(F.t)(i,st,F.a,o,n,a)}),PolyStyle:Object(F.j)(function(e,t,n){var i={node:e},r=t.getFill(),a=t.getStroke(),o={color:r?r.getColor():void 0,fill:!!r&&void 0,outline:!!a&&void 0},s=Et[n[n.length-1].node.namespaceURI],l=Object(F.n)(o,s);Object(F.t)(i,At,F.a,l,n,s)})});t.a=function(e){b(n,e);var t=T(n);function n(e){var d;_(this,n),d=t.call(this);var f=e||{};return ae||(i=[255,255,255,1],ee=new p.a({color:i}),r=[20,2],a=w.a.PIXELS,o=w.a.PIXELS,s=[64,64],l="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png",u=.5,te=new S.a({anchor:r,anchorOrigin:x.a.BOTTOM_LEFT,anchorXUnits:a,anchorYUnits:o,crossOrigin:"anonymous",rotation:0,scale:u,size:s,src:l}),c="NO_IMAGE",ne=new R.a({color:i,width:1}),h=new R.a({color:[51,51,51,1],width:2}),ie=new L.a({font:"bold 16px Helvetica",fill:ee,stroke:h,scale:.8}),re=new I.b({fill:ee,image:te,text:ie,stroke:ne,zIndex:0}),ae=[re]),d.dataProjection=Object(B.i)("EPSG:4326"),d.defaultStyle_=f.defaultStyle?f.defaultStyle:ae,d.extractStyles_=void 0===f.extractStyles||f.extractStyles,d.writeStyles_=void 0===f.writeStyles||f.writeStyles,d.sharedStyles_={},d.showPointNames_=void 0===f.showPointNames||f.showPointNames,d.crossOrigin_=void 0!==f.crossOrigin?f.crossOrigin:"anonymous",d.iconUrlFunction_=f.iconUrlFunction?f.iconUrlFunction:oe,d}return y(n,[{key:"readDocumentOrFolder_",value:function(e,t){var n=Object(F.p)(q,{Document:Object(F.h)(this.readDocumentOrFolder_,this),Folder:Object(F.h)(this.readDocumentOrFolder_,this),Placemark:Object(F.i)(this.readPlacemark_,this),Style:this.readSharedStyle_.bind(this),StyleMap:this.readSharedStyleMap_.bind(this)});return Object(F.s)([],n,e,t,this)||void 0}},{key:"readPlacemark_",value:function(e,t){var n=Object(F.s)({geometry:null},Y,e,t,this);if(n){var i=new f.a,r=e.getAttribute("id");null!==r&&i.setId(r);var a,o,l,u,c,p=t[0],v=n.geometry;if(v&&Object(P.b)(v,!1,p),i.setGeometry(v),delete n.geometry,this.extractStyles_){var y=(a=n.Style,o=n.styleUrl,l=this.defaultStyle_,u=this.sharedStyles_,c=this.showPointNames_,function(e,t){var n=c,i="",r=[];if(n){var f=e.getGeometry();if(f){var p=f.getType();p===g.a.GEOMETRY_COLLECTION?n=(r=f.getGeometriesArrayRecursive().filter(function(e){var t=e.getType();return t===g.a.POINT||t===g.a.MULTI_POINT})).length>0:n=p===g.a.POINT||p===g.a.MULTI_POINT}}n&&(i=e.get("name"),(n=n&&!!i)&&i.search(/&[^&]+;/)>-1&&(d||(d=document.createElement("textarea")),d.innerHTML=i,i=d.value));var v=l;if(a?v=a:o&&(v=se(o,l,u)),n){var y=function(e,t){var n=[0,0],i="start",r=e.getImage();if(r){var a=r.getImageSize();if(null===a&&(a=s),2==a.length){var o=r.getScaleArray();n[0]=o[0]*a[0]/2,n[1]=-o[1]*a[1]/2,i="left"}}var l=e.getText();return l?((l=l.clone()).setFont(l.getFont()||ie.getFont()),l.setScale(l.getScale()||ie.getScale()),l.setFill(l.getFill()||ie.getFill()),l.setStroke(l.getStroke()||h)):l=ie.clone(),l.setText(t),l.setOffsetX(n[0]),l.setOffsetY(n[1]),l.setTextAlign(i),new I.b({image:r,text:l})}(v[0],i);return r.length>0?(y.setGeometry(new m.a(r)),[y,new I.b({geometry:v[0].getGeometry(),image:null,fill:v[0].getFill(),stroke:v[0].getStroke(),text:null})].concat(v.slice(1))):y}return v});i.setStyle(y)}return delete n.Style,i.setProperties(n,!0),i}}},{key:"readSharedStyle_",value:function(e,t){var n=e.getAttribute("id");if(null!==n){var i=Ne.call(this,e,t);if(i){var r,a=e.baseURI;a&&"about:blank"!=a||(a=window.location.href),r=a?new URL("#"+n,a).href:"#"+n,this.sharedStyles_[r]=i}}}},{key:"readSharedStyleMap_",value:function(e,t){var n=e.getAttribute("id");if(null!==n){var i=pe.call(this,e,t);if(i){var r,a=e.baseURI;a&&"about:blank"!=a||(a=window.location.href),r=a?new URL("#"+n,a).href:"#"+n,this.sharedStyles_[r]=i}}}},{key:"readFeatureFromNode",value:function(e,t){return Object(j.f)(q,e.namespaceURI)&&this.readPlacemark_(e,[this.getReadOptions(e,t)])||null}},{key:"readFeaturesFromNode",value:function(e,t){if(!Object(j.f)(q,e.namespaceURI))return[];var n,i=e.localName;if("Document"==i||"Folder"==i)return(n=this.readDocumentOrFolder_(e,[this.getReadOptions(e,t)]))||[];if("Placemark"==i){var r=this.readPlacemark_(e,[this.getReadOptions(e,t)]);return r?[r]:[]}if("kml"==i){n=[];for(var a=e.firstElementChild;a;a=a.nextElementSibling){var o=this.readFeaturesFromNode(a,t);o&&Object(j.c)(n,o)}return n}return[]}},{key:"readName",value:function(e){if(e){if("string"==typeof e){var t=Object(F.q)(e);return this.readNameFromDocument(t)}return Object(F.g)(e)?this.readNameFromDocument(e):this.readNameFromNode(e)}}},{key:"readNameFromDocument",value:function(e){for(var t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE){var n=this.readNameFromNode(t);if(n)return n}}},{key:"readNameFromNode",value:function(e){for(var t=e.firstElementChild;t;t=t.nextElementSibling)if(Object(j.f)(q,t.namespaceURI)&&"name"==t.localName)return Object(z.g)(t);for(var n=e.firstElementChild;n;n=n.nextElementSibling){var i=n.localName;if(Object(j.f)(q,n.namespaceURI)&&("Document"==i||"Folder"==i||"Placemark"==i||"kml"==i)){var r=this.readNameFromNode(n);if(r)return r}}}},{key:"readNetworkLinks",value:function(e){var t=[];if("string"==typeof e){var n=Object(F.q)(e);Object(j.c)(t,this.readNetworkLinksFromDocument(n))}else Object(F.g)(e)?Object(j.c)(t,this.readNetworkLinksFromDocument(e)):Object(j.c)(t,this.readNetworkLinksFromNode(e));return t}},{key:"readNetworkLinksFromDocument",value:function(e){for(var t=[],n=e.firstChild;n;n=n.nextSibling)n.nodeType==Node.ELEMENT_NODE&&Object(j.c)(t,this.readNetworkLinksFromNode(n));return t}},{key:"readNetworkLinksFromNode",value:function(e){for(var t=[],n=e.firstElementChild;n;n=n.nextElementSibling)if(Object(j.f)(q,n.namespaceURI)&&"NetworkLink"==n.localName){var i=Object(F.s)({},K,n,[]);t.push(i)}for(var r=e.firstElementChild;r;r=r.nextElementSibling){var a=r.localName;!Object(j.f)(q,r.namespaceURI)||"Document"!=a&&"Folder"!=a&&"kml"!=a||Object(j.c)(t,this.readNetworkLinksFromNode(r))}return t}},{key:"readRegion",value:function(e){var t=[];if("string"==typeof e){var n=Object(F.q)(e);Object(j.c)(t,this.readRegionFromDocument(n))}else Object(F.g)(e)?Object(j.c)(t,this.readRegionFromDocument(e)):Object(j.c)(t,this.readRegionFromNode(e));return t}},{key:"readRegionFromDocument",value:function(e){for(var t=[],n=e.firstChild;n;n=n.nextSibling)n.nodeType==Node.ELEMENT_NODE&&Object(j.c)(t,this.readRegionFromNode(n));return t}},{key:"readRegionFromNode",value:function(e){for(var t=[],n=e.firstElementChild;n;n=n.nextElementSibling)if(Object(j.f)(q,n.namespaceURI)&&"Region"==n.localName){var i=Object(F.s)({},J,n,[]);t.push(i)}for(var r=e.firstElementChild;r;r=r.nextElementSibling){var a=r.localName;!Object(j.f)(q,r.namespaceURI)||"Document"!=a&&"Folder"!=a&&"kml"!=a||Object(j.c)(t,this.readRegionFromNode(r))}return t}},{key:"writeFeaturesNode",value:function(e,t){t=this.adaptOptions(t);var n=Object(F.c)(q[4],"kml"),i="http://www.w3.org/2000/xmlns/";n.setAttributeNS(i,"xmlns:gx",X[0]),n.setAttributeNS(i,"xmlns:xsi",F.b),n.setAttributeNS(F.b,"xsi:schemaLocation","http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd");var r={node:n},a={};e.length>1?a.Document=e:1==e.length&&(a.Placemark=e[0]);var o=Q[n.namespaceURI],s=Object(F.n)(a,o);return Object(F.t)(r,$,F.a,s,[t],o,this),n}}]),n}(U)},j5yL:function(e,t,n){"use strict";function i(e,t,n){var i=void 0!==n?e.toFixed(n):""+e,r=i.indexOf(".");return(r=-1===r?i.length:r)>t?i:new Array(1+t-r).join("0")+i}function r(e,t){for(var n=(""+e).split("."),i=(""+t).split("."),r=0;r<Math.max(n.length,i.length);r++){var a=parseInt(n[r]||"0",10),o=parseInt(i[r]||"0",10);if(a>o)return 1;if(o>a)return-1}return 0}n.d(t,"b",function(){return i}),n.d(t,"a",function(){return r})},j7T1:function(e,t,n){"use strict";t.a={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"}},jTA9:function(e,t,n){"use strict";t.a={FRACTION:"fraction",PIXELS:"pixels"}},jVi3:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return o}),n.d(t,"g",function(){return l}),n.d(t,"q",function(){return u}),n.d(t,"h",function(){return c}),n.d(t,"i",function(){return h}),n.d(t,"m",function(){return d}),n.d(t,"k",function(){return f}),n.d(t,"l",function(){return p}),n.d(t,"j",function(){return m}),n.d(t,"o",function(){return v}),n.d(t,"a",function(){return _}),n.d(t,"n",function(){return b}),n.d(t,"p",function(){return S}),n.d(t,"r",function(){return T}),n.d(t,"s",function(){return w}),n.d(t,"t",function(){return x}),n.d(t,"f",function(){return E}),n.d(t,"e",function(){return C});var i=n("oWEL"),r="http://www.w3.org/2001/XMLSchema-instance";function a(e,t){return C().createElementNS(e,t)}function o(e,t){return s(e,t,[]).join("")}function s(e,t,n){var i;if(e.nodeType==Node.CDATA_SECTION_NODE||e.nodeType==Node.TEXT_NODE)n.push(t?String(e.nodeValue).replace(/(\r\n|\r|\n)/g,""):e.nodeValue);else for(i=e.firstChild;i;i=i.nextSibling)s(i,t,n);return n}function l(e){return"documentElement"in e}function u(e){return(new DOMParser).parseFromString(e,"application/xml")}function c(e,t){return function(n,r){var a=e.call(void 0!==t?t:this,n,r);if(void 0!==a){var o=r[r.length-1];Object(i.c)(o,a)}}}function h(e,t){return function(n,i){var r=e.call(void 0!==t?t:this,n,i);void 0!==r&&i[i.length-1].push(r)}}function d(e,t){return function(n,i){var r=e.call(void 0!==t?t:this,n,i);void 0!==r&&(i[i.length-1]=r)}}function f(e,t,n){return function(i,r){var a=e.call(void 0!==n?n:this,i,r);if(void 0!==a){var o,s=r[r.length-1],l=void 0!==t?t:i.localName;l in s?o=s[l]:(o=[],s[l]=o),o.push(a)}}}function p(e,t,n){return function(i,r){var a=e.call(void 0!==n?n:this,i,r);void 0!==a&&(r[r.length-1][void 0!==t?t:i.localName]=a)}}function m(e,t){return function(n,i,r){e.call(void 0!==t?t:this,n,i,r),r[r.length-1].node.appendChild(n)}}function v(e,t){var n=e;return function(e,i,r){var o=n;return void 0===o&&(o=r),a(void 0!==t?t:i[i.length-1].node.namespaceURI,o)}}var g,y,_=v();function b(e,t){for(var n=t.length,i=new Array(n),r=0;r<n;++r)i[r]=e[t[r]];return i}function S(e,t,n){var i,r,a=void 0!==n?n:{};for(i=0,r=e.length;i<r;++i)a[e[i]]=t;return a}function T(e,t,n,i){var r;for(r=t.firstElementChild;r;r=r.nextElementSibling){var a=e[r.namespaceURI];if(void 0!==a){var o=a[r.localName];void 0!==o&&o.call(i,r,n)}}}function w(e,t,n,i,r){return i.push(e),T(t,n,i,r),i.pop()}function x(e,t,n,i,r,a,o){return r.push(e),function(e,t,n,i,r,a){for(var o,s,l=(void 0!==r?r:n).length,u=0;u<l;++u)void 0!==(o=n[u])&&(void 0!==(s=t.call(void 0!==a?a:this,o,i,void 0!==r?r[u]:void 0))&&e[s.namespaceURI][s.localName].call(a,s,o,i))}(t,n,i,r,a,o),r.pop()}function E(){return void 0===g&&"undefined"!=typeof XMLSerializer&&(g=new XMLSerializer),g}function C(){return void 0===y&&"undefined"!=typeof document&&(y=document.implementation.createDocument("","",null)),y}},jZKg:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n("HDdC"),r=n("quSY");function a(e,t){return new i.a(function(n){var i=new r.a,a=0;return i.add(t.schedule(function(){a!==e.length?(n.next(e[a++]),n.closed||i.add(this.schedule())):n.complete()})),i})}},jnTo:function(e,t,n){"use strict";var i=n("bwl8"),r=n("bTHf"),a=n("6Xq6"),o=n("FHfp"),s=n("Cw4B");t.a=function(e){b(n,e);var t=T(n);function n(e){var i;_(this,n),i=t.call(this);var r=e.element;return!r||e.target||r.style.pointerEvents||(r.style.pointerEvents="auto"),i.element=r||null,i.target_=null,i.map_=null,i.listenerKeys=[],e.render&&(i.render=e.render),e.target&&i.setTarget(e.target),i}return y(n,[{key:"disposeInternal",value:function(){Object(s.e)(this.element),v(C(n.prototype),"disposeInternal",this).call(this)}},{key:"getMap",value:function(){return this.map_}},{key:"setMap",value:function(e){this.map_&&Object(s.e)(this.element);for(var t=0,n=this.listenerKeys.length;t<n;++t)Object(o.c)(this.listenerKeys[t]);this.listenerKeys.length=0,this.map_=e,this.map_&&((this.target_?this.target_:e.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==a.c&&this.listenerKeys.push(Object(o.a)(e,r.a.POSTRENDER,this.render,this)),e.render())}},{key:"render",value:function(e){}},{key:"setTarget",value:function(e){this.target_="string"==typeof e?document.getElementById(e):e}}]),n}(i.a)},jqAh:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=Math.pow(2,-52),r=new Uint32Array(512),a=function(){function e(t){_(this,e);var n=t.length>>1;if(n>0&&"number"!=typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;var i=Math.max(2*n-5,0);this._triangles=new Uint32Array(3*i),this._halfedges=new Int32Array(3*i),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}return y(e,[{key:"update",value:function(){for(var e=this.coords,t=this._hullPrev,n=this._hullNext,r=this._hullTri,a=this._hullHash,s=e.length>>1,h=1/0,d=1/0,f=-1/0,p=-1/0,m=0;m<s;m++){var v=e[2*m],g=e[2*m+1];v<h&&(h=v),g<d&&(d=g),v>f&&(f=v),g>p&&(p=g),this._ids[m]=m}for(var y,_,b,S=(h+f)/2,T=(d+p)/2,w=1/0,x=0;x<s;x++){var E=o(S,T,e[2*x],e[2*x+1]);E<w&&(y=x,w=E)}var C=e[2*y],k=e[2*y+1];w=1/0;for(var M=0;M<s;M++)if(M!==y){var O=o(C,k,e[2*M],e[2*M+1]);O<w&&O>0&&(_=M,w=O)}for(var A=e[2*_],R=e[2*_+1],I=1/0,L=0;L<s;L++)if(L!==y&&L!==_){var P=u(C,k,A,R,e[2*L],e[2*L+1]);P<I&&(b=L,I=P)}var D=e[2*b],N=e[2*b+1];if(I===1/0){for(var j=0;j<s;j++)this._dists[j]=e[2*j]-e[0]||e[2*j+1]-e[1];c(this._ids,this._dists,0,s-1);for(var F=new Uint32Array(s),U=0,G=0,V=-1/0;G<s;G++){var B=this._ids[G];this._dists[B]>V&&(F[U++]=B,V=this._dists[B])}return this.hull=F.subarray(0,U),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(l(C,k,A,R,D,N)){var z=_,H=A,X=R;_=b,A=D,R=N,b=z,D=H,N=X}var q=function(e,t,n,i,r,a){var o=n-e,s=i-t,l=r-e,u=a-t,c=o*o+s*s,h=l*l+u*u,d=.5/(o*u-s*l);return{x:e+(u*c-s*h)*d,y:t+(o*h-l*c)*d}}(C,k,A,R,D,N);this._cx=q.x,this._cy=q.y;for(var W=0;W<s;W++)this._dists[W]=o(e[2*W],e[2*W+1],q.x,q.y);c(this._ids,this._dists,0,s-1),this._hullStart=y;var Y=3;n[y]=t[b]=_,n[_]=t[y]=b,n[b]=t[_]=y,r[y]=0,r[_]=1,r[b]=2,a.fill(-1),a[this._hashKey(C,k)]=y,a[this._hashKey(A,R)]=_,a[this._hashKey(D,N)]=b,this.trianglesLen=0,this._addTriangle(y,_,b,-1,-1,-1);for(var K,Z,J=0;J<this._ids.length;J++){var Q=this._ids[J],$=e[2*Q],ee=e[2*Q+1];if(!(J>0&&Math.abs($-K)<=i&&Math.abs(ee-Z)<=i)&&(K=$,Z=ee,Q!==y&&Q!==_&&Q!==b)){for(var te=0,ne=0,ie=this._hashKey($,ee);ne<this._hashSize&&(-1===(te=a[(ie+ne)%this._hashSize])||te===n[te]);ne++);for(var re=void 0,ae=te=t[te];re=n[ae],!l($,ee,e[2*ae],e[2*ae+1],e[2*re],e[2*re+1]);)if((ae=re)===te){ae=-1;break}if(-1!==ae){var oe=this._addTriangle(ae,Q,n[ae],-1,-1,r[ae]);r[Q]=this._legalize(oe+2),r[ae]=oe,Y++;for(var se=n[ae];re=n[se],l($,ee,e[2*se],e[2*se+1],e[2*re],e[2*re+1]);)oe=this._addTriangle(se,Q,re,r[Q],-1,r[se]),r[Q]=this._legalize(oe+2),n[se]=se,Y--,se=re;if(ae===te)for(;l($,ee,e[2*(re=t[ae])],e[2*re+1],e[2*ae],e[2*ae+1]);)oe=this._addTriangle(re,Q,ae,-1,r[ae],r[re]),this._legalize(oe+2),r[re]=oe,n[ae]=ae,Y--,ae=re;this._hullStart=t[Q]=ae,n[ae]=t[se]=Q,n[Q]=se,a[this._hashKey($,ee)]=Q,a[this._hashKey(e[2*ae],e[2*ae+1])]=ae}}}this.hull=new Uint32Array(Y);for(var le=0,ue=this._hullStart;le<Y;le++)this.hull[le]=ue,ue=n[ue];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}},{key:"_hashKey",value:function(e,t){return Math.floor(function(e,t){var n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}(e-this._cx,t-this._cy)*this._hashSize)%this._hashSize}},{key:"_legalize",value:function(e){for(var t,n,i,a,o,s,l,u,c,h,d,f,p,m,v,g,y=this._triangles,_=this._halfedges,b=this.coords,S=0,T=0;;){var w=_[e],x=e-e%3;if(T=x+(e+2)%3,-1!==w){var E=w-w%3,C=E+(w+2)%3,k=y[T],M=y[e],O=y[x+(e+1)%3],A=y[C];if(t=b[2*k],n=b[2*k+1],i=b[2*M],a=b[2*M+1],o=b[2*O],s=b[2*O+1],l=b[2*A],u=b[2*A+1],c=void 0,h=void 0,d=void 0,f=void 0,p=void 0,m=void 0,v=void 0,g=void 0,(c=t-l)*((f=a-u)*(g=(p=o-l)*p+(m=s-u)*m)-(v=(d=i-l)*d+f*f)*m)-(h=n-u)*(d*g-v*p)+(c*c+h*h)*(d*m-f*p)<0){y[e]=A,y[w]=k;var R=_[C];if(-1===R){var I=this._hullStart;do{if(this._hullTri[I]===C){this._hullTri[I]=e;break}I=this._hullPrev[I]}while(I!==this._hullStart)}this._link(e,R),this._link(w,_[T]),this._link(T,C);var L=E+(w+1)%3;S<r.length&&(r[S++]=L)}else{if(0===S)break;e=r[--S]}}else{if(0===S)break;e=r[--S]}}return T}},{key:"_link",value:function(e,t){this._halfedges[e]=t,-1!==t&&(this._halfedges[t]=e)}},{key:"_addTriangle",value:function(e,t,n,i,r,a){var o=this.trianglesLen;return this._triangles[o]=e,this._triangles[o+1]=t,this._triangles[o+2]=n,this._link(o,i),this._link(o+1,r),this._link(o+2,a),this.trianglesLen+=3,o}}],[{key:"from",value:function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f,r=t.length,a=new Float64Array(2*r),o=0;o<r;o++){var s=t[o];a[2*o]=n(s),a[2*o+1]=i(s)}return new e(a)}}]),e}();function o(e,t,n,i){var r=e-n,a=t-i;return r*r+a*a}function s(e,t,n,i,r,a){var o=(i-t)*(r-e),s=(n-e)*(a-t);return Math.abs(o-s)>=33306690738754716e-32*Math.abs(o+s)?o-s:0}function l(e,t,n,i,r,a){return(s(r,a,e,t,n,i)||s(e,t,n,i,r,a)||s(n,i,r,a,e,t))<0}function u(e,t,n,i,r,a){var o=n-e,s=i-t,l=r-e,u=a-t,c=o*o+s*s,h=l*l+u*u,d=.5/(o*u-s*l),f=(u*c-s*h)*d,p=(o*h-l*c)*d;return f*f+p*p}function c(e,t,n,i){if(i-n<=20)for(var r=n+1;r<=i;r++){for(var a=e[r],o=t[a],s=r-1;s>=n&&t[e[s]]>o;)e[s+1]=e[s--];e[s+1]=a}else{var l=n+1,u=i;h(e,n+i>>1,l),t[e[n]]>t[e[i]]&&h(e,n,i),t[e[l]]>t[e[i]]&&h(e,l,i),t[e[n]]>t[e[l]]&&h(e,n,l);for(var d=e[l],f=t[d];;){do{l++}while(t[e[l]]<f);do{u--}while(t[e[u]]>f);if(u<l)break;h(e,l,u)}e[n+1]=e[u],e[u]=d,i-l+1>=u-n?(c(e,t,l,i),c(e,t,n,u-1)):(c(e,t,n,u-1),c(e,t,l,i))}}function h(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function d(e){return e[0]}function f(e){return e[1]}},jtHE:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var i=n("XNiG"),r=function(e){b(n,e);var t=T(n);function n(e,i){var r;return _(this,n),(r=t.call(this,e,i)).scheduler=e,r.work=i,r}return y(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t>0?v(C(n.prototype),"schedule",this).call(this,e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}},{key:"execute",value:function(e,t){return t>0||this.closed?v(C(n.prototype),"execute",this).call(this,e,t):this._execute(e,t)}},{key:"requestAsyncId",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==i&&i>0||null===i&&this.delay>0?v(C(n.prototype),"requestAsyncId",this).call(this,e,t,i):e.flush(this)}}]),n}(n("3N8a").a),a=new(function(e){b(n,e);var t=T(n);function n(){return _(this,n),t.apply(this,arguments)}return n}(n("IjjT").a))(r),o=n("quSY"),s=n("7o/Q"),l=n("WMd4"),u=function(e){b(n,e);var t=T(n);function n(e,i){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _(this,n),(r=t.call(this,e)).scheduler=i,r.delay=a,r}return y(n,[{key:"scheduleMessage",value:function(e){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new c(e,this.destination)))}},{key:"_next",value:function(e){this.scheduleMessage(l.a.createNext(e))}},{key:"_error",value:function(e){this.scheduleMessage(l.a.createError(e)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(l.a.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()}}]),n}(s.a),c=function e(t,n){_(this,e),this.notification=t,this.destination=n},h=n("9ppp"),d=n("Ylt2"),f=function(e){b(n,e);var t=T(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,a=arguments.length>2?arguments[2]:void 0;return _(this,n),(e=t.call(this)).scheduler=a,e._events=[],e._infiniteTimeWindow=!1,e._bufferSize=i<1?1:i,e._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(e._infiniteTimeWindow=!0,e.next=e.nextInfiniteTimeWindow):e.next=e.nextTimeWindow,e}return y(n,[{key:"nextInfiniteTimeWindow",value:function(e){if(!this.isStopped){var t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}v(C(n.prototype),"next",this).call(this,e)}},{key:"nextTimeWindow",value:function(e){this.isStopped||(this._events.push(new p(this._getNow(),e)),this._trimBufferThenGetEvents()),v(C(n.prototype),"next",this).call(this,e)}},{key:"_subscribe",value:function(e){var t,n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,a=i.length;if(this.closed)throw new h.a;if(this.isStopped||this.hasError?t=o.a.EMPTY:(this.observers.push(e),t=new d.a(this,e)),r&&e.add(e=new u(e,r)),n)for(var s=0;s<a&&!e.closed;s++)e.next(i[s]);else for(var l=0;l<a&&!e.closed;l++)e.next(i[l].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t}},{key:"_getNow",value:function(){return(this.scheduler||a).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,i=this._events,r=i.length,a=0;a<r&&!(e-i[a].time<n);)a++;return r>t&&(a=Math.max(a,r-t)),a>0&&i.splice(0,a),i}}]),n}(i.a),p=function e(t,n){_(this,e),this.time=t,this.value=n}},"k/Gk":function(e,t,n){"use strict";function i(e,t,n,i,r,a){for(var o=a||[],s=0,l=t;l<n;l+=i){var u=e[l],c=e[l+1];o[s++]=r[0]*u+r[2]*c+r[4],o[s++]=r[1]*u+r[3]*c+r[5]}return a&&o.length!=s&&(o.length=s),o}function r(e,t,n,i,r,a,o){for(var s=o||[],l=Math.cos(r),u=Math.sin(r),c=a[0],h=a[1],d=0,f=t;f<n;f+=i){var p=e[f]-c,m=e[f+1]-h;s[d++]=c+p*l-m*u,s[d++]=h+p*u+m*l;for(var v=f+2;v<f+i;++v)s[d++]=e[v]}return o&&s.length!=d&&(s.length=d),s}function a(e,t,n,i,r,a,o,s){for(var l=s||[],u=o[0],c=o[1],h=0,d=t;d<n;d+=i){var f=e[d+1]-c;l[h++]=u+r*(e[d]-u),l[h++]=c+a*f;for(var p=d+2;p<d+i;++p)l[h++]=e[p]}return s&&l.length!=h&&(l.length=h),l}function o(e,t,n,i,r,a,o){for(var s=o||[],l=0,u=t;u<n;u+=i){s[l++]=e[u]+r,s[l++]=e[u+1]+a;for(var c=u+2;c<u+i;++c)s[l++]=e[c]}return o&&s.length!=l&&(s.length=l),s}n.d(t,"c",function(){return i}),n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a}),n.d(t,"d",function(){return o})},k51M:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return o});var i=n("o5qb"),r=n("6Xq6");function a(e,t,n,r,a,o,s){var l=new XMLHttpRequest;l.open("GET","function"==typeof e?e(n,r,a):e,!0),t.getType()==i.a.ARRAY_BUFFER&&(l.responseType="arraybuffer"),l.withCredentials=!1,l.onload=function(e){if(!l.status||l.status>=200&&l.status<300){var r,u=t.getType();u==i.a.JSON||u==i.a.TEXT?r=l.responseText:u==i.a.XML?(r=l.responseXML)||(r=(new DOMParser).parseFromString(l.responseText,"application/xml")):u==i.a.ARRAY_BUFFER&&(r=l.response),r?o(t.readFeatures(r,{extent:n,featureProjection:a}),t.readProjection(r)):s()}else s()},l.onerror=s,l.send()}function o(e,t){return function(n,i,o,s,l){var u=this;a(e,t,n,i,o,function(e,t){void 0!==s&&s(e),u.addFeatures(e)},l||r.c)}}},k9Tt:function(e,t,n){"use strict";var i=n("zmPu"),r=n("sFtE"),a=n("gB+7"),o=n("9CgO"),s=n("6XL4"),l=n("lXae"),u=n("JaUx"),c=n.n(u),h=n("ogOc"),d=n("n2w5"),f=n("Bpkx"),p=n("hKKC"),m=function(e){b(n,e);var t=T(n);function n(e){var i;return _(this,n),(i=t.call(this,e)).vectorRenderer_=new a.a(e),i.layerImageRatio_=e.getImageRatio(),i.coordinateToVectorPixelTransform_=Object(d.c)(),i.renderedPixelToCoordinateTransform_=null,i}return y(n,[{key:"disposeInternal",value:function(){this.vectorRenderer_.dispose(),v(C(n.prototype),"disposeInternal",this).call(this)}},{key:"getFeatures",value:function(e){if(this.vectorRenderer_){var t=Object(d.a)(this.coordinateToVectorPixelTransform_,Object(d.a)(this.renderedPixelToCoordinateTransform_,e.slice()));return this.vectorRenderer_.getFeatures(t)}return new Promise(function(e,t){e([])})}},{key:"handleFontsChanged",value:function(){this.vectorRenderer_.handleFontsChanged()}},{key:"prepareFrame",value:function(e){var t=e.pixelRatio,n=e.viewState,i=n.resolution,r=e.viewHints,a=this.vectorRenderer_,u=e.extent;1!==this.layerImageRatio_&&(u=u.slice(0),Object(p.K)(u,this.layerImageRatio_));var m=Object(p.F)(u)/i,v=Object(p.B)(u)/i;if(!r[h.a.ANIMATING]&&!r[h.a.INTERACTING]&&!Object(p.I)(u)){a.useContainer(null,null,1);var g=a.context,y=Object(f.a)({},e,{declutterTree:new c.a(9),extent:u,size:[m,v],viewState:Object(f.a)({},e.viewState,{rotation:0})}),_=new s.a(u,i,t,g.canvas,function(e){a.prepareFrame(y)&&a.replayGroupChanged&&(a.clipping=!1,a.renderFrame(y,null),a.renderDeclutter(y),e())});_.addEventListener(o.a.CHANGE,(function(){if(_.getState()===l.a.LOADED){this.image_=_;var e=_.getResolution(),i=_.getPixelRatio(),r=e*t/i;this.renderedResolution=r,this.coordinateToVectorPixelTransform_=Object(d.b)(this.coordinateToVectorPixelTransform_,m/2,v/2,1/r,-1/r,0,-n.center[0],-n.center[1])}}).bind(this)),_.load()}return this.image_&&(this.renderedPixelToCoordinateTransform_=e.pixelToCoordinateTransform.slice()),!!this.image_}},{key:"preRender",value:function(){}},{key:"postRender",value:function(){}},{key:"renderDeclutter",value:function(){}},{key:"forEachFeatureAtCoordinate",value:function(e,t,i,r,a){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(e,t,i,r,a):v(C(n.prototype),"forEachFeatureAtCoordinate",this).call(this,e,t,i,r,a)}}]),n}(r.a);t.a=function(e){b(n,e);var t=T(n);function n(e){var i;_(this,n);var r=e||{},a=Object(f.a)({},r);return delete a.imageRatio,(i=t.call(this,a)).imageRatio_=void 0!==r.imageRatio?r.imageRatio:1,i}return y(n,[{key:"getImageRatio",value:function(){return this.imageRatio_}},{key:"createRenderer",value:function(){return new m(this)}}]),n}(i.a)},kEUA:function(e,t,n){"use strict";var i=function(){function e(t){_(this,e);var n=t||{};this.color_=void 0!==n.color?n.color:null,this.lineCap_=n.lineCap,this.lineDash_=void 0!==n.lineDash?n.lineDash:null,this.lineDashOffset_=n.lineDashOffset,this.lineJoin_=n.lineJoin,this.miterLimit_=n.miterLimit,this.width_=n.width}return y(e,[{key:"clone",value:function(){var t=this.getColor();return new e({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}},{key:"getColor",value:function(){return this.color_}},{key:"getLineCap",value:function(){return this.lineCap_}},{key:"getLineDash",value:function(){return this.lineDash_}},{key:"getLineDashOffset",value:function(){return this.lineDashOffset_}},{key:"getLineJoin",value:function(){return this.lineJoin_}},{key:"getMiterLimit",value:function(){return this.miterLimit_}},{key:"getWidth",value:function(){return this.width_}},{key:"setColor",value:function(e){this.color_=e}},{key:"setLineCap",value:function(e){this.lineCap_=e}},{key:"setLineDash",value:function(e){this.lineDash_=e}},{key:"setLineDashOffset",value:function(e){this.lineDashOffset_=e}},{key:"setLineJoin",value:function(e){this.lineJoin_=e}},{key:"setMiterLimit",value:function(e){this.miterLimit_=e}},{key:"setWidth",value:function(e){this.width_=e}}]),e}();t.a=i},kJWO:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i="function"==typeof Symbol&&Symbol.observable||"@@observable"},kMZc:function(e,t,n){"use strict";var i=n("cRRe"),r=n("jnTo"),a=n("9CgO"),o=n("bTHf"),s=n("VJnl"),l=n("pzRH"),u=n("2tVv"),c=n("xXok"),h=n("qKzT"),d=n("ci6y"),f=n("j7T1"),p=n("e4iU"),m=n("hKKC"),g=n("bwl8"),S=n("FHfp"),w=n("gOFd"),E=n("Cw4B"),k=function(e){b(n,e);var t=T(n);function n(){return _(this,n),t.apply(this,arguments)}return y(n,[{key:"createRenderer",value:function(){return new i.a(this)}}]),n}(h.a);t.a=function(e){b(n,e);var t=T(n);function n(e){var i;_(this,n);var r=e||{};(i=t.call(this,{element:document.createElement("div"),render:r.render,target:r.target})).boundHandleRotationChanged_=i.handleRotationChanged_.bind(x(i)),i.collapsed_=void 0===r.collapsed||r.collapsed,i.collapsible_=void 0===r.collapsible||r.collapsible,i.collapsible_||(i.collapsed_=!1),i.rotateWithView_=void 0!==r.rotateWithView&&r.rotateWithView,i.viewExtent_=void 0;var o=void 0!==r.className?r.className:"ol-overviewmap",s=void 0!==r.tipLabel?r.tipLabel:"Overview map",l=void 0!==r.collapseLabel?r.collapseLabel:"\xab";"string"==typeof l?(i.collapseLabel_=document.createElement("span"),i.collapseLabel_.textContent=l):i.collapseLabel_=l;var h=void 0!==r.label?r.label:"\xbb";"string"==typeof h?(i.label_=document.createElement("span"),i.label_.textContent=h):i.label_=h;var d=i.collapsible_&&!i.collapsed_?i.collapseLabel_:i.label_,f=document.createElement("button");f.setAttribute("type","button"),f.title=s,f.appendChild(d),f.addEventListener(a.a.CLICK,i.handleClick_.bind(x(i)),!1),i.ovmapDiv_=document.createElement("div"),i.ovmapDiv_.className="ol-overviewmap-map",i.view_=r.view,i.ovmap_=new k({view:r.view});var m=i.ovmap_;r.layers&&r.layers.forEach(function(e){m.addLayer(e)});var v=document.createElement("div");v.className="ol-overviewmap-box",v.style.boxSizing="border-box",i.boxOverlay_=new u.a({position:[0,0],positioning:c.a.CENTER_CENTER,element:v}),i.ovmap_.addOverlay(i.boxOverlay_);var g=i.element;g.className=o+" "+p.e+" "+p.b+(i.collapsed_&&i.collapsible_?" "+p.a:"")+(i.collapsible_?"":" ol-uncollapsible"),g.appendChild(i.ovmapDiv_),g.appendChild(f);var y=x(i),b=i.boxOverlay_,S=i.boxOverlay_.getElement(),T=function(e){var t,n={clientX:(t=e).clientX,clientY:t.clientY},i=m.getEventCoordinateInternal(n);b.setPosition(i)},w=function e(t){var n=m.getEventCoordinateInternal(t);y.getMap().getView().setCenterInternal(n),window.removeEventListener("mousemove",T),window.removeEventListener("mouseup",e)};return S.addEventListener("mousedown",function(){window.addEventListener("mousemove",T),window.addEventListener("mouseup",w)}),i}return y(n,[{key:"setMap",value:function(e){var t=this.getMap();if(e!==t){if(t){var i=t.getView();i&&this.unbindView_(i),this.ovmap_.setTarget(null)}if(v(C(n.prototype),"setMap",this).call(this,e),e){this.ovmap_.setTarget(this.ovmapDiv_),this.listenerKeys.push(Object(S.a)(e,l.a.PROPERTYCHANGE,this.handleMapPropertyChange_,this));var r=e.getView();r&&(this.bindView_(r),r.isDef()&&(this.ovmap_.updateSize(),this.resetExtent_()))}}}},{key:"handleMapPropertyChange_",value:function(e){if(e.key===s.a.VIEW){var t=e.oldValue;t&&this.unbindView_(t);var n=this.getMap().getView();this.bindView_(n)}}},{key:"bindView_",value:function(e){if(!this.view_){var t=new d.a({projection:e.getProjection()});this.ovmap_.setView(t)}e.addEventListener(Object(g.b)(f.a.ROTATION),this.boundHandleRotationChanged_),this.handleRotationChanged_()}},{key:"unbindView_",value:function(e){e.removeEventListener(Object(g.b)(f.a.ROTATION),this.boundHandleRotationChanged_)}},{key:"handleRotationChanged_",value:function(){this.rotateWithView_&&this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())}},{key:"validateExtent_",value:function(){var e=this.getMap(),t=this.ovmap_;if(e.isRendered()&&t.isRendered()){var n=e.getSize(),i=e.getView().calculateExtentInternal(n);if(!this.viewExtent_||!Object(m.q)(i,this.viewExtent_)){this.viewExtent_=i;var r=t.getSize(),a=t.getView().calculateExtentInternal(r),o=t.getPixelFromCoordinateInternal(Object(m.D)(i)),s=t.getPixelFromCoordinateInternal(Object(m.x)(i)),l=Math.abs(o[0]-s[0]),u=Math.abs(o[1]-s[1]),c=r[0],h=r[1];l<.1*c||u<.1*h||l>.75*c||u>.75*h?this.resetExtent_():Object(m.h)(a,i)||this.recenter_()}}}},{key:"resetExtent_",value:function(){var e=this.getMap(),t=this.ovmap_,n=e.getSize(),i=e.getView().calculateExtentInternal(n),r=t.getView(),a=Math.log(7.5)/Math.LN2,o=1/(.1*Math.pow(2,a/2));Object(m.K)(i,o),r.fitInternal(Object(w.b)(i))}},{key:"recenter_",value:function(){var e=this.getMap(),t=this.ovmap_,n=e.getView();t.getView().setCenterInternal(n.getCenterInternal())}},{key:"updateBox_",value:function(){var e=this.getMap(),t=this.ovmap_;if(e.isRendered()&&t.isRendered()){var n=e.getSize(),i=e.getView(),r=t.getView(),a=this.rotateWithView_?0:-i.getRotation(),o=this.boxOverlay_,s=this.boxOverlay_.getElement(),l=i.getCenterInternal(),u=i.getResolution(),c=r.getResolution(),h=n[0]*u/c,d=n[1]*u/c;o.setPosition(l),s&&(s.style.width=h+"px",s.style.height=d+"px",s.style.transform="rotate("+a+"rad)")}}},{key:"handleClick_",value:function(e){e.preventDefault(),this.handleToggle_()}},{key:"handleToggle_",value:function(){this.element.classList.toggle(p.a),this.collapsed_?Object(E.g)(this.collapseLabel_,this.label_):Object(E.g)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_;var e=this.ovmap_;if(!this.collapsed_){if(e.isRendered())return this.viewExtent_=void 0,void e.render();e.updateSize(),this.resetExtent_(),Object(S.b)(e,o.a.POSTRENDER,function(e){this.updateBox_()},this)}}},{key:"getCollapsible",value:function(){return this.collapsible_}},{key:"setCollapsible",value:function(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),!e&&this.collapsed_&&this.handleToggle_())}},{key:"setCollapsed",value:function(e){this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()}},{key:"getCollapsed",value:function(){return this.collapsed_}},{key:"getRotateWithView",value:function(){return this.rotateWithView_}},{key:"setRotateWithView",value:function(e){this.rotateWithView_!==e&&(this.rotateWithView_=e,0!==this.getMap().getView().getRotation()&&(this.rotateWithView_?this.handleRotationChanged_():this.ovmap_.getView().setRotation(0),this.viewExtent_=void 0,this.validateExtent_(),this.updateBox_()))}},{key:"getOverviewMap",value:function(){return this.ovmap_}},{key:"render",value:function(e){this.validateExtent_(),this.updateBox_()}}]),n}(r.a)},"kVK+":function(e,t){t.read=function(e,t,n,i,r){var a,o,s=8*r-i-1,l=(1<<s)-1,u=l>>1,c=-7,h=n?r-1:0,d=n?-1:1,f=e[t+h];for(h+=d,a=f&(1<<-c)-1,f>>=-c,c+=s;c>0;a=256*a+e[t+h],h+=d,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=i;c>0;o=256*o+e[t+h],h+=d,c-=8);if(0===a)a=1-u;else{if(a===l)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,i),a-=u}return(f?-1:1)*o*Math.pow(2,a-i)},t.write=function(e,t,n,i,r,a){var o,s,l,u=8*a-r-1,c=(1<<u)-1,h=c>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=i?0:a-1,p=i?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+h>=1?d/l:d*Math.pow(2,1-h))*l>=2&&(o++,l/=2),o+h>=c?(s=0,o=c):o+h>=1?(s=(t*l-1)*Math.pow(2,r),o+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,r),o=0));r>=8;e[n+f]=255&s,f+=p,s/=256,r-=8);for(o=o<<r|s,u+=r;u>0;e[n+f]=255&o,f+=p,o/=256,u-=8);e[n+f-p]|=128*m}},kacL:function(e,t,n){"use strict";function i(e,t,n,i,r){for(var a,o=[e[t],e[t+1]],s=[];t+i<n;t+=i){if(s[0]=e[t+i],s[1]=e[t+i+1],a=r(o,s))return a;o[0]=s[0],o[1]=s[1]}return!1}n.d(t,"a",function(){return i})},kuFe:function(e,t,n){"use strict";n.d(t,"e",function(){return a}),n.d(t,"a",function(){return o}),n.d(t,"f",function(){return s}),n.d(t,"d",function(){return l}),n.d(t,"b",function(){return u}),n.d(t,"c",function(){return c});var i=n("LV+m");function r(e,t,n,r,a,o,s){var l,u=e[t],c=e[t+1],h=e[n]-u,d=e[n+1]-c;if(0===h&&0===d)l=t;else{var f=((a-u)*h+(o-c)*d)/(h*h+d*d);if(f>1)l=n;else{if(f>0){for(var p=0;p<r;++p)s[p]=Object(i.c)(e[t+p],e[n+p],f);return void(s.length=r)}l=t}}for(var m=0;m<r;++m)s[m]=e[l+m];s.length=r}function a(e,t,n,r,a){var o=e[t],s=e[t+1];for(t+=r;t<n;t+=r){var l=e[t],u=e[t+1],c=Object(i.g)(o,s,l,u);c>a&&(a=c),o=l,s=u}return a}function o(e,t,n,i,r){for(var o=0,s=n.length;o<s;++o){var l=n[o];r=a(e,t,l,i,r),t=l}return r}function s(e,t,n,i,r){for(var a=0,s=n.length;a<s;++a){var l=n[a];r=o(e,t,l,i,r),t=l[l.length-1]}return r}function l(e,t,n,a,o,s,l,u,c,h,d){if(t==n)return h;var f,p;if(0===o){if((p=Object(i.g)(l,u,e[t],e[t+1]))<h){for(f=0;f<a;++f)c[f]=e[t+f];return c.length=a,p}return h}for(var m=d||[NaN,NaN],v=t+a;v<n;)if(r(e,v-a,v,a,l,u,m),(p=Object(i.g)(l,u,m[0],m[1]))<h){for(h=p,f=0;f<a;++f)c[f]=m[f];c.length=a,v+=a}else v+=a*Math.max((Math.sqrt(p)-Math.sqrt(h))/o|0,1);if(s&&(r(e,n-a,t,a,l,u,m),(p=Object(i.g)(l,u,m[0],m[1]))<h)){for(h=p,f=0;f<a;++f)c[f]=m[f];c.length=a}return h}function u(e,t,n,i,r,a,o,s,u,c,h){for(var d=h||[NaN,NaN],f=0,p=n.length;f<p;++f){var m=n[f];c=l(e,t,m,i,r,a,o,s,u,c,d),t=m}return c}function c(e,t,n,i,r,a,o,s,l,c,h){for(var d=h||[NaN,NaN],f=0,p=n.length;f<p;++f){var m=n[f];c=u(e,t,m,i,r,a,o,s,l,c,d),t=m[m.length-1]}return c}},l30d:function(e,t,n){"use strict";t.a={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source"}},l8mB:function(e,t,n){var i,r;void 0===(r="function"==typeof(i=function(){var e=function(e){var t=e.tagName;return"http://www.w3.org/1999/xhtml"===e.namespaceURI&&(t=t.toLowerCase()),t},t=function(e){return Array.prototype.map.call(e.childNodes,function(e){return n(e)}).join("")},n=function(n,i){var r=i&&i.rootNode;return"#document"===n.nodeName||"#document-fragment"===n.nodeName?t(n):n.tagName?function(n,i){var r="<"+e(n);return r+=function(e,t){return Array.prototype.map.call(e.attributes||e.attrs,function(e){return e.name}).indexOf("xmlns")>=0||!t&&e.namespaceURI===e.parentNode.namespaceURI?"":' xmlns="'+e.namespaceURI+'"'}(n,i),Array.prototype.forEach.call(n.attributes||n.attrs,function(e){r+=function(e){return" "+e.name+'="'+e.value.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+'"'}(e)}),n.childNodes.length>0?(r+=">",r+=t(n),r+="</"+e(n)+">"):r+="/>",r}(n,r):"#text"===n.nodeName?function(e){return(e.nodeValue||e.value||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}(n):"#comment"===n.nodeName?function(e){return"\x3c!--"+e.data.replace(/-/g,"&#45;")+"--\x3e"}(n):"#cdata-section"===n.nodeName?function(e){return"<![CDATA["+e.nodeValue+"]]>"}(n):void 0};return{serializeToString:function(e){return n(e,{rootNode:!0}).replace(/[\x00-\x08\x0B\x0C\x0E-\x1F]/g,"")}}})?i.apply(t,[]):i)||(e.exports=r)},lJxs:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("7o/Q");function r(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new a(e,t))}}var a=function(){function e(t,n){_(this,e),this.project=t,this.thisArg=n}return y(e,[{key:"call",value:function(e,t){return t.subscribe(new o(e,this.project,this.thisArg))}}]),e}(),o=function(e){b(n,e);var t=T(n);function n(e,i,r){var a;return _(this,n),(a=t.call(this,e)).project=i,a.count=0,a.thisArg=r||x(a),a}return y(n,[{key:"_next",value:function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(i.a)},lQ2a:function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"b",function(){return u}),n.d(t,"c",function(){return c}),n.d(t,"d",function(){return h});var i=n("QBIS"),r=n("aBeY"),a=n("lXae"),o=n("2I+J"),s={Point:function(e,t,n,r,o){var s,l=n.getImage(),u=n.getText();if(o&&(e=o,s=l&&u&&u.getText()?{}:void 0),l){if(l.getImageState()!=a.a.LOADED)return;var c=e.getBuilder(n.getZIndex(),i.a.IMAGE);c.setImageStyle(l,s),c.drawPoint(t,r)}if(u&&u.getText()){var h=e.getBuilder(n.getZIndex(),i.a.TEXT);h.setTextStyle(u,s),h.drawText(t,r)}},LineString:function(e,t,n,r,a){var o=n.getStroke();if(o){var s=e.getBuilder(n.getZIndex(),i.a.LINE_STRING);s.setFillStrokeStyle(null,o),s.drawLineString(t,r)}var l=n.getText();if(l&&l.getText()){var u=(a||e).getBuilder(n.getZIndex(),i.a.TEXT);u.setTextStyle(l),u.drawText(t,r)}},Polygon:function(e,t,n,r,a){var o=n.getFill(),s=n.getStroke();if(o||s){var l=e.getBuilder(n.getZIndex(),i.a.POLYGON);l.setFillStrokeStyle(o,s),l.drawPolygon(t,r)}var u=n.getText();if(u&&u.getText()){var c=(a||e).getBuilder(n.getZIndex(),i.a.TEXT);c.setTextStyle(u),c.drawText(t,r)}},MultiPoint:function(e,t,n,r,o){var s,l=n.getImage(),u=n.getText();if(o&&(e=o,s=l&&u&&u.getText()?{}:void 0),l){if(l.getImageState()!=a.a.LOADED)return;var c=e.getBuilder(n.getZIndex(),i.a.IMAGE);c.setImageStyle(l,s),c.drawMultiPoint(t,r)}if(u&&u.getText()){var h=(o||e).getBuilder(n.getZIndex(),i.a.TEXT);h.setTextStyle(u,s),h.drawText(t,r)}},MultiLineString:function(e,t,n,r,a){var o=n.getStroke();if(o){var s=e.getBuilder(n.getZIndex(),i.a.LINE_STRING);s.setFillStrokeStyle(null,o),s.drawMultiLineString(t,r)}var l=n.getText();if(l&&l.getText()){var u=(a||e).getBuilder(n.getZIndex(),i.a.TEXT);u.setTextStyle(l),u.drawText(t,r)}},MultiPolygon:function(e,t,n,r,a){var o=n.getFill(),s=n.getStroke();if(s||o){var l=e.getBuilder(n.getZIndex(),i.a.POLYGON);l.setFillStrokeStyle(o,s),l.drawMultiPolygon(t,r)}var u=n.getText();if(u&&u.getText()){var c=(a||e).getBuilder(n.getZIndex(),i.a.TEXT);c.setTextStyle(u),c.drawText(t,r)}},GeometryCollection:function(e,t,n,i,r){var a,o,l=t.getGeometriesArray();for(a=0,o=l.length;a<o;++a)(0,s[l[a].getType()])(e,l[a],n,i,r)},Circle:function(e,t,n,r,a){var o=n.getFill(),s=n.getStroke();if(o||s){var l=e.getBuilder(n.getZIndex(),i.a.CIRCLE);l.setFillStrokeStyle(o,s),l.drawCircle(t,r)}var u=n.getText();if(u&&u.getText()){var c=(a||e).getBuilder(n.getZIndex(),i.a.TEXT);c.setTextStyle(u),c.drawText(t,r)}}};function l(e,t){return parseInt(Object(o.c)(e),10)-parseInt(Object(o.c)(t),10)}function u(e,t){var n=c(e,t);return n*n}function c(e,t){return.5*e/t}function h(e,t,n,i,r,o,l){var u=!1,c=n.getImage();if(c){var h=c.getImageState();h==a.a.LOADED||h==a.a.ERROR?c.unlistenImageChange(r):(h==a.a.IDLE&&c.load(),h=c.getImageState(),c.listenImageChange(r),u=!0)}return function(e,t,n,i,r,a){var o=n.getGeometryFunction()(t);if(o){var l=o.simplifyTransformed(i,r);n.getRenderer()?d(e,l,n,t):(0,s[l.getType()])(e,l,n,t,a)}}(e,t,n,i,o,l),u}function d(e,t,n,a){if(t.getType()!=r.a.GEOMETRY_COLLECTION)e.getBuilder(n.getZIndex(),i.a.DEFAULT).drawCustom(t,a,n.getRenderer());else for(var o=t.getGeometries(),s=0,l=o.length;s<l;++s)d(e,o[s],n,a)}},lXae:function(e,t,n){"use strict";t.a={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},ljNT:function(e,t,n){"use strict";t.a={ADD:"add",REMOVE:"remove"}},"llT+":function(e,t,n){"use strict";var i=n("GLbD"),r=n("9CgO"),a=n("ZidN"),o=n("+WER"),s=n("MvdC"),l=n("oY2l"),u=n("i3ci"),c=n("Bpkx"),h=n("i907"),d=n("j5yL"),f=n("hKKC"),p=n("Znq9"),m=[101,101];t.a=function(e){b(n,e);var t=T(n);function n(e){var i;_(this,n);var r=e||{};return(i=t.call(this,{attributions:r.attributions,imageSmoothing:r.imageSmoothing,projection:r.projection,resolutions:r.resolutions})).crossOrigin_=void 0!==r.crossOrigin?r.crossOrigin:null,i.url_=r.url,i.imageLoadFunction_=void 0!==r.imageLoadFunction?r.imageLoadFunction:a.b,i.params_=r.params||{},i.v13_=!0,i.updateV13_(),i.serverType_=r.serverType,i.hidpi_=void 0===r.hidpi||r.hidpi,i.image_=null,i.imageSize_=[0,0],i.renderedRevision_=0,i.ratio_=void 0!==r.ratio?r.ratio:1.5,i}return y(n,[{key:"getFeatureInfoUrl",value:function(e,t,n,r){if(void 0!==this.url_){var a=Object(p.i)(n),o=this.getProjection();o&&o!==a&&(t=Object(h.b)(o,a,e,t),e=Object(p.q)(e,a,o));var s=Object(f.A)(e,t,0,m),l={SERVICE:"WMS",VERSION:i.a,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};Object(c.a)(l,this.params_,r);var u=Math.floor((e[0]-s[0])/t),d=Math.floor((s[3]-e[1])/t);return l[this.v13_?"I":"X"]=u,l[this.v13_?"J":"Y"]=d,this.getRequestUrl_(s,m,1,o||a,l)}}},{key:"getLegendUrl",value:function(e,t){if(void 0!==this.url_){var n={SERVICE:"WMS",VERSION:i.a,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===t||void 0===t.LAYER){var r=this.params_.LAYERS;if(Array.isArray(r)&&1!==r.length)return;n.LAYER=r}if(void 0!==e){var a=this.getProjection()?this.getProjection().getMetersPerUnit():1;n.SCALE=e*a/28e-5}return Object(c.a)(n,t),Object(l.a)(this.url_,n)}}},{key:"getParams",value:function(){return this.params_}},{key:"getImageInternal",value:function(e,t,n,a){if(void 0===this.url_)return null;t=this.findNearestResolution(t),1==n||this.hidpi_&&void 0!==this.serverType_||(n=1);var s=t/n,l=Object(f.y)(e),u=Math.ceil(Object(f.F)(e)/s),h=Math.ceil(Object(f.B)(e)/s),d=Object(f.A)(l,s,0,[u,h]),p=Math.ceil(this.ratio_*Object(f.F)(e)/s),m=Math.ceil(this.ratio_*Object(f.B)(e)/s),v=Object(f.A)(l,s,0,[p,m]),g=this.image_;if(g&&this.renderedRevision_==this.getRevision()&&g.getResolution()==t&&g.getPixelRatio()==n&&Object(f.h)(g.getExtent(),d))return g;var y={SERVICE:"WMS",VERSION:i.a,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};Object(c.a)(y,this.params_),this.imageSize_[0]=Math.round(Object(f.F)(v)/s),this.imageSize_[1]=Math.round(Object(f.B)(v)/s);var _=this.getRequestUrl_(v,this.imageSize_,n,a,y);return this.image_=new o.a(v,t,n,_,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),this.image_.addEventListener(r.a.CHANGE,this.handleImageChange.bind(this)),this.image_}},{key:"getImageLoadFunction",value:function(){return this.imageLoadFunction_}},{key:"getRequestUrl_",value:function(e,t,n,i,r){if(Object(u.a)(void 0!==this.url_,9),r[this.v13_?"CRS":"SRS"]=i.getCode(),"STYLES"in this.params_||(r.STYLES=""),1!=n)switch(this.serverType_){case s.a.GEOSERVER:var a=90*n+.5|0;"FORMAT_OPTIONS"in r?r.FORMAT_OPTIONS+=";dpi:"+a:r.FORMAT_OPTIONS="dpi:"+a;break;case s.a.MAPSERVER:r.MAP_RESOLUTION=90*n;break;case s.a.CARMENTA_SERVER:case s.a.QGIS:r.DPI=90*n;break;default:Object(u.a)(!1,8)}r.WIDTH=t[0],r.HEIGHT=t[1];var o,c=i.getAxisOrientation();return o=this.v13_&&"ne"==c.substr(0,2)?[e[1],e[0],e[3],e[2]]:e,r.BBOX=o.join(","),Object(l.a)(this.url_,r)}},{key:"getUrl",value:function(){return this.url_}},{key:"setImageLoadFunction",value:function(e){this.image_=null,this.imageLoadFunction_=e,this.changed()}},{key:"setUrl",value:function(e){e!=this.url_&&(this.url_=e,this.image_=null,this.changed())}},{key:"updateParams",value:function(e){Object(c.a)(this.params_,e),this.updateV13_(),this.image_=null,this.changed()}},{key:"updateV13_",value:function(){var e=this.params_.VERSION||i.a;this.v13_=Object(d.a)(e,"1.3")>=0}}]),n}(a.a)},ltgo:function(e,t,n){"use strict";n.d(t,"a",function(){return et}),n.d(t,"b",function(){return Je}),n.d(t,"c",function(){return Ke}),n.d(t,"d",function(){return it}),n.d(t,"e",function(){return ke});var i=n("8Y7J"),r=n("SVse");function a(e){return null!=e&&"false"!="".concat(e)}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}(e)?Number(e):t}function s(e){return e instanceof i.l?e.nativeElement:e}var u=n("XNiG"),c=n("LRne"),h=n("HDdC"),f=n("xgIS"),p=function(e){b(n,e);var t=T(n);function n(e,i){var r;return _(this,n),(r=t.call(this,e,i)).scheduler=e,r.work=i,r}return y(n,[{key:"requestAsyncId",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==i&&i>0?v(C(n.prototype),"requestAsyncId",this).call(this,e,t,i):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(function(){return e.flush(null)})))}},{key:"recycleAsyncId",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==i&&i>0||null===i&&this.delay>0)return v(C(n.prototype),"recycleAsyncId",this).call(this,e,t,i);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}}]),n}(n("3N8a").a),m=new(function(e){b(n,e);var t=T(n);function n(){return _(this,n),t.apply(this,arguments)}return y(n,[{key:"flush",value:function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,i=-1,r=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++i<r&&(e=n.shift()));if(this.active=!1,t){for(;++i<r&&(e=n.shift());)e.unsubscribe();throw t}}}]),n}(n("IjjT").a))(p),g=n("quSY"),S=(n("7+OI"),n("/uUt"),n("D0XW")),w=n("zx2A"),x=function(){function e(t){_(this,e),this.durationSelector=t}return y(e,[{key:"call",value:function(e,t){return t.subscribe(new E(e,this.durationSelector))}}]),e}(),E=function(e){b(n,e);var t=T(n);function n(e,i){var r;return _(this,n),(r=t.call(this,e)).durationSelector=i,r.hasValue=!1,r}return y(n,[{key:"_next",value:function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var t;try{t=(0,this.durationSelector)(e)}catch(i){return this.destination.error(i)}var n=Object(w.c)(t,new w.a(this));!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}},{key:"clearThrottle",value:function(){var e=this.value,t=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),t&&(this.value=void 0,this.hasValue=!1,this.destination.next(e))}},{key:"notifyNext",value:function(){this.clearThrottle()}},{key:"notifyComplete",value:function(){this.clearThrottle()}}]),n}(w.b),k=n("PqYM");function M(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S.a;return t=function(){return Object(k.a)(e,n)},function(e){return e.lift(new x(t))}}var O=n("pLZG");function A(e){return function(t){return t.lift(new R(e))}}var R=function(){function e(t){_(this,e),this.notifier=t}return y(e,[{key:"call",value:function(e,t){var n=new I(e),i=Object(w.c)(this.notifier,new w.a(n));return i&&!n.seenValue?(n.add(i),t.subscribe(n)):n}}]),e}(),I=function(e){b(n,e);var t=T(n);function n(e){var i;return _(this,n),(i=t.call(this,e)).seenValue=!1,i}return y(n,[{key:"notifyNext",value:function(){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),n}(w.b),L=n("JX91");n("7o/Q");var P,D=n("eIep");n("jtHE");try{P="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(rt){P=!1}var N,j,F,U=((F=function e(t){_(this,e),this._platformId=t,this.isBrowser=this._platformId?Object(r.A)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!P)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}).\u0275fac=function(e){return new(e||F)(i.Ub(i.C))},F.\u0275prov=Object(i.Gb)({factory:function(){return new F(Object(i.Ub)(i.C))},token:F,providedIn:"root"}),F);function G(e){return function(){if(null==N&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return N=!0}}))}finally{N=N||!1}return N}()?e:!!e.capture}function V(e){if(function(){if(null==j){var e="undefined"!=typeof document?document.head:null;j=!(!e||!e.createShadowRoot&&!e.attachShadow)}return j}()){var t=e.getRootNode?e.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}var B,z,H,X,q=new i.r("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(i.U)(r.d)}}),W=((X=function(){function e(t){if(_(this,e),this.value="ltr",this.change=new i.n,t){var n=t.documentElement?t.documentElement.dir:null,r=(t.body?t.body.dir:null)||n;this.value="ltr"===r||"rtl"===r?r:"ltr"}}return y(e,[{key:"ngOnDestroy",value:function(){this.change.complete()}}]),e}()).\u0275fac=function(e){return new(e||X)(i.Ub(q,8))},X.\u0275prov=Object(i.Gb)({factory:function(){return new X(Object(i.Ub)(q,8))},token:X,providedIn:"root"}),X),Y=((H=function(){function e(t,n,i){_(this,e),this._ngZone=t,this._platform=n,this._scrolled=new u.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}return y(e,[{key:"register",value:function(e){var t=this;this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(function(){return t._scrolled.next(e)}))}},{key:"deregister",value:function(e){var t=this.scrollContainers.get(e);t&&(t.unsubscribe(),this.scrollContainers.delete(e))}},{key:"scrolled",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return this._platform.isBrowser?new h.a(function(n){e._globalSubscription||e._addGlobalListener();var i=t>0?e._scrolled.pipe(M(t)).subscribe(n):e._scrolled.subscribe(n);return e._scrolledCount++,function(){i.unsubscribe(),e._scrolledCount--,e._scrolledCount||e._removeGlobalListener()}}):Object(c.a)()}},{key:"ngOnDestroy",value:function(){var e=this;this._removeGlobalListener(),this.scrollContainers.forEach(function(t,n){return e.deregister(n)}),this._scrolled.complete()}},{key:"ancestorScrolled",value:function(e,t){var n=this.getAncestorScrollContainers(e);return this.scrolled(t).pipe(Object(O.a)(function(e){return!e||n.indexOf(e)>-1}))}},{key:"getAncestorScrollContainers",value:function(e){var t=this,n=[];return this.scrollContainers.forEach(function(i,r){t._scrollableContainsElement(r,e)&&n.push(r)}),n}},{key:"_getWindow",value:function(){return this._document.defaultView||window}},{key:"_scrollableContainsElement",value:function(e,t){var n=s(t),i=e.getElementRef().nativeElement;do{if(n==i)return!0}while(n=n.parentElement);return!1}},{key:"_addGlobalListener",value:function(){var e=this;this._globalSubscription=this._ngZone.runOutsideAngular(function(){var t=e._getWindow();return Object(f.a)(t.document,"scroll").subscribe(function(){return e._scrolled.next()})})}},{key:"_removeGlobalListener",value:function(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}]),e}()).\u0275fac=function(e){return new(e||H)(i.Ub(i.A),i.Ub(U),i.Ub(r.d,8))},H.\u0275prov=Object(i.Gb)({factory:function(){return new H(Object(i.Ub)(i.A),Object(i.Ub)(U),Object(i.Ub)(r.d,8))},token:H,providedIn:"root"}),H),K=((z=function(){function e(t,n,i){var r=this;_(this,e),this._platform=t,this._change=new u.a,this._changeListener=function(e){r._change.next(e)},this._document=i,n.runOutsideAngular(function(){if(t.isBrowser){var e=r._getWindow();e.addEventListener("resize",r._changeListener),e.addEventListener("orientationchange",r._changeListener)}r.change().subscribe(function(){return r._updateViewportSize()})})}return y(e,[{key:"ngOnDestroy",value:function(){if(this._platform.isBrowser){var e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}},{key:"getViewportSize",value:function(){this._viewportSize||this._updateViewportSize();var e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}},{key:"getViewportRect",value:function(){var e=this.getViewportScrollPosition(),t=this.getViewportSize(),n=t.width,i=t.height;return{top:e.top,left:e.left,bottom:e.top+i,right:e.left+n,height:i,width:n}}},{key:"getViewportScrollPosition",value:function(){if(!this._platform.isBrowser)return{top:0,left:0};var e=this._document,t=this._getWindow(),n=e.documentElement,i=n.getBoundingClientRect();return{top:-i.top||e.body.scrollTop||t.scrollY||n.scrollTop||0,left:-i.left||e.body.scrollLeft||t.scrollX||n.scrollLeft||0}}},{key:"change",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return e>0?this._change.pipe(M(e)):this._change}},{key:"_getWindow",value:function(){return this._document.defaultView||window}},{key:"_updateViewportSize",value:function(){var e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}]),e}()).\u0275fac=function(e){return new(e||z)(i.Ub(U),i.Ub(i.A),i.Ub(r.d,8))},z.\u0275prov=Object(i.Gb)({factory:function(){return new z(Object(i.Ub)(U),Object(i.Ub)(i.A),Object(i.Ub)(r.d,8))},token:z,providedIn:"root"}),z),Z=((B=function e(){_(this,e)}).\u0275fac=function(e){return new(e||B)},B.\u0275mod=i.Ib({type:B}),B.\u0275inj=i.Hb({}),B),J=n("Y7HM");function Q(e){var t=e.subscriber,n=e.counter,i=e.period;t.next(n),this.schedule({subscriber:t,counter:n+1,period:i},i)}var $=n("VRyK"),ee=n("lJxs"),te=n("IzEk"),ne=n("vkgz");function ie(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function re(e,t){var n=t?"":"none";ie(e.style,{touchAction:t?"":"none",webkitUserDrag:t?"":"none",webkitTapHighlightColor:t?"":"transparent",userSelect:n,msUserSelect:n,webkitUserSelect:n,MozUserSelect:n})}function ae(e,t){var n=e.style;n.position=t?"":"fixed",n.top=n.opacity=t?"":"0",n.left=t?"":"-999em"}function oe(e){var t=e.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(e)*t}function se(e,t){return e.getPropertyValue(t).split(",").map(function(e){return e.trim()})}function le(e){var t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}}function ue(e,t,n){var i=e.top,r=e.bottom,a=e.left,o=e.right;return n>=i&&n<=r&&t>=a&&t<=o}function ce(e,t,n){e.top+=t,e.bottom=e.top+e.height,e.left+=n,e.right=e.left+e.width}function he(e,t,n,i){var r=e.top,a=e.right,o=e.bottom,s=e.left,l=e.width*t,u=e.height*t;return i>r-u&&i<o+u&&n>s-l&&n<a+l}var de=function(){function e(t,n){_(this,e),this._document=t,this._viewportRuler=n,this.positions=new Map}return y(e,[{key:"clear",value:function(){this.positions.clear()}},{key:"cache",value:function(e){var t=this;this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),e.forEach(function(e){t.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:le(e)})})}},{key:"handleScroll",value:function(e){var t=e.target,n=this.positions.get(t);if(!n)return null;var i,r,a=t===this._document?t.documentElement:t,o=n.scrollPosition;if(t===this._document){var s=this._viewportRuler.getViewportScrollPosition();i=s.top,r=s.left}else i=t.scrollTop,r=t.scrollLeft;var l=o.top-i,u=o.left-r;return this.positions.forEach(function(e,n){e.clientRect&&t!==n&&a.contains(n)&&ce(e.clientRect,l,u)}),o.top=i,o.left=r,{top:l,left:u}}}]),e}();function fe(e){var t=e.cloneNode(!0),n=t.querySelectorAll("[id]"),i=e.nodeName.toLowerCase();t.removeAttribute("id");for(var r=0;r<n.length;r++)n[r].removeAttribute("id");return"canvas"===i?ge(e,t):"input"!==i&&"select"!==i&&"textarea"!==i||ve(e,t),pe("canvas",e,t,ge),pe("input, textarea, select",e,t,ve),t}function pe(e,t,n,i){var r=t.querySelectorAll(e);if(r.length)for(var a=n.querySelectorAll(e),o=0;o<r.length;o++)i(r[o],a[o])}var me=0;function ve(e,t){"file"!==t.type&&(t.value=e.value),"radio"===t.type&&t.name&&(t.name="mat-clone-".concat(t.name,"-").concat(me++))}function ge(e,t){var n=t.getContext("2d");if(n)try{n.drawImage(e,0,0)}catch(rt){}}var ye=G({passive:!0}),_e=G({passive:!1}),be=function(){function e(t,n,i,r,a,o){var s=this;_(this,e),this._config=n,this._document=i,this._ngZone=r,this._viewportRuler=a,this._dragDropRegistry=o,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new u.a,this._pointerMoveSubscription=g.a.EMPTY,this._pointerUpSubscription=g.a.EMPTY,this._scrollSubscription=g.a.EMPTY,this._resizeSubscription=g.a.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new u.a,this.started=new u.a,this.released=new u.a,this.ended=new u.a,this.entered=new u.a,this.exited=new u.a,this.dropped=new u.a,this.moved=this._moveEvents,this._pointerDown=function(e){if(s.beforeStarted.next(),s._handles.length){var t=s._handles.find(function(t){var n=e.target;return!!n&&(n===t||t.contains(n))});!t||s._disabledHandles.has(t)||s.disabled||s._initializeDragSequence(t,e)}else s.disabled||s._initializeDragSequence(s._rootElement,e)},this._pointerMove=function(e){var t=s._getPointerPositionOnPage(e);if(s._hasStartedDragging){s._boundaryElement&&(s._previewRect&&(s._previewRect.width||s._previewRect.height)||(s._previewRect=(s._preview||s._rootElement).getBoundingClientRect())),e.preventDefault();var n=s._getConstrainedPointerPosition(t);if(s._hasMoved=!0,s._lastKnownPointerPosition=t,s._updatePointerDirectionDelta(n),s._dropContainer)s._updateActiveDropContainer(n,t);else{var i=s._activeTransform;i.x=n.x-s._pickupPositionOnPage.x+s._passiveTransform.x,i.y=n.y-s._pickupPositionOnPage.y+s._passiveTransform.y,s._applyRootElementTransform(i.x,i.y),"undefined"!=typeof SVGElement&&s._rootElement instanceof SVGElement&&s._rootElement.setAttribute("transform","translate(".concat(i.x," ").concat(i.y,")"))}s._moveEvents.observers.length&&s._ngZone.run(function(){s._moveEvents.next({source:s,pointerPosition:n,event:e,distance:s._getDragDistance(n),delta:s._pointerDirectionDelta})})}else if(Math.abs(t.x-s._pickupPositionOnPage.x)+Math.abs(t.y-s._pickupPositionOnPage.y)>=s._config.dragStartThreshold){var r=Date.now()>=s._dragStartTime+s._getDragStartDelay(e),a=s._dropContainer;if(!r)return void s._endDragSequence(e);a&&(a.isDragging()||a.isReceiving())||(e.preventDefault(),s._hasStartedDragging=!0,s._ngZone.run(function(){return s._startDragSequence(e)}))}},this._pointerUp=function(e){s._endDragSequence(e)},this.withRootElement(t).withParent(n.parentDragRef||null),this._parentPositions=new de(i,a),o.registerDragItem(this)}return y(e,[{key:"disabled",get:function(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)},set:function(e){var t=a(e);t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(function(e){return re(e,t)}))}},{key:"getPlaceholderElement",value:function(){return this._placeholder}},{key:"getRootElement",value:function(){return this._rootElement}},{key:"getVisibleElement",value:function(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}},{key:"withHandles",value:function(e){var t=this;this._handles=e.map(function(e){return s(e)}),this._handles.forEach(function(e){return re(e,t.disabled)}),this._toggleNativeDragInteractions();var n=new Set;return this._disabledHandles.forEach(function(e){t._handles.indexOf(e)>-1&&n.add(e)}),this._disabledHandles=n,this}},{key:"withPreviewTemplate",value:function(e){return this._previewTemplate=e,this}},{key:"withPlaceholderTemplate",value:function(e){return this._placeholderTemplate=e,this}},{key:"withRootElement",value:function(e){var t=this,n=s(e);return n!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(function(){n.addEventListener("mousedown",t._pointerDown,_e),n.addEventListener("touchstart",t._pointerDown,ye)}),this._initialTransform=void 0,this._rootElement=n),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}},{key:"withBoundaryElement",value:function(e){var t=this;return this._boundaryElement=e?s(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(function(){return t._containInsideBoundaryOnResize()})),this}},{key:"withParent",value:function(e){return this._parentDragRef=e,this}},{key:"dispose",value:function(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&we(this._rootElement),we(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}},{key:"isDragging",value:function(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}},{key:"reset",value:function(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}},{key:"disableHandle",value:function(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),re(e,!0))}},{key:"enableHandle",value:function(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),re(e,this.disabled))}},{key:"withDirection",value:function(e){return this._direction=e,this}},{key:"_withDropContainer",value:function(e){this._dropContainer=e}},{key:"getFreeDragPosition",value:function(){var e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}},{key:"setFreeDragPosition",value:function(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}},{key:"_sortFromLastPointerPosition",value:function(){var e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}},{key:"_removeSubscriptions",value:function(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}},{key:"_destroyPreview",value:function(){this._preview&&we(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}},{key:"_destroyPlaceholder",value:function(){this._placeholder&&we(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}},{key:"_endDragSequence",value:function(e){var t=this;this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging&&(this.released.next({source:this}),this._dropContainer?(this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(function(){t._cleanupDragArtifacts(e),t._cleanupCachedDimensions(),t._dragDropRegistry.stopDragging(t)})):(this._passiveTransform.x=this._activeTransform.x,this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(function(){t.ended.next({source:t,distance:t._getDragDistance(t._getPointerPositionOnPage(e))})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this))))}},{key:"_startDragSequence",value:function(e){xe(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();var t=this._dropContainer;if(t){var n=this._rootElement,i=n.parentNode,r=this._preview=this._createPreviewElement(),a=this._placeholder=this._createPlaceholderElement(),o=this._anchor=this._anchor||this._document.createComment(""),s=this._getShadowRoot();i.insertBefore(o,n),ae(n,!1),this._document.body.appendChild(i.replaceChild(a,n)),function(e,t){return t||e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement||e.body}(this._document,s).appendChild(r),this.started.next({source:this}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}},{key:"_initializeDragSequence",value:function(e,t){var n=this;this._parentDragRef&&t.stopPropagation();var i=this.isDragging(),r=xe(t),a=!r&&0!==t.button,o=this._rootElement,s=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(t.target&&t.target.draggable&&"mousedown"===t.type&&t.preventDefault(),!(i||a||s)){this._handles.length&&(this._rootElementTapHighlight=o.style.webkitTapHighlightColor||"",o.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scroll.subscribe(function(e){n._updateOnScroll(e)}),this._boundaryElement&&(this._boundaryRect=le(this._boundaryElement));var l=this._previewTemplate;this._pickupPositionInElement=l&&l.template&&!l.matchSize?{x:0,y:0}:this._getPointerPositionInElement(e,t);var u=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:u.x,y:u.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}}},{key:"_cleanupDragArtifacts",value:function(e){var t=this;ae(this._rootElement,!0),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run(function(){var n=t._dropContainer,i=n.getItemIndex(t),r=t._getPointerPositionOnPage(e),a=t._getDragDistance(t._getPointerPositionOnPage(e)),o=n._isOverContainer(r.x,r.y);t.ended.next({source:t,distance:a}),t.dropped.next({item:t,currentIndex:i,previousIndex:t._initialIndex,container:n,previousContainer:t._initialContainer,isPointerOverContainer:o,distance:a}),n.drop(t,i,t._initialIndex,t._initialContainer,o,a),t._dropContainer=t._initialContainer})}},{key:"_updateActiveDropContainer",value:function(e,t){var n=this,i=e.x,r=e.y,a=t.x,o=t.y,s=this._initialContainer._getSiblingContainerFromPosition(this,i,r);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(i,r)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(function(){n.exited.next({item:n,container:n._dropContainer}),n._dropContainer.exit(n),n._dropContainer=s,n._dropContainer.enter(n,i,r,s===n._initialContainer&&s.sortingDisabled?n._initialIndex:void 0),n.entered.next({item:n,container:s,currentIndex:s.getItemIndex(n)})}),this._dropContainer._startScrollingIfNecessary(a,o),this._dropContainer._sortItem(this,i,r,this._pointerDirectionDelta),this._preview.style.transform=Se(i-this._pickupPositionInElement.x,r-this._pickupPositionInElement.y)}},{key:"_createPreviewElement",value:function(){var e,t=this._previewTemplate,n=this.previewClass,i=t?t.template:null;if(i&&t){var r=t.matchSize?this._rootElement.getBoundingClientRect():null,a=t.viewContainer.createEmbeddedView(i,t.context);a.detectChanges(),e=Ee(a,this._document),this._previewRef=a,t.matchSize?Ce(e,r):e.style.transform=Se(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{var o=this._rootElement;Ce(e=fe(o),o.getBoundingClientRect())}return ie(e.style,{pointerEvents:"none",margin:"0",position:"fixed",top:"0",left:"0",zIndex:"".concat(this._config.zIndex||1e3)}),re(e,!1),e.classList.add("cdk-drag-preview"),e.setAttribute("dir",this._direction),n&&(Array.isArray(n)?n.forEach(function(t){return e.classList.add(t)}):e.classList.add(n)),e}},{key:"_animatePreviewToPlaceholder",value:function(){var e=this;if(!this._hasMoved)return Promise.resolve();var t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=Se(t.left,t.top);var n=function(e){var t=getComputedStyle(e),n=se(t,"transition-property"),i=n.find(function(e){return"transform"===e||"all"===e});if(!i)return 0;var r=n.indexOf(i),a=se(t,"transition-duration"),o=se(t,"transition-delay");return oe(a[r])+oe(o[r])}(this._preview);return 0===n?Promise.resolve():this._ngZone.runOutsideAngular(function(){return new Promise(function(t){var i=function n(i){(!i||i.target===e._preview&&"transform"===i.propertyName)&&(e._preview.removeEventListener("transitionend",n),t(),clearTimeout(r))},r=setTimeout(i,1.5*n);e._preview.addEventListener("transitionend",i)})})}},{key:"_createPlaceholderElement",value:function(){var e,t=this._placeholderTemplate,n=t?t.template:null;return n?(this._placeholderRef=t.viewContainer.createEmbeddedView(n,t.context),this._placeholderRef.detectChanges(),e=Ee(this._placeholderRef,this._document)):e=fe(this._rootElement),e.classList.add("cdk-drag-placeholder"),e}},{key:"_getPointerPositionInElement",value:function(e,t){var n=this._rootElement.getBoundingClientRect(),i=e===this._rootElement?null:e,r=i?i.getBoundingClientRect():n,a=xe(t)?t.targetTouches[0]:t,o=this._getViewportScrollPosition();return{x:r.left-n.left+(a.pageX-r.left-o.left),y:r.top-n.top+(a.pageY-r.top-o.top)}}},{key:"_getPointerPositionOnPage",value:function(e){var t=this._getViewportScrollPosition(),n=xe(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,i=n.pageX-t.left,r=n.pageY-t.top;if(this._ownerSVGElement){var a=this._ownerSVGElement.getScreenCTM();if(a){var o=this._ownerSVGElement.createSVGPoint();return o.x=i,o.y=r,o.matrixTransform(a.inverse())}}return{x:i,y:r}}},{key:"_getConstrainedPointerPosition",value:function(e){var t=this._dropContainer?this._dropContainer.lockAxis:null,n=this.constrainPosition?this.constrainPosition(e,this):e,i=n.x,r=n.y;if("x"===this.lockAxis||"x"===t?r=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==t||(i=this._pickupPositionOnPage.x),this._boundaryRect){var a=this._pickupPositionInElement,o=a.x,s=a.y,l=this._boundaryRect,u=this._previewRect,c=l.top+s,h=l.bottom-(u.height-s);i=Te(i,l.left+o,l.right-(u.width-o)),r=Te(r,c,h)}return{x:i,y:r}}},{key:"_updatePointerDirectionDelta",value:function(e){var t=e.x,n=e.y,i=this._pointerDirectionDelta,r=this._pointerPositionAtLastDirectionChange,a=Math.abs(t-r.x),o=Math.abs(n-r.y);return a>this._config.pointerDirectionChangeThreshold&&(i.x=t>r.x?1:-1,r.x=t),o>this._config.pointerDirectionChangeThreshold&&(i.y=n>r.y?1:-1,r.y=n),i}},{key:"_toggleNativeDragInteractions",value:function(){if(this._rootElement&&this._handles){var e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,re(this._rootElement,e))}}},{key:"_removeRootElementListeners",value:function(e){e.removeEventListener("mousedown",this._pointerDown,_e),e.removeEventListener("touchstart",this._pointerDown,ye)}},{key:"_applyRootElementTransform",value:function(e,t){var n=Se(e,t);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._rootElement.style.transform=this._initialTransform?n+" "+this._initialTransform:n}},{key:"_getDragDistance",value:function(e){var t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}},{key:"_cleanupCachedDimensions",value:function(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}},{key:"_containInsideBoundaryOnResize",value:function(){var e=this._passiveTransform,t=e.x,n=e.y;if(!(0===t&&0===n||this.isDragging())&&this._boundaryElement){var i=this._boundaryElement.getBoundingClientRect(),r=this._rootElement.getBoundingClientRect();if(!(0===i.width&&0===i.height||0===r.width&&0===r.height)){var a=i.left-r.left,o=r.right-i.right,s=i.top-r.top,l=r.bottom-i.bottom;i.width>r.width?(a>0&&(t+=a),o>0&&(t-=o)):t=0,i.height>r.height?(s>0&&(n+=s),l>0&&(n-=l)):n=0,t===this._passiveTransform.x&&n===this._passiveTransform.y||this.setFreeDragPosition({y:n,x:t})}}}},{key:"_getDragStartDelay",value:function(e){var t=this.dragStartDelay;return"number"==typeof t?t:xe(e)?t.touch:t?t.mouse:0}},{key:"_updateOnScroll",value:function(e){var t=this._parentPositions.handleScroll(e);if(t){var n=e.target;this._boundaryRect&&(n===this._document||n!==this._boundaryElement&&n.contains(this._boundaryElement))&&ce(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}},{key:"_getViewportScrollPosition",value:function(){var e=this._parentPositions.positions.get(this._document);return e?e.scrollPosition:this._viewportRuler.getViewportScrollPosition()}},{key:"_getShadowRoot",value:function(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=V(this._rootElement)),this._cachedShadowRoot}}]),e}();function Se(e,t){return"translate3d(".concat(Math.round(e),"px, ").concat(Math.round(t),"px, 0)")}function Te(e,t,n){return Math.max(t,Math.min(n,e))}function we(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function xe(e){return"t"===e.type[0]}function Ee(e,t){var n=e.rootNodes;if(1===n.length&&n[0].nodeType===t.ELEMENT_NODE)return n[0];var i=t.createElement("div");return n.forEach(function(e){return i.appendChild(e)}),i}function Ce(e,t){e.style.width="".concat(t.width,"px"),e.style.height="".concat(t.height,"px"),e.style.transform=Se(t.left,t.top)}function ke(e,t,n){var i=Me(t,e.length-1),r=Me(n,e.length-1);if(i!==r){for(var a=e[i],o=r<i?-1:1,s=i;s!==r;s+=o)e[s]=e[s+o];e[r]=a}}function Me(e,t){return Math.max(0,Math.min(t,e))}var Oe=function(){function e(t,n,i,r,a){var o=this;_(this,e),this._dragDropRegistry=n,this._ngZone=r,this._viewportRuler=a,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=function(){return!0},this.sortPredicate=function(){return!0},this.beforeStarted=new u.a,this.entered=new u.a,this.exited=new u.a,this.dropped=new u.a,this.sorted=new u.a,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=g.a.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new u.a,this._cachedShadowRoot=null,this._startScrollInterval=function(){o._stopScrolling(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S.a;return(!Object(J.a)(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=S.a),new h.a(function(n){return n.add(t.schedule(Q,e,{subscriber:n,counter:0,period:e})),n})}(0,m).pipe(A(o._stopScrollTimers)).subscribe(function(){var e=o._scrollNode,t=o.autoScrollStep;1===o._verticalScrollDirection?Re(e,-t):2===o._verticalScrollDirection&&Re(e,t),1===o._horizontalScrollDirection?Ie(e,-t):2===o._horizontalScrollDirection&&Ie(e,t)})},this.element=s(t),this._document=i,this.withScrollableParents([this.element]),n.registerDropContainer(this),this._parentPositions=new de(i,a)}return y(e,[{key:"dispose",value:function(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}},{key:"isDragging",value:function(){return this._isDragging}},{key:"start",value:function(){this._draggingStarted(),this._notifyReceivingSiblings()}},{key:"enter",value:function(e,t,n,i){var r;this._draggingStarted(),null==i?-1===(r=this.sortingDisabled?this._draggables.indexOf(e):-1)&&(r=this._getItemIndexFromPointerPosition(e,t,n)):r=i;var a=this._activeDraggables,o=a.indexOf(e),l=e.getPlaceholderElement(),u=a[r];if(u===e&&(u=a[r+1]),o>-1&&a.splice(o,1),u&&!this._dragDropRegistry.isDragging(u)){var c=u.getRootElement();c.parentElement.insertBefore(l,c),a.splice(r,0,e)}else if(this._shouldEnterAsFirstChild(t,n)){var h=a[0].getRootElement();h.parentNode.insertBefore(l,h),a.unshift(e)}else s(this.element).appendChild(l),a.push(e);l.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}},{key:"exit",value:function(e){this._reset(),this.exited.next({item:e,container:this})}},{key:"drop",value:function(e,t,n,i,r,a){this._reset(),this.dropped.next({item:e,currentIndex:t,previousIndex:n,container:this,previousContainer:i,isPointerOverContainer:r,distance:a})}},{key:"withItems",value:function(e){var t=this,n=this._draggables;return this._draggables=e,e.forEach(function(e){return e._withDropContainer(t)}),this.isDragging()&&(n.filter(function(e){return e.isDragging()}).every(function(t){return-1===e.indexOf(t)})?this._reset():this._cacheItems()),this}},{key:"withDirection",value:function(e){return this._direction=e,this}},{key:"connectedTo",value:function(e){return this._siblings=e.slice(),this}},{key:"withOrientation",value:function(e){return this._orientation=e,this}},{key:"withScrollableParents",value:function(e){var t=s(this.element);return this._scrollableElements=-1===e.indexOf(t)?[t].concat(d(e)):e.slice(),this}},{key:"getScrollableParents",value:function(){return this._scrollableElements}},{key:"getItemIndex",value:function(e){return this._isDragging?Ae("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,function(t){return t.drag===e}):this._draggables.indexOf(e)}},{key:"isReceiving",value:function(){return this._activeSiblings.size>0}},{key:"_sortItem",value:function(e,t,n,i){if(!this.sortingDisabled&&this._clientRect&&he(this._clientRect,.05,t,n)){var r=this._itemPositions,a=this._getItemIndexFromPointerPosition(e,t,n,i);if(!(-1===a&&r.length>0)){var o="horizontal"===this._orientation,s=Ae(r,function(t){return t.drag===e}),l=r[a],u=l.clientRect,c=s>a?1:-1,h=this._getItemOffsetPx(r[s].clientRect,u,c),d=this._getSiblingOffsetPx(s,r,c),f=r.slice();ke(r,s,a),this.sorted.next({previousIndex:s,currentIndex:a,container:this,item:e}),r.forEach(function(t,n){if(f[n]!==t){var i=t.drag===e,r=i?h:d,a=i?e.getPlaceholderElement():t.drag.getRootElement();t.offset+=r,o?(a.style.transform="translate3d(".concat(Math.round(t.offset),"px, 0, 0)"),ce(t.clientRect,0,r)):(a.style.transform="translate3d(0, ".concat(Math.round(t.offset),"px, 0)"),ce(t.clientRect,r,0))}}),this._previousSwap.overlaps=ue(u,t,n),this._previousSwap.drag=l.drag,this._previousSwap.delta=o?i.x:i.y}}}},{key:"_startScrollingIfNecessary",value:function(e,t){var n=this;if(!this.autoScrollDisabled){var i,r=0,a=0;if(this._parentPositions.positions.forEach(function(o,s){var u;s!==n._document&&o.clientRect&&!i&&he(o.clientRect,.05,e,t)&&(u=l(function(e,t,n,i){var r=Le(t,i),a=Pe(t,n),o=0,s=0;if(r){var l=e.scrollTop;1===r?l>0&&(o=1):e.scrollHeight-l>e.clientHeight&&(o=2)}if(a){var u=e.scrollLeft;1===a?u>0&&(s=1):e.scrollWidth-u>e.clientWidth&&(s=2)}return[o,s]}(s,o.clientRect,e,t),2),r=u[0],a=u[1],(r||a)&&(i=s))}),!r&&!a){var o=this._viewportRuler.getViewportSize(),s=o.width,u=o.height,c={width:s,height:u,top:0,right:s,bottom:u,left:0};r=Le(c,t),a=Pe(c,e),i=window}!i||r===this._verticalScrollDirection&&a===this._horizontalScrollDirection&&i===this._scrollNode||(this._verticalScrollDirection=r,this._horizontalScrollDirection=a,this._scrollNode=i,(r||a)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}}},{key:"_stopScrolling",value:function(){this._stopScrollTimers.next()}},{key:"_draggingStarted",value:function(){var e=s(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}},{key:"_cacheParentPositions",value:function(){var e=s(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(e).clientRect}},{key:"_cacheItemPositions",value:function(){var e="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(function(e){var t=e.getVisibleElement();return{drag:e,offset:0,clientRect:le(t)}}).sort(function(t,n){return e?t.clientRect.left-n.clientRect.left:t.clientRect.top-n.clientRect.top})}},{key:"_reset",value:function(){var e=this;this._isDragging=!1;var t=s(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(function(e){var t=e.getRootElement();t&&(t.style.transform="")}),this._siblings.forEach(function(t){return t._stopReceiving(e)}),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}},{key:"_getSiblingOffsetPx",value:function(e,t,n){var i="horizontal"===this._orientation,r=t[e].clientRect,a=t[e+-1*n],o=r[i?"width":"height"]*n;if(a){var s=i?"left":"top",l=i?"right":"bottom";-1===n?o-=a.clientRect[s]-r[l]:o+=r[s]-a.clientRect[l]}return o}},{key:"_getItemOffsetPx",value:function(e,t,n){var i="horizontal"===this._orientation,r=i?t.left-e.left:t.top-e.top;return-1===n&&(r+=i?t.width-e.width:t.height-e.height),r}},{key:"_shouldEnterAsFirstChild",value:function(e,t){if(!this._activeDraggables.length)return!1;var n=this._itemPositions,i="horizontal"===this._orientation;if(n[0].drag!==this._activeDraggables[0]){var r=n[n.length-1].clientRect;return i?e>=r.right:t>=r.bottom}var a=n[0].clientRect;return i?e<=a.left:t<=a.top}},{key:"_getItemIndexFromPointerPosition",value:function(e,t,n,i){var r=this,a="horizontal"===this._orientation,o=Ae(this._itemPositions,function(o,s,l){var u=o.drag,c=o.clientRect;if(u===e)return l.length<2;if(i){var h=a?i.x:i.y;if(u===r._previousSwap.drag&&r._previousSwap.overlaps&&h===r._previousSwap.delta)return!1}return a?t>=Math.floor(c.left)&&t<Math.floor(c.right):n>=Math.floor(c.top)&&n<Math.floor(c.bottom)});return-1!==o&&this.sortPredicate(o,e,this)?o:-1}},{key:"_cacheItems",value:function(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}},{key:"_isOverContainer",value:function(e,t){return null!=this._clientRect&&ue(this._clientRect,e,t)}},{key:"_getSiblingContainerFromPosition",value:function(e,t,n){return this._siblings.find(function(i){return i._canReceive(e,t,n)})}},{key:"_canReceive",value:function(e,t,n){if(!this._clientRect||!ue(this._clientRect,t,n)||!this.enterPredicate(e,this))return!1;var i=this._getShadowRoot().elementFromPoint(t,n);if(!i)return!1;var r=s(this.element);return i===r||r.contains(i)}},{key:"_startReceiving",value:function(e,t){var n=this,i=this._activeSiblings;!i.has(e)&&t.every(function(e){return n.enterPredicate(e,n)||n._draggables.indexOf(e)>-1})&&(i.add(e),this._cacheParentPositions(),this._listenToScrollEvents())}},{key:"_stopReceiving",value:function(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe()}},{key:"_listenToScrollEvents",value:function(){var e=this;this._viewportScrollSubscription=this._dragDropRegistry.scroll.subscribe(function(t){if(e.isDragging()){var n=e._parentPositions.handleScroll(t);n&&(e._itemPositions.forEach(function(e){ce(e.clientRect,n.top,n.left)}),e._itemPositions.forEach(function(t){var n=t.drag;e._dragDropRegistry.isDragging(n)&&n._sortFromLastPointerPosition()}))}else e.isReceiving()&&e._cacheParentPositions()})}},{key:"_getShadowRoot",value:function(){if(!this._cachedShadowRoot){var e=V(s(this.element));this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}},{key:"_notifyReceivingSiblings",value:function(){var e=this,t=this._activeDraggables.filter(function(e){return e.isDragging()});this._siblings.forEach(function(n){return n._startReceiving(e,t)})}}]),e}();function Ae(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n,e))return n;return-1}function Re(e,t){e===window?e.scrollBy(0,t):e.scrollTop+=t}function Ie(e,t){e===window?e.scrollBy(t,0):e.scrollLeft+=t}function Le(e,t){var n=e.top,i=e.bottom,r=.05*e.height;return t>=n-r&&t<=n+r?1:t>=i-r&&t<=i+r?2:0}function Pe(e,t){var n=e.left,i=e.right,r=.05*e.width;return t>=n-r&&t<=n+r?1:t>=i-r&&t<=i+r?2:0}var De,Ne,je,Fe,Ue,Ge=G({passive:!1,capture:!0}),Ve=((De=function(){function e(t,n){var i=this;_(this,e),this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=function(e){return e.isDragging()},this.pointerMove=new u.a,this.pointerUp=new u.a,this.scroll=new u.a,this._preventDefaultWhileDragging=function(e){i._activeDragInstances.length>0&&e.preventDefault()},this._persistentTouchmoveListener=function(e){i._activeDragInstances.length>0&&(i._activeDragInstances.some(i._draggingPredicate)&&e.preventDefault(),i.pointerMove.next(e))},this._document=n}return y(e,[{key:"registerDropContainer",value:function(e){this._dropInstances.has(e)||this._dropInstances.add(e)}},{key:"registerDragItem",value:function(e){var t=this;this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(function(){t._document.addEventListener("touchmove",t._persistentTouchmoveListener,Ge)})}},{key:"removeDropContainer",value:function(e){this._dropInstances.delete(e)}},{key:"removeDragItem",value:function(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Ge)}},{key:"startDragging",value:function(e,t){var n=this;if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){var i=t.type.startsWith("touch");this._globalListeners.set(i?"touchend":"mouseup",{handler:function(e){return n.pointerUp.next(e)},options:!0}).set("scroll",{handler:function(e){return n.scroll.next(e)},options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Ge}),i||this._globalListeners.set("mousemove",{handler:function(e){return n.pointerMove.next(e)},options:Ge}),this._ngZone.runOutsideAngular(function(){n._globalListeners.forEach(function(e,t){n._document.addEventListener(t,e.handler,e.options)})})}}},{key:"stopDragging",value:function(e){var t=this._activeDragInstances.indexOf(e);t>-1&&(this._activeDragInstances.splice(t,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}},{key:"isDragging",value:function(e){return this._activeDragInstances.indexOf(e)>-1}},{key:"ngOnDestroy",value:function(){var e=this;this._dragInstances.forEach(function(t){return e.removeDragItem(t)}),this._dropInstances.forEach(function(t){return e.removeDropContainer(t)}),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}},{key:"_clearGlobalListeners",value:function(){var e=this;this._globalListeners.forEach(function(t,n){e._document.removeEventListener(n,t.handler,t.options)}),this._globalListeners.clear()}}]),e}()).\u0275fac=function(e){return new(e||De)(i.Ub(i.A),i.Ub(r.d))},De.\u0275prov=Object(i.Gb)({factory:function(){return new De(Object(i.Ub)(i.A),Object(i.Ub)(r.d))},token:De,providedIn:"root"}),De),Be={dragStartThreshold:5,pointerDirectionChangeThreshold:5},ze=((Ne=function(){function e(t,n,i,r){_(this,e),this._document=t,this._ngZone=n,this._viewportRuler=i,this._dragDropRegistry=r}return y(e,[{key:"createDrag",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be;return new be(e,t,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}},{key:"createDropList",value:function(e){return new Oe(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}]),e}()).\u0275fac=function(e){return new(e||Ne)(i.Ub(r.d),i.Ub(i.A),i.Ub(K),i.Ub(Ve))},Ne.\u0275prov=Object(i.Gb)({factory:function(){return new Ne(Object(i.Ub)(r.d),Object(i.Ub)(i.A),Object(i.Ub)(K),Object(i.Ub)(Ve))},token:Ne,providedIn:"root"}),Ne),He=new i.r("CDK_DRAG_PARENT"),Xe=new i.r("CdkDropListGroup"),qe=new i.r("CDK_DRAG_CONFIG"),We=0,Ye=new i.r("CdkDropList"),Ke=((je=function(){function e(t,n,r,a,o,s,l){var c=this;_(this,e),this.element=t,this._changeDetectorRef=r,this._scrollDispatcher=a,this._dir=o,this._group=s,this._destroyed=new u.a,this.connectedTo=[],this.id="cdk-drop-list-"+We++,this.enterPredicate=function(){return!0},this.sortPredicate=function(){return!0},this.dropped=new i.n,this.entered=new i.n,this.exited=new i.n,this.sorted=new i.n,this._unsortedItems=new Set,this._dropListRef=n.createDropList(t),this._dropListRef.data=this,l&&this._assignDefaults(l),this._dropListRef.enterPredicate=function(e,t){return c.enterPredicate(e.data,t.data)},this._dropListRef.sortPredicate=function(e,t,n){return c.sortPredicate(e,t.data,n.data)},this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),e._dropLists.push(this),s&&s._items.add(this)}return y(e,[{key:"disabled",get:function(){return this._disabled||!!this._group&&this._group.disabled},set:function(e){this._dropListRef.disabled=this._disabled=a(e)}},{key:"addItem",value:function(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}},{key:"removeItem",value:function(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}},{key:"getSortedItems",value:function(){return Array.from(this._unsortedItems).sort(function(e,t){return e._dragRef.getVisibleElement().compareDocumentPosition(t._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1})}},{key:"ngOnDestroy",value:function(){var t=e._dropLists.indexOf(this);t>-1&&e._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}},{key:"_setupInputSyncSubscription",value:function(t){var n=this;this._dir&&this._dir.change.pipe(Object(L.a)(this._dir.value),A(this._destroyed)).subscribe(function(e){return t.withDirection(e)}),t.beforeStarted.subscribe(function(){var i,r=(i=n.connectedTo,Array.isArray(i)?i:[i]).map(function(t){return"string"==typeof t?e._dropLists.find(function(e){return e.id===t}):t});if(n._group&&n._group._items.forEach(function(e){-1===r.indexOf(e)&&r.push(e)}),!n._scrollableParentsResolved){var s=n._scrollDispatcher.getAncestorScrollContainers(n.element).map(function(e){return e.getElementRef().nativeElement});n._dropListRef.withScrollableParents(s),n._scrollableParentsResolved=!0}t.disabled=n.disabled,t.lockAxis=n.lockAxis,t.sortingDisabled=a(n.sortingDisabled),t.autoScrollDisabled=a(n.autoScrollDisabled),t.autoScrollStep=o(n.autoScrollStep,2),t.connectedTo(r.filter(function(e){return e&&e!==n}).map(function(e){return e._dropListRef})).withOrientation(n.orientation)})}},{key:"_handleEvents",value:function(e){var t=this;e.beforeStarted.subscribe(function(){t._syncItemsWithRef(),t._changeDetectorRef.markForCheck()}),e.entered.subscribe(function(e){t.entered.emit({container:t,item:e.item.data,currentIndex:e.currentIndex})}),e.exited.subscribe(function(e){t.exited.emit({container:t,item:e.item.data}),t._changeDetectorRef.markForCheck()}),e.sorted.subscribe(function(e){t.sorted.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,container:t,item:e.item.data})}),e.dropped.subscribe(function(e){t.dropped.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,previousContainer:e.previousContainer.data,container:e.container.data,item:e.item.data,isPointerOverContainer:e.isPointerOverContainer,distance:e.distance}),t._changeDetectorRef.markForCheck()})}},{key:"_assignDefaults",value:function(e){var t=e.lockAxis,n=e.draggingDisabled,i=e.sortingDisabled,r=e.listAutoScrollDisabled,a=e.listOrientation;this.disabled=null!=n&&n,this.sortingDisabled=null!=i&&i,this.autoScrollDisabled=null!=r&&r,this.orientation=a||"vertical",t&&(this.lockAxis=t)}},{key:"_syncItemsWithRef",value:function(){this._dropListRef.withItems(this.getSortedItems().map(function(e){return e._dragRef}))}}]),e}()).\u0275fac=function(e){return new(e||je)(i.Kb(i.l),i.Kb(ze),i.Kb(i.h),i.Kb(Y),i.Kb(W,8),i.Kb(Xe,12),i.Kb(qe,8))},je.\u0275dir=i.Fb({type:je,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(e,t){2&e&&(i.Ab("id",t.id),i.Cb("cdk-drop-list-disabled",t.disabled)("cdk-drop-list-dragging",t._dropListRef.isDragging())("cdk-drop-list-receiving",t._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],id:"id",enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],orientation:["cdkDropListOrientation","orientation"],lockAxis:["cdkDropListLockAxis","lockAxis"],data:["cdkDropListData","data"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[i.yb([{provide:Xe,useValue:void 0},{provide:Ye,useExisting:je}])]}),je._dropLists=[],je),Ze=new i.r("CdkDragHandle"),Je=((Fe=function(){function e(t,n){_(this,e),this.element=t,this._stateChanges=new u.a,this._disabled=!1,this._parentDrag=n}return y(e,[{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=a(e),this._stateChanges.next(this)}},{key:"ngOnDestroy",value:function(){this._stateChanges.complete()}}]),e}()).\u0275fac=function(e){return new(e||Fe)(i.Kb(i.l),i.Kb(He,12))},Fe.\u0275dir=i.Fb({type:Fe,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]},features:[i.yb([{provide:Ze,useExisting:Fe}])]}),Fe),Qe=new i.r("CdkDragPlaceholder"),$e=new i.r("CdkDragPreview"),et=((Ue=function(){function e(t,n,r,a,o,s,l,c,d,f,p){var m=this;_(this,e),this.element=t,this.dropContainer=n,this._ngZone=a,this._viewContainerRef=o,this._dir=l,this._changeDetectorRef=d,this._selfHandle=f,this._parentDrag=p,this._destroyed=new u.a,this.started=new i.n,this.released=new i.n,this.ended=new i.n,this.entered=new i.n,this.exited=new i.n,this.dropped=new i.n,this.moved=new h.a(function(e){var t=m._dragRef.moved.pipe(Object(ee.a)(function(e){return{source:m,pointerPosition:e.pointerPosition,event:e.event,delta:e.delta,distance:e.distance}})).subscribe(e);return function(){t.unsubscribe()}}),this._dragRef=c.createDrag(t,{dragStartThreshold:s&&null!=s.dragStartThreshold?s.dragStartThreshold:5,pointerDirectionChangeThreshold:s&&null!=s.pointerDirectionChangeThreshold?s.pointerDirectionChangeThreshold:5,zIndex:null==s?void 0:s.zIndex}),this._dragRef.data=this,e._dragInstances.push(this),s&&this._assignDefaults(s),n&&(this._dragRef._withDropContainer(n._dropListRef),n.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}return y(e,[{key:"disabled",get:function(){return this._disabled||this.dropContainer&&this.dropContainer.disabled},set:function(e){this._disabled=a(e),this._dragRef.disabled=this._disabled}},{key:"getPlaceholderElement",value:function(){return this._dragRef.getPlaceholderElement()}},{key:"getRootElement",value:function(){return this._dragRef.getRootElement()}},{key:"reset",value:function(){this._dragRef.reset()}},{key:"getFreeDragPosition",value:function(){return this._dragRef.getFreeDragPosition()}},{key:"ngAfterViewInit",value:function(){var e=this;this._ngZone.onStable.pipe(Object(te.a)(1),A(this._destroyed)).subscribe(function(){e._updateRootElement(),e._handles.changes.pipe(Object(L.a)(e._handles),Object(ne.a)(function(t){var n=t.filter(function(t){return t._parentDrag===e}).map(function(e){return e.element});e._selfHandle&&e.rootElementSelector&&n.push(e.element),e._dragRef.withHandles(n)}),Object(D.a)(function(e){return Object($.a).apply(void 0,d(e.map(function(e){return e._stateChanges.pipe(Object(L.a)(e))})))}),A(e._destroyed)).subscribe(function(t){var n=e._dragRef,i=t.element.nativeElement;t.disabled?n.disableHandle(i):n.enableHandle(i)}),e.freeDragPosition&&e._dragRef.setFreeDragPosition(e.freeDragPosition)})}},{key:"ngOnChanges",value:function(e){var t=e.rootElementSelector,n=e.freeDragPosition;t&&!t.firstChange&&this._updateRootElement(),n&&!n.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}},{key:"ngOnDestroy",value:function(){this.dropContainer&&this.dropContainer.removeItem(this);var t=e._dragInstances.indexOf(this);t>-1&&e._dragInstances.splice(t,1),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()}},{key:"_updateRootElement",value:function(){var e=this.element.nativeElement,t=this.rootElementSelector?tt(e,this.rootElementSelector):e;this._dragRef.withRootElement(t||e)}},{key:"_getBoundaryElement",value:function(){var e=this.boundaryElement;return e?"string"==typeof e?tt(this.element.nativeElement,e):s(e):null}},{key:"_syncInputs",value:function(t){var n=this;t.beforeStarted.subscribe(function(){if(!t.isDragging()){var e=n._dir,i=n.dragStartDelay,r=n._placeholderTemplate?{template:n._placeholderTemplate.templateRef,context:n._placeholderTemplate.data,viewContainer:n._viewContainerRef}:null,a=n._previewTemplate?{template:n._previewTemplate.templateRef,context:n._previewTemplate.data,matchSize:n._previewTemplate.matchSize,viewContainer:n._viewContainerRef}:null;t.disabled=n.disabled,t.lockAxis=n.lockAxis,t.dragStartDelay="object"==typeof i&&i?i:o(i),t.constrainPosition=n.constrainPosition,t.previewClass=n.previewClass,t.withBoundaryElement(n._getBoundaryElement()).withPlaceholderTemplate(r).withPreviewTemplate(a),e&&t.withDirection(e.value)}}),t.beforeStarted.pipe(Object(te.a)(1)).subscribe(function(){var i,r;if(n._parentDrag)t.withParent(n._parentDrag._dragRef);else for(var a=n.element.nativeElement.parentElement;a;){if(null===(i=a.classList)||void 0===i?void 0:i.contains("cdk-drag")){t.withParent((null===(r=e._dragInstances.find(function(e){return e.element.nativeElement===a}))||void 0===r?void 0:r._dragRef)||null);break}a=a.parentElement}})}},{key:"_handleEvents",value:function(e){var t=this;e.started.subscribe(function(){t.started.emit({source:t}),t._changeDetectorRef.markForCheck()}),e.released.subscribe(function(){t.released.emit({source:t})}),e.ended.subscribe(function(e){t.ended.emit({source:t,distance:e.distance}),t._changeDetectorRef.markForCheck()}),e.entered.subscribe(function(e){t.entered.emit({container:e.container.data,item:t,currentIndex:e.currentIndex})}),e.exited.subscribe(function(e){t.exited.emit({container:e.container.data,item:t})}),e.dropped.subscribe(function(e){t.dropped.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,previousContainer:e.previousContainer.data,container:e.container.data,isPointerOverContainer:e.isPointerOverContainer,item:t,distance:e.distance})})}},{key:"_assignDefaults",value:function(e){var t=e.lockAxis,n=e.dragStartDelay,i=e.constrainPosition,r=e.previewClass,a=e.boundaryElement,o=e.draggingDisabled,s=e.rootElementSelector;this.disabled=null!=o&&o,this.dragStartDelay=n||0,t&&(this.lockAxis=t),i&&(this.constrainPosition=i),r&&(this.previewClass=r),a&&(this.boundaryElement=a),s&&(this.rootElementSelector=s)}}]),e}()).\u0275fac=function(e){return new(e||Ue)(i.Kb(i.l),i.Kb(Ye,12),i.Kb(r.d),i.Kb(i.A),i.Kb(i.P),i.Kb(qe,8),i.Kb(W,8),i.Kb(ze),i.Kb(i.h),i.Kb(Ze,10),i.Kb(He,12))},Ue.\u0275dir=i.Fb({type:Ue,selectors:[["","cdkDrag",""]],contentQueries:function(e,t,n){var r;1&e&&(i.Db(n,$e,1),i.Db(n,Qe,1),i.Db(n,Ze,1)),2&e&&(i.kc(r=i.Yb())&&(t._previewTemplate=r.first),i.kc(r=i.Yb())&&(t._placeholderTemplate=r.first),i.kc(r=i.Yb())&&(t._handles=r))},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(e,t){2&e&&i.Cb("cdk-drag-disabled",t.disabled)("cdk-drag-dragging",t._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[i.yb([{provide:He,useExisting:Ue}]),i.xb]}),Ue._dragInstances=[],Ue);function tt(e,t){for(var n=e.parentElement;n;){if(n.matches?n.matches(t):n.msMatchesSelector(t))return n;n=n.parentElement}return null}var nt,it=((nt=function e(){_(this,e)}).\u0275fac=function(e){return new(e||nt)},nt.\u0275mod=i.Ib({type:nt}),nt.\u0275inj=i.Hb({providers:[ze],imports:[Z]}),nt)},m1H0:function(e,t,n){"use strict";var i=n("cRRe"),r=n("qKzT"),a=n("Bpkx"),o=n("NQ7O"),s=n("nV02");t.a=function(e){b(n,e);var t=T(n);function n(e){return _(this,n),(e=Object(a.a)({},e)).controls||(e.controls=Object(o.a)()),e.interactions||(e.interactions=Object(s.a)({onFocusOnly:!0})),t.call(this,e)}return y(n,[{key:"createRenderer",value:function(){return new i.a(this)}}]),n}(r.a)},m3va:function(e,t,n){"use strict";t.a={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}},mTm8:function(e,t,n){"use strict";t.a={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"}},mgod:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=function(){function e(t,n,i,r){_(this,e),this.minX=t,this.maxX=n,this.minY=i,this.maxY=r}return y(e,[{key:"contains",value:function(e){return this.containsXY(e[1],e[2])}},{key:"containsTileRange",value:function(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}},{key:"containsXY",value:function(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY}},{key:"equals",value:function(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}},{key:"extend",value:function(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}},{key:"getHeight",value:function(){return this.maxY-this.minY+1}},{key:"getSize",value:function(){return[this.getWidth(),this.getHeight()]}},{key:"getWidth",value:function(){return this.maxX-this.minX+1}},{key:"intersects",value:function(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}]),e}();function r(e,t,n,r,a){return void 0!==a?(a.minX=e,a.maxX=t,a.minY=n,a.maxY=r,a):new i(e,t,n,r)}t.b=i},mrSG:function(e,t,n){"use strict";function i(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o}function r(e,t,n,i){return new(n||(n=Promise))(function(r,a){function o(e){try{l(i.next(e))}catch(t){a(t)}}function s(e){try{l(i.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,s)}l((i=i.apply(e,t||[])).next())})}n.d(t,"b",function(){return i}),n.d(t,"a",function(){return r})},n2w5:function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"g",function(){return o}),n.d(t,"f",function(){return s}),n.d(t,"j",function(){return u}),n.d(t,"a",function(){return c}),n.d(t,"h",function(){return h}),n.d(t,"i",function(){return d}),n.d(t,"e",function(){return f}),n.d(t,"l",function(){return p}),n.d(t,"b",function(){return m}),n.d(t,"d",function(){return v}),n.d(t,"k",function(){return g});var i=n("i3ci"),r=new Array(6);function a(){return[1,0,0,1,0,0]}function o(e){return l(e,1,0,0,1,0,0)}function s(e,t){var n=e[0],i=e[1],r=e[2],a=e[3],o=e[4],s=e[5],l=t[0],u=t[1],c=t[2],h=t[3],d=t[4],f=t[5];return e[0]=n*l+r*u,e[1]=i*l+a*u,e[2]=n*c+r*h,e[3]=i*c+a*h,e[4]=n*d+r*f+o,e[5]=i*d+a*f+s,e}function l(e,t,n,i,r,a,o){return e[0]=t,e[1]=n,e[2]=i,e[3]=r,e[4]=a,e[5]=o,e}function u(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function c(e,t){var n=t[0],i=t[1];return t[0]=e[0]*n+e[2]*i+e[4],t[1]=e[1]*n+e[3]*i+e[5],t}function h(e,t){var n=Math.cos(t),i=Math.sin(t);return s(e,l(r,n,i,-i,n,0,0))}function d(e,t,n){return s(e,l(r,t,0,0,n,0,0))}function f(e,t,n){return l(e,t,0,0,n,0,0)}function p(e,t,n){return s(e,l(r,1,0,0,1,t,n))}function m(e,t,n,i,r,a,o,s){var l=Math.sin(a),u=Math.cos(a);return e[0]=i*u,e[1]=r*l,e[2]=-i*l,e[3]=r*u,e[4]=o*i*u-s*i*l+t,e[5]=o*r*l+s*r*u+n,e}function v(e,t){var n,r=(n=t)[0]*n[3]-n[1]*n[2];Object(i.a)(0!==r,32);var a=t[0],o=t[1],s=t[2],l=t[3],u=t[4],c=t[5];return e[0]=l/r,e[1]=-o/r,e[2]=-s/r,e[3]=a/r,e[4]=(s*c-l*u)/r,e[5]=-(a*c-o*u)/r,e}function g(e){return"matrix("+e.join(", ")+")"}},n6bG:function(e,t,n){"use strict";function i(e){return"function"==typeof e}n.d(t,"a",function(){return i})},n7ez:function(e,t,n){"use strict";var i=n("uMsb"),r=n("mgod"),a=n("0Fwh"),o=n("n2w5"),s=n("Bpkx"),l=n("hKKC"),u=n("4cD7"),c=n("Znq9"),h=n("2I+J"),d=n("oWEL");t.a=function(e){b(n,e);var t=T(n);function n(e){var i;return _(this,n),(i=t.call(this,e)).extentChanged=!0,i.renderedExtent_=null,i.renderedProjection=null,i.renderedTiles=[],i.newTiles_=!1,i.tmpExtent=Object(l.k)(),i.tmpTileRange_=new r.b(0,0,0,0),i}return y(n,[{key:"isDrawableTile",value:function(e){var t=this.getLayer(),n=e.getState(),i=t.getUseInterimTilesOnError();return n==a.a.LOADED||n==a.a.EMPTY||n==a.a.ERROR&&!i}},{key:"getTile",value:function(e,t,n,i){var r=i.pixelRatio,o=i.viewState.projection,s=this.getLayer(),l=s.getSource().getTile(e,t,n,r,o);return l.getState()==a.a.ERROR&&(s.getUseInterimTilesOnError()?s.getPreload()>0&&(this.newTiles_=!0):l.setState(a.a.LOADED)),this.isDrawableTile(l)||(l=l.getInterimTile()),l}},{key:"loadedTileCallback",value:function(e,t,i){return!!this.isDrawableTile(i)&&v(C(n.prototype),"loadedTileCallback",this).call(this,e,t,i)}},{key:"prepareFrame",value:function(e){return!!this.getLayer().getSource()}},{key:"renderFrame",value:function(e,t){var n=e.layerStatesArray[e.layerIndex],i=e.viewState,r=i.projection,f=i.resolution,p=i.center,m=i.rotation,v=e.pixelRatio,g=this.getLayer(),y=g.getSource(),_=y.getRevision(),b=y.getTileGridForProjection(r),S=b.getZForResolution(f,y.zDirection),T=b.getResolution(S),w=e.extent,x=n.extent&&Object(c.h)(n.extent,r);x&&(w=Object(l.C)(w,Object(c.h)(n.extent,r)));var E=y.getTilePixelRatio(v),C=Math.round(e.size[0]*E),k=Math.round(e.size[1]*E);if(m){var M=Math.round(Math.sqrt(C*C+k*k));C=M,k=M}var O=T*C/2/E,A=T*k/2/E,R=[p[0]-O,p[1]-A,p[0]+O,p[1]+A],I=b.getTileRangeForExtentAndZ(w,S),L={};L[S]={};var P=this.createLoadedTileFinder(y,r,L),D=this.tmpExtent,N=this.tmpTileRange_;this.newTiles_=!1;for(var j=I.minX;j<=I.maxX;++j)for(var F=I.minY;F<=I.maxY;++F){var U=this.getTile(S,j,F,e);if(this.isDrawableTile(U)){var G=Object(h.c)(this);if(U.getState()==a.a.LOADED){L[S][U.tileCoord.toString()]=U;var V=U.inTransition(G);this.newTiles_||!V&&-1!==this.renderedTiles.indexOf(U)||(this.newTiles_=!0)}if(1===U.getAlpha(G,e.time))continue}var B=b.getTileCoordChildTileRange(U.tileCoord,N,D),z=!1;B&&(z=P(S+1,B)),z||b.forEachTileCoordParentTileRange(U.tileCoord,P,N,D)}var H=T/f;Object(o.b)(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/E,1/E,m,-C/2,-k/2);var X=Object(u.b)(this.pixelTransform);this.useContainer(t,X,n.opacity);var q=this.context,W=q.canvas;Object(o.d)(this.inversePixelTransform,this.pixelTransform),Object(o.b)(this.tempTransform,C/2,k/2,H,H,0,-C/2,-k/2),W.width!=C||W.height!=k?(W.width=C,W.height=k):this.containerReused||q.clearRect(0,0,C,k),x&&this.clipUnrotated(q,e,x),Object(s.a)(q,y.getContextOptions()),this.preRender(q,e),this.renderedTiles.length=0;var Y,K,Z,J=Object.keys(L).map(Number);J.sort(d.i),1!==n.opacity||this.containerReused&&!y.getOpaque(e.viewState.projection)?(Y=[],K=[]):J=J.reverse();for(var Q=J.length-1;Q>=0;--Q){var $=J[Q],ee=y.getTilePixelSize($,v,r),te=b.getResolution($)/T,ne=ee[0]*te*H,ie=ee[1]*te*H,re=b.getTileCoordForCoordAndZ(Object(l.D)(R),$),ae=b.getTileCoordExtent(re),oe=Object(o.a)(this.tempTransform,[E*(ae[0]-R[0])/T,E*(R[3]-ae[3])/T]),se=E*y.getGutterForProjection(r),le=L[$];for(var ue in le){var ce=le[ue],he=ce.tileCoord,de=oe[0]-(re[1]-he[1])*ne,fe=Math.round(de+ne),pe=oe[1]-(re[2]-he[2])*ie,me=Math.round(pe+ie),ve=Math.round(de),ge=Math.round(pe),ye=fe-ve,_e=me-ge,be=S===$,Se=be&&1!==ce.getAlpha(Object(h.c)(this),e.time);if(!Se)if(Y){q.save(),Z=[ve,ge,ve+ye,ge,ve+ye,ge+_e,ve,ge+_e];for(var Te=0,we=Y.length;Te<we;++Te)if(S!==$&&$<K[Te]){var xe=Y[Te];q.beginPath(),q.moveTo(Z[0],Z[1]),q.lineTo(Z[2],Z[3]),q.lineTo(Z[4],Z[5]),q.lineTo(Z[6],Z[7]),q.moveTo(xe[6],xe[7]),q.lineTo(xe[4],xe[5]),q.lineTo(xe[2],xe[3]),q.lineTo(xe[0],xe[1]),q.clip()}Y.push(Z),K.push($)}else q.clearRect(ve,ge,ye,_e);this.drawTileImage(ce,e,ve,ge,ye,_e,se,be,n.opacity),Y&&!Se&&q.restore(),this.renderedTiles.push(ce),this.updateUsedTiles(e.usedTiles,y,ce)}}return this.renderedRevision=_,this.renderedResolution=T,this.extentChanged=!this.renderedExtent_||!Object(l.q)(this.renderedExtent_,R),this.renderedExtent_=R,this.renderedPixelRatio=v,this.renderedProjection=r,this.manageTilePyramid(e,y,b,v,r,w,S,g.getPreload()),this.scheduleExpireCache(e,y),this.postRender(q,e),n.extent&&q.restore(),X!==W.style.transform&&(W.style.transform=X),this.container}},{key:"drawTileImage",value:function(e,t,n,i,r,a,o,s,l){var u=this.getTileImage(e);if(u){var c=Object(h.c)(this),d=s?e.getAlpha(c,t.time):1,f=l*d,p=f!==this.context.globalAlpha;p&&(this.context.save(),this.context.globalAlpha=f),this.context.drawImage(u,o,o,u.width-2*o,u.height-2*o,n,i,r,a),p&&this.context.restore(),1!==d?t.animate=!0:s&&e.endTransition(c)}}},{key:"getImage",value:function(){var e=this.context;return e?e.canvas:null}},{key:"getTileImage",value:function(e){return e.getImage()}},{key:"scheduleExpireCache",value:function(e,t){if(t.canExpireCache()){var n=(function(e,t,n){var i=Object(h.c)(e);i in n.usedTiles&&e.expireCache(n.viewState.projection,n.usedTiles[i])}).bind(null,t);e.postRenderFunctions.push(n)}}},{key:"updateUsedTiles",value:function(e,t,n){var i=Object(h.c)(t);i in e||(e[i]={}),e[i][n.getKey()]=!0}},{key:"manageTilePyramid",value:function(e,t,n,i,r,o,s,l,u){var c=Object(h.c)(t);c in e.wantedTiles||(e.wantedTiles[c]={});var d,f,p,m,v,g,y=e.wantedTiles[c],_=e.tileQueue,b=0;for(g=n.getMinZoom();g<=s;++g)for(f=n.getTileRangeForExtentAndZ(o,g,f),p=n.getResolution(g),m=f.minX;m<=f.maxX;++m)for(v=f.minY;v<=f.maxY;++v)s-g<=l?(++b,(d=t.getTile(g,m,v,i,r)).getState()==a.a.IDLE&&(y[d.getKey()]=!0,_.isKeyQueued(d.getKey())||_.enqueue([d,c,n.getTileCoordCenter(d.tileCoord),p])),void 0!==u&&u(d)):t.useTile(g,m,v,r);t.updateCacheSize(b,r)}}]),n}(i.a)},nV02:function(e,t,n){"use strict";n.d(t,"a",function(){return A});var i=n("rCez"),r=n("+hOz"),a=n("gjiK"),o=function(e){b(n,e);var t=T(n);function n(e){var i;_(this,n);var r=e||{};return(i=t.call(this)).delta_=r.delta?r.delta:1,i.duration_=void 0!==r.duration?r.duration:250,i}return y(n,[{key:"handleEvent",value:function(e){var t=!1;if(e.type==a.a.DBLCLICK){var n=e.originalEvent,i=e.coordinate,o=n.shiftKey?-this.delta_:this.delta_,s=e.map.getView();Object(r.c)(s,o,i,this.duration_),n.preventDefault(),t=!0}return!t}}]),n}(r.a),s=n("bdbV"),l=n("6Xq6"),u=n("7k3C"),c=n("orbG"),h=n("rA9B"),d=function(e){b(n,e);var t=T(n);function n(e){var i;_(this,n);var r=e||{};(i=t.call(this,{stopDown:l.a})).kinetic_=r.kinetic,i.lastCentroid=null,i.panning_=!1;var a=r.condition?r.condition:Object(u.a)(u.g,u.h);return i.condition_=r.onFocusOnly?Object(u.a)(u.d,a):a,i.noKinetic_=!1,i}return y(n,[{key:"handleDragEvent",value:function(e){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var t=this.targetPointers,n=Object(s.a)(t);if(t.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(n[0],n[1]),this.lastCentroid){var i=[this.lastCentroid[0]-n[0],n[1]-this.lastCentroid[1]],r=e.map.getView();Object(h.f)(i,r.getResolution()),Object(h.e)(i,r.getRotation()),r.adjustCenterInternal(i)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=n,this.lastPointersCount_=t.length,e.originalEvent.preventDefault()}},{key:"handleUpEvent",value:function(e){var t=e.map,n=t.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var i=this.kinetic_.getDistance(),r=this.kinetic_.getAngle(),a=n.getCenterInternal(),o=t.getPixelFromCoordinateInternal(a),s=t.getCoordinateFromPixelInternal([o[0]-i*Math.cos(r),o[1]-i*Math.sin(r)]);n.animateInternal({center:n.getConstrainedCenter(s),duration:500,easing:c.b})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}},{key:"handleDownEvent",value:function(e){if(this.targetPointers.length>0&&this.condition_(e)){var t=e.map.getView();return this.lastCentroid=null,t.getAnimating()&&t.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}]),n}(s.b),f=n("aydW"),p=function(e){b(n,e);var t=T(n);function n(e){var i;_(this,n);var r=e||{};return(i=t.call(this,{stopDown:l.a})).condition_=r.condition?r.condition:u.b,i.lastAngle_=void 0,i.duration_=void 0!==r.duration?r.duration:250,i}return y(n,[{key:"handleDragEvent",value:function(e){if(Object(u.f)(e)){var t=e.map,n=t.getView();if(n.getConstraints().rotation!==f.c){var i=t.getSize(),r=e.pixel,a=Math.atan2(i[1]/2-r[1],r[0]-i[0]/2);void 0!==this.lastAngle_&&n.adjustRotationInternal(-(a-this.lastAngle_)),this.lastAngle_=a}}}},{key:"handleUpEvent",value:function(e){return!Object(u.f)(e)||(e.map.getView().endInteraction(this.duration_),!1)}},{key:"handleDownEvent",value:function(e){return!(!Object(u.f)(e)||!Object(u.e)(e)||!this.condition_(e)||(e.map.getView().beginInteraction(),this.lastAngle_=void 0,0))}}]),n}(s.b),m=n("dPhe"),v=n("hKKC"),g=function(e){b(n,e);var t=T(n);function n(e){var i;_(this,n);var r=e||{};return(i=t.call(this,{condition:r.condition?r.condition:u.i,className:r.className||"ol-dragzoom",minArea:r.minArea})).duration_=void 0!==r.duration?r.duration:200,i.out_=void 0!==r.out&&r.out,i}return y(n,[{key:"onBoxEnd",value:function(e){var t=this.getMap(),n=t.getView(),i=t.getSize(),r=this.getGeometry().getExtent();if(this.out_){var a=n.calculateExtentInternal(i),o=Object(v.o)([t.getPixelFromCoordinateInternal(Object(v.w)(r)),t.getPixelFromCoordinateInternal(Object(v.E)(r))]),s=n.getResolutionForExtentInternal(o,i);Object(v.K)(a,1/s),r=a}var l=n.getConstrainedResolution(n.getResolutionForExtentInternal(r,i)),u=n.getConstrainedCenter(Object(v.y)(r),l);n.animateInternal({resolution:l,center:u,duration:this.duration_,easing:c.b})}}]),n}(m.a),S=n("9CgO"),w=function(e){b(n,e);var t=T(n);function n(e){var i;_(this,n);var r=e||{};return(i=t.call(this)).defaultCondition_=function(e){return Object(u.g)(e)&&Object(u.j)(e)},i.condition_=void 0!==r.condition?r.condition:i.defaultCondition_,i.duration_=void 0!==r.duration?r.duration:100,i.pixelDelta_=void 0!==r.pixelDelta?r.pixelDelta:128,i}return y(n,[{key:"handleEvent",value:function(e){var t=!1;if(e.type==S.a.KEYDOWN){var n=e.originalEvent,i=n.keyCode;if(this.condition_(e)&&(40==i||37==i||39==i||38==i)){var a=e.map.getView(),o=a.getResolution()*this.pixelDelta_,s=0,l=0;40==i?l=-o:37==i?s=-o:39==i?s=o:l=o;var u=[s,l];Object(h.e)(u,a.getRotation()),Object(r.b)(a,u,this.duration_),n.preventDefault(),t=!0}}return!t}}]),n}(r.a),x=function(e){b(n,e);var t=T(n);function n(e){var i;_(this,n);var r=e||{};return(i=t.call(this)).condition_=r.condition?r.condition:u.j,i.delta_=r.delta?r.delta:1,i.duration_=void 0!==r.duration?r.duration:100,i}return y(n,[{key:"handleEvent",value:function(e){var t=!1;if(e.type==S.a.KEYDOWN||e.type==S.a.KEYPRESS){var n=e.originalEvent,i=n.charCode;if(this.condition_(e)&&(i=="+".charCodeAt(0)||i=="-".charCodeAt(0))){var a=e.map,o=i=="+".charCodeAt(0)?this.delta_:-this.delta_,s=a.getView();Object(r.c)(s,o,void 0,this.duration_),n.preventDefault(),t=!0}}return!t}}]),n}(r.a),E=n("FRHD"),C=n("LV+m"),k=function(e){b(n,e);var t=T(n);function n(e){var i;_(this,n);var r=e||{};(i=t.call(this,r)).totalDelta_=0,i.lastDelta_=0,i.maxDelta_=void 0!==r.maxDelta?r.maxDelta:1,i.duration_=void 0!==r.duration?r.duration:250,i.timeout_=void 0!==r.timeout?r.timeout:80,i.useAnchor_=void 0===r.useAnchor||r.useAnchor,i.constrainResolution_=void 0!==r.constrainResolution&&r.constrainResolution;var a=r.condition?r.condition:u.c;return i.condition_=r.onFocusOnly?Object(u.a)(u.d,a):a,i.lastAnchor_=null,i.startTime_=void 0,i.mode_=void 0,i.trackpadEventGap_=400,i.deltaPerZoom_=300,i}return y(n,[{key:"endInteraction_",value:function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}},{key:"handleEvent",value:function(e){if(!this.condition_(e))return!0;if(e.type!==S.a.WHEEL)return!0;var t,n=e.map,i=e.originalEvent;if(i.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.coordinate),e.type==S.a.WHEEL&&(t=i.deltaY,E.b&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(t/=E.a),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(t*=40)),0===t)return!1;this.lastDelta_=t;var r=Date.now();void 0===this.startTime_&&(this.startTime_=r),(!this.mode_||r-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(t)<4?"trackpad":"wheel");var a=n.getView();if("trackpad"===this.mode_&&!a.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(a.getAnimating()&&a.cancelAnimations(),a.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),a.adjustZoom(-t/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=r,!1;this.totalDelta_+=t;var o=Math.max(this.timeout_-(r-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,n),o),!1}},{key:"handleWheelZoom_",value:function(e){var t=e.getView();t.getAnimating()&&t.cancelAnimations();var n=-Object(C.a)(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(t.getConstrainResolution()||this.constrainResolution_)&&(n=n?n>0?1:-1:0),Object(r.c)(t,n,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}},{key:"setMouseAnchor",value:function(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}}]),n}(r.a),M=function(e){b(n,e);var t=T(n);function n(e){var i;_(this,n);var r=e||{},a=r;return a.stopDown||(a.stopDown=l.a),(i=t.call(this,a)).anchor_=null,i.lastAngle_=void 0,i.rotating_=!1,i.rotationDelta_=0,i.threshold_=void 0!==r.threshold?r.threshold:.3,i.duration_=void 0!==r.duration?r.duration:250,i}return y(n,[{key:"handleDragEvent",value:function(e){var t=0,n=this.targetPointers[0],i=this.targetPointers[1],r=Math.atan2(i.clientY-n.clientY,i.clientX-n.clientX);if(void 0!==this.lastAngle_){var a=r-this.lastAngle_;this.rotationDelta_+=a,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),t=a}this.lastAngle_=r;var o=e.map,l=o.getView();if(l.getConstraints().rotation!==f.c){var u=o.getViewport().getBoundingClientRect(),c=Object(s.a)(this.targetPointers);c[0]-=u.left,c[1]-=u.top,this.anchor_=o.getCoordinateFromPixelInternal(c),this.rotating_&&(o.render(),l.adjustRotationInternal(t,this.anchor_))}}},{key:"handleUpEvent",value:function(e){return!(this.targetPointers.length<2&&(e.map.getView().endInteraction(this.duration_),1))}},{key:"handleDownEvent",value:function(e){if(this.targetPointers.length>=2){var t=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}}]),n}(s.b),O=function(e){b(n,e);var t=T(n);function n(e){var i;_(this,n);var r=e||{},a=r;return a.stopDown||(a.stopDown=l.a),(i=t.call(this,a)).anchor_=null,i.duration_=void 0!==r.duration?r.duration:400,i.lastDistance_=void 0,i.lastScaleDelta_=1,i}return y(n,[{key:"handleDragEvent",value:function(e){var t=1,n=this.targetPointers[0],i=this.targetPointers[1],r=n.clientX-i.clientX,a=n.clientY-i.clientY,o=Math.sqrt(r*r+a*a);void 0!==this.lastDistance_&&(t=this.lastDistance_/o),this.lastDistance_=o;var l=e.map,u=l.getView();1!=t&&(this.lastScaleDelta_=t);var c=l.getViewport().getBoundingClientRect(),h=Object(s.a)(this.targetPointers);h[0]-=c.left,h[1]-=c.top,this.anchor_=l.getCoordinateFromPixelInternal(h),l.render(),u.adjustResolutionInternal(t,this.anchor_)}},{key:"handleUpEvent",value:function(e){return!(this.targetPointers.length<2&&(e.map.getView().endInteraction(this.duration_,this.lastScaleDelta_>1?1:-1),1))}},{key:"handleDownEvent",value:function(e){if(this.targetPointers.length>=2){var t=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}}]),n}(s.b);function A(e){var t=e||{},n=new i.a,r=new(function(){function e(t,n,i){_(this,e),this.decay_=t,this.minVelocity_=n,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0}return y(e,[{key:"begin",value:function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}},{key:"update",value:function(e,t){this.points_.push(e,t,Date.now())}},{key:"end",value:function(){if(this.points_.length<6)return!1;var e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;for(var n=t-3;n>0&&this.points_[n+2]>e;)n-=3;var i=this.points_[t+2]-this.points_[n+2];if(i<1e3/60)return!1;var r=this.points_[t]-this.points_[n],a=this.points_[t+1]-this.points_[n+1];return this.angle_=Math.atan2(a,r),this.initialVelocity_=Math.sqrt(r*r+a*a)/i,this.initialVelocity_>this.minVelocity_}},{key:"getDistance",value:function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}},{key:"getAngle",value:function(){return this.angle_}}]),e}())(-.005,.05,100);return(void 0===t.altShiftDragRotate||t.altShiftDragRotate)&&n.push(new p),(void 0===t.doubleClickZoom||t.doubleClickZoom)&&n.push(new o({delta:t.zoomDelta,duration:t.zoomDuration})),(void 0===t.dragPan||t.dragPan)&&n.push(new d({onFocusOnly:t.onFocusOnly,kinetic:r})),(void 0===t.pinchRotate||t.pinchRotate)&&n.push(new M),(void 0===t.pinchZoom||t.pinchZoom)&&n.push(new O({duration:t.zoomDuration})),(void 0===t.keyboard||t.keyboard)&&(n.push(new w),n.push(new x({delta:t.zoomDelta,duration:t.zoomDuration}))),(void 0===t.mouseWheelZoom||t.mouseWheelZoom)&&n.push(new k({onFocusOnly:t.onFocusOnly,duration:t.zoomDuration})),(void 0===t.shiftDragZoom||t.shiftDragZoom)&&n.push(new g({duration:t.zoomDuration})),n}},ngJS:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(e){return function(t){for(var n=0,i=e.length;n<i&&!t.closed;n++)t.next(e[n]);t.complete()}}},o1q9:function(e,t,n){"use strict";var i=n("jVi3"),r=n("xrpK");function a(e){return e.getAttributeNS("http://www.w3.org/1999/xlink","href")}var o=[null,"http://www.opengis.net/wms"],s=Object(i.p)(o,{Service:Object(i.l)(function(e,t){return Object(i.s)({},u,e,t)}),Capability:Object(i.l)(function(e,t){return Object(i.s)({},l,e,t)})}),l=Object(i.p)(o,{Request:Object(i.l)(function(e,t){return Object(i.s)({},g,e,t)}),Exception:Object(i.l)(function(e,t){return Object(i.s)([],f,e,t)}),Layer:Object(i.l)(function(e,t){var n=Object(i.s)({},p,e,t);return void 0===n.Layer?Object.assign(n,M(e,t)):n})}),u=Object(i.p)(o,{Name:Object(i.l)(r.g),Title:Object(i.l)(r.g),Abstract:Object(i.l)(r.g),KeywordList:Object(i.l)(I),OnlineResource:Object(i.l)(a),ContactInformation:Object(i.l)(function(e,t){return Object(i.s)({},c,e,t)}),Fees:Object(i.l)(r.g),AccessConstraints:Object(i.l)(r.g),LayerLimit:Object(i.l)(r.e),MaxWidth:Object(i.l)(r.e),MaxHeight:Object(i.l)(r.e)}),c=Object(i.p)(o,{ContactPersonPrimary:Object(i.l)(function(e,t){return Object(i.s)({},h,e,t)}),ContactPosition:Object(i.l)(r.g),ContactAddress:Object(i.l)(function(e,t){return Object(i.s)({},d,e,t)}),ContactVoiceTelephone:Object(i.l)(r.g),ContactFacsimileTelephone:Object(i.l)(r.g),ContactElectronicMailAddress:Object(i.l)(r.g)}),h=Object(i.p)(o,{ContactPerson:Object(i.l)(r.g),ContactOrganization:Object(i.l)(r.g)}),d=Object(i.p)(o,{AddressType:Object(i.l)(r.g),Address:Object(i.l)(r.g),City:Object(i.l)(r.g),StateOrProvince:Object(i.l)(r.g),PostCode:Object(i.l)(r.g),Country:Object(i.l)(r.g)}),f=Object(i.p)(o,{Format:Object(i.i)(r.g)}),p=Object(i.p)(o,{Name:Object(i.l)(r.g),Title:Object(i.l)(r.g),Abstract:Object(i.l)(r.g),KeywordList:Object(i.l)(I),CRS:Object(i.k)(r.g),EX_GeographicBoundingBox:Object(i.l)(function(e,t){var n=Object(i.s)({},v,e,t);if(n){var r=n.westBoundLongitude,a=n.southBoundLatitude,o=n.eastBoundLongitude,s=n.northBoundLatitude;return void 0!==r&&void 0!==a&&void 0!==o&&void 0!==s?[r,a,o,s]:void 0}}),BoundingBox:Object(i.k)(function(e,t){var n=[Object(r.d)(e.getAttribute("minx")),Object(r.d)(e.getAttribute("miny")),Object(r.d)(e.getAttribute("maxx")),Object(r.d)(e.getAttribute("maxy"))],i=[Object(r.d)(e.getAttribute("resx")),Object(r.d)(e.getAttribute("resy"))];return{crs:e.getAttribute("CRS"),extent:n,res:i}}),Dimension:Object(i.k)(function(e,t){return{name:e.getAttribute("name"),units:e.getAttribute("units"),unitSymbol:e.getAttribute("unitSymbol"),default:e.getAttribute("default"),multipleValues:Object(r.b)(e.getAttribute("multipleValues")),nearestValue:Object(r.b)(e.getAttribute("nearestValue")),current:Object(r.b)(e.getAttribute("current")),values:Object(r.g)(e)}}),Attribution:Object(i.l)(function(e,t){return Object(i.s)({},m,e,t)}),AuthorityURL:Object(i.k)(function(e,t){var n=O(e,t);if(n)return n.name=e.getAttribute("name"),n}),Identifier:Object(i.k)(r.g),MetadataURL:Object(i.k)(function(e,t){var n=O(e,t);if(n)return n.type=e.getAttribute("type"),n}),DataURL:Object(i.k)(O),FeatureListURL:Object(i.k)(O),Style:Object(i.k)(function(e,t){return Object(i.s)({},E,e,t)}),MinScaleDenominator:Object(i.l)(r.c),MaxScaleDenominator:Object(i.l)(r.c),Layer:Object(i.k)(M)}),m=Object(i.p)(o,{Title:Object(i.l)(r.g),OnlineResource:Object(i.l)(a),LogoURL:Object(i.l)(R)}),v=Object(i.p)(o,{westBoundLongitude:Object(i.l)(r.c),eastBoundLongitude:Object(i.l)(r.c),southBoundLatitude:Object(i.l)(r.c),northBoundLatitude:Object(i.l)(r.c)}),g=Object(i.p)(o,{GetCapabilities:Object(i.l)(A),GetMap:Object(i.l)(A),GetFeatureInfo:Object(i.l)(A)}),S=Object(i.p)(o,{Format:Object(i.k)(r.g),DCPType:Object(i.k)(function(e,t){return Object(i.s)({},w,e,t)})}),w=Object(i.p)(o,{HTTP:Object(i.l)(function(e,t){return Object(i.s)({},x,e,t)})}),x=Object(i.p)(o,{Get:Object(i.l)(O),Post:Object(i.l)(O)}),E=Object(i.p)(o,{Name:Object(i.l)(r.g),Title:Object(i.l)(r.g),Abstract:Object(i.l)(r.g),LegendURL:Object(i.k)(R),StyleSheetURL:Object(i.l)(O),StyleURL:Object(i.l)(O)}),C=Object(i.p)(o,{Format:Object(i.l)(r.g),OnlineResource:Object(i.l)(a)}),k=Object(i.p)(o,{Keyword:Object(i.i)(r.g)});function M(e,t){var n=t[t.length-1],a=Object(i.s)({},p,e,t);if(a){var o=Object(r.b)(e.getAttribute("queryable"));void 0===o&&(o=n.queryable),a.queryable=void 0!==o&&o;var s=Object(r.f)(e.getAttribute("cascaded"));void 0===s&&(s=n.cascaded),a.cascaded=s;var l=Object(r.b)(e.getAttribute("opaque"));void 0===l&&(l=n.opaque),a.opaque=void 0!==l&&l;var u=Object(r.b)(e.getAttribute("noSubsets"));void 0===u&&(u=n.noSubsets),a.noSubsets=void 0!==u&&u;var c=Object(r.d)(e.getAttribute("fixedWidth"));c||(c=n.fixedWidth),a.fixedWidth=c;var h=Object(r.d)(e.getAttribute("fixedHeight"));return h||(h=n.fixedHeight),a.fixedHeight=h,["Style","CRS","AuthorityURL"].forEach(function(e){e in n&&(a[e]=(a[e]||[]).concat(n[e]))}),["EX_GeographicBoundingBox","BoundingBox","Dimension","Attribution","MinScaleDenominator","MaxScaleDenominator"].forEach(function(e){e in a||(a[e]=n[e])}),a}}function O(e,t){return Object(i.s)({},C,e,t)}function A(e,t){return Object(i.s)({},S,e,t)}function R(e,t){var n=O(e,t);if(n){var i=[Object(r.f)(e.getAttribute("width")),Object(r.f)(e.getAttribute("height"))];return n.size=i,n}}function I(e,t){return Object(i.s)([],k,e,t)}t.a=function(e){b(n,e);var t=T(n);function n(){var e;return _(this,n),(e=t.call(this)).version=void 0,e}return y(n,[{key:"readFromNode",value:function(e){return this.version=e.getAttribute("version").trim(),Object(i.s)({version:this.version},s,e,[])||null}}]),n}(function(){function e(){_(this,e)}return y(e,[{key:"read",value:function(e){if(e){if("string"==typeof e){var t=Object(i.q)(e);return this.readFromDocument(t)}return Object(i.g)(e)?this.readFromDocument(e):this.readFromNode(e)}return null}},{key:"readFromDocument",value:function(e){for(var t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readFromNode(t);return null}},{key:"readFromNode",value:function(e){}}]),e}())},o5qb:function(e,t,n){"use strict";t.a={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"}},oWEL:function(e,t,n){"use strict";function i(e,t,n){for(var i,a,o=n||r,s=0,l=e.length,u=!1;s<l;)(a=+o(e[i=s+(l-s>>1)],t))<0?s=i+1:(l=i,u=!a);return u?s:~s}function r(e,t){return e>t?1:e<t?-1:0}function a(e,t){return e.indexOf(t)>=0}function o(e,t,n){var i,r=e.length;if(e[0]<=t)return 0;if(t<=e[r-1])return r-1;if(n>0){for(i=1;i<r;++i)if(e[i]<t)return i-1}else if(n<0){for(i=1;i<r;++i)if(e[i]<=t)return i}else for(i=1;i<r;++i){if(e[i]==t)return i;if(e[i]<t)return e[i-1]-t<t-e[i]?i-1:i}return r-1}function s(e,t,n){for(;t<n;){var i=e[t];e[t]=e[n],e[n]=i,++t,--n}}function l(e,t){for(var n=Array.isArray(t)?t:[t],i=n.length,r=0;r<i;r++)e[e.length]=n[r]}function u(e,t){for(var n,i=e.length>>>0,r=0;r<i;r++)if(t(n=e[r],r,e))return n;return null}function c(e,t){var n=e.length;if(n!==t.length)return!1;for(var i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}function h(e,t){var n;return e.every(function(i,r){return n=r,!t(i,r,e)})?-1:n}function d(e,t,n){var i=t||r;return e.every(function(t,r){if(0===r)return!0;var a=i(e[r-1],t);return!(a>0||n&&0===a)})}n.d(t,"a",function(){return i}),n.d(t,"i",function(){return r}),n.d(t,"f",function(){return a}),n.d(t,"h",function(){return o}),n.d(t,"j",function(){return s}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return u}),n.d(t,"b",function(){return c}),n.d(t,"e",function(){return h}),n.d(t,"g",function(){return d})},oY2l:function(e,t,n){"use strict";function i(e,t){var n=[];Object.keys(t).forEach(function(e){null!=t[e]&&n.push(e+"="+encodeURIComponent(t[e]))});var i=n.join("&");return(e=-1===(e=e.replace(/[?&]$/,"")).indexOf("?")?e+"?":e+"&")+i}n.d(t,"a",function(){return i})},ogOc:function(e,t,n){"use strict";t.a={ANIMATING:0,INTERACTING:1}},omvX:function(e,t,n){"use strict";n.d(t,"a",function(){return Lt});var i=n("8Y7J"),r=n("cUpR"),a=n("GS7A");function o(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function s(e){switch(e.length){case 0:return new a.d;case 1:return e[0];default:return new a.l(e)}}function u(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=[],l=[],u=-1,c=null;if(i.forEach(function(e){var n=e.offset,i=n==u,h=i&&c||{};Object.keys(e).forEach(function(n){var i=n,l=e[n];if("offset"!==n)switch(i=t.normalizePropertyName(i,s),l){case a.m:l=r[n];break;case a.a:l=o[n];break;default:l=t.normalizeStyleValue(n,i,l,s)}h[i]=l}),i||l.push(h),c=h,u=n}),s.length){var h="\n - ";throw new Error("Unable to animate due to the following errors:".concat(h).concat(s.join(h)))}return l}function c(e,t,n,i){switch(t){case"start":e.onStart(function(){return i(n&&f(n,"start",e))});break;case"done":e.onDone(function(){return i(n&&f(n,"done",e))});break;case"destroy":e.onDestroy(function(){return i(n&&f(n,"destroy",e))})}}function f(e,t,n){var i=n.totalTime,r=p(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==i?e.totalTime:i,!!n.disabled),a=e._data;return null!=a&&(r._data=a),r}function p(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6?arguments[6]:void 0;return{element:e,triggerName:t,fromState:n,toState:i,phaseName:r,totalTime:a,disabled:!!o}}function m(e,t,n){var i;return e instanceof Map?(i=e.get(t))||e.set(t,i=n):(i=e[t])||(i=e[t]=n),i}function g(e){var t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}var S=function(e,t){return!1},w=function(e,t){return!1},x=function(e,t,n){return[]},E=o();(E||"undefined"!=typeof Element)&&(S=function(e,t){return e.contains(t)},w=function(){if(E||Element.prototype.matches)return function(e,t){return e.matches(t)};var e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?function(e,n){return t.apply(e,[n])}:w}(),x=function(e,t,n){var i=[];if(n)for(var r=e.querySelectorAll(t),a=0;a<r.length;a++)i.push(r[a]);else{var o=e.querySelector(t);o&&i.push(o)}return i});var k=null,M=!1;function O(e){k||(k=("undefined"!=typeof document?document.body:null)||{},M=!!k.style&&"WebkitAppearance"in k.style);var t=!0;return k.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(!(t=e in k.style)&&M)&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in k.style),t}var A=w,R=S,I=x;function L(e){var t={};return Object.keys(e).forEach(function(n){var i=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=e[n]}),t}var P,D=((P=function(){function e(){_(this,e)}return y(e,[{key:"validateStyleProperty",value:function(e){return O(e)}},{key:"matchesElement",value:function(e,t){return A(e,t)}},{key:"containsElement",value:function(e,t){return R(e,t)}},{key:"query",value:function(e,t,n){return I(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return n||""}},{key:"animate",value:function(e,t,n,i,r){return new a.d(n,i)}}]),e}()).\u0275fac=function(e){return new(e||P)},P.\u0275prov=i.Gb({token:P,factory:P.\u0275fac}),P),N=function(){var e=function e(){_(this,e)};return e.NOOP=new D,e}();function j(e){if("number"==typeof e)return e;var t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:F(parseFloat(t[1]),t[2])}function F(e,t){switch(t){case"s":return 1e3*e;default:return e}}function U(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){var i,r=0,a="";if("string"==typeof e){var o=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===o)return t.push('The provided timing value "'.concat(e,'" is invalid.')),{duration:0,delay:0,easing:""};i=F(parseFloat(o[1]),o[2]);var s=o[3];null!=s&&(r=F(parseFloat(s),o[4]));var l=o[5];l&&(a=l)}else i=e;if(!n){var u=!1,c=t.length;i<0&&(t.push("Duration values below 0 are not allowed for this animation step."),u=!0),r<0&&(t.push("Delay values below 0 are not allowed for this animation step."),u=!0),u&&t.splice(c,0,'The provided timing value "'.concat(e,'" is invalid.'))}return{duration:i,delay:r,easing:a}}(e,t,n)}function G(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).forEach(function(n){t[n]=e[n]}),t}function V(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t)for(var i in e)n[i]=e[i];else G(e,n);return n}function B(e,t,n){return n?t+":"+n+";":""}function z(e){for(var t="",n=0;n<e.style.length;n++){var i=e.style.item(n);t+=B(0,i,e.style.getPropertyValue(i))}for(var r in e.style)e.style.hasOwnProperty(r)&&!r.startsWith("_")&&(t+=B(0,$(r),e.style[r]));e.setAttribute("style",t)}function H(e,t,n){e.style&&(Object.keys(t).forEach(function(i){var r=Q(i);n&&!n.hasOwnProperty(i)&&(n[i]=e.style[r]),e.style[r]=t[i]}),o()&&z(e))}function X(e,t){e.style&&(Object.keys(t).forEach(function(t){var n=Q(t);e.style[n]=""}),o()&&z(e))}function q(e){return Array.isArray(e)?1==e.length?e[0]:Object(a.g)(e):e}var W=new RegExp("{{\\s*(.+?)\\s*}}","g");function Y(e){var t=[];if("string"==typeof e){for(var n;n=W.exec(e);)t.push(n[1]);W.lastIndex=0}return t}function K(e,t,n){var i=e.toString(),r=i.replace(W,function(e,i){var r=t[i];return t.hasOwnProperty(i)||(n.push("Please provide a value for the animation param ".concat(i)),r=""),r.toString()});return r==i?e:r}function Z(e){for(var t=[],n=e.next();!n.done;)t.push(n.value),n=e.next();return t}var J=/-+([a-z0-9])/g;function Q(e){return e.replace(J,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t[1].toUpperCase()})}function $(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ee(e,t){return 0===e||0===t}function te(e,t,n){var i=Object.keys(n);if(i.length&&t.length){var r=t[0],a=[];if(i.forEach(function(e){r.hasOwnProperty(e)||a.push(e),r[e]=n[e]}),a.length)for(var o=function(){var n=t[s];a.forEach(function(t){n[t]=ie(e,t)})},s=1;s<t.length;s++)o()}return t}function ne(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error("Unable to resolve animation metadata node #".concat(t.type))}}function ie(e,t){return window.getComputedStyle(e)[t]}var re=new Set(["true","1"]),ae=new Set(["false","0"]);function oe(e,t){var n=re.has(e)||ae.has(e),i=re.has(t)||ae.has(t);return function(r,a){var o="*"==e||e==r,s="*"==t||t==a;return!o&&n&&"boolean"==typeof r&&(o=r?re.has(e):ae.has(e)),!s&&i&&"boolean"==typeof a&&(s=a?re.has(t):ae.has(t)),o&&s}}var se=new RegExp("s*:selfs*,?","g");function le(e,t,n){return new ue(e).build(t,n)}var ue=function(){function e(t){_(this,e),this._driver=t}return y(e,[{key:"build",value:function(e,t){var n=new ce(t);return this._resetContextStyleTimingState(n),ne(this,q(e),n)}},{key:"_resetContextStyleTimingState",value:function(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}},{key:"visitTrigger",value:function(e,t){var n=this,i=t.queryCount=0,r=t.depCount=0,a=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(function(e){if(n._resetContextStyleTimingState(t),0==e.type){var s=e,l=s.name;l.toString().split(/\s*,\s*/).forEach(function(e){s.name=e,a.push(n.visitState(s,t))}),s.name=l}else if(1==e.type){var u=n.visitTransition(e,t);i+=u.queryCount,r+=u.depCount,o.push(u)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:a,transitions:o,queryCount:i,depCount:r,options:null}}},{key:"visitState",value:function(e,t){var n=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(n.containsDynamicStyles){var r=new Set,a=i||{};if(n.styles.forEach(function(e){if(he(e)){var t=e;Object.keys(t).forEach(function(e){Y(t[e]).forEach(function(e){a.hasOwnProperty(e)||r.add(e)})})}}),r.size){var o=Z(r.values());t.errors.push('state("'.concat(e.name,'", ...) must define default values for all the following style substitutions: ').concat(o.join(", ")))}}return{type:0,name:e.name,style:n,options:i?{params:i}:null}}},{key:"visitTransition",value:function(e,t){t.queryCount=0,t.depCount=0;var n,i,r,a=ne(this,q(e.animation),t);return{type:1,matchers:(n=e.expr,i=t.errors,r=[],"string"==typeof n?n.split(/\s*,\s*/).forEach(function(e){return function(e,t,n){if(":"==e[0]){var i=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(e,t){return parseFloat(t)>parseFloat(e)};case":decrement":return function(e,t){return parseFloat(t)<parseFloat(e)};default:return t.push('The transition alias value "'.concat(e,'" is not supported')),"* => *"}}(e,n);if("function"==typeof i)return void t.push(i);e=i}var r=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push('The provided transition expression "'.concat(e,'" is not supported')),t;var a=r[1],o=r[2],s=r[3];t.push(oe(a,s)),"<"!=o[0]||"*"==a&&"*"==s||t.push(oe(s,a))}(e,r,i)}):r.push(n),r),animation:a,queryCount:t.queryCount,depCount:t.depCount,options:de(e.options)}}},{key:"visitSequence",value:function(e,t){var n=this;return{type:2,steps:e.steps.map(function(e){return ne(n,e,t)}),options:de(e.options)}}},{key:"visitGroup",value:function(e,t){var n=this,i=t.currentTime,r=0,a=e.steps.map(function(e){t.currentTime=i;var a=ne(n,e,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:3,steps:a,options:de(e.options)}}},{key:"visitAnimate",value:function(e,t){var n,i=function(e,t){var n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return fe(U(e,t).duration,0,"");var i=e;if(i.split(/\s+/).some(function(e){return"{"==e.charAt(0)&&"{"==e.charAt(1)})){var r=fe(0,0,"");return r.dynamic=!0,r.strValue=i,r}return fe((n=n||U(i,t)).duration,n.delay,n.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;var r=e.styles?e.styles:Object(a.i)({});if(5==r.type)n=this.visitKeyframes(r,t);else{var o=e.styles,s=!1;if(!o){s=!0;var l={};i.easing&&(l.easing=i.easing),o=Object(a.i)(l)}t.currentTime+=i.duration+i.delay;var u=this.visitStyle(o,t);u.isEmptyStep=s,n=u}return t.currentAnimateTimings=null,{type:4,timings:i,style:n,options:null}}},{key:"visitStyle",value:function(e,t){var n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}},{key:"_makeStyleAst",value:function(e,t){var n=[];Array.isArray(e.styles)?e.styles.forEach(function(e){"string"==typeof e?e==a.a?n.push(e):t.errors.push("The provided style string value ".concat(e," is not allowed.")):n.push(e)}):n.push(e.styles);var i=!1,r=null;return n.forEach(function(e){if(he(e)){var t=e,n=t.easing;if(n&&(r=n,delete t.easing),!i)for(var a in t)if(t[a].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:n,easing:r,offset:e.offset,containsDynamicStyles:i,options:null}}},{key:"_validateStyleAst",value:function(e,t){var n=this,i=t.currentAnimateTimings,r=t.currentTime,a=t.currentTime;i&&a>0&&(a-=i.duration+i.delay),e.styles.forEach(function(e){"string"!=typeof e&&Object.keys(e).forEach(function(i){if(n._driver.validateStyleProperty(i)){var o,s,l,u,c,h=t.collectedStyles[t.currentQuerySelector],d=h[i],f=!0;d&&(a!=r&&a>=d.startTime&&r<=d.endTime&&(t.errors.push('The CSS property "'.concat(i,'" that exists between the times of "').concat(d.startTime,'ms" and "').concat(d.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(a,'ms" and "').concat(r,'ms"')),f=!1),a=d.startTime),f&&(h[i]={startTime:a,endTime:r}),t.options&&(o=e[i],s=t.options,l=t.errors,u=s.params||{},(c=Y(o)).length&&c.forEach(function(e){u.hasOwnProperty(e)||l.push("Unable to resolve the local animation param ".concat(e," in the given list of values"))}))}else t.errors.push('The provided animation property "'.concat(i,'" is not a supported CSS property for animations'))})})}},{key:"visitKeyframes",value:function(e,t){var n=this,i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),i;var r=0,a=[],o=!1,s=!1,l=0,u=e.steps.map(function(e){var i=n._makeStyleAst(e,t),u=null!=i.offset?i.offset:function(e){if("string"==typeof e)return null;var t=null;if(Array.isArray(e))e.forEach(function(e){if(he(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}});else if(he(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}return t}(i.styles),c=0;return null!=u&&(r++,c=i.offset=u),s=s||c<0||c>1,o=o||c<l,l=c,a.push(c),i});s&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&t.errors.push("Please ensure that all keyframe offsets are in order");var c=e.steps.length,h=0;r>0&&r<c?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(h=1/(c-1));var d=c-1,f=t.currentTime,p=t.currentAnimateTimings,m=p.duration;return u.forEach(function(e,r){var o=h>0?r==d?1:h*r:a[r],s=o*m;t.currentTime=f+p.delay+s,p.duration=s,n._validateStyleAst(e,t),e.offset=o,i.styles.push(e)}),i}},{key:"visitReference",value:function(e,t){return{type:8,animation:ne(this,q(e.animation),t),options:de(e.options)}}},{key:"visitAnimateChild",value:function(e,t){return t.depCount++,{type:9,options:de(e.options)}}},{key:"visitAnimateRef",value:function(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:de(e.options)}}},{key:"visitQuery",value:function(e,t){var n=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;var r=l(function(e){var t=!!e.split(/\s*,\s*/).find(function(e){return":self"==e});return t&&(e=e.replace(se,"")),[e=e.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,function(e){return".ng-trigger-"+e.substr(1)}).replace(/:animating/g,".ng-animating"),t]}(e.selector),2),a=r[0],o=r[1];t.currentQuerySelector=n.length?n+" "+a:a,m(t.collectedStyles,t.currentQuerySelector,{});var s=ne(this,q(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:s,originalSelector:e.selector,options:de(e.options)}}},{key:"visitStagger",value:function(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");var n="full"===e.timings?{duration:0,delay:0,easing:"full"}:U(e.timings,t.errors,!0);return{type:12,animation:ne(this,q(e.animation),t),timings:n,options:null}}}]),e}(),ce=function e(t){_(this,e),this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function he(e){return!Array.isArray(e)&&"object"==typeof e}function de(e){var t;return e?(e=G(e)).params&&(e.params=(t=e.params)?G(t):null):e={},e}function fe(e,t,n){return{duration:e,delay:t,easing:n}}function pe(e,t,n,i,r,a){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:i,duration:r,delay:a,totalTime:r+a,easing:o,subTimeline:s}}var me=function(){function e(){_(this,e),this._map=new Map}return y(e,[{key:"consume",value:function(e){var t=this._map.get(e);return t?this._map.delete(e):t=[],t}},{key:"append",value:function(e,t){var n,i=this._map.get(e);i||this._map.set(e,i=[]),(n=i).push.apply(n,d(t))}},{key:"has",value:function(e){return this._map.has(e)}},{key:"clear",value:function(){this._map.clear()}}]),e}(),ve=new RegExp(":enter","g"),ge=new RegExp(":leave","g");function ye(e,t,n,i,r){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0,u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new _e).buildKeyframes(e,t,n,i,r,a,o,s,l,u)}var _e=function(){function e(){_(this,e)}return y(e,[{key:"buildKeyframes",value:function(e,t,n,i,r,a,o,s,l){var u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];l=l||new me;var c=new Se(e,t,l,i,r,u,[]);c.options=s,c.currentTimeline.setStyles([a],null,c.errors,s),ne(this,n,c);var h=c.timelines.filter(function(e){return e.containsAnimation()});if(h.length&&Object.keys(o).length){var d=h[h.length-1];d.allowOnlyTimelineStyles()||d.setStyles([o],null,c.errors,s)}return h.length?h.map(function(e){return e.buildKeyframes()}):[pe(t,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(e,t){}},{key:"visitState",value:function(e,t){}},{key:"visitTransition",value:function(e,t){}},{key:"visitAnimateChild",value:function(e,t){var n=t.subInstructions.consume(t.element);if(n){var i=t.createSubContext(e.options),r=t.currentTimeline.currentTime,a=this._visitSubInstructions(n,i,i.options);r!=a&&t.transformIntoNewTimeline(a)}t.previousNode=e}},{key:"visitAnimateRef",value:function(e,t){var n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}},{key:"_visitSubInstructions",value:function(e,t,n){var i=t.currentTimeline.currentTime,r=null!=n.duration?j(n.duration):null,a=null!=n.delay?j(n.delay):null;return 0!==r&&e.forEach(function(e){var n=t.appendInstructionToTimeline(e,r,a);i=Math.max(i,n.duration+n.delay)}),i}},{key:"visitReference",value:function(e,t){t.updateOptions(e.options,!0),ne(this,e.animation,t),t.previousNode=e}},{key:"visitSequence",value:function(e,t){var n=this,i=t.subContextCount,r=t,a=e.options;if(a&&(a.params||a.delay)&&((r=t.createSubContext(a)).transformIntoNewTimeline(),null!=a.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=be);var o=j(a.delay);r.delayNextStep(o)}e.steps.length&&(e.steps.forEach(function(e){return ne(n,e,r)}),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}},{key:"visitGroup",value:function(e,t){var n=this,i=[],r=t.currentTimeline.currentTime,a=e.options&&e.options.delay?j(e.options.delay):0;e.steps.forEach(function(o){var s=t.createSubContext(e.options);a&&s.delayNextStep(a),ne(n,o,s),r=Math.max(r,s.currentTimeline.currentTime),i.push(s.currentTimeline)}),i.forEach(function(e){return t.currentTimeline.mergeTimelineCollectedStyles(e)}),t.transformIntoNewTimeline(r),t.previousNode=e}},{key:"_visitTiming",value:function(e,t){if(e.dynamic){var n=e.strValue;return U(t.params?K(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}},{key:"visitAnimate",value:function(e,t){var n=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),i.snapshotCurrentStyles());var r=e.style;5==r.type?this.visitKeyframes(r,t):(t.incrementTime(n.duration),this.visitStyle(r,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}},{key:"visitStyle",value:function(e,t){var n=t.currentTimeline,i=t.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();var r=i&&i.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(r):n.setStyles(e.styles,r,t.errors,t.options),t.previousNode=e}},{key:"visitKeyframes",value:function(e,t){var n=t.currentAnimateTimings,i=t.currentTimeline.duration,r=n.duration,a=t.createSubContext().currentTimeline;a.easing=n.easing,e.styles.forEach(function(e){a.forwardTime((e.offset||0)*r),a.setStyles(e.styles,e.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+r),t.previousNode=e}},{key:"visitQuery",value:function(e,t){var n=this,i=t.currentTimeline.currentTime,r=e.options||{},a=r.delay?j(r.delay):0;a&&(6===t.previousNode.type||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=be);var o=i,s=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=s.length;var l=null;s.forEach(function(i,r){t.currentQueryIndex=r;var s=t.createSubContext(e.options,i);a&&s.delayNextStep(a),i===t.element&&(l=s.currentTimeline),ne(n,e.animation,s),s.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,s.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}},{key:"visitStagger",value:function(e,t){var n=t.parentContext,i=t.currentTimeline,r=e.timings,a=Math.abs(r.duration),o=a*(t.currentQueryTotal-1),s=a*t.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":s=o-s;break;case"full":s=n.currentStaggerTime}var l=t.currentTimeline;s&&l.delayNextStep(s);var u=l.currentTime;ne(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=i.currentTime-u+(i.startTime-n.currentTimeline.startTime)}}]),e}(),be={},Se=function(){function e(t,n,i,r,a,o,s,l){_(this,e),this._driver=t,this.element=n,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=a,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=be,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Te(this._driver,n,0),s.push(this.currentTimeline)}return y(e,[{key:"params",get:function(){return this.options.params}},{key:"updateOptions",value:function(e,t){var n=this;if(e){var i=e,r=this.options;null!=i.duration&&(r.duration=j(i.duration)),null!=i.delay&&(r.delay=j(i.delay));var a=i.params;if(a){var o=r.params;o||(o=this.options.params={}),Object.keys(a).forEach(function(e){t&&o.hasOwnProperty(e)||(o[e]=K(a[e],o,n.errors))})}}}},{key:"_copyOptions",value:function(){var e={};if(this.options){var t=this.options.params;if(t){var n=e.params={};Object.keys(t).forEach(function(e){n[e]=t[e]})}}return e}},{key:"createSubContext",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,r=n||this.element,a=new e(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(t),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}},{key:"transformIntoNewTimeline",value:function(e){return this.previousNode=be,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(e,t,n){var i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},r=new we(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(r),i}},{key:"incrementTime",value:function(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}},{key:"delayNextStep",value:function(e){e>0&&this.currentTimeline.delayNextStep(e)}},{key:"invokeQuery",value:function(e,t,n,i,r,a){var o=[];if(i&&o.push(this.element),e.length>0){e=(e=e.replace(ve,"."+this._enterClassName)).replace(ge,"."+this._leaveClassName);var s=this._driver.query(this.element,e,1!=n);0!==n&&(s=n<0?s.slice(s.length+n,s.length):s.slice(0,n)),o.push.apply(o,d(s))}return r||0!=o.length||a.push('`query("'.concat(t,'")` returned zero elements. (Use `query("').concat(t,'", { optional: true })` if you wish to allow this.)')),o}}]),e}(),Te=function(){function e(t,n,i,r){_(this,e),this._driver=t,this.element=n,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return y(e,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"delayNextStep",value:function(e){var t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}},{key:"fork",value:function(t,n){return this.applyStylesToKeyframe(),new e(this._driver,t,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}},{key:"_updateStyle",value:function(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(e){var t=this;e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(function(e){t._backFill[e]=t._globalTimelineStyles[e]||a.a,t._currentKeyframe[e]=a.a}),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(e,t,n,i){var r=this;t&&(this._previousKeyframe.easing=t);var o=i&&i.params||{},s=function(e,t){var n,i={};return e.forEach(function(e){"*"===e?(n=n||Object.keys(t)).forEach(function(e){i[e]=a.a}):V(e,!1,i)}),i}(e,this._globalTimelineStyles);Object.keys(s).forEach(function(e){var t=K(s[e],o,n);r._pendingStyles[e]=t,r._localTimelineStyles.hasOwnProperty(e)||(r._backFill[e]=r._globalTimelineStyles.hasOwnProperty(e)?r._globalTimelineStyles[e]:a.a),r._updateStyle(e,t)})}},{key:"applyStylesToKeyframe",value:function(){var e=this,t=this._pendingStyles,n=Object.keys(t);0!=n.length&&(this._pendingStyles={},n.forEach(function(n){e._currentKeyframe[n]=t[n]}),Object.keys(this._localTimelineStyles).forEach(function(t){e._currentKeyframe.hasOwnProperty(t)||(e._currentKeyframe[t]=e._localTimelineStyles[t])}))}},{key:"snapshotCurrentStyles",value:function(){var e=this;Object.keys(this._localTimelineStyles).forEach(function(t){var n=e._localTimelineStyles[t];e._pendingStyles[t]=n,e._updateStyle(t,n)})}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"properties",get:function(){var e=[];for(var t in this._currentKeyframe)e.push(t);return e}},{key:"mergeTimelineCollectedStyles",value:function(e){var t=this;Object.keys(e._styleSummary).forEach(function(n){var i=t._styleSummary[n],r=e._styleSummary[n];(!i||r.time>i.time)&&t._updateStyle(n,r.value)})}},{key:"buildKeyframes",value:function(){var e=this;this.applyStylesToKeyframe();var t=new Set,n=new Set,i=1===this._keyframes.size&&0===this.duration,r=[];this._keyframes.forEach(function(o,s){var l=V(o,!0);Object.keys(l).forEach(function(e){var i=l[e];i==a.m?t.add(e):i==a.a&&n.add(e)}),i||(l.offset=s/e.duration),r.push(l)});var o=t.size?Z(t.values()):[],s=n.size?Z(n.values()):[];if(i){var l=r[0],u=G(l);l.offset=0,u.offset=1,r=[l,u]}return pe(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}]),e}(),we=function(e){b(n,e);var t=T(n);function n(e,i,r,a,o,s){var l,u=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return _(this,n),(l=t.call(this,e,i,s.delay)).element=i,l.keyframes=r,l.preStyleProps=a,l.postStyleProps=o,l._stretchStartingKeyframe=u,l.timings={duration:s.duration,delay:s.delay,easing:s.easing},l}return y(n,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var e=this.keyframes,t=this.timings,n=t.delay,i=t.duration,r=t.easing;if(this._stretchStartingKeyframe&&n){var a=[],o=i+n,s=n/o,l=V(e[0],!1);l.offset=0,a.push(l);var u=V(e[0],!1);u.offset=xe(s),a.push(u);for(var c=e.length-1,h=1;h<=c;h++){var d=V(e[h],!1);d.offset=xe((n+d.offset*i)/o),a.push(d)}i=o,n=0,r="",e=a}return pe(this.element,e,this.preStyleProps,this.postStyleProps,i,n,r,!0)}}]),n}(Te);function xe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,t-1);return Math.round(e*n)/n}var Ee,Ce,ke=function e(){_(this,e)},Me=function(e){b(n,e);var t=T(n);function n(){return _(this,n),t.apply(this,arguments)}return y(n,[{key:"normalizePropertyName",value:function(e,t){return Q(e)}},{key:"normalizeStyleValue",value:function(e,t,n,i){var r="",a=n.toString().trim();if(Oe[t]&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{var o=n.match(/^[+-]?[\d\.]+([a-z]*)$/);o&&0==o[1].length&&i.push("Please provide a CSS unit value for ".concat(e,":").concat(n))}return a+r}}]),n}(ke),Oe=(Ee="width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","),Ce={},Ee.forEach(function(e){return Ce[e]=!0}),Ce);function Ae(e,t,n,i,r,a,o,s,l,u,c,h,d){return{type:0,element:e,triggerName:t,isRemovalTransition:r,fromState:n,fromStyles:a,toState:i,toStyles:o,timelines:s,queriedElements:l,preStyleProps:u,postStyleProps:c,totalTime:h,errors:d}}var Re={},Ie=function(){function e(t,n,i){_(this,e),this._triggerName=t,this.ast=n,this._stateStyles=i}return y(e,[{key:"match",value:function(e,t,n,i){return function(e,t,n,i,r){return e.some(function(e){return e(t,n,i,r)})}(this.ast.matchers,e,t,n,i)}},{key:"buildStyles",value:function(e,t,n){var i=this._stateStyles["*"],r=this._stateStyles[e],a=i?i.buildStyles(t,n):{};return r?r.buildStyles(t,n):a}},{key:"build",value:function(e,t,n,i,r,a,o,s,l,u){var c=[],h=this.ast.options&&this.ast.options.params||Re,d=this.buildStyles(n,o&&o.params||Re,c),f=s&&s.params||Re,p=this.buildStyles(i,f,c),v=new Set,g=new Map,y=new Map,_="void"===i,b={params:Object.assign(Object.assign({},h),f)},S=u?[]:ye(e,t,this.ast.animation,r,a,d,p,b,l,c),T=0;if(S.forEach(function(e){T=Math.max(e.duration+e.delay,T)}),c.length)return Ae(t,this._triggerName,n,i,_,d,p,[],[],g,y,T,c);S.forEach(function(e){var n=e.element,i=m(g,n,{});e.preStyleProps.forEach(function(e){return i[e]=!0});var r=m(y,n,{});e.postStyleProps.forEach(function(e){return r[e]=!0}),n!==t&&v.add(n)});var w=Z(v.values());return Ae(t,this._triggerName,n,i,_,d,p,S,w,g,y,T)}}]),e}(),Le=function(){function e(t,n){_(this,e),this.styles=t,this.defaultParams=n}return y(e,[{key:"buildStyles",value:function(e,t){var n={},i=G(this.defaultParams);return Object.keys(e).forEach(function(t){var n=e[t];null!=n&&(i[t]=n)}),this.styles.styles.forEach(function(e){if("string"!=typeof e){var r=e;Object.keys(r).forEach(function(e){var a=r[e];a.length>1&&(a=K(a,i,t)),n[e]=a})}}),n}}]),e}(),Pe=function(){function e(t,n){var i=this;_(this,e),this.name=t,this.ast=n,this.transitionFactories=[],this.states={},n.states.forEach(function(e){i.states[e.name]=new Le(e.style,e.options&&e.options.params||{})}),De(this.states,"true","1"),De(this.states,"false","0"),n.transitions.forEach(function(e){i.transitionFactories.push(new Ie(t,e,i.states))}),this.fallbackTransition=new Ie(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(e,t){return!0}],options:null,queryCount:0,depCount:0},this.states)}return y(e,[{key:"containsQueries",get:function(){return this.ast.queryCount>0}},{key:"matchTransition",value:function(e,t,n,i){return this.transitionFactories.find(function(r){return r.match(e,t,n,i)})||null}},{key:"matchStyles",value:function(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}}]),e}();function De(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}var Ne=new me,je=function(){function e(t,n,i){_(this,e),this.bodyNode=t,this._driver=n,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}return y(e,[{key:"register",value:function(e,t){var n=[],i=le(this._driver,t,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: ".concat(n.join("\n")));this._animations[e]=i}},{key:"_buildPlayer",value:function(e,t,n){var i=e.element,r=u(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(i,r,e.duration,e.delay,e.easing,[],!0)}},{key:"create",value:function(e,t){var n,i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[],l=this._animations[e],u=new Map;if(l?(n=ye(this._driver,t,l,"ng-enter","ng-leave",{},{},r,Ne,o)).forEach(function(e){var t=m(u,e.element,{});e.postStyleProps.forEach(function(e){return t[e]=null})}):(o.push("The requested animation doesn't exist or has already been destroyed"),n=[]),o.length)throw new Error("Unable to create the animation due to the following errors: ".concat(o.join("\n")));u.forEach(function(e,t){Object.keys(e).forEach(function(n){e[n]=i._driver.computeStyle(t,n,a.a)})});var c=s(n.map(function(e){var t=u.get(e.element);return i._buildPlayer(e,{},t)}));return this._playersById[e]=c,c.onDestroy(function(){return i.destroy(e)}),this.players.push(c),c}},{key:"destroy",value:function(e){var t=this._getPlayer(e);t.destroy(),delete this._playersById[e];var n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(e){var t=this._playersById[e];if(!t)throw new Error("Unable to find the timeline player referenced by ".concat(e));return t}},{key:"listen",value:function(e,t,n,i){var r=p(t,"","","");return c(this._getPlayer(e),n,r,i),function(){}}},{key:"command",value:function(e,t,n,i){if("register"!=n)if("create"!=n){var r=this._getPlayer(e);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}else this.create(e,t,i[0]||{});else this.register(e,i[0])}}]),e}(),Fe=[],Ue={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ge={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ve=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";_(this,e),this.namespaceId=n;var i,r=t&&t.hasOwnProperty("value");if(this.value=null!=(i=r?t.value:t)?i:null,r){var a=G(t);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}return y(e,[{key:"params",get:function(){return this.options.params}},{key:"absorbOptions",value:function(e){var t=e.params;if(t){var n=this.options.params;Object.keys(t).forEach(function(e){null==n[e]&&(n[e]=t[e])})}}}]),e}(),Be=new Ve("void"),ze=function(){function e(t,n,i){_(this,e),this.id=t,this.hostElement=n,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Ze(n,this._hostClassName)}return y(e,[{key:"listen",value:function(e,t,n,i){var r,a=this;if(!this._triggers.hasOwnProperty(t))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(t,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(t,'" because the provided event is undefined!'));if("start"!=(r=n)&&"done"!=r)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(t,'" is not supported!'));var o=m(this._elementListeners,e,[]),s={name:t,phase:n,callback:i};o.push(s);var l=m(this._engine.statesByElement,e,{});return l.hasOwnProperty(t)||(Ze(e,"ng-trigger"),Ze(e,"ng-trigger-"+t),l[t]=Be),function(){a._engine.afterFlush(function(){var e=o.indexOf(s);e>=0&&o.splice(e,1),a._triggers[t]||delete l[t]})}}},{key:"register",value:function(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}},{key:"_getTrigger",value:function(e){var t=this._triggers[e];if(!t)throw new Error('The provided animation trigger "'.concat(e,'" has not been registered!'));return t}},{key:"trigger",value:function(e,t,n){var i=this,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=this._getTrigger(t),o=new Xe(this.id,t,e),s=this._engine.statesByElement.get(e);s||(Ze(e,"ng-trigger"),Ze(e,"ng-trigger-"+t),this._engine.statesByElement.set(e,s={}));var l=s[t],u=new Ve(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&u.absorbOptions(l.options),s[t]=u,l||(l=Be),"void"===u.value||l.value!==u.value){var c=m(this._engine.playersByElement,e,[]);c.forEach(function(e){e.namespaceId==i.id&&e.triggerName==t&&e.queued&&e.destroy()});var h=a.matchTransition(l.value,u.value,e,u.params),d=!1;if(!h){if(!r)return;h=a.fallbackTransition,d=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:h,fromState:l,toState:u,player:o,isFallbackTransition:d}),d||(Ze(e,"ng-animate-queued"),o.onStart(function(){Je(e,"ng-animate-queued")})),o.onDone(function(){var t=i.players.indexOf(o);t>=0&&i.players.splice(t,1);var n=i._engine.playersByElement.get(e);if(n){var r=n.indexOf(o);r>=0&&n.splice(r,1)}}),this.players.push(o),c.push(o),o}if(!function(e,t){var n=Object.keys(e),i=Object.keys(t);if(n.length!=i.length)return!1;for(var r=0;r<n.length;r++){var a=n[r];if(!t.hasOwnProperty(a)||e[a]!==t[a])return!1}return!0}(l.params,u.params)){var f=[],p=a.matchStyles(l.value,l.params,f),v=a.matchStyles(u.value,u.params,f);f.length?this._engine.reportError(f):this._engine.afterFlush(function(){X(e,p),H(e,v)})}}},{key:"deregister",value:function(e){var t=this;delete this._triggers[e],this._engine.statesByElement.forEach(function(t,n){delete t[e]}),this._elementListeners.forEach(function(n,i){t._elementListeners.set(i,n.filter(function(t){return t.name!=e}))})}},{key:"clearElementCache",value:function(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);var t=this._engine.playersByElement.get(e);t&&(t.forEach(function(e){return e.destroy()}),this._engine.playersByElement.delete(e))}},{key:"_signalRemovalForInnerTriggers",value:function(e,t){var n=this,i=this._engine.driver.query(e,".ng-trigger",!0);i.forEach(function(e){if(!e.__ng_removed){var i=n._engine.fetchNamespacesByElement(e);i.size?i.forEach(function(n){return n.triggerLeaveAnimation(e,t,!1,!0)}):n.clearElementCache(e)}}),this._engine.afterFlushAnimationsDone(function(){return i.forEach(function(e){return n.clearElementCache(e)})})}},{key:"triggerLeaveAnimation",value:function(e,t,n,i){var r=this,a=this._engine.statesByElement.get(e);if(a){var o=[];if(Object.keys(a).forEach(function(t){if(r._triggers[t]){var n=r.trigger(e,t,"void",i);n&&o.push(n)}}),o.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&s(o).onDone(function(){return r._engine.processLeaveNode(e)}),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(e){var t=this,n=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(n&&i){var r=new Set;n.forEach(function(n){var a=n.name;if(!r.has(a)){r.add(a);var o=t._triggers[a].fallbackTransition,s=i[a]||Be,l=new Ve("void"),u=new Xe(t.id,a,e);t._engine.totalQueuedPlayers++,t._queue.push({element:e,triggerName:a,transition:o,fromState:s,toState:l,player:u,isFallbackTransition:!0})}})}}},{key:"removeNode",value:function(e,t){var n=this,i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),!this.triggerLeaveAnimation(e,t,!0)){var r=!1;if(i.totalAnimations){var a=i.players.length?i.playersByQueriedElement.get(e):[];if(a&&a.length)r=!0;else for(var o=e;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{var s=e.__ng_removed;s&&s!==Ue||(i.afterFlush(function(){return n.clearElementCache(e)}),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}}},{key:"insertNode",value:function(e,t){Ze(e,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(e){var t=this,n=[];return this._queue.forEach(function(i){var r=i.player;if(!r.destroyed){var a=i.element,o=t._elementListeners.get(a);o&&o.forEach(function(t){if(t.name==i.triggerName){var n=p(a,i.triggerName,i.fromState.value,i.toState.value);n._data=e,c(i.player,t.phase,n,t.callback)}}),r.markedForDestroy?t._engine.afterFlush(function(){r.destroy()}):n.push(i)}}),this._queue=[],n.sort(function(e,n){var i=e.transition.ast.depCount,r=n.transition.ast.depCount;return 0==i||0==r?i-r:t._engine.driver.containsElement(e.element,n.element)?1:-1})}},{key:"destroy",value:function(e){this.players.forEach(function(e){return e.destroy()}),this._signalRemovalForInnerTriggers(this.hostElement,e)}},{key:"elementContainsData",value:function(e){var t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(function(t){return t.element===e})||t}}]),e}(),He=function(){function e(t,n,i){_(this,e),this.bodyNode=t,this.driver=n,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(e,t){}}return y(e,[{key:"_onRemovalComplete",value:function(e,t){this.onRemovalComplete(e,t)}},{key:"queuedPlayers",get:function(){var e=[];return this._namespaceList.forEach(function(t){t.players.forEach(function(t){t.queued&&e.push(t)})}),e}},{key:"createNamespace",value:function(e,t){var n=new ze(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}},{key:"_balanceNamespaceList",value:function(e,t){var n=this._namespaceList.length-1;if(n>=0){for(var i=!1,r=n;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,t)){this._namespaceList.splice(r+1,0,e),i=!0;break}i||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}},{key:"register",value:function(e,t){var n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}},{key:"registerTrigger",value:function(e,t,n){var i=this._namespaceLookup[e];i&&i.register(t,n)&&this.totalAnimations++}},{key:"destroy",value:function(e,t){var n=this;if(e){var i=this._fetchNamespace(e);this.afterFlush(function(){n.namespacesByHostElement.delete(i.hostElement),delete n._namespaceLookup[e];var t=n._namespaceList.indexOf(i);t>=0&&n._namespaceList.splice(t,1)}),this.afterFlushAnimationsDone(function(){return i.destroy(t)})}}},{key:"_fetchNamespace",value:function(e){return this._namespaceLookup[e]}},{key:"fetchNamespacesByElement",value:function(e){var t=new Set,n=this.statesByElement.get(e);if(n)for(var i=Object.keys(n),r=0;r<i.length;r++){var a=n[i[r]].namespaceId;if(a){var o=this._fetchNamespace(a);o&&t.add(o)}}return t}},{key:"trigger",value:function(e,t,n,i){if(qe(t)){var r=this._fetchNamespace(e);if(r)return r.trigger(t,n,i),!0}return!1}},{key:"insertNode",value:function(e,t,n,i){if(qe(t)){var r=t.__ng_removed;if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;var a=this.collectedLeaveElements.indexOf(t);a>=0&&this.collectedLeaveElements.splice(a,1)}if(e){var o=this._fetchNamespace(e);o&&o.insertNode(t,n)}i&&this.collectEnterElement(t)}}},{key:"collectEnterElement",value:function(e){this.collectedEnterElements.push(e)}},{key:"markElementAsDisabled",value:function(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ze(e,"ng-animate-disabled")):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Je(e,"ng-animate-disabled"))}},{key:"removeNode",value:function(e,t,n,i){if(qe(t)){var r=e?this._fetchNamespace(e):null;if(r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),n){var a=this.namespacesByHostElement.get(t);a&&a.id!==e&&a.removeNode(t,i)}}else this._onRemovalComplete(t,i)}},{key:"markElementAsRemoved",value:function(e,t,n,i){this.collectedLeaveElements.push(t),t.__ng_removed={namespaceId:e,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(e,t,n,i,r){return qe(t)?this._fetchNamespace(e).listen(t,n,i,r):function(){}}},{key:"_buildInstruction",value:function(e,t,n,i,r){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,i,e.fromState.options,e.toState.options,t,r)}},{key:"destroyInnerAnimations",value:function(e){var t=this,n=this.driver.query(e,".ng-trigger",!0);n.forEach(function(e){return t.destroyActiveAnimationsForElement(e)}),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,".ng-animating",!0)).forEach(function(e){return t.finishActiveQueriedAnimationOnElement(e)})}},{key:"destroyActiveAnimationsForElement",value:function(e){var t=this.playersByElement.get(e);t&&t.forEach(function(e){e.queued?e.markedForDestroy=!0:e.destroy()})}},{key:"finishActiveQueriedAnimationOnElement",value:function(e){var t=this.playersByQueriedElement.get(e);t&&t.forEach(function(e){return e.finish()})}},{key:"whenRenderingDone",value:function(){var e=this;return new Promise(function(t){if(e.players.length)return s(e.players).onDone(function(){return t()});t()})}},{key:"processLeaveNode",value:function(e){var t=this,n=e.__ng_removed;if(n&&n.setForRemoval){if(e.__ng_removed=Ue,n.namespaceId){this.destroyInnerAnimations(e);var i=this._fetchNamespace(n.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}this.driver.matchesElement(e,".ng-animate-disabled")&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(function(e){t.markElementAsDisabled(e,!1)})}},{key:"flush",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach(function(t,n){return e._balanceNamespaceList(t,n)}),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var i=0;i<this.collectedEnterElements.length;i++)Ze(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var r=[];try{n=this._flushAnimations(r,t)}finally{for(var a=0;a<r.length;a++)r[a]()}}else for(var o=0;o<this.collectedLeaveElements.length;o++)this.processLeaveNode(this.collectedLeaveElements[o]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(function(e){return e()}),this._flushFns=[],this._whenQuietFns.length){var l=this._whenQuietFns;this._whenQuietFns=[],n.length?s(n).onDone(function(){l.forEach(function(e){return e()})}):l.forEach(function(e){return e()})}}},{key:"reportError",value:function(e){throw new Error("Unable to process animations due to the following failed trigger transitions\n ".concat(e.join("\n")))}},{key:"_flushAnimations",value:function(e,t){var n=this,i=new me,r=[],o=new Map,l=[],u=new Map,c=new Map,h=new Map,f=new Set;this.disabledNodes.forEach(function(e){f.add(e);for(var t=n.driver.query(e,".ng-animate-queued",!0),i=0;i<t.length;i++)f.add(t[i])});var p=this.bodyNode,v=Array.from(this.statesByElement.keys()),g=Ke(v,this.collectedEnterElements),y=new Map,_=0;g.forEach(function(e,t){var n="ng-enter"+_++;y.set(t,n),e.forEach(function(e){return Ze(e,n)})});for(var b=[],S=new Set,T=new Set,w=0;w<this.collectedLeaveElements.length;w++){var x=this.collectedLeaveElements[w],E=x.__ng_removed;E&&E.setForRemoval&&(b.push(x),S.add(x),E.hasAnimation?this.driver.query(x,".ng-star-inserted",!0).forEach(function(e){return S.add(e)}):T.add(x))}var C=new Map,k=Ke(v,Array.from(S));k.forEach(function(e,t){var n="ng-leave"+_++;C.set(t,n),e.forEach(function(e){return Ze(e,n)})}),e.push(function(){g.forEach(function(e,t){var n=y.get(t);e.forEach(function(e){return Je(e,n)})}),k.forEach(function(e,t){var n=C.get(t);e.forEach(function(e){return Je(e,n)})}),b.forEach(function(e){n.processLeaveNode(e)})});for(var M=[],O=[],A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(t).forEach(function(e){var t=e.player,a=e.element;if(M.push(t),n.collectedEnterElements.length){var o=a.__ng_removed;if(o&&o.setForMove)return void t.destroy()}var s=!p||!n.driver.containsElement(p,a),d=C.get(a),f=y.get(a),v=n._buildInstruction(e,i,f,d,s);if(v.errors&&v.errors.length)O.push(v);else{if(s)return t.onStart(function(){return X(a,v.fromStyles)}),t.onDestroy(function(){return H(a,v.toStyles)}),void r.push(t);if(e.isFallbackTransition)return t.onStart(function(){return X(a,v.fromStyles)}),t.onDestroy(function(){return H(a,v.toStyles)}),void r.push(t);v.timelines.forEach(function(e){return e.stretchStartingKeyframe=!0}),i.append(a,v.timelines),l.push({instruction:v,player:t,element:a}),v.queriedElements.forEach(function(e){return m(u,e,[]).push(t)}),v.preStyleProps.forEach(function(e,t){var n=Object.keys(e);if(n.length){var i=c.get(t);i||c.set(t,i=new Set),n.forEach(function(e){return i.add(e)})}}),v.postStyleProps.forEach(function(e,t){var n=Object.keys(e),i=h.get(t);i||h.set(t,i=new Set),n.forEach(function(e){return i.add(e)})})}});if(O.length){var R=[];O.forEach(function(e){R.push("@".concat(e.triggerName," has failed due to:\n")),e.errors.forEach(function(e){return R.push("- ".concat(e,"\n"))})}),M.forEach(function(e){return e.destroy()}),this.reportError(R)}var I=new Map,L=new Map;l.forEach(function(e){var t=e.element;i.has(t)&&(L.set(t,t),n._beforeAnimationBuild(e.player.namespaceId,e.instruction,I))}),r.forEach(function(e){var t=e.element;n._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach(function(e){m(I,t,[]).push(e),e.destroy()})});var P=b.filter(function(e){return et(e,c,h)}),D=new Map;Ye(D,this.driver,T,h,a.a).forEach(function(e){et(e,c,h)&&P.push(e)});var N=new Map;g.forEach(function(e,t){Ye(N,n.driver,new Set(e),c,a.m)}),P.forEach(function(e){var t=D.get(e),n=N.get(e);D.set(e,Object.assign(Object.assign({},t),n))});var j=[],F=[],U={};l.forEach(function(e){var t=e.element,a=e.player,l=e.instruction;if(i.has(t)){if(f.has(t))return a.onDestroy(function(){return H(t,l.toStyles)}),a.disabled=!0,a.overrideTotalTime(l.totalTime),void r.push(a);var u=U;if(L.size>1){for(var c=t,h=[];c=c.parentNode;){var d=L.get(c);if(d){u=d;break}h.push(c)}h.forEach(function(e){return L.set(e,u)})}var p=n._buildAnimation(a.namespaceId,l,I,o,N,D);if(a.setRealPlayer(p),u===U)j.push(a);else{var m=n.playersByElement.get(u);m&&m.length&&(a.parentPlayer=s(m)),r.push(a)}}else X(t,l.fromStyles),a.onDestroy(function(){return H(t,l.toStyles)}),F.push(a),f.has(t)&&r.push(a)}),F.forEach(function(e){var t=o.get(e.element);if(t&&t.length){var n=s(t);e.setRealPlayer(n)}}),r.forEach(function(e){e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()});for(var G=0;G<b.length;G++){var V=b[G],B=V.__ng_removed;if(Je(V,"ng-leave"),!B||!B.hasAnimation){var z=[];if(u.size){var q=u.get(V);q&&q.length&&z.push.apply(z,d(q));for(var W=this.driver.query(V,".ng-animating",!0),Y=0;Y<W.length;Y++){var K=u.get(W[Y]);K&&K.length&&z.push.apply(z,d(K))}}var Z=z.filter(function(e){return!e.destroyed});Z.length?Qe(this,V,Z):this.processLeaveNode(V)}}return b.length=0,j.forEach(function(e){n.players.push(e),e.onDone(function(){e.destroy();var t=n.players.indexOf(e);n.players.splice(t,1)}),e.play()}),j}},{key:"elementContainsData",value:function(e,t){var n=!1,i=t.__ng_removed;return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}},{key:"afterFlush",value:function(e){this._flushFns.push(e)}},{key:"afterFlushAnimationsDone",value:function(e){this._whenQuietFns.push(e)}},{key:"_getPreviousPlayers",value:function(e,t,n,i,r){var a=[];if(t){var o=this.playersByQueriedElement.get(e);o&&(a=o)}else{var s=this.playersByElement.get(e);if(s){var l=!r||"void"==r;s.forEach(function(e){e.queued||(l||e.triggerName==i)&&a.push(e)})}}return(n||i)&&(a=a.filter(function(e){return!(n&&n!=e.namespaceId||i&&i!=e.triggerName)})),a}},{key:"_beforeAnimationBuild",value:function(e,t,n){var i,r=this,a=t.element,o=t.isRemovalTransition?void 0:e,s=t.isRemovalTransition?void 0:t.triggerName,l=h(t.timelines);try{var u=function(){var e=i.value.element,l=e!==a,u=m(n,e,[]);r._getPreviousPlayers(e,l,o,s,t.toState).forEach(function(e){var t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),u.push(e)})};for(l.s();!(i=l.n()).done;)u()}catch(c){l.e(c)}finally{l.f()}X(a,t.fromStyles)}},{key:"_buildAnimation",value:function(e,t,n,i,r,o){var l=this,c=t.triggerName,h=t.element,d=[],f=new Set,p=new Set,v=t.timelines.map(function(t){var s=t.element;f.add(s);var m=s.__ng_removed;if(m&&m.removedBeforeQueried)return new a.d(t.duration,t.delay);var v,g,y=s!==h,_=(v=(n.get(s)||Fe).map(function(e){return e.getRealPlayer()}),g=[],$e(v,g),g).filter(function(e){return!!e.element&&e.element===s}),b=r.get(s),S=o.get(s),T=u(0,l._normalizer,0,t.keyframes,b,S),w=l._buildPlayer(t,T,_);if(t.subTimeline&&i&&p.add(s),y){var x=new Xe(e,c,s);x.setRealPlayer(w),d.push(x)}return w});d.forEach(function(e){m(l.playersByQueriedElement,e.element,[]).push(e),e.onDone(function(){return function(e,t,n){var i;if(e instanceof Map){if(i=e.get(t)){if(i.length){var r=i.indexOf(n);i.splice(r,1)}0==i.length&&e.delete(t)}}else if(i=e[t]){if(i.length){var a=i.indexOf(n);i.splice(a,1)}0==i.length&&delete e[t]}return i}(l.playersByQueriedElement,e.element,e)})}),f.forEach(function(e){return Ze(e,"ng-animating")});var g=s(v);return g.onDestroy(function(){f.forEach(function(e){return Je(e,"ng-animating")}),H(h,t.toStyles)}),p.forEach(function(e){m(i,e,[]).push(g)}),g}},{key:"_buildPlayer",value:function(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new a.d(e.duration,e.delay)}}]),e}(),Xe=function(){function e(t,n,i){_(this,e),this.namespaceId=t,this.triggerName=n,this.element=i,this._player=new a.d,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return y(e,[{key:"setRealPlayer",value:function(e){var t=this;this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(function(n){t._queuedCallbacks[n].forEach(function(t){return c(e,n,void 0,t)})}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(e){this.totalTime=e}},{key:"syncPlayerEvents",value:function(e){var t=this,n=this._player;n.triggerCallback&&e.onStart(function(){return n.triggerCallback("start")}),e.onDone(function(){return t.finish()}),e.onDestroy(function(){return t.destroy()})}},{key:"_queueEvent",value:function(e,t){m(this._queuedCallbacks,e,[]).push(t)}},{key:"onDone",value:function(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}},{key:"onStart",value:function(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}},{key:"onDestroy",value:function(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(e){this.queued||this._player.setPosition(e)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(e){var t=this._player;t.triggerCallback&&t.triggerCallback(e)}}]),e}();function qe(e){return e&&1===e.nodeType}function We(e,t){var n=e.style.display;return e.style.display=null!=t?t:"none",n}function Ye(e,t,n,i,r){var a=[];n.forEach(function(e){return a.push(We(e))});var o=[];i.forEach(function(n,i){var a={};n.forEach(function(e){var n=a[e]=t.computeStyle(i,e,r);n&&0!=n.length||(i.__ng_removed=Ge,o.push(i))}),e.set(i,a)});var s=0;return n.forEach(function(e){return We(e,a[s++])}),o}function Ke(e,t){var n=new Map;if(e.forEach(function(e){return n.set(e,[])}),0==t.length)return n;var i=new Set(t),r=new Map;function a(e){if(!e)return 1;var t=r.get(e);if(t)return t;var o=e.parentNode;return t=n.has(o)?o:i.has(o)?1:a(o),r.set(e,t),t}return t.forEach(function(e){var t=a(e);1!==t&&n.get(t).push(e)}),n}function Ze(e,t){if(e.classList)e.classList.add(t);else{var n=e.$$classes;n||(n=e.$$classes={}),n[t]=!0}}function Je(e,t){if(e.classList)e.classList.remove(t);else{var n=e.$$classes;n&&delete n[t]}}function Qe(e,t,n){s(n).onDone(function(){return e.processLeaveNode(t)})}function $e(e,t){for(var n=0;n<e.length;n++){var i=e[n];i instanceof a.l?$e(i.players,t):t.push(i)}}function et(e,t,n){var i=n.get(e);if(!i)return!1;var r=t.get(e);return r?i.forEach(function(e){return r.add(e)}):t.set(e,i),n.delete(e),!0}var tt=function(){function e(t,n,i){var r=this;_(this,e),this.bodyNode=t,this._driver=n,this._triggerCache={},this.onRemovalComplete=function(e,t){},this._transitionEngine=new He(t,n,i),this._timelineEngine=new je(t,n,i),this._transitionEngine.onRemovalComplete=function(e,t){return r.onRemovalComplete(e,t)}}return y(e,[{key:"registerTrigger",value:function(e,t,n,i,r){var a=e+"-"+i,o=this._triggerCache[a];if(!o){var s=[],l=le(this._driver,r,s);if(s.length)throw new Error('The animation trigger "'.concat(i,'" has failed to build due to the following errors:\n - ').concat(s.join("\n - ")));o=function(e,t){return new Pe(e,t)}(i,l),this._triggerCache[a]=o}this._transitionEngine.registerTrigger(t,i,o)}},{key:"register",value:function(e,t){this._transitionEngine.register(e,t)}},{key:"destroy",value:function(e,t){this._transitionEngine.destroy(e,t)}},{key:"onInsert",value:function(e,t,n,i){this._transitionEngine.insertNode(e,t,n,i)}},{key:"onRemove",value:function(e,t,n,i){this._transitionEngine.removeNode(e,t,i||!1,n)}},{key:"disableAnimations",value:function(e,t){this._transitionEngine.markElementAsDisabled(e,t)}},{key:"process",value:function(e,t,n,i){if("@"==n.charAt(0)){var r=l(g(n),2),a=r[0],o=r[1];this._timelineEngine.command(a,t,o,i)}else this._transitionEngine.trigger(e,t,n,i)}},{key:"listen",value:function(e,t,n,i,r){if("@"==n.charAt(0)){var a=l(g(n),2),o=a[0],s=a[1];return this._timelineEngine.listen(o,t,s,r)}return this._transitionEngine.listen(e,t,n,i,r)}},{key:"flush",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(e)}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}}]),e}();function nt(e,t){var n=null,i=null;return Array.isArray(t)&&t.length?(n=rt(t[0]),t.length>1&&(i=rt(t[t.length-1]))):t&&(n=rt(t)),n||i?new it(e,n,i):null}var it=function(){var e=function(){function e(t,n,i){_(this,e),this._element=t,this._startStyles=n,this._endStyles=i,this._state=0;var r=e.initialStylesByElement.get(t);r||e.initialStylesByElement.set(t,r={}),this._initialStyles=r}return y(e,[{key:"start",value:function(){this._state<1&&(this._startStyles&&H(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(H(this._element,this._initialStyles),this._endStyles&&(H(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(X(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(X(this._element,this._endStyles),this._endStyles=null),H(this._element,this._initialStyles),this._state=3)}}]),e}();return e.initialStylesByElement=new WeakMap,e}();function rt(e){for(var t=null,n=Object.keys(e),i=0;i<n.length;i++){var r=n[i];at(r)&&((t=t||{})[r]=e[r])}return t}function at(e){return"display"===e||"position"===e}var ot=function(){function e(t,n,i,r,a,o,s){var l=this;_(this,e),this._element=t,this._name=n,this._duration=i,this._delay=r,this._easing=a,this._fillMode=o,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(e){return l._handleCallback(e)}}return y(e,[{key:"apply",value:function(){var e,t,n;e=this._element,t="".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name),(n=dt(e,"").trim()).length&&(function(e,t){for(var n=0;n<e.length;n++)e.charAt(n)}(n),t="".concat(n,", ").concat(t)),ht(e,"",t),ct(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){st(this._element,this._name,"paused")}},{key:"resume",value:function(){st(this._element,this._name,"running")}},{key:"setPosition",value:function(e){var t=lt(this._element,this._name);this._position=e*this._duration,ht(this._element,"Delay","-".concat(this._position,"ms"),t)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(e){var t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),ct(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){var e,t,n,i;this._destroyed||(this._destroyed=!0,this.finish(),e=this._element,t=this._name,n=dt(e,"").split(","),(i=ut(n,t))>=0&&(n.splice(i,1),ht(e,"",n.join(","))))}}]),e}();function st(e,t,n){ht(e,"PlayState",n,lt(e,t))}function lt(e,t){var n=dt(e,"");return n.indexOf(",")>0?ut(n.split(","),t):ut([n],t)}function ut(e,t){for(var n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function ct(e,t,n){n?e.removeEventListener("animationend",t):e.addEventListener("animationend",t)}function ht(e,t,n,i){var r="animation"+t;if(null!=i){var a=e.style[r];if(a.length){var o=a.split(",");o[i]=n,n=o.join(",")}}e.style[r]=n}function dt(e,t){return e.style["animation"+t]||""}var ft=function(){function e(t,n,i,r,a,o,s,l){_(this,e),this.element=t,this.keyframes=n,this.animationName=i,this._duration=r,this._delay=a,this._finalStyles=s,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=r+a,this._buildStyler()}return y(e,[{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"destroy",value:function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(e){this._styler.setPosition(e)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var e=this;this._styler=new ot(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",function(){return e.finish()})}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(e){return e()}),t.length=0}},{key:"beforeDestroy",value:function(){var e=this;this.init();var t={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach(function(i){"offset"!=i&&(t[i]=n?e._finalStyles[i]:ie(e.element,i))})}this.currentSnapshot=t}}]),e}(),pt=function(e){b(n,e);var t=T(n);function n(e,i){var r;return _(this,n),(r=t.call(this)).element=e,r._startingStyles={},r.__initialized=!1,r._styles=L(i),r}return y(n,[{key:"init",value:function(){var e=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(function(t){e._startingStyles[t]=e.element.style[t]}),v(C(n.prototype),"init",this).call(this))}},{key:"play",value:function(){var e=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(function(t){return e.element.style.setProperty(t,e._styles[t])}),v(C(n.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var e=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach(function(t){var n=e._startingStyles[t];n?e.element.style.setProperty(t,n):e.element.style.removeProperty(t)}),this._startingStyles=null,v(C(n.prototype),"destroy",this).call(this))}}]),n}(a.d),mt=function(){function e(){_(this,e),this._count=0,this._head=document.querySelector("head")}return y(e,[{key:"validateStyleProperty",value:function(e){return O(e)}},{key:"matchesElement",value:function(e,t){return A(e,t)}},{key:"containsElement",value:function(e,t){return R(e,t)}},{key:"query",value:function(e,t,n){return I(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"buildKeyframeElement",value:function(e,t,n){n=n.map(function(e){return L(e)});var i="@keyframes ".concat(t," {\n"),r="";n.forEach(function(e){r=" ";var t=parseFloat(e.offset);i+="".concat(r).concat(100*t,"% {\n"),r+=" ",Object.keys(e).forEach(function(t){var n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(i+="".concat(r,"animation-timing-function: ").concat(n,";\n")));default:return void(i+="".concat(r).concat(t,": ").concat(n,";\n"))}}),i+="".concat(r,"}\n")}),i+="}\n";var a=document.createElement("style");return a.textContent=i,a}},{key:"animate",value:function(e,t,n,i,r){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],o=a.filter(function(e){return e instanceof ft}),s={};ee(n,i)&&o.forEach(function(e){var t=e.currentSnapshot;Object.keys(t).forEach(function(e){return s[e]=t[e]})});var l=function(e){var t={};return e&&(Array.isArray(e)?e:[e]).forEach(function(e){Object.keys(e).forEach(function(n){"offset"!=n&&"easing"!=n&&(t[n]=e[n])})}),t}(t=te(e,t,s));if(0==n)return new pt(e,l);var u="gen_css_kf_"+this._count++,c=this.buildKeyframeElement(e,u,t);document.querySelector("head").appendChild(c);var h=nt(e,t),d=new ft(e,t,u,n,i,r,l,h);return d.onDestroy(function(){var e;(e=c).parentNode.removeChild(e)}),d}}]),e}(),vt=function(){function e(t,n,i,r){_(this,e),this.element=t,this.keyframes=n,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}return y(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var e=this;if(!this._initialized){this._initialized=!0;var t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",function(){return e._onFinish()})}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(e,t,n){return e.animate(t,n)}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"setPosition",value:function(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"totalTime",get:function(){return this._delay+this._duration}},{key:"beforeDestroy",value:function(){var e=this,t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(function(n){"offset"!=n&&(t[n]=e._finished?e._finalKeyframe[n]:ie(e.element,n))}),this.currentSnapshot=t}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(e){return e()}),t.length=0}}]),e}(),gt=function(){function e(){_(this,e),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(yt().toString()),this._cssKeyframesDriver=new mt}return y(e,[{key:"validateStyleProperty",value:function(e){return O(e)}},{key:"matchesElement",value:function(e,t){return A(e,t)}},{key:"containsElement",value:function(e,t){return R(e,t)}},{key:"query",value:function(e,t,n){return I(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"overrideWebAnimationsSupport",value:function(e){this._isNativeImpl=e}},{key:"animate",value:function(e,t,n,i,r){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],o=arguments.length>6?arguments[6]:void 0;if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,i,r,a);var s={duration:n,delay:i,fill:0==i?"both":"forwards"};r&&(s.easing=r);var l={},u=a.filter(function(e){return e instanceof vt});ee(n,i)&&u.forEach(function(e){var t=e.currentSnapshot;Object.keys(t).forEach(function(e){return l[e]=t[e]})});var c=nt(e,t=te(e,t=t.map(function(e){return V(e,!1)}),l));return new vt(e,t,s,c)}}]),e}();function yt(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var _t,bt=n("SVse"),St=((_t=function(e){b(n,e);var t=T(n);function n(e,r){var a;return _(this,n),(a=t.call(this))._nextAnimationId=0,a._renderer=e.createRenderer(r.body,{id:"0",encapsulation:i.Q.None,styles:[],data:{animation:[]}}),a}return y(n,[{key:"build",value:function(e){var t=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(e)?Object(a.g)(e):e;return xt(this._renderer,null,t,"register",[n]),new Tt(t,this._renderer)}}]),n}(a.b)).\u0275fac=function(e){return new(e||_t)(i.Ub(i.F),i.Ub(bt.d))},_t.\u0275prov=i.Gb({token:_t,factory:_t.\u0275fac}),_t),Tt=function(e){b(n,e);var t=T(n);function n(e,i){var r;return _(this,n),(r=t.call(this))._id=e,r._renderer=i,r}return y(n,[{key:"create",value:function(e,t){return new wt(this._id,e,t||{},this._renderer)}}]),n}(a.c),wt=function(){function e(t,n,i,r){_(this,e),this.id=t,this.element=n,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}return y(e,[{key:"_listen",value:function(e,t){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(e),t)}},{key:"_command",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return xt(this._renderer,this.element,this.id,e,n)}},{key:"onDone",value:function(e){this._listen("done",e)}},{key:"onStart",value:function(e){this._listen("start",e)}},{key:"onDestroy",value:function(e){this._listen("destroy",e)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset")}},{key:"setPosition",value:function(e){this._command("setPosition",e)}},{key:"getPosition",value:function(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}]),e}();function xt(e,t,n,i,r){return e.setProperty(t,"@@".concat(n,":").concat(i),r)}var Et,Ct,kt,Mt=((Et=function(){function e(t,n,i){_(this,e),this.delegate=t,this.engine=n,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(e,t){t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}return y(e,[{key:"createRenderer",value:function(e,t){var n=this,i=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){var r=this._rendererCache.get(i);return r||(r=new Ot("",i,this.engine),this._rendererCache.set(i,r)),r}var a=t.id,o=t.id+"-"+this._currentId;return this._currentId++,this.engine.register(o,e),t.data.animation.forEach(function t(i){Array.isArray(i)?i.forEach(t):n.engine.registerTrigger(a,o,e,i.name,i)}),new At(this,o,i,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var e=this;this.promise.then(function(){e._microtaskId++})}},{key:"scheduleListenerCallback",value:function(e,t,n){var i=this;e>=0&&e<this._microtaskId?this._zone.run(function(){return t(n)}):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(function(){i._zone.run(function(){i._animationCallbacksBuffer.forEach(function(e){var t=l(e,2);(0,t[0])(t[1])}),i._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([t,n]))}},{key:"end",value:function(){var e=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(function(){e._scheduleCountTask(),e.engine.flush(e._microtaskId)}),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),e}()).\u0275fac=function(e){return new(e||Et)(i.Ub(i.F),i.Ub(tt),i.Ub(i.A))},Et.\u0275prov=i.Gb({token:Et,factory:Et.\u0275fac}),Et),Ot=function(){function e(t,n,i){_(this,e),this.namespaceId=t,this.delegate=n,this.engine=i,this.destroyNode=this.delegate.destroyNode?function(e){return n.destroyNode(e)}:null}return y(e,[{key:"data",get:function(){return this.delegate.data}},{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(e,t){return this.delegate.createElement(e,t)}},{key:"createComment",value:function(e){return this.delegate.createComment(e)}},{key:"createText",value:function(e){return this.delegate.createText(e)}},{key:"appendChild",value:function(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}},{key:"insertBefore",value:function(e,t,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,i)}},{key:"removeChild",value:function(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}},{key:"selectRootElement",value:function(e,t){return this.delegate.selectRootElement(e,t)}},{key:"parentNode",value:function(e){return this.delegate.parentNode(e)}},{key:"nextSibling",value:function(e){return this.delegate.nextSibling(e)}},{key:"setAttribute",value:function(e,t,n,i){this.delegate.setAttribute(e,t,n,i)}},{key:"removeAttribute",value:function(e,t,n){this.delegate.removeAttribute(e,t,n)}},{key:"addClass",value:function(e,t){this.delegate.addClass(e,t)}},{key:"removeClass",value:function(e,t){this.delegate.removeClass(e,t)}},{key:"setStyle",value:function(e,t,n,i){this.delegate.setStyle(e,t,n,i)}},{key:"removeStyle",value:function(e,t,n){this.delegate.removeStyle(e,t,n)}},{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)&&"@.disabled"==t?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}},{key:"setValue",value:function(e,t){this.delegate.setValue(e,t)}},{key:"listen",value:function(e,t,n){return this.delegate.listen(e,t,n)}},{key:"disableAnimations",value:function(e,t){this.engine.disableAnimations(e,t)}}]),e}(),At=function(e){b(n,e);var t=T(n);function n(e,i,r,a){var o;return _(this,n),(o=t.call(this,i,r,a)).factory=e,o.namespaceId=i,o}return y(n,[{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&"@.disabled"==t?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}},{key:"listen",value:function(e,t,n){var i,r,a=this;if("@"==t.charAt(0)){var o,s=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e),u=t.substr(1),c="";return"@"!=u.charAt(0)&&(r=(i=u).indexOf("."),u=(o=l([i.substring(0,r),i.substr(r+1)],2))[0],c=o[1]),this.engine.listen(this.namespaceId,s,u,c,function(e){a.factory.scheduleListenerCallback(e._data||-1,n,e)})}return this.delegate.listen(e,t,n)}}]),n}(Ot),Rt=((Ct=function(e){b(n,e);var t=T(n);function n(e,i,r){return _(this,n),t.call(this,e.body,i,r)}return n}(tt)).\u0275fac=function(e){return new(e||Ct)(i.Ub(bt.d),i.Ub(N),i.Ub(ke))},Ct.\u0275prov=i.Gb({token:Ct,factory:Ct.\u0275fac}),Ct),It=[{provide:N,useFactory:function(){return"function"==typeof yt()?new gt:new mt}},{provide:new i.r("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:a.b,useClass:St},{provide:ke,useFactory:function(){return new Me}},{provide:tt,useClass:Rt},{provide:i.F,useFactory:function(e,t,n){return new Mt(e,t,n)},deps:[r.c,tt,i.A]}],Lt=((kt=function e(){_(this,e)}).\u0275fac=function(e){return new(e||kt)},kt.\u0275mod=i.Ib({type:kt}),kt.\u0275inj=i.Hb({providers:It,imports:[r.a]}),kt)},orbG:function(e,t,n){"use strict";function i(e){return Math.pow(e,3)}function r(e){return 1-i(1-e)}function a(e){return 3*e*e-2*e*e*e}function o(e){return e}n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return o})},"p5/s":function(e,t,n){"use strict";var i=484813681109536e-20,r=Math.PI/2,a=.017453292519943295,o=57.29577951308232,s=Math.PI/4,l=2*Math.PI,u=3.14159265359,c={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667},h={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},d=/[\s_\-\/\(\)]/g;function f(e,t){if(e[t])return e[t];for(var n,i=Object.keys(e),r=t.toLowerCase().replace(d,""),a=-1;++a<i.length;)if((n=i[a]).toLowerCase().replace(d,"")===r)return e[n]}var p=function(e){var t,n,i,r={},o=e.split("+").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,t){var n=t.split("=");return n.push(!0),e[n[0].toLowerCase()]=n[1],e},{}),s={proj:"projName",datum:"datumCode",rf:function(e){r.rf=parseFloat(e)},lat_0:function(e){r.lat0=e*a},lat_1:function(e){r.lat1=e*a},lat_2:function(e){r.lat2=e*a},lat_ts:function(e){r.lat_ts=e*a},lon_0:function(e){r.long0=e*a},lon_1:function(e){r.long1=e*a},lon_2:function(e){r.long2=e*a},alpha:function(e){r.alpha=parseFloat(e)*a},gamma:function(e){r.rectified_grid_angle=parseFloat(e)},lonc:function(e){r.longc=e*a},x_0:function(e){r.x0=parseFloat(e)},y_0:function(e){r.y0=parseFloat(e)},k_0:function(e){r.k0=parseFloat(e)},k:function(e){r.k0=parseFloat(e)},a:function(e){r.a=parseFloat(e)},b:function(e){r.b=parseFloat(e)},r_a:function(){r.R_A=!0},zone:function(e){r.zone=parseInt(e,10)},south:function(){r.utmSouth=!0},towgs84:function(e){r.datum_params=e.split(",").map(function(e){return parseFloat(e)})},to_meter:function(e){r.to_meter=parseFloat(e)},units:function(e){r.units=e;var t=f(h,e);t&&(r.to_meter=t.to_meter)},from_greenwich:function(e){r.from_greenwich=e*a},pm:function(e){var t=f(c,e);r.from_greenwich=(t||parseFloat(e))*a},nadgrids:function(e){"@null"===e?r.datumCode="none":r.nadgrids=e},axis:function(e){3===e.length&&-1!=="ewnsud".indexOf(e.substr(0,1))&&-1!=="ewnsud".indexOf(e.substr(1,1))&&-1!=="ewnsud".indexOf(e.substr(2,1))&&(r.axis=e)},approx:function(){r.approx=!0}};for(t in o)n=o[t],t in s?"function"==typeof(i=s[t])?i(n):r[i]=n:r[t]=n;return"string"==typeof r.datumCode&&"WGS84"!==r.datumCode&&(r.datumCode=r.datumCode.toLowerCase()),r},m=/\s/,v=/[A-Za-z]/,g=/[A-Za-z84]/,y=/[,\]]/,_=/[\d\.E\-\+]/;function b(e){if("string"!=typeof e)throw new Error("not a string");this.text=e.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=1}function S(e,t,n){Array.isArray(t)&&(n.unshift(t),t=null);var i=n.reduce(function(e,t){return T(t,e),e},t?{}:e);t&&(e[t]=i)}function T(e,t){if(Array.isArray(e)){var n=e.shift();if("PARAMETER"===n&&(n=e.shift()),1===e.length)return Array.isArray(e[0])?(t[n]={},void T(e[0],t[n])):void(t[n]=e[0]);if(e.length)if("TOWGS84"!==n){if("AXIS"===n)return n in t||(t[n]=[]),void t[n].push(e);var i;switch(Array.isArray(n)||(t[n]={}),n){case"UNIT":case"PRIMEM":case"VERT_DATUM":return t[n]={name:e[0].toLowerCase(),convert:e[1]},void(3===e.length&&T(e[2],t[n]));case"SPHEROID":case"ELLIPSOID":return t[n]={name:e[0],a:e[1],rf:e[2]},void(4===e.length&&T(e[3],t[n]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return e[0]=["name",e[0]],void S(t,n,e);default:for(i=-1;++i<e.length;)if(!Array.isArray(e[i]))return T(e,t[n]);return S(t,n,e)}}else t[n]=e;else t[n]=!0}else t[e]=!0}function w(e){return.017453292519943295*e}b.prototype.readCharicter=function(){var e=this.text[this.place++];if(4!==this.state)for(;m.test(e);){if(this.place>=this.text.length)return;e=this.text[this.place++]}switch(this.state){case 1:return this.neutral(e);case 2:return this.keyword(e);case 4:return this.quoted(e);case 5:return this.afterquote(e);case 3:return this.number(e);case-1:return}},b.prototype.afterquote=function(e){if('"'===e)return this.word+='"',void(this.state=4);if(y.test(e))return this.word=this.word.trim(),void this.afterItem(e);throw new Error("havn't handled \""+e+'" in afterquote yet, index '+this.place)},b.prototype.afterItem=function(e){return","===e?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=1)):"]"===e?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=1,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},b.prototype.number=function(e){if(!_.test(e)){if(y.test(e))return this.word=parseFloat(this.word),void this.afterItem(e);throw new Error("havn't handled \""+e+'" in number yet, index '+this.place)}this.word+=e},b.prototype.quoted=function(e){'"'!==e?this.word+=e:this.state=5},b.prototype.keyword=function(e){if(g.test(e))this.word+=e;else{if("["===e){var t=[];return t.push(this.word),this.level++,null===this.root?this.root=t:this.currentObject.push(t),this.stack.push(this.currentObject),this.currentObject=t,void(this.state=1)}if(!y.test(e))throw new Error("havn't handled \""+e+'" in keyword yet, index '+this.place);this.afterItem(e)}},b.prototype.neutral=function(e){if(v.test(e))return this.word=e,void(this.state=2);if('"'===e)return this.word="",void(this.state=4);if(_.test(e))return this.word=e,void(this.state=3);if(!y.test(e))throw new Error("havn't handled \""+e+'" in neutral yet, index '+this.place);this.afterItem(e)},b.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var x=function(e){var t=new b(e).output(),n=t.shift(),i=t.shift();t.unshift(["name",i]),t.unshift(["type",n]);var r={};return T(t,r),function(e){if("GEOGCS"===e.type?e.projName="longlat":"LOCAL_CS"===e.type?(e.projName="identity",e.local=!0):e.projName="object"==typeof e.PROJECTION?Object.keys(e.PROJECTION)[0]:e.PROJECTION,e.AXIS){for(var t="",n=0,i=e.AXIS.length;n<i;++n){var r=e.AXIS[n][0].toLowerCase();-1!==r.indexOf("north")?t+="n":-1!==r.indexOf("south")?t+="s":-1!==r.indexOf("east")?t+="e":-1!==r.indexOf("west")&&(t+="w")}2===t.length&&(t+="u"),3===t.length&&(e.axis=t)}e.UNIT&&(e.units=e.UNIT.name.toLowerCase(),"metre"===e.units&&(e.units="meter"),e.UNIT.convert&&("GEOGCS"===e.type?e.DATUM&&e.DATUM.SPHEROID&&(e.to_meter=e.UNIT.convert*e.DATUM.SPHEROID.a):e.to_meter=e.UNIT.convert));var a=e.GEOGCS;function o(t){return t*(e.to_meter||1)}"GEOGCS"===e.type&&(a=e),a&&(e.datumCode=a.DATUM?a.DATUM.name.toLowerCase():a.name.toLowerCase(),"d_"===e.datumCode.slice(0,2)&&(e.datumCode=e.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==e.datumCode&&"new_zealand_1949"!==e.datumCode||(e.datumCode="nzgd49"),"wgs_1984"!==e.datumCode&&"world_geodetic_system_1984"!==e.datumCode||("Mercator_Auxiliary_Sphere"===e.PROJECTION&&(e.sphere=!0),e.datumCode="wgs84"),"_ferro"===e.datumCode.slice(-6)&&(e.datumCode=e.datumCode.slice(0,-6)),"_jakarta"===e.datumCode.slice(-8)&&(e.datumCode=e.datumCode.slice(0,-8)),~e.datumCode.indexOf("belge")&&(e.datumCode="rnb72"),a.DATUM&&a.DATUM.SPHEROID&&(e.ellps=a.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===e.ellps.toLowerCase().slice(0,13)&&(e.ellps="intl"),e.a=a.DATUM.SPHEROID.a,e.rf=parseFloat(a.DATUM.SPHEROID.rf,10)),a.DATUM&&a.DATUM.TOWGS84&&(e.datum_params=a.DATUM.TOWGS84),~e.datumCode.indexOf("osgb_1936")&&(e.datumCode="osgb36"),~e.datumCode.indexOf("osni_1952")&&(e.datumCode="osni52"),(~e.datumCode.indexOf("tm65")||~e.datumCode.indexOf("geodetic_datum_of_1965"))&&(e.datumCode="ire65"),"ch1903+"===e.datumCode&&(e.datumCode="ch1903"),~e.datumCode.indexOf("israel")&&(e.datumCode="isr93")),e.b&&!isFinite(e.b)&&(e.b=e.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",w],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",w],["x0","false_easting",o],["y0","false_northing",o],["long0","central_meridian",w],["lat0","latitude_of_origin",w],["lat0","standard_parallel_1",w],["lat1","standard_parallel_1",w],["lat2","standard_parallel_2",w],["azimuth","Azimuth"],["alpha","azimuth",w],["srsCode","name"]].forEach(function(t){return a=(i=t)[1],void(!((r=i[0])in(n=e))&&a in n&&(n[r]=n[a],3===i.length&&(n[r]=i[2](n[r]))));var n,i,r,a}),e.long0||!e.longc||"Albers_Conic_Equal_Area"!==e.projName&&"Lambert_Azimuthal_Equal_Area"!==e.projName||(e.long0=e.longc),e.lat_ts||!e.lat1||"Stereographic_South_Pole"!==e.projName&&"Polar Stereographic (variant B)"!==e.projName||(e.lat0=w(e.lat1>0?90:-90),e.lat_ts=e.lat1)}(r),r};function E(e){var t=this;if(2===arguments.length){var n=arguments[1];E[e]="string"==typeof n?"+"===n.charAt(0)?p(arguments[1]):x(arguments[1]):n}else if(1===arguments.length){if(Array.isArray(e))return e.map(function(e){Array.isArray(e)?E.apply(t,e):E(e)});if("string"==typeof e){if(e in E)return E[e]}else"EPSG"in e?E["EPSG:"+e.EPSG]=e:"ESRI"in e?E["ESRI:"+e.ESRI]=e:"IAU2000"in e?E["IAU2000:"+e.IAU2000]=e:console.log(e);return}}!function(e){e("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),e("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),e("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),e.WGS84=e["EPSG:4326"],e["EPSG:3785"]=e["EPSG:3857"],e.GOOGLE=e["EPSG:3857"],e["EPSG:900913"]=e["EPSG:3857"],e["EPSG:102113"]=e["EPSG:3857"]}(E);var C=E,k=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"],M=["3857","900913","3785","102113"],O=function(e,t){var n,i;if(e=e||{},!t)return e;for(i in t)void 0!==(n=t[i])&&(e[i]=n);return e},A=function(e,t,n){var i=e*t;return n/Math.sqrt(1-i*i)},R=function(e){return e<0?-1:1},I=function(e){return Math.abs(e)<=u?e:e-R(e)*l},L=function(e,t,n){var i=e*n;return i=Math.pow((1-i)/(1+i),.5*e),Math.tan(.5*(r-t))/i},P=function(e,t){for(var n,i,a=.5*e,o=r-2*Math.atan(t),s=0;s<=15;s++)if(n=e*Math.sin(o),o+=i=r-2*Math.atan(t*Math.pow((1-n)/(1+n),a))-o,Math.abs(i)<=1e-10)return o;return-9999};function D(e){return e}var N=[{init:function(){var e=this.b/this.a;this.es=1-e*e,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.k0=this.sphere?Math.cos(this.lat_ts):A(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k0=this.k?this.k:1)},forward:function(e){var t,n,i=e.x,a=e.y;if(a*o>90&&a*o<-90&&i*o>180&&i*o<-180)return null;if(Math.abs(Math.abs(a)-r)<=1e-10)return null;if(this.sphere)t=this.x0+this.a*this.k0*I(i-this.long0),n=this.y0+this.a*this.k0*Math.log(Math.tan(s+.5*a));else{var l=Math.sin(a),u=L(this.e,a,l);t=this.x0+this.a*this.k0*I(i-this.long0),n=this.y0-this.a*this.k0*Math.log(u)}return e.x=t,e.y=n,e},inverse:function(e){var t,n,i=e.x-this.x0,a=e.y-this.y0;if(this.sphere)n=r-2*Math.atan(Math.exp(-a/(this.a*this.k0)));else{var o=Math.exp(-a/(this.a*this.k0));if(-9999===(n=P(this.e,o)))return null}return t=I(this.long0+i/(this.a*this.k0)),e.x=t,e.y=n,e},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{init:function(){},forward:D,inverse:D,names:["longlat","identity"]}],j={},F=[];function U(e,t){var n=F.length;return e.names?(F[n]=e,e.names.forEach(function(e){j[e.toLowerCase()]=n}),this):(console.log(t),!0)}var G={start:function(){N.forEach(U)},add:U,get:function(e){if(!e)return!1;var t=e.toLowerCase();return void 0!==j[t]&&F[j[t]]?F[j[t]]:void 0}},V={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},B=V.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};V.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var z={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},osni52:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}},H={};function X(e){if(0===e.length)return null;var t="@"===e[0];return t&&(e=e.slice(1)),"null"===e?{name:"null",mandatory:!t,grid:null,isNull:!0}:{name:e,mandatory:!t,grid:H[e]||null,isNull:!1}}function q(e){return e/3600*Math.PI/180}function W(e,t,n){return String.fromCharCode.apply(null,new Uint8Array(e.buffer.slice(t,n)))}function Y(e){return e.map(function(e){return[q(e.longitudeShift),q(e.latitudeShift)]})}function K(e,t,n){return{name:W(e,t+8,t+16).trim(),parent:W(e,t+24,t+24+8).trim(),lowerLatitude:e.getFloat64(t+72,n),upperLatitude:e.getFloat64(t+88,n),lowerLongitude:e.getFloat64(t+104,n),upperLongitude:e.getFloat64(t+120,n),latitudeInterval:e.getFloat64(t+136,n),longitudeInterval:e.getFloat64(t+152,n),gridNodeCount:e.getInt32(t+168,n)}}function Z(e,t,n,i){for(var r=t+176,a=[],o=0;o<n.gridNodeCount;o++){var s={latitudeShift:e.getFloat32(r+16*o,i),longitudeShift:e.getFloat32(r+16*o+4,i),latitudeAccuracy:e.getFloat32(r+16*o+8,i),longitudeAccuracy:e.getFloat32(r+16*o+12,i)};a.push(s)}return a}function J(e,t){if(!(this instanceof J))return new J(e);t=t||function(e){if(e)throw e};var n=function(e){if(!function(e){return"string"==typeof e}(e))return e;if(function(e){return e in C}(e))return C[e];if(function(e){return k.some(function(t){return e.indexOf(t)>-1})}(e)){var t=x(e);if(function(e){var t=f(e,"authority");if(t){var n=f(t,"epsg");return n&&M.indexOf(n)>-1}}(t))return C["EPSG:3857"];var n=function(e){var t=f(e,"extension");if(t)return f(t,"proj4")}(t);return n?p(n):t}return function(e){return"+"===e[0]}(e)?p(e):void 0}(e);if("object"==typeof n){var r=J.projections.get(n.projName);if(r){if(n.datumCode&&"none"!==n.datumCode){var a=f(z,n.datumCode);a&&(n.datum_params=n.datum_params||(a.towgs84?a.towgs84.split(","):null),n.ellps=a.ellipse,n.datumName=a.datumName?a.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84",n.lat1=n.lat1||n.lat0;var o,s,l,u,c,h,d=function(e,t,n,i,r){if(!e){var a=f(V,i);a||(a=B),e=a.a,t=a.b,n=a.rf}return n&&!t&&(t=(1-1/n)*e),(0===n||Math.abs(e-t)<1e-10)&&(r=!0,t=e),{a:e,b:t,rf:n,sphere:r}}(n.a,n.b,n.rf,n.ellps,n.sphere),m=(c=((l=(o=d.a)*o)-(u=(s=d.b)*s))/l,h=0,n.R_A?(l=(o*=1-c*(.16666666666666666+c*(.04722222222222222+.022156084656084655*c)))*o,c=0):h=Math.sqrt(c),{es:c,e:h,ep2:(l-u)/u}),v=function(e){return void 0===e?null:e.split(",").map(X)}(n.nadgrids),g=n.datum||function(e,t,n,r,a,o,s){var l={};return l.datum_type=void 0===e||"none"===e?5:4,t&&(l.datum_params=t.map(parseFloat),0===l.datum_params[0]&&0===l.datum_params[1]&&0===l.datum_params[2]||(l.datum_type=1),l.datum_params.length>3&&(0===l.datum_params[3]&&0===l.datum_params[4]&&0===l.datum_params[5]&&0===l.datum_params[6]||(l.datum_type=2,l.datum_params[3]*=i,l.datum_params[4]*=i,l.datum_params[5]*=i,l.datum_params[6]=l.datum_params[6]/1e6+1))),s&&(l.datum_type=3,l.grids=s),l.a=n,l.b=r,l.es=a,l.ep2=o,l}(n.datumCode,n.datum_params,d.a,d.b,m.es,m.ep2,v);O(this,n),O(this,r),this.a=d.a,this.b=d.b,this.rf=d.rf,this.sphere=d.sphere,this.es=m.es,this.e=m.e,this.ep2=m.ep2,this.datum=g,this.init(),t(null,this)}else t(e)}else t(e)}(J.projections=G).start();var Q=J;function $(e,t,n){var i,a,o,s=e.x,l=e.y,u=e.z?e.z:0;if(l<-r&&l>-1.001*r)l=-r;else if(l>r&&l<1.001*r)l=r;else{if(l<-r)return{x:-1/0,y:-1/0,z:e.z};if(l>r)return{x:1/0,y:1/0,z:e.z}}return s>Math.PI&&(s-=2*Math.PI),a=Math.sin(l),o=Math.cos(l),{x:((i=n/Math.sqrt(1-t*(a*a)))+u)*o*Math.cos(s),y:(i+u)*o*Math.sin(s),z:(i*(1-t)+u)*a}}function ee(e,t,n,i){var r,a,o,s,l,u,c,h,d,f,p,m,v,g,y,_=e.x,b=e.y,S=e.z?e.z:0;if(r=Math.sqrt(_*_+b*b),a=Math.sqrt(_*_+b*b+S*S),r/n<1e-12){if(g=0,a/n<1e-12)return y=-i,{x:e.x,y:e.y,z:e.z}}else g=Math.atan2(b,_);o=S/a,h=(s=r/a)*(1-t)*(l=1/Math.sqrt(1-t*(2-t)*s*s)),d=o*l,v=0;do{v++,u=t*(c=n/Math.sqrt(1-t*d*d))/(c+(y=r*h+S*d-c*(1-t*d*d))),m=(p=o*(l=1/Math.sqrt(1-u*(2-u)*s*s)))*h-(f=s*(1-u)*l)*d,h=f,d=p}while(m*m>1e-24&&v<30);return{x:g,y:Math.atan(p/Math.abs(f)),z:y}}function te(e){return 1===e||2===e}function ne(e,t,n){if(null===e.grids||0===e.grids.length)return console.log("Grid shift grids not found"),-1;for(var i={x:-n.x,y:n.y},r={x:Number.NaN,y:Number.NaN},a=[],s=0;s<e.grids.length;s++){var l=e.grids[s];if(a.push(l.name),l.isNull){r=i;break}if(null!==l.grid){var u=l.grid.subgrids[0],c=(Math.abs(u.del[1])+Math.abs(u.del[0]))/1e4;if(!(u.ll[1]-c>i.y||u.ll[0]-c>i.x||u.ll[1]+(u.lim[1]-1)*u.del[1]+c<i.y||u.ll[0]+(u.lim[0]-1)*u.del[0]+c<i.x||(r=ie(i,t,u),isNaN(r.x))))break}else if(l.mandatory)return console.log("Unable to find mandatory grid '"+l.name+"'"),-1}return isNaN(r.x)?(console.log("Failed to find a grid shift table for location '"+-i.x*o+" "+i.y*o+" tried: '"+a+"'"),-1):(n.x=-r.x,n.y=r.y,0)}function ie(e,t,n){var i={x:Number.NaN,y:Number.NaN};if(isNaN(e.x))return i;var r={x:e.x,y:e.y};r.x-=n.ll[0],r.y-=n.ll[1],r.x=I(r.x-Math.PI)+Math.PI;var a=re(r,n);if(t){if(isNaN(a.x))return i;a.x=r.x-a.x,a.y=r.y-a.y;var o,s,l=9;do{if(s=re(a,n),isNaN(s.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}a.x+=(o={x:r.x-(s.x+a.x),y:r.y-(s.y+a.y)}).x,a.y+=o.y}while(l--&&Math.abs(o.x)>1e-12&&Math.abs(o.y)>1e-12);if(l<0)return console.log("Inverse grid shift iterator failed to converge."),i;i.x=I(a.x+n.ll[0]),i.y=a.y+n.ll[1]}else isNaN(a.x)||(i.x=e.x+a.x,i.y=e.y+a.y);return i}function re(e,t){var n,i={x:e.x/t.del[0],y:e.y/t.del[1]},r=Math.floor(i.x),a=Math.floor(i.y),o=i.x-1*r,s=i.y-1*a,l={x:Number.NaN,y:Number.NaN};if(r<0||r>=t.lim[0])return l;if(a<0||a>=t.lim[1])return l;var u=t.cvs[n=a*t.lim[0]+r][0],c=t.cvs[n][1];n++;var h=t.cvs[n][0],d=t.cvs[n][1],f=t.cvs[n+=t.lim[0]][0],p=t.cvs[n][1];n--;var m=t.cvs[n][1],v=o*s,g=o*(1-s),y=(1-o)*(1-s),_=(1-o)*s;return l.x=y*u+g*h+_*t.cvs[n][0]+v*f,l.y=y*c+g*d+_*m+v*p,l}var ae=function(e,t,n){var i,r,a,o=n.x,s=n.y,l=n.z||0,u={};for(a=0;a<3;a++)if(!t||2!==a||void 0!==n.z)switch(0===a?(i=o,r=-1!=="ew".indexOf(e.axis[a])?"x":"y"):1===a?(i=s,r=-1!=="ns".indexOf(e.axis[a])?"y":"x"):(i=l,r="z"),e.axis[a]){case"e":u[r]=i;break;case"w":u[r]=-i;break;case"n":u[r]=i;break;case"s":u[r]=-i;break;case"u":void 0!==n[r]&&(u.z=i);break;case"d":void 0!==n[r]&&(u.z=-i);break;default:return null}return u},oe=function(e){var t={x:e[0],y:e[1]};return e.length>2&&(t.z=e[2]),e.length>3&&(t.m=e[3]),t};function se(e){if("function"==typeof Number.isFinite){if(Number.isFinite(e))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof e||e!=e||!isFinite(e))throw new TypeError("coordinates must be finite numbers")}function le(e,t,n){var i;if(Array.isArray(n)&&(n=oe(n)),function(e){se(e.x),se(e.y)}(n),e.datum&&t.datum&&function(e,t){return(1===e.datum.datum_type||2===e.datum.datum_type)&&"WGS84"!==t.datumCode||(1===t.datum.datum_type||2===t.datum.datum_type)&&"WGS84"!==e.datumCode}(e,t)&&(n=le(e,i=new Q("WGS84"),n),e=i),"enu"!==e.axis&&(n=ae(e,!1,n)),"longlat"===e.projName)n={x:n.x*a,y:n.y*a,z:n.z||0};else if(e.to_meter&&(n={x:n.x*e.to_meter,y:n.y*e.to_meter,z:n.z||0}),!(n=e.inverse(n)))return;if(e.from_greenwich&&(n.x+=e.from_greenwich),n=function(e,t,n){if(function(e,t){return e.datum_type===t.datum_type&&!(e.a!==t.a||Math.abs(e.es-t.es)>5e-11)&&(1===e.datum_type?e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]:2!==e.datum_type||e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]&&e.datum_params[3]===t.datum_params[3]&&e.datum_params[4]===t.datum_params[4]&&e.datum_params[5]===t.datum_params[5]&&e.datum_params[6]===t.datum_params[6])}(e,t))return n;if(5===e.datum_type||5===t.datum_type)return n;var i=e.a,r=e.es;if(3===e.datum_type){if(0!==ne(e,!1,n))return;i=6378137,r=.0066943799901413165}var a=t.a,o=t.b,s=t.es;return 3===t.datum_type&&(a=6378137,o=6356752.314,s=.0066943799901413165),r!==s||i!==a||te(e.datum_type)||te(t.datum_type)?(n=$(n,r,i),te(e.datum_type)&&(n=function(e,t,n){if(1===t)return{x:e.x+n[0],y:e.y+n[1],z:e.z+n[2]};if(2===t){var i=n[3],r=n[4],a=n[5],o=n[6];return{x:o*(e.x-a*e.y+r*e.z)+n[0],y:o*(a*e.x+e.y-i*e.z)+n[1],z:o*(-r*e.x+i*e.y+e.z)+n[2]}}}(n,e.datum_type,e.datum_params)),te(t.datum_type)&&(n=function(e,t,n){if(1===t)return{x:e.x-n[0],y:e.y-n[1],z:e.z-n[2]};if(2===t){var i=n[3],r=n[4],a=n[5],o=n[6],s=(e.x-n[0])/o,l=(e.y-n[1])/o,u=(e.z-n[2])/o;return{x:s+a*l-r*u,y:-a*s+l+i*u,z:r*s-i*l+u}}}(n,t.datum_type,t.datum_params)),n=ee(n,s,a,o),3!==t.datum_type||0===ne(t,!0,n)?n:void 0):n}(e.datum,t.datum,n))return t.from_greenwich&&(n={x:n.x-t.from_greenwich,y:n.y,z:n.z||0}),"longlat"===t.projName?n={x:n.x*o,y:n.y*o,z:n.z||0}:(n=t.forward(n),t.to_meter&&(n={x:n.x/t.to_meter,y:n.y/t.to_meter,z:n.z||0})),"enu"!==t.axis?ae(t,!0,n):n}var ue=Q("WGS84");function ce(e,t,n){var i,r,a;return Array.isArray(n)?(i=le(e,t,n)||{x:NaN,y:NaN},n.length>2?void 0!==e.name&&"geocent"===e.name||void 0!==t.name&&"geocent"===t.name?"number"==typeof i.z?[i.x,i.y,i.z].concat(n.splice(3)):[i.x,i.y,n[2]].concat(n.splice(3)):[i.x,i.y].concat(n.splice(2)):[i.x,i.y]):(r=le(e,t,n),2===(a=Object.keys(n)).length||a.forEach(function(i){if(void 0!==e.name&&"geocent"===e.name||void 0!==t.name&&"geocent"===t.name){if("x"===i||"y"===i||"z"===i)return}else if("x"===i||"y"===i)return;r[i]=n[i]}),r)}function he(e){return e instanceof Q?e:e.oProj?e.oProj:Q(e)}var de=function(e,t,n){e=he(e);var i,r=!1;return void 0===t?(t=e,e=ue,r=!0):(void 0!==t.x||Array.isArray(t))&&(n=t,t=e,e=ue,r=!0),t=he(t),n?ce(e,t,n):(i={forward:function(n){return ce(e,t,n)},inverse:function(n){return ce(t,e,n)}},r&&(i.oProj=t),i)},fe=73,pe=79,me={forward:ve,inverse:function(e){var t=be(Te(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat,t.lon,t.lat]:[t.left,t.bottom,t.right,t.top]},toPoint:ge};function ve(e,t){return t=t||5,function(e,t){var n,i,r,a,o,s,l,u,c,h,d,f="00000"+e.easting,p="00000"+e.northing;return e.zoneNumber+e.zoneLetter+(c=e.easting,h=e.northing,d=Se(e.zoneNumber),n=Math.floor(c/1e5),i=Math.floor(h/1e5)%20,a="AJSAJS".charCodeAt(r=d-1),o="AFAFAF".charCodeAt(r),u=!1,(s=a+n-1)>90&&(s=s-90+65-1,u=!0),(s===fe||a<fe&&s>fe||(s>fe||a<fe)&&u)&&s++,(s===pe||a<pe&&s>pe||(s>pe||a<pe)&&u)&&++s===fe&&s++,s>90&&(s=s-90+65-1),(l=o+i)>86?(l=l-86+65-1,u=!0):u=!1,(l===fe||o<fe&&l>fe||(l>fe||o<fe)&&u)&&l++,(l===pe||o<pe&&l>pe||(l>pe||o<pe)&&u)&&++l===fe&&l++,l>86&&(l=l-86+65-1),String.fromCharCode(s)+String.fromCharCode(l))+f.substr(f.length-5,t)+p.substr(p.length-5,t)}(function(e){var t,n,i,r,a,o,s=e.lat,l=e.lon,u=6378137,c=ye(s),h=ye(l);o=Math.floor((l+180)/6)+1,180===l&&(o=60),s>=56&&s<64&&l>=3&&l<12&&(o=32),s>=72&&s<84&&(l>=0&&l<9?o=31:l>=9&&l<21?o=33:l>=21&&l<33?o=35:l>=33&&l<42&&(o=37)),a=ye(6*(o-1)-180+3),t=u/Math.sqrt(1-.00669438*Math.sin(c)*Math.sin(c)),n=Math.tan(c)*Math.tan(c),i=.006739496752268451*Math.cos(c)*Math.cos(c);var d,f,p=.9996*t*((r=Math.cos(c)*(h-a))+(1-n+i)*r*r*r/6+(5-18*n+n*n+72*i-.39089081163157013)*r*r*r*r*r/120)+5e5,m=.9996*(u*(.9983242984503243*c-.002514607064228144*Math.sin(2*c)+2639046602129982e-21*Math.sin(4*c)-3.418046101696858e-9*Math.sin(6*c))+t*Math.tan(c)*(r*r/2+(5-n+9*i+4*i*i)*r*r*r*r/24+(61-58*n+n*n+600*i-2.2240339282485886)*r*r*r*r*r*r/720));return s<0&&(m+=1e7),{northing:Math.round(m),easting:Math.round(p),zoneNumber:o,zoneLetter:(d=s,f="Z",84>=d&&d>=72?f="X":72>d&&d>=64?f="W":64>d&&d>=56?f="V":56>d&&d>=48?f="U":48>d&&d>=40?f="T":40>d&&d>=32?f="S":32>d&&d>=24?f="R":24>d&&d>=16?f="Q":16>d&&d>=8?f="P":8>d&&d>=0?f="N":0>d&&d>=-8?f="M":-8>d&&d>=-16?f="L":-16>d&&d>=-24?f="K":-24>d&&d>=-32?f="J":-32>d&&d>=-40?f="H":-40>d&&d>=-48?f="G":-48>d&&d>=-56?f="F":-56>d&&d>=-64?f="E":-64>d&&d>=-72?f="D":-72>d&&d>=-80&&(f="C"),f)}}({lat:e[1],lon:e[0]}),t)}function ge(e){var t=be(Te(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat]:[(t.left+t.right)/2,(t.top+t.bottom)/2]}function ye(e){return e*(Math.PI/180)}function _e(e){return e/Math.PI*180}function be(e){var t=e.northing,n=e.easting,i=e.zoneLetter,r=e.zoneNumber;if(r<0||r>60)return null;var a,o,s,l,u,c,h,d,f=6378137,p=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),m=n-5e5,v=t;i<"N"&&(v-=1e7),c=6*(r-1)-180+3,d=(h=v/.9996/6367449.145945056)+(3*p/2-27*p*p*p/32)*Math.sin(2*h)+(21*p*p/16-55*p*p*p*p/32)*Math.sin(4*h)+151*p*p*p/96*Math.sin(6*h),a=f/Math.sqrt(1-.00669438*Math.sin(d)*Math.sin(d)),o=Math.tan(d)*Math.tan(d),s=.006739496752268451*Math.cos(d)*Math.cos(d),l=.99330562*f/Math.pow(1-.00669438*Math.sin(d)*Math.sin(d),1.5),u=m/(.9996*a);var g=d-a*Math.tan(d)/l*(u*u/2-(5+3*o+10*s-4*s*s-.06065547077041606)*u*u*u*u/24+(61+90*o+298*s+45*o*o-1.6983531815716497-3*s*s)*u*u*u*u*u*u/720);g=_e(g);var y,_=(u-(1+2*o+s)*u*u*u/6+(5-2*s+28*o-3*s*s+.05391597401814761+24*o*o)*u*u*u*u*u/120)/Math.cos(d);if(_=c+_e(_),e.accuracy){var b=be({northing:e.northing+e.accuracy,easting:e.easting+e.accuracy,zoneLetter:e.zoneLetter,zoneNumber:e.zoneNumber});y={top:b.lat,right:b.lon,bottom:g,left:_}}else y={lat:g,lon:_};return y}function Se(e){var t=e%6;return 0===t&&(t=6),t}function Te(e){if(e&&0===e.length)throw"MGRSPoint coverting from nothing";for(var t,n=e.length,i=null,r="",a=0;!/[A-Z]/.test(t=e.charAt(a));){if(a>=2)throw"MGRSPoint bad conversion from: "+e;r+=t,a++}var o=parseInt(r,10);if(0===a||a+3>n)throw"MGRSPoint bad conversion from: "+e;var s=e.charAt(a++);if(s<="A"||"B"===s||"Y"===s||s>="Z"||"I"===s||"O"===s)throw"MGRSPoint zone letter "+s+" not handled: "+e;i=e.substring(a,a+=2);for(var l=Se(o),u=function(e,t){for(var n="AJSAJS".charCodeAt(t-1),i=1e5,r=!1;n!==e.charCodeAt(0);){if(++n===fe&&n++,n===pe&&n++,n>90){if(r)throw"Bad character: "+e;n=65,r=!0}i+=1e5}return i}(i.charAt(0),l),c=function(e,t){if(e>"V")throw"MGRSPoint given invalid Northing "+e;for(var n="AFAFAF".charCodeAt(t-1),i=0,r=!1;n!==e.charCodeAt(0);){if(++n===fe&&n++,n===pe&&n++,n>86){if(r)throw"Bad character: "+e;n=65,r=!0}i+=1e5}return i}(i.charAt(1),l);c<we(s);)c+=2e6;var h=n-a;if(h%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+e;var d,f,p,m=h/2,v=0,g=0;return m>0&&(d=1e5/Math.pow(10,m),f=e.substring(a,a+m),v=parseFloat(f)*d,p=e.substring(a+m),g=parseFloat(p)*d),{easting:v+u,northing:g+c,zoneLetter:s,zoneNumber:o,accuracy:d}}function we(e){var t;switch(e){case"C":t=11e5;break;case"D":t=2e6;break;case"E":t=28e5;break;case"F":t=37e5;break;case"G":t=46e5;break;case"H":t=55e5;break;case"J":t=64e5;break;case"K":t=73e5;break;case"L":t=82e5;break;case"M":t=91e5;break;case"N":t=0;break;case"P":t=8e5;break;case"Q":t=17e5;break;case"R":t=26e5;break;case"S":t=35e5;break;case"T":t=44e5;break;case"U":t=53e5;break;case"V":t=62e5;break;case"W":t=7e6;break;case"X":t=79e5;break;default:t=-1}if(t>=0)return t;throw"Invalid zone letter: "+e}function xe(e,t,n){if(!(this instanceof xe))return new xe(e,t,n);if(Array.isArray(e))this.x=e[0],this.y=e[1],this.z=e[2]||0;else if("object"==typeof e)this.x=e.x,this.y=e.y,this.z=e.z||0;else if("string"==typeof e&&void 0===t){var i=e.split(",");this.x=parseFloat(i[0],10),this.y=parseFloat(i[1],10),this.z=parseFloat(i[2],10)||0}else this.x=e,this.y=t,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}xe.fromMGRS=function(e){return new xe(ge(e))},xe.prototype.toMGRS=function(e){return ve([this.x,this.y],e)};var Ee=xe,Ce=.01068115234375,ke=function(e){var t=[];t[0]=1-e*(.25+e*(.046875+e*(.01953125+e*Ce))),t[1]=e*(.75-e*(.046875+e*(.01953125+e*Ce)));var n=e*e;return t[2]=n*(.46875-e*(.013020833333333334+.007120768229166667*e)),t[3]=(n*=e)*(.3645833333333333-.005696614583333333*e),t[4]=n*e*.3076171875,t},Me=function(e,t,n,i){return i[0]*e-(n*=t)*(i[1]+(t*=t)*(i[2]+t*(i[3]+t*i[4])))},Oe=function(e,t,n){for(var i=1/(1-t),r=e,a=20;a;--a){var o=Math.sin(r),s=1-t*o*o;if(r-=s=(Me(r,o,Math.cos(r),n)-e)*(s*Math.sqrt(s))*i,Math.abs(s)<1e-10)return r}return r},Ae={init:function(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=ke(this.es),this.ml0=Me(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function(e){var t,n,i,r=e.y,a=I(e.x-this.long0),o=Math.sin(r),s=Math.cos(r);if(this.es){var l=s*a,u=Math.pow(l,2),c=this.ep2*Math.pow(s,2),h=Math.pow(c,2),d=Math.abs(s)>1e-10?Math.tan(r):0,f=Math.pow(d,2),p=Math.pow(f,2);t=1-this.es*Math.pow(o,2),l/=Math.sqrt(t);var m=Me(r,o,s,this.en);n=this.a*(this.k0*l*(1+u/6*(1-f+c+u/20*(5-18*f+p+14*c-58*f*c+u/42*(61+179*p-p*f-479*f)))))+this.x0,i=this.a*(this.k0*(m-this.ml0+o*a*l/2*(1+u/12*(5-f+9*c+4*h+u/30*(61+p-58*f+270*c-330*f*c+u/56*(1385+543*p-p*f-3111*f))))))+this.y0}else{var v=s*Math.sin(a);if(Math.abs(Math.abs(v)-1)<1e-10)return 93;if(n=.5*this.a*this.k0*Math.log((1+v)/(1-v))+this.x0,i=s*Math.cos(a)/Math.sqrt(1-Math.pow(v,2)),(v=Math.abs(i))>=1){if(v-1>1e-10)return 93;i=0}else i=Math.acos(i);r<0&&(i=-i),i=this.a*this.k0*(i-this.lat0)+this.y0}return e.x=n,e.y=i,e},inverse:function(e){var t,n,i,a,o=1/this.a*(e.x-this.x0),s=1/this.a*(e.y-this.y0);if(this.es)if(n=Oe(t=this.ml0+s/this.k0,this.es,this.en),Math.abs(n)<r){var l=Math.sin(n),u=Math.cos(n),c=Math.abs(u)>1e-10?Math.tan(n):0,h=this.ep2*Math.pow(u,2),d=Math.pow(h,2),f=Math.pow(c,2),p=Math.pow(f,2);t=1-this.es*Math.pow(l,2);var m=o*Math.sqrt(t)/this.k0,v=Math.pow(m,2);i=n-(t*=c)*v/(1-this.es)*.5*(1-v/12*(5+3*f-9*h*f+h-4*d-v/30*(61+90*f-252*h*f+45*p+46*h-v/56*(1385+3633*f+4095*p+1574*p*f)))),a=I(this.long0+m*(1-v/6*(1+2*f+h-v/20*(5+28*f+24*p+8*h*f+6*h-v/42*(61+662*f+1320*p+720*p*f))))/u)}else i=r*R(s),a=0;else{var g=Math.exp(o/this.k0),y=.5*(g-1/g),_=Math.cos(this.lat0+s/this.k0);t=Math.sqrt((1-Math.pow(_,2))/(1+Math.pow(y,2))),i=Math.asin(t),s<0&&(i=-i),a=0===y&&0===_?0:I(Math.atan2(y,_)+this.long0)}return e.x=a,e.y=i,e},names:["Fast_Transverse_Mercator","Fast Transverse Mercator"]},Re=function(e){var t=Math.exp(e);return(t-1/t)/2},Ie=function(e,t){e=Math.abs(e),t=Math.abs(t);var n=Math.max(e,t),i=Math.min(e,t)/(n||1);return n*Math.sqrt(1+Math.pow(i,2))},Le=function(e,t){for(var n,i=2*Math.cos(2*t),r=e.length-1,a=e[r],o=0;--r>=0;)n=i*a-o+e[r],o=a,a=n;return t+n*Math.sin(2*t)},Pe=function(e,t,n){for(var i,r,a=Math.sin(t),o=Math.cos(t),s=Re(n),l=function(e){var t=Math.exp(e);return(t+1/t)/2}(n),u=2*o*l,c=-2*a*s,h=e.length-1,d=e[h],f=0,p=0,m=0;--h>=0;)i=p,r=f,d=u*(p=d)-i-c*(f=m)+e[h],m=c*p-r+u*f;return[(u=a*l)*d-(c=o*s)*m,u*m+c*d]},De={init:function(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(Ae.init.apply(this),this.forward=Ae.forward,this.inverse=Ae.inverse),this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var e=this.es/(1+Math.sqrt(1-this.es)),t=e/(2-e),n=t;this.cgb[0]=t*(2+t*(-2/3+t*(t*(116/45+t*(26/45+t*(-2854/675)))-2))),this.cbg[0]=t*(t*(2/3+t*(4/3+t*(-82/45+t*(32/45+t*(4642/4725)))))-2),this.cgb[1]=(n*=t)*(7/3+t*(t*(-227/45+t*(2704/315+t*(2323/945)))-1.6)),this.cbg[1]=n*(5/3+t*(-16/15+t*(-13/9+t*(904/315+t*(-1522/945))))),this.cgb[2]=(n*=t)*(56/15+t*(-136/35+t*(-1262/105+t*(73814/2835)))),this.cbg[2]=n*(-26/15+t*(34/21+t*(1.6+t*(-12686/2835)))),this.cgb[3]=(n*=t)*(4279/630+t*(-332/35+t*(-399572/14175))),this.cbg[3]=n*(1237/630+t*(t*(-24832/14175)-2.4)),this.cgb[4]=(n*=t)*(4174/315+t*(-144838/6237)),this.cbg[4]=n*(-734/315+t*(109598/31185)),this.cgb[5]=(n*=t)*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(t,2),this.Qn=this.k0/(1+t)*(1+n*(1/4+n*(1/64+n/256))),this.utg[0]=t*(t*(2/3+t*(-37/96+t*(1/360+t*(81/512+t*(-96199/604800)))))-.5),this.gtu[0]=t*(.5+t*(-2/3+t*(5/16+t*(41/180+t*(-127/288+t*(7891/37800)))))),this.utg[1]=n*(-1/48+t*(-1/15+t*(437/1440+t*(-46/105+t*(1118711/3870720))))),this.gtu[1]=n*(13/48+t*(t*(557/1440+t*(281/630+t*(-1983433/1935360)))-.6)),this.utg[2]=(n*=t)*(-17/480+t*(37/840+t*(209/4480+t*(-5569/90720)))),this.gtu[2]=n*(61/240+t*(-103/140+t*(15061/26880+t*(167603/181440)))),this.utg[3]=(n*=t)*(-4397/161280+t*(11/504+t*(830251/7257600))),this.gtu[3]=n*(49561/161280+t*(-179/168+t*(6601661/7257600))),this.utg[4]=(n*=t)*(-4583/161280+t*(108847/3991680)),this.gtu[4]=n*(34729/80640+t*(-3418889/1995840)),this.utg[5]=(n*=t)*(-20648693/638668800),this.gtu[5]=.6650675310896665*n;var i=Le(this.cbg,this.lat0);this.Zb=-this.Qn*(i+function(e,t){for(var n,i=2*Math.cos(t),r=e.length-1,a=e[r],o=0;--r>=0;)n=i*a-o+e[r],o=a,a=n;return Math.sin(t)*n}(this.gtu,2*i))},forward:function(e){var t=I(e.x-this.long0),n=e.y;n=Le(this.cbg,n);var i=Math.sin(n),r=Math.cos(n),a=Math.sin(t),o=Math.cos(t);n=Math.atan2(i,o*r),t=Math.atan2(a*r,Ie(i,r*o)),t=function(e){var t=Math.abs(e);return t=function(e){var t=1+e,n=t-1;return 0===n?e:e*Math.log(t)/n}(t*(1+t/(Ie(1,t)+1))),e<0?-t:t}(Math.tan(t));var s,l,u=Pe(this.gtu,2*n,2*t);return n+=u[0],t+=u[1],Math.abs(t)<=2.623395162778?(s=this.a*(this.Qn*t)+this.x0,l=this.a*(this.Qn*n+this.Zb)+this.y0):(s=1/0,l=1/0),e.x=s,e.y=l,e},inverse:function(e){var t,n,i=1/this.a*(e.x-this.x0),r=1/this.a*(e.y-this.y0);if(r=(r-this.Zb)/this.Qn,i/=this.Qn,Math.abs(i)<=2.623395162778){var a=Pe(this.utg,2*r,2*i);r+=a[0],i+=a[1],i=Math.atan(Re(i));var o=Math.sin(r),s=Math.cos(r),l=Math.sin(i),u=Math.cos(i);r=Math.atan2(o*u,Ie(l,u*s)),i=Math.atan2(l,u*s),t=I(i+this.long0),n=Le(this.cgb,r)}else t=1/0,n=1/0;return e.x=t,e.y=n,e},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","tmerc"]},Ne={init:function(){var e=function(e,t){if(void 0===e){if((e=Math.floor(30*(I(t)+Math.PI)/Math.PI)+1)<0)return 0;if(e>60)return 60}return e}(this.zone,this.long0);if(void 0===e)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(e)-183)*a,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,De.init.apply(this),this.forward=De.forward,this.inverse=De.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"},je=function(e,t){return Math.pow((1-e)/(1+e),t)},Fe={init:function(){var e=Math.sin(this.lat0),t=Math.cos(this.lat0);t*=t,this.rc=Math.sqrt(1-this.es)/(1-this.es*e*e),this.C=Math.sqrt(1+this.es*t*t/(1-this.es)),this.phic0=Math.asin(e/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+s)/(Math.pow(Math.tan(.5*this.lat0+s),this.C)*je(this.e*e,this.ratexp))},forward:function(e){var t=e.x,n=e.y;return e.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+s),this.C)*je(this.e*Math.sin(n),this.ratexp))-r,e.x=this.C*t,e},inverse:function(e){for(var t=e.x/this.C,n=e.y,i=Math.pow(Math.tan(.5*n+s)/this.K,1/this.C),a=20;a>0&&(n=2*Math.atan(i*je(this.e*Math.sin(e.y),-.5*this.e))-r,!(Math.abs(n-e.y)<1e-14));--a)e.y=n;return a?(e.x=t,e.y=n,e):null},names:["gauss"]},Ue={init:function(){Fe.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function(e){var t,n,i,r;return e.x=I(e.x-this.long0),Fe.forward.apply(this,[e]),t=Math.sin(e.y),n=Math.cos(e.y),i=Math.cos(e.x),e.x=(r=this.k0*this.R2/(1+this.sinc0*t+this.cosc0*n*i))*n*Math.sin(e.x),e.y=r*(this.cosc0*t-this.sinc0*n*i),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e},inverse:function(e){var t,n,i,r,a;if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,a=Math.sqrt(e.x*e.x+e.y*e.y)){var o=2*Math.atan2(a,this.R2);t=Math.sin(o),n=Math.cos(o),r=Math.asin(n*this.sinc0+e.y*t*this.cosc0/a),i=Math.atan2(e.x*t,a*this.cosc0*n-e.y*this.sinc0*t)}else r=this.phic0,i=0;return e.x=i,e.y=r,Fe.inverse.apply(this,[e]),e.x=I(e.x+this.long0),e},names:["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"]},Ge={init:function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=1e-10&&(this.k0=.5*(1+R(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=1e-10&&(this.con=this.lat0>0?1:-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=1e-10&&(this.k0=.5*this.cons*A(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/L(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=A(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-r,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function(e){var t,n,i,a,o,s,l=e.x,u=e.y,c=Math.sin(u),h=Math.cos(u),d=I(l-this.long0);return Math.abs(Math.abs(l-this.long0)-Math.PI)<=1e-10&&Math.abs(u+this.lat0)<=1e-10?(e.x=NaN,e.y=NaN,e):this.sphere?(t=2*this.k0/(1+this.sinlat0*c+this.coslat0*h*Math.cos(d)),e.x=this.a*t*h*Math.sin(d)+this.x0,e.y=this.a*t*(this.coslat0*c-this.sinlat0*h*Math.cos(d))+this.y0,e):(n=2*Math.atan(this.ssfn_(u,c,this.e))-r,a=Math.cos(n),i=Math.sin(n),Math.abs(this.coslat0)<=1e-10?(o=L(this.e,u*this.con,this.con*c),e.x=this.x0+(s=2*this.a*this.k0*o/this.cons)*Math.sin(l-this.long0),e.y=this.y0-this.con*s*Math.cos(l-this.long0),e):(Math.abs(this.sinlat0)<1e-10?(t=2*this.a*this.k0/(1+a*Math.cos(d)),e.y=t*i):(t=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*i+this.cosX0*a*Math.cos(d))),e.y=t*(this.cosX0*i-this.sinX0*a*Math.cos(d))+this.y0),e.x=t*a*Math.sin(d)+this.x0,e))},inverse:function(e){var t,n,i,a;e.x-=this.x0,e.y-=this.y0;var o=Math.sqrt(e.x*e.x+e.y*e.y);if(this.sphere){var s=2*Math.atan(o/(2*this.a*this.k0));return t=this.long0,n=this.lat0,o<=1e-10?(e.x=t,e.y=n,e):(n=Math.asin(Math.cos(s)*this.sinlat0+e.y*Math.sin(s)*this.coslat0/o),t=Math.abs(this.coslat0)<1e-10?I(this.lat0>0?this.long0+Math.atan2(e.x,-1*e.y):this.long0+Math.atan2(e.x,e.y)):I(this.long0+Math.atan2(e.x*Math.sin(s),o*this.coslat0*Math.cos(s)-e.y*this.sinlat0*Math.sin(s))),e.x=t,e.y=n,e)}if(Math.abs(this.coslat0)<=1e-10){if(o<=1e-10)return n=this.lat0,e.x=t=this.long0,e.y=n,e;e.x*=this.con,e.y*=this.con,n=this.con*P(this.e,o*this.cons/(2*this.a*this.k0)),t=this.con*I(this.con*this.long0+Math.atan2(e.x,-1*e.y))}else i=2*Math.atan(o*this.cosX0/(2*this.a*this.k0*this.ms1)),t=this.long0,o<=1e-10?a=this.X0:(a=Math.asin(Math.cos(i)*this.sinX0+e.y*Math.sin(i)*this.cosX0/o),t=I(this.long0+Math.atan2(e.x*Math.sin(i),o*this.cosX0*Math.cos(i)-e.y*this.sinX0*Math.sin(i)))),n=-1*P(this.e,Math.tan(.5*(r+a)));return e.x=t,e.y=n,e},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],ssfn_:function(e,t,n){return t*=n,Math.tan(.5*(r+e))*Math.pow((1-t)/(1+t),.5*n)}},Ve={init:function(){var e=this.lat0;this.lambda0=this.long0;var t=Math.sin(e),n=this.a,i=1/this.rf,r=2*i-Math.pow(i,2),a=this.e=Math.sqrt(r);this.R=this.k0*n*Math.sqrt(1-r)/(1-r*Math.pow(t,2)),this.alpha=Math.sqrt(1+r/(1-r)*Math.pow(Math.cos(e),4)),this.b0=Math.asin(t/this.alpha);var o=Math.log(Math.tan(Math.PI/4+this.b0/2)),s=Math.log(Math.tan(Math.PI/4+e/2)),l=Math.log((1+a*t)/(1-a*t));this.K=o-this.alpha*s+this.alpha*a/2*l},forward:function(e){var t=Math.log(Math.tan(Math.PI/4-e.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(e.y))/(1-this.e*Math.sin(e.y))),i=2*(Math.atan(Math.exp(-this.alpha*(t+n)+this.K))-Math.PI/4),r=this.alpha*(e.x-this.lambda0),a=Math.atan(Math.sin(r)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(r))),o=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(r));return e.y=this.R/2*Math.log((1+Math.sin(o))/(1-Math.sin(o)))+this.y0,e.x=this.R*a+this.x0,e},inverse:function(e){for(var t=(e.x-this.x0)/this.R,n=2*(Math.atan(Math.exp((e.y-this.y0)/this.R))-Math.PI/4),i=Math.asin(Math.cos(this.b0)*Math.sin(n)+Math.sin(this.b0)*Math.cos(n)*Math.cos(t)),r=Math.atan(Math.sin(t)/(Math.cos(this.b0)*Math.cos(t)-Math.sin(this.b0)*Math.tan(n))),a=this.lambda0+r/this.alpha,o=0,s=i,l=-1e3,u=0;Math.abs(s-l)>1e-7;){if(++u>20)return;o=1/this.alpha*(Math.log(Math.tan(Math.PI/4+i/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(s))/2)),l=s,s=2*Math.atan(Math.exp(o))-Math.PI/2}return e.x=a,e.y=s,e},names:["somerc"]},Be={init:function(){var e,t,n,i,o,u,c,h,d,f,p,m,v,g=0,y=0,_=0,b=0,S=0,T=0,w=0;this.no_off=(v="object"==typeof(m=this).PROJECTION?Object.keys(m.PROJECTION)[0]:m.PROJECTION,"no_uoff"in m||"no_off"in m||-1!==["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"].indexOf(v)),this.no_rot="no_rot"in this;var x=!1;"alpha"in this&&(x=!0);var E=!1;if("rectified_grid_angle"in this&&(E=!0),x&&(w=this.alpha),E&&(g=this.rectified_grid_angle*a),x||E)y=this.longc;else if(_=this.long1,S=this.lat1,b=this.long2,T=this.lat2,Math.abs(S-T)<=1e-7||(e=Math.abs(S))<=1e-7||Math.abs(e-r)<=1e-7||Math.abs(Math.abs(this.lat0)-r)<=1e-7||Math.abs(Math.abs(T)-r)<=1e-7)throw new Error;var C=1-this.es;t=Math.sqrt(C),Math.abs(this.lat0)>1e-10?(h=Math.sin(this.lat0),n=Math.cos(this.lat0),e=1-this.es*h*h,this.B=n*n,this.B=Math.sqrt(1+this.es*this.B*this.B/C),this.A=this.B*this.k0*t/e,(o=(i=this.B*t/(n*Math.sqrt(e)))*i-1)<=0?o=0:(o=Math.sqrt(o),this.lat0<0&&(o=-o)),this.E=o+=i,this.E*=Math.pow(L(this.e,this.lat0,h),this.B)):(this.B=1/t,this.A=this.k0,this.E=i=o=1),x||E?(x?(p=Math.asin(Math.sin(w)/i),E||(g=w)):(p=g,w=Math.asin(i*Math.sin(p))),this.lam0=y-Math.asin(.5*(o-1/o)*Math.tan(p))/this.B):(u=Math.pow(L(this.e,S,Math.sin(S)),this.B),c=Math.pow(L(this.e,T,Math.sin(T)),this.B),o=this.E/u,d=(c-u)/(c+u),f=((f=this.E*this.E)-c*u)/(f+c*u),(e=_-b)<-Math.pi?b-=l:e>Math.pi&&(b+=l),this.lam0=I(.5*(_+b)-Math.atan(f*Math.tan(.5*this.B*(_-b))/d)/this.B),p=Math.atan(2*Math.sin(this.B*I(_-this.lam0))/(o-1/o)),g=w=Math.asin(i*Math.sin(p))),this.singam=Math.sin(p),this.cosgam=Math.cos(p),this.sinrot=Math.sin(g),this.cosrot=Math.cos(g),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(i*i-1)/Math.cos(w))),this.lat0<0&&(this.u_0=-this.u_0)),o=.5*p,this.v_pole_n=this.ArB*Math.log(Math.tan(s-o)),this.v_pole_s=this.ArB*Math.log(Math.tan(s+o))},forward:function(e){var t,n,i,a,o,s,l,u,c={};if(e.x=e.x-this.lam0,Math.abs(Math.abs(e.y)-r)>1e-10){if(t=.5*((o=this.E/Math.pow(L(this.e,e.y,Math.sin(e.y)),this.B))-(s=1/o)),n=.5*(o+s),a=Math.sin(this.B*e.x),i=(t*this.singam-a*this.cosgam)/n,Math.abs(Math.abs(i)-1)<1e-10)throw new Error;u=.5*this.ArB*Math.log((1-i)/(1+i)),s=Math.cos(this.B*e.x),l=Math.abs(s)<1e-7?this.A*e.x:this.ArB*Math.atan2(t*this.cosgam+a*this.singam,s)}else u=e.y>0?this.v_pole_n:this.v_pole_s,l=this.ArB*e.y;return this.no_rot?(c.x=l,c.y=u):(c.x=u*this.cosrot+(l-=this.u_0)*this.sinrot,c.y=l*this.cosrot-u*this.sinrot),c.x=this.a*c.x+this.x0,c.y=this.a*c.y+this.y0,c},inverse:function(e){var t,n,i,a,o,s,l,u={};if(e.x=1/this.a*(e.x-this.x0),e.y=1/this.a*(e.y-this.y0),this.no_rot?(n=e.y,t=e.x):(n=e.x*this.cosrot-e.y*this.sinrot,t=e.y*this.cosrot+e.x*this.sinrot+this.u_0),a=.5*((i=Math.exp(-this.BrA*n))-1/i),o=.5*(i+1/i),l=((s=Math.sin(this.BrA*t))*this.cosgam+a*this.singam)/o,Math.abs(Math.abs(l)-1)<1e-10)u.x=0,u.y=l<0?-r:r;else{if(u.y=this.E/Math.sqrt((1+l)/(1-l)),u.y=P(this.e,Math.pow(u.y,1/this.B)),u.y===1/0)throw new Error;u.x=-this.rB*Math.atan2(a*this.cosgam-s*this.singam,Math.cos(this.BrA*t))}return u.x+=this.lam0,u},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"]},ze={init:function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<1e-10)){var e=this.b/this.a;this.e=Math.sqrt(1-e*e);var t=Math.sin(this.lat1),n=Math.cos(this.lat1),i=A(this.e,t,n),r=L(this.e,this.lat1,t),a=Math.sin(this.lat2),o=Math.cos(this.lat2),s=A(this.e,a,o),l=L(this.e,this.lat2,a),u=L(this.e,this.lat0,Math.sin(this.lat0));this.ns=Math.abs(this.lat1-this.lat2)>1e-10?Math.log(i/s)/Math.log(r/l):t,isNaN(this.ns)&&(this.ns=t),this.f0=i/(this.ns*Math.pow(r,this.ns)),this.rh=this.a*this.f0*Math.pow(u,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function(e){var t=e.x,n=e.y;Math.abs(2*Math.abs(n)-Math.PI)<=1e-10&&(n=R(n)*(r-2e-10));var i,a,o=Math.abs(Math.abs(n)-r);if(o>1e-10)i=L(this.e,n,Math.sin(n)),a=this.a*this.f0*Math.pow(i,this.ns);else{if((o=n*this.ns)<=0)return null;a=0}var s=this.ns*I(t-this.long0);return e.x=this.k0*(a*Math.sin(s))+this.x0,e.y=this.k0*(this.rh-a*Math.cos(s))+this.y0,e},inverse:function(e){var t,n,i,a,o,s=(e.x-this.x0)/this.k0,l=this.rh-(e.y-this.y0)/this.k0;this.ns>0?(t=Math.sqrt(s*s+l*l),n=1):(t=-Math.sqrt(s*s+l*l),n=-1);var u=0;if(0!==t&&(u=Math.atan2(n*s,n*l)),0!==t||this.ns>0){if(n=1/this.ns,i=Math.pow(t/(this.a*this.f0),n),-9999===(a=P(this.e,i)))return null}else a=-r;return o=I(u/this.ns+this.long0),e.x=o,e.y=a,e},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc"]},He={init:function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function(e){var t,n,i,r,a,o,s,l=e.y,u=I(e.x-this.long0);return t=Math.pow((1+this.e*Math.sin(l))/(1-this.e*Math.sin(l)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(l/2+this.s45),this.alfa)/t)-this.s45),i=-u*this.alfa,r=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(i)),a=Math.asin(Math.cos(n)*Math.sin(i)/Math.cos(r)),o=this.n*a,s=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(r/2+this.s45),this.n),e.y=s*Math.cos(o)/1,e.x=s*Math.sin(o)/1,this.czech||(e.y*=-1,e.x*=-1),e},inverse:function(e){var t,n,i,r,a,o,s,l=e.x;e.x=e.y,e.y=l,this.czech||(e.y*=-1,e.x*=-1),a=Math.sqrt(e.x*e.x+e.y*e.y),r=Math.atan2(e.y,e.x)/Math.sin(this.s0),i=2*(Math.atan(Math.pow(this.ro0/a,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),t=Math.asin(Math.cos(this.ad)*Math.sin(i)-Math.sin(this.ad)*Math.cos(i)*Math.cos(r)),n=Math.asin(Math.cos(i)*Math.sin(r)/Math.cos(t)),e.x=this.long0-n/this.alfa,o=t,s=0;var u=0;do{e.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(t/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(o))/(1-this.e*Math.sin(o)),this.e/2))-this.s45),Math.abs(o-e.y)<1e-10&&(s=1),o=e.y,u+=1}while(0===s&&u<15);return u>=15?null:e},names:["Krovak","krovak"]},Xe=function(e,t,n,i,r){return e*r-t*Math.sin(2*r)+n*Math.sin(4*r)-i*Math.sin(6*r)},qe=function(e){return 1-.25*e*(1+e/16*(3+1.25*e))},We=function(e){return.375*e*(1+.25*e*(1+.46875*e))},Ye=function(e){return.05859375*e*e*(1+.75*e)},Ke=function(e){return e*e*e*(35/3072)},Ze=function(e,t,n){var i=t*n;return e/Math.sqrt(1-i*i)},Je=function(e){return Math.abs(e)<r?e:e-R(e)*Math.PI},Qe=function(e,t,n,i,r){var a,o;a=e/t;for(var s=0;s<15;s++)if(a+=o=(e-(t*a-n*Math.sin(2*a)+i*Math.sin(4*a)-r*Math.sin(6*a)))/(t-2*n*Math.cos(2*a)+4*i*Math.cos(4*a)-6*r*Math.cos(6*a)),Math.abs(o)<=1e-10)return a;return NaN},$e={init:function(){this.sphere||(this.e0=qe(this.es),this.e1=We(this.es),this.e2=Ye(this.es),this.e3=Ke(this.es),this.ml0=this.a*Xe(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function(e){var t,n,i=e.x,r=e.y;if(i=I(i-this.long0),this.sphere)t=this.a*Math.asin(Math.cos(r)*Math.sin(i)),n=this.a*(Math.atan2(Math.tan(r),Math.cos(i))-this.lat0);else{var a=Math.sin(r),o=Math.cos(r),s=Ze(this.a,this.e,a),l=Math.tan(r)*Math.tan(r),u=i*Math.cos(r),c=u*u,h=this.es*o*o/(1-this.es);t=s*u*(1-c*l*(1/6-(8-l+8*h)*c/120)),n=this.a*Xe(this.e0,this.e1,this.e2,this.e3,r)-this.ml0+s*a/o*c*(.5+(5-l+6*h)*c/24)}return e.x=t+this.x0,e.y=n+this.y0,e},inverse:function(e){e.x-=this.x0,e.y-=this.y0;var t,n,i=e.x/this.a,a=e.y/this.a;if(this.sphere){var o=a+this.lat0;t=Math.asin(Math.sin(o)*Math.cos(i)),n=Math.atan2(Math.tan(i),Math.cos(o))}else{var s=Qe(this.ml0/this.a+a,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(s)-r)<=1e-10)return e.x=this.long0,e.y=r,a<0&&(e.y*=-1),e;var l=Ze(this.a,this.e,Math.sin(s)),u=l*l*l/this.a/this.a*(1-this.es),c=Math.pow(Math.tan(s),2),h=i*this.a/l,d=h*h;t=s-l*Math.tan(s)/u*h*h*(.5-(1+3*c)*h*h/24),n=h*(1-d*(c/3+(1+3*c)*c*d/15))/Math.cos(s)}return e.x=I(n+this.long0),e.y=Je(t),e},names:["Cassini","Cassini_Soldner","cass"]},et=function(e,t){var n;return e>1e-7?(1-e*e)*(t/(1-(n=e*t)*n)-.5/e*Math.log((1-n)/(1+n))):2*t},tt={init:function(){var e,t=Math.abs(this.lat0);if(this.mode=Math.abs(t-r)<1e-10?this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(t)<1e-10?this.EQUIT:this.OBLIQ,this.es>0)switch(this.qp=et(this.e,1),this.mmf=.5/(1-this.es),this.apa=function(e){var t,n=[];return n[0]=.3333333333333333*e,n[0]+=.17222222222222222*(t=e*e),n[1]=.06388888888888888*t,n[0]+=.10257936507936508*(t*=e),n[1]+=.0664021164021164*t,n[2]=.016415012942191543*t,n}(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=et(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(e){var t,n,i,a,o,l,u,c,h,d,f=e.x,p=e.y;if(f=I(f-this.long0),this.sphere){if(o=Math.sin(p),d=Math.cos(p),i=Math.cos(f),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((n=this.mode===this.EQUIT?1+d*i:1+this.sinph0*o+this.cosph0*d*i)<=1e-10)return null;t=(n=Math.sqrt(2/n))*d*Math.sin(f),n*=this.mode===this.EQUIT?o:this.cosph0*o-this.sinph0*d*i}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(i=-i),Math.abs(p+this.lat0)<1e-10)return null;n=s-.5*p,t=(n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)))*Math.sin(f),n*=i}}else{switch(u=0,c=0,h=0,i=Math.cos(f),a=Math.sin(f),o=Math.sin(p),l=et(this.e,o),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(u=l/this.qp,c=Math.sqrt(1-u*u)),this.mode){case this.OBLIQ:h=1+this.sinb1*u+this.cosb1*c*i;break;case this.EQUIT:h=1+c*i;break;case this.N_POLE:h=r+p,l=this.qp-l;break;case this.S_POLE:h=p-r,l=this.qp+l}if(Math.abs(h)<1e-10)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:h=Math.sqrt(2/h),n=this.mode===this.OBLIQ?this.ymf*h*(this.cosb1*u-this.sinb1*c*i):(h=Math.sqrt(2/(1+c*i)))*u*this.ymf,t=this.xmf*h*c*a;break;case this.N_POLE:case this.S_POLE:l>=0?(t=(h=Math.sqrt(l))*a,n=i*(this.mode===this.S_POLE?h:-h)):t=n=0}}return e.x=this.a*t+this.x0,e.y=this.a*n+this.y0,e},inverse:function(e){e.x-=this.x0,e.y-=this.y0;var t,n,i,a,o,s,l,u,c,h,d=e.x/this.a,f=e.y/this.a;if(this.sphere){var p,m=0,v=0;if((n=.5*(p=Math.sqrt(d*d+f*f)))>1)return null;switch(n=2*Math.asin(n),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(v=Math.sin(n),m=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(p)<=1e-10?0:Math.asin(f*v/p),d*=v,f=m*p;break;case this.OBLIQ:n=Math.abs(p)<=1e-10?this.lat0:Math.asin(m*this.sinph0+f*v*this.cosph0/p),d*=v*this.cosph0,f=(m-Math.sin(n)*this.sinph0)*p;break;case this.N_POLE:f=-f,n=r-n;break;case this.S_POLE:n-=r}t=0!==f||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(d,f):0}else{if(l=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(d/=this.dd,f*=this.dd,(s=Math.sqrt(d*d+f*f))<1e-10)return e.x=this.long0,e.y=this.lat0,e;a=2*Math.asin(.5*s/this.rq),i=Math.cos(a),d*=a=Math.sin(a),this.mode===this.OBLIQ?(o=this.qp*(l=i*this.sinb1+f*a*this.cosb1/s),f=s*this.cosb1*i-f*this.sinb1*a):(o=this.qp*(l=f*a/s),f=s*i)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(f=-f),!(o=d*d+f*f))return e.x=this.long0,e.y=this.lat0,e;l=1-o/this.qp,this.mode===this.S_POLE&&(l=-l)}t=Math.atan2(d,f),h=(u=Math.asin(l))+u,n=u+(c=this.apa)[0]*Math.sin(h)+c[1]*Math.sin(h+h)+c[2]*Math.sin(h+h+h)}return e.x=I(this.long0+t),e.y=n,e},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4},nt=function(e){return Math.abs(e)>1&&(e=e>1?1:-1),Math.asin(e)},it={init:function(){Math.abs(this.lat1+this.lat2)<1e-10||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=A(this.e3,this.sin_po,this.cos_po),this.qs1=et(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=A(this.e3,this.sin_po,this.cos_po),this.qs2=et(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=et(this.e3,this.sin_po),this.ns0=Math.abs(this.lat1-this.lat2)>1e-10?(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function(e){var t=e.x,n=e.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var i=et(this.e3,this.sin_phi),r=this.a*Math.sqrt(this.c-this.ns0*i)/this.ns0,a=this.ns0*I(t-this.long0),o=r*Math.sin(a)+this.x0,s=this.rh-r*Math.cos(a)+this.y0;return e.x=o,e.y=s,e},inverse:function(e){var t,n,i,r,a;return e.x-=this.x0,e.y=this.rh-e.y+this.y0,this.ns0>=0?(t=Math.sqrt(e.x*e.x+e.y*e.y),n=1):(t=-Math.sqrt(e.x*e.x+e.y*e.y),n=-1),i=0,0!==t&&(i=Math.atan2(n*e.x,n*e.y)),n=t*this.ns0/this.a,a=this.sphere?Math.asin((this.c-n*n)/(2*this.ns0)):this.phi1z(this.e3,(this.c-n*n)/this.ns0),r=I(i/this.ns0+this.long0),e.x=r,e.y=a,e},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function(e,t){var n,i,r,a,o=nt(.5*t);if(e<1e-10)return o;for(var s=e*e,l=1;l<=25;l++)if(o+=a=.5*(r=1-(i=e*(n=Math.sin(o)))*i)*r/Math.cos(o)*(t/(1-s)-n/r+.5/e*Math.log((1-i)/(1+i))),Math.abs(a)<=1e-7)return o;return null}},rt={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function(e){var t,n,i,r,a,o,s,l=e.y;return i=I(e.x-this.long0),t=Math.sin(l),n=Math.cos(l),r=Math.cos(i),(a=this.sin_p14*t+this.cos_p14*n*r)>0||Math.abs(a)<=1e-10?(o=this.x0+1*this.a*n*Math.sin(i)/a,s=this.y0+1*this.a*(this.cos_p14*t-this.sin_p14*n*r)/a):(o=this.x0+this.infinity_dist*n*Math.sin(i),s=this.y0+this.infinity_dist*(this.cos_p14*t-this.sin_p14*n*r)),e.x=o,e.y=s,e},inverse:function(e){var t,n,i,r,a,o;return e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,(t=Math.sqrt(e.x*e.x+e.y*e.y))?(r=Math.atan2(t,this.rc),n=Math.sin(r),i=Math.cos(r),o=nt(i*this.sin_p14+e.y*n*this.cos_p14/t),a=Math.atan2(e.x*n,t*this.cos_p14*i-e.y*this.sin_p14*n),a=I(this.long0+a)):(o=this.phic0,a=0),e.x=a,e.y=o,e},names:["gnom"]},at={init:function(){this.sphere||(this.k0=A(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(e){var t,n,i=e.y,r=I(e.x-this.long0);if(this.sphere)t=this.x0+this.a*r*Math.cos(this.lat_ts),n=this.y0+this.a*Math.sin(i)/Math.cos(this.lat_ts);else{var a=et(this.e,Math.sin(i));t=this.x0+this.a*this.k0*r,n=this.y0+this.a*a*.5/this.k0}return e.x=t,e.y=n,e},inverse:function(e){var t,n;return e.x-=this.x0,e.y-=this.y0,this.sphere?(t=I(this.long0+e.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(e.y/this.a*Math.cos(this.lat_ts))):(n=function(e,t){var n=1-(1-e*e)/(2*e)*Math.log((1-e)/(1+e));if(Math.abs(Math.abs(t)-n)<1e-6)return t<0?-1*r:r;for(var i,a,o,s,l=Math.asin(.5*t),u=0;u<30;u++)if(a=Math.sin(l),o=Math.cos(l),s=e*a,l+=i=Math.pow(1-s*s,2)/(2*o)*(t/(1-e*e)-a/(1-s*s)+.5/e*Math.log((1-s)/(1+s))),Math.abs(i)<=1e-10)return l;return NaN}(this.e,2*e.y*this.k0/this.a),t=I(this.long0+e.x/(this.a*this.k0))),e.x=t,e.y=n,e},names:["cea"]},ot={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function(e){var t=e.y,n=I(e.x-this.long0),i=Je(t-this.lat0);return e.x=this.x0+this.a*n*this.rc,e.y=this.y0+this.a*i,e},inverse:function(e){var t=e.y;return e.x=I(this.long0+(e.x-this.x0)/(this.a*this.rc)),e.y=Je(this.lat0+(t-this.y0)/this.a),e},names:["Equirectangular","Equidistant_Cylindrical","eqc"]},st={init:function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=qe(this.es),this.e1=We(this.es),this.e2=Ye(this.es),this.e3=Ke(this.es),this.ml0=this.a*Xe(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(e){var t,n,i,r=e.y,a=I(e.x-this.long0);if(i=a*Math.sin(r),this.sphere)Math.abs(r)<=1e-10?(t=this.a*a,n=-1*this.a*this.lat0):(t=this.a*Math.sin(i)/Math.tan(r),n=this.a*(Je(r-this.lat0)+(1-Math.cos(i))/Math.tan(r)));else if(Math.abs(r)<=1e-10)t=this.a*a,n=-1*this.ml0;else{var o=Ze(this.a,this.e,Math.sin(r))/Math.tan(r);t=o*Math.sin(i),n=this.a*Xe(this.e0,this.e1,this.e2,this.e3,r)-this.ml0+o*(1-Math.cos(i))}return e.x=t+this.x0,e.y=n+this.y0,e},inverse:function(e){var t,n,i,r,a,o,s,l,u;if(i=e.x-this.x0,r=e.y-this.y0,this.sphere)if(Math.abs(r+this.a*this.lat0)<=1e-10)t=I(i/this.a+this.long0),n=0;else{var c;for(s=i*i/this.a/this.a+(o=this.lat0+r/this.a)*o,l=o,a=20;a;--a)if(l+=u=-1*(o*(l*(c=Math.tan(l))+1)-l-.5*(l*l+s)*c)/((l-o)/c-1),Math.abs(u)<=1e-10){n=l;break}t=I(this.long0+Math.asin(i*Math.tan(l)/this.a)/Math.sin(n))}else if(Math.abs(r+this.ml0)<=1e-10)n=0,t=I(this.long0+i/this.a);else{var h,d,f,p,m;for(s=i*i/this.a/this.a+(o=(this.ml0+r)/this.a)*o,l=o,a=20;a;--a)if(m=this.e*Math.sin(l),h=Math.sqrt(1-m*m)*Math.tan(l),d=this.a*Xe(this.e0,this.e1,this.e2,this.e3,l),f=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),l-=u=(o*(h*(p=d/this.a)+1)-p-.5*h*(p*p+s))/(this.es*Math.sin(2*l)*(p*p+s-2*o*p)/(4*h)+(o-p)*(h*f-2/Math.sin(2*l))-f),Math.abs(u)<=1e-10){n=l;break}h=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),t=I(this.long0+Math.asin(i*h/this.a)/Math.sin(n))}return e.x=t,e.y=n,e},names:["Polyconic","poly"]},lt={init:function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function(e){var t,n=(e.y-this.lat0)/i*1e-5,r=e.x-this.long0,a=1,o=0;for(t=1;t<=10;t++)o+=this.A[t]*(a*=n);var s,l=o,u=r,c=1,h=0,d=0,f=0;for(t=1;t<=6;t++)s=h*l+c*u,d=d+this.B_re[t]*(c=c*l-h*u)-this.B_im[t]*(h=s),f=f+this.B_im[t]*c+this.B_re[t]*h;return e.x=f*this.a+this.x0,e.y=d*this.a+this.y0,e},inverse:function(e){var t,n,r=(e.y-this.y0)/this.a,a=(e.x-this.x0)/this.a,o=1,s=0,l=0,u=0;for(t=1;t<=6;t++)n=s*r+o*a,l=l+this.C_re[t]*(o=o*r-s*a)-this.C_im[t]*(s=n),u=u+this.C_im[t]*o+this.C_re[t]*s;for(var c=0;c<this.iterations;c++){var h,d=l,f=u,p=r,m=a;for(t=2;t<=6;t++)h=f*l+d*u,p+=(t-1)*(this.B_re[t]*(d=d*l-f*u)-this.B_im[t]*(f=h)),m+=(t-1)*(this.B_im[t]*d+this.B_re[t]*f);d=1,f=0;var v=this.B_re[1],g=this.B_im[1];for(t=2;t<=6;t++)h=f*l+d*u,v+=t*(this.B_re[t]*(d=d*l-f*u)-this.B_im[t]*(f=h)),g+=t*(this.B_im[t]*d+this.B_re[t]*f);var y=v*v+g*g;l=(p*v+m*g)/y,u=(m*v-p*g)/y}var _=l,b=u,S=1,T=0;for(t=1;t<=9;t++)T+=this.D[t]*(S*=_);var w=this.lat0+T*i*1e5;return e.x=this.long0+b,e.y=w,e},names:["New_Zealand_Map_Grid","nzmg"]},ut={init:function(){},forward:function(e){var t=e.y,n=I(e.x-this.long0),i=this.x0+this.a*n,r=this.y0+this.a*Math.log(Math.tan(Math.PI/4+t/2.5))*1.25;return e.x=i,e.y=r,e},inverse:function(e){e.x-=this.x0,e.y-=this.y0;var t=I(this.long0+e.x/this.a),n=2.5*(Math.atan(Math.exp(.8*e.y/this.a))-Math.PI/4);return e.x=t,e.y=n,e},names:["Miller_Cylindrical","mill"]},ct={init:function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=ke(this.es)},forward:function(e){var t,n,i=e.x,r=e.y;if(i=I(i-this.long0),this.sphere){if(this.m)for(var a=this.n*Math.sin(r),o=20;o;--o){var s=(this.m*r+Math.sin(r)-a)/(this.m+Math.cos(r));if(r-=s,Math.abs(s)<1e-10)break}else r=1!==this.n?Math.asin(this.n*Math.sin(r)):r;t=this.a*this.C_x*i*(this.m+Math.cos(r)),n=this.a*this.C_y*r}else{var l=Math.sin(r),u=Math.cos(r);n=this.a*Me(r,l,u,this.en),t=this.a*i*u/Math.sqrt(1-this.es*l*l)}return e.x=t,e.y=n,e},inverse:function(e){var t,n,i,a;return e.x-=this.x0,i=e.x/this.a,e.y-=this.y0,t=e.y/this.a,this.sphere?(t/=this.C_y,i/=this.C_x*(this.m+Math.cos(t)),this.m?t=nt((this.m*t+Math.sin(t))/this.n):1!==this.n&&(t=nt(Math.sin(t)/this.n)),i=I(i+this.long0),t=Je(t)):(t=Oe(e.y/this.a,this.es,this.en),(a=Math.abs(t))<r?(a=Math.sin(t),n=this.long0+e.x*Math.sqrt(1-this.es*a*a)/(this.a*Math.cos(t)),i=I(n)):a-1e-10<r&&(i=this.long0)),e.x=i,e.y=t,e},names:["Sinusoidal","sinu"]},ht={init:function(){},forward:function(e){for(var t=e.y,n=I(e.x-this.long0),i=t,r=Math.PI*Math.sin(t);;){var a=-(i+Math.sin(i)-r)/(1+Math.cos(i));if(i+=a,Math.abs(a)<1e-10)break}i/=2,Math.PI/2-Math.abs(t)<1e-10&&(n=0);var o=.900316316158*this.a*n*Math.cos(i)+this.x0,s=1.4142135623731*this.a*Math.sin(i)+this.y0;return e.x=o,e.y=s,e},inverse:function(e){var t,n;e.x-=this.x0,e.y-=this.y0,n=e.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),t=Math.asin(n);var i=I(this.long0+e.x/(.900316316158*this.a*Math.cos(t)));i<-Math.PI&&(i=-Math.PI),i>Math.PI&&(i=Math.PI),n=(2*t+Math.sin(2*t))/Math.PI,Math.abs(n)>1&&(n=1);var r=Math.asin(n);return e.x=i,e.y=r,e},names:["Mollweide","moll"]},dt={init:function(){Math.abs(this.lat1+this.lat2)<1e-10||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=qe(this.es),this.e1=We(this.es),this.e2=Ye(this.es),this.e3=Ke(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=A(this.e,this.sinphi,this.cosphi),this.ml1=Xe(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<1e-10?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=A(this.e,this.sinphi,this.cosphi),this.ml2=Xe(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Xe(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function(e){var t,n=e.x,i=e.y;if(this.sphere)t=this.a*(this.g-i);else{var r=Xe(this.e0,this.e1,this.e2,this.e3,i);t=this.a*(this.g-r)}var a=this.ns*I(n-this.long0),o=this.x0+t*Math.sin(a),s=this.y0+this.rh-t*Math.cos(a);return e.x=o,e.y=s,e},inverse:function(e){var t,n,i,r;e.x-=this.x0,e.y=this.rh-e.y+this.y0,this.ns>=0?(n=Math.sqrt(e.x*e.x+e.y*e.y),t=1):(n=-Math.sqrt(e.x*e.x+e.y*e.y),t=-1);var a=0;return 0!==n&&(a=Math.atan2(t*e.x,t*e.y)),this.sphere?(r=I(this.long0+a/this.ns),i=Je(this.g-n/this.a),e.x=r,e.y=i,e):(i=Qe(this.g-n/this.a,this.e0,this.e1,this.e2,this.e3),r=I(this.long0+a/this.ns),e.x=r,e.y=i,e)},names:["Equidistant_Conic","eqdc"]},ft={init:function(){this.R=this.a},forward:function(e){var t,n,i=e.y,a=I(e.x-this.long0);Math.abs(i)<=1e-10&&(t=this.x0+this.R*a,n=this.y0);var o=nt(2*Math.abs(i/Math.PI));(Math.abs(a)<=1e-10||Math.abs(Math.abs(i)-r)<=1e-10)&&(t=this.x0,n=i>=0?this.y0+Math.PI*this.R*Math.tan(.5*o):this.y0+Math.PI*this.R*-Math.tan(.5*o));var s=.5*Math.abs(Math.PI/a-a/Math.PI),l=s*s,u=Math.sin(o),c=Math.cos(o),h=c/(u+c-1),d=h*(2/u-1),f=d*d,p=Math.PI*this.R*(s*(h-f)+Math.sqrt(l*(h-f)*(h-f)-(f+l)*(h*h-f)))/(f+l);a<0&&(p=-p),t=this.x0+p;var m=l+h;return p=Math.PI*this.R*(d*m-s*Math.sqrt((f+l)*(l+1)-m*m))/(f+l),n=i>=0?this.y0+p:this.y0-p,e.x=t,e.y=n,e},inverse:function(e){var t,n,i,r,a,o,s,l,u,c,h,d;return e.x-=this.x0,e.y-=this.y0,h=Math.PI*this.R,a=(i=e.x/h)*i+(r=e.y/h)*r,h=3*(r*r/(l=-2*(o=-Math.abs(r)*(1+a))+1+2*r*r+a*a)+(2*(s=o-2*r*r+i*i)*s*s/l/l/l-9*o*s/l/l)/27)/(u=(o-s*s/3/l)/l)/(c=2*Math.sqrt(-u/3)),Math.abs(h)>1&&(h=h>=0?1:-1),d=Math.acos(h)/3,n=e.y>=0?(-c*Math.cos(d+Math.PI/3)-s/3/l)*Math.PI:-(-c*Math.cos(d+Math.PI/3)-s/3/l)*Math.PI,t=Math.abs(i)<1e-10?this.long0:I(this.long0+Math.PI*(a-1+Math.sqrt(1+2*(i*i-r*r)+a*a))/2/i),e.x=t,e.y=n,e},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]},pt={init:function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function(e){var t,n,i,a,o,s,l,u,c,h,d,f,p,m,v,g,y,_,b,S,T,w,x=e.x,E=e.y,C=Math.sin(e.y),k=Math.cos(e.y),M=I(x-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=1e-10?(e.x=this.x0+this.a*(r-E)*Math.sin(M),e.y=this.y0-this.a*(r-E)*Math.cos(M),e):Math.abs(this.sin_p12+1)<=1e-10?(e.x=this.x0+this.a*(r+E)*Math.sin(M),e.y=this.y0+this.a*(r+E)*Math.cos(M),e):(_=this.sin_p12*C+this.cos_p12*k*Math.cos(M),y=(g=Math.acos(_))?g/Math.sin(g):1,e.x=this.x0+this.a*y*k*Math.sin(M),e.y=this.y0+this.a*y*(this.cos_p12*C-this.sin_p12*k*Math.cos(M)),e):(t=qe(this.es),n=We(this.es),i=Ye(this.es),a=Ke(this.es),Math.abs(this.sin_p12-1)<=1e-10?(o=this.a*Xe(t,n,i,a,r),s=this.a*Xe(t,n,i,a,E),e.x=this.x0+(o-s)*Math.sin(M),e.y=this.y0-(o-s)*Math.cos(M),e):Math.abs(this.sin_p12+1)<=1e-10?(o=this.a*Xe(t,n,i,a,r),s=this.a*Xe(t,n,i,a,E),e.x=this.x0+(o+s)*Math.sin(M),e.y=this.y0+(o+s)*Math.cos(M),e):(l=C/k,u=Ze(this.a,this.e,this.sin_p12),c=Ze(this.a,this.e,C),h=Math.atan((1-this.es)*l+this.es*u*this.sin_p12/(c*k)),b=0===(d=Math.atan2(Math.sin(M),this.cos_p12*Math.tan(h)-this.sin_p12*Math.cos(M)))?Math.asin(this.cos_p12*Math.sin(h)-this.sin_p12*Math.cos(h)):Math.abs(Math.abs(d)-Math.PI)<=1e-10?-Math.asin(this.cos_p12*Math.sin(h)-this.sin_p12*Math.cos(h)):Math.asin(Math.sin(M)*Math.cos(h)/Math.sin(d)),f=this.e*this.sin_p12/Math.sqrt(1-this.es),p=this.e*this.cos_p12*Math.cos(d)/Math.sqrt(1-this.es),e.x=this.x0+(g=u*b*(1-(S=b*b)*(v=p*p)*(1-v)/6+(T=S*b)/8*(m=f*p)*(1-2*v)+(w=T*b)/120*(v*(4-7*v)-3*f*f*(1-7*v))-w*b/48*m))*Math.sin(d),e.y=this.y0+g*Math.cos(d),e))},inverse:function(e){var t,n,i,a,o,s,l,u,c,h,d,f,p,m,v,g,y,_,b,S,T,w,x;if(e.x-=this.x0,e.y-=this.y0,this.sphere){if((t=Math.sqrt(e.x*e.x+e.y*e.y))>2*r*this.a)return;return n=t/this.a,i=Math.sin(n),a=Math.cos(n),o=this.long0,Math.abs(t)<=1e-10?s=this.lat0:(s=nt(a*this.sin_p12+e.y*i*this.cos_p12/t),l=Math.abs(this.lat0)-r,o=Math.abs(l)<=1e-10?I(this.lat0>=0?this.long0+Math.atan2(e.x,-e.y):this.long0-Math.atan2(-e.x,e.y)):I(this.long0+Math.atan2(e.x*i,t*this.cos_p12*a-e.y*this.sin_p12*i))),e.x=o,e.y=s,e}return u=qe(this.es),c=We(this.es),h=Ye(this.es),d=Ke(this.es),Math.abs(this.sin_p12-1)<=1e-10?(f=this.a*Xe(u,c,h,d,r),t=Math.sqrt(e.x*e.x+e.y*e.y),s=Qe((f-t)/this.a,u,c,h,d),o=I(this.long0+Math.atan2(e.x,-1*e.y)),e.x=o,e.y=s,e):Math.abs(this.sin_p12+1)<=1e-10?(f=this.a*Xe(u,c,h,d,r),t=Math.sqrt(e.x*e.x+e.y*e.y),s=Qe((t-f)/this.a,u,c,h,d),o=I(this.long0+Math.atan2(e.x,e.y)),e.x=o,e.y=s,e):(t=Math.sqrt(e.x*e.x+e.y*e.y),v=Math.atan2(e.x,e.y),p=Ze(this.a,this.e,this.sin_p12),g=Math.cos(v),b=3*this.es*(1-(_=-(y=this.e*this.cos_p12*g)*y/(1-this.es)))*this.sin_p12*this.cos_p12*g/(1-this.es),w=1-_*(T=(S=t/p)-_*(1+_)*Math.pow(S,3)/6-b*(1+3*_)*Math.pow(S,4)/24)*T/2-S*T*T*T/6,m=Math.asin(this.sin_p12*Math.cos(T)+this.cos_p12*Math.sin(T)*g),o=I(this.long0+Math.asin(Math.sin(v)*Math.sin(T)/Math.cos(m))),x=Math.sin(m),s=Math.atan2((x-this.es*w*this.sin_p12)*Math.tan(m),x*(1-this.es)),e.x=o,e.y=s,e)},names:["Azimuthal_Equidistant","aeqd"]},mt={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function(e){var t,n,i,r,a,o,s,l=e.y;return i=I(e.x-this.long0),t=Math.sin(l),n=Math.cos(l),r=Math.cos(i),((a=this.sin_p14*t+this.cos_p14*n*r)>0||Math.abs(a)<=1e-10)&&(o=1*this.a*n*Math.sin(i),s=this.y0+1*this.a*(this.cos_p14*t-this.sin_p14*n*r)),e.x=o,e.y=s,e},inverse:function(e){var t,n,i,a,o,s,l;return e.x-=this.x0,e.y-=this.y0,t=Math.sqrt(e.x*e.x+e.y*e.y),n=nt(t/this.a),i=Math.sin(n),a=Math.cos(n),s=this.long0,Math.abs(t)<=1e-10?(l=this.lat0,e.x=s,e.y=l,e):(l=nt(a*this.sin_p14+e.y*i*this.cos_p14/t),o=Math.abs(this.lat0)-r,Math.abs(o)<=1e-10?(s=I(this.lat0>=0?this.long0+Math.atan2(e.x,-e.y):this.long0-Math.atan2(-e.x,e.y)),e.x=s,e.y=l,e):(s=I(this.long0+Math.atan2(e.x*i,t*this.cos_p14*a-e.y*this.sin_p14*i)),e.x=s,e.y=l,e))},names:["ortho"]};function vt(e,t,n,i){var a;return e<1e-10?(i.value=1,a=0):(a=Math.atan2(t,n),Math.abs(a)<=s?i.value=1:a>s&&a<=r+s?(i.value=2,a-=r):a>r+s||a<=-(r+s)?(i.value=3,a=a>=0?a-u:a+u):(i.value=4,a+=r)),a}function gt(e,t){var n=e+t;return n<-u?n+=l:n>+u&&(n-=l),n}var yt,_t={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.face=this.lat0>=r-s/2?5:this.lat0<=-(r-s/2)?6:Math.abs(this.long0)<=s?1:Math.abs(this.long0)<=r+s?this.long0>0?2:4:3,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function(e){var t,n,i,a,o,l,c={x:0,y:0},h={value:0};if(e.x-=this.long0,t=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(e.y)):e.y,n=e.x,5===this.face)a=r-t,n>=s&&n<=r+s?(h.value=1,i=n-r):n>r+s||n<=-(r+s)?(h.value=2,i=n>0?n-u:n+u):n>-(r+s)&&n<=-s?(h.value=3,i=n+r):(h.value=4,i=n);else if(6===this.face)a=r+t,n>=s&&n<=r+s?(h.value=1,i=-n+r):n<s&&n>=-s?(h.value=2,i=-n):n<-s&&n>=-(r+s)?(h.value=3,i=-n-r):(h.value=4,i=n>0?-n+u:-n-u);else{var d,f,p,m,v,g;2===this.face?n=gt(n,+r):3===this.face?n=gt(n,+u):4===this.face&&(n=gt(n,-r)),m=Math.sin(t),v=Math.cos(t),g=Math.sin(n),d=v*Math.cos(n),f=v*g,p=m,1===this.face?i=vt(a=Math.acos(d),p,f,h):2===this.face?i=vt(a=Math.acos(f),p,-d,h):3===this.face?i=vt(a=Math.acos(-d),p,-f,h):4===this.face?i=vt(a=Math.acos(-f),p,d,h):(a=i=0,h.value=1)}return l=Math.atan(12/u*(i+Math.acos(Math.sin(i)*Math.cos(s))-r)),o=Math.sqrt((1-Math.cos(a))/(Math.cos(l)*Math.cos(l))/(1-Math.cos(Math.atan(1/Math.cos(i))))),2===h.value?l+=r:3===h.value?l+=u:4===h.value&&(l+=1.5*u),c.x=o*Math.cos(l),c.y=o*Math.sin(l),c.x=c.x*this.a+this.x0,c.y=c.y*this.a+this.y0,e.x=c.x,e.y=c.y,e},inverse:function(e){var t,n,i,a,o,s,l,c,h,d,f,p,m={lam:0,phi:0},v={value:0};if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,n=Math.atan(Math.sqrt(e.x*e.x+e.y*e.y)),t=Math.atan2(e.y,e.x),e.x>=0&&e.x>=Math.abs(e.y)?v.value=1:e.y>=0&&e.y>=Math.abs(e.x)?(v.value=2,t-=r):e.x<0&&-e.x>=Math.abs(e.y)?(v.value=3,t=t<0?t+u:t-u):(v.value=4,t+=r),h=u/12*Math.tan(t),o=Math.sin(h)/(Math.cos(h)-1/Math.sqrt(2)),s=Math.atan(o),(l=1-(i=Math.cos(t))*i*(a=Math.tan(n))*a*(1-Math.cos(Math.atan(1/Math.cos(s)))))<-1?l=-1:l>1&&(l=1),5===this.face)c=Math.acos(l),m.phi=r-c,m.lam=1===v.value?s+r:2===v.value?s<0?s+u:s-u:3===v.value?s-r:s;else if(6===this.face)c=Math.acos(l),m.phi=c-r,m.lam=1===v.value?-s+r:2===v.value?-s:3===v.value?-s-r:s<0?-s-u:-s+u;else{var g,y,_;h=(g=l)*g,y=(h+=(_=h>=1?0:Math.sqrt(1-h)*Math.sin(s))*_)>=1?0:Math.sqrt(1-h),2===v.value?(h=y,y=-_,_=h):3===v.value?(y=-y,_=-_):4===v.value&&(h=y,y=_,_=-h),2===this.face?(h=g,g=-y,y=h):3===this.face?(g=-g,y=-y):4===this.face&&(h=g,g=y,y=-h),m.phi=Math.acos(-_)-r,m.lam=Math.atan2(y,g),2===this.face?m.lam=gt(m.lam,-r):3===this.face?m.lam=gt(m.lam,-u):4===this.face&&(m.lam=gt(m.lam,+r))}return 0!==this.es&&(d=m.phi<0?1:0,f=Math.tan(m.phi),p=this.b/Math.sqrt(f*f+this.one_minus_f_squared),m.phi=Math.atan(Math.sqrt(this.a*this.a-p*p)/(this.one_minus_f*p)),d&&(m.phi=-m.phi)),m.lam+=this.long0,e.x=m.lam,e.y=m.phi,e},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]},bt=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],St=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],Tt=function(e,t){return e[0]+t*(e[1]+t*(e[2]+t*e[3]))},wt={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"},forward:function(e){var t=I(e.x-this.long0),n=Math.abs(e.y),i=Math.floor(11.459155902616464*n);i<0?i=0:i>=18&&(i=17);var r={x:Tt(bt[i],n=o*(n-.08726646259971647*i))*t,y:Tt(St[i],n)};return e.y<0&&(r.y=-r.y),r.x=r.x*this.a*.8487+this.x0,r.y=r.y*this.a*1.3523+this.y0,r},inverse:function(e){var t={x:(e.x-this.x0)/(.8487*this.a),y:Math.abs(e.y-this.y0)/(1.3523*this.a)};if(t.y>=1)t.x/=bt[18][0],t.y=e.y<0?-r:r;else{var n=Math.floor(18*t.y);for(n<0?n=0:n>=18&&(n=17);;)if(St[n][0]>t.y)--n;else{if(!(St[n+1][0]<=t.y))break;++n}var i=St[n],o=5*(t.y-i[0])/(St[n+1][0]-i[0]);o=function(e,t,n,i){for(var r=t;i;--i){var a=e(r);if(r-=a,Math.abs(a)<1e-10)break}return r}(function(e){return(Tt(i,e)-t.y)/function(e,t){return e[1]+t*(2*e[2]+3*t*e[3])}(i,e)},o,0,100),t.x/=Tt(bt[n],o),t.y=(5*n+o)*a,e.y<0&&(t.y=-t.y)}return t.x=I(t.x+this.long0),t},names:["Robinson","robin"]},xt={init:function(){this.name="geocent"},forward:function(e){return $(e,this.es,this.a)},inverse:function(e){return ee(e,this.es,this.a,this.b)},names:["Geocentric","geocentric","geocent","Geocent"]},Et={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}},Ct={init:function(){if(Object.keys(Et).forEach((function(e){if(void 0===this[e])this[e]=Et[e].def;else{if(Et[e].num&&isNaN(this[e]))throw new Error("Invalid parameter value, must be numeric "+e+" = "+this[e]);Et[e].num&&(this[e]=parseFloat(this[e]))}Et[e].degrees&&(this[e]=this[e]*a)}).bind(this)),Math.abs(Math.abs(this.lat0)-r)<1e-10?this.mode=this.lat0<0?1:0:Math.abs(this.lat0)<1e-10?this.mode=2:(this.mode=3,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var e=this.tilt,t=this.azi;this.cg=Math.cos(t),this.sg=Math.sin(t),this.cw=Math.cos(e),this.sw=Math.sin(e)},forward:function(e){e.x-=this.long0;var t,n,i,r,a=Math.sin(e.y),o=Math.cos(e.y),s=Math.cos(e.x);switch(this.mode){case 3:n=this.sinph0*a+this.cosph0*o*s;break;case 2:n=o*s;break;case 1:n=-a;break;case 0:n=a}switch(t=(n=this.pn1/(this.p-n))*o*Math.sin(e.x),this.mode){case 3:n*=this.cosph0*a-this.sinph0*o*s;break;case 2:n*=a;break;case 0:n*=-o*s;break;case 1:n*=o*s}return t=(t*this.cg-n*this.sg)*this.cw*(r=1/((i=n*this.cg+t*this.sg)*this.sw*this.h1+this.cw)),n=i*r,e.x=t*this.a,e.y=n*this.a,e},inverse:function(e){e.x/=this.a,e.y/=this.a;var t,n,i,r={x:e.x,y:e.y};e.x=(t=this.pn1*e.x*(i=1/(this.pn1-e.y*this.sw)))*this.cg+(n=this.pn1*e.y*this.cw*i)*this.sg,e.y=n*this.cg-t*this.sg;var a=Ie(e.x,e.y);if(Math.abs(a)<1e-10)r.x=0,r.y=e.y;else{var o,s;switch(s=1-a*a*this.pfact,s=(this.p-Math.sqrt(s))/(this.pn1/a+a/this.pn1),o=Math.sqrt(1-s*s),this.mode){case 3:r.y=Math.asin(o*this.sinph0+e.y*s*this.cosph0/a),e.y=(o-this.sinph0*Math.sin(r.y))*a,e.x*=s*this.cosph0;break;case 2:r.y=Math.asin(e.y*s/a),e.y=o*a,e.x*=s;break;case 0:r.y=Math.asin(o),e.y=-e.y;break;case 1:r.y=-Math.asin(o)}r.x=Math.atan2(e.x,e.y)}return e.x=r.x+this.long0,e.y=r.y,e},names:["Tilted_Perspective","tpers"]};de.defaultDatum="WGS84",de.Proj=Q,de.WGS84=new de.Proj("WGS84"),de.Point=Ee,de.toPoint=oe,de.defs=C,de.nadgrid=function(e,t){var n=new DataView(t),i=function(e){var t=e.getInt32(8,!1);return 11!==t&&(11!==(t=e.getInt32(8,!0))&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}(n),r=function(e,t){return{nFields:e.getInt32(8,t),nSubgridFields:e.getInt32(24,t),nSubgrids:e.getInt32(40,t),shiftType:W(e,56,64).trim(),fromSemiMajorAxis:e.getFloat64(120,t),fromSemiMinorAxis:e.getFloat64(136,t),toSemiMajorAxis:e.getFloat64(152,t),toSemiMinorAxis:e.getFloat64(168,t)}}(n,i);r.nSubgrids>1&&console.log("Only single NTv2 subgrids are currently supported, subsequent sub grids are ignored");var a={header:r,subgrids:function(e,t,n){for(var i=[],r=0;r<t.nSubgrids;r++){var a=K(e,176,n),o=Z(e,176,a,n),s=Math.round(1+(a.upperLongitude-a.lowerLongitude)/a.longitudeInterval),l=Math.round(1+(a.upperLatitude-a.lowerLatitude)/a.latitudeInterval);i.push({ll:[q(a.lowerLongitude),q(a.lowerLatitude)],del:[q(a.longitudeInterval),q(a.latitudeInterval)],lim:[s,l],count:a.gridNodeCount,cvs:Y(o)})}return i}(n,r,i)};return H[e]=a,a},de.transform=le,de.mgrs=me,de.version="__VERSION__",(yt=de).Proj.projections.add(Ae),yt.Proj.projections.add(De),yt.Proj.projections.add(Ne),yt.Proj.projections.add(Ue),yt.Proj.projections.add(Ge),yt.Proj.projections.add(Ve),yt.Proj.projections.add(Be),yt.Proj.projections.add(ze),yt.Proj.projections.add(He),yt.Proj.projections.add($e),yt.Proj.projections.add(tt),yt.Proj.projections.add(it),yt.Proj.projections.add(rt),yt.Proj.projections.add(at),yt.Proj.projections.add(ot),yt.Proj.projections.add(st),yt.Proj.projections.add(lt),yt.Proj.projections.add(ut),yt.Proj.projections.add(ct),yt.Proj.projections.add(ht),yt.Proj.projections.add(dt),yt.Proj.projections.add(ft),yt.Proj.projections.add(pt),yt.Proj.projections.add(mt),yt.Proj.projections.add(_t),yt.Proj.projections.add(wt),yt.Proj.projections.add(xt),yt.Proj.projections.add(Ct),t.a=de},pLZG:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("7o/Q");function r(e,t){return function(n){return n.lift(new a(e,t))}}var a=function(){function e(t,n){_(this,e),this.predicate=t,this.thisArg=n}return y(e,[{key:"call",value:function(e,t){return t.subscribe(new o(e,this.predicate,this.thisArg))}}]),e}(),o=function(e){b(n,e);var t=T(n);function n(e,i,r){var a;return _(this,n),(a=t.call(this,e)).predicate=i,a.thisArg=r,a.count=0,a}return y(n,[{key:"_next",value:function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}]),n}(i.a)},pzRH:function(e,t,n){"use strict";t.a={PROPERTYCHANGE:"propertychange"}},qKzT:function(e,t,n){"use strict";var i=n("bwl8"),r=n("rCez"),a=n("ljNT"),o=n("9CgO"),s=n("DsyP"),l=function(e){b(n,e);var t=T(n);function n(e,i,r){var a;return _(this,n),(a=t.call(this,e)).map=i,a.frameState=void 0!==r?r:null,a}return n}(n("Gp2b").a),u=function(e){b(n,e);var t=T(n);function n(e,i,r,a,o){var s;return _(this,n),(s=t.call(this,e,i,o)).originalEvent=r,s.pixel_=null,s.coordinate_=null,s.dragging=void 0!==a&&a,s}return y(n,[{key:"pixel",get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(e){this.pixel_=e}},{key:"coordinate",get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(e){this.coordinate_=e}},{key:"preventDefault",value:function(){v(C(n.prototype),"preventDefault",this).call(this),this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){v(C(n.prototype),"stopPropagation",this).call(this),this.originalEvent.stopPropagation()}}]),n}(l),c=n("RGpb"),h=n("gjiK"),d=n("avWC"),f=n("FRHD"),p=n("FHfp"),m=function(e){b(n,e);var t=T(n);function n(e,i){var r;_(this,n),(r=t.call(this,e)).map_=e,r.emulateClicks_=!1,r.dragging_=!1,r.dragListenerKeys_=[],r.moveTolerance_=i?i*f.a:f.a,r.down_=null;var a=r.map_.getViewport();return r.activePointers_=0,r.trackedTouches_={},r.element_=a,r.pointerdownListenerKey_=Object(p.a)(a,d.a.POINTERDOWN,r.handlePointerDown_,x(r)),r.relayedListenerKey_=Object(p.a)(a,d.a.POINTERMOVE,r.relayEvent_,x(r)),r.boundHandleTouchMove_=r.handleTouchMove_.bind(x(r)),r.element_.addEventListener(o.a.TOUCHMOVE,r.boundHandleTouchMove_,!!f.e&&{passive:!1}),r}return y(n,[{key:"emulateClick_",value:function(e){var t=new u(h.a.CLICK,this.map_,e);this.dispatchEvent(t),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,t=new u(h.a.DBLCLICK,this.map_,e),this.dispatchEvent(t)):this.clickTimeoutId_=setTimeout((function(){this.clickTimeoutId_=void 0;var t=new u(h.a.SINGLECLICK,this.map_,e);this.dispatchEvent(t)}).bind(this),250)}},{key:"updateActivePointers_",value:function(e){var t=e;t.type==h.a.POINTERUP||t.type==h.a.POINTERCANCEL?delete this.trackedTouches_[t.pointerId]:t.type==h.a.POINTERDOWN&&(this.trackedTouches_[t.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length}},{key:"handlePointerUp_",value:function(e){this.updateActivePointers_(e);var t=new u(h.a.POINTERUP,this.map_,e);this.dispatchEvent(t),this.emulateClicks_&&!t.propagationStopped&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(p.c),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}},{key:"isMouseActionButton_",value:function(e){return 0===e.button}},{key:"handlePointerDown_",value:function(e){this.emulateClicks_=0===this.activePointers_,this.updateActivePointers_(e);var t=new u(h.a.POINTERDOWN,this.map_,e);if(this.dispatchEvent(t),this.down_=e,0===this.dragListenerKeys_.length){var n=this.map_.getOwnerDocument();this.dragListenerKeys_.push(Object(p.a)(n,h.a.POINTERMOVE,this.handlePointerMove_,this),Object(p.a)(n,h.a.POINTERUP,this.handlePointerUp_,this),Object(p.a)(this.element_,h.a.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==n&&this.dragListenerKeys_.push(Object(p.a)(this.element_.getRootNode(),h.a.POINTERUP,this.handlePointerUp_,this))}}},{key:"handlePointerMove_",value:function(e){if(this.isMoving_(e)){this.dragging_=!0;var t=new u(h.a.POINTERDRAG,this.map_,e,this.dragging_);this.dispatchEvent(t)}}},{key:"relayEvent_",value:function(e){this.originalPointerMoveEvent_=e;var t=!(!this.down_||!this.isMoving_(e));this.dispatchEvent(new u(e.type,this.map_,e,t))}},{key:"handleTouchMove_",value:function(e){this.originalPointerMoveEvent_&&!this.originalPointerMoveEvent_.defaultPrevented||e.preventDefault()}},{key:"isMoving_",value:function(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}},{key:"disposeInternal",value:function(){this.relayedListenerKey_&&(Object(p.c)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(o.a.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Object(p.c)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(p.c),this.dragListenerKeys_.length=0,this.element_=null,v(C(n.prototype),"disposeInternal",this).call(this)}}]),n}(c.a),g=n("bTHf"),S=n("VJnl"),w=n("pzRH"),E=n("RuG3"),k=n("i3ci"),M=n("Bpkx"),O=1/0,A=n("0Fwh"),R=n("ci6y"),I=n("ogOc"),L=n("6Xq6"),P=n("n2w5"),D=n("hKKC"),N=n("Znq9"),j=n("dvVV"),F=n("Cw4B");t.a=function(e){b(n,e);var t=T(n);function n(e){var l;_(this,n),l=t.call(this);var u=function(e){var t=null;void 0!==e.keyboardEventTarget&&(t="string"==typeof e.keyboardEventTarget?document.getElementById(e.keyboardEventTarget):e.keyboardEventTarget);var n,i,a,o={},l=e.layers&&"function"==typeof e.layers.getLayers?e.layers:new s.a({layers:e.layers});return o[S.a.LAYERGROUP]=l,o[S.a.TARGET]=e.target,o[S.a.VIEW]=void 0!==e.view?e.view:new R.a,void 0!==e.controls&&(Array.isArray(e.controls)?n=new r.a(e.controls.slice()):(Object(k.a)("function"==typeof e.controls.getArray,47),n=e.controls)),void 0!==e.interactions&&(Array.isArray(e.interactions)?i=new r.a(e.interactions.slice()):(Object(k.a)("function"==typeof e.interactions.getArray,48),i=e.interactions)),void 0!==e.overlays?Array.isArray(e.overlays)?a=new r.a(e.overlays.slice()):(Object(k.a)("function"==typeof e.overlays.getArray,49),a=e.overlays):a=new r.a,{controls:n,interactions:i,keyboardEventTarget:t,overlays:a,values:o}}(e);return l.boundHandleBrowserEvent_=l.handleBrowserEvent.bind(x(l)),l.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,l.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:f.a,l.animationDelay_=(function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}).bind(x(l)),l.coordinateToPixelTransform_=Object(P.c)(),l.pixelToCoordinateTransform_=Object(P.c)(),l.frameIndex_=0,l.frameState_=null,l.previousExtent_=null,l.viewPropertyListenerKey_=null,l.viewChangeListenerKey_=null,l.layerGroupPropertyListenerKeys_=null,l.viewport_=document.createElement("div"),l.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),l.viewport_.style.position="relative",l.viewport_.style.overflow="hidden",l.viewport_.style.width="100%",l.viewport_.style.height="100%",l.overlayContainer_=document.createElement("div"),l.overlayContainer_.style.position="absolute",l.overlayContainer_.style.zIndex="0",l.overlayContainer_.style.width="100%",l.overlayContainer_.style.height="100%",l.overlayContainer_.style.pointerEvents="none",l.overlayContainer_.className="ol-overlaycontainer",l.viewport_.appendChild(l.overlayContainer_),l.overlayContainerStopEvent_=document.createElement("div"),l.overlayContainerStopEvent_.style.position="absolute",l.overlayContainerStopEvent_.style.zIndex="0",l.overlayContainerStopEvent_.style.width="100%",l.overlayContainerStopEvent_.style.height="100%",l.overlayContainerStopEvent_.style.pointerEvents="none",l.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",l.viewport_.appendChild(l.overlayContainerStopEvent_),l.mapBrowserEventHandler_=null,l.moveTolerance_=e.moveTolerance,l.keyboardEventTarget_=u.keyboardEventTarget,l.keyHandlerKeys_=null,l.controls=u.controls||new r.a,l.interactions=u.interactions||new r.a,l.overlays_=u.overlays,l.overlayIdIndex_={},l.renderer_=null,l.postRenderFunctions_=[],l.tileQueue_=new(function(e){b(n,e);var t=T(n);function n(e,i){var r;return _(this,n),(r=t.call(this,function(t){return e.apply(null,t)},function(e){return e[0].getKey()})).boundHandleTileChange_=r.handleTileChange.bind(x(r)),r.tileChangeCallback_=i,r.tilesLoading_=0,r.tilesLoadingKeys_={},r}return y(n,[{key:"enqueue",value:function(e){var t=v(C(n.prototype),"enqueue",this).call(this,e);return t&&e[0].addEventListener(o.a.CHANGE,this.boundHandleTileChange_),t}},{key:"getTilesLoading",value:function(){return this.tilesLoading_}},{key:"handleTileChange",value:function(e){var t=e.target,n=t.getState();if(t.hifi&&n===A.a.LOADED||n===A.a.ERROR||n===A.a.EMPTY){t.removeEventListener(o.a.CHANGE,this.boundHandleTileChange_);var i=t.getKey();i in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[i],--this.tilesLoading_),this.tileChangeCallback_()}}},{key:"loadMoreTiles",value:function(e,t){for(var n,i,r=0;this.tilesLoading_<e&&r<t&&this.getCount()>0;)i=(n=this.dequeue()[0]).getKey(),n.getState()!==A.a.IDLE||i in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[i]=!0,++this.tilesLoading_,++r,n.load())}}]),n}(function(){function e(t,n){_(this,e),this.priorityFunction_=t,this.keyFunction_=n,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return y(e,[{key:"clear",value:function(){this.elements_.length=0,this.priorities_.length=0,Object(M.b)(this.queuedElements_)}},{key:"dequeue",value:function(){var e=this.elements_,t=this.priorities_,n=e[0];1==e.length?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));var i=this.keyFunction_(n);return delete this.queuedElements_[i],n}},{key:"enqueue",value:function(e){Object(k.a)(!(this.keyFunction_(e)in this.queuedElements_),31);var t=this.priorityFunction_(e);return t!=O&&(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0)}},{key:"getCount",value:function(){return this.elements_.length}},{key:"getLeftChildIndex_",value:function(e){return 2*e+1}},{key:"getRightChildIndex_",value:function(e){return 2*e+2}},{key:"getParentIndex_",value:function(e){return e-1>>1}},{key:"heapify_",value:function(){var e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}},{key:"isEmpty",value:function(){return 0===this.elements_.length}},{key:"isKeyQueued",value:function(e){return e in this.queuedElements_}},{key:"isQueued",value:function(e){return this.isKeyQueued(this.keyFunction_(e))}},{key:"siftUp_",value:function(e){for(var t=this.elements_,n=this.priorities_,i=t.length,r=t[e],a=n[e],o=e;e<i>>1;){var s=this.getLeftChildIndex_(e),l=this.getRightChildIndex_(e),u=l<i&&n[l]<n[s]?l:s;t[e]=t[u],n[e]=n[u],e=u}t[e]=r,n[e]=a,this.siftDown_(o,e)}},{key:"siftDown_",value:function(e,t){for(var n=this.elements_,i=this.priorities_,r=n[t],a=i[t];t>e;){var o=this.getParentIndex_(t);if(!(i[o]>a))break;n[t]=n[o],i[t]=i[o],t=o}n[t]=r,i[t]=a}},{key:"reprioritize",value:function(){var e,t,n,i=this.priorityFunction_,r=this.elements_,a=this.priorities_,o=0,s=r.length;for(t=0;t<s;++t)(n=i(e=r[t]))==O?delete this.queuedElements_[this.keyFunction_(e)]:(a[o]=n,r[o++]=e);r.length=o,a.length=o,this.heapify_()}}]),e}()))(l.getTilePriority.bind(x(l)),l.handleTileChange_.bind(x(l))),l.addEventListener(Object(i.b)(S.a.LAYERGROUP),l.handleLayerGroupChanged_),l.addEventListener(Object(i.b)(S.a.VIEW),l.handleViewChanged_),l.addEventListener(Object(i.b)(S.a.SIZE),l.handleSizeChanged_),l.addEventListener(Object(i.b)(S.a.TARGET),l.handleTargetChanged_),l.setProperties(u.values),l.controls.forEach((function(e){e.setMap(this)}).bind(x(l))),l.controls.addEventListener(a.a.ADD,(function(e){e.element.setMap(this)}).bind(x(l))),l.controls.addEventListener(a.a.REMOVE,(function(e){e.element.setMap(null)}).bind(x(l))),l.interactions.forEach((function(e){e.setMap(this)}).bind(x(l))),l.interactions.addEventListener(a.a.ADD,(function(e){e.element.setMap(this)}).bind(x(l))),l.interactions.addEventListener(a.a.REMOVE,(function(e){e.element.setMap(null)}).bind(x(l))),l.overlays_.forEach(l.addOverlayInternal_.bind(x(l))),l.overlays_.addEventListener(a.a.ADD,(function(e){this.addOverlayInternal_(e.element)}).bind(x(l))),l.overlays_.addEventListener(a.a.REMOVE,(function(e){var t=e.element.getId();void 0!==t&&delete this.overlayIdIndex_[t.toString()],e.element.setMap(null)}).bind(x(l))),l}return y(n,[{key:"createRenderer",value:function(){throw new Error("Use a map type that has a createRenderer method")}},{key:"addControl",value:function(e){this.getControls().push(e)}},{key:"addInteraction",value:function(e){this.getInteractions().push(e)}},{key:"addLayer",value:function(e){this.getLayerGroup().getLayers().push(e)}},{key:"addOverlay",value:function(e){this.getOverlays().push(e)}},{key:"addOverlayInternal_",value:function(e){var t=e.getId();void 0!==t&&(this.overlayIdIndex_[t.toString()]=e),e.setMap(this)}},{key:"disposeInternal",value:function(){this.setTarget(null),v(C(n.prototype),"disposeInternal",this).call(this)}},{key:"forEachFeatureAtPixel",value:function(e,t,n){if(this.frameState_){var i=this.getCoordinateFromPixelInternal(e);return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance:0,!1!==n.checkWrapped,t,null,void 0!==n.layerFilter?n.layerFilter:L.b,null)}}},{key:"getFeaturesAtPixel",value:function(e,t){var n=[];return this.forEachFeatureAtPixel(e,function(e){n.push(e)},t),n}},{key:"forEachLayerAtPixel",value:function(e,t,n){if(this.frameState_){var i=n||{};return this.renderer_.forEachLayerAtPixel(e,this.frameState_,void 0!==i.hitTolerance?i.hitTolerance:0,t,i.layerFilter||L.b)}}},{key:"hasFeatureAtPixel",value:function(e,t){if(!this.frameState_)return!1;var n=this.getCoordinateFromPixelInternal(e);return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,void 0!==(t=void 0!==t?t:{}).hitTolerance?t.hitTolerance:0,!1!==t.checkWrapped,void 0!==t.layerFilter?t.layerFilter:L.b,null)}},{key:"getEventCoordinate",value:function(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}},{key:"getEventCoordinateInternal",value:function(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}},{key:"getEventPixel",value:function(e){var t=this.viewport_.getBoundingClientRect(),n="changedTouches"in e?e.changedTouches[0]:e;return[n.clientX-t.left,n.clientY-t.top]}},{key:"getTarget",value:function(){return this.get(S.a.TARGET)}},{key:"getTargetElement",value:function(){var e=this.getTarget();return void 0!==e?"string"==typeof e?document.getElementById(e):e:null}},{key:"getCoordinateFromPixel",value:function(e){return Object(N.o)(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}},{key:"getCoordinateFromPixelInternal",value:function(e){var t=this.frameState_;return t?Object(P.a)(t.pixelToCoordinateTransform,e.slice()):null}},{key:"getControls",value:function(){return this.controls}},{key:"getOverlays",value:function(){return this.overlays_}},{key:"getOverlayById",value:function(e){var t=this.overlayIdIndex_[e.toString()];return void 0!==t?t:null}},{key:"getInteractions",value:function(){return this.interactions}},{key:"getLayerGroup",value:function(){return this.get(S.a.LAYERGROUP)}},{key:"getLayers",value:function(){return this.getLayerGroup().getLayers()}},{key:"getLoading",value:function(){for(var e=this.getLayerGroup().getLayerStatesArray(),t=0,n=e.length;t<n;++t){var i=e[t].layer.getSource();if(i&&i.loading)return!0}return!1}},{key:"getPixelFromCoordinate",value:function(e){var t=Object(N.g)(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(t)}},{key:"getPixelFromCoordinateInternal",value:function(e){var t=this.frameState_;return t?Object(P.a)(t.coordinateToPixelTransform,e.slice(0,2)):null}},{key:"getRenderer",value:function(){return this.renderer_}},{key:"getSize",value:function(){return this.get(S.a.SIZE)}},{key:"getView",value:function(){return this.get(S.a.VIEW)}},{key:"getViewport",value:function(){return this.viewport_}},{key:"getOverlayContainer",value:function(){return this.overlayContainer_}},{key:"getOverlayContainerStopEvent",value:function(){return this.overlayContainerStopEvent_}},{key:"getOwnerDocument",value:function(){return this.getTargetElement()?this.getTargetElement().ownerDocument:document}},{key:"getTilePriority",value:function(e,t,n,i){return function(e,t,n,i,r){if(!e||!(n in e.wantedTiles))return O;if(!e.wantedTiles[n][t.getKey()])return O;var a=e.viewState.center,o=i[0]-a[0],s=i[1]-a[1];return 65536*Math.log(r)+Math.sqrt(o*o+s*s)/r}(this.frameState_,e,t,n,i)}},{key:"handleBrowserEvent",value:function(e,t){var n=new u(t||e.type,this,e);this.handleMapBrowserEvent(n)}},{key:"handleMapBrowserEvent",value:function(e){if(this.frameState_){var t=e.originalEvent,n=t.type;if(n===d.a.POINTERDOWN||n===o.a.WHEEL||n===o.a.KEYDOWN){var i=this.getOwnerDocument(),r=this.viewport_.getRootNode?this.viewport_.getRootNode():i,a="host"in r?r.elementFromPoint(t.clientX,t.clientY):t.target;if(this.overlayContainerStopEvent_.contains(a)||!(r===i?i.documentElement:r).contains(a))return}if(e.frameState=this.frameState_,!1!==this.dispatchEvent(e))for(var s=this.getInteractions().getArray().slice(),l=s.length-1;l>=0;l--){var u=s[l];if(u.getMap()===this&&u.getActive()&&this.getTargetElement()&&(!u.handleEvent(e)||e.propagationStopped))break}}}},{key:"handlePostRender",value:function(){var e=this.frameState_,t=this.tileQueue_;if(!t.isEmpty()){var n=this.maxTilesLoading_,i=n;if(e){var r=e.viewHints;if(r[I.a.ANIMATING]||r[I.a.INTERACTING]){var a=!f.c&&Date.now()-e.time>8;n=a?0:8,i=a?0:2}}t.getTilesLoading()<n&&(t.reprioritize(),t.loadMoreTiles(n,i))}!e||!this.hasListener(E.a.RENDERCOMPLETE)||e.animate||this.tileQueue_.getTilesLoading()||this.getLoading()||this.renderer_.dispatchRenderEvent(E.a.RENDERCOMPLETE,e);for(var o=this.postRenderFunctions_,s=0,l=o.length;s<l;++s)o[s](this,e);o.length=0}},{key:"handleSizeChanged_",value:function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}},{key:"handleTargetChanged_",value:function(){var e;if(this.getTarget()&&(e=this.getTargetElement()),this.mapBrowserEventHandler_){for(var t=0,n=this.keyHandlerKeys_.length;t<n;++t)Object(p.c)(this.keyHandlerKeys_[t]);this.keyHandlerKeys_=null,this.viewport_.removeEventListener(o.a.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(o.a.WHEEL,this.boundHandleBrowserEvent_),void 0!==this.handleResize_&&(removeEventListener(o.a.RESIZE,this.handleResize_,!1),this.handleResize_=void 0),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,Object(F.e)(this.viewport_)}if(e){for(var i in e.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new m(this,this.moveTolerance_),h.a)this.mapBrowserEventHandler_.addEventListener(h.a[i],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(o.a.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(o.a.WHEEL,this.boundHandleBrowserEvent_,!!f.e&&{passive:!1});var r=this.keyboardEventTarget_?this.keyboardEventTarget_:e;this.keyHandlerKeys_=[Object(p.a)(r,o.a.KEYDOWN,this.handleBrowserEvent,this),Object(p.a)(r,o.a.KEYPRESS,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener(o.a.RESIZE,this.handleResize_,!1))}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()}},{key:"handleTileChange_",value:function(){this.render()}},{key:"handleViewPropertyChanged_",value:function(){this.render()}},{key:"handleViewChanged_",value:function(){this.viewPropertyListenerKey_&&(Object(p.c)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Object(p.c)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var e=this.getView();e&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=Object(p.a)(e,w.a.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Object(p.a)(e,o.a.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}},{key:"handleLayerGroupChanged_",value:function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(p.c),this.layerGroupPropertyListenerKeys_=null);var e=this.getLayerGroup();e&&(this.layerGroupPropertyListenerKeys_=[Object(p.a)(e,w.a.PROPERTYCHANGE,this.render,this),Object(p.a)(e,o.a.CHANGE,this.render,this)]),this.render()}},{key:"isRendered",value:function(){return!!this.frameState_}},{key:"renderSync",value:function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}},{key:"redrawText",value:function(){for(var e=this.getLayerGroup().getLayerStatesArray(),t=0,n=e.length;t<n;++t){var i=e[t].layer;i.hasRenderer()&&i.getRenderer().handleFontsChanged()}}},{key:"render",value:function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}},{key:"removeControl",value:function(e){return this.getControls().remove(e)}},{key:"removeInteraction",value:function(e){return this.getInteractions().remove(e)}},{key:"removeLayer",value:function(e){return this.getLayerGroup().getLayers().remove(e)}},{key:"removeOverlay",value:function(e){return this.getOverlays().remove(e)}},{key:"renderFrame_",value:function(e){var t=this,n=this.getSize(),i=this.getView(),r=this.frameState_,a=null;if(void 0!==n&&Object(j.b)(n)&&i&&i.isDef()){var o=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),s=i.getState();a={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:Object(D.A)(s.center,s.resolution,s.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:s,viewHints:o,wantedTiles:{}}}this.frameState_=a,this.renderer_.renderFrame(a),a&&(a.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,a.postRenderFunctions),r&&(!this.previousExtent_||!Object(D.I)(this.previousExtent_)&&!Object(D.q)(a.extent,this.previousExtent_))&&(this.dispatchEvent(new l(g.a.MOVESTART,this,r)),this.previousExtent_=Object(D.m)(this.previousExtent_)),this.previousExtent_&&!a.viewHints[I.a.ANIMATING]&&!a.viewHints[I.a.INTERACTING]&&!Object(D.q)(a.extent,this.previousExtent_)&&(this.dispatchEvent(new l(g.a.MOVEEND,this,a)),Object(D.e)(a.extent,this.previousExtent_))),this.dispatchEvent(new l(g.a.POSTRENDER,this,a)),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(function(){t.postRenderTimeoutHandle_=void 0,t.handlePostRender()},0))}},{key:"setLayerGroup",value:function(e){this.set(S.a.LAYERGROUP,e)}},{key:"setSize",value:function(e){this.set(S.a.SIZE,e)}},{key:"setTarget",value:function(e){this.set(S.a.TARGET,e)}},{key:"setView",value:function(e){this.set(S.a.VIEW,e)}},{key:"updateSize",value:function(){var e=this.getTargetElement();if(e){var t=getComputedStyle(e);this.setSize([e.offsetWidth-parseFloat(t.borderLeftWidth)-parseFloat(t.paddingLeft)-parseFloat(t.paddingRight)-parseFloat(t.borderRightWidth),e.offsetHeight-parseFloat(t.borderTopWidth)-parseFloat(t.paddingTop)-parseFloat(t.paddingBottom)-parseFloat(t.borderBottomWidth)])}else this.setSize(void 0);this.updateViewportSize_()}},{key:"updateViewportSize_",value:function(){var e=this.getView();if(e){var t,n=getComputedStyle(this.viewport_);n.width&&n.height&&(t=[parseInt(n.width,10),parseInt(n.height,10)]),e.setViewportSize(t)}}}]),n}(i.a)},qsxt:function(e,t,n){"use strict";var i=n("9CgO"),r=n("XWL2"),a=n("0Fwh"),o=function(e){b(n,e);var t=T(n);function n(e,i,r,a,o,s){var l;return _(this,n),(l=t.call(this,e,i,s)).extent=null,l.format_=a,l.features_=null,l.projection=null,l.tileLoadFunction_=o,l.url_=r,l.key=r,l}return y(n,[{key:"getFormat",value:function(){return this.format_}},{key:"getFeatures",value:function(){return this.features_}},{key:"load",value:function(){this.state==a.a.IDLE&&(this.setState(a.a.LOADING),this.tileLoadFunction_(this,this.url_),this.loader_&&this.loader_(this.extent,this.resolution,this.projection))}},{key:"onLoad",value:function(e,t){this.setFeatures(e)}},{key:"onError",value:function(){this.setState(a.a.ERROR)}},{key:"setFeatures",value:function(e){this.features_=e,this.setState(a.a.LOADED)}},{key:"setLoader",value:function(e){this.loader_=e}}]),n}(r.a),s=n("42kC"),l=n("9AA0"),u=n("Cw4B"),c=n("2I+J"),h=[],d=function(e){b(n,e);var t=T(n);function n(e,i,r,a){var o;return _(this,n),(o=t.call(this,e,i,{transition:0})).context_={},o.executorGroups={},o.declutterExecutorGroups={},o.loadingSourceTiles=0,o.errorSourceTileKeys={},o.hitDetectionImageData={},o.replayState_={},o.sourceTiles=null,o.getSourceTiles=a.bind(void 0,x(o)),o.sourceZ=-1,o.hifi=!1,o.wrappedTileCoord=r,o}return y(n,[{key:"getContext",value:function(e){var t=Object(c.c)(e);return t in this.context_||(this.context_[t]=Object(u.a)(1,1,h)),this.context_[t]}},{key:"hasContext",value:function(e){return Object(c.c)(e)in this.context_}},{key:"getImage",value:function(e){return this.hasContext(e)?this.getContext(e).canvas:null}},{key:"getReplayState",value:function(e){var t=Object(c.c)(e);return t in this.replayState_||(this.replayState_[t]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedZ:-1,renderedTileZ:-1}),this.replayState_[t]}},{key:"load",value:function(){this.getSourceTiles()}},{key:"release",value:function(){for(var e in this.context_)h.push(this.context_[e].canvas),delete this.context_[e];v(C(n.prototype),"release",this).call(this)}}]),n}(r.a),f=n("hKKC"),p=n("r0tu"),m=n("oWEL"),g=n("UMcu"),S=n("k51M"),w=n("dvVV");function E(e,t){e.setLoader(function(n,i,r){Object(S.a)(t,e.getFormat(),n,i,r,e.onLoad.bind(e),e.onError.bind(e))})}t.a=function(e){b(n,e);var t=T(n);function n(e){var i;_(this,n);var r=e.projection||"EPSG:3857",a=e.extent||Object(p.c)(r),l=e.tileGrid||Object(p.b)({extent:a,maxResolution:e.maxResolution,maxZoom:void 0!==e.maxZoom?e.maxZoom:22,minZoom:e.minZoom,tileSize:e.tileSize||512});return(i=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,opaque:!1,projection:r,state:e.state,tileGrid:l,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:E,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition,zDirection:void 0===e.zDirection?1:e.zDirection})).format_=e.format?e.format:null,i.loadingTiles_={},i.sourceTileCache=new s.a(i.tileCache.highWaterMark),i.overlaps_=null==e.overlaps||e.overlaps,i.tileClass=e.tileClass?e.tileClass:o,i.tileGrids_={},i}return y(n,[{key:"getFeaturesInExtent",value:function(e){var t=[],n=this.tileCache;if(0===n.getCount())return t;var i=Object(g.b)(n.peekFirstKey())[0],r=this.tileGrid;return n.forEach(function(n){if(n.tileCoord[0]===i&&n.getState()===a.a.LOADED)for(var o=n.getSourceTiles(),s=0,l=o.length;s<l;++s){var u=o[s],c=u.tileCoord;if(Object(f.G)(e,r.getTileCoordExtent(c))){var h=u.getFeatures();if(h)for(var d=0,p=h.length;d<p;++d){var m=h[d],v=m.getGeometry();Object(f.G)(e,v.getExtent())&&t.push(m)}}}}),t}},{key:"getOverlaps",value:function(){return this.overlaps_}},{key:"clear",value:function(){this.tileCache.clear(),this.sourceTileCache.clear()}},{key:"expireCache",value:function(e,t){v(C(n.prototype),"expireCache",this).call(this,e,t),this.sourceTileCache.expireCache({})}},{key:"getSourceTiles",value:function(e,t,n){var r=n.wrappedTileCoord,o=this.getTileGridForProjection(t),s=o.getTileCoordExtent(r),l=o.getResolution(r[0]);Object(f.d)(s,-l,s);var u=this.tileGrid,c=u.getExtent();c&&Object(f.C)(s,c,s);var h,d,p,v=u.getZForResolution(l,1),g=u.getMinZoom(),y=n.sourceTiles;if(y&&y.length>0&&y[0].tileCoord[0]===v)h=y,d=!0,p=v;else{h=[],p=v+1;do{--p,d=!0,u.forEachTileCoord(s,p,(function(r){var o,s=this.tileUrlFunction(r,e,t);if(void 0!==s)if(this.sourceTileCache.containsKey(s)){var l=(o=this.sourceTileCache.get(s)).getState();if(l===a.a.LOADED||l===a.a.ERROR||l===a.a.EMPTY)return void h.push(o)}else p===v&&((o=new this.tileClass(r,a.a.IDLE,s,this.format_,this.tileLoadFunction)).extent=u.getTileCoordExtent(r),o.projection=t,o.resolution=u.getResolution(r[0]),this.sourceTileCache.set(s,o),o.addEventListener(i.a.CHANGE,this.handleTileChange.bind(this)),o.load());d=d&&o&&o.getState()===a.a.LOADED,o&&o.getState()!==a.a.EMPTY&&n.getState()===a.a.IDLE&&(n.loadingSourceTiles++,o.addEventListener(i.a.CHANGE,function e(){var t=o.getState(),r=o.getKey();if(t===a.a.LOADED||t===a.a.ERROR){t===a.a.LOADED?(o.removeEventListener(i.a.CHANGE,e),n.loadingSourceTiles--,delete n.errorSourceTileKeys[r]):t===a.a.ERROR&&(n.errorSourceTileKeys[r]=!0);var s=Object.keys(n.errorSourceTileKeys).length;n.loadingSourceTiles-s==0&&(n.hifi=0===s,n.sourceZ=v,n.setState(a.a.LOADED))}}))}).bind(this)),d||(h.length=0)}while(!d&&p>g)}return n.getState()===a.a.IDLE&&n.setState(a.a.LOADING),d&&(n.hifi=v===p,n.sourceZ=p,n.getState()<a.a.LOADED?n.setState(a.a.LOADED):y&&Object(m.b)(h,y)||(n.sourceTiles=h)),h}},{key:"getTile",value:function(e,t,n,i,r){var o,s=Object(g.d)(e,t,n),l=this.getKey();if(this.tileCache.containsKey(s)&&(o=this.tileCache.get(s)).key===l)return o;var u=[e,t,n],c=this.getTileCoordForTileUrlFunction(u,r),h=this.getTileGrid().getExtent(),p=this.getTileGridForProjection(r);if(c&&h){var m=p.getTileCoordExtent(c);Object(f.d)(m,-p.getResolution(e),m),Object(f.G)(h,m)||(c=null)}var v=!0;if(null!==c){var y=this.tileGrid,_=p.getResolution(e),b=y.getZForResolution(_,1),S=p.getTileCoordExtent(c);Object(f.d)(S,-_,S),y.forEachTileCoord(S,b,(function(e){v=v&&!this.tileUrlFunction(e,i,r)}).bind(this))}var T=new d(u,v?a.a.EMPTY:a.a.IDLE,c,this.getSourceTiles.bind(this,i,r));return T.key=l,o?(T.interimTile=o,T.refreshInterimChain(),this.tileCache.replace(s,T)):this.tileCache.set(s,T),T}},{key:"getTileGridForProjection",value:function(e){var t=e.getCode(),n=this.tileGrids_[t];if(!n){var i=this.tileGrid;n=Object(p.a)(e,void 0,i?i.getTileSize(i.getMinZoom()):void 0),this.tileGrids_[t]=n}return n}},{key:"getTilePixelRatio",value:function(e){return e}},{key:"getTilePixelSize",value:function(e,t,n){var i=this.getTileGridForProjection(n),r=Object(w.d)(i.getTileSize(e),this.tmpSize);return[Math.round(r[0]*t),Math.round(r[1]*t)]}},{key:"updateCacheSize",value:function(e,t){v(C(n.prototype),"updateCacheSize",this).call(this,2*e,t)}}]),n}(l.a)},quSY:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var i,r,a=n("DH7j"),o=n("XoHu"),s=n("n6bG"),l=function(){function e(e){return Error.call(this),this.message=e?"".concat(e.length," errors occurred during unsubscription:\n").concat(e.map(function(e,t){return"".concat(t+1,") ").concat(e.toString())}).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),u=((r=function(){function e(t){_(this,e),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}return y(e,[{key:"unsubscribe",value:function(){var t;if(!this.closed){var n=this._parentOrParents,i=this._ctorUnsubscribe,r=this._unsubscribe,u=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var h=0;h<n.length;++h)n[h].remove(this);if(Object(s.a)(r)){i&&(this._unsubscribe=void 0);try{r.call(this)}catch(m){t=m instanceof l?c(m.errors):[m]}}if(Object(a.a)(u))for(var d=-1,f=u.length;++d<f;){var p=u[d];if(Object(o.a)(p))try{p.unsubscribe()}catch(m){t=t||[],m instanceof l?t=t.concat(c(m.errors)):t.push(m)}}if(t)throw new l(t)}}},{key:"add",value:function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var i=n;(n=new e)._subscriptions=[i]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var r=n._parentOrParents;if(null===r)n._parentOrParents=this;else if(r instanceof e){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}var a=this._subscriptions;return null===a?this._subscriptions=[n]:a.push(n),n}},{key:"remove",value:function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}]),e}()).EMPTY=((i=new r).closed=!0,i),r);function c(e){return e.reduce(function(e,t){return e.concat(t instanceof l?t.errors:t)},[])}},r0tu:function(e,t,n){"use strict";n.d(t,"d",function(){return c}),n.d(t,"e",function(){return h}),n.d(t,"b",function(){return d}),n.d(t,"a",function(){return p}),n.d(t,"c",function(){return m});var i=n("iSA6"),r=n("Fnjr"),a=n("G7/A"),o=n("1rej"),s=n("Znq9"),l=n("hKKC"),u=n("dvVV");function c(e){var t=e.getDefaultTileGrid();return t||(t=p(e),e.setDefaultTileGrid(t)),t}function h(e,t,n){var i=t[0],r=e.getTileCoordCenter(t),a=m(n);if(Object(l.g)(a,r))return t;var o=Object(l.F)(a),s=Math.ceil((a[0]-r[0])/o);return r[0]+=o*s,e.getTileCoordForCoordAndZ(r,i)}function d(e){var t=e||{},n=t.extent||Object(s.i)("EPSG:3857").getExtent(),i={extent:n,minZoom:t.minZoom,tileSize:t.tileSize,resolutions:f(n,t.maxZoom,t.tileSize,t.maxResolution)};return new r.a(i)}function f(e,t,n,i){for(var r=void 0!==t?t:o.a,a=Object(l.B)(e),s=Object(l.F)(e),c=Object(u.d)(void 0!==n?n:o.b),h=i>0?i:Math.max(s/c[0],a/c[1]),d=r+1,f=new Array(d),p=0;p<d;++p)f[p]=h/Math.pow(2,p);return f}function p(e,t,n,a){return function(e,t,n,a){var o=void 0!==a?a:i.a.TOP_LEFT,s=f(e,t,n);return new r.a({extent:e,origin:Object(l.z)(e,o),resolutions:s,tileSize:n})}(m(e),t,n,a)}function m(e){var t=(e=Object(s.i)(e)).getExtent();if(!t){var n=180*a.a[a.b.DEGREES]/e.getMetersPerUnit();t=Object(l.l)(-n,-n,n,n)}return t}},r8II:function(e,t,n){"use strict";t.decode=t.parse=n("YcCt"),t.encode=t.stringify=n("6MUB")},rA9B:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return l}),n.d(t,"e",function(){return u}),n.d(t,"f",function(){return c}),n.d(t,"g",function(){return h}),n.d(t,"h",function(){return d}),n.d(t,"d",function(){return f});var i=n("hKKC"),r=n("LV+m"),a=n("j5yL");function o(e,t){return e[0]+=+t[0],e[1]+=+t[1],e}function s(e,t,n){var i=Object(r.e)(t+180,360)-180,o=Math.abs(3600*i),s=n||0,l=Math.pow(10,s),u=Math.floor(o/3600),c=Math.floor((o-3600*u)/60),h=o-3600*u-60*c;return(h=Math.ceil(h*l)/l)>=60&&(h=0,c+=1),c>=60&&(c=0,u+=1),u+"\xb0 "+Object(a.b)(c,2)+"\u2032 "+Object(a.b)(h,2,s)+"\u2033"+(0==i?"":" "+e.charAt(i<0?1:0))}function l(e,t){for(var n=!0,i=e.length-1;i>=0;--i)if(e[i]!=t[i]){n=!1;break}return n}function u(e,t){var n=Math.cos(t),i=Math.sin(t),r=e[1]*n+e[0]*i;return e[0]=e[0]*n-e[1]*i,e[1]=r,e}function c(e,t){return e[0]*=t,e[1]*=t,e}function h(e,t){return function(e,t,n){return e?"{x}, {y}".replace("{x}",e[0].toFixed(n)).replace("{y}",e[1].toFixed(n)):""}(e,0,t)}function d(e,t){if(t.canWrapX()){var n=Object(i.F)(t.getExtent()),r=f(e,t,n);r&&(e[0]-=r*n)}return e}function f(e,t,n){var r=t.getExtent(),a=0;if(t.canWrapX()&&(e[0]<r[0]||e[0]>r[2])){var o=n||Object(i.F)(r);a=Math.floor((e[0]-r[0])/o)}return a}},rCez:function(e,t,n){"use strict";var i=n("v7Mh"),r=n("bwl8"),a=n("ljNT"),o=function(e){b(n,e);var t=T(n);function n(e,i,r){var a;return _(this,n),(a=t.call(this,e)).element=i,a.index=r,a}return n}(n("Gp2b").a);t.a=function(e){b(n,e);var t=T(n);function n(e,i){var r;if(_(this,n),(r=t.call(this)).unique_=!!(i||{}).unique,r.array_=e||[],r.unique_)for(var a=0,o=r.array_.length;a<o;++a)r.assertUnique_(r.array_[a],a);return r.updateLength_(),w(r)}return y(n,[{key:"clear",value:function(){for(;this.getLength()>0;)this.pop()}},{key:"extend",value:function(e){for(var t=0,n=e.length;t<n;++t)this.push(e[t]);return this}},{key:"forEach",value:function(e){for(var t=this.array_,n=0,i=t.length;n<i;++n)e(t[n],n,t)}},{key:"getArray",value:function(){return this.array_}},{key:"item",value:function(e){return this.array_[e]}},{key:"getLength",value:function(){return this.get("length")}},{key:"insertAt",value:function(e,t){this.unique_&&this.assertUnique_(t),this.array_.splice(e,0,t),this.updateLength_(),this.dispatchEvent(new o(a.a.ADD,t,e))}},{key:"pop",value:function(){return this.removeAt(this.getLength()-1)}},{key:"push",value:function(e){this.unique_&&this.assertUnique_(e);var t=this.getLength();return this.insertAt(t,e),this.getLength()}},{key:"remove",value:function(e){for(var t=this.array_,n=0,i=t.length;n<i;++n)if(t[n]===e)return this.removeAt(n)}},{key:"removeAt",value:function(e){var t=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new o(a.a.REMOVE,t,e)),t}},{key:"setAt",value:function(e,t){var n=this.getLength();if(e<n){this.unique_&&this.assertUnique_(t,e);var i=this.array_[e];this.array_[e]=t,this.dispatchEvent(new o(a.a.REMOVE,i,e)),this.dispatchEvent(new o(a.a.ADD,t,e))}else{for(var r=n;r<e;++r)this.insertAt(r,void 0);this.insertAt(e,t)}}},{key:"updateLength_",value:function(){this.set("length",this.array_.length)}},{key:"assertUnique_",value:function(e,t){for(var n=0,r=this.array_.length;n<r;++n)if(this.array_[n]===e&&n!==t)throw new i.a(58)}}]),n}(r.a)},rWzI:function(e,t,n){(function(e){var i;!function(r){"object"==typeof global&&global;var a,o=2147483647,s=/^xn--/,l=/[^\x20-\x7E]/,u=/[\x2E\u3002\uFF0E\uFF61]/g,c={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},h=Math.floor,d=String.fromCharCode;function f(e){throw RangeError(c[e])}function p(e,t){for(var n=e.length,i=[];n--;)i[n]=t(e[n]);return i}function m(e,t){var n=e.split("@"),i="";return n.length>1&&(i=n[0]+"@",e=n[1]),i+p((e=e.replace(u,".")).split("."),t).join(".")}function v(e){for(var t,n,i=[],r=0,a=e.length;r<a;)(t=e.charCodeAt(r++))>=55296&&t<=56319&&r<a?56320==(64512&(n=e.charCodeAt(r++)))?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),r--):i.push(t);return i}function g(e){return p(e,function(e){var t="";return e>65535&&(t+=d((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+d(e)}).join("")}function y(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function _(e,t,n){var i=0;for(e=n?h(e/700):e>>1,e+=h(e/t);e>455;i+=36)e=h(e/35);return h(i+36*e/(e+38))}function b(e){var t,n,i,r,a,s,l,u,c,d,p,m=[],v=e.length,y=0,b=128,S=72;for((n=e.lastIndexOf("-"))<0&&(n=0),i=0;i<n;++i)e.charCodeAt(i)>=128&&f("not-basic"),m.push(e.charCodeAt(i));for(r=n>0?n+1:0;r<v;){for(a=y,s=1,l=36;r>=v&&f("invalid-input"),((u=(p=e.charCodeAt(r++))-48<10?p-22:p-65<26?p-65:p-97<26?p-97:36)>=36||u>h((o-y)/s))&&f("overflow"),y+=u*s,!(u<(c=l<=S?1:l>=S+26?26:l-S));l+=36)s>h(o/(d=36-c))&&f("overflow"),s*=d;S=_(y-a,t=m.length+1,0==a),h(y/t)>o-b&&f("overflow"),b+=h(y/t),y%=t,m.splice(y++,0,b)}return g(m)}function S(e){var t,n,i,r,a,s,l,u,c,p,m,g,b,S,T,w=[];for(g=(e=v(e)).length,t=128,n=0,a=72,s=0;s<g;++s)(m=e[s])<128&&w.push(d(m));for(i=r=w.length,r&&w.push("-");i<g;){for(l=o,s=0;s<g;++s)(m=e[s])>=t&&m<l&&(l=m);for(l-t>h((o-n)/(b=i+1))&&f("overflow"),n+=(l-t)*b,t=l,s=0;s<g;++s)if((m=e[s])<t&&++n>o&&f("overflow"),m==t){for(u=n,c=36;!(u<(p=c<=a?1:c>=a+26?26:c-a));c+=36)w.push(d(y(p+(T=u-p)%(S=36-p),0))),u=h(T/S);w.push(d(y(u,0))),a=_(n,b,i==r),n=0,++i}++n,++t}return w.join("")}a={version:"1.3.2",ucs2:{decode:v,encode:g},decode:b,encode:S,toASCII:function(e){return m(e,function(e){return l.test(e)?"xn--"+S(e):e})},toUnicode:function(e){return m(e,function(e){return s.test(e)?b(e.slice(4).toLowerCase()):e})}},void 0===(i=(function(){return a}).call(t,n,t,e))||(e.exports=i)}()}).call(this,n("YuTi")(e))},"rb/e":function(e,t,n){"use strict";t.a={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}},rfxS:function(e,t,n){"use strict";var i=n("2I+J"),r=n("dvVV"),a=function(){function e(t){_(this,e),this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=Object(r.d)(t.scale),this.displacement_=t.displacement}return y(e,[{key:"clone",value:function(){var t=this.getScale();return new e({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()})}},{key:"getOpacity",value:function(){return this.opacity_}},{key:"getRotateWithView",value:function(){return this.rotateWithView_}},{key:"getRotation",value:function(){return this.rotation_}},{key:"getScale",value:function(){return this.scale_}},{key:"getScaleArray",value:function(){return this.scaleArray_}},{key:"getDisplacement",value:function(){return this.displacement_}},{key:"getAnchor",value:function(){return Object(i.b)()}},{key:"getImage",value:function(e){return Object(i.b)()}},{key:"getHitDetectionImage",value:function(){return Object(i.b)()}},{key:"getPixelRatio",value:function(e){return 1}},{key:"getImageState",value:function(){return Object(i.b)()}},{key:"getImageSize",value:function(){return Object(i.b)()}},{key:"getHitDetectionImageSize",value:function(){return Object(i.b)()}},{key:"getOrigin",value:function(){return Object(i.b)()}},{key:"getSize",value:function(){return Object(i.b)()}},{key:"setOpacity",value:function(e){this.opacity_=e}},{key:"setRotateWithView",value:function(e){this.rotateWithView_=e}},{key:"setRotation",value:function(e){this.rotation_=e}},{key:"setScale",value:function(e){this.scale_=e,this.scaleArray_=Object(r.d)(e)}},{key:"listenImageChange",value:function(e){Object(i.b)()}},{key:"load",value:function(){Object(i.b)()}},{key:"unlistenImageChange",value:function(e){Object(i.b)()}}]),e}();t.a=a},s7LF:function(e,t,n){"use strict";n.d(t,"a",function(){return f}),n.d(t,"b",function(){return v}),n.d(t,"c",function(){return he}),n.d(t,"d",function(){return Be}),n.d(t,"e",function(){return de}),n.d(t,"f",function(){return De}),n.d(t,"g",function(){return je}),n.d(t,"h",function(){return Qe}),n.d(t,"i",function(){return z}),n.d(t,"j",function(){return X}),n.d(t,"k",function(){return q}),n.d(t,"l",function(){return ve}),n.d(t,"m",function(){return we}),n.d(t,"n",function(){return be}),n.d(t,"o",function(){return qe}),n.d(t,"p",function(){return Ce}),n.d(t,"q",function(){return Ae}),n.d(t,"r",function(){return Ie}),n.d(t,"s",function(){return $e}),n.d(t,"t",function(){return Xe}),n.d(t,"u",function(){return Ke}),n.d(t,"v",function(){return C}),n.d(t,"w",function(){return xe}),n.d(t,"x",function(){return Ze});var i=n("8Y7J"),r=n("SVse"),a=n("Cfvw"),o=n("cp0P"),s=n("lJxs"),l=function e(){_(this,e)},u=new i.r("NgValueAccessor"),c={provide:u,useExisting:Object(i.T)(function(){return f}),multi:!0},f=function(){var e=function(e){b(n,e);var t=T(n);function n(e,i){var r;return _(this,n),(r=t.call(this))._renderer=e,r._elementRef=i,r.onChange=function(e){},r.onTouched=function(){},r}return y(n,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),n}(l);return e.\u0275fac=function(t){return new(t||e)(i.Kb(i.E),i.Kb(i.l))},e.\u0275dir=i.Fb({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,t){1&e&&i.Xb("change",function(e){return t.onChange(e.target.checked)})("blur",function(){return t.onTouched()})},features:[i.yb([c]),i.wb]}),e}(),p={provide:u,useExisting:Object(i.T)(function(){return v}),multi:!0},m=new i.r("CompositionEventMode"),v=function(){var e=function(){function e(t,n,i){var a;_(this,e),this._renderer=t,this._elementRef=n,this._compositionMode=i,this.onChange=function(e){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(a=Object(r.D)()?Object(r.D)().getUserAgent():"",!/android (\d+)/.test(a.toLowerCase())))}return y(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_handleInput",value:function(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Kb(i.E),i.Kb(i.l),i.Kb(m,8))},e.\u0275dir=i.Fb({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&i.Xb("input",function(e){return t._handleInput(e.target.value)})("blur",function(){return t.onTouched()})("compositionstart",function(){return t._compositionStart()})("compositionend",function(e){return t._compositionEnd(e.target.value)})},features:[i.yb([p])]}),e}();function g(e){return null==e||0===e.length}function S(e){return null!=e&&"number"==typeof e.length}var w=new i.r("NgValidators"),x=new i.r("NgAsyncValidators"),E=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,C=function(){function e(){_(this,e)}return y(e,null,[{key:"min",value:function(e){return function(e){return function(t){if(g(t.value)||g(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}(e)}},{key:"max",value:function(e){return function(e){return function(t){if(g(t.value)||g(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}(e)}},{key:"required",value:function(e){return function(e){return g(e.value)?{required:!0}:null}(e)}},{key:"requiredTrue",value:function(e){return function(e){return!0===e.value?null:{required:!0}}(e)}},{key:"email",value:function(e){return function(e){return g(e.value)||E.test(e.value)?null:{email:!0}}(e)}},{key:"minLength",value:function(e){return function(e){return function(t){return g(t.value)||!S(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}}(e)}},{key:"maxLength",value:function(e){return function(e){return function(t){return S(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}}(e)}},{key:"pattern",value:function(e){return function(e){return e?("string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),function(e){if(g(e.value))return null;var i=e.value;return t.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}):k;var t,n}(e)}},{key:"nullValidator",value:function(e){return null}},{key:"compose",value:function(e){return L(e)}},{key:"composeAsync",value:function(e){return D(e)}}]),e}();function k(e){return null}function M(e){return null!=e}function O(e){var t=Object(i.qb)(e)?Object(a.a)(e):e;return Object(i.pb)(t),t}function A(e){var t={};return e.forEach(function(e){t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function R(e,t){return t.map(function(t){return t(e)})}function I(e){return e.map(function(e){return function(e){return!e.validate}(e)?e:function(t){return e.validate(t)}})}function L(e){if(!e)return null;var t=e.filter(M);return 0==t.length?null:function(e){return A(R(e,t))}}function P(e){return null!=e?L(I(e)):null}function D(e){if(!e)return null;var t=e.filter(M);return 0==t.length?null:function(e){var n=R(e,t).map(O);return Object(o.a)(n).pipe(Object(s.a)(A))}}function N(e){return null!=e?D(I(e)):null}function j(e,t){return null===e?[t]:Array.isArray(e)?[].concat(d(e),[t]):[e,t]}function F(e){return e._rawValidators}function U(e){return e._rawAsyncValidators}var G=function(){var e=function(){function e(){_(this,e),this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}return y(e,[{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}},{key:"_setValidators",value:function(e){this._rawValidators=e||[],this._composedValidatorFn=P(this._rawValidators)}},{key:"_setAsyncValidators",value:function(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=N(this._rawAsyncValidators)}},{key:"validator",get:function(){return this._composedValidatorFn||null}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn||null}},{key:"_registerOnDestroy",value:function(e){this._onDestroyCallbacks.push(e)}},{key:"_invokeOnDestroyCallbacks",value:function(){this._onDestroyCallbacks.forEach(function(e){return e()}),this._onDestroyCallbacks=[]}},{key:"reset",value:function(e){this.control&&this.control.reset(e)}},{key:"hasError",value:function(e,t){return!!this.control&&this.control.hasError(e,t)}},{key:"getError",value:function(e,t){return this.control?this.control.getError(e,t):null}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i.Fb({type:e}),e}(),V=function(){var e=function(e){b(n,e);var t=T(n);function n(){return _(this,n),t.apply(this,arguments)}return y(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(G);return e.\u0275fac=function(t){return B(t||e)},e.\u0275dir=i.Fb({type:e,features:[i.wb]}),e}(),B=i.Sb(V),z=function(e){b(n,e);var t=T(n);function n(){var e;return _(this,n),(e=t.apply(this,arguments))._parent=null,e.name=null,e.valueAccessor=null,e}return n}(G),H=function(){function e(t){_(this,e),this._cd=t}return y(e,[{key:"is",value:function(e){var t,n;return!!(null===(n=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===n?void 0:n[e])}}]),e}(),X=function(){var e=function(e){b(n,e);var t=T(n);function n(e){return _(this,n),t.call(this,e)}return n}(H);return e.\u0275fac=function(t){return new(t||e)(i.Kb(z,2))},e.\u0275dir=i.Fb({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&i.Cb("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))},features:[i.wb]}),e}(),q=function(){var e=function(e){b(n,e);var t=T(n);function n(e){return _(this,n),t.call(this,e)}return n}(H);return e.\u0275fac=function(t){return new(t||e)(i.Kb(V,10))},e.\u0275dir=i.Fb({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(e,t){2&e&&i.Cb("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))},features:[i.wb]}),e}();function W(e,t){return[].concat(d(t.path),[e])}function Y(e,t){J(e,t,!0),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(function(n){e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&$(e,t)})}(e,t),function(e,t){var n=function(e,n){t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)};e.registerOnChange(n),t._registerOnDestroy(function(){e._unregisterOnChange(n)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(function(){e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&$(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function(e,t){if(t.valueAccessor.setDisabledState){var n=function(e){t.valueAccessor.setDisabledState(e)};e.registerOnDisabledChange(n),t._registerOnDestroy(function(){e._unregisterOnDisabledChange(n)})}}(e,t)}function K(e,t){var n=function(){};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),Q(e,t,!0),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(function(){}))}function Z(e,t){e.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function J(e,t,n){var i=F(e);null!==t.validator?e.setValidators(j(i,t.validator)):"function"==typeof i&&e.setValidators([i]);var r=U(e);if(null!==t.asyncValidator?e.setAsyncValidators(j(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]),n){var a=function(){return e.updateValueAndValidity()};Z(t._rawValidators,a),Z(t._rawAsyncValidators,a)}}function Q(e,t,n){var i=!1;if(null!==e){if(null!==t.validator){var r=F(e);if(Array.isArray(r)&&r.length>0){var a=r.filter(function(e){return e!==t.validator});a.length!==r.length&&(i=!0,e.setValidators(a))}}if(null!==t.asyncValidator){var o=U(e);if(Array.isArray(o)&&o.length>0){var s=o.filter(function(e){return e!==t.asyncValidator});s.length!==o.length&&(i=!0,e.setAsyncValidators(s))}}}if(n){var l=function(){};Z(t._rawValidators,l),Z(t._rawAsyncValidators,l)}return i}function $(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function ee(e,t){J(e,t,!1)}function te(e,t){if(!e.hasOwnProperty("model"))return!1;var n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}function ne(e,t){e._syncPendingControls(),t.forEach(function(e){var t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function ie(e,t){return t?(Array.isArray(t),t.forEach(function(e){e.constructor===v?n=e:Object.getPrototypeOf(e.constructor)===l?i=e:r=e}),r||i||n||null):null;var n,i,r}function re(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}function ae(e){return(ue(e)?e.validators:e)||null}function oe(e){return Array.isArray(e)?P(e):e||null}function se(e,t){return(ue(t)?t.asyncValidators:e)||null}function le(e){return Array.isArray(e)?N(e):e||null}function ue(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var ce=function(){function e(t,n){_(this,e),this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=function(){},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=n,this._composedValidatorFn=oe(this._rawValidators),this._composedAsyncValidatorFn=le(this._rawAsyncValidators)}return y(e,[{key:"validator",get:function(){return this._composedValidatorFn},set:function(e){this._rawValidators=this._composedValidatorFn=e}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn},set:function(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"setValidators",value:function(e){this._rawValidators=e,this._composedValidatorFn=oe(e)}},{key:"setAsyncValidators",value:function(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=le(e)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild(function(e){return e.markAllAsTouched()})}},{key:"markAsUntouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(e){e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"markAsDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}},{key:"markAsPristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(e){e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"markAsPending",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}},{key:"disable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(function(t){t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(function(e){return e(!0)})}},{key:"enable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="VALID",this._forEachChild(function(t){t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(function(e){return e(!1)})}},{key:"_updateAncestors",value:function(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(e){this._parent=e}},{key:"updateValueAndValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}},{key:"_updateTreeValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild(function(t){return t._updateTreeValidity(e)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(e){var t=this;if(this.asyncValidator){this.status="PENDING",this._hasOwnPendingAsyncValidator=!0;var n=O(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){t._hasOwnPendingAsyncValidator=!1,t.setErrors(n,{emitEvent:e})})}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}},{key:"setErrors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}},{key:"get",value:function(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;var i=e;return t.forEach(function(e){i=i instanceof de?i.controls.hasOwnProperty(e)?i.controls[e]:null:i instanceof fe&&i.at(e)||null}),i}(this,e)}},{key:"getError",value:function(e,t){var n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}},{key:"hasError",value:function(e,t){return!!this.getError(e,t)}},{key:"root",get:function(){for(var e=this;e._parent;)e=e._parent;return e}},{key:"_updateControlsErrors",value:function(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}},{key:"_initObservables",value:function(){this.valueChanges=new i.n,this.statusChanges=new i.n}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(e){return this._anyControls(function(t){return t.status===e})}},{key:"_anyControlsDirty",value:function(){return this._anyControls(function(e){return e.dirty})}},{key:"_anyControlsTouched",value:function(){return this._anyControls(function(e){return e.touched})}},{key:"_updatePristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"_updateTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"_isBoxedValue",value:function(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}},{key:"_registerOnCollectionChange",value:function(e){this._onCollectionChange=e}},{key:"_setUpdateStrategy",value:function(e){ue(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}},{key:"_parentMarkedDirty",value:function(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}]),e}(),he=function(e){b(n,e);var t=T(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;return _(this,n),(e=t.call(this,ae(r),se(a,r)))._onChange=[],e._applyFormState(i),e._setUpdateStrategy(r),e._initObservables(),e.updateValueAndValidity({onlySelf:!0,emitEvent:!!a}),e}return y(n,[{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(function(e){return e(t.value,!1!==n.emitViewToModelChange)}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(e,t)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(e){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(e){this._onChange.push(e)}},{key:"_unregisterOnChange",value:function(e){re(this._onChange,e)}},{key:"registerOnDisabledChange",value:function(e){this._onDisabledChange.push(e)}},{key:"_unregisterOnDisabledChange",value:function(e){re(this._onDisabledChange,e)}},{key:"_forEachChild",value:function(e){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}]),n}(ce),de=function(e){b(n,e);var t=T(n);function n(e,i,r){var a;return _(this,n),(a=t.call(this,ae(i),se(r,i))).controls=e,a._initObservables(),a._setUpdateStrategy(i),a._setUpControls(),a.updateValueAndValidity({onlySelf:!0,emitEvent:!!r}),a}return y(n,[{key:"registerControl",value:function(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}},{key:"addControl",value:function(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),Object.keys(e).forEach(function(i){t._throwIfControlMissing(i),t.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=e&&(Object.keys(e).forEach(function(i){t.controls[i]&&t.controls[i].patchValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,i){n.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this._reduceChildren({},function(e,t,n){return e[n]=t instanceof he?t.value:t.getRawValue(),e})}},{key:"_syncPendingControls",value:function(){var e=this._reduceChildren(!1,function(e,t){return!!t._syncPendingControls()||e});return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error("Cannot find form control with name: ".concat(e,"."))}},{key:"_forEachChild",value:function(e){var t=this;Object.keys(this.controls).forEach(function(n){var i=t.controls[n];i&&e(i,n)})}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild(function(t){t.setParent(e),t._registerOnCollectionChange(e._onCollectionChange)})}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(e){for(var t=0,n=Object.keys(this.controls);t<n.length;t++){var i=n[t],r=this.controls[i];if(this.contains(i)&&e(r))return!0}return!1}},{key:"_reduceValue",value:function(){var e=this;return this._reduceChildren({},function(t,n,i){return(n.enabled||e.disabled)&&(t[i]=n.value),t})}},{key:"_reduceChildren",value:function(e,t){var n=e;return this._forEachChild(function(e,i){n=t(n,e,i)}),n}},{key:"_allControlsDisabled",value:function(){for(var e=0,t=Object.keys(this.controls);e<t.length;e++){var n=t[e];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild(function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))})}}]),n}(ce),fe=function(e){b(n,e);var t=T(n);function n(e,i,r){var a;return _(this,n),(a=t.call(this,ae(i),se(r,i))).controls=e,a._initObservables(),a._setUpdateStrategy(i),a._setUpControls(),a.updateValueAndValidity({onlySelf:!0,emitEvent:!!r}),a}return y(n,[{key:"at",value:function(e){return this.controls[e]}},{key:"push",value:function(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}},{key:"removeAt",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),this.controls.splice(e,1),this.updateValueAndValidity()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"length",get:function(){return this.controls.length}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),e.forEach(function(e,i){t._throwIfControlMissing(i),t.at(i).setValue(e,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=e&&(e.forEach(function(e,i){t.at(i)&&t.at(i).patchValue(e,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,i){n.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this.controls.map(function(e){return e instanceof he?e.value:e.getRawValue()})}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild(function(e){return e._registerOnCollectionChange(function(){})}),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var e=this.controls.reduce(function(e,t){return!!t._syncPendingControls()||e},!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index ".concat(e))}},{key:"_forEachChild",value:function(e){this.controls.forEach(function(t,n){e(t,n)})}},{key:"_updateValue",value:function(){var e=this;this.value=this.controls.filter(function(t){return t.enabled||e.disabled}).map(function(e){return e.value})}},{key:"_anyControls",value:function(e){return this.controls.some(function(t){return t.enabled&&e(t)})}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild(function(t){return e._registerControl(t)})}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild(function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))})}},{key:"_allControlsDisabled",value:function(){var e,t=h(this.controls);try{for(t.s();!(e=t.n()).done;){if(e.value.enabled)return!1}}catch(n){t.e(n)}finally{t.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}]),n}(ce),pe={provide:V,useExisting:Object(i.T)(function(){return ve})},me=Promise.resolve(null),ve=function(){var e=function(e){b(n,e);var t=T(n);function n(e,r){var a;return _(this,n),(a=t.call(this)).submitted=!1,a._directives=[],a.ngSubmit=new i.n,a.form=new de({},P(e),N(r)),a}return y(n,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}},{key:"addControl",value:function(e){var t=this;me.then(function(){var n=t._findContainer(e.path);e.control=n.registerControl(e.name,e.control),Y(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),t._directives.push(e)})}},{key:"getControl",value:function(e){return this.form.get(e.path)}},{key:"removeControl",value:function(e){var t=this;me.then(function(){var n=t._findContainer(e.path);n&&n.removeControl(e.name),re(t._directives,e)})}},{key:"addFormGroup",value:function(e){var t=this;me.then(function(){var n=t._findContainer(e.path),i=new de({});ee(i,e),n.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}},{key:"removeFormGroup",value:function(e){var t=this;me.then(function(){var n=t._findContainer(e.path);n&&n.removeControl(e.name)})}},{key:"getFormGroup",value:function(e){return this.form.get(e.path)}},{key:"updateModel",value:function(e,t){var n=this;me.then(function(){n.form.get(e.path).setValue(t)})}},{key:"setValue",value:function(e){this.control.setValue(e)}},{key:"onSubmit",value:function(e){return this.submitted=!0,ne(this.form,this._directives),this.ngSubmit.emit(e),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(e){this.form.reset(e),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(e){return e.pop(),e.length?this.form.get(e):this.form}}]),n}(V);return e.\u0275fac=function(t){return new(t||e)(i.Kb(w,10),i.Kb(x,10))},e.\u0275dir=i.Fb({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,t){1&e&&i.Xb("submit",function(e){return t.onSubmit(e)})("reset",function(){return t.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.yb([pe]),i.wb]}),e}(),ge=function(){var e=function(e){b(n,e);var t=T(n);function n(){return _(this,n),t.apply(this,arguments)}return y(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormGroup(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormGroup(this)}},{key:"control",get:function(){return this.formDirective.getFormGroup(this)}},{key:"path",get:function(){return W(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"_checkParentType",value:function(){}}]),n}(V);return e.\u0275fac=function(t){return ye(t||e)},e.\u0275dir=i.Fb({type:e,features:[i.wb]}),e}(),ye=i.Sb(ge),_e={provide:V,useExisting:Object(i.T)(function(){return be})},be=function(){var e=function(e){b(n,e);var t=T(n);function n(e,i,r){var a;return _(this,n),(a=t.call(this))._parent=e,a._setValidators(i),a._setAsyncValidators(r),a}return y(n,[{key:"_checkParentType",value:function(){}}]),n}(ge);return e.\u0275fac=function(t){return new(t||e)(i.Kb(V,5),i.Kb(w,10),i.Kb(x,10))},e.\u0275dir=i.Fb({type:e,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[i.yb([_e]),i.wb]}),e}(),Se={provide:z,useExisting:Object(i.T)(function(){return we})},Te=Promise.resolve(null),we=function(){var e=function(e){b(n,e);var t=T(n);function n(e,r,a,o){var s;return _(this,n),(s=t.call(this)).control=new he,s._registered=!1,s.update=new i.n,s._parent=e,s._setValidators(r),s._setAsyncValidators(a),s.valueAccessor=ie(0,o),s}return y(n,[{key:"ngOnChanges",value:function(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),te(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"path",get:function(){return this._parent?W(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){Y(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}},{key:"_updateValue",value:function(e){var t=this;Te.then(function(){t.control.setValue(e,{emitViewToModelChange:!1})})}},{key:"_updateDisabled",value:function(e){var t=this,n=e.isDisabled.currentValue,i=""===n||n&&"false"!==n;Te.then(function(){i&&!t.control.disabled?t.control.disable():!i&&t.control.disabled&&t.control.enable()})}}]),n}(z);return e.\u0275fac=function(t){return new(t||e)(i.Kb(V,9),i.Kb(w,10),i.Kb(x,10),i.Kb(u,10))},e.\u0275dir=i.Fb({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[i.yb([Se]),i.wb,i.xb]}),e}(),xe=function(){var e=function e(){_(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i.Fb({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e}(),Ee={provide:u,useExisting:Object(i.T)(function(){return Ce}),multi:!0},Ce=function(){var e=function(e){b(n,e);var t=T(n);function n(e,i){var r;return _(this,n),(r=t.call(this))._renderer=e,r._elementRef=i,r.onChange=function(e){},r.onTouched=function(){},r}return y(n,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),n}(l);return e.\u0275fac=function(t){return new(t||e)(i.Kb(i.E),i.Kb(i.l))},e.\u0275dir=i.Fb({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&i.Xb("input",function(e){return t.onChange(e.target.value)})("blur",function(){return t.onTouched()})},features:[i.yb([Ee]),i.wb]}),e}(),ke={provide:u,useExisting:Object(i.T)(function(){return Ae}),multi:!0},Me=function(){var e=function e(){_(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.Ib({type:e}),e.\u0275inj=i.Hb({}),e}(),Oe=function(){var e=function(){function e(){_(this,e),this._accessors=[]}return y(e,[{key:"add",value:function(e,t){this._accessors.push([e,t])}},{key:"remove",value:function(e){for(var t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}},{key:"select",value:function(e){var t=this;this._accessors.forEach(function(n){t._isSameGroup(n,e)&&n[1]!==e&&n[1].fireUncheck(e.value)})}},{key:"_isSameGroup",value:function(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(i.Gb)({factory:function(){return new e},token:e,providedIn:Me}),e}(),Ae=function(){var e=function(e){b(n,e);var t=T(n);function n(e,i,r,a){var o;return _(this,n),(o=t.call(this))._renderer=e,o._elementRef=i,o._registry=r,o._injector=a,o.onChange=function(){},o.onTouched=function(){},o}return y(n,[{key:"ngOnInit",value:function(){this._control=this._injector.get(z),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(e){var t=this;this._fn=e,this.onChange=function(){e(t.value),t._registry.select(t)}}},{key:"fireUncheck",value:function(e){this.writeValue(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_checkName",value:function(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}]),n}(l);return e.\u0275fac=function(t){return new(t||e)(i.Kb(i.E),i.Kb(i.l),i.Kb(Oe),i.Kb(i.s))},e.\u0275dir=i.Fb({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,t){1&e&&i.Xb("change",function(){return t.onChange()})("blur",function(){return t.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[i.yb([ke]),i.wb]}),e}(),Re={provide:u,useExisting:Object(i.T)(function(){return Ie}),multi:!0},Ie=function(){var e=function(e){b(n,e);var t=T(n);function n(e,i){var r;return _(this,n),(r=t.call(this))._renderer=e,r._elementRef=i,r.onChange=function(e){},r.onTouched=function(){},r}return y(n,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),n}(l);return e.\u0275fac=function(t){return new(t||e)(i.Kb(i.E),i.Kb(i.l))},e.\u0275dir=i.Fb({type:e,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(e,t){1&e&&i.Xb("change",function(e){return t.onChange(e.target.value)})("input",function(e){return t.onChange(e.target.value)})("blur",function(){return t.onTouched()})},features:[i.yb([Re]),i.wb]}),e}(),Le=new i.r("NgModelWithFormControlWarning"),Pe={provide:V,useExisting:Object(i.T)(function(){return De})},De=function(){var e=function(e){b(n,e);var t=T(n);function n(e,r){var a;return _(this,n),(a=t.call(this)).validators=e,a.asyncValidators=r,a.submitted=!1,a._onCollectionChange=function(){return a._updateDomValue()},a.directives=[],a.form=null,a.ngSubmit=new i.n,a._setValidators(e),a._setAsyncValidators(r),a}return y(n,[{key:"ngOnChanges",value:function(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}},{key:"ngOnDestroy",value:function(){this.form&&(Q(this.form,this,!1),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(function(){}))}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"addControl",value:function(e){var t=this.form.get(e.path);return Y(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}},{key:"getControl",value:function(e){return this.form.get(e.path)}},{key:"removeControl",value:function(e){K(e.control||null,e,!1),re(this.directives,e)}},{key:"addFormGroup",value:function(e){this._setUpFormContainer(e)}},{key:"removeFormGroup",value:function(e){this._cleanUpFormContainer(e)}},{key:"getFormGroup",value:function(e){return this.form.get(e.path)}},{key:"addFormArray",value:function(e){this._setUpFormContainer(e)}},{key:"removeFormArray",value:function(e){this._cleanUpFormContainer(e)}},{key:"getFormArray",value:function(e){return this.form.get(e.path)}},{key:"updateModel",value:function(e,t){this.form.get(e.path).setValue(t)}},{key:"onSubmit",value:function(e){return this.submitted=!0,ne(this.form,this.directives),this.ngSubmit.emit(e),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(e){this.form.reset(e),this.submitted=!1}},{key:"_updateDomValue",value:function(){var e=this;this.directives.forEach(function(t){var n=t.control,i=e.form.get(t.path);n!==i&&(K(n||null,t),i instanceof he&&(Y(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_setUpFormContainer",value:function(e){var t=this.form.get(e.path);ee(t,e),t.updateValueAndValidity({emitEvent:!1})}},{key:"_cleanUpFormContainer",value:function(e){if(this.form){var t=this.form.get(e.path);t&&function(e,t){return Q(e,t,!1)}(t,e)&&t.updateValueAndValidity({emitEvent:!1})}}},{key:"_updateRegistrations",value:function(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(function(){})}},{key:"_updateValidators",value:function(){J(this.form,this,!1),this._oldForm&&Q(this._oldForm,this,!1)}},{key:"_checkFormPresent",value:function(){}}]),n}(V);return e.\u0275fac=function(t){return new(t||e)(i.Kb(w,10),i.Kb(x,10))},e.\u0275dir=i.Fb({type:e,selectors:[["","formGroup",""]],hostBindings:function(e,t){1&e&&i.Xb("submit",function(e){return t.onSubmit(e)})("reset",function(){return t.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.yb([Pe]),i.wb,i.xb]}),e}(),Ne={provide:V,useExisting:Object(i.T)(function(){return je})},je=function(){var e=function(e){b(n,e);var t=T(n);function n(e,i,r){var a;return _(this,n),(a=t.call(this))._parent=e,a._setValidators(i),a._setAsyncValidators(r),a}return y(n,[{key:"_checkParentType",value:function(){Ge(this._parent)}}]),n}(ge);return e.\u0275fac=function(t){return new(t||e)(i.Kb(V,13),i.Kb(w,10),i.Kb(x,10))},e.\u0275dir=i.Fb({type:e,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[i.yb([Ne]),i.wb]}),e}(),Fe={provide:V,useExisting:Object(i.T)(function(){return Ue})},Ue=function(){var e=function(e){b(n,e);var t=T(n);function n(e,i,r){var a;return _(this,n),(a=t.call(this))._parent=e,a._setValidators(i),a._setAsyncValidators(r),a}return y(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormArray(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormArray(this)}},{key:"control",get:function(){return this.formDirective.getFormArray(this)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"path",get:function(){return W(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"_checkParentType",value:function(){Ge(this._parent)}}]),n}(V);return e.\u0275fac=function(t){return new(t||e)(i.Kb(V,13),i.Kb(w,10),i.Kb(x,10))},e.\u0275dir=i.Fb({type:e,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[i.yb([Fe]),i.wb]}),e}();function Ge(e){return!(e instanceof je||e instanceof De||e instanceof Ue)}var Ve={provide:z,useExisting:Object(i.T)(function(){return Be})},Be=function(){var e=function(e){b(n,e);var t=T(n);function n(e,r,a,o,s){var l;return _(this,n),(l=t.call(this))._ngModelWarningConfig=s,l._added=!1,l.update=new i.n,l._ngModelWarningSent=!1,l._parent=e,l._setValidators(r),l._setAsyncValidators(a),l.valueAccessor=ie(0,o),l}return y(n,[{key:"isDisabled",set:function(e){}},{key:"ngOnChanges",value:function(e){this._added||this._setUpControl(),te(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"path",get:function(){return W(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"_checkParentType",value:function(){}},{key:"_setUpControl",value:function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}]),n}(z);return e.\u0275fac=function(t){return new(t||e)(i.Kb(V,13),i.Kb(w,10),i.Kb(x,10),i.Kb(u,10),i.Kb(Le,8))},e.\u0275dir=i.Fb({type:e,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[i.yb([Ve]),i.wb,i.xb]}),e._ngModelWarningSentOnce=!1,e}(),ze={provide:u,useExisting:Object(i.T)(function(){return Xe}),multi:!0};function He(e,t){return null==e?"".concat(t):(t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}var Xe=function(){var e=function(e){b(n,e);var t=T(n);function n(e,i){var r;return _(this,n),(r=t.call(this))._renderer=e,r._elementRef=i,r._optionMap=new Map,r._idCounter=0,r.onChange=function(e){},r.onTouched=function(){},r._compareWith=Object.is,r}return y(n,[{key:"compareWith",set:function(e){this._compareWith=e}},{key:"writeValue",value:function(e){this.value=e;var t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=He(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){t.value=t._getOptionValue(n),e(t.value)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var i=n[t];if(this._compareWith(this._optionMap.get(i),e))return i}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}}]),n}(l);return e.\u0275fac=function(t){return new(t||e)(i.Kb(i.E),i.Kb(i.l))},e.\u0275dir=i.Fb({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,t){1&e&&i.Xb("change",function(e){return t.onChange(e.target.value)})("blur",function(){return t.onTouched()})},inputs:{compareWith:"compareWith"},features:[i.yb([ze]),i.wb]}),e}(),qe=function(){var e=function(){function e(t,n,i){_(this,e),this._element=t,this._renderer=n,this._select=i,this._select&&(this.id=this._select._registerOption())}return y(e,[{key:"ngValue",set:function(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(He(this.id,e)),this._select.writeValue(this._select.value))}},{key:"value",set:function(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}},{key:"_setElementValue",value:function(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Kb(i.l),i.Kb(i.E),i.Kb(Xe,9))},e.\u0275dir=i.Fb({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e}(),We={provide:u,useExisting:Object(i.T)(function(){return Ke}),multi:!0};function Ye(e,t){return null==e?"".concat(t):("string"==typeof t&&(t="'".concat(t,"'")),t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}var Ke=function(){var e=function(e){b(n,e);var t=T(n);function n(e,i){var r;return _(this,n),(r=t.call(this))._renderer=e,r._elementRef=i,r._optionMap=new Map,r._idCounter=0,r.onChange=function(e){},r.onTouched=function(){},r._compareWith=Object.is,r}return y(n,[{key:"compareWith",set:function(e){this._compareWith=e}},{key:"writeValue",value:function(e){var t,n=this;if(this.value=e,Array.isArray(e)){var i=e.map(function(e){return n._getOptionId(e)});t=function(e,t){e._setSelected(i.indexOf(t.toString())>-1)}}else t=function(e,t){e._setSelected(!1)};this._optionMap.forEach(t)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){var i=[];if(void 0!==n.selectedOptions)for(var r=n.selectedOptions,a=0;a<r.length;a++){var o=r.item(a),s=t._getOptionValue(o.value);i.push(s)}else for(var l=n.options,u=0;u<l.length;u++){var c=l.item(u);if(c.selected){var h=t._getOptionValue(c.value);i.push(h)}}t.value=i,e(i)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(e){var t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var i=n[t];if(this._compareWith(this._optionMap.get(i)._value,e))return i}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}}]),n}(l);return e.\u0275fac=function(t){return new(t||e)(i.Kb(i.E),i.Kb(i.l))},e.\u0275dir=i.Fb({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,t){1&e&&i.Xb("change",function(e){return t.onChange(e.target)})("blur",function(){return t.onTouched()})},inputs:{compareWith:"compareWith"},features:[i.yb([We]),i.wb]}),e}(),Ze=function(){var e=function(){function e(t,n,i){_(this,e),this._element=t,this._renderer=n,this._select=i,this._select&&(this.id=this._select._registerOption(this))}return y(e,[{key:"ngValue",set:function(e){null!=this._select&&(this._value=e,this._setElementValue(Ye(this.id,e)),this._select.writeValue(this._select.value))}},{key:"value",set:function(e){this._select?(this._value=e,this._setElementValue(Ye(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}},{key:"_setElementValue",value:function(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}},{key:"_setSelected",value:function(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Kb(i.l),i.Kb(i.E),i.Kb(Ke,9))},e.\u0275dir=i.Fb({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e}(),Je=function(){var e=function e(){_(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.Ib({type:e}),e.\u0275inj=i.Hb({imports:[[Me]]}),e}(),Qe=function(){var e=function e(){_(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.Ib({type:e}),e.\u0275inj=i.Hb({imports:[Je]}),e}(),$e=function(){var e=function(){function e(){_(this,e)}return y(e,null,[{key:"withConfig",value:function(t){return{ngModule:e,providers:[{provide:Le,useValue:t.warnOnNgModelWithFormControl}]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.Ib({type:e}),e.\u0275inj=i.Hb({imports:[Je]}),e}()},sFtE:function(e,t,n){"use strict";var i=n("uMsb"),r=n("ogOc"),a=n("6SrS"),o=n("Bpkx"),s=n("n2w5"),l=n("hKKC"),u=n("4cD7"),c=n("Znq9");t.a=function(e){b(n,e);var t=T(n);function n(e){var i;return _(this,n),(i=t.call(this,e)).image_=null,i}return y(n,[{key:"getImage",value:function(){return this.image_?this.image_.getImage():null}},{key:"prepareFrame",value:function(e){var t=e.layerStatesArray[e.layerIndex],n=e.pixelRatio,i=e.viewState,o=i.resolution,s=this.getLayer().getSource(),u=e.viewHints,h=e.extent;if(void 0!==t.extent&&(h=Object(l.C)(h,Object(c.h)(t.extent,i.projection))),!u[r.a.ANIMATING]&&!u[r.a.INTERACTING]&&!Object(l.I)(h))if(s){var d=i.projection;if(!a.a){var f=s.getProjection();f&&(d=f)}var p=s.getImage(h,o,n,d);p&&this.loadImage(p)&&(this.image_=p)}else this.image_=null;return!!this.image_}},{key:"renderFrame",value:function(e,t){var n=this.image_,i=n.getExtent(),r=n.getResolution(),a=n.getPixelRatio(),h=e.layerStatesArray[e.layerIndex],d=e.pixelRatio,f=e.viewState,p=f.center,m=e.size,v=d*r/(f.resolution*a),g=Math.round(m[0]*d),y=Math.round(m[1]*d),_=f.rotation;if(_){var b=Math.round(Math.sqrt(g*g+y*y));g=b,y=b}Object(s.b)(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/d,1/d,_,-g/2,-y/2),Object(s.d)(this.inversePixelTransform,this.pixelTransform);var S=Object(u.b)(this.pixelTransform);this.useContainer(t,S,h.opacity);var T=this.context,w=T.canvas;w.width!=g||w.height!=y?(w.width=g,w.height=y):this.containerReused||T.clearRect(0,0,g,y);var x=!1;if(h.extent){var E=Object(c.h)(h.extent,f.projection);(x=!Object(l.h)(E,e.extent)&&Object(l.G)(E,e.extent))&&this.clipUnrotated(T,e,E)}var C=n.getImage(),k=Object(s.b)(this.tempTransform,g/2,y/2,v,v,0,a*(i[0]-p[0])/r,a*(p[1]-i[3])/r);this.renderedResolution=r*d/a;var M=k[4],O=k[5],A=C.width*k[0],R=C.height*k[3];if(Object(o.a)(T,this.getLayer().getSource().getContextOptions()),this.preRender(T,e),A>=.5&&R>=.5){var I,L=h.opacity;1!==L&&(I=this.context.globalAlpha,this.context.globalAlpha=L),this.context.drawImage(C,0,0,+C.width,+C.height,Math.round(M),Math.round(O),Math.round(A),Math.round(R)),1!==L&&(this.context.globalAlpha=I)}return this.postRender(T,e),x&&T.restore(),S!==w.style.transform&&(w.style.transform=S),this.container}}]),n}(i.a)},sOX2:function(e,t,n){"use strict";n.d(t,"c",function(){return l}),n.d(t,"a",function(){return c});var i=n("0T8a"),r=n("fyJ9"),a=(n("aBeY"),n("kEUA")),o=n("i3ci"),s=function(){function e(t){_(this,e);var n=t||{};this.geometry_=null,this.geometryFunction_=h,void 0!==n.geometry&&this.setGeometry(n.geometry),this.fill_=void 0!==n.fill?n.fill:null,this.image_=void 0!==n.image?n.image:null,this.renderer_=void 0!==n.renderer?n.renderer:null,this.stroke_=void 0!==n.stroke?n.stroke:null,this.text_=void 0!==n.text?n.text:null,this.zIndex_=n.zIndex}return y(e,[{key:"clone",value:function(){var t=this.getGeometry();return t&&"object"==typeof t&&(t=t.clone()),new e({geometry:t,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}},{key:"getRenderer",value:function(){return this.renderer_}},{key:"setRenderer",value:function(e){this.renderer_=e}},{key:"getGeometry",value:function(){return this.geometry_}},{key:"getGeometryFunction",value:function(){return this.geometryFunction_}},{key:"getFill",value:function(){return this.fill_}},{key:"setFill",value:function(e){this.fill_=e}},{key:"getImage",value:function(){return this.image_}},{key:"setImage",value:function(e){this.image_=e}},{key:"getStroke",value:function(){return this.stroke_}},{key:"setStroke",value:function(e){this.stroke_=e}},{key:"getText",value:function(){return this.text_}},{key:"setText",value:function(e){this.text_=e}},{key:"getZIndex",value:function(){return this.zIndex_}},{key:"setGeometry",value:function(e){"function"==typeof e?this.geometryFunction_=e:"string"==typeof e?this.geometryFunction_=function(t){return t.get(e)}:e?void 0!==e&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=h,this.geometry_=e}},{key:"setZIndex",value:function(e){this.zIndex_=e}}]),e}();function l(e){var t,n;"function"==typeof e?t=e:(Array.isArray(e)?n=e:(Object(o.a)("function"==typeof e.getZIndex,41),n=[e]),t=function(){return n});return t}var u=null;function c(e,t){if(!u){var n=new r.a({color:"rgba(255,255,255,0.4)"}),o=new a.a({color:"#3399CC",width:1.25});u=[new s({image:new i.a({fill:n,stroke:o,radius:5}),fill:n,stroke:o})]}return u}function h(e){return e.getGeometry()}t.b=s},sVev:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}()},siiE:function(e,t,n){"use strict";var i=n("QBIS"),r=n("JS5d"),a=n("0sIq"),o=n("FRHD"),s=n("n2w5"),l=n("hKKC"),u=n("4cD7"),c=n("LV+m"),h=n("k/Gk");function f(e,t,n,i,r,a,o,s,l,u,d,f){var p=e[t],m=e[t+1],v=0,g=0,y=0,_=0;function b(){v=p,g=m,p=e[t+=i],m=e[t+1],_+=y,y=Math.sqrt((p-v)*(p-v)+(m-g)*(m-g))}do{b()}while(t<n-i&&_+y<a);for(var S=(a-_)/y,T=Object(c.c)(v,p,S),w=Object(c.c)(g,m,S),x=t-i,E=_,C=a+s*l(u,r,d);t<n-i&&_+y<C;)b();S=(C-_)/y;var k,M=Object(c.c)(v,p,S),O=Object(c.c)(g,m,S);if(f){var A=[T,w,M,O];Object(h.a)(A,0,4,2,f,A,A),k=A[0]>A[2]}else k=T>M;var R,I=Math.PI,L=[],P=x+i===t;if(y=0,_=E,p=e[t=x],m=e[t+1],P){b();var D=Math.atan2(m-g,p-v);return k&&(D+=D>0?-I:I),L[0]=[(M+T)/2,(O+w)/2,(C-a)/2,D,r],L}for(var N=0,j=r.length;N<j;){b();var F=Math.atan2(m-g,p-v);if(k&&(F+=F>0?-I:I),void 0!==R){var U=F-R;if(U+=U>I?-2*I:U<-I?2*I:0,Math.abs(U)>o)return null}R=F;for(var G=N,V=0;N<j;++N){var B=s*l(u,r[k?j-N-1:N],d);if(t+i<n&&_+y<a+V+B/2)break;V+=B}if(N!==G){var z=k?r.substring(j-G,j-N):r.substring(G,N);S=(a+V/2-_)/y;var H=Object(c.c)(v,p,S),X=Object(c.c)(g,m,S);L.push([H,X,V/2,F,z]),a+=V}}return L}var p=n("oWEL"),m=n("90bG"),v=Object(l.k)(),g=[],b=[],S=[],T=[];function w(e){return e[3].declutterBox}var x=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function E(e,t){return"start"!==t&&"end"!==t||x.test(e)||(t="start"===t?"left":"right"),a.a[t]}var C=function(){function e(t,n,i,r,a){_(this,e),this.overlaps=i,this.pixelRatio=n,this.resolution=t,this.instructions=r.instructions,this.coordinates=r.coordinates,this.coordinateCache_={},this.renderBuffer_=a,this.renderedTransform_=Object(s.c)(),this.hitDetectionInstructions=r.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=r.fillStates||{},this.strokeStates=r.strokeStates||{},this.textStates=r.textStates||{},this.widths_={},this.labels_={}}return y(e,[{key:"createLabel",value:function(e,t,n,i){var r=e+t+n+i;if(this.labels_[r])return this.labels_[r];var a=i?this.strokeStates[i]:null,s=n?this.fillStates[n]:null,l=this.textStates[t],c=this.pixelRatio,h=[l.scale[0]*c,l.scale[1]*c],d=E(e,l.textAlign||u.m),f=i&&a.lineWidth?a.lineWidth:0,p=e.split("\n"),m=p.length,v=[],g=Object(u.r)(l.font,p,v),y=Object(u.q)(l.font),_=g+f,b=[],S=(_+2)*h[0],T=(y*m+f)*h[1],w={width:S<0?Math.floor(S):Math.ceil(S),height:T<0?Math.floor(T):Math.ceil(T),contextInstructions:b};1==h[0]&&1==h[1]||b.push("scale",h),b.push("font",l.font),i&&(b.push("strokeStyle",a.strokeStyle),b.push("lineWidth",f),b.push("lineCap",a.lineCap),b.push("lineJoin",a.lineJoin),b.push("miterLimit",a.miterLimit),(o.g?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D).prototype.setLineDash&&(b.push("setLineDash",[a.lineDash]),b.push("lineDashOffset",a.lineDashOffset))),n&&b.push("fillStyle",s.fillStyle),b.push("textBaseline","middle"),b.push("textAlign","center");var x,C=.5-d,k=d*_+C*f;if(i)for(x=0;x<m;++x)b.push("strokeText",[p[x],k+C*v[x],.5*(f+y)+x*y]);if(n)for(x=0;x<m;++x)b.push("fillText",[p[x],k+C*v[x],.5*(f+y)+x*y]);return this.labels_[r]=w,w}},{key:"replayTextBackground_",value:function(e,t,n,i,r,a,o){e.beginPath(),e.moveTo.apply(e,t),e.lineTo.apply(e,n),e.lineTo.apply(e,i),e.lineTo.apply(e,r),e.lineTo.apply(e,t),a&&(this.alignFill_=a[2],this.fill_(e)),o&&(this.setStrokeStyle_(e,o),e.stroke())}},{key:"calculateImageOrLabelDimensions_",value:function(e,t,n,i,r,a,o,u,c,h,d,f,p,m,y,_){var w,x=n-(o*=f[0]),E=i-(u*=f[1]),C=r+c>e?e-c:r,k=a+h>t?t-h:a,M=m[3]+C*f[0]+m[1],O=m[0]+k*f[1]+m[2],A=x-m[3],R=E-m[0];return(y||0!==d)&&(g[0]=A,T[0]=A,g[1]=R,b[1]=R,b[0]=A+M,S[0]=b[0],S[1]=R+O,T[1]=S[1]),0!==d?(w=Object(s.b)(Object(s.c)(),n,i,1,1,d,-n,-i),Object(s.a)(w,g),Object(s.a)(w,b),Object(s.a)(w,S),Object(s.a)(w,T),Object(l.l)(Math.min(g[0],b[0],S[0],T[0]),Math.min(g[1],b[1],S[1],T[1]),Math.max(g[0],b[0],S[0],T[0]),Math.max(g[1],b[1],S[1],T[1]),v)):Object(l.l)(Math.min(A,A+M),Math.min(R,R+O),Math.max(A,A+M),Math.max(R,R+O),v),p&&(x=Math.round(x),E=Math.round(E)),{drawImageX:x,drawImageY:E,drawImageW:C,drawImageH:k,originX:c,originY:h,declutterBox:{minX:v[0],minY:v[1],maxX:v[2],maxY:v[3],value:_},canvasTransform:w,scale:f}}},{key:"replayImageOrLabel_",value:function(e,t,n,i,r,a,o){var s=i.declutterBox,l=e.canvas,c=o?o[2]*i.scale[0]/2:0;return s.minX-c<=l.width/t&&s.maxX+c>=0&&s.minY-c<=l.height/t&&s.maxY+c>=0&&(!(!a&&!o)&&this.replayTextBackground_(e,g,b,S,T,a,o),Object(u.o)(e,i.canvasTransform,r,n,i.originX,i.originY,i.drawImageW,i.drawImageH,i.drawImageX,i.drawImageY,i.scale)),!0}},{key:"fill_",value:function(e){if(this.alignFill_){var t=Object(s.a)(this.renderedTransform_,[0,0]),n=512*this.pixelRatio;e.save(),e.translate(t[0]%n,t[1]%n),e.rotate(this.viewRotation_)}e.fill(),this.alignFill_&&e.restore()}},{key:"setStrokeStyle_",value:function(e,t){e.strokeStyle=t[1],e.lineWidth=t[2],e.lineCap=t[3],e.lineJoin=t[4],e.miterLimit=t[5],e.setLineDash&&(e.lineDashOffset=t[7],e.setLineDash(t[6]))}},{key:"drawLabelWithPointPlacement_",value:function(e,t,n,i){var r=this.textStates[t],o=this.createLabel(e,t,i,n),s=this.strokeStates[n],l=this.pixelRatio,c=E(e,r.textAlign||u.m),h=a.a[r.textBaseline||u.n],d=s&&s.lineWidth?s.lineWidth:0;return{label:o,anchorX:c*(o.width/l-2*r.scale[0])+2*(.5-c)*d,anchorY:h*o.height/l+2*(.5-h)*d}}},{key:"execute_",value:function(e,t,n,i,o,c,d,v){var g;this.pixelCoordinates_&&Object(p.b)(n,this.renderedTransform_)?g=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),g=Object(h.c)(this.coordinates,0,this.coordinates.length,2,n,this.pixelCoordinates_),Object(s.j)(this.renderedTransform_,n));for(var y,_,b,S,T,x,E,C,k,M,O,A,R,I,L,P,D=0,N=i.length,j=0,F=0,U=0,G=null,V=null,B=this.coordinateCache_,z=this.viewRotation_,H=Math.round(1e12*Math.atan2(-n[1],n[0]))/1e12,X={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:z},q=this.instructions!=i||this.overlaps?0:200;D<N;){var W=i[D];switch(W[0]){case r.c.BEGIN_GEOMETRY:R=W[1],P=W[3],R.getGeometry()?void 0===d||Object(l.G)(d,P.getExtent())?++D:D=W[2]+1:D=W[2];break;case r.c.BEGIN_PATH:F>q&&(this.fill_(e),F=0),U>q&&(e.stroke(),U=0),F||U||(e.beginPath(),S=NaN,T=NaN),++D;break;case r.c.CIRCLE:var Y=g[j=W[1]],K=g[j+1],Z=g[j+2]-Y,J=g[j+3]-K,Q=Math.sqrt(Z*Z+J*J);e.moveTo(Y+Q,K),e.arc(Y,K,Q,0,2*Math.PI,!0),++D;break;case r.c.CLOSE_PATH:e.closePath(),++D;break;case r.c.CUSTOM:j=W[1],y=W[2];var $=W[4],ee=6==W.length?W[5]:void 0;X.geometry=W[3],X.feature=R,D in B||(B[D]=[]);var te=B[D];ee?ee(g,j,y,2,te):(te[0]=g[j],te[1]=g[j+1],te.length=2),$(te,X),++D;break;case r.c.DRAW_IMAGE:j=W[1],y=W[2],C=W[3],_=W[4],b=W[5];var ne=W[6],ie=W[7],re=W[8],ae=W[9],oe=W[10],se=W[11],le=W[12],ue=W[13],ce=W[14];if(!C&&W.length>=19){k=W[18],M=W[19],O=W[20],A=W[21];var he=this.drawLabelWithPointPlacement_(k,M,O,A);C=he.label,W[3]=C,_=(he.anchorX-W[22])*this.pixelRatio,W[4]=_,b=(he.anchorY-W[23])*this.pixelRatio,W[5]=b,ne=C.height,W[6]=ne,ue=C.width,W[13]=ue}var de=void 0,fe=void 0,pe=void 0,me=void 0;W.length>24&&(de=W[24]),W.length>16?(fe=W[15],pe=W[16],me=W[17]):(fe=u.k,pe=!1,me=!1),oe&&H?se+=z:oe||H||(se-=z);for(var ve=0;j<y;j+=2)if(!(de&&de[ve++]<ue/this.pixelRatio)){var ge=this.calculateImageOrLabelDimensions_(C.width,C.height,g[j],g[j+1],ue,ne,_,b,re,ae,se,le,o,fe,pe||me,R),ye=[e,t,C,ge,ie,pe?G:null,me?V:null],_e=void 0,be=void 0;if(v&&ce){if(!ce[j]){ce[j]=ye;continue}if(_e=ce[j],delete ce[j],be=w(_e),v.collides(be))continue}v&&v.collides(ge.declutterBox)||(_e&&(v&&v.insert(be),this.replayImageOrLabel_.apply(this,_e)),v&&v.insert(ge.declutterBox),this.replayImageOrLabel_.apply(this,ye))}++D;break;case r.c.DRAW_CHARS:var Se=W[1],Te=W[2],we=W[3],xe=W[4];A=W[5];var Ee=W[6],Ce=W[7],ke=W[8];O=W[9];var Me=W[10];k=W[11],M=W[12];var Oe=[W[13],W[13]],Ae=this.textStates[M],Re=Ae.font,Ie=[Ae.scale[0]*Ce,Ae.scale[1]*Ce],Le=void 0;Re in this.widths_?Le=this.widths_[Re]:(Le={},this.widths_[Re]=Le);var Pe=Object(m.a)(g,Se,Te,2),De=Math.abs(Ie[0])*Object(u.p)(Re,k,Le);if(xe||De<=Pe){var Ne=f(g,Se,Te,2,k,(Pe-De)*a.a[this.textStates[M].textAlign],Ee,Math.abs(Ie[0]),u.p,Re,Le,H?0:this.viewRotation_);e:if(Ne){var je=[],Fe=void 0,Ue=void 0,Ge=void 0,Ve=void 0,Be=void 0;if(O)for(Fe=0,Ue=Ne.length;Fe<Ue;++Fe){Ge=(Be=Ne[Fe])[4],Ve=this.createLabel(Ge,M,"",O),_=Be[2]+(Ie[0]<0?-Me:Me),b=we*Ve.height+2*(.5-we)*Me*Ie[1]/Ie[0]-ke;var ze=this.calculateImageOrLabelDimensions_(Ve.width,Ve.height,Be[0],Be[1],Ve.width,Ve.height,_,b,0,0,Be[3],Oe,!1,u.k,!1,R);if(v&&v.collides(ze.declutterBox))break e;je.push([e,t,Ve,ze,1,null,null])}if(A)for(Fe=0,Ue=Ne.length;Fe<Ue;++Fe){Ge=(Be=Ne[Fe])[4],Ve=this.createLabel(Ge,M,A,""),_=Be[2],b=we*Ve.height-ke;var He=this.calculateImageOrLabelDimensions_(Ve.width,Ve.height,Be[0],Be[1],Ve.width,Ve.height,_,b,0,0,Be[3],Oe,!1,u.k,!1,R);if(v&&v.collides(He.declutterBox))break e;je.push([e,t,Ve,He,1,null,null])}v&&v.load(je.map(w));for(var Xe=0,qe=je.length;Xe<qe;++Xe)this.replayImageOrLabel_.apply(this,je[Xe])}}++D;break;case r.c.END_GEOMETRY:if(void 0!==c){var We=c(R=W[1],P);if(We)return We}++D;break;case r.c.FILL:q?F++:this.fill_(e),++D;break;case r.c.MOVE_TO_LINE_TO:for(j=W[1],y=W[2],I=g[j],E=(L=g[j+1])+.5|0,(x=I+.5|0)===S&&E===T||(e.moveTo(I,L),S=x,T=E),j+=2;j<y;j+=2)x=(I=g[j])+.5|0,E=(L=g[j+1])+.5|0,j!=y-2&&x===S&&E===T||(e.lineTo(I,L),S=x,T=E);++D;break;case r.c.SET_FILL_STYLE:G=W,this.alignFill_=W[2],F&&(this.fill_(e),F=0,U&&(e.stroke(),U=0)),e.fillStyle=W[1],++D;break;case r.c.SET_STROKE_STYLE:V=W,U&&(e.stroke(),U=0),this.setStrokeStyle_(e,W),++D;break;case r.c.STROKE:q?U++:e.stroke(),++D;break;default:++D}}F&&this.fill_(e),U&&e.stroke()}},{key:"execute",value:function(e,t,n,i,r,a){this.viewRotation_=i,this.execute_(e,t,n,this.instructions,r,void 0,void 0,a)}},{key:"executeHitDetection",value:function(e,t,n,i,r){return this.viewRotation_=n,this.execute_(e,1,t,this.hitDetectionInstructions,!0,i,r)}}]),e}(),k=n("Cw4B"),M=n("Bpkx"),O=[i.a.POLYGON,i.a.CIRCLE,i.a.LINE_STRING,i.a.IMAGE,i.a.TEXT,i.a.DEFAULT],A={};t.a=function(){function e(t,n,i,r,a,o){_(this,e),this.maxExtent_=t,this.overlaps_=r,this.pixelRatio_=i,this.resolution_=n,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=Object(s.c)(),this.createExecutors_(a)}return y(e,[{key:"clip",value:function(e,t){var n=this.getClipCoords(t);e.beginPath(),e.moveTo(n[0],n[1]),e.lineTo(n[2],n[3]),e.lineTo(n[4],n[5]),e.lineTo(n[6],n[7]),e.clip()}},{key:"createExecutors_",value:function(e){for(var t in e){var n=this.executorsByZIndex_[t];void 0===n&&(n={},this.executorsByZIndex_[t]=n);var i=e[t],r=[this.renderBuffer_||0,this.renderBuffer_||0];for(var a in i)n[a]=new C(this.resolution_,this.pixelRatio_,this.overlaps_,i[a],r)}}},{key:"hasExecutors",value:function(e){for(var t in this.executorsByZIndex_)for(var n=this.executorsByZIndex_[t],i=0,r=e.length;i<r;++i)if(e[i]in n)return!0;return!1}},{key:"forEachFeatureAtCoordinate",value:function(e,t,n,r,a,o){var u=2*(r=Math.round(r))+1,c=Object(s.b)(this.hitDetectionTransform_,r+.5,r+.5,1/t,-1/t,-n,-e[0],-e[1]),h=!this.hitDetectionContext_;h&&(this.hitDetectionContext_=Object(k.a)(u,u));var f,m=this.hitDetectionContext_;m.canvas.width!==u||m.canvas.height!==u?(m.canvas.width=u,m.canvas.height=u):h||m.clearRect(0,0,u,u),void 0!==this.renderBuffer_&&(f=Object(l.k)(),Object(l.s)(f,e),Object(l.d)(f,t*(this.renderBuffer_+r),f));var v,g=function(e){if(void 0!==A[e])return A[e];for(var t=2*e+1,n=e*e,i=new Array(n+1),r=0;r<=e;++r)for(var a=0;a<=e;++a){var o=r*r+a*a;if(o>n)break;var s=i[o];s||(s=[],i[o]=s),s.push(4*((e+r)*t+(e+a))+3),r>0&&s.push(4*((e-r)*t+(e+a))+3),a>0&&(s.push(4*((e+r)*t+(e-a))+3),r>0&&s.push(4*((e-r)*t+(e-a))+3))}for(var l=[],u=0,c=i.length;u<c;++u)i[u]&&l.push.apply(l,d(i[u]));return A[e]=l,l}(r);function y(e,t){for(var n=m.getImageData(0,0,u,u).data,s=0,l=g.length;s<l;s++)if(n[g[s]]>0){if(!o||v!==i.a.IMAGE&&v!==i.a.TEXT||-1!==o.indexOf(e)){var c=(g[s]-3)/4,h=r-c%u,d=r-(c/u|0),f=a(e,t,h*h+d*d);if(f)return f}m.clearRect(0,0,u,u);break}}var _,b,S,T,w,x=Object.keys(this.executorsByZIndex_).map(Number);for(x.sort(p.i),_=x.length-1;_>=0;--_){var E=x[_].toString();for(S=this.executorsByZIndex_[E],b=O.length-1;b>=0;--b)if(void 0!==(T=S[v=O[b]])&&(w=T.executeHitDetection(m,c,n,y,f)))return w}}},{key:"getClipCoords",value:function(e){var t=this.maxExtent_;if(!t)return null;var n=t[0],i=t[1],r=t[2],a=t[3],o=[n,i,n,a,r,a,r,i];return Object(h.c)(o,0,8,2,e,o),o}},{key:"isEmpty",value:function(){return Object(M.d)(this.executorsByZIndex_)}},{key:"execute",value:function(e,t,n,i,r,a,o){var s=Object.keys(this.executorsByZIndex_).map(Number);s.sort(p.i),this.maxExtent_&&(e.save(),this.clip(e,n));var l,u,c,h,d,f,m=a||O;for(o&&s.reverse(),l=0,u=s.length;l<u;++l){var v=s[l].toString();for(d=this.executorsByZIndex_[v],c=0,h=m.length;c<h;++c)void 0!==(f=d[m[c]])&&f.execute(e,t,n,i,r,o)}this.maxExtent_&&e.restore()}}]),e}()},tFPJ:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"c",function(){return r}),n.d(t,"b",function(){return a});var i="undefined"!=typeof window&&null!=window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,r=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t!==n;){var r=t.nextSibling;e.insertBefore(t,i),t=r}},a=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t!==n;){var i=t.nextSibling;e.removeChild(t),t=i}}},tZnV:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a}),n("aBeY");var i=n("LV+m");function r(e,t,n){var r=n||6371008.8,a=Object(i.j)(e[1]),o=Object(i.j)(t[1]),s=(o-a)/2,l=Object(i.j)(t[0]-e[0])/2,u=Math.sin(s)*Math.sin(s)+Math.sin(l)*Math.sin(l)*Math.cos(a)*Math.cos(o);return 2*r*Math.atan2(Math.sqrt(u),Math.sqrt(1-u))}function a(e,t,n,r){var a=r||6371008.8,o=Object(i.j)(e[1]),s=Object(i.j)(e[0]),l=t/a,u=Math.asin(Math.sin(o)*Math.cos(l)+Math.cos(o)*Math.sin(l)*Math.cos(n)),c=s+Math.atan2(Math.sin(n)*Math.sin(l)*Math.cos(o),Math.cos(l)-Math.sin(o)*Math.sin(u));return[Object(i.i)(c),Object(i.i)(u)]}},tvip:function(e,t,n){"use strict";var i=n("bwl8"),r=n("G7/A"),a=n("2I+J"),o=n("n2w5"),s=n("hKKC"),l=n("Znq9"),u=n("6Xq6"),c=n("k/Gk"),h=Object(o.c)();t.a=function(e){b(n,e);var t=T(n);function n(){var e;return _(this,n),(e=t.call(this)).extent_=Object(s.k)(),e.extentRevision_=-1,e.simplifiedGeometryMaxMinSquaredTolerance=0,e.simplifiedGeometryRevision=0,e.simplifyTransformedInternal=Object(u.d)(function(e,t,n){if(!n)return this.getSimplifiedGeometry(t);var i=this.clone();return i.applyTransform(n),i.getSimplifiedGeometry(t)}),e}return y(n,[{key:"simplifyTransformed",value:function(e,t){return this.simplifyTransformedInternal(this.getRevision(),e,t)}},{key:"clone",value:function(){return Object(a.b)()}},{key:"closestPointXY",value:function(e,t,n,i){return Object(a.b)()}},{key:"containsXY",value:function(e,t){var n=this.getClosestPoint([e,t]);return n[0]===e&&n[1]===t}},{key:"getClosestPoint",value:function(e,t){var n=t||[NaN,NaN];return this.closestPointXY(e[0],e[1],n,1/0),n}},{key:"intersectsCoordinate",value:function(e){return this.containsXY(e[0],e[1])}},{key:"computeExtent",value:function(e){return Object(a.b)()}},{key:"getExtent",value:function(e){if(this.extentRevision_!=this.getRevision()){var t=this.computeExtent(this.extent_);(isNaN(t[0])||isNaN(t[1]))&&Object(s.m)(t),this.extentRevision_=this.getRevision()}return Object(s.J)(this.extent_,e)}},{key:"rotate",value:function(e,t){Object(a.b)()}},{key:"scale",value:function(e,t,n){Object(a.b)()}},{key:"simplify",value:function(e){return this.getSimplifiedGeometry(e*e)}},{key:"getSimplifiedGeometry",value:function(e){return Object(a.b)()}},{key:"getType",value:function(){return Object(a.b)()}},{key:"applyTransform",value:function(e){Object(a.b)()}},{key:"intersectsExtent",value:function(e){return Object(a.b)()}},{key:"translate",value:function(e,t){Object(a.b)()}},{key:"transform",value:function(e,t){var n=Object(l.i)(e),i=n.getUnits()==r.b.TILE_PIXELS?function(e,i,r){var a=n.getExtent(),u=n.getWorldExtent(),d=Object(s.B)(u)/Object(s.B)(a);return Object(o.b)(h,u[0],u[3],d,-d,0,0,0),Object(c.c)(e,0,e.length,r,h,i),Object(l.k)(n,t)(e,i,r)}:Object(l.k)(n,t);return this.applyTransform(i),this}}]),n}(i.a)},uJJw:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return h}),n.d(t,"c",function(){return f});var i=n("i3ci"),r=n("LV+m"),a=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,o=/^([a-z]*)$|^hsla?\(.*\)$/i;function s(e){return"string"==typeof e?e:f(e)}var l,u,c=(l={},u=0,function(e){var t;if(l.hasOwnProperty(e))t=l[e];else{if(u>=1024){var n=0;for(var r in l)0==(3&n++)&&(delete l[r],--u)}t=function(e){var t,n,r,s,l;if(o.exec(e)&&(e=function(e){var t=document.createElement("div");if(t.style.color=e,""!==t.style.color){document.body.appendChild(t);var n=getComputedStyle(t).color;return document.body.removeChild(t),n}return""}(e)),a.exec(e)){var u,c=e.length-1;u=c<=4?1:2;var h=4===c||8===c;t=parseInt(e.substr(1+0*u,u),16),n=parseInt(e.substr(1+1*u,u),16),r=parseInt(e.substr(1+2*u,u),16),s=h?parseInt(e.substr(1+3*u,u),16):255,1==u&&(t=(t<<4)+t,n=(n<<4)+n,r=(r<<4)+r,h&&(s=(s<<4)+s)),l=[t,n,r,s/255]}else 0==e.indexOf("rgba(")?d(l=e.slice(5,-1).split(",").map(Number)):0==e.indexOf("rgb(")?((l=e.slice(4,-1).split(",").map(Number)).push(1),d(l)):Object(i.a)(!1,14);return l}(e),l[e]=t,++u}return t});function h(e){return Array.isArray(e)?e:c(e)}function d(e){return e[0]=Object(r.a)(e[0]+.5|0,0,255),e[1]=Object(r.a)(e[1]+.5|0,0,255),e[2]=Object(r.a)(e[2]+.5|0,0,255),e[3]=Object(r.a)(e[3],0,1),e}function f(e){var t=e[0];t!=(0|t)&&(t=t+.5|0);var n=e[1];n!=(0|n)&&(n=n+.5|0);var i=e[2];return i!=(0|i)&&(i=i+.5|0),"rgba("+t+","+n+","+i+","+(void 0===e[3]?1:e[3])+")"}},uMsb:function(e,t,n){"use strict";var i=n("PhKu"),r=n("D1oO"),a=n("RuG3"),o=n("n2w5"),s=n("hKKC"),l=n("Cw4B"),u=n("4cD7");t.a=function(e){b(n,e);var t=T(n);function n(e){var i;return _(this,n),(i=t.call(this,e)).container=null,i.tempTransform=Object(o.c)(),i.pixelTransform=Object(o.c)(),i.inversePixelTransform=Object(o.c)(),i.context=null,i.containerReused=!1,i}return y(n,[{key:"useContainer",value:function(e,t,n){var i,r,a=this.getLayer().getClassName();if(e&&""===e.style.opacity&&e.className===a){var o=e.firstElementChild;o instanceof HTMLCanvasElement&&(r=o.getContext("2d"))}if(!r||0!==r.canvas.width&&r.canvas.style.transform!==t?this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1):(this.container=e,this.context=r,this.containerReused=!0),!this.container){(i=document.createElement("div")).className=a;var s=i.style;s.position="absolute",s.width="100%",s.height="100%";var u=(r=Object(l.a)()).canvas;i.appendChild(u),(s=u.style).position="absolute",s.left="0",s.transformOrigin="top left",this.container=i,this.context=r}}},{key:"clip",value:function(e,t,n){var i=t.pixelRatio,r=t.size[0]*i/2,a=t.size[1]*i/2,l=t.viewState.rotation,c=Object(s.D)(n),h=Object(s.E)(n),d=Object(s.x)(n),f=Object(s.w)(n);Object(o.a)(t.coordinateToPixelTransform,c),Object(o.a)(t.coordinateToPixelTransform,h),Object(o.a)(t.coordinateToPixelTransform,d),Object(o.a)(t.coordinateToPixelTransform,f),e.save(),Object(u.t)(e,-l,r,a),e.beginPath(),e.moveTo(c[0]*i,c[1]*i),e.lineTo(h[0]*i,h[1]*i),e.lineTo(d[0]*i,d[1]*i),e.lineTo(f[0]*i,f[1]*i),e.clip(),Object(u.t)(e,l,r,a)}},{key:"clipUnrotated",value:function(e,t,n){var i=Object(s.D)(n),r=Object(s.E)(n),a=Object(s.x)(n),l=Object(s.w)(n);Object(o.a)(t.coordinateToPixelTransform,i),Object(o.a)(t.coordinateToPixelTransform,r),Object(o.a)(t.coordinateToPixelTransform,a),Object(o.a)(t.coordinateToPixelTransform,l);var u=this.inversePixelTransform;Object(o.a)(u,i),Object(o.a)(u,r),Object(o.a)(u,a),Object(o.a)(u,l),e.save(),e.beginPath(),e.moveTo(Math.round(i[0]),Math.round(i[1])),e.lineTo(Math.round(r[0]),Math.round(r[1])),e.lineTo(Math.round(a[0]),Math.round(a[1])),e.lineTo(Math.round(l[0]),Math.round(l[1])),e.clip()}},{key:"dispatchRenderEvent_",value:function(e,t,n){var i=this.getLayer();if(i.hasListener(e)){var a=new r.a(e,this.inversePixelTransform,n,t);i.dispatchEvent(a)}}},{key:"preRender",value:function(e,t){this.dispatchRenderEvent_(a.a.PRERENDER,e,t)}},{key:"postRender",value:function(e,t){this.dispatchRenderEvent_(a.a.POSTRENDER,e,t)}},{key:"getRenderTransform",value:function(e,t,n,i,r,a,s){var l=r/2,u=a/2,c=i/t,h=-c,d=-e[0]+s,f=-e[1];return Object(o.b)(this.tempTransform,l,u,c,h,-n,d,f)}},{key:"getDataAtPixel",value:function(e,t,n){var i,r=Object(o.a)(this.inversePixelTransform,e.slice()),a=this.context,l=this.getLayer().getExtent();if(l){var u=Object(o.a)(t.pixelToCoordinateTransform,e.slice());if(!Object(s.g)(l,u))return null}try{var c=Math.round(r[0]),h=Math.round(r[1]),d=document.createElement("canvas"),f=d.getContext("2d");d.width=1,d.height=1,f.clearRect(0,0,1,1),f.drawImage(a.canvas,c,h,1,1,0,0,1,1),i=f.getImageData(0,0,1,1).data}catch(p){return"SecurityError"===p.name?new Uint8Array:i}return 0===i[3]?null:i}}]),n}(i.a)},v7Mh:function(e,t,n){"use strict";var i=n("2I+J"),r=function(e){b(n,e);var t=T(n);function n(e){var r;_(this,n);var a="Assertion failed. See https://openlayers.org/en/"+("latest"===i.a?i.a:"v"+i.a.split("-")[0])+"/doc/errors/#"+e+" for details.";return(r=t.call(this,a)).code=e,r.name="AssertionError",r.message=a,r}return n}(u(Error));t.a=r},vkgz:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("7o/Q");function r(){}var a=n("n6bG");function o(e,t,n){return function(i){return i.lift(new s(e,t,n))}}var s=function(){function e(t,n,i){_(this,e),this.nextOrObserver=t,this.error=n,this.complete=i}return y(e,[{key:"call",value:function(e,t){return t.subscribe(new l(e,this.nextOrObserver,this.error,this.complete))}}]),e}(),l=function(e){b(n,e);var t=T(n);function n(e,i,o,s){var l;return _(this,n),(l=t.call(this,e))._tapNext=r,l._tapError=r,l._tapComplete=r,l._tapError=o||r,l._tapComplete=s||r,Object(a.a)(i)?(l._context=x(l),l._tapNext=i):i&&(l._context=i,l._tapNext=i.next||r,l._tapError=i.error||r,l._tapComplete=i.complete||r),l}return y(n,[{key:"_next",value:function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}},{key:"_error",value:function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}]),n}(i.a)},w1tV:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i=n("EQ5u"),r=n("x+ZX"),a=n("XNiG");function o(){return new a.a}function s(){return function(e){return Object(r.a)()((t=o,function(e){var n;n="function"==typeof t?t:function(){return t};var r=Object.create(e,i.b);return r.source=e,r.subjectFactory=n,r})(e));var t}}},wEYg:function(e,t,n){"use strict";var i=n("aBeY"),r=n("AjuZ"),a=n("hKKC"),o=n("VvGk"),s=n("LV+m"),l=function(e){b(n,e);var t=T(n);function n(e,i){var r;return _(this,n),(r=t.call(this)).setCoordinates(e,i),r}return y(n,[{key:"clone",value:function(){var e=new n(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}},{key:"closestPointXY",value:function(e,t,n,i){var r=this.flatCoordinates,a=Object(s.g)(e,t,r[0],r[1]);if(a<i){for(var o=this.stride,l=0;l<o;++l)n[l]=r[l];return n.length=o,a}return i}},{key:"getCoordinates",value:function(){return this.flatCoordinates?this.flatCoordinates.slice():[]}},{key:"computeExtent",value:function(e){return Object(a.n)(this.flatCoordinates,e)}},{key:"getType",value:function(){return i.a.POINT}},{key:"intersectsExtent",value:function(e){return Object(a.i)(e,this.flatCoordinates[0],this.flatCoordinates[1])}},{key:"setCoordinates",value:function(e,t){this.setLayout(t,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(o.a)(this.flatCoordinates,0,e,this.stride),this.changed()}}]),n}(r.a);t.a=l},wRPv:function(e,t,n){"use strict";t.a={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"}},wgT7:function(e,t,n){var i,r;void 0===(r="function"==typeof(i=function(){return{OWS_2_0:{n:"OWS_2_0",dens:"http://www.opengis.net/ows/2.0",dans:"http://www.w3.org/1999/xlink",deps:["XLink_1_0"],tis:[{ln:"GetResourceByIdType",ps:[{n:"resourceID",mno:0,col:!0,en:"ResourceID"},{n:"outputFormat",en:"OutputFormat"},{n:"service",rq:!0,an:{lp:"service"},t:"a"},{n:"version",rq:!0,an:{lp:"version"},t:"a"}]},{ln:"DCP",tn:null,ps:[{n:"http",rq:!0,en:"HTTP",ti:".HTTP"}]},{ln:"DomainMetadataType",ps:[{n:"value",t:"v"},{n:"reference",an:{lp:"reference",ns:"http://www.opengis.net/ows/2.0"},t:"a"}]},{ln:"SectionsType",ps:[{n:"section",mno:0,col:!0,en:"Section"}]},{ln:"CapabilitiesBaseType",ps:[{n:"serviceIdentification",en:"ServiceIdentification",ti:".ServiceIdentification"},{n:"serviceProvider",en:"ServiceProvider",ti:".ServiceProvider"},{n:"operationsMetadata",en:"OperationsMetadata",ti:".OperationsMetadata"},{n:"languages",en:"Languages",ti:".CapabilitiesBaseType.Languages"},{n:"version",rq:!0,an:{lp:"version"},t:"a"},{n:"updateSequence",an:{lp:"updateSequence"},t:"a"}]},{ln:"BasicIdentificationType",bti:".DescriptionType",ps:[{n:"identifier",en:"Identifier",ti:".CodeType"},{n:"metadata",mno:0,col:!0,mx:!1,dom:!1,en:"Metadata",ti:".MetadataType",t:"er"}]},{ln:"RangeType",ps:[{n:"minimumValue",en:"MinimumValue",ti:".ValueType"},{n:"maximumValue",en:"MaximumValue",ti:".ValueType"},{n:"spacing",en:"Spacing",ti:".ValueType"},{n:"rangeClosure",ti:{t:"l"},an:{lp:"rangeClosure",ns:"http://www.opengis.net/ows/2.0"},t:"a"}]},{ln:"ServiceProvider",tn:null,ps:[{n:"providerName",rq:!0,en:"ProviderName"},{n:"providerSite",en:"ProviderSite",ti:".OnlineResourceType"},{n:"serviceContact",rq:!0,en:"ServiceContact",ti:".ResponsiblePartySubsetType"}]},{ln:"AcceptFormatsType",ps:[{n:"outputFormat",mno:0,col:!0,en:"OutputFormat"}]},{ln:"MetadataType",ps:[{n:"abstractMetaData",mx:!1,dom:!1,en:"AbstractMetaData",ti:"AnyType",t:"er"},{n:"about",an:{lp:"about"},t:"a"},{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"ReferenceGroupType",bti:".BasicIdentificationType",ps:[{n:"abstractReferenceBase",rq:!0,col:!0,mx:!1,dom:!1,en:"AbstractReferenceBase",ti:".AbstractReferenceBaseType",t:"er"}]},{ln:"ValuesReference",tn:null,ps:[{n:"value",t:"v"},{n:"reference",rq:!0,an:{lp:"reference",ns:"http://www.opengis.net/ows/2.0"},t:"a"}]},{ln:"AdditionalParametersBaseType",bti:".MetadataType"},{ln:"ResponsiblePartySubsetType",ps:[{n:"individualName",en:"IndividualName"},{n:"positionName",en:"PositionName"},{n:"contactInfo",en:"ContactInfo",ti:".ContactType"},{n:"role",en:"Role",ti:".CodeType"}]},{ln:"NoValues",tn:null},{ln:"AnyValue",tn:null},{ln:"CodeType",ps:[{n:"value",t:"v"},{n:"codeSpace",an:{lp:"codeSpace"},t:"a"}]},{ln:"IdentificationType",bti:".BasicIdentificationType",ps:[{n:"boundingBox",mno:0,col:!0,mx:!1,dom:!1,en:"BoundingBox",ti:".BoundingBoxType",t:"er"},{n:"outputFormat",mno:0,col:!0,en:"OutputFormat"},{n:"availableCRS",mno:0,col:!0,mx:!1,dom:!1,en:"AvailableCRS",t:"er"}]},{ln:"UnNamedDomainType",ps:[{n:"allowedValues",rq:!0,en:"AllowedValues",ti:".AllowedValues"},{n:"anyValue",rq:!0,en:"AnyValue",ti:".AnyValue"},{n:"noValues",rq:!0,en:"NoValues",ti:".NoValues"},{n:"valuesReference",rq:!0,en:"ValuesReference",ti:".ValuesReference"},{n:"defaultValue",en:"DefaultValue",ti:".ValueType"},{n:"meaning",en:"Meaning",ti:".DomainMetadataType"},{n:"dataType",en:"DataType",ti:".DomainMetadataType"},{n:"uom",rq:!0,en:"UOM",ti:".DomainMetadataType"},{n:"referenceSystem",rq:!0,en:"ReferenceSystem",ti:".DomainMetadataType"},{n:"metadata",mno:0,col:!0,mx:!1,dom:!1,en:"Metadata",ti:".MetadataType",t:"er"}]},{ln:"ServiceReferenceType",bti:".ReferenceType",ps:[{n:"requestMessage",rq:!0,en:"RequestMessage",ti:"AnyType"},{n:"requestMessageReference",rq:!0,en:"RequestMessageReference"}]},{ln:"ReferenceType",bti:".AbstractReferenceBaseType",ps:[{n:"identifier",en:"Identifier",ti:".CodeType"},{n:"_abstract",mno:0,col:!0,en:"Abstract",ti:".LanguageStringType"},{n:"format",en:"Format"},{n:"metadata",mno:0,col:!0,mx:!1,dom:!1,en:"Metadata",ti:".MetadataType",t:"er"}]},{ln:"ManifestType",bti:".BasicIdentificationType",ps:[{n:"referenceGroup",rq:!0,col:!0,en:"ReferenceGroup",ti:".ReferenceGroupType"}]},{ln:"TelephoneType",ps:[{n:"voice",mno:0,col:!0,en:"Voice"},{n:"facsimile",mno:0,col:!0,en:"Facsimile"}]},{ln:"ContactType",ps:[{n:"phone",en:"Phone",ti:".TelephoneType"},{n:"address",en:"Address",ti:".AddressType"},{n:"onlineResource",en:"OnlineResource",ti:".OnlineResourceType"},{n:"hoursOfService",en:"HoursOfService"},{n:"contactInstructions",en:"ContactInstructions"}]},{ln:"ExceptionReport",tn:null,ps:[{n:"exception",rq:!0,col:!0,en:"Exception",ti:".ExceptionType"},{n:"version",rq:!0,an:{lp:"version"},t:"a"},{n:"lang",an:{lp:"lang",ns:"http://www.w3.org/XML/1998/namespace"},t:"a"}]},{ln:"OperationsMetadata",tn:null,ps:[{n:"operation",rq:!0,mno:2,col:!0,en:"Operation",ti:".Operation"},{n:"parameter",mno:0,col:!0,en:"Parameter",ti:".DomainType"},{n:"constraint",mno:0,col:!0,en:"Constraint",ti:".DomainType"},{n:"extendedCapabilities",en:"ExtendedCapabilities",ti:"AnyType"}]},{ln:"WGS84BoundingBoxType",bti:".BoundingBoxType"},{ln:"ValueType",ps:[{n:"value",t:"v"}]},{ln:"AddressType",ps:[{n:"deliveryPoint",mno:0,col:!0,en:"DeliveryPoint"},{n:"city",en:"City"},{n:"administrativeArea",en:"AdministrativeArea"},{n:"postalCode",en:"PostalCode"},{n:"country",en:"Country"},{n:"electronicMailAddress",mno:0,col:!0,en:"ElectronicMailAddress"}]},{ln:"GetCapabilitiesType",ps:[{n:"acceptVersions",en:"AcceptVersions",ti:".AcceptVersionsType"},{n:"sections",en:"Sections",ti:".SectionsType"},{n:"acceptFormats",en:"AcceptFormats",ti:".AcceptFormatsType"},{n:"acceptLanguages",en:"AcceptLanguages",ti:".GetCapabilitiesType.AcceptLanguages"},{n:"updateSequence",an:{lp:"updateSequence"},t:"a"}]},{ln:"AcceptVersionsType",ps:[{n:"version",rq:!0,col:!0,en:"Version"}]},{ln:"AdditionalParametersType",bti:".AdditionalParametersBaseType"},{ln:"NilValueType",bti:".CodeType",ps:[{n:"nilReason",an:{lp:"nilReason"},t:"a"}]},{ln:"ExceptionType",ps:[{n:"exceptionText",mno:0,col:!0,en:"ExceptionText"},{n:"exceptionCode",rq:!0,an:{lp:"exceptionCode"},t:"a"},{n:"locator",an:{lp:"locator"},t:"a"}]},{ln:"BoundingBoxType",ps:[{n:"lowerCorner",rq:!0,en:"LowerCorner",ti:{t:"l",bti:"Double"}},{n:"upperCorner",rq:!0,en:"UpperCorner",ti:{t:"l",bti:"Double"}},{n:"crs",an:{lp:"crs"},t:"a"},{n:"dimensions",ti:"PositiveInteger",an:{lp:"dimensions"},t:"a"}]},{ln:"DomainType",bti:".UnNamedDomainType",ps:[{n:"name",rq:!0,an:{lp:"name"},t:"a"}]},{ln:"KeywordsType",ps:[{n:"keyword",rq:!0,col:!0,en:"Keyword",ti:".LanguageStringType"},{n:"type",en:"Type",ti:".CodeType"}]},{ln:"DescriptionType",ps:[{n:"title",mno:0,col:!0,en:"Title",ti:".LanguageStringType"},{n:"_abstract",mno:0,col:!0,en:"Abstract",ti:".LanguageStringType"},{n:"keywords",mno:0,col:!0,en:"Keywords",ti:".KeywordsType"}]},{ln:"Operation",tn:null,ps:[{n:"dcp",rq:!0,col:!0,en:"DCP",ti:".DCP"},{n:"parameter",mno:0,col:!0,en:"Parameter",ti:".DomainType"},{n:"constraint",mno:0,col:!0,en:"Constraint",ti:".DomainType"},{n:"metadata",mno:0,col:!0,mx:!1,dom:!1,en:"Metadata",ti:".MetadataType",t:"er"},{n:"name",rq:!0,an:{lp:"name"},t:"a"}]},{ln:"ContentsBaseType",ps:[{n:"datasetDescriptionSummary",mno:0,col:!0,en:"DatasetDescriptionSummary",ti:".DatasetDescriptionSummaryBaseType"},{n:"otherSource",mno:0,col:!0,en:"OtherSource",ti:".MetadataType"}]},{ln:"ServiceIdentification",tn:null,bti:".DescriptionType",ps:[{n:"serviceType",rq:!0,en:"ServiceType",ti:".CodeType"},{n:"serviceTypeVersion",rq:!0,col:!0,en:"ServiceTypeVersion"},{n:"profile",mno:0,col:!0,en:"Profile"},{n:"fees",en:"Fees"},{n:"accessConstraints",mno:0,col:!0,en:"AccessConstraints"}]},{ln:"ResponsiblePartyType",ps:[{n:"individualName",en:"IndividualName"},{n:"organisationName",en:"OrganisationName"},{n:"positionName",en:"PositionName"},{n:"contactInfo",en:"ContactInfo",ti:".ContactType"},{n:"role",rq:!0,en:"Role",ti:".CodeType"}]},{ln:"DatasetDescriptionSummaryBaseType",bti:".DescriptionType",ps:[{n:"wgs84BoundingBox",mno:0,col:!0,en:"WGS84BoundingBox",ti:".WGS84BoundingBoxType"},{n:"identifier",rq:!0,en:"Identifier",ti:".CodeType"},{n:"boundingBox",mno:0,col:!0,mx:!1,dom:!1,en:"BoundingBox",ti:".BoundingBoxType",t:"er"},{n:"metadata",mno:0,col:!0,mx:!1,dom:!1,en:"Metadata",ti:".MetadataType",t:"er"},{n:"datasetDescriptionSummary",mno:0,col:!0,en:"DatasetDescriptionSummary",ti:".DatasetDescriptionSummaryBaseType"}]},{ln:"RequestMethodType",bti:".OnlineResourceType",ps:[{n:"constraint",mno:0,col:!0,en:"Constraint",ti:".DomainType"}]},{ln:"LanguageStringType",ps:[{n:"value",t:"v"},{n:"lang",an:{lp:"lang",ns:"http://www.w3.org/XML/1998/namespace"},t:"a"}]},{ln:"AllowedValues",tn:null,ps:[{n:"valueOrRange",rq:!0,col:!0,etis:[{en:"Value",ti:".ValueType"},{en:"Range",ti:".RangeType"}],t:"es"}]},{ln:"GetCapabilitiesType.AcceptLanguages",tn:null,ps:[{n:"language",rq:!0,col:!0,en:"Language",ti:"Language"}]},{ln:"OnlineResourceType",ps:[{n:"type",ti:"XLink_1_0.TypeType",t:"a"},{n:"href",t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"CapabilitiesBaseType.Languages",tn:null,ps:[{n:"language",rq:!0,col:!0,en:"Language",ti:"Language"}]},{ln:"HTTP",tn:null,ps:[{n:"getOrPost",rq:!0,col:!0,mx:!1,dom:!1,etis:[{en:"Post",ti:".RequestMethodType"},{en:"Get",ti:".RequestMethodType"}],t:"ers"}]},{ln:"AbstractReferenceBaseType",ps:[{n:"type",an:{lp:"type",ns:"http://www.opengis.net/ows/2.0"},t:"a"},{n:"href",rq:!0,t:"a"},{n:"role",t:"a"},{n:"arcrole",t:"a"},{n:"title",t:"a"},{n:"show",ti:"XLink_1_0.ShowType",t:"a"},{n:"actuate",ti:"XLink_1_0.ActuateType",t:"a"}]},{ln:"AdditionalParameter",tn:null,ps:[{n:"name",rq:!0,en:"Name",ti:".CodeType"},{n:"value",rq:!0,col:!0,en:"Value",ti:"AnyType"}]}],eis:[{en:"Operation",ti:".Operation"},{en:"OtherSource",ti:".MetadataType"},{en:"AdditionalParameter",ti:".AdditionalParameter",sh:"AbstractMetaData"},{en:"AdditionalParameters",ti:".AdditionalParametersType",sh:"Metadata"},{en:"NoValues",ti:".NoValues"},{en:"ServiceReference",ti:".ServiceReferenceType",sh:"Reference"},{en:"MinimumValue",ti:".ValueType"},{en:"AbstractReferenceBase",ti:".AbstractReferenceBaseType"},{en:"Metadata",ti:".MetadataType"},{en:"GetResourceByID",ti:".GetResourceByIdType"},{en:"AbstractMetaData",ti:"AnyType"},{en:"Abstract",ti:".LanguageStringType"},{en:"OperationsMetadata",ti:".OperationsMetadata"},{en:"DatasetDescriptionSummary",ti:".DatasetDescriptionSummaryBaseType"},{en:"AvailableCRS"},{en:"GetCapabilities",ti:".GetCapabilitiesType"},{en:"OrganisationName"},{en:"ContactInfo",ti:".ContactType"},{en:"Manifest",ti:".ManifestType"},{en:"PointOfContact",ti:".ResponsiblePartyType"},{en:"DefaultValue",ti:".ValueType"},{en:"HTTP",ti:".HTTP"},{en:"Exception",ti:".ExceptionType"},{en:"ExtendedCapabilities",ti:"AnyType"},{en:"AnyValue",ti:".AnyValue"},{en:"Spacing",ti:".ValueType"},{en:"Resource",ti:"AnyType"},{en:"OperationResponse",ti:".ManifestType"},{en:"DataType",ti:".DomainMetadataType"},{en:"Identifier",ti:".CodeType"},{en:"nilValue",ti:".NilValueType"},{en:"Language",ti:"Language"},{en:"AllowedValues",ti:".AllowedValues"},{en:"Post",ti:".RequestMethodType",sc:".HTTP"},{en:"SupportedCRS",sh:"AvailableCRS"},{en:"Role",ti:".CodeType"},{en:"ReferenceGroup",ti:".ReferenceGroupType"},{en:"Meaning",ti:".DomainMetadataType"},{en:"Value",ti:".ValueType"},{en:"DCP",ti:".DCP"},{en:"Range",ti:".RangeType"},{en:"Fees"},{en:"InputData",ti:".ManifestType"},{en:"OutputFormat"},{en:"AccessConstraints"},{en:"ServiceProvider",ti:".ServiceProvider"},{en:"UOM",ti:".DomainMetadataType"},{en:"IndividualName"},{en:"Title",ti:".LanguageStringType"},{en:"MaximumValue",ti:".ValueType"},{en:"ValuesReference",ti:".ValuesReference"},{en:"ReferenceSystem",ti:".DomainMetadataType"},{en:"PositionName"},{en:"Keywords",ti:".KeywordsType"},{en:"WGS84BoundingBox",ti:".WGS84BoundingBoxType",sh:"BoundingBox"},{en:"BoundingBox",ti:".BoundingBoxType"},{en:"Reference",ti:".ReferenceType",sh:"AbstractReferenceBase"},{en:"ServiceIdentification",ti:".ServiceIdentification"},{en:"Get",ti:".RequestMethodType",sc:".HTTP"},{en:"ExceptionReport",ti:".ExceptionReport"}]}}})?i.apply(t,[]):i)||(e.exports=r)},wmha:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s});var i=n("tFPJ"),r=n("XI78"),a=n("PqmH"),o=new WeakMap,s=function(e,t,n){var s=o.get(t);void 0===s&&(Object(i.b)(t,t.firstChild),o.set(t,s=new r.d(Object.assign({templateFactory:a.b},n))),s.appendInto(t)),s.setValue(e),s.commit()}},wuBr:function(e,t,n){"use strict";var i=n("7MqJ"),r=n("r0tu");t.a=function(e){b(n,e);var t=T(n);function n(e){_(this,n);var i=e||{},a=void 0!==i.projection?i.projection:"EPSG:3857",o=void 0!==i.tileGrid?i.tileGrid:Object(r.b)({extent:Object(r.c)(a),maxResolution:i.maxResolution,maxZoom:i.maxZoom,minZoom:i.minZoom,tileSize:i.tileSize});return t.call(this,{attributions:i.attributions,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,imageSmoothing:i.imageSmoothing,opaque:i.opaque,projection:a,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileGrid:o,tileLoadFunction:i.tileLoadFunction,tilePixelRatio:i.tilePixelRatio,tileUrlFunction:i.tileUrlFunction,url:i.url,urls:i.urls,wrapX:void 0===i.wrapX||i.wrapX,transition:i.transition,attributionsCollapsible:i.attributionsCollapsible,zDirection:i.zDirection})}return n}(i.a)},"x+ZX":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("7o/Q");function r(){return function(e){return e.lift(new a(e))}}var a=function(){function e(t){_(this,e),this.connectable=t}return y(e,[{key:"call",value:function(e,t){var n=this.connectable;n._refCount++;var i=new o(e,n),r=t.subscribe(i);return i.closed||(i.connection=n.connect()),r}}]),e}(),o=function(e){b(n,e);var t=T(n);function n(e,i){var r;return _(this,n),(r=t.call(this,e)).connectable=i,r}return y(n,[{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,i=e._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}else this.connection=null}}]),n}(i.a)},xXok:function(e,t,n){"use strict";t.a={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"}},xbPD:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("7o/Q");function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){return t.lift(new a(e))}}var a=function(){function e(t){_(this,e),this.defaultValue=t}return y(e,[{key:"call",value:function(e,t){return t.subscribe(new o(e,this.defaultValue))}}]),e}(),o=function(e){b(n,e);var t=T(n);function n(e,i){var r;return _(this,n),(r=t.call(this,e)).defaultValue=i,r.isEmpty=!0,r}return y(n,[{key:"_next",value:function(e){this.isEmpty=!1,this.destination.next(e)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(i.a)},xdTZ:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return l});var i=n("Qz9N"),r=(n("FRHD"),n("n2w5")),a=n("lQ2a"),o=n("Znq9");function s(e){var t,n=e.frameState,s=Object(r.f)(e.inversePixelTransform.slice(),n.coordinateToPixelTransform),l=Object(a.b)(n.viewState.resolution,n.pixelRatio),u=Object(o.m)();return u&&(t=Object(o.l)(u,n.viewState.projection)),new i.a(e.context,n.pixelRatio,n.extent,s,n.viewState.rotation,l,t)}function l(e,t){var n=t.slice(0);return Object(r.a)(e.inversePixelTransform.slice(),n),n}},xgIS:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i=n("HDdC"),r=n("DH7j"),a=n("n6bG"),o=n("lJxs");function s(e,t,n,u){return Object(a.a)(n)&&(u=n,n=void 0),u?s(e,t,n).pipe(Object(o.a)(function(e){return Object(r.a)(e)?u.apply(void 0,d(e)):u(e)})):new i.a(function(i){l(e,t,function(e){i.next(arguments.length>1?Array.prototype.slice.call(arguments):e)},i,n)})}function l(e,t,n,i,r){var a;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){var o=e;e.addEventListener(t,n,r),a=function(){return o.removeEventListener(t,n,r)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){var s=e;e.on(t,n),a=function(){return s.off(t,n)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e)){var u=e;e.addListener(t,n),a=function(){return u.removeListener(t,n)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var c=0,h=e.length;c<h;c++)l(e[c],t,n,i,r)}i.add(a)}},xrpK:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return s}),n.d(t,"e",function(){return l}),n.d(t,"f",function(){return u}),n.d(t,"g",function(){return c}),n.d(t,"h",function(){return h}),n.d(t,"i",function(){return d}),n.d(t,"j",function(){return f}),n.d(t,"k",function(){return p});var i=n("jVi3");function r(e){return a(Object(i.d)(e,!1))}function a(e){var t=/^\s*(true|1)|(false|0)\s*$/.exec(e);return t?void 0!==t[1]||!1:void 0}function o(e){return s(Object(i.d)(e,!1))}function s(e){var t=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(e);return t?parseFloat(t[1]):void 0}function l(e){return u(Object(i.d)(e,!1))}function u(e){var t=/^\s*(\d+)\s*$/.exec(e);return t?parseInt(t[1],10):void 0}function c(e){return Object(i.d)(e,!1).trim()}function h(e,t){p(e,t?"1":"0")}function d(e,t){e.appendChild(Object(i.e)().createCDATASection(t))}function f(e,t){var n=t.toPrecision();e.appendChild(Object(i.e)().createTextNode(n))}function p(e,t){e.appendChild(Object(i.e)().createTextNode(t))}n("j5yL")},y5Nx:function(e,t,n){"use strict";var i=n("U1NS");t.a=function(e){b(n,e);var t=T(n);function n(e){return _(this,n),t.call(this,e||{})}return n}(i.a)},yCtX:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("HDdC"),r=n("ngJS"),a=n("jZKg");function o(e,t){return t?Object(a.a)(e,t):new i.a(Object(r.a)(e))}},"z+Ro":function(e,t,n){"use strict";function i(e){return e&&"function"==typeof e.schedule}n.d(t,"a",function(){return i})},zJp8:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("uJJw");function r(e){return Array.isArray(e)?Object(i.c)(e):e}},zP0r:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("7o/Q");function r(e){return function(t){return t.lift(new a(e))}}var a=function(){function e(t){_(this,e),this.total=t}return y(e,[{key:"call",value:function(e,t){return t.subscribe(new o(e,this.total))}}]),e}(),o=function(e){b(n,e);var t=T(n);function n(e,i){var r;return _(this,n),(r=t.call(this,e)).total=i,r.count=0,r}return y(n,[{key:"_next",value:function(e){++this.count>this.total&&this.destination.next(e)}}]),n}(i.a)},zmPu:function(e,t,n){"use strict";var i=n("U1NS"),r=n("JaUx"),a=n.n(r),o=n("Bpkx"),s=n("sOX2");t.a=function(e){b(n,e);var t=T(n);function n(e){var i;_(this,n);var r=e||{},a=Object(o.a)({},r);return delete a.style,delete a.renderBuffer,delete a.updateWhileAnimating,delete a.updateWhileInteracting,(i=t.call(this,a)).declutter_=void 0!==r.declutter&&r.declutter,i.renderBuffer_=void 0!==r.renderBuffer?r.renderBuffer:100,i.style_=null,i.styleFunction_=void 0,i.setStyle(r.style),i.updateWhileAnimating_=void 0!==r.updateWhileAnimating&&r.updateWhileAnimating,i.updateWhileInteracting_=void 0!==r.updateWhileInteracting&&r.updateWhileInteracting,i}return y(n,[{key:"getDeclutter",value:function(){return this.declutter_}},{key:"getFeatures",value:function(e){return v(C(n.prototype),"getFeatures",this).call(this,e)}},{key:"getRenderBuffer",value:function(){return this.renderBuffer_}},{key:"getRenderOrder",value:function(){return this.get("renderOrder")}},{key:"getStyle",value:function(){return this.style_}},{key:"getStyleFunction",value:function(){return this.styleFunction_}},{key:"getUpdateWhileAnimating",value:function(){return this.updateWhileAnimating_}},{key:"getUpdateWhileInteracting",value:function(){return this.updateWhileInteracting_}},{key:"renderDeclutter",value:function(e){e.declutterTree||(e.declutterTree=new a.a(9)),this.getRenderer().renderDeclutter(e)}},{key:"setRenderOrder",value:function(e){this.set("renderOrder",e)}},{key:"setStyle",value:function(e){this.style_=void 0!==e?e:s.a,this.styleFunction_=null===e?void 0:Object(s.c)(this.style_),this.changed()}}]),n}(i.a)},zx2A:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return l});var i=n("7o/Q"),r=n("HDdC"),a=n("SeVD"),o=function(e){b(n,e);var t=T(n);function n(e){var i;return _(this,n),(i=t.call(this)).parent=e,i}return y(n,[{key:"_next",value:function(e){this.parent.notifyNext(e)}},{key:"_error",value:function(e){this.parent.notifyError(e),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(),this.unsubscribe()}}]),n}(i.a),s=function(e){b(n,e);var t=T(n);function n(){return _(this,n),t.apply(this,arguments)}return y(n,[{key:"notifyNext",value:function(e){this.destination.next(e)}},{key:"notifyError",value:function(e){this.destination.error(e)}},{key:"notifyComplete",value:function(){this.destination.complete()}}]),n}(i.a);function l(e,t){if(!t.closed){if(e instanceof r.a)return e.subscribe(t);var n;try{n=Object(a.a)(e)(t)}catch(i){t.error(i)}return n}}}}])}();